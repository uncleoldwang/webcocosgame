window.__require=function e(t,n,o){function i(r,s){if(!n[r]){if(!t[r]){var l=r.split("/");if(l=l[l.length-1],!t[l]){var c="function"==typeof __require&&__require;if(!s&&c)return c(l,!0);if(a)return a(l,!0);throw new Error("Cannot find module '"+r+"'")}r=l}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){return i(t[r][1][e]||e)},u,u.exports,e,t,n,o)}return n[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<o.length;r++)i(o[r]);return i}({AccountFreezePanel:[function(e,t,n){"use strict";cc._RF.push(t,"2bfdfB9Ac9KkrrSCT8P+ax8","AccountFreezePanel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../../configs/CommonAudioConfig"),l=e("../../../configs/CommonPanelConfig"),c=(e("../../../ffframework/webview/WebViewWrapper"),r(e("../../../framework/components/dialogstyle/MoveStyleDialogPanelV2"))),u=e("../../../framework/gg"),p=e("../../../framework/i18n/I18n"),h=e("../../../framework/utils/TimeUtils"),d=e("../../../systems/api/gameapi/GameApi"),f=e("../../../systems/feedback/FeedbackSystem"),g=e("../../../systems/remoteconfig/RemoteConfigModel"),m=e("../../../systems/remoteconfig/RemoteConfigSystem"),y=cc._decorator,_=y.ccclass,v=y.property,b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lab=null,t.feedbackBtn=null,t.feedbackConfig=null,t}return i(t,e),t.prototype.show=function(e){this._playShowAnim(function(){e.onShowed()}),this.initData(),this.getCancellationInfo()},t.prototype.hide=function(e){this._playHideAnim(function(){e.onHided()})},t.prototype.initData=function(){this.feedbackBtn.active=!1,this.feedbackConfig=m.remoteConfigSystem.getConfig(g.RemoteCoinfigType.Feedback),this.feedbackConfig&&this.feedbackConfig.enable&&(this.feedbackBtn.active=!0)},t.prototype.onCloseBtnClick=function(){u.gg.panelRouter.hide({panel:l.CommonPanelConfig.accountFreezePanel}),u.gg.audio.playOneShot(s.CommonAudioConfig.btnClose)},t.prototype.onClickFeedback=function(){this.feedbackConfig.staff_service_url&&u.gg.panelRouter.show({panel:l.CommonPanelConfig.webViewPanel,data:{title:p.i18n.getText("lobby.cs.host"),url:f.feedbackSystem.getFinalUrl(this.feedbackConfig.staff_service_url)}})},t.prototype.onClickCancel=function(){var e=this;d.gameApi.getIancellationCancel().then(function(t){var n=p.i18n.getText("toast.cancelAccountFreezeFail");1==t.status&&(n=p.i18n.getText("toast.cancelAccountFreezeSuccess")),u.gg.panelRouter.show({panel:l.CommonPanelConfig.toastPanel,data:{text:n}}),e.onCloseBtnClick()}).catch(function(){u.gg.panelRouter.show({panel:l.CommonPanelConfig.toastPanel,data:{text:p.i18n.getText("toast.cancelAccountFreezeFail")}}),e.onCloseBtnClick()})},t.prototype.getCancellationInfo=function(){var e=this;d.gameApi.getIancellationInfo().then(function(t){if(t){var n=h.TimeUtils.format(t.ctime/1e3);t.hesitation?e.lab.string=p.i18n.getText("setting.accountFreezeInfo2",n,15):e.lab.string=p.i18n.getText("setting.accountFreezeInfo1",n,24,24)}else u.gg.panelRouter.show({panel:l.CommonPanelConfig.toastPanel,data:{text:p.i18n.getText("toast.accountFreezeFail")}}),e.onCloseBtnClick()}).catch(function(){u.gg.panelRouter.show({panel:l.CommonPanelConfig.toastPanel,data:{text:p.i18n.getText("toast.accountFreezeFail")}}),e.onCloseBtnClick()})},a([v({type:cc.Label})],t.prototype,"lab",void 0),a([v({type:cc.Node})],t.prototype,"feedbackBtn",void 0),a([_],t)}(c.default);n.default=b,cc._RF.pop()},{"../../../configs/CommonAudioConfig":"CommonAudioConfig","../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../ffframework/webview/WebViewWrapper":"WebViewWrapper","../../../framework/components/dialogstyle/MoveStyleDialogPanelV2":"MoveStyleDialogPanelV2","../../../framework/gg":"gg","../../../framework/i18n/I18n":"I18n","../../../framework/utils/TimeUtils":"TimeUtils","../../../systems/api/gameapi/GameApi":"GameApi","../../../systems/feedback/FeedbackSystem":"FeedbackSystem","../../../systems/remoteconfig/RemoteConfigModel":"RemoteConfigModel","../../../systems/remoteconfig/RemoteConfigSystem":"RemoteConfigSystem"}],ActivationWrapper:[function(e,t,n){"use strict";cc._RF.push(t,"10cd9qMeJ9AdbOO9yYueOSn","ActivationWrapper");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.ActivationWrapper=void 0;var i=e("../../framework/gg"),a=e("../../framework/storage/EncryptLocalStorage"),r=o(e("../../framework/utils/StringUtils")),s=e("../../framework/utils/UUID"),l=e("./cache/NativeCacheConst"),c=e("./DeviceInfoWrapper"),u=function(){function e(){}return Object.defineProperty(e,"did",{get:function(){return r.default.isEmpty(this._did)&&(this._did=a.encryptLocalStorage.getItem(l.NativeCacheConst.Did)),r.default.isEmpty(this._did)&&(this.did=c.DeviceInfoWrapper.gaid),r.default.isEmpty(this._did)&&(this.did=c.DeviceInfoWrapper.androidId),r.default.isEmpty(this._did)&&(this.did=c.DeviceInfoWrapper.idfv),r.default.isEmpty(this._did)&&(this.did=s.UUID.v4(),i.gg.logger.log("\u6ca1\u6709\u521d\u59cb\u5316\u5230did\uff0c\u5c06\u968f\u673a\u751f\u6210\u4e00\u4e2adid: ",this._did)),this._did},set:function(e){this._did!=e&&(this._did=e,a.encryptLocalStorage.setItem(l.NativeCacheConst.Did,e))},enumerable:!1,configurable:!0}),e._did="",e}();n.ActivationWrapper=u,cc._RF.pop()},{"../../framework/gg":"gg","../../framework/storage/EncryptLocalStorage":"EncryptLocalStorage","../../framework/utils/StringUtils":"StringUtils","../../framework/utils/UUID":"UUID","./DeviceInfoWrapper":"DeviceInfoWrapper","./cache/NativeCacheConst":"NativeCacheConst"}],AgoraWrapper:[function(e,t,n){"use strict";cc._RF.push(t,"399a8KgH9ZAS7WXT/6hQ7TW","AgoraWrapper"),Object.defineProperty(n,"__esModule",{value:!0}),n.AgoraWrapper=void 0,e("../../framework/eventmanager/EventManager");var o=function(){function e(){}return e.init=function(e,t){void 0===t&&(t=1e3),null==window.agora&&(window.agora=this,console.log("AgoraWrapper.init:",e,t))},e.on=function(e,t,n){this.callbackMap.set(e,[t,n])},e.off=function(e){this.callbackMap.delete(e)},e.release=function(){this.callbackMap.clear()},e.joinChannel=function(){return 0},e.leaveChannel=function(){return 0},e.muteLocalAudioStream=function(){return 0},e.muteRemoteAudioStream=function(){return 0},e.renewToken=function(){return 0},e.emit=function(e){var t=e.name,n=e.data;if(this.callbackMap.get(t)){var o=this.callbackMap.get(t),i=o[0],a=o[1];if(i){"onAudioVolumeIndication"!==t&&console.log("AgoraWrapper.emit:",e);var r=n;i.call(a,r)}}},e.AGORA_RESPONSE_EVENT="AgoraWrapper.AgoraResponseEvent",e.CONNECTION_STATE_TYPE={CONNECTION_STATE_FAILED:0,CONNECTION_STATE_RECONNECTING:1,CONNECTION_STATE_DISCONNECTED:2,CONNECTION_STATE_CONNECTED:3,CONNECTION_STATE_CONNECTING:4},e._javaClassPath="com/gxx/agora/AgoraAudioWrapper",e._ocClassName="AgoraWrapper",e.callbackMap=new Map,e}();n.AgoraWrapper=o,cc._RF.pop()},{"../../framework/eventmanager/EventManager":"EventManager"}],AlertPanel2:[function(e,t,n){"use strict";cc._RF.push(t,"56620/gIatIEooyA3DAEzIA","AlertPanel2");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=r(e("../../../framework/components/dialogstyle/MoveStyleDialogPanelV1")),l=e("../../../framework/i18n/I18n"),c=r(e("../../../framework/utils/StringUtils")),u=cc._decorator,p=u.ccclass,h=u.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.msgLabel=null,t.confirmBtn=null,t.confirmBtnLabel=null,t._showData=null,t}return i(t,e),t.prototype.onLoad=function(){this.msgLabel.string=""},t.prototype.show=function(e){this._showData=e.data,this.msgLabel.string=this._showData.msgLabel,this.confirmBtnLabel.string=c.default.isEmpty(this._showData.confirmBtnLabel)?l.i18n.getText("common.confirm"):this._showData.confirmBtnLabel,this._playShowAnim(function(){e.onShowed()})},t.prototype.hide=function(e){this._showData=null,this._playHideAnim(function(){e.onHided()})},t.prototype.onConfirmBtnClick=function(){var e,t;null===(t=null===(e=this._showData)||void 0===e?void 0:e.onConfirmBtnClick)||void 0===t||t.call(e)},t.prototype._updaateWidget=function(e){var t=this;e.children.forEach(function(e){var n;null===(n=e.getComponent(cc.Widget))||void 0===n||n.updateAlignment(),t._updaateWidget(e)})},a([h(cc.Label)],t.prototype,"msgLabel",void 0),a([h(cc.Button)],t.prototype,"confirmBtn",void 0),a([h(cc.Label)],t.prototype,"confirmBtnLabel",void 0),a([p],t)}(s.default);n.default=d,cc._RF.pop()},{"../../../framework/components/dialogstyle/MoveStyleDialogPanelV1":"MoveStyleDialogPanelV1","../../../framework/i18n/I18n":"I18n","../../../framework/utils/StringUtils":"StringUtils"}],AlertPanel:[function(e,t,n){"use strict";cc._RF.push(t,"b8e6cZX0olN+I0hyDii4ry0","AlertPanel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=r(e("../../../framework/components/dialogstyle/MoveStyleDialogPanelV1")),l=e("../../../framework/i18n/I18n"),c=r(e("../../../framework/utils/StringUtils")),u=cc._decorator,p=u.ccclass,h=u.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.titleLayout=null,t.titleLabel=null,t.msgLabel=null,t.confirmBtn=null,t.cancelBtn=null,t.confirmBtnLabel=null,t.cancelBtnLabel=null,t._showData=null,t}return i(t,e),t.prototype.onLoad=function(){this.titleLabel.string="",this.msgLabel.string="",this.confirmBtn.node.active=!1,this.cancelBtn.node.active=!1},t.prototype.show=function(e){var t=this;this._showData=e.data,this.cancelBtn.node.active=null!=this._showData.showCancelBtn&&this._showData.showCancelBtn,this.confirmBtn.node.active=null!=this._showData.showConfirmBtn&&this._showData.showConfirmBtn,this.titleLabel.string=this._showData.titleLabel,this.msgLabel.string=this._showData.msgLabel,this.confirmBtnLabel.string=c.default.isEmpty(this._showData.confirmBtnLabel)?l.i18n.getText("common.confirm"):this._showData.confirmBtnLabel,this.cancelBtnLabel.string=c.default.isEmpty(this._showData.cancelBtnLabel)?l.i18n.getText("common.cancel"):this._showData.cancelBtnLabel,this.scheduleOnce(function(){t.scheduleOnce(function(){t.titleLayout.updateLayout();var e=t.titleLayout.node.width+360;e<700&&(e=700),t.dialogContentNode.width=e,t._updaateWidget(t.dialogContentNode)})}),this._playShowAnim(function(){e.onShowed()})},t.prototype.hide=function(e){this._showData=null,this._playHideAnim(function(){e.onHided()})},t.prototype.onConfirmBtnClick=function(){var e,t;null===(t=null===(e=this._showData)||void 0===e?void 0:e.onConfirmBtnClick)||void 0===t||t.call(e)},t.prototype.onCancelBtnClick=function(){var e,t;null===(t=null===(e=this._showData)||void 0===e?void 0:e.onCancelBtnClick)||void 0===t||t.call(e)},t.prototype._updaateWidget=function(e){var t=this;e.children.forEach(function(e){var n;null===(n=e.getComponent(cc.Widget))||void 0===n||n.updateAlignment(),t._updaateWidget(e)})},a([h(cc.Layout)],t.prototype,"titleLayout",void 0),a([h(cc.Label)],t.prototype,"titleLabel",void 0),a([h(cc.Label)],t.prototype,"msgLabel",void 0),a([h(cc.Button)],t.prototype,"confirmBtn",void 0),a([h(cc.Button)],t.prototype,"cancelBtn",void 0),a([h(cc.Label)],t.prototype,"confirmBtnLabel",void 0),a([h(cc.Label)],t.prototype,"cancelBtnLabel",void 0),a([p],t)}(s.default);n.default=d,cc._RF.pop()},{"../../../framework/components/dialogstyle/MoveStyleDialogPanelV1":"MoveStyleDialogPanelV1","../../../framework/i18n/I18n":"I18n","../../../framework/utils/StringUtils":"StringUtils"}],AnalysisEvent:[function(e,t,n){"use strict";cc._RF.push(t,"52786fAnpZCwojB96InXOr5","AnalysisEvent"),Object.defineProperty(n,"__esModule",{value:!0}),n.AnalysisEvent=void 0,function(e){e.BootStart="boot_start",e.BootEnd="boot_end",e.LoginStart="login_start",e.LoginFailed="login_failed",e.LoginSuccess="login_success",e.Register="register",e.LogoutStart="logout_start",e.LogoutSuccess="logout_success",e.PurchaseOpen="purchase_open",e.PurchaseBack="purchase_return",e.PurchaseStart="purchase_goods",e.PurchaseFailed="purchase_failed",e.PurchaseSuccess="purchase_success",e.LobbyLudoClick="lobby_ludo_click",e.InviteLudoClick="invite_ludo_click",e.LobbyBalootClick="lobby_baloot_click",e.InviteBalootClick="invite_baloot_click",e.LobbyMoreGameClick="lobby_more_game_click",e.LobbyProjectTableClick="lobby_project_table_click",e.LobbyTurntableClick="lobby_turntable_click",e.LobbyFastBalootClick="lobby_fast_baloot_click",e.LobbyDoubleBalootClick="lobby_double_baloot_click",e.LobbyQualifyingBalootClick="lobby_qualifying_baloot_click",e.LobbyBalootQuickMatchClick="lobby_baloot_quick_match_click",e.FastBalootPlayAgainClick="fast_baloot_play_again_click",e.FastBalootExitClick="fast_baloot_exit_click",e.DoubleBalootPlayAgainClick="double_baloot_play_again_click",e.DoubleBalootExitClick="double_baloot_exit_click",e.QualifyingBalootPlayAgainClick="qualifying_baloot_play_again_click",e.QualifyingBalootExitClick="qualifying_baloot_exit_click",e.QualifyingBalootMatchingClick="qualifying_baloot_matching_click",e.QualifyingBalootSompleteGuideClick="qualifying_baloot_complete_guide__click",e.QualifyingBalootBuyPropsClick="qualifying_baloot_buy_props__click",e.QualifyingBalootStreakClick="qualifying_baloot_streak__click",e.QualifyingBalootResurrectionClick="qualifying_baloot_resurrection__click",e.QualifyingBalootBonusPointsnClick="qualifying_baloot_bonus_points__click",e.QualifyingHeartLessThanTwo="qualifying_heart_less_than_two",e.ChipQualifyingBalootClick="chip_qualifying_baloot_click",e.ChipTurntableClick="chip_turntable_click",e.ChipFriendClick="chip_friend_click",e.ChipStoreClick="chip_store_click",e.TurntableStoreClick="turntable_store_click",e.ProjectTableStoreClick="projecttable_store_click",e.TexasStoreClick="texas_store_click",e.VipLobbyUserinfoJoinClick="vip_lobby_userinfo_join_click",e.VipLobbyUserinfoDetailsClick="vip_lobby_userinfo_details_click",e.VipFriendExpansionOpenClick="vip_friend_expansion_open_click",e.VipExpiredOpenClick="vip_expired_open_click",e.VipDailyCheckOpenClick="vip_daily_check_open_click",e.VipDetailsOpenClick="vip_details_open_click",e.VipStoreTabOpenClick="vip_store_tab_open_click",e.VipCarBuyClick="vip_car_buy_click",e.VipExclusiveRechargeClick="vip_exclusive_recharge_click",e.GoogleFirebaseOpenClick="google_firebase_open_click",e.BagLobbyClick="bag_lobby_click",e.BagUserInfoClick="bag_user_info_click",e.BagAvatarFrameClick="bag_avatar_frame_click",e.BagChatBubbleClick="bag_chat_bubble_click",e.BagBalootCardClick="bag_baloot_card_click",e.BagBalootBgClick="bag_baloot_bg_click",e.BagLudoChessboardClick="bag_ludo_chessboard_click",e.BagLudoDiceClick="bag_ludo_dice_click",e.BagOtherClick="bag_other_click",e.TransferLobbyClick="transfer_lobby_click",e.TransferFriendClick="transfer_friend_click",e.BalootSurrenderClick="baloot_surrender_click"}(n.AnalysisEvent||(n.AnalysisEvent={})),cc._RF.pop()},{}],AnalysisWrapper:[function(e,t,n){"use strict";cc._RF.push(t,"8e05betgEFEA6jV9r2W+cJO","AnalysisWrapper"),Object.defineProperty(n,"__esModule",{value:!0}),n.analysis=void 0;var o=e("../../configs/AppConfig"),i=e("../../configs/GameConfig"),a=(e("../../ffframework/appsflyer/AppsFlyerWrapper"),e("../../ffframework/common/ActivationWrapper")),r=e("../../ffframework/common/DeviceInfoWrapper"),s=e("../../framework/gg"),l=e("../../framework/utils/UUID"),c=e("../user/UserSystem"),u=function(){function e(){this.uTag=Date.now()}return e.prototype.logEvent=function(e,t){var n,u,p=t;null==p&&(p={}),Object.assign(p,{anm:o.AppConfig.anm,subanm:o.AppConfig.subanm,pkg:o.AppConfig.packageName,lib_vn:o.AppConfig.libVersionName,app_vn:o.AppConfig.appVersionName,app_vc:o.AppConfig.appVersionCode,game_vn:i.GameConfig.gameVersionName,idfa:r.DeviceInfoWrapper.gaid,idfv:r.DeviceInfoWrapper.idfv,brand:r.DeviceInfoWrapper.brand,mod:r.DeviceInfoWrapper.model,country:r.DeviceInfoWrapper.countryIso,language:r.DeviceInfoWrapper.language,has_sim_card:r.DeviceInfoWrapper.hasSimCard?1:0,sim_mcc_mnc:r.DeviceInfoWrapper.simOperator,net_mcc_mnc:r.DeviceInfoWrapper.netOperator,sys_vc:r.DeviceInfoWrapper.systemVersionCode,sys_vn:r.DeviceInfoWrapper.systemVersionName,net:r.DeviceInfoWrapper.networkType,sw:r.DeviceInfoWrapper.screenWidth,sh:r.DeviceInfoWrapper.screenHeight,did:a.ActivationWrapper.did,uid:null!==(u=null===(n=c.userSystem.userModel)||void 0===n?void 0:n.uid)&&void 0!==u?u:"",u_tag:this.uTag,action:e,log_id:l.UUID.v4(),log_time:Date.now()}),s.gg.logger.debug("analysis","logEvent",e,p)},e}();n.analysis=new u,cc._RF.pop()},{"../../configs/AppConfig":"AppConfig","../../configs/GameConfig":"GameConfig","../../ffframework/appsflyer/AppsFlyerWrapper":"AppsFlyerWrapper","../../ffframework/common/ActivationWrapper":"ActivationWrapper","../../ffframework/common/DeviceInfoWrapper":"DeviceInfoWrapper","../../framework/gg":"gg","../../framework/utils/UUID":"UUID","../user/UserSystem":"UserSystem"}],AndroidPlatformAdapter:[function(e,t,n){"use strict";cc._RF.push(t,"d94c5UcqVNAf7MaDRnbRtY1","AndroidPlatformAdapter"),Object.defineProperty(n,"__esModule",{value:!0}),n.AndroidPlatformAdapter=void 0;var o=e("../../../configs/CommonPanelConfig"),i=e("../../../framework/gg"),a=e("../../../framework/i18n/I18n"),r=function(){function e(){}return e.prototype.init=function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this._onKeyDown,this)},e.prototype._onKeyDown=function(e){switch(e.keyCode){case cc.macro.KEY.back:this._onBackPressed()}},e.prototype._onBackPressed=function(){i.gg.panelRouter.isShowed(o.CommonPanelConfig.alertPanel)?i.gg.panelRouter.hide({panel:o.CommonPanelConfig.alertPanel}):i.gg.panelRouter.show({panel:o.CommonPanelConfig.alertPanel,data:{titleLabel:a.i18n.getText("alert.title.tips"),msgLabel:a.i18n.getText("alert.msg.exitApp"),showCancelBtn:!0,showConfirmBtn:!0,onConfirmBtnClick:function(){cc.game.end()},onCancelBtnClick:function(){i.gg.panelRouter.hide({panel:o.CommonPanelConfig.alertPanel})}}})},e}();n.AndroidPlatformAdapter=r,cc._RF.pop()},{"../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../framework/gg":"gg","../../../framework/i18n/I18n":"I18n"}],AniMng:[function(e,t,n){"use strict";cc._RF.push(t,"cb767ArygxAIIBaHEc7sDRO","AniMng");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../halllib/net/InnerEvent"),a=e("../halllib/laya/Laya"),r=e("../hallph7/SceneLuckyCoinAnim7"),s=e("../hallph7/SceneUIWarnTips7"),l=o(e("./DialogMng")),c=function(){function e(){}return e.playLuckCoin=function(e,t){r.SceneLuckyCoinAnim7.Load(null,new a.Laya.Handler(this,this.showWorn),e,t)},e.onComplete=function(){i.HallEvent.event(i.HallEvent.USER_FRESH)},e.showWorn=function(e){var t=this,n=e.scene,o=e.tips,i=e.pos;console.log("showWorn:",s.SceneUIWarnTips7),r.SceneLuckyCoinAnim7.Show(l.default.dialogNode.node),n.show({data:{tips:o,pos:i},onShowed:function(){t.onComplete()}})},e.ani=null,e.timeLine=null,e.lab=null,e}();n.default=c,cc._RF.pop()},{"../halllib/laya/Laya":"Laya","../halllib/net/InnerEvent":"InnerEvent","../hallph7/SceneLuckyCoinAnim7":"SceneLuckyCoinAnim7","../hallph7/SceneUIWarnTips7":"SceneUIWarnTips7","./DialogMng":"DialogMng"}],AppConfig:[function(e,t,n){"use strict";cc._RF.push(t,"2b05dV+GMBMS6ocP1qwcAin","AppConfig"),Object.defineProperty(n,"__esModule",{value:!0}),n.AppConfig=void 0;var o=e("./AppFlavor"),i=function(){function e(){}return Object.defineProperty(e,"isDebug",{get:function(){return this._isDebug,null==this._isDebug&&(this._isDebug=!0),this._isDebug},enumerable:!1,configurable:!0}),Object.defineProperty(e,"packageName",{get:function(){return this._packageName,this._packageName||(this._packageName="mobi.club.game.card"),this._packageName},enumerable:!1,configurable:!0}),Object.defineProperty(e,"appName",{get:function(){return this._appName,this._appName||(this._appName="Ludo Club"),this._appName},enumerable:!1,configurable:!0}),Object.defineProperty(e,"flavor",{get:function(){return this._flavor,this._flavor||(this._flavor=o.AppFlavor.GpDemo),this._flavor},enumerable:!1,configurable:!0}),Object.defineProperty(e,"appVersionCode",{get:function(){return this._versionCode,this._versionCode||(this._versionCode=1),this._versionCode},enumerable:!1,configurable:!0}),Object.defineProperty(e,"appVersionName",{get:function(){return this._versionName,this._versionName||(this._versionName="1.6.0"),this._versionName},enumerable:!1,configurable:!0}),Object.defineProperty(e,"libVersionName",{get:function(){return this._libVersionName,this._libVersionName||(this._libVersionName="1.6.0"),this._libVersionName},enumerable:!1,configurable:!0}),Object.defineProperty(e,"anm",{get:function(){return this._anm,this._anm||(this._anm="vgame"),this._anm},enumerable:!1,configurable:!0}),Object.defineProperty(e,"subanm",{get:function(){return this._subAnm,this._subAnm||(this._subAnm="ludoclub"),this._subAnm},enumerable:!1,configurable:!0}),Object.defineProperty(e,"gamePrivacyPolicyUrl",{get:function(){return this._gamePrivacyPolicyUrl,this._gamePrivacyPolicyUrl||(this._gamePrivacyPolicyUrl="https://docs.google.com/document/d/12EK90iTaB9rgbkKpETez0FdFL4UAOO_ALw1JldbSClc/edit?usp=sharing"),this._gamePrivacyPolicyUrl},enumerable:!1,configurable:!0}),Object.defineProperty(e,"gameTeamsOfServiceUrl",{get:function(){return this._gameTeamsOfServiceUrl,this._gameTeamsOfServiceUrl||(this._gameTeamsOfServiceUrl="https://docs.google.com/document/d/1RFMoa2WpXLTWX7WpdtuzOwVdSLy0bGbuBfKyNfFWaxA/edit"),this._gameTeamsOfServiceUrl},enumerable:!1,configurable:!0}),Object.defineProperty(e,"gameCenterHttpHost",{get:function(){return this._gameCenterHttpHost,this._gameCenterHttpHost?this._gameCenterHttpHost:"http://47.74.180.115:6030"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"gameServerHttpHost",{get:function(){return this._gameServerHttpHost},set:function(e){this._gameServerHttpHost=e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"gameServerWsHost",{get:function(){return this._gameServerWsHost},set:function(e){this._gameServerWsHost=e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"rongyunAppKey",{get:function(){return this._rongyunAppKey,this._rongyunAppKey?this._rongyunAppKey:""},enumerable:!1,configurable:!0}),e._javaClassPath="com/cocos/game/AppConfig",e._ocClassName="AppConfig",e}();n.AppConfig=i,cc._RF.pop()},{"./AppFlavor":"AppFlavor"}],AppFlavor:[function(e,t,n){"use strict";cc._RF.push(t,"5beb4kTzEhPBJoqUTkJEXlZ","AppFlavor"),Object.defineProperty(n,"__esModule",{value:!0}),n.AppFlavor=void 0,(n.AppFlavor||(n.AppFlavor={})).GpDemo="gpDemo",cc._RF.pop()},{}],AppleInAppPurchaseEvent:[function(e,t,n){"use strict";cc._RF.push(t,"5a182ya21VCdYvY3uca6qGY","AppleInAppPurchaseEvent"),Object.defineProperty(n,"__esModule",{value:!0}),n.AppleInAppPurchaseEvent=void 0,function(e){e.OnFetchProductResponse="AppleInAppPurchaseEvent.OnFetchProductResponse",e.OnTransactionsUpdated="AppleInAppPurchaseEvent.OnTransactionsUpdated"}(n.AppleInAppPurchaseEvent||(n.AppleInAppPurchaseEvent={})),cc._RF.pop()},{}],AppleInAppPurchaseModel:[function(e,t,n){"use strict";cc._RF.push(t,"b1cebP9r1VM+JqCmatetrmf","AppleInAppPurchaseModel"),Object.defineProperty(n,"__esModule",{value:!0}),n.SKErrorCode=n.SKPaymentTransactionState=void 0,function(e){e[e.SKPaymentTransactionStatePurchasing=0]="SKPaymentTransactionStatePurchasing",e[e.SKPaymentTransactionStatePurchased=1]="SKPaymentTransactionStatePurchased",e[e.SKPaymentTransactionStateFailed=2]="SKPaymentTransactionStateFailed",e[e.SKPaymentTransactionStateRestored=3]="SKPaymentTransactionStateRestored",e[e.SKPaymentTransactionStateDeferred=4]="SKPaymentTransactionStateDeferred"}(n.SKPaymentTransactionState||(n.SKPaymentTransactionState={})),function(e){e[e.SKErrorUnknown=0]="SKErrorUnknown",e[e.SKErrorClientInvalid=1]="SKErrorClientInvalid",e[e.SKErrorPaymentCancelled=2]="SKErrorPaymentCancelled",e[e.SKErrorPaymentInvalid=3]="SKErrorPaymentInvalid",e[e.SKErrorPaymentNotAllowed=4]="SKErrorPaymentNotAllowed",e[e.SKErrorStoreProductNotAvailable=5]="SKErrorStoreProductNotAvailable",e[e.SKErrorCloudServicePermissionDenied=6]="SKErrorCloudServicePermissionDenied",e[e.SKErrorCloudServiceNetworkConnectionFailed=7]="SKErrorCloudServiceNetworkConnectionFailed",e[e.SKErrorCloudServiceRevoked=8]="SKErrorCloudServiceRevoked",e[e.SKErrorPrivacyAcknowledgementRequired=9]="SKErrorPrivacyAcknowledgementRequired",e[e.SKErrorUnauthorizedRequestData=10]="SKErrorUnauthorizedRequestData",e[e.SKErrorInvalidOfferIdentifier=11]="SKErrorInvalidOfferIdentifier",e[e.SKErrorInvalidSignature=12]="SKErrorInvalidSignature",e[e.SKErrorMissingOfferParams=13]="SKErrorMissingOfferParams",e[e.SKErrorInvalidOfferPrice=14]="SKErrorInvalidOfferPrice",e[e.SKErrorOverlayCancelled=15]="SKErrorOverlayCancelled",e[e.SKErrorOverlayInvalidConfiguration=16]="SKErrorOverlayInvalidConfiguration",e[e.SKErrorOverlayTimeout=17]="SKErrorOverlayTimeout",e[e.SKErrorIneligibleForOffer=18]="SKErrorIneligibleForOffer",e[e.SKErrorUnsupportedPlatform=19]="SKErrorUnsupportedPlatform",e[e.SKErrorOverlayPresentedInBackgroundScene=20]="SKErrorOverlayPresentedInBackgroundScene"}(n.SKErrorCode||(n.SKErrorCode={})),cc._RF.pop()},{}],AppleInAppPurchaseWrapper:[function(e,t,n){"use strict";cc._RF.push(t,"10e92Kf9NFPsZBsgSltqJbn","AppleInAppPurchaseWrapper"),Object.defineProperty(n,"__esModule",{value:!0}),n.AppleInAppPurchaseWrapper=void 0;var o=e("../../framework/eventmanager/EventManager"),i=(e("./AppleInAppPurchaseEvent"),function(){function e(){}return e.canMakePayments=function(){return!1},e.addTransactionObserver=function(){},e.removeTransactionObserver=function(){},e.on=function(e,t,n){o.eventManager.on(e,t,n)},e.off=function(e,t,n){o.eventManager.off(e,t,n)},e.offTarget=function(e){o.eventManager.offTarget(e)},e.fetchProducts=function(){return new Promise(function(e){e({err_code:-1})})},e.purchase=function(){},e.fetchAllProducts=function(){},e._ocClassName="AppleInAppPurchaseWrapper",e._productRequestId=0,e}());n.AppleInAppPurchaseWrapper=i,cc._RF.pop()},{"../../framework/eventmanager/EventManager":"EventManager","./AppleInAppPurchaseEvent":"AppleInAppPurchaseEvent"}],ApplePurchaseSystemAdapter:[function(e,t,n){"use strict";cc._RF.push(t,"385c0pj4sBGwb1tYhdHthJY","ApplePurchaseSystemAdapter");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.ApplePurchaseSystemAdapter=void 0;var r=e("../../../configs/AppConfig"),s=e("../../../ffframework/apple/AppleInAppPurchaseEvent"),l=e("../../../ffframework/apple/AppleInAppPurchaseModel"),c=e("../../../ffframework/apple/AppleInAppPurchaseWrapper"),u=e("../../../framework/gg"),p=a(e("../../../framework/utils/StringUtils")),h=e("../../analysis/AnalysisEvent"),d=e("../../analysis/AnalysisWrapper"),f=e("../../api/gameapi/GameApi"),g=e("../../api/gameapi/PayApiModels"),m=e("../PurchaseOrderCache"),y=e("../PurchaseOrderCacheSystem"),_=function(){function e(){this._manualPurchaseData=null}return e.prototype.handleUserLogin=function(){var e;return o(this,void 0,void 0,function(){var t,n;return i(this,function(o){switch(o.label){case 0:return c.AppleInAppPurchaseWrapper.canMakePayments()?u.gg.logger.log("\u5185\u8d2d\u7cfb\u7edf\uff1a\u5904\u7406\u7528\u6237\u767b\u5f55\u3002\u5f53\u524d\u53ef\u4ee5\u4f7f\u7528 Apple IAP"):u.gg.logger.warn("\u5185\u8d2d\u7cfb\u7edf\uff1a\u5904\u7406\u7528\u6237\u767b\u5f55\u3002\u5f53\u524d\u4e0d\u53ef\u4ee5\u4f7f\u7528 Apple IAP"),this._handleUnCallBackOrder(),c.AppleInAppPurchaseWrapper.on(s.AppleInAppPurchaseEvent.OnTransactionsUpdated,this._onTransactionsUpdated,this),c.AppleInAppPurchaseWrapper.addTransactionObserver(),[4,f.gameApi.getGoodsListAsync({goods_type:g.GoodsTypeEnum.All})];case 1:return t=o.sent(),console.log("apple Purchase resp",t),1===t.status&&(n=null===(e=null==t?void 0:t.data)||void 0===e?void 0:e.map(function(e){return e.goods_name}),console.log("apple Purchase goodsList",n),c.AppleInAppPurchaseWrapper.fetchAllProducts({product_ids:n})),[2]}})})},e.prototype.handleUserLogout=function(){c.AppleInAppPurchaseWrapper.offTarget(this),c.AppleInAppPurchaseWrapper.removeTransactionObserver()},e.prototype._handleUnCallBackOrder=function(){return o(this,void 0,void 0,function(){var e,t,n,o,a;return i(this,function(i){switch(i.label){case 0:u.gg.logger.log("\u5904\u7406Apple\u5185\u8d2d\u6210\u529f\uff0c\u4f46\u662f\u8fd8\u6ca1\u6709\u4e0a\u62a5\u5230\u6e38\u620f\u540e\u7aef\u7684\u8ba2\u5355\uff1a\u5f00\u59cb"),e=y.purchaseOrderCacheSystem.getAllConsumedProductIds(),t=0,n=e,i.label=1;case 1:return t<n.length?(o=n[t],!(a=y.purchaseOrderCacheSystem.getOrderByProductId(o))||a.state!=m.PurchaseOrderState.Consumed||p.default.isEmpty(a.purchaseToken)?[3,3]:(u.gg.logger.log("\u5546\u54c1 "+o+" \u5b58\u5728\u5df2\u6d88\u8017\u5b8c\u6bd5\u4f46\u8fd8\u6ca1\u6709\u5b8c\u6210\u4e0a\u62a5\u7684\u8ba2\u5355\uff0c\u5c06\u4e0a\u62a5"),[4,this._callBackApplePaymentResult(a)])):[3,5];case 2:return i.sent(),[3,4];case 3:u.gg.logger.log("\u5546\u54c1 "+o+" \u4e0d\u5b58\u5728\u5df2\u6d88\u8017\u5b8c\u6bd5\u4f46\u8fd8\u6ca1\u6709\u5b8c\u6210\u4e0a\u62a5\u7684\u8ba2\u5355"),i.label=4;case 4:return t++,[3,1];case 5:return u.gg.logger.log("\u5904\u7406Apple\u5185\u8d2d\u6210\u529f\uff0c\u4f46\u662f\u8fd8\u6ca1\u6709\u4e0a\u62a5\u5230\u6e38\u620f\u540e\u7aef\u7684\u8ba2\u5355\uff1a\u7ed3\u675f"),[2]}})})},e.prototype.handleBackEndProductList=function(e,t){return o(this,void 0,Promise,function(){var e,n,o,a;return i(this,function(i){switch(i.label){case 0:return e=t.map(function(e){return e.goods_name}),u.gg.logger.log("\u83b7\u53d6Apple\u5546\u54c1\u5217\u8868\u5f00\u59cb",e),[4,c.AppleInAppPurchaseWrapper.fetchProducts({product_ids:e})];case 1:if(n=i.sent(),u.gg.logger.log("\u83b7\u53d6Apple\u5546\u54c1\u5217\u8868\u7ed3\u679c",n),n.err_code)return[2,{errorCode:g.GoodsResultErrorEnum.LoadGoodsFailed}];if(null==n.skus||0==n.skus.length)return[2,{goodsModels:[]}];for(o=function(e){var o=t[e],i=n.skus.find(function(e){return o.goods_name===e.product_id});null==i?(t.splice(e,1),u.gg.logger.warn("\u5254\u9664\u5546\u54c1 "+o.goods_name+" \u56e0\u4e3a\u5728\u5546\u5e97\u4e0a\u627e\u4e0d\u5230")):(o.price_str=i.price_str,u.gg.logger.log("\u66f4\u65b0\u5546\u54c1 "+o.goods_name+" \u4fe1\u606f: \u52a0\u5165\u5546\u5e97\u914d\u7f6e\u7684\u5546\u54c1\u4fe1\u606f"))},a=t.length-1;a>=0;a--)o(a);return[2,{goodsModels:t}]}})})},e.prototype.purchase=function(e){var t,n;return o(this,void 0,Promise,function(){var o,a;return i(this,function(i){switch(i.label){case 0:return this._manualPurchaseData=null,d.analysis.logEvent(h.AnalysisEvent.PurchaseStart,{entrance:e.goods_name}),c.AppleInAppPurchaseWrapper.canMakePayments()?[4,f.gameApi.getRechargeOrder({goods_id:e.id})]:(u.gg.logger.error("\u5f53\u524d\u8bbe\u5907\u4e0d\u80fd\u4f7f\u7528\u82f9\u679c\u652f\u4ed8"),[2,!1]);case 1:return 1!=(o=i.sent()).status||null==o.data?(d.analysis.logEvent(h.AnalysisEvent.PurchaseFailed,{entrance:e.goods_name,value:"get order failed"}),[2,!1]):(a={state:m.PurchaseOrderState.Pending,m_order_id:null!==(t=o.data.m_order_id)&&void 0!==t?t:"",p_order_id:null!==(n=o.data.order_id)&&void 0!==n?n:"",mid:r.AppConfig.subanm,product_id:e.goods_name,transaction_id:""},y.purchaseOrderCacheSystem.addOrder(a),[4,this._purchaseWithApple(a.product_id)]);case 2:return[2,i.sent()]}})})},e.prototype._purchaseWithApple=function(e){var t=this;return new Promise(function(n){t._manualPurchaseData={productId:e,purchaseCallBack:function(e){n(e)}},c.AppleInAppPurchaseWrapper.purchase({product_id:e})})},e.prototype._onTransactionsUpdated=function(e){return o(this,void 0,void 0,function(){var t,n;return i(this,function(o){switch(o.label){case 0:return e.transaction_state!=l.SKPaymentTransactionState.SKPaymentTransactionStatePurchased?[3,3]:(t=y.purchaseOrderCacheSystem.getOrderByProductId(e.product_id))?(t.state=m.PurchaseOrderState.Consumed,t.purchaseToken=e.transaction_receipt,t.transaction_id=e.transaction_id,y.purchaseOrderCacheSystem.addOrder(t),y.purchaseOrderCacheSystem.addConsumedProductId(t.product_id),[4,this._callBackApplePaymentResult(t)]):[3,2];case 1:n=o.sent(),this._manualPurchaseData&&e.product_id==this._manualPurchaseData.productId&&(this._manualPurchaseData.purchaseCallBack(n),this._manualPurchaseData=null),o.label=2;case 2:return[2];case 3:return e.transaction_state==l.SKPaymentTransactionState.SKPaymentTransactionStateFailed?(d.analysis.logEvent(h.AnalysisEvent.PurchaseFailed,{entrance:e.product_id,result:e.err_code,value:"purchase failed"}),y.purchaseOrderCacheSystem.removeOrder(e.product_id),y.purchaseOrderCacheSystem.removeConsumedProductIds([e.product_id]),this._manualPurchaseData&&e.product_id==this._manualPurchaseData.productId&&(this._manualPurchaseData.purchaseCallBack(!1),this._manualPurchaseData=null),[2]):[2]}})})},e.prototype._callBackApplePaymentResult=function(e){return o(this,void 0,void 0,function(){var t,n;return i(this,function(o){switch(o.label){case 0:t=!1,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,f.gameApi.callBackApplePaymentResult({m_order_id:e.m_order_id,p_order_id:e.p_order_id,mid:e.mid,product_id:e.product_id,receipt:e.purchaseToken,apple_trans_id:e.transaction_id})];case 2:return 1==(n=o.sent()).status&&n.data&&n.data.pay_status==g.PayStatusEnum.Success&&(t=!0),[3,4];case 3:return o.sent(),[3,4];case 4:return t?(d.analysis.logEvent(h.AnalysisEvent.PurchaseSuccess,{entrance:e.product_id}),y.purchaseOrderCacheSystem.removeOrder(e.product_id),y.purchaseOrderCacheSystem.removeConsumedProductIds([e.product_id])):d.analysis.logEvent(h.AnalysisEvent.PurchaseFailed,{entrance:e.product_id,value:"callback failed"}),[2,t]}})})},e}();n.ApplePurchaseSystemAdapter=_,cc._RF.pop()},{"../../../configs/AppConfig":"AppConfig","../../../ffframework/apple/AppleInAppPurchaseEvent":"AppleInAppPurchaseEvent","../../../ffframework/apple/AppleInAppPurchaseModel":"AppleInAppPurchaseModel","../../../ffframework/apple/AppleInAppPurchaseWrapper":"AppleInAppPurchaseWrapper","../../../framework/gg":"gg","../../../framework/utils/StringUtils":"StringUtils","../../analysis/AnalysisEvent":"AnalysisEvent","../../analysis/AnalysisWrapper":"AnalysisWrapper","../../api/gameapi/GameApi":"GameApi","../../api/gameapi/PayApiModels":"PayApiModels","../PurchaseOrderCache":"PurchaseOrderCache","../PurchaseOrderCacheSystem":"PurchaseOrderCacheSystem"}],AppleSignInEvent:[function(e,t,n){"use strict";cc._RF.push(t,"76220UP941DY4VxdPG2qcXI","AppleSignInEvent"),Object.defineProperty(n,"__esModule",{value:!0}),n.AppleSignInEvent=void 0,function(e){e.OnSignInResponse="AppleSignInEvent.OnSignInResponse",e.OnSignOutResponse="AppleSignInEvent.OnSignOutResponse"}(n.AppleSignInEvent||(n.AppleSignInEvent={})),cc._RF.pop()},{}],AppleSignInModel:[function(e,t,n){"use strict";cc._RF.push(t,"7f43e1xCrZF6ad4hnDCGxcq","AppleSignInModel"),Object.defineProperty(n,"__esModule",{value:!0}),n.ASAuthorizationErrorCode=n.AppleSignInResponseCode=void 0,function(e){e[e.Success=0]="Success",e[e.Failed=1]="Failed"}(n.AppleSignInResponseCode||(n.AppleSignInResponseCode={})),function(e){e[e.Unknown=1e3]="Unknown",e[e.Canceled=1001]="Canceled",e[e.InvalidResponse=1002]="InvalidResponse",e[e.NotHandled=1003]="NotHandled",e[e.Failed=1004]="Failed",e[e.NotInteractive=1005]="NotInteractive"}(n.ASAuthorizationErrorCode||(n.ASAuthorizationErrorCode={})),cc._RF.pop()},{}],AppleSignInWrapper:[function(e,t,n){"use strict";cc._RF.push(t,"43ca14ONmpN05yR8xG45Djp","AppleSignInWrapper"),Object.defineProperty(n,"__esModule",{value:!0}),n.AppleSignInWrapper=void 0,e("../../framework/eventmanager/EventManager"),e("./AppleSignInEvent");var o=function(){function e(){}return e.enableSignIn=function(){return!1},e.signIn=function(){return new Promise(function(e,t){t(new Error("\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301Apple\u767b\u5f55"))})},e._ocClassName="AppleSignInWrapper",e}();n.AppleSignInWrapper=o,cc._RF.pop()},{"../../framework/eventmanager/EventManager":"EventManager","./AppleSignInEvent":"AppleSignInEvent"}],AppsFlyerWrapper:[function(e,t,n){"use strict";cc._RF.push(t,"05fe85sfU5EnLirNpQ3wDhd","AppsFlyerWrapper");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.AppsFlyerWrapper=void 0;var i=e("../../framework/gg"),a=o(e("../../framework/utils/StringUtils")),r=function(){function e(){}return Object.defineProperty(e,"appsFlyerUid",{get:function(){return a.default.isEmpty(this._appsflyerUid),this._appsflyerUid},enumerable:!1,configurable:!0}),Object.defineProperty(e,"trackerName",{get:function(){return a.default.isEmpty(this._trackerName),this._trackerName},enumerable:!1,configurable:!0}),Object.defineProperty(e,"campaign",{get:function(){return a.default.isEmpty(this._campaign),this._campaign},enumerable:!1,configurable:!0}),Object.defineProperty(e,"campaignId",{get:function(){return a.default.isEmpty(this._campaignId),this._campaignId},enumerable:!1,configurable:!0}),e.logEvent=function(e,t){if(t)try{JSON.stringify(t)}catch(n){i.gg.logger.error("AppsFlyer \u4e0a\u62a5\u4e8b\u4ef6\u5931\u8d25\uff0c\u81ea\u5b9a\u4e49\u53c2\u6570\u89e3\u6790\u5931\u8d25")}},e._javaClassPath="com/gxx/af/AppsFlyerWrapper",e._ocClassName="AppsFlyerWrapper",e._appsflyerUid="",e._trackerName="",e._campaign="",e._campaignId="",e}();n.AppsFlyerWrapper=r,cc._RF.pop()},{"../../framework/gg":"gg","../../framework/utils/StringUtils":"StringUtils"}],ArrayUtils:[function(e,t,n){"use strict";cc._RF.push(t,"5484eFkx39Ox4nSo7BPKxwy","ArrayUtils"),Object.defineProperty(n,"__esModule",{value:!0}),n.ArrayUtils=void 0;var o=function(){function e(){}return e.shuffle=function(e){if(null==e||null==e||0==e.length)throw new Error("invalid array");for(var t,n=e.length-1;n>=0;n--){var o=Math.floor(Math.random()*n);t=e[n],e[n]=e[o],e[o]=t}return e},e}();n.ArrayUtils=o,cc._RF.pop()},{}],AssetLoader:[function(e,t,n){"use strict";cc._RF.push(t,"0be0cXMvSlP6rIilYDMQ/E6","AssetLoader"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.getBundle=function(e){return cc.assetManager.getBundle(e)},e.decRef=function(e,t){var n=e.substring(0,e.indexOf("/")),o=e.substring(e.indexOf("/")+1),i=cc.assetManager.getBundle(n);i&&i.get(o,t).decRef()},e.loadBundle=function(e){return new Promise(function(t,n){cc.assetManager.loadBundle(e,function(e,o){e?n(e):t(o)})})},e.preloadBundleAsset=function(e,t){var n=e.substring(0,e.indexOf("/")),o=e.substring(e.indexOf("/")+1);cc.assetManager.loadBundle(n,function(e,i){if(e)return console.error("load bundle "+n+" failed!"),void console.error(e);i.preload(o,t)})},e.getBundleAsset=function(e,t){var n,o,i=e.substring(0,e.indexOf("/")),a=e.substring(e.indexOf("/")+1);return null!==(o=null===(n=cc.assetManager.getBundle(i))||void 0===n?void 0:n.get(a,t))&&void 0!==o?o:null},e.loadBundleAsset=function(e,t){return new Promise(function(n,o){Date.now();var i=e.substring(0,e.indexOf("/")),a=e.substring(e.indexOf("/")+1);cc.assetManager.loadBundle(i,function(e,r){if(e)return console.error("load bundle "+i+" failed!"),console.error(e),void o(e);r.load(a,t,null,function(e,t){if(e)return console.error("load bundle "+i+" asset "+a+" failed!"),console.error(e),void o(e);n(t)})})})},e.loadBundleDir=function(e,t){return new Promise(function(n,o){var i=e.substring(0,e.indexOf("/")),a=e.substring(e.indexOf("/")+1);cc.assetManager.loadBundle(i,function(e,r){if(e)return console.error("load bundle "+i+" failed!"),console.error(e),void o(e);r.loadDir(a,t,null,function(e,t){if(e)return console.error("load bundle "+i+" assetDir "+a+" failed!"),console.error(e),void o(e);n(t)})})})},e.loadBundleScene=function(e,t,n){return new Promise(function(o,i){cc.assetManager.loadBundle(e,function(a,r){if(a)return console.error("load bundle "+e+" failed!"),console.error(a),void i(a);r.loadScene(t,n,function(e,n){if(e)return console.error("load bundle scene asset "+t+" failed!"),console.error(e),void i(e);o(n)})})})},e.loadSpriteFrameFromRemote=function(e,t){void 0===t&&(t=".jpeg");var n=encodeURI(e);return new Promise(function(e,o){if(!n||""==n){var i=new Error("invalid image url");return console.error(i),void o(i)}n.endsWith(".jpg")||n.endsWith(".jpeg")||n.endsWith(".png")?cc.assetManager.loadRemote(n,function(t,i){if(t)return console.error("load remote image failed. url: "+n),console.error(t),void o(t);e(new cc.SpriteFrame(i))}):cc.assetManager.loadRemote(n,{ext:t},function(t,i){if(t)return console.error("load remote image failed. url: "+n),console.error(t),void o(t);e(new cc.SpriteFrame(i))})})},e.loadTextureFromRemote=function(e,t){void 0===t&&(t=".jpeg");var n=encodeURI(e);return new Promise(function(e,o){if(!n||""==n){var i=new Error("invalid image url");return console.error(i),void o(i)}n.endsWith(".jpg")||n.endsWith(".jpeg")||n.endsWith(".png")?cc.assetManager.loadRemote(n,function(t,i){if(t)return console.error("load remote image failed. url: "+n),console.error(t),void o(t);e(i)}):cc.assetManager.loadRemote(n,{ext:t},function(t,i){if(t)return console.error("load remote image failed. url: "+n),console.error(t),void o(t);e(i)})})},e.loadRemoteTextAsset=function(e){return new Promise(function(t,n){if(!e||""==e){var o=new Error("invalid image url");return console.error(o),void n(o)}cc.assetManager.loadRemote(e,function(o,i){if(o)return console.error("load remote text failed. url: "+e),console.error(o),void n(o);t(i)})})},e}();n.default=o,cc._RF.pop()},{}],AtlasInfoManager:[function(e,t,n){"use strict";cc._RF.push(t,"13864qSd49OZ6bJcfOlPZGn","AtlasInfoManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.AtlasInfoManager=void 0;var o=e("./URL"),i=function(){function e(){}return e.enable=function(e,t){void 0===t&&(t=null)},e.addAtlases=function(t){var n=e._fileLoadDic;for(var i in t)for(var a=t[i],r=o.URL.formatURL(a[0]),s=a[1],l=s.length,c={url:i},u=0;u<l;u++)n[r+s[u]]=c},e.addAtlas=function(t,n,i){n=o.URL.formatURL(n);for(var a=e._fileLoadDic,r={url:t},s=0,l=i;s<l.length;s++)a[n+l[s]]=r},e.getFileLoadPath=function(t){return e._fileLoadDic[t]},e._fileLoadDic={},e}();n.AtlasInfoManager=i,cc._RF.pop()},{"./URL":"URL"}],AudioConfig:[function(e,t,n){"use strict";cc._RF.push(t,"3b8c7VduZBMNbFsetWiqdXM","AudioConfig"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],AudioManager:[function(e,t,n){"use strict";cc._RF.push(t,"d7ab98gD5dGOKK6jfzwZ7eQ","AudioManager");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.AudioManager=void 0;var r=a(e("../asset/AssetLoader")),s=e("../gg"),l=function(){function e(){this._musicAudioMap=new Map,this.soundVolume=1,this.musicVolume=1}return e.prototype.loadAsync=function(e){return o(this,void 0,Promise,function(){return i(this,function(){return[2,new Promise(function(t,n){r.default.loadBundleAsset(e.path,cc.AudioClip).then(function(){t()}).catch(function(e){n(e)})})]})})},e.prototype.release=function(e){var t,n=this._musicAudioMap.get(e.path);if(null==n||cc.audioEngine.getState(n)==cc.audioEngine.AudioState.STOPPED){this._musicAudioMap.delete(e.path);var o=e.path,i=o.substring(0,o.indexOf("/")),a=o.substring(o.indexOf("/")+1),r=cc.assetManager.getBundle(i);r&&(null===(t=r.get(a,cc.AudioClip))||void 0===t||t.decRef())}else s.gg.logger.error("music is using, cannot release now")},e.prototype.playOneShot=function(e,t){var n=this;if(void 0===t&&(t=1),0!=this.soundVolume){var o=r.default.getBundleAsset(e.path,cc.AudioClip);o?cc.audioEngine.play(o,!1,t*this.soundVolume):r.default.loadBundleAsset(e.path,cc.AudioClip).then(function(e){0!=n.soundVolume&&cc.audioEngine.play(e,!1,t*n.soundVolume)}).catch(function(e){s.gg.logger.error(e)})}},e.prototype.playMusic=function(e,t,n){var o=this;void 0===t&&(t=!0),void 0===n&&(n=1);var i=r.default.getBundleAsset(e.path,cc.AudioClip);i?this._playMusic(i,e,t,n):r.default.loadBundleAsset(e.path,cc.AudioClip).then(function(i){o._playMusic(i,e,t,n)}).catch(function(e){s.gg.logger.error(e)})},e.prototype._playMusic=function(e,t,n,o){if(void 0===n&&(n=!0),void 0===o&&(o=1),0!=this.musicVolume){var i=this._musicAudioMap.get(t.path);null==i?(i=cc.audioEngine.play(e,n,o*this.musicVolume),this._musicAudioMap.set(t.path,i)):s.gg.logger.warn("music is playing, pass play again")}},e.prototype.stopMusic=function(e){var t=this._musicAudioMap.get(e.path);null!=t&&(cc.audioEngine.stop(t),this._musicAudioMap.delete(e.path))},e}();n.AudioManager=l,cc._RF.pop()},{"../asset/AssetLoader":"AssetLoader","../gg":"gg"}],AvatorWrapper:[function(e,t,n){"use strict";cc._RF.push(t,"b8ab3epJ2pNSL8U2axEZp9V","AvatorWrapper");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),e("../../framework/eventmanager/EventManager");var a=e("../../framework/gg"),r=e("../android/PermissionModel"),s=(e("../android/PermissionWrapper"),function(){function e(){}return e.selectFromGallery=function(){return o(this,void 0,Promise,function(){return i(this,function(){return[2,new Promise(function(e){e("")})]})})},e.selectFromCamera=function(){return o(this,void 0,Promise,function(){return i(this,function(){return[2,new Promise(function(e){e("")})]})})},e.getCameraReadWritePermission=function(){var e;return o(this,void 0,Promise,function(){var t,n;return i(this,function(o){switch(o.label){case 0:return[3,6];case 1:return t=o.sent(),(null===(e=null==t?void 0:t.permissions)||void 0===e?void 0:e.length)>0?(n=t.permissions.filter(function(e){return e.permission==r.AndroidPermissionEnum.READ_EXTERNAL_STORAGE||e.permission==r.AndroidPermissionEnum.WRITE_EXTERNAL_STORAGE||e.permission==r.AndroidPermissionEnum.CAMERA}),a.gg.logger.log("permission: ",n),[2,n.length>=3]):[2,!1];case 2:return[2,!0];case 3:return[3,5];case 4:return cc.sys.os,cc.sys.OS_IOS,[2,!0];case 5:return[3,7];case 6:return[2,!0];case 7:return[2]}})})},e._javaClassPath="com/cocos/game/avator/AvatorWrapper",e}());n.default=s,cc._RF.pop()},{"../../framework/eventmanager/EventManager":"EventManager","../../framework/gg":"gg","../android/PermissionModel":"PermissionModel","../android/PermissionWrapper":"PermissionWrapper"}],Base64Tool:[function(e,t,n){"use strict";cc._RF.push(t,"ac533tFw5xB3Z7seXuRS6ja","Base64Tool"),Object.defineProperty(n,"__esModule",{value:!0}),n.Base64Tool=void 0;var o=function(){function e(){}return e.init=function(){if(!e.lookup){e.lookup=new Uint8Array(256);for(var t=0;t<e.chars.length;t++)e.lookup[e.chars.charCodeAt(t)]=t}},e.isBase64String=function(t){return e.reg.test(t)},e.encode=function(t){var n,o=new Uint8Array(t),i=o.length,a="";for(n=0;n<i;n+=3)a+=e.chars[o[n]>>2],a+=e.chars[(3&o[n])<<4|o[n+1]>>4],a+=e.chars[(15&o[n+1])<<2|o[n+2]>>6],a+=e.chars[63&o[n+2]];return i%3==2?a=a.substring(0,a.length-1)+"=":i%3==1&&(a=a.substring(0,a.length-2)+"=="),a},e.decode=function(t){e.init();var n,o,i,a,r,s=.75*t.length,l=t.length,c=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);var u=new ArrayBuffer(s),p=new Uint8Array(u);for(n=0;n<l;n+=4)o=e.lookup[t.charCodeAt(n)],i=e.lookup[t.charCodeAt(n+1)],a=e.lookup[t.charCodeAt(n+2)],r=e.lookup[t.charCodeAt(n+3)],p[c++]=o<<2|i>>4,p[c++]=(15&i)<<4|a>>2,p[c++]=(3&a)<<6|63&r;return u},e.chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e.reg=/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*?)\s*$/i,e.reghead=/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,/i,e.lookup=null,e}();n.Base64Tool=o,cc._RF.pop()},{}],BaseDesk:[function(e,t,n){"use strict";cc._RF.push(t,"74110ejhQNCM5CfolYS78w+","BaseDesk"),Object.defineProperty(n,"__esModule",{value:!0}),n.BaseDesk=void 0;var o=e("../halllib/common/LogBase"),i=e("../halllib/net/RoomMessage"),a=function(){function e(){this.index=-1,this.seatList=[],this.seatCount=0}return Object.defineProperty(e,"myGameDesk",{get:function(){if(null==this._myGameDesk){this._myGameDesk=new e;for(var t=0;t<200;t++)this._myGameDesk.seatList[t]=new i.roommsg.CSRoomUserInfo}return this._myGameDesk},enumerable:!1,configurable:!0}),e.clear=function(){this.myGameDesk.index=-1,this.myGameDesk.seatCount=0;for(var e=0;e<200;e++)null==this.myGameDesk.seatList[e]&&(this.myGameDesk.seatList[e]=new i.roommsg.CSRoomUserInfo),this.myGameDesk.seatList[e].clear()},e.Init=function(e,t){this.myGameDesk.index=t,this.myGameDesk.seatCount=e,this.myGameDesk.seatList=[];for(var n=0;n<this.myGameDesk.seatCount;n++)null==this.myGameDesk.seatList[n]&&(this.myGameDesk.seatList[n]=new i.roommsg.CSRoomUserInfo),this.myGameDesk.seatList[n].clear()},e.getUserBySeat=function(e){return e<0||e>this.myGameDesk.seatList.length-1?null:this.myGameDesk.seatList[e]},e.getUserByID=function(e){for(var t=0;t<this.myGameDesk.seatList.length;t++)if(null!=this.myGameDesk.seatList[t]&&null!=this.myGameDesk.seatList[t]&&e==this.myGameDesk.seatList[t].dwUserID)return this.myGameDesk.seatList[t];return null},e.setUserInSeat=function(e,t){return!(t<0||e.bDeskNO!=this.myGameDesk.index||t>this.myGameDesk.seatList.length-1||(null!=this.myGameDesk.seatList[t]&&null!=e&&(this.myGameDesk.seatList[t].dwUserID,e.dwUserID),o.LogBase.debug("setUserInSeat",t,e),null==this.myGameDesk.seatList[t]&&(this.myGameDesk.seatList[t]=new i.roommsg.CSRoomUserInfo),this.myGameDesk.seatList[t].copy(e),0))},e.UserLeaveDesk=function(e){e<this.myGameDesk.seatList.length&&(null==this.myGameDesk.seatList[e]&&(this.myGameDesk.seatList[e]=new i.roommsg.CSRoomUserInfo),this.myGameDesk.seatList[e].clear())},e.searchUserSearIndex=function(e){for(var t=0;t<this.myGameDesk.seatList.length;t++)if(null!=this.myGameDesk.seatList[t]&&this.myGameDesk.seatList[t].dwUserID==e)return t;return-1},e.hasEmptySeat=function(){for(var e=0;e<this.myGameDesk.seatList.length;e++)if(null!=this.myGameDesk.seatList[e]&&0==this.myGameDesk.seatList[e].dwUserID)return!0;return!1},e.getEmptySeatList=function(){for(var e=[],t=0;t<this.myGameDesk.seatList.length;t++)null!=this.myGameDesk.seatList[t]&&0==this.myGameDesk.seatList[t].dwUserID&&e.push(t);return e},e}();n.BaseDesk=a,cc._RF.pop()},{"../halllib/common/LogBase":"LogBase","../halllib/net/RoomMessage":"RoomMessage"}],BaseMessage:[function(e,t,n){"use strict";cc._RF.push(t,"f5037x1m55OJ5gQzleLTiZ/","BaseMessage");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.NetMessageHead=n.BaseMessage=n.MessageAttribute=n.ByteEx=n.ByteUtil=n.MSG_CONFIG=void 0;var r=e("../laya/utils/Byte"),s=a(e("long")),l=function(){function e(){}return e.NAME_STRING_LEN=61,e.MAX_ROOM_PROXY_COUNT=10,e._len_user_name=20,e._len_pwd_=50,e._len_mag_msg=200,e.BROADCAST_MESSAGE_MAX=256,e.MAX_TALK_LEN=501,e}();n.MSG_CONFIG=l;var c=function(){function e(){}return e.createByte=function(e){void 0===e&&(e=null);var t=new r.Byte;return null!=e&&t.writeArrayBuffer(e),t.pos=0,t},e.copyByte=function(t,n,o){void 0===n&&(n=0),void 0===o&&(o=0);var i=e.createByte();return i.writeArrayBuffer(t.buffer,n,o),i.pos=0,i},e.base64ToByte=function(e){for(var t=atob(e),n=t.length,o=new r.Byte,i=0;i<n;i++)o.writeUint8(t.charCodeAt(i));return o.pos=0,o},e}();n.ByteUtil=c;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.readUTF8=function(){var e=this.getUTF8Len();return e<=0?"":this.readUTFBytes(e)},t.prototype.getUTF8Len=function(){for(var e=this.pos,t=e;t<this.bytesAvailable;t++)if(0==this.getUint8())return this.pos=e,t+1-e;return this.pos=e,this.bytesAvailable},t}(r.Byte);n.ByteEx=u;var p=function(e,t,n,o){void 0===n&&(n=!1),void 0===o&&(o=0),this.name=e,this.type=t,this.isList=n,this.lengthKey=o};n.MessageAttribute=p;var h=function(){function e(){}return e.prototype.readFrom=function(){},e.prototype.writeTo=function(e){return void 0===e&&(e=null),null},e.prototype.readAttribute=function(e,t,n){if(void 0===n&&(n=null),null!=e&&0!=e.length)for(var o,i=0;i<t.length;i++)(o=t[i]).isList?this[o.name]=this.readArrayAttribute(e,o,this[o.name],n):"string"==typeof o.type?this[o.name]=this.readBaseTypeAttribute(e,o,this[o.name],n):this[o.name]=this.readObjectAttribute(e,o,this[o.name],n);else console.error("readAttribute() byte == null || byte.length == 0")},e.prototype.writeAttributeToBype=function(e,t,n){var o;void 0===n&&(n=null),null==e&&(e=c.createByte());for(var i=0;i<t.length;i++)(o=t[i]).isList?this.writeArrayAttribute(e,o,n):"string"!=typeof o.type?this.writeObjectAttribute(e,o,this[o.name]):this.writeBaseTypeAttribute(e,o,this[o.name],n);return e},e.prototype.readObjectAttribute=function(e,t,n){return void 0===n&&(n=null),null==n&&(n=new t.type),n.readFrom(e),n},e.prototype.readBaseTypeAttribute=function(t,n,o,i){switch(void 0===o&&(o=null),n.type){case"byte":return t.getUint8();case"int16":return t.getInt16();case"uint16":return t.getUint16();case"int32":return t.getInt32();case"uint32":return t.getUint32();case"long":return t.endian==r.Byte.LITTLE_ENDIAN?(a=t.getInt32(),l=t.getInt32()):(l=t.getInt32(),a=t.getInt32()),new s.default(a,l);case"ulong":return t.endian==r.Byte.LITTLE_ENDIAN?(a=t.getUint32(),l=t.getUint32()):(l=t.getUint32(),a=t.getUint32()),new s.default(a,l,!0);case"long2number":return t.endian==r.Byte.LITTLE_ENDIAN?(a=t.getInt32(),l=t.getInt32()):(l=t.getInt32(),a=t.getInt32()),e.TEMP_LONG=s.default.fromBits(a,l,!0),e.TEMP_LONG.toNumber();case"ulong2number":var a,l;return t.endian==r.Byte.LITTLE_ENDIAN?(a=t.getUint32(),l=t.getUint32()):(l=t.getUint32(),a=t.getUint32()),e.TEMP_LONG=s.default.fromBits(a,l,!0),e.TEMP_LONG.toNumber();case"float64":return t.getFloat64();case"boolean":return t.getByte()>0;case"string":var c=this.getListLength(n.lengthKey,i);return e.TEMP_BYTE.clear(),e.TEMP_BYTE.writeArrayBuffer(t.buffer,t.pos,c),e.TEMP_BYTE.pos=0,t.pos+=c,e.TEMP_BYTE.readUTF8();default:return console.error("\u672a\u77e5\u6570\u636e\u7c7b\u578b \u5c1d\u8bd5object:"+n.type),null}},e.prototype.readArrayAttribute=function(e,t,n,o){var i;if(void 0===n&&(n=null),void 0===o&&(o=null),i="string"==typeof t.type?this.readBaseTypeAttribute:this.readObjectAttribute,t.lengthKey instanceof Array)return this.readMoreArrayAttrribute(e,t,0,i,o);null==n&&(n=[]);for(var a=this.getListLength(t.lengthKey,o),r=0;r<a;r++)r<n.length?n[r]=i(e,t,n[r],o):n.push(i(e,t,null,o));return n},e.prototype.readMoreArrayAttrribute=function(e,t,n,o,i){void 0===i&&(i=null);for(var a=[],r=this.getListLength(t.lengthKey[n],i),s=0;s<r;s++)n<t.lengthKey.length-1?a.push(this.readMoreArrayAttrribute(e,t,n+1,o,i)):a.push(o(e,t,a[s],i));return a},e.prototype.writeBaseTypeAttribute=function(t,n,o,i){switch(n.type){case"byte":t.writeUint8(o);break;case"int16":t.writeInt16(o);break;case"uint16":t.writeUint16(o);break;case"int32":t.writeInt32(o);break;case"uint32":t.writeUint32(o);break;case"long":var a=o;t.endian==r.Byte.LITTLE_ENDIAN?(t.writeInt32(a.getLowBits()),t.writeInt32(a.getHighBits())):(t.writeInt32(a.getHighBits()),t.writeInt32(a.getLowBits()));break;case"ulong":a=o,t.endian==r.Byte.LITTLE_ENDIAN?(t.writeUint32(a.getLowBitsUnsigned()),t.writeUint32(a.getHighBitsUnsigned())):(t.writeUint32(a.getHighBitsUnsigned()),t.writeUint32(a.getLowBitsUnsigned()));break;case"long2number":var l=s.default.fromNumber(o,e.TEMP_LONG.unsigned);e.TEMP_LONG=s.default.fromBits(l.getLowBits(),l.getHighBits(),e.TEMP_LONG.unsigned),t.endian==r.Byte.LITTLE_ENDIAN?(t.writeUint32(e.TEMP_LONG.getLowBits()),t.writeUint32(e.TEMP_LONG.getHighBits())):(t.writeUint32(e.TEMP_LONG.getHighBits()),t.writeUint32(e.TEMP_LONG.getLowBits()));break;case"float64":t.writeFloat64(o);break;case"boolean":t.writeByte(o>0?1:0);break;case"string":this.writeStringToByte(t,o,this.getListLength(n.lengthKey,i));break;default:return console.log("\u5199\u5165\u6570\u636e\u5931\u8d25\uff0c\u672a\u77e5\u6570\u636e\u7c7b\u578b:"+n.type),null}},e.prototype.writeArrayAttribute=function(e,t,n){var o;o="string"==typeof t.type?this.writeBaseTypeAttribute:this.writeObjectAttribute;var i=this.getDefaultValue(t);if(t.lengthKey instanceof Array)this.writeMoreArrayAttribute(e,this[t.name],t,0,o,i,n);else for(var a=this[t.name],r=this.getListLength(t.lengthKey,n),s=0;s<r;s++)s<a.length?o(e,t,a[s],n):o(e,t,i,n)},e.prototype.writeMoreArrayAttribute=function(e,t,n,o,i,a,r){var s,l=this.getListLength(n.lengthKey[o],r);null==t&&(t=[]);for(var c=0;c<l;c++)s=c<t.length?t[c]:a,o<n.lengthKey.length-1?this.writeMoreArrayAttribute(e,t[c],n,o+1,i,a,r):i(e,n,s,r)},e.prototype.getDefaultValue=function(e){if("string"==typeof e.type)switch(e.type){case"int16":case"uint16":case"int32":case"uint32":case"byte":case"boolean":case"float64":case"long2number":return 0;case"long":return s.default.fromNumber(0);case"ulong":return s.default.fromNumber(0,!0);case"string":return""}return new e.type},e.prototype.writeObjectAttribute=function(e,t,n,o){void 0===o&&(o=null),null==n&&(n=new t.type),n.writeTo(e)},e.prototype.writeStringToByte=function(t,n,o){e.TEMP_BYTE.clear(),e.TEMP_BYTE.length=o,e.TEMP_BYTE.writeUTFBytes(n),e.TEMP_BYTE.length!=o&&console.error("\u5b57\u7b26\u4e32\u957f\u5ea6\u8d85\u51fa\u5b9a\u4e49\u8303\u56f4"),t.writeArrayBuffer(e.TEMP_BYTE.buffer,0,o)},e.prototype.getListLength=function(e,t){return"number"==typeof e?e:this.hasOwnProperty(e)&&(this[e],1)?this[e]:null!=t&&t.hasOwnProperty(e)?t[e]:l.hasOwnProperty(e)?l[e]:(console.error("\u627e\u4e0d\u5230\u6307\u5b9a\u5c5e\u6027[name:"+e+"]"),0)},e.TEMP_BYTE=new u,e.TEMP_LONG=s.default.fromNumber(0),e}();n.BaseMessage=h;var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.uMessageSize=0,t.uMainID=0,t.uAssistantID=0,t.uHandleCode=0,t.dwClientIP=0,t.uCheck=0,t.uMsgSeq=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=28,t.ATTRIBUTES=[new p("uMessageSize","uint32",!1,""),new p("uMainID","uint32",!1,""),new p("uAssistantID","uint32",!1,""),new p("uHandleCode","uint32",!1,""),new p("dwClientIP","uint32",!1,""),new p("uCheck","uint32",!1,""),new p("uMsgSeq","uint32",!1,"")],t}(h);n.NetMessageHead=d,cc._RF.pop()},{"../laya/utils/Byte":"Byte",long:43}],BasePanel31800:[function(e,t,n){"use strict";cc._RF.push(t,"f56cbznE+BMEYFXppPcgenN","BasePanel31800");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.BasePanel31800=void 0;var r=e("../../halls/halllib/laya/Laya"),s=r.Laya.regClass,l=(r.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.playTime=200,t}return i(t,e),t.prototype.onAwake=function(){this.IsShow=!1,this.PanelObj=this.owner},t.prototype.onUpdate=function(){this.IsPlaying&&(this.showTimes+=r.Laya.timer.delta,this.showTimes>=this.playTime?(this.IsPlaying=!1,this.scales=this.IsShow?1:0,this.PanelObj.visible=this.IsShow):this.scales=this.IsShow?this.showTimes/this.playTime:1-this.showTimes/this.playTime,this.PanelObj.scale(this.scales,this.scales,!0))},t.prototype.Show=function(){this.IsPlaying||this.IsShow||(this.IsShow=!0,this.scales=0,this.onPlayPanel())},t.prototype.Hide=function(){!this.IsPlaying&&this.IsShow&&(this.IsShow=!1,this.scales=1,this.onPlayPanel())},t.prototype.onPlayPanel=function(){this.IsPlaying=!0,this.showTimes=0,this.PanelObj.scale(this.scales,this.scales,!0),this.PanelObj.visible=!0},a([s()],t)}(r.Laya.Script));n.BasePanel31800=l,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya"}],BaseProto:[function(e,t,n){"use strict";cc._RF.push(t,"a151erYwBlPyqg3IYhZh527","BaseProto"),Object.defineProperty(n,"__esModule",{value:!0}),n.BaseProtoMsg=void 0,function(e){e.HandShakingRequest="HandShakingRequest",e.HandShakingResponse="HandShakingResponse",e.HeartBeatRequest="HeartBeatRequest",e.HeartBeatResponse="HeartBeatResponse",e.GetAPIDataRequest="GetAPIDataRequest",e.GetAPIDataResponse="GetAPIDataResponse",e.FirstChargeBroadCast="FirstChargeBroadCast"}(n.BaseProtoMsg||(n.BaseProtoMsg={})),cc._RF.pop()},{}],BaseRoom:[function(e,t,n){"use strict";cc._RF.push(t,"a6a41SfqVpDZIFb8H3hggkX","BaseRoom"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../halllib/common/LogBase"),i=e("../halllib/net/InnerEvent"),a=e("../halllib/net/RoomMessage"),r=e("./BaseDesk"),s=e("./RoomMng"),l=e("../halllib/laya/Laya"),c=e("../halllib/net/GameHallMessage").GameHallMessage.CSRoomInfoItem,u=function(){function e(){}return Object.defineProperty(e,"userList",{get:function(){return e._userList},enumerable:!1,configurable:!0}),Object.defineProperty(e,"currentRoomInfo",{get:function(){return this._currentRoomInfo},set:function(t){this._currentRoomInfo.uComType=t.uComType,this._currentRoomInfo.uKindID=t.uKindID,this._currentRoomInfo.uNameID=t.uNameID,this._currentRoomInfo.uRoomID=t.uRoomID,this._currentRoomInfo.uPeopleCount=t.uPeopleCount,this._currentRoomInfo.uDeskPeople=t.uDeskPeople,this._currentRoomInfo.uDeskCount=t.uDeskCount,this._currentRoomInfo.uServicePort=t.uServicePort,this._currentRoomInfo.szGameRoomName=t.szGameRoomName,this._currentRoomInfo.uVirtualUser=t.uVirtualUser,this._currentRoomInfo.dwRoomRule=t.dwRoomRule,this._currentRoomInfo.iLessPoint=t.iLessPoint,this._currentRoomInfo.iBasePoint=t.iBasePoint,this._currentRoomInfo.iRoomTax=t.iRoomTax,this._currentRoomInfo.iLessMoney2Enter=t.iLessMoney2Enter,this._currentRoomInfo.iMaxMoney2Enter=t.iMaxMoney2Enter,this._currentRoomInfo.iRoomLevel=t.iRoomLevel,this._currentRoomInfo.byIsEnableBank=t.byIsEnableBank,this._currentRoomInfo.byIsEnableTrans=t.byIsEnableTrans,r.BaseDesk.Init(this._currentRoomInfo.uDeskPeople,e.myUserRoomInfo.pUserInfoStruct.bDeskNO),o.LogBase.log("BaseRoom: roominfo:",this._currentRoomInfo,e.myUserRoomInfo.pUserInfoStruct)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"userCount",{get:function(){return e._userList.length},enumerable:!1,configurable:!0}),e.addUser=function(t){this.transUserSeat(t);var n=this.updateUser(t);if(null!=n)return n.nickName!=t.nickName&&(o.LogBase.error("\u6709\u4e2aID\u7684\u76f8\u540c\uff0c\u7528\u6237\u540d\u4e0d\u540c\u7684\u7528\u6237\u8fdb\u6765\u4e86\uff1f"),o.LogBase.error("userID:"+n.dwUserID+", oldName:"+n.nickName+", newName:"+t.nickName)),n.bDeskNO!=t.bDeskNO||n.bDeskStation!=t.bDeskStation?(this.userLeftFromSeat(n),this.userSitOnSeat(t)):t.bDeskNO>=0&&t.bDeskStation,void i.HallEvent.event(i.HallEvent.USER_UPDATE,t);e._userList.push(t),this.userSitOnSeat(t),i.HallEvent.event(i.HallEvent.USER_ENTER,t)},e.eventUserUpdate=function(e){i.HallEvent.event(i.HallEvent.USER_UPDATE,e)},e.removeUser=function(t){for(var n,o=0;o<e._userList.length;o++)if(e._userList[o].dwUserID==t){n=e._userList.splice(o,1)[0];break}null!=n&&(this.userLeftFromSeat(n),i.HallEvent.event(i.HallEvent.USER_LEFT,n))},e.updateUserPos=function(e,t,n){var a=this.getUser(e);return a?a.bDeskNO==t&&a.bDeskStation==n?(o.LogBase.log("\u66f4\u65b0\u7528\u6237\u4f4d\u7f6e\uff0c\u4f4d\u7f6e\u6ca1\u53d8\u5316(userID:"+a.dwUserID+",name:"+a.nickName+",desk:"+a.bDeskNO+",seat:"+a.bDeskStation+")"),!0):(this.userLeftFromSeat(a),a.bDeskNO,a.bDeskStation,a.bDeskNO=t,a.bDeskStation=n,this.userSitOnSeat(a),i.HallEvent.event(i.HallEvent.USER_UPDATE,a),!0):(e>0&&o.LogBase.warn("\u66f4\u65b0\u7528\u6237\u4f4d\u7f6e\u5931\u8d25,\u7528\u6237\u4e0d\u5b58\u5728(userID:"+e+")"),!1)},e.getUser=function(t){for(var n=0;n<e._userList.length;n++)if(t==e._userList[n].dwUserID)return e._userList[n];return null},e.getUserByDeskNo=function(t){for(var n=0;n<e._userList.length;n++)if(t==e._userList[n].bDeskStation)return e._userList[n];return null},e.IsAutoSit=function(){return null!=e._currentRoomInfo&&s.RoomMng.IsAutoSit(this._currentRoomInfo.dwRoomRule)},e.isTestRoom=function(){return null!=e._currentRoomInfo&&s.RoomMng.isTestRoom(this._currentRoomInfo.dwRoomRule)},e.updateTestRoomOverTime=function(e){if(e<0)return this._updateTestRoomDate=0,void(this._testRoomOverTime=Number.MAX_VALUE);var t=l.Laya.Browser.now();this._updateTestRoomDate=new Date(t).getDate(),this._testRoomOverTime=t+e},e.getTestRoomResidueTime=function(){return Math.max(0,this._testRoomOverTime-l.Laya.Browser.now())},e.canEnterTestRoom=function(){return new Date(l.Laya.Browser.now()).getDate()!=this._updateTestRoomDate||this.getTestRoomResidueTime()>0},e.getUpdateTestRoomTimeDate=function(){return this._updateTestRoomDate},e.isRewardPoolOpen=function(){return null!=this._currentRoomInfo&&s.RoomMng.isRewardPoolOpen(this._currentRoomInfo.dwRoomRule)},e.reset=function(){e._userList=[],this.currentRoomInfo.reset(),this.myUserRoomInfo.reset(),r.BaseDesk.clear()},e.transUserSeat=function(e){e.bDeskNO>=255&&(e.bDeskNO=-1),e.bDeskStation>=255&&(e.bDeskStation=-1)},e.userLeftFromSeat=function(e){r.BaseDesk.UserLeaveDesk(e.bDeskStation),i.HallEvent.event(i.HallEvent.USER_STAND_UP,[e,e.bDeskNO,e.bDeskStation])},e.traceUserListInfo=function(){o.LogBase.log("-----------\u7528\u6237\u5217\u88681---------------");for(var t=0;t<e._userList.length;t++)o.LogBase.log("(userID:"+e._userList[t].dwUserID+", name:"+e._userList[t].nickName+", deskID:"+e._userList[t].bDeskNO+", seatID:"+e._userList[t].bDeskStation+")");o.LogBase.log("-----------\u7528\u6237\u5217\u88682---------------")},e.userSitOnSeat=function(e){e.bDeskStation<0||(r.BaseDesk.setUserInSeat(e,e.bDeskStation),i.HallEvent.event(i.HallEvent.USER_SIT_DOWN,[e,e.bDeskNO,e.bDeskStation]))},e.updateUser=function(t){this.transUserSeat(t);for(var n=null,o=0;o<e._userList.length;o++)if(e._userList[o].dwUserID==t.dwUserID){n=e._userList[o],e._userList[o]=t;break}return r.BaseDesk.setUserInSeat(t,t.bDeskStation),n},e.prototype.Init=function(){},e.myUserRoomInfo=new a.roommsg.CMD_GR_S_LogonRoom,e._updateTestRoomDate=0,e._testRoomOverTime=0,e._userList=[],e._currentRoomInfo=new c,e}();n.default=u,cc._RF.pop()},{"../halllib/common/LogBase":"LogBase","../halllib/laya/Laya":"Laya","../halllib/net/GameHallMessage":"GameHallMessage","../halllib/net/InnerEvent":"InnerEvent","../halllib/net/RoomMessage":"RoomMessage","./BaseDesk":"BaseDesk","./RoomMng":"RoomMng"}],BatchProgress:[function(e,t,n){"use strict";cc._RF.push(t,"fd198D1M3pBVq8jgqEnp10V","BatchProgress"),Object.defineProperty(n,"__esModule",{value:!0}),n.BatchProgress=void 0;var o=function(){function e(e){this._callback=e,this._items=[],this._weights=[],this._progress=0}return Object.defineProperty(e.prototype,"itemCount",{get:function(){return this._items.length},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this._items.length=0,this._weights.length=0,this._progress=0},e.prototype.createCallback=function(e){var t=this,n=this._items.length;return this._items.push(0),null==e?this._weights.push(null):this._weights.push(Math.max(0,Math.min(e,1))),function(e){return t.update(n,e)}},e.prototype.update=function(e,t){if(-1!=e){this._items[e]=Math.max(0,Math.min(t,1));for(var n=0,o=this._items,i=this._weights,a=1/o.length,r=0;r<o.length;r++){var s=o[r],l=i[r];null!=s&&(n+=s*(null!=l?l:a))}(t=n)>1&&(t=1)}t>this._progress&&(this._progress=t,this._callback(t))},e}();n.BatchProgress=o,cc._RF.pop()},{}],Bezier:[function(e,t,n){"use strict";cc._RF.push(t,"e2facT+lf1HUpiu2JpyoKef","Bezier"),Object.defineProperty(n,"__esModule",{value:!0}),n.Bezier=void 0;var o=e("./Point"),i=function(){function e(){this._controlPoints=[new o.Point,new o.Point,new o.Point],this._calFun=this.getPoint2}return e.prototype._switchPoint=function(e,t){var n=this._controlPoints.shift();n.setTo(e,t),this._controlPoints.push(n)},e.prototype.getPoint2=function(e,t){var n=this._controlPoints[0],o=this._controlPoints[1],i=this._controlPoints[2],a=Math.pow(1-e,2)*n.x+2*e*(1-e)*o.x+Math.pow(e,2)*i.x,r=Math.pow(1-e,2)*n.y+2*e*(1-e)*o.y+Math.pow(e,2)*i.y;t.push(a,r)},e.prototype.getPoint3=function(e,t){var n=this._controlPoints[0],o=this._controlPoints[1],i=this._controlPoints[2],a=this._controlPoints[3],r=Math.pow(1-e,3)*n.x+3*o.x*e*(1-e)*(1-e)+3*i.x*e*e*(1-e)+a.x*Math.pow(e,3),s=Math.pow(1-e,3)*n.y+3*o.y*e*(1-e)*(1-e)+3*i.y*e*e*(1-e)+a.y*Math.pow(e,3);t.push(r,s)},e.prototype.insertPoints=function(e,t){var n,o;for(o=1/(e=e>0?e:5),n=0;n<=1;n+=o)this._calFun(n,t)},e.prototype.getBezierPoints=function(e,t,n){var i,a;if(void 0===t&&(t=5),void 0===n&&(n=2),(a=e.length)<2*(n+1))return[];var r=[];switch(n){case 2:this._calFun=this.getPoint2;break;case 3:this._calFun=this.getPoint3;break;default:return[]}for(;this._controlPoints.length<=n;)this._controlPoints.push(o.Point.create());for(i=0;i<2*n;i+=2)this._switchPoint(e[i],e[i+1]);for(i=2*n;i<a;i+=2)this._switchPoint(e[i],e[i+1]),i/2%n==0&&this.insertPoints(t,r);return r},e.I=new e,e}();n.Bezier=i,cc._RF.pop()},{"./Point":"Point"}],BigGiftComponent:[function(e,t,n){"use strict";cc._RF.push(t,"8c30eiyZgJG1I4gUzAu2XHq","BigGiftComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=e("../../../../../../main/scripts/framework/gg"),u=e("../../../../systems/bigGift/BigGiftSystem"),p=e("../../../../systems/item/ItemSystem"),h=e("../uiSystems/UserInfoUIEvent"),d=l(e("./BigGiftPrefab")),f=cc._decorator,g=f.ccclass,m=f.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.contentNode=null,t.selectedNode=null,t.unselectedNode=null,t.bigGiftPrefab=null,t.bigGiftView=null,t.bigGiftContent=null,t.paddingX=20,t.itemWidth=119,t.bigGiftItemList=[],t._itemNodeAll=[],t.playerInfoType=null,t}return i(t,e),t.prototype.onEnable=function(){c.gg.eventManager.on(h.UserInfoUIEvent.ShowDressUpComponentsEvent,this.onHideUI,this),c.gg.eventManager.on(h.UserInfoUIEvent.ShowBigGiftComponentsEvent,this.onShowUI,this)},t.prototype.onDisable=function(){c.gg.eventManager.offTarget(this),this.onHideUI(),this.reset()},t.prototype.onLoad=function(){this.onHideUI()},t.prototype.initUserId=function(e){this.playerInfoType=e},t.prototype.onShowUI=function(){this.contentNode.active||(this.contentNode.active=!0,this.selectedNode.active=!0,this.unselectedNode.active=!1,this.getBigGiftList())},t.prototype.onHideUI=function(){this.contentNode.active=!1,this.selectedNode.active=!1,this.unselectedNode.active=!0},t.prototype.updateDesignList=function(){return r(this,void 0,void 0,function(){var e,t,n,o;return s(this,function(){for(this.bigGiftContent.width=this.bigGiftItemList.length*this.itemWidth+this.paddingX*this.bigGiftItemList.length,this.bigGiftContent.width<this.bigGiftView.node.width&&(this.bigGiftContent.width=this.bigGiftView.node.width),e=0,t=this.bigGiftItemList;e<t.length;e++)n=t[e],(o=this.getItemNode()).active=!0,o.getComponent(d.default).updateUI(n,this.playerInfoType);return[2]})})},t.prototype.getItemNode=function(){var e=this._itemNodeAll.pop();return e||(e=cc.instantiate(this.bigGiftPrefab),this.bigGiftContent.addChild(e)),e},t.prototype.reset=function(){this.bigGiftItemList=[],this._itemNodeAll=[];for(var e=this.bigGiftContent.childrenCount-1;e>=0;--e)this._itemNodeAll.push(this.bigGiftContent.children[e]),this.bigGiftContent.children[e].active=!1},t.prototype.getBigGiftList=function(){var e;return r(this,void 0,void 0,function(){var t,n,o,i;return s(this,function(a){switch(a.label){case 0:return this.reset(),[4,u.bigGiftSystem.getBigGiftList()];case 1:if((t=a.sent())&&1==t.status&&(null===(e=t.big_gift_list)||void 0===e?void 0:e.length)>0){for(n=0,o=t.big_gift_list;n<o.length;n++)i=o[n],p.itemSystem.getItem(i.item_id)&&this.bigGiftItemList.push(i);this.updateDesignList()}return[2]}})})},a([m({type:cc.Node,tooltip:"\u5185\u5bb9\u8282\u70b9"})],t.prototype,"contentNode",void 0),a([m({type:cc.Node,tooltip:"\u9009\u4e2d"})],t.prototype,"selectedNode",void 0),a([m({type:cc.Node,tooltip:"\u672a\u9009\u4e2d"})],t.prototype,"unselectedNode",void 0),a([m({type:cc.Prefab,tooltip:"\u5927\u793c\u7269\u9884\u5236\u4f53"})],t.prototype,"bigGiftPrefab",void 0),a([m({type:cc.ScrollView,tooltip:"\u6ed1\u52a8view"})],t.prototype,"bigGiftView",void 0),a([m({type:cc.Node,tooltip:"\u88c5\u626e\u7236\u8282\u70b9"})],t.prototype,"bigGiftContent",void 0),a([m({tooltip:"item\u7684\u95f4\u8ddd"})],t.prototype,"paddingX",void 0),a([m({tooltip:"item\u5bbd\u5ea6"})],t.prototype,"itemWidth",void 0),a([g],t)}(cc.Component);n.default=y,cc._RF.pop()},{"../../../../../../main/scripts/framework/gg":"gg","../../../../systems/bigGift/BigGiftSystem":"BigGiftSystem","../../../../systems/item/ItemSystem":"ItemSystem","../uiSystems/UserInfoUIEvent":"UserInfoUIEvent","./BigGiftPrefab":"BigGiftPrefab"}],BigGiftEffectPanel:[function(e,t,n){"use strict";cc._RF.push(t,"90d43pLZmtK+7qVlBER2z68","BigGiftEffectPanel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.ReceiverPlayerBigGiftEffectInfo=n.OtherPlayerBigGiftEffectInfo=void 0;var c=l(e("../../../components/UserIconStyle1Component")),u=e("../../../configs/BundleConfig"),p=e("../../../configs/CommonAudioConfig"),h=e("../../../configs/CommonPanelConfig"),d=e("../../../framework/gg"),f=e("../../../framework/panelrouter/PanelComponent"),g=l(e("../../../framework/utils/StringUtils")),m=e("../../../systems/bigGift/BigGiftSystem"),y=e("../../../systems/item/CommonItemConfig"),_=e("../../../systems/item/ItemSystem"),v=e("../../../systems/user/UserSystem"),b=e("../../../systems/user/UserUISystem"),S=e("../../../uiSystem/GameAnimSystem"),C=cc._decorator,I=C.ccclass,R=C.property,L=function(){function e(){this.contentNode=null,this.receiverNode=null,this.receiverHeadNode=null,this.receiverVipNode=null,this.receiverUserLab=null,this.receiverCharmNode=null,this.receiverCharmLab=null,this.sendNode=null,this.sendHeadNode=null,this.sendVipNode=null,this.sendUserLab=null,this.sendCharmNode=null,this.sendCharmLab=null,this.giftBoxNode=null}return a([R({type:cc.Node,tooltip:"\u4e3b\u8282\u70b9"})],e.prototype,"contentNode",void 0),a([R({type:cc.Node,tooltip:"\u6536\u793c\u4eba\u8282\u70b9"})],e.prototype,"receiverNode",void 0),a([R({type:cc.Node,tooltip:"\u6536\u793c\u4eba\u5934\u50cf\u8282\u70b9"})],e.prototype,"receiverHeadNode",void 0),a([R({type:cc.Sprite,tooltip:"\u9001\u793c\u4ebavip\u56fe\u6807"})],e.prototype,"receiverVipNode",void 0),a([R({type:cc.Label,tooltip:"\u6536\u793c\u4eba\u540d\u5b57"})],e.prototype,"receiverUserLab",void 0),a([R({type:cc.Node,tooltip:"\u6536\u793c\u4eba\u9b45\u529b\u503c\u8282\u70b9"})],e.prototype,"receiverCharmNode",void 0),a([R({type:cc.Label,tooltip:"\u6536\u793c\u4eba\u9b45\u529b\u503c"})],e.prototype,"receiverCharmLab",void 0),a([R({type:cc.Node,tooltip:"\u9001\u793c\u4eba\u8282\u70b9"})],e.prototype,"sendNode",void 0),a([R({type:cc.Node,tooltip:"\u9001\u793c\u4eba\u5934\u50cf\u8282\u70b9"})],e.prototype,"sendHeadNode",void 0),a([R({type:cc.Sprite,tooltip:"\u9001\u793c\u4ebavip\u56fe\u6807"})],e.prototype,"sendVipNode",void 0),a([R({type:cc.Label,tooltip:"\u9001\u793c\u4eba\u540d\u5b57"})],e.prototype,"sendUserLab",void 0),a([R({type:cc.Node,tooltip:"\u6536\u793c\u4eba\u9b45\u529b\u503c\u8282\u70b9"})],e.prototype,"sendCharmNode",void 0),a([R({type:cc.Label,tooltip:"\u6536\u793c\u4eba\u9b45\u529b\u503c"})],e.prototype,"sendCharmLab",void 0),a([R({type:cc.Node,tooltip:"\u793c\u76d2"})],e.prototype,"giftBoxNode",void 0),a([I("OtherPlayerBigGiftEffectInfo")],e)}();n.OtherPlayerBigGiftEffectInfo=L;var P=function(){function e(){this.contentNode=null,this.sendHeadNode=null,this.sendVipNode=null,this.bigGiftLab=null,this.bigGiftNameLab=null,this.receiverCharmNode=null,this.receiverCharmLab=null}return a([R({type:cc.Node,tooltip:"\u4e3b\u8282\u70b9"})],e.prototype,"contentNode",void 0),a([R({type:cc.Node,tooltip:"\u9001\u793c\u4eba\u5934\u50cf\u8282\u70b9"})],e.prototype,"sendHeadNode",void 0),a([R({type:cc.Sprite,tooltip:"\u9001\u793c\u4ebavip\u56fe\u6807"})],e.prototype,"sendVipNode",void 0),a([R({type:cc.Label,tooltip:"\u793c\u7269\u540d\u79f0"})],e.prototype,"bigGiftLab",void 0),a([R({type:cc.Label,tooltip:"\u9001\u793c\u4eba\u540d"})],e.prototype,"bigGiftNameLab",void 0),a([R({type:cc.Node,tooltip:"\u6536\u793c\u4eba\u9b45\u529b\u503c\u8282\u70b9"})],e.prototype,"receiverCharmNode",void 0),a([R({type:cc.Label,tooltip:"\u6536\u793c\u4eba\u9b45\u529b\u503c"})],e.prototype,"receiverCharmLab",void 0),a([I("ReceiverPlayerBigGiftEffectInfo")],e)}();n.ReceiverPlayerBigGiftEffectInfo=P;var M=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bgNode=null,t.contentNode=null,t.otherPlayer=null,t.receiverPlayer=null,t.boxSpine=null,t.giftSpine=null,t.isShowing=!1,t.otherReceiverCharmNodeY=0,t.otherSendCharmNodeY=0,t.receiverCharmNodeY=0,t.charmMoveY=60,t.bigGiftBroadCast=null,t}return i(t,e),t.prototype.show=function(e){this.isShowing?e.onShowed():(m.bigGiftSystem.hasMessage()&&S.gamePanelSystem.gameShowPanel===S.GamePanelType.Other&&this.newFloatingApplication(m.bigGiftSystem.pop()),e.onShowed())},t.prototype.hide=function(e){var t=this;this.hideAnim(function(){t.isShowing=!1,e.onHided()})},t.prototype.onLoad=function(){this.otherReceiverCharmNodeY=this.otherPlayer.receiverCharmNode.y,this.otherSendCharmNodeY=this.otherPlayer.sendCharmNode.y,this.receiverCharmNodeY=this.receiverPlayer.receiverCharmNode.y},t.prototype.onDisable=function(){this.reset()},t.prototype.reset=function(){this.bgNode.stopAllActions(),this.bgNode.opacity=0,this.contentNode.stopAllActions(),this.contentNode.opacity=0,this.otherPlayer.contentNode.active=!1,this.otherPlayer.contentNode.scaleY=0,this.receiverPlayer.contentNode.active=!1,this.receiverPlayer.contentNode.scaleY=0,this.boxSpine.node.active=!1,this.giftSpine.node.active=!1,this.otherPlayer.giftBoxNode.stopAllActions(),this.otherPlayer.giftBoxNode.opacity=0,this.otherPlayer.receiverCharmNode.stopAllActions(),this.otherPlayer.receiverCharmNode.opacity=0,this.otherPlayer.receiverCharmNode.y=this.otherReceiverCharmNodeY,this.otherPlayer.sendCharmNode.stopAllActions(),this.otherPlayer.sendCharmNode.opacity=0,this.otherPlayer.sendCharmNode.y=this.otherSendCharmNodeY,this.receiverPlayer.receiverCharmNode.stopAllActions(),this.receiverPlayer.receiverCharmNode.opacity=0,this.receiverPlayer.receiverCharmNode.y=this.receiverCharmNodeY},t.prototype.hideAnim=function(e){this.bgNode.stopAllActions(),cc.tween(this.bgNode).to(.128,{opacity:0},{easing:"sineOut"}).call(function(){e()}).start(),this.contentNode.stopAllActions(),cc.tween(this.contentNode).to(.128,{opacity:0},{easing:"sineOut"}).start()},t.prototype.newFloatingApplication=function(e){var t,n=this;this.bigGiftBroadCast=e,this.isShowing=!0,this.reset(),this.updateUI(e);var o=_.itemSystem.getItem(e.item_id);if(o){var i=0;if(e.receiver_uid!=(null===(t=v.userSystem.userModel)||void 0===t?void 0:t.uid)){cc.tween(this.otherPlayer.contentNode).to(.38,{scaleY:1},{easing:"sineOut"}).start();var a=this.otherPlayer.receiverNode.getPosition();this.otherPlayer.giftBoxNode.setPosition(this.otherPlayer.sendNode.getPosition());var r=this.otherPlayer.giftBoxNode.x-a.x,s=a.y-this.otherPlayer.giftBoxNode.y;cc.tween(this.otherPlayer.giftBoxNode).delay(.5).to(.26,{opacity:255},{easing:"quadIn"}).bezierTo(.68,cc.v2(this.otherPlayer.giftBoxNode.x-r,this.otherPlayer.giftBoxNode.y),cc.v2(a.x,a.y-s/2),a).to(.26,{opacity:0}).start(),cc.tween(this.otherPlayer.sendCharmNode).delay(1.7).to(.128,{opacity:255},{easing:"sineOut"}).to(.68,{y:this.otherPlayer.sendCharmNode.y+this.charmMoveY},{easing:"sineOut"}).to(.38,{opacity:0},{easing:"sineIn"}).start(),cc.tween(this.otherPlayer.receiverCharmNode).delay(1.7).to(.128,{opacity:255},{easing:"sineOut"}).to(.68,{y:this.otherPlayer.receiverCharmNode.y+this.charmMoveY},{easing:"sineOut"}).to(.38,{opacity:0},{easing:"sineIn"}).start()}else cc.tween(this.receiverPlayer.contentNode).to(.38,{scaleY:1},{easing:"sineOut"}).start(),i=1.83,this.boxSpine.node.active=!0,this.boxSpine.setAnimation(0,"animation",!1),d.gg.audio.playOneShot(p.CommonAudioConfig.openBigGift),cc.tween(this.receiverPlayer.receiverCharmNode).delay(.9).to(.128,{opacity:255},{easing:"sineOut"}).to(.68,{y:this.receiverPlayer.receiverCharmNode.y+this.charmMoveY},{easing:"sineOut"}).to(.38,{opacity:0},{easing:"sineIn"}).start();_.itemSystem.getBigGiftSpine(e.item_id).then(function(e){null!=e&&e.iconType===y.IconType.Spine&&(n.giftSpine.skeletonData=e.spineData,n.playrAnim(i,o))}).catch(function(){d.gg.logger.error("\u5927\u793c\u7269\u52a8\u753b\u52a0\u8f7d\u5931\u8d25"),d.gg.panelRouter.hide({panel:h.CommonPanelConfig.bigGiftEffectPanel,onHided:function(){m.bigGiftSystem.hasMessage()&&S.gamePanelSystem.gameShowPanel===S.GamePanelType.Other&&d.gg.panelRouter.show({panel:h.CommonPanelConfig.bigGiftEffectPanel})}})})}},t.prototype.playrAnim=function(e,t){var n=this,o=Number(t.animation_time);cc.tween(this.contentNode).to(.128,{opacity:255},{easing:"sineOut"}).start(),cc.tween(this.bgNode).to(.128,{opacity:180},{easing:"sineOut"}).delay(e).call(function(){n.giftSpine.node.active=!0,d.gg.audio.playOneShot({path:u.BundleConfig.Resources+"/audios/bigGift/"+t.item_asset_name}),n.giftSpine.setAnimation(0,"animation",!1)}).delay(o).call(function(){d.gg.panelRouter.hide({panel:h.CommonPanelConfig.bigGiftEffectPanel,onHided:function(){m.bigGiftSystem.hasMessage()&&S.gamePanelSystem.gameShowPanel===S.GamePanelType.Other&&d.gg.panelRouter.show({panel:h.CommonPanelConfig.bigGiftEffectPanel})}})}).start()},t.prototype.updateUI=function(e){var t;return r(this,void 0,void 0,function(){var n,o,i,a,r;return s(this,function(s){switch(s.label){case 0:return e.receiver_uid!=(null===(t=v.userSystem.userModel)||void 0===t?void 0:t.uid)?[3,4]:(this.receiverPlayer.contentNode.active=!0,this.receiverPlayer.receiverCharmLab.string="+ "+e.receiver_charm,this.receiverPlayer.sendHeadNode.getComponent(c.default).updateIcon(e.sender_avatar),this.receiverPlayer.sendHeadNode.getComponent(c.default).updateIconFrame(e.sender_frame),n="",(o=_.itemSystem.getItem(e.item_id))&&(n=o.item_name_ar),this.receiverPlayer.bigGiftLab.string=n,this.receiverPlayer.bigGiftNameLab.string=e.sender_nick,e.sender_vip_info?(this.receiverPlayer.sendVipNode.node.active=!0,i=this.receiverPlayer.sendVipNode,[4,b.userUISystem.loadUserVipIcon(e.sender_vip_info.vip_level,e.sender_vip_info.vip_status)]):[3,2]);case 1:return i.spriteFrame=s.sent(),[3,3];case 2:this.receiverPlayer.sendVipNode.node.active=!1,s.label=3;case 3:return[3,10];case 4:return this.otherPlayer.contentNode.active=!0,this.otherPlayer.receiverCharmLab.string="+ "+e.receiver_charm,this.otherPlayer.receiverUserLab.string=g.default.clampStr(e.receiver_nick,14),this.otherPlayer.receiverHeadNode.getComponent(c.default).updateIcon(e.receiver_avatar),this.otherPlayer.receiverHeadNode.getComponent(c.default).updateIconFrame(e.receiver_frame),this.otherPlayer.sendCharmLab.string="+ "+e.sender_charm,this.otherPlayer.sendUserLab.string=g.default.clampStr(e.sender_nick,14),this.otherPlayer.sendHeadNode.getComponent(c.default).updateIcon(e.sender_avatar),this.otherPlayer.sendHeadNode.getComponent(c.default).updateIconFrame(e.sender_frame),e.receiver_vip_info?(this.otherPlayer.receiverVipNode.node.active=!0,a=this.otherPlayer.receiverVipNode,[4,b.userUISystem.loadUserVipIcon(e.receiver_vip_info.vip_level,e.receiver_vip_info.vip_status)]):[3,6];case 5:return a.spriteFrame=s.sent(),[3,7];case 6:this.otherPlayer.receiverVipNode.node.active=!1,s.label=7;case 7:return e.sender_vip_info?(this.otherPlayer.sendVipNode.node.active=!0,r=this.otherPlayer.sendVipNode,[4,b.userUISystem.loadUserVipIcon(e.sender_vip_info.vip_level,e.sender_vip_info.vip_status)]):[3,9];case 8:return r.spriteFrame=s.sent(),[3,10];case 9:this.otherPlayer.sendVipNode.node.active=!1,s.label=10;case 10:return[2]}})})},t.prototype.onClickGiveGift=function(){d.gg.panelRouter.show({panel:h.CommonPanelConfig.userInfoPanel,data:{qurey_uid:this.bigGiftBroadCast.sender_uid,userName:this.bigGiftBroadCast.sender_nick,userIcon:this.bigGiftBroadCast.sender_avatar,userIconFrame:this.bigGiftBroadCast.sender_frame}})},a([R({type:cc.Node,tooltip:"\u906e\u7f69\u80cc\u666f"})],t.prototype,"bgNode",void 0),a([R({type:cc.Node,tooltip:"\u6240\u6709\u5185\u5bb9\u4e3b\u8282\u70b9"})],t.prototype,"contentNode",void 0),a([R({type:L,tooltip:"\u5176\u4ed6\u73a9\u5bb6/\u9001\u793c\u4eba\u754c\u9762UI"})],t.prototype,"otherPlayer",void 0),a([R({type:P,tooltip:"\u6536\u793c\u4eba\u754c\u9762UI"})],t.prototype,"receiverPlayer",void 0),a([R({type:sp.Skeleton,tooltip:"\u793c\u76d2\u52a8\u753b"})],t.prototype,"boxSpine",void 0),a([R({type:sp.Skeleton,tooltip:"\u793c\u7269\u52a8\u753b"})],t.prototype,"giftSpine",void 0),a([I],t)}(f.PanelComponent);n.default=M,cc._RF.pop()},{"../../../components/UserIconStyle1Component":"UserIconStyle1Component","../../../configs/BundleConfig":"BundleConfig","../../../configs/CommonAudioConfig":"CommonAudioConfig","../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../framework/gg":"gg","../../../framework/panelrouter/PanelComponent":"PanelComponent","../../../framework/utils/StringUtils":"StringUtils","../../../systems/bigGift/BigGiftSystem":"BigGiftSystem","../../../systems/item/CommonItemConfig":"CommonItemConfig","../../../systems/item/ItemSystem":"ItemSystem","../../../systems/user/UserSystem":"UserSystem","../../../systems/user/UserUISystem":"UserUISystem","../../../uiSystem/GameAnimSystem":"GameAnimSystem"}],BigGiftPrefab:[function(e,t,n){"use strict";cc._RF.push(t,"6308eyqBu1AL6HGevesYXcK","BigGiftPrefab");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var l=e("../../../../configs/CommonPanelConfig"),c=e("../../../../framework/gg"),u=e("../../../../framework/i18n/I18n"),p=e("../../../../systems/api/gameapi/GameApiModels"),h=e("../../../../systems/api/gameapi/PayApiModels"),d=e("../../../../systems/bigGift/BigGiftSystem"),f=e("../../../../systems/game/GameUISystem"),g=e("../../../../systems/gamews/WebSocketResponseCode"),m=e("../../../../systems/item/CommonItemConfig"),y=e("../../../../systems/item/ItemSystem"),_=e("../../../../systems/user/UserWalletSystem"),v=e("../uiSystems/UserInfoUIEvent"),b=cc._decorator,S=b.ccclass,C=b.property,I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iconSprite=null,t.spine=null,t.dragon=null,t.coinNode=null,t.diamondNode=null,t.priceLab=null,t.bigGiftInfo=null,t.playerInfoType=null,t}return i(t,e),t.prototype.onLoad=function(){this.onHideUI()},t.prototype.onEnable=function(){c.gg.eventManager.on(v.UserInfoUIEvent.ShowDressUpComponentsEvent,this.onHideUI,this),c.gg.eventManager.on(v.UserInfoUIEvent.ShowBigGiftComponentsEvent,this.onShowUI,this)},t.prototype.onDisable=function(){c.gg.eventManager.offTarget(this),this.unscheduleAllCallbacks()},t.prototype.onShowUI=function(){this.node.getComponent(cc.Button).interactable=!0},t.prototype.onHideUI=function(){this.node.getComponent(cc.Button).interactable=!1},t.prototype.updateUI=function(e,t){var n=this;this.node.getComponent(cc.Button).interactable=!0,this.bigGiftInfo=e,this.playerInfoType=t,this.priceLab.string=e.price+"",e.currency==p.CurrencyType.Coin?(this.coinNode.active=!0,this.diamondNode.active=!1):e.currency==p.CurrencyType.Diamond&&(this.diamondNode.active=!0,this.coinNode.active=!1),null!=y.itemSystem.getItem(e.item_id)&&y.itemSystem.getItemIconInfo(e.item_id).then(function(e){null!=e&&(n.iconSprite.node.active=!1,n.dragon.node.active=!1,n.spine.node.active=!1,e.iconType===m.IconType.Image?(n.iconSprite.spriteFrame=e.spriteFrame,n.iconSprite.node.active=!0):e.iconType===m.IconType.Dragon?(n.dragon.node.active=!0,n.dragon.dragonAsset=e.dragonAsset,n.dragon.dragonAtlasAsset=e.dragonAtlasAsset,n.dragon.armatureName="armatureName",n.dragon.playAnimation("animation",0)):e.iconType===m.IconType.Spine&&(n.spine.node.active=!0,n.unscheduleAllCallbacks(),n.spine.skeletonData=e.spineData,n.spine.setAnimation(0,"animation",!0)))})},t.prototype.onClickSendBigGift=function(){return r(this,void 0,void 0,function(){var e,t=this;return s(this,function(){return this.bigGiftInfo.currency==p.CurrencyType.Coin&&_.userWalletSystem.coinBalance<this.bigGiftInfo.price?(f.gameUISystem.showRecharge(h.GoodsTypeEnum.Coin),[2]):this.bigGiftInfo.currency==p.CurrencyType.Diamond&&_.userWalletSystem.diamondBalance<this.bigGiftInfo.price?(f.gameUISystem.showRecharge(h.GoodsTypeEnum.Diamond),[2]):(e="",this.bigGiftInfo.currency==p.CurrencyType.Coin?e=u.i18n.getText("bigGift.tip.confirmCoin",this.bigGiftInfo.price):this.bigGiftInfo.currency==p.CurrencyType.Diamond&&(e=u.i18n.getText("bigGift.tip.confirmDiamond",this.bigGiftInfo.price)),c.gg.panelRouter.show({panel:l.CommonPanelConfig.alertPanel,data:{titleLabel:u.i18n.getText("alert.title.tips"),msgLabel:u.i18n.getText(e),showCancelBtn:!0,showConfirmBtn:!0,onConfirmBtnClick:function(){t.sendBigGift(),c.gg.panelRouter.hide({panel:l.CommonPanelConfig.alertPanel})},onCancelBtnClick:function(){c.gg.panelRouter.hide({panel:l.CommonPanelConfig.alertPanel})}}}),[2])})})},t.prototype.sendBigGift=function(){var e,t,n,o,i,a;return r(this,void 0,void 0,function(){var r,p;return s(this,function(s){switch(s.label){case 0:return[4,d.bigGiftSystem.sendBigGift({receiver_uid:null!==(t=null===(e=this.playerInfoType)||void 0===e?void 0:e.qurey_uid)&&void 0!==t?t:"",receiver_player_id:Number(null!==(o=null===(n=this.playerInfoType)||void 0===n?void 0:n.player_id)&&void 0!==o?o:"0"),item_id:null!==(a=null===(i=this.bigGiftInfo)||void 0===i?void 0:i.item_id)&&void 0!==a?a:null})];case 1:return(r=s.sent())&&1==r.status?c.gg.panelRouter.hide({panel:l.CommonPanelConfig.userInfoPanel}):(p=u.i18n.getText("toast.bigGiftFail"),r.status==g.WebSocketResponseCode.BalanceIsLowerThanMinFee&&(p=u.i18n.getText("toast.bigGiftBalanceFail")),c.gg.panelRouter.show({panel:l.CommonPanelConfig.toastPanel,data:{text:p}})),[2]}})})},a([C({type:cc.Sprite,tooltip:"\u9053\u5177\u56fe\u6807"})],t.prototype,"iconSprite",void 0),a([C({type:sp.Skeleton,tooltip:"\u9053\u5177spine"})],t.prototype,"spine",void 0),a([C({type:dragonBones.ArmatureDisplay,tooltip:"\u9053\u5177dragon"})],t.prototype,"dragon",void 0),a([C({type:cc.Node,tooltip:"\u91d1\u5e01\u56fe\u6807"})],t.prototype,"coinNode",void 0),a([C({type:cc.Node,tooltip:"\u91d1\u5e01\u56fe\u6807"})],t.prototype,"diamondNode",void 0),a([C({type:cc.Label,tooltip:"\u4ef7\u683c"})],t.prototype,"priceLab",void 0),a([S],t)}(cc.Component);n.default=I,cc._RF.pop()},{"../../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../../framework/gg":"gg","../../../../framework/i18n/I18n":"I18n","../../../../systems/api/gameapi/GameApiModels":"GameApiModels","../../../../systems/api/gameapi/PayApiModels":"PayApiModels","../../../../systems/bigGift/BigGiftSystem":"BigGiftSystem","../../../../systems/game/GameUISystem":"GameUISystem","../../../../systems/gamews/WebSocketResponseCode":"WebSocketResponseCode","../../../../systems/item/CommonItemConfig":"CommonItemConfig","../../../../systems/item/ItemSystem":"ItemSystem","../../../../systems/user/UserWalletSystem":"UserWalletSystem","../uiSystems/UserInfoUIEvent":"UserInfoUIEvent"}],BigGiftProto:[function(e,t,n){"use strict";cc._RF.push(t,"321f4AnY0NImbtuYlZLAdot","BigGiftProto"),Object.defineProperty(n,"__esModule",{value:!0}),n.BigGiftProtoMsg=void 0,function(e){e.GetBigGiftListRequest="GetBigGiftListRequest",e.GetBigGiftListResponse="GetBigGiftListResponse",e.SendBigGiftRequest="SendBigGiftRequest",e.SendBigGiftResponse="SendBigGiftResponse",e.SendBigGiftBroadCast="SendBigGiftBroadCast"}(n.BigGiftProtoMsg||(n.BigGiftProtoMsg={})),cc._RF.pop()},{}],BigGiftSystem:[function(e,t,n){"use strict";cc._RF.push(t,"9195bRwk/NB/pzhFRkesJZG","BigGiftSystem");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.bigGiftSystem=n.BigGiftEvent=void 0;var a,r=e("../../configs/CommonPanelConfig"),s=e("../../ffframework/rongyun/im/RongyunImCore"),l=e("../../ffframework/rongyun/im/RongyunImWrapper"),c=e("../../framework/gg"),u=e("../../uiSystem/GameAnimSystem"),p=e("../friend/FriendProto"),h=e("../gamews/GameSocketSystem"),d=e("../im/IMSystem"),f=e("../im/IMSystemModel"),g=e("../item/ItemSystem"),m=e("../login/LoginEvent"),y=e("../user/UserSystem"),_=e("./BigGiftProto");(function(e){e.BigGiftGameBroadCastEvent="BigGiftEvent.BigGiftGameBroadCastEvent",e.GameBigGiftEffectEndEvent="BigGiftEvent.GameBigGiftEffectEndEvent"})(a=n.BigGiftEvent||(n.BigGiftEvent={}));var v=function(){function e(){this.bigGiftBroadCastLsit=[],this.gameBigGiftBroadCastLsit=[]}return e.prototype.enable=function(){this.reset(),c.gg.eventManager.on(m.LoginEvent.OnUserKickOut,this.onUserOut,this),c.gg.eventManager.on(m.LoginEvent.OnUserLogout,this.onUserOut,this),c.gg.eventManager.on(m.LoginEvent.OnUserLostConnection,this.onUserOut,this),h.gameSocketSystem.on(_.BigGiftProtoMsg.SendBigGiftBroadCast,this.onSendBigGiftBroadCast,this),cc.director.on(cc.Director.EVENT_AFTER_SCENE_LAUNCH,this.onSceneLaunched,this)},e.prototype.disable=function(){c.gg.eventManager.offTarget(this),h.gameSocketSystem.offTarget(this),cc.director.off(cc.Director.EVENT_AFTER_SCENE_LAUNCH,this.onSceneLaunched,this),this.reset()},e.prototype.reset=function(){this.resetOther(),this.resetGame()},e.prototype.resetOther=function(){this.bigGiftBroadCastLsit=[]},e.prototype.resetGame=function(){this.gameBigGiftBroadCastLsit=[]},e.prototype.onUserOut=function(){this.disable()},e.prototype.getBigGiftList=function(){var e;return o(this,void 0,Promise,function(){var t;return i(this,function(n){switch(n.label){case 0:return[4,h.gameSocketSystem.requestAsync({requestMsg:_.BigGiftProtoMsg.GetBigGiftListRequest,responseMsg:_.BigGiftProtoMsg.GetBigGiftListResponse})];case 1:return(t=n.sent())&&1==t.status&&(null===(e=t.big_gift_list)||void 0===e?void 0:e.length)>0?c.gg.logger.log("\u83b7\u53d6\u5927\u793c\u7269\u5217\u8868\u6210\u529f",t):c.gg.logger.log("\u83b7\u53d6\u5927\u793c\u7269\u5217\u8868\u5931\u8d25"),[2,t]}})})},e.prototype.sendBigGift=function(e){return o(this,void 0,Promise,function(){var t;return i(this,function(n){switch(n.label){case 0:return[4,h.gameSocketSystem.requestAsync({requestMsg:_.BigGiftProtoMsg.SendBigGiftRequest,requestData:e,responseMsg:_.BigGiftProtoMsg.SendBigGiftResponse})];case 1:return 1==(null==(t=n.sent())?void 0:t.status)?c.gg.logger.log("\u8d60\u9001\u5927\u793c\u7269\u6210\u529f"):c.gg.logger.log("\u8d60\u9001\u5927\u793c\u7269\u5931\u8d25"),[2,t]}})})},e.prototype.onSceneLaunched=function(){this.hasMessage()&&u.gamePanelSystem.gameShowPanel===u.GamePanelType.Other&&c.gg.panelRouter.show({panel:r.CommonPanelConfig.bigGiftEffectPanel})},e.prototype.hasMessage=function(){return this.bigGiftBroadCastLsit.length>0},e.prototype.pop=function(){return this.bigGiftBroadCastLsit.shift()},e.prototype.hasGameMessage=function(){return this.gameBigGiftBroadCastLsit.length>0},e.prototype.popGame=function(){return this.gameBigGiftBroadCastLsit.shift()},e.prototype.onSendBigGiftBroadCast=function(e){var t;c.gg.logger.log("\u73a9\u5bb6\u5927\u793c\u7269\u5e7f\u64ad",e),g.itemSystem.getItem(e.item_id)&&u.gamePanelSystem.gameShowPanel!==u.GamePanelType.Store&&(u.gamePanelSystem.gameShowPanel===u.GamePanelType.Other?(this.bigGiftBroadCastLsit.push(e),c.gg.panelRouter.show({panel:r.CommonPanelConfig.bigGiftEffectPanel})):(this.gameBigGiftBroadCastLsit.push(e),c.gg.eventManager.emit(a.BigGiftGameBroadCastEvent)),e.sender_uid===(null===(t=y.userSystem.userModel)||void 0===t?void 0:t.uid)&&this.sendRongyunIm(e))},e.prototype.sendRongyunIm=function(e){d.imSystem.worldChatRoomId&&(d.imSystem.insertConversation({conversationType:s.RongyunIMConversationType.CHATROOM,target_id:d.imSystem.worldChatRoomId,itemType:f.IMConversationEnum.ChatRoom}),l.RongyunImWrapper.sendMessage({conversation_type:s.RongyunIMConversationType.CHATROOM,target_id:d.imSystem.worldChatRoomId,text:"[bigGift]",extra:{type:s.RongyunIMExtraType.BigGift,data:e}})),null!=e.receiver_uid&&"undefined"!=e.receiver_uid&&""!=e.receiver_uid&&y.userSystem.searchUserAsync({uid:e.receiver_uid}).then(function(t){if(1==t.status&&t.user.relationship_state==p.FriendRelationshipState.Friend){d.imSystem.insertConversation({conversationType:s.RongyunIMConversationType.PRIVATE,target_id:t.user.uid,itemType:f.IMConversationEnum.Private}),d.imSystem.setCurConversation(t.user.uid),d.imSystem.initPrivateConversationMessages(t.user.uid);var n=d.imSystem.getCurConversation();l.RongyunImWrapper.sendMessage({conversation_type:n.conversationType,target_id:n.target_id,text:"[bigGift]",extra:{type:s.RongyunIMExtraType.BigGift,data:e}})}})},e}();n.bigGiftSystem=new v,cc._RF.pop()},{"../../configs/CommonPanelConfig":"CommonPanelConfig","../../ffframework/rongyun/im/RongyunImCore":"RongyunImCore","../../ffframework/rongyun/im/RongyunImWrapper":"RongyunImWrapper","../../framework/gg":"gg","../../uiSystem/GameAnimSystem":"GameAnimSystem","../friend/FriendProto":"FriendProto","../gamews/GameSocketSystem":"GameSocketSystem","../im/IMSystem":"IMSystem","../im/IMSystemModel":"IMSystemModel","../item/ItemSystem":"ItemSystem","../login/LoginEvent":"LoginEvent","../user/UserSystem":"UserSystem","./BigGiftProto":"BigGiftProto"}],BinHashUtils:[function(e,t,n){"use strict";cc._RF.push(t,"654bamK8ZpOsqxmaTKhj8VN","BinHashUtils"),Object.defineProperty(n,"__esModule",{value:!0}),n.BinHashUtils=void 0;var o=function(){function e(){}return e.getHash=function(e,t,n,o){var i;void 0===o&&(o=9191891);var a=0;for(i=0;i<n;i++)a=(2*a+e[t+i])%o;return a},e.isSame=function(e,t,n,o,i,a){if(n!=a)return!1;var r,s;for(s=n,r=0;r<s;r++)if(e[t+r]!=o[i+r])return!1;return!0},e}();n.BinHashUtils=o,cc._RF.pop()},{}],BootSceneBootProgressCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"6591cSSQVNLurgPdkrLBQtB","BootSceneBootProgressCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../framework/gg"),s=e("./BootSceneEvent"),l=cc._decorator,c=l.ccclass,u=(l.property,l.disallowMultiple),p=l.requireComponent,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._bootProgressBar=null,t}return i(t,e),t.prototype.onLoad=function(){this.node.opacity=255,this._bootProgressBar=this.getComponent(cc.ProgressBar),this._bootProgressBar.progress=0},t.prototype.onEnable=function(){this.node.opacity=255,r.gg.eventManager.on(s.BootSceneEvent.OnBootProgressChanged,this._onProgressChanged,this),r.gg.eventManager.on(s.BootSceneEvent.OnBootHotUpdateStar,this._onBootHotUpdateStar,this)},t.prototype.onDisable=function(){r.gg.eventManager.offTarget(this)},t.prototype._onBootHotUpdateStar=function(){this.node.opacity=0},t.prototype._onProgressChanged=function(e,t){var n=0;e>0&&(n=t/e),n>1&&(r.gg.logger.error("\u542f\u52a8\u4efb\u52a1\u6570\u91cf\u7edf\u8ba1\u5b58\u5728\u95ee\u9898\uff0c\u5f53\u524d\u5b8c\u6210\u7684\u4efb\u52a1\u6570\u91cf "+t+" > \u603b\u4efb\u52a1\u6570\u91cf "+e),n=1),this._bootProgressBar.progress=n},a([c,p(cc.ProgressBar),u],t)}(cc.Component);n.default=h,cc._RF.pop()},{"../../framework/gg":"gg","./BootSceneEvent":"BootSceneEvent"}],BootSceneBootTipsCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"99633g06+1F/qVY6G9JPg3M","BootSceneBootTipsCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../framework/gg"),l=e("../../framework/i18n/I18n"),c=r(e("../../framework/utils/MathUtils")),u=e("./BootSceneEvent"),p=cc._decorator,h=p.ccclass,d=(p.property,p.disallowMultiple,p.requireComponent,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._tips=["boot.label.tips1","boot.label.tips2","boot.label.tips3","boot.label.tips4","boot.label.tips5","boot.label.tips6"],t._curTipIndex=0,t._label=null,t}return i(t,e),t.prototype.onLoad=function(){this._label=this.getComponent(cc.Label),this._label.string=""},t.prototype.onEnable=function(){s.gg.eventManager.on(u.BootSceneEvent.OnBootI18nInited,this._onBootI18nInited,this)},t.prototype.onDisable=function(){s.gg.eventManager.offTarget(this),this.unscheduleAllCallbacks(),this._curTipIndex=0},t.prototype._onBootI18nInited=function(){var e=this;this._curTipIndex=c.default.randomInt(0,this._tips.length-1),this._updateTips(),this.schedule(function(){e._updateTips()},4)},t.prototype._updateTips=function(){this._curTipIndex++,this._curTipIndex>=this._tips.length&&(this._curTipIndex=0),this._label.string=l.i18n.getText(this._tips[this._curTipIndex])},a([h],t)}(cc.Component));n.default=d,cc._RF.pop()},{"../../framework/gg":"gg","../../framework/i18n/I18n":"I18n","../../framework/utils/MathUtils":"MathUtils","./BootSceneEvent":"BootSceneEvent"}],BootSceneCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"d8ef7xnqX9IZaPT+Hrd4Yrw","BootSceneCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),e("../../configs/AppConfig");var c=e("../../configs/CommonAudioConfig"),u=e("../../configs/CommonPanelConfig"),p=e("../../configs/GameConfig"),h=e("../../configs/I18nConfig"),d=e("../../configs/SceneConfig"),f=(e("../../ffframework/common/DeviceInfoWrapper"),e("../../ffframework/common/PackageWrapper"),l(e("../../framework/asset/AssetLoader"))),g=e("../../framework/gg"),m=e("../../framework/i18n/I18n"),y=(l(e("../../framework/utils/StringUtils")),e("../../systems/analysis/AnalysisEvent")),_=e("../../systems/analysis/AnalysisWrapper"),v=e("../../systems/gamesetting/GameSettingSystem"),b=e("../../systems/gift/GiftSystem"),S=e("../../systems/im/IMUISystem"),C=e("../../systems/item/ItemSystem"),I=e("../../systems/platform/PlatformAdapter"),R=(e("../../systems/remoteconfig/RemoteConfigModel"),e("../../systems/remoteconfig/RemoteConfigSystem")),L=e("../../systems/voicechat/VoiceChatSystem"),P=e("./BootSceneEvent"),M=l(e("./BootSceneHotUpdateComponent")),T=cc._decorator,E=T.ccclass,A=T.property,w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hotUpdateComponent=null,t}return i(t,e),t.prototype.start=function(){return r(this,void 0,void 0,function(){var e,t,n,o,i;return s(this,function(a){switch(a.label){case 0:return[3,2];case 1:a.sent(),a.label=2;case 2:return e=Date.now(),_.analysis.logEvent(y.AnalysisEvent.BootStart),t=10,n=0,v.gameSettingSystem.init(),g.gg.eventManager.emit(P.BootSceneEvent.OnBootProgressChanged,t,++n),[4,this._initLanguage()];case 3:return a.sent(),g.gg.eventManager.emit(P.BootSceneEvent.OnBootI18nInited),g.gg.eventManager.emit(P.BootSceneEvent.OnBootProgressChanged,t,++n),[4,this._initRemoteConfig()];case 4:return a.sent(),g.gg.eventManager.emit(P.BootSceneEvent.OnBootProgressChanged,t,++n),[4,this._appUpdateCheck()];case 5:return a.sent(),g.gg.eventManager.emit(P.BootSceneEvent.OnBootProgressChanged,t,++n),[4,this._hotUpdateCheck()];case 6:for(o in a.sent(),g.gg.eventManager.emit(P.BootSceneEvent.OnBootProgressChanged,t,++n),g.gg.audio.musicVolume=v.gameSettingSystem.setting.musicSwitch?1:0,g.gg.audio.soundVolume=v.gameSettingSystem.setting.soundSwitch?1:0,c.CommonAudioConfig)Object.prototype.hasOwnProperty.call(c.CommonAudioConfig,o)&&g.gg.audio.loadAsync(c.CommonAudioConfig[o]);return[4,this._initPanel()];case 7:return a.sent(),g.gg.eventManager.emit(P.BootSceneEvent.OnBootProgressChanged,t,++n),[4,C.itemSystem.loadItemConfig()];case 8:return a.sent(),g.gg.eventManager.emit(P.BootSceneEvent.OnBootProgressChanged,t,++n),[4,b.giftSystem.loadItemConfig()];case 9:return a.sent(),g.gg.eventManager.emit(P.BootSceneEvent.OnBootProgressChanged,t,++n),[4,S.imUISystem.loadEmojiConfig()];case 10:return a.sent(),g.gg.eventManager.emit(P.BootSceneEvent.OnBootProgressChanged,t,++n),cc.Button.prototype._onTouchEndedOriginHandler||(cc.Button.prototype._onTouchEndedOriginHandler=cc.Button.prototype._onTouchEnded,cc.Button.prototype._onTouchEnded=function(e){this.interactable&&this.enabledInHierarchy&&g.gg.audio.playOneShot(c.CommonAudioConfig.btnClick),this._onTouchEndedOriginHandler(e)}),[4,f.default.loadBundleScene(d.SceneConfig.LoginScene.bundleName,d.SceneConfig.LoginScene.sceneName)];case 11:return i=a.sent(),g.gg.eventManager.emit(P.BootSceneEvent.OnBootProgressChanged,t,++n),cc.director.runScene(i),_.analysis.logEvent(y.AnalysisEvent.BootEnd,{cost:Date.now()-e}),L.voiceChatSystem.init(p.GameConfig.agoraAppId,200),I.platformAdapter.init(),[2]}})})},t.prototype._initRemoteConfig=function(){return r(this,void 0,void 0,function(){var e;return s(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,R.remoteConfigSystem.fetch()];case 1:return t.sent(),[3,3];case 2:return e=t.sent(),g.gg.logger.error("\u521d\u59cb\u5316\u65f6\u62c9\u53d6\u8fdc\u7a0b\u914d\u7f6e\u5931\u8d25\uff0c\u5c06\u8df3\u8fc7\uff0c\u4e0d\u5f71\u54cd\u521d\u59cb\u5316\u6d41\u7a0b",e),[3,3];case 3:return R.remoteConfigSystem.startPolling(),[2]}})})},t.prototype._initLanguage=function(){return r(this,void 0,void 0,function(){var e,t,n;return s(this,function(o){switch(o.label){case 0:return g.gg.logger.log("\u591a\u8bed\u8a00\uff1a\u521d\u59cb\u5316"),e=v.gameSettingSystem.setting.languageCode,(t=h.I18nConfig.languages.find(function(t){return t.code==e}))?g.gg.logger.log("\u591a\u8bed\u8a00\uff1a\u627e\u5230\u8bbe\u7f6e\u4e2d\u6307\u5b9a\u7684\u8bed\u8a00\u7f16\u7801 "+e):(n=cc.sys.languageCode,g.gg.logger.log("\u591a\u8bed\u8a00\uff1a\u6ca1\u627e\u5230\u8bbe\u7f6e\u4e2d\u6307\u5b9a\u7684\u8bed\u8a00\u7f16\u7801 "+e+"\uff0c\u5c06\u5bfb\u627e\u5f53\u524d\u7528\u6237\u8bbe\u5907\u6240\u4f7f\u7528\u7684\u7684\u8bed\u8a00\u7f16\u7801 "+n),(t=h.I18nConfig.languages.find(function(e){return e.code==n}))||("ar","ar",g.gg.logger.log("\u591a\u8bed\u8a00\uff1a\u5f53\u524d\u7528\u6237\u8bbe\u5907\u6240\u4f7f\u7528\u7684\u7684\u8bed\u8a00\u7f16\u7801 "+n+"\uff0c\u6211\u4eec\u8fd8\u4e0d\u652f\u6301\uff0c\u5c06\u6307\u5b9a\u9ed8\u8ba4\u7684\u8bed\u8a00\u7f16\u7801 ar"),t=h.I18nConfig.languages.find(function(e){return"ar"==e.code}))),g.gg.logger.log("\u591a\u8bed\u8a00\uff1a\u6700\u7ec8\u8bed\u8a00\u7f16\u7801 "+t.code),v.gameSettingSystem.setting.languageCode=t.code,v.gameSettingSystem.saveSettingToLocal(),[4,m.i18n.setLanguageCode(t.code)];case 1:return o.sent(),[2]}})})},t.prototype._appUpdateCheck=function(){return r(this,void 0,void 0,function(){return s(this,function(){return[2]})})},t.prototype._hotUpdateCheck=function(){return r(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return[3,3];case 1:return e.sent(),[3,3];case 2:g.gg.logger.warn("\u70ed\u66f4\u65b0\uff1a\u4e91\u63a7\u914d\u7f6e\u53c2\u6570\u7f3a\u5931\u6216\u8005\u4e0d\u5408\u6cd5\uff0c\u4e0d\u8fdb\u884c\u70ed\u66f4\u65b0\u68c0\u67e5"),e.label=3;case 3:return[2]}})})},t.prototype._initPanel=function(){return r(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return[4,g.gg.panelRouter.loadAsync(u.CommonPanelConfig.loadingPanel)];case 1:return e.sent(),[4,g.gg.panelRouter.loadAsync(u.CommonPanelConfig.toastPanel)];case 2:return e.sent(),g.gg.panelRouter.showHandler={beforeLoadPrefabPanel:function(e){g.gg.panelRouter.show({panel:u.CommonPanelConfig.loadingPanel}),e()},afterLoadPrefabPanel:function(e){g.gg.panelRouter.hide({panel:u.CommonPanelConfig.loadingPanel,data:{immediately:!0}}),e()}},[2]}})})},a([A({type:M.default,tooltip:"\u70ed\u66f4\u65b0\u7ec4\u4ef6"})],t.prototype,"hotUpdateComponent",void 0),a([E],t)}(cc.Component);n.default=w,cc._RF.pop()},{"../../configs/AppConfig":"AppConfig","../../configs/CommonAudioConfig":"CommonAudioConfig","../../configs/CommonPanelConfig":"CommonPanelConfig","../../configs/GameConfig":"GameConfig","../../configs/I18nConfig":"I18nConfig","../../configs/SceneConfig":"SceneConfig","../../ffframework/common/DeviceInfoWrapper":"DeviceInfoWrapper","../../ffframework/common/PackageWrapper":"PackageWrapper","../../framework/asset/AssetLoader":"AssetLoader","../../framework/gg":"gg","../../framework/i18n/I18n":"I18n","../../framework/utils/StringUtils":"StringUtils","../../systems/analysis/AnalysisEvent":"AnalysisEvent","../../systems/analysis/AnalysisWrapper":"AnalysisWrapper","../../systems/gamesetting/GameSettingSystem":"GameSettingSystem","../../systems/gift/GiftSystem":"GiftSystem","../../systems/im/IMUISystem":"IMUISystem","../../systems/item/ItemSystem":"ItemSystem","../../systems/platform/PlatformAdapter":"PlatformAdapter","../../systems/remoteconfig/RemoteConfigModel":"RemoteConfigModel","../../systems/remoteconfig/RemoteConfigSystem":"RemoteConfigSystem","../../systems/voicechat/VoiceChatSystem":"VoiceChatSystem","./BootSceneEvent":"BootSceneEvent","./BootSceneHotUpdateComponent":"BootSceneHotUpdateComponent"}],BootSceneEvent:[function(e,t,n){"use strict";cc._RF.push(t,"b201e6bespHsojm7mgnOnEW","BootSceneEvent"),Object.defineProperty(n,"__esModule",{value:!0}),n.BootSceneEvent=void 0,function(e){e.OnBootI18nInited="BootSceneEvent.OnBootI18nInited",e.OnBootProgressChanged="BootSceneEvent.OnBootProgressChanged",e.OnBootHotUpdateStar="BootSceneEvent.OnBootHotUpdateStar"}(n.BootSceneEvent||(n.BootSceneEvent={})),cc._RF.pop()},{}],BootSceneHotUpdateComponent:[function(e,t,n){"use strict";cc._RF.push(t,"a16dfa0N9FFTI3pbok0fRlu","BootSceneHotUpdateComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=e("../../configs/HotUpdateConfig"),u=l(e("../../framework/asset/AssetLoader")),p=e("../../framework/gg"),h=l(e("../../framework/hotupdate/HotUpdateManager")),d=e("./BootSceneEvent"),f=cc._decorator,g=f.ccclass,m=f.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hotUpdateProgressLabel=null,t.hotUpdateProgressBar=null,t.projectManifest="resources/hotupdate/manifest/project",t._downloadedBytes=0,t._totalBytes=0,t}return i(t,e),t.prototype.onLoad=function(){this.hotUpdateProgressBar.node.opacity=0,this.hotUpdateProgressBar.progress=0,this.hotUpdateProgressLabel.node.opacity=0,this.hotUpdateProgressLabel.string=(0).toFixed(2)+"%"},t.prototype.run=function(e){return r(this,void 0,void 0,function(){var t,n,o=this;return s(this,function(i){switch(i.label){case 0:return[4,u.default.loadBundleAsset(this.projectManifest,cc.Asset)];case 1:return t=i.sent(),n=t._nativeAsset,t.decRef(),[4,new Promise(function(t){o._checkAndUpdate(n,e,function(){t()})})];case 2:return i.sent(),[2]}})})},t.prototype._checkAndUpdate=function(e,t,n){var o=this,i=new h.default({storageDirPath:c.HotUpdateConfig.hotUpdateRootDirPath,remoteConfig:t,builtInProjectManifestJsonStr:e,onVersionCheckCallBack:function(e){e?(o.hotUpdateProgressBar.node.opacity=255,o.hotUpdateProgressLabel.node.opacity=255,p.gg.eventManager.emit(d.BootSceneEvent.OnBootHotUpdateStar),i.hotUpdate()):(i.destroy(),n())},onHotUpdateResultCallBack:function(e){e?(o._downloadedBytes=o._totalBytes,o.scheduleOnce(function(){i.restartGame()},.1)):n()},onHotUpdateProgressCallBack:function(e,t){o._downloadedBytes=null!=e?e:0,o._totalBytes=null!=t?t:0}});i.checkUpdate()},t.prototype.update=function(){var e=0;this._totalBytes>0&&(e=parseFloat((this._downloadedBytes/this._totalBytes).toFixed(4)),this.hotUpdateProgressBar.progress=e,this.hotUpdateProgressLabel.string=(100*e).toFixed(2)+"%")},a([m({type:cc.Label,tooltip:"\u70ed\u66f4\u65b0\u52a0\u8f7d\u8fdb\u5ea6\u6587\u672c"})],t.prototype,"hotUpdateProgressLabel",void 0),a([m({type:cc.ProgressBar,tooltip:"\u70ed\u66f4\u65b0\u52a0\u8f7d\u8fdb\u5ea6\u6761"})],t.prototype,"hotUpdateProgressBar",void 0),a([m({tooltip:"\u70ed\u66f4\u65b0 project.manifest \u6587\u4ef6\u7684\u8def\u5f84 e.g. resources/hotupdate/manifest/project"})],t.prototype,"projectManifest",void 0),a([g],t)}(cc.Component);n.default=y,cc._RF.pop()},{"../../configs/HotUpdateConfig":"HotUpdateConfig","../../framework/asset/AssetLoader":"AssetLoader","../../framework/gg":"gg","../../framework/hotupdate/HotUpdateManager":"HotUpdateManager","./BootSceneEvent":"BootSceneEvent"}],Boot:[function(e,t,n){"use strict";cc._RF.push(t,"9bdc36TsEFIfropGr0t1HXD","Boot");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),e("./configs/AppConfig"),e("./configs/HotUpdateConfig"),o(e("./framework/components/adapter/SafeAreaWidgetAdapterComponent"));var i=e("./framework/gg");e("./framework/utils/CompareUtil"),o(e("./framework/utils/StringUtils")),cc.game.on(cc.game.EVENT_GAME_INITED,function(){i.gg.logger.init({log:!1,debug:!1,info:!1,warn:!1,error:!1}),i.gg.logger.log("cocos all engine objects and game scripts are loaded"),cc.macro.CLEANUP_IMAGE_CACHE=!1,cc.dynamicAtlasManager.enabled=!0,cc.dynamicAtlasManager.maxFrameSize=256,i.gg.logger.log("cocos cc.macro.CLEANUP_IMAGE_CACHE = "+cc.macro.CLEANUP_IMAGE_CACHE),i.gg.logger.log("cocos cc.dynamicAtlasManager.enabled = "+cc.dynamicAtlasManager.enabled),i.gg.logger.log("cocos cc.dynamicAtlasManager.maxFrameSize = "+cc.dynamicAtlasManager.maxFrameSize),window.addEventListener("orientationchange",function(){})}),cc._RF.pop()},{"./configs/AppConfig":"AppConfig","./configs/HotUpdateConfig":"HotUpdateConfig","./framework/components/adapter/SafeAreaWidgetAdapterComponent":"SafeAreaWidgetAdapterComponent","./framework/gg":"gg","./framework/utils/CompareUtil":"CompareUtil","./framework/utils/StringUtils":"StringUtils"}],Browser:[function(e,t,n){"use strict";cc._RF.push(t,"8266eaFgpVIwrVpJcG5qFqV","Browser"),Object.defineProperty(n,"__esModule",{value:!0}),n.Browser=void 0;var o=function(){function e(){}return e.__init__=function(){var t,n=window.Laya;if(e._window)return e._window;var o=e._window=window,i=e._document=o.document,a=e.userAgent=o.navigator.userAgent,r=o.navigator.maxTouchPoints||0,s=o.navigator.platform;window.conch&&"conchUseWXAdapter"in e.window&&(window.wxMiniGame(n,n),n.MiniAdpter.enable()),"my"in e.window&&(a.indexOf("TB/")>-1||a.indexOf("Taobao/")>-1||a.indexOf("TM/")>-1?(window.tbMiniGame(n,n),n.TBMiniAdapter?n.TBMiniAdapter.enable():console.error("\u8bf7\u5148\u6dfb\u52a0\u6dd8\u5b9d\u9002\u914d\u5e93")):a.indexOf("AlipayMiniGame")>-1&&(window.aliPayMiniGame(n,n),n.ALIMiniAdapter?n.ALIMiniAdapter.enable():console.error("\u8bf7\u5148\u6dfb\u52a0\u963f\u91cc\u5c0f\u6e38\u620f\u9002\u914d\u5e93"))),(-1==a.indexOf("OPPO")&&a.indexOf("MiniGame")>-1||-1!=a.indexOf("runtime")||-1!=a.indexOf("miniprogram")&&window.isWXMiMi)&&"wx"in e.window&&("tt"in e.window?(window.ttMiniGame(n,n),n.TTMiniAdapter?n.TTMiniAdapter.enable():console.error("\u8bf7\u5f15\u5165\u6296\u97f3\u5c0f\u6e38\u620f\u7684\u9002\u914d\u5e93\uff0c\u8be6\u7ec6\u6559\u7a0b\uff1ahttps://layaair.com/3.x/doc/released/miniGame/byteDance/readme.html")):"bl"in e.window?(window.biliMiniGame(n,n),n.BLMiniAdapter?n.BLMiniAdapter.enable():console.error("\u8bf7\u5f15\u5165bilibili\u5c0f\u6e38\u620f\u7684\u9002\u914d\u5e93")):"qq"in e.window?(window.qqMiniGame(n,n),n.QQMiniAdapter?n.QQMiniAdapter.enable():console.error("\u8bf7\u5f15\u5165\u624b\u673aQQ\u5c0f\u6e38\u620f\u7684\u9002\u914d\u5e93")):(window.wxMiniGame(n,n),n.MiniAdpter?n.MiniAdpter.enable():console.error("\u8bf7\u5148\u6dfb\u52a0\u5c0f\u6e38\u620f\u9002\u914d\u5e93,\u8be6\u7ec6\u6559\u7a0b\uff1ahttps://layaair.com/3.x/doc/released/miniGame/wechat/readme.html"))),"hbs"in e.window&&(window.hwMiniGame(n,n),n.HWMiniAdapter?n.HWMiniAdapter.enable():console.error("\u8bf7\u5148\u6dfb\u52a0\u5c0f\u6e38\u620f\u9002\u914d\u5e93!")),a.indexOf("SwanGame")>-1&&(window.bdMiniGame(n,n),n.BMiniAdapter?n.BMiniAdapter.enable():console.error("\u8bf7\u5148\u6dfb\u52a0\u767e\u5ea6\u5c0f\u6e38\u620f\u9002\u914d\u5e93")),a.indexOf("QuickGame")>-1&&(window.miMiniGame(n,n),n.KGMiniAdapter?n.KGMiniAdapter.enable():console.error("\u8bf7\u5148\u6dfb\u52a0\u5c0f\u7c73\u5c0f\u6e38\u620f\u9002\u914d\u5e93,\u8be6\u7ec6\u6559\u7a0b\uff1ahttps://layaair.com/3.x/doc/released/miniGame/xiaomi/readme.html")),a.indexOf("OPPO")>-1&&a.indexOf("MiniGame")>-1&&(window.qgMiniGame(n,n),n.QGMiniAdapter?n.QGMiniAdapter.enable():console.error("\u8bf7\u5148\u6dfb\u52a0OPPO\u5c0f\u6e38\u620f\u9002\u914d\u5e93,\u8be6\u7ec6\u6559\u7a0b\uff1ahttps://layaair.com/3.x/doc/released/miniGame/OPPO/readme.html")),a.indexOf("VVGame")>-1&&(window.vvMiniGame(n,n),n.VVMiniAdapter?n.VVMiniAdapter.enable():console.error("\u8bf7\u5148\u6dfb\u52a0VIVO\u5c0f\u6e38\u620f\u9002\u914d\u5e93,\u8be6\u7ec6\u6559\u7a0b\uff1ahttps://layaair.com/3.x/doc/released/miniGame/vivo/readme.html")),o.trace=console.log,o.requestAnimationFrame=o.requestAnimationFrame||o.webkitRequestAnimationFrame||o.mozRequestAnimationFrame||o.oRequestAnimationFrame||o.msRequestAnimationFrame||function(e){return o.setTimeout(e,1e3/60)};var l=i.body.style;l.margin=0,l.overflow="hidden",l["-webkit-user-select"]="none",l["-webkit-tap-highlight-color"]="rgba(200,200,200,0)";for(var c,u=i.getElementsByTagName("meta"),p={width:"device-width","initial-scale":"1.0","minimum-scale":"1.0","maximum-scale":"1.0","user-scalable":"no"},h=0,d=u;h<d.length;h++){var f=d[h];if("viewport"==f.name){c=f;break}}if(c)for(var g=0,m=(c.content||"").split(",");g<m.length;g++){var y=m[g].split("=");p[y[0].trim()]||(p[y[0]]=y[1])}else(c=i.createElement("meta")).name="viewport",null===(t=i.getElementsByTagName("head")[0])||void 0===t||t.appendChild(c);return c.content=Object.keys(p).map(function(e){return e+"="+p[e]}),e.onMobile=!!window.conch||a.indexOf("Mobile")>-1,e.onIOS=!!a.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),e.onIPhone=a.indexOf("iPhone")>-1,e.onMac=a.indexOf("Mac OS X")>-1,e.onIPad=a.indexOf("iPad")>-1||"MacIntel"===s&&r>1,e.onAndroid=a.indexOf("Android")>-1||a.indexOf("Adr")>-1,e.onWP=a.indexOf("Windows Phone")>-1,e.onQQBrowser=a.indexOf("QQBrowser")>-1,e.onMQQBrowser=a.indexOf("MQQBrowser")>-1||a.indexOf("Mobile")>-1&&a.indexOf("QQ")>-1,e.onIE=!!o.ActiveXObject||"ActiveXObject"in o,e.onWeiXin=a.indexOf("MicroMessenger")>-1,e.onSafari=a.indexOf("Safari")>-1&&-1===a.indexOf("Chrome"),e.onChrome=a.indexOf("Chrome")>-1,e.onPC=!e.onMobile,e.onFirefox=a.indexOf("Firefox")>-1,e.onEdge=a.indexOf("Edge")>-1||a.indexOf("Edg")>-1,e.onMiniGame=a.indexOf("MiniGame")>-1,e.onBDMiniGame=a.indexOf("SwanGame")>-1,e.onLayaRuntime=!!window.conch,a.indexOf("OPPO")>-1&&a.indexOf("MiniGame")>-1?(e.onQGMiniGame=!0,e.onMiniGame=!1):"qq"in e.window&&a.indexOf("MiniGame")>-1?(e.onQQMiniGame=!0,e.onMiniGame=!1):"bl"in e.window&&a.indexOf("MiniGame")>-1?(e.onBLMiniGame=!0,e.onMiniGame=!1):"tt"in e.window&&a.indexOf("MiniGame")>-1&&(e.onTTMiniGame=!0,e.onMiniGame=!1),e.onHWMiniGame="hbs"in e.window,e.onVVMiniGame=a.indexOf("VVGame")>-1,e.onKGMiniGame=a.indexOf("QuickGame")>-1,a.indexOf("AlipayMiniGame")>-1&&(e.onAlipayMiniGame=!0,e.onMiniGame=!1),(a.indexOf("TB/")>-1||a.indexOf("Taobao/")>-1||a.indexOf("TM/")>-1)&&(e.onTBMiniGame=!0),!e.onAndroid&&!e.onIOS||s&&(-1!=s.indexOf("Win")||-1!=s.indexOf("Mac"))?e.platform=e.PLATFORM_PC:e.onAndroid?e.platform=e.PLATFORM_ANDROID:e.platform=e.PLATFORM_IOS,o},Object.defineProperty(e,"_isMiniGame",{get:function(){return e.onMiniGame||e.onBDMiniGame||e.onQGMiniGame||e.onKGMiniGame||e.onVVMiniGame||e.onAlipayMiniGame||e.onQQMiniGame||e.onBLMiniGame||e.onTTMiniGame||e.onHWMiniGame||e.onTBMiniGame||e.window&&e.window.isWXMiMi},enumerable:!1,configurable:!0}),e.createElement=function(t){return e.__init__(),e._document.createElement(t)},e.getElementById=function(t){return e.__init__(),e._document.getElementById(t)},e.removeElement=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},e.now=function(){return Date.now()},Object.defineProperty(e,"clientWidth",{get:function(){return e.__init__(),e._clientWidth||e._window.innerWidth||e._document.body.clientWidth},set:function(t){e._clientWidth=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"clientHeight",{get:function(){return e.__init__(),e._clientHeight||e._window.innerHeight||e._document.body.clientHeight||e._document.documentElement.clientHeight},set:function(t){e._clientHeight=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"width",{get:function(){return e.__init__(),e.clientWidth*e.pixelRatio},enumerable:!1,configurable:!0}),Object.defineProperty(e,"height",{get:function(){return e.__init__(),e.clientHeight*e.pixelRatio},enumerable:!1,configurable:!0}),Object.defineProperty(e,"pixelRatio",{get:function(){return e._pixelRatio<0&&(e.__init__(),e.userAgent.indexOf("Mozilla/6.0(Linux; Android 6.0; HUAWEI NXT-AL10 Build/HUAWEINXT-AL10)")>-1?e._pixelRatio=2:(e._pixelRatio=e._window.devicePixelRatio||1,e._pixelRatio<1&&(e._pixelRatio=1))),e._pixelRatio},enumerable:!1,configurable:!0}),Object.defineProperty(e,"container",{get:function(){return e._container||(e.__init__(),e._container=e.createElement("div"),e._container.id="layaContainer",e._document.body.appendChild(e._container)),e._container},set:function(t){e._container=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"window",{get:function(){return e._window||e.__init__()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"document",{get:function(){return e.__init__(),e._document},enumerable:!1,configurable:!0}),e.getQueryString=function(t){if(e.onMiniGame)return null;if(!window.location||!window.location.search)return null;var n=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),o=window.location.search.substring(1).match(n);return null!=o?unescape(o[2]):null},e.getSafariToolbarOffset=function(){return(e.window.__innerHeight||e.document.body.clientHeight||e.document.documentElement.clientHeight)-e.window.innerHeight},e.PLATFORM_PC=0,e.PLATFORM_ANDROID=1,e.PLATFORM_IOS=2,e._pixelRatio=-1,e.mainCanvas=null,e.hanzi=new RegExp("^[\u4e00-\u9fa5]$"),e.fontMap={},e.measureText=function(t,n){var o=e.hanzi.test(t);if(o&&e.fontMap[n])return e.fontMap[n];var i=e.context;i.font=n;var a=i.measureText(t);return o&&(e.fontMap[n]=a),a},e}();n.Browser=o,cc._RF.pop()},{}],BufferSliceUtils:[function(e,t){"use strict";cc._RF.push(t,"ecbecrUFtxB/a9QxHydvlOF","BufferSliceUtils"),ArrayBuffer.prototype.slice||(ArrayBuffer.prototype.slice=function(e,t){var n=new Uint8Array(this,e,t-e),o=new Uint8Array(n.length);return o.set(n),o.buffer}),Float32Array.prototype.slice||(Float32Array.prototype.slice=function(){for(var e=this.length,t=new Float32Array(this.length),n=0;n<e;n++)t[n]=this[n];return t}),Uint16Array.prototype.slice||(Uint16Array.prototype.slice=function(){for(var e,t,n,o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];if(0===o.length)for(e=this.length,t=new Uint16Array(e),n=0;n<e;n++)t[n]=this[n];else if(2===o.length){var a=o[0],r=o[1];if(r>a)for(e=r-a,t=new Uint16Array(e),n=a;n<r;n++)t[n-a]=this[n];else t=new Uint16Array(0)}return t}),Uint8Array.prototype.slice||(Uint8Array.prototype.slice=function(){for(var e=this.length,t=new Uint8Array(this.length),n=0;n<e;n++)t[n]=this[n];return t}),cc._RF.pop()},{}],BundleConfig:[function(e,t,n){"use strict";cc._RF.push(t,"d1796Tv+mRGyomkcvJJropi","BundleConfig"),Object.defineProperty(n,"__esModule",{value:!0}),n.BundleConfig=void 0,n.BundleConfig={Resources:"resources",Main:"main",BalootBundle:"balootbundle",Luckynumberbundle:"luckynumberbundle",Ludobundle:"ludobundle",AnimalSpinbundle:"animalspinbundle",TexasBundle:"texasbundle",ProjectTableBundle:"projectTableBundle"},cc._RF.pop()},{}],ButtonPlay10100:[function(e,t,n){"use strict";cc._RF.push(t,"f16383K8i9Mw4+wwKC+QOQj","ButtonPlay10100");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.ButtonPlay10100=void 0;var r=e("./GameAudioContro10100"),s=e("../../halls/halllib/laya/Laya"),l=s.Laya.regClass,c=s.Laya.property,u=function(e){function t(){var t=e.call(this)||this;return t.FScale=1,t.TScale=.9,t.PlayTime=200,t}return i(t,e),t.prototype.onAwake=function(){e.prototype.onAwake.call(this),this.button=this.owner,this.onPlayOn=!1,this.onPlayUp=!1},t.prototype.onMouseDown=function(){this.onPlayOn=!0,this.onPlayUp=!1,this.Scale=this.FScale,this.timeout=0,this.button.gray=!0},t.prototype.onMouseUp=function(){this.onPlayUp=!0,this.onPlayOn=!1,this.button.scale(this.FScale,this.FScale),this.button.gray=!!this.button.disabled,r.GameAudioContro10100.Instance.PlaySoundById(3)},t.prototype.onMouseOut=function(){(this.onPlayOn||this.timeout>0)&&(this.onPlayUp=!0,this.onPlayOn=!1,this.button.scale(this.FScale,this.FScale),this.button.gray=!!this.button.disabled)},t.prototype.onUpdate=function(){this.onPlayOn&&(this.timeout+=s.Laya.timer.delta,this.timeout>=this.PlayTime&&(this.timeout=this.PlayTime,this.onPlayOn=!1),this.Scale=this.FScale+(this.TScale-this.FScale)*this.timeout/this.PlayTime,this.Scale<this.TScale?this.button.scale(this.TScale,this.TScale):this.button.scale(this.Scale,this.Scale))},a([c()],t.prototype,"FScale",void 0),a([c()],t.prototype,"TScale",void 0),a([l()],t)}(s.Laya.Script);n.ButtonPlay10100=u,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya","./GameAudioContro10100":"GameAudioContro10100"}],ButtonPlay30200:[function(e,t,n){"use strict";cc._RF.push(t,"84244qDoStCaraKao69k6yj","ButtonPlay30200");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.ButtonPlay30200=void 0;var r=e("./SoundManager30200"),s=e("../../halls/halllib/laya/Laya"),l=s.Laya.regClass,c=s.Laya.property,u=function(e){function t(){var t=e.call(this)||this;return t.FScale=1,t.TScale=.9,t.PlayTime=200,t}return i(t,e),t.prototype.onAwake=function(){e.prototype.onAwake.call(this),this.button=this.owner,this.onPlayOn=!1,this.onPlayUp=!1},t.prototype.onMouseDown=function(){this.onPlayOn=!0,this.onPlayUp=!1,this.Scale=this.FScale,this.timeout=0,this.button.gray=!0},t.prototype.onMouseUp=function(){this.onPlayOn=!1,this.onPlayUp=!0,this.button.gray=!1,this.button.scale(this.FScale,this.FScale),r.SoundManager30200.Instance.PlaySoundById(5,1)},t.prototype.onMouseOut=function(){(this.onPlayOn||this.timeout>0)&&(this.onPlayUp=!0,this.onPlayOn=!1,this.button.gray=!1,this.button.scale(this.FScale,this.FScale))},t.prototype.onUpdate=function(){this.onPlayOn&&(this.timeout+=s.Laya.timer.delta,this.timeout>=this.PlayTime&&(this.timeout=this.PlayTime,this.onPlayOn=!1),this.Scale=this.FScale+(this.TScale-this.FScale)*this.timeout/this.PlayTime,this.Scale<this.TScale?this.button.scale(this.TScale,this.TScale):this.button.scale(this.Scale,this.Scale))},a([c()],t.prototype,"FScale",void 0),a([c()],t.prototype,"TScale",void 0),a([l()],t)}(s.Laya.Script);n.ButtonPlay30200=u,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya","./SoundManager30200":"SoundManager30200"}],ButtonPlay30300:[function(e,t,n){"use strict";cc._RF.push(t,"eab6bjnKqhD2YOJ6hEu9Xcz","ButtonPlay30300");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.ButtonPlay30300=void 0;var r=e("./SoundManager30300"),s=e("../../halls/halllib/laya/Laya"),l=s.Laya.regClass,c=s.Laya.property,u=function(e){function t(){var t=e.call(this)||this;return t.FScale=1,t.TScale=.9,t.PlayTime=200,t}return i(t,e),t.prototype.onAwake=function(){e.prototype.onAwake.call(this),this.button=this.owner,this.onPlayOn=!1,this.onPlayUp=!1},t.prototype.onMouseDown=function(){this.onPlayOn=!0,this.onPlayUp=!1,this.Scale=this.FScale,this.timeout=0,this.button.gray=!0},t.prototype.onMouseUp=function(){this.onPlayOn=!1,this.onPlayUp=!0,this.button.gray=!1,this.button.scale(this.FScale,this.FScale),r.SoundManager30300.Instance.PlaySoundById(2,1)},t.prototype.onMouseOut=function(){(this.onPlayOn||this.timeout>0)&&(this.onPlayUp=!0,this.onPlayOn=!1,this.button.gray=!1,this.button.scale(this.FScale,this.FScale))},t.prototype.onUpdate=function(){this.onPlayOn&&(this.timeout+=s.Laya.timer.delta,this.timeout>=this.PlayTime&&(this.timeout=this.PlayTime,this.onPlayOn=!1),this.Scale=this.FScale+(this.TScale-this.FScale)*this.timeout/this.PlayTime,this.Scale<this.TScale?this.button.scale(this.TScale,this.TScale):this.button.scale(this.Scale,this.Scale))},a([c()],t.prototype,"FScale",void 0),a([c()],t.prototype,"TScale",void 0),a([l()],t)}(s.Laya.Script);n.ButtonPlay30300=u,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya","./SoundManager30300":"SoundManager30300"}],ButtonPlay30700:[function(e,t,n){"use strict";cc._RF.push(t,"1ce5buAD81MUbdQfrPL4leB","ButtonPlay30700");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.ButtonPlay30700=void 0;var r=e("./SoundManager30700"),s=e("../../halls/halllib/laya/Laya"),l=s.Laya.regClass,c=s.Laya.property,u=function(e){function t(){var t=e.call(this)||this;return t.FScale=1,t.TScale=.9,t.PlayTime=200,t}return i(t,e),t.prototype.onAwake=function(){e.prototype.onAwake.call(this),this.button=this.owner,this.onPlayOn=!1,this.onPlayUp=!1},t.prototype.onMouseDown=function(){this.onPlayOn=!0,this.onPlayUp=!1,this.Scale=this.FScale,this.timeout=0,this.button.gray=!0},t.prototype.onMouseUp=function(){this.onPlayUp=!0,this.onPlayOn=!1,this.button.gray=!1,this.button.scale(this.FScale,this.FScale),r.SoundManager30700.Instance.PlaySoundById(1,1)},t.prototype.onMouseOut=function(){(this.onPlayOn||this.timeout>0)&&(this.onPlayUp=!0,this.onPlayOn=!1,this.button.gray=!1,this.button.scale(this.FScale,this.FScale))},t.prototype.onUpdate=function(){this.onPlayOn&&(this.timeout+=s.Laya.timer.delta,this.timeout>=this.PlayTime&&(this.timeout=this.PlayTime,this.onPlayOn=!1),this.Scale=this.FScale+(this.TScale-this.FScale)*this.timeout/this.PlayTime,this.Scale<this.TScale?this.button.scale(this.TScale,this.TScale):this.button.scale(this.Scale,this.Scale))},a([c()],t.prototype,"FScale",void 0),a([c()],t.prototype,"TScale",void 0),a([l()],t)}(s.Laya.Script);n.ButtonPlay30700=u,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya","./SoundManager30700":"SoundManager30700"}],ButtonPlay31800:[function(e,t,n){"use strict";cc._RF.push(t,"f63e2o8OExApKx0pfLWYn7e","ButtonPlay31800");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.ButtonPlay31800=void 0;var r=e("./SoundManager31800"),s=e("../../halls/halllib/laya/Laya"),l=s.Laya.regClass,c=s.Laya.property,u=function(e){function t(){var t=e.call(this)||this;return t.FScale=1,t.TScale=.9,t.PlayTime=200,t}return i(t,e),t.prototype.onAwake=function(){e.prototype.onAwake.call(this),this.button=this.owner,this.onPlayOn=!1,this.onPlayUp=!1},t.prototype.onMouseDown=function(){this.onPlayOn=!0,this.onPlayUp=!1,this.Scale=this.FScale,this.timeout=0,this.button.gray=!0},t.prototype.onMouseUp=function(){this.onPlayUp=!0,this.onPlayOn=!1,this.button.gray=!1,this.button.scale(this.FScale,this.FScale),r.SoundManager31800.Instance.PlaySoundById(3,1)},t.prototype.onMouseOut=function(){(this.onPlayOn||this.timeout>0)&&(this.onPlayUp=!0,this.onPlayOn=!1,this.button.gray=!1,this.button.scale(this.FScale,this.FScale))},t.prototype.onUpdate=function(){this.onPlayOn&&(this.timeout+=s.Laya.timer.delta,this.timeout>=this.PlayTime&&(this.timeout=this.PlayTime,this.onPlayOn=!1),this.Scale=this.FScale+(this.TScale-this.FScale)*this.timeout/this.PlayTime,this.Scale<this.TScale?this.button.scale(this.TScale,this.TScale):this.button.scale(this.Scale,this.Scale))},a([c()],t.prototype,"FScale",void 0),a([c()],t.prototype,"TScale",void 0),a([l()],t)}(s.Laya.Script);n.ButtonPlay31800=u,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya","./SoundManager31800":"SoundManager31800"}],ButtonPlay34800:[function(e,t,n){"use strict";cc._RF.push(t,"67104+QIiNCiZPzaDbvgCBM","ButtonPlay34800");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.ButtonPlay34800=void 0;var r=e("./SoundManager34800"),s=e("../../halls/halllib/laya/Laya"),l=s.Laya.regClass,c=s.Laya.property,u=function(e){function t(){var t=e.call(this)||this;return t.FScale=1,t.TScale=.9,t.PlayTime=200,t}return i(t,e),t.prototype.onAwake=function(){e.prototype.onAwake.call(this),this.button=this.owner,this.onPlayOn=!1,this.onPlayUp=!1},t.prototype.onMouseDown=function(){this.onPlayOn=!0,this.onPlayUp=!1,this.Scale=this.FScale,this.timeout=0,this.button.gray=!0},t.prototype.onMouseUp=function(){this.onPlayUp=!0,this.onPlayOn=!1,this.button.gray=!1,this.button.scale(this.FScale,this.FScale),r.SoundManager34800.Instance.PlaySoundById(1,1)},t.prototype.onMouseOut=function(){(this.onPlayOn||this.timeout>0)&&(this.onPlayUp=!0,this.onPlayOn=!1,this.button.gray=!1,this.button.scale(this.FScale,this.FScale))},t.prototype.onUpdate=function(){this.onPlayOn&&(this.timeout+=s.Laya.timer.delta,this.timeout>=this.PlayTime&&(this.timeout=this.PlayTime,this.onPlayOn=!1),this.Scale=this.FScale+(this.TScale-this.FScale)*this.timeout/this.PlayTime,this.Scale<this.TScale?this.button.scale(this.TScale,this.TScale):this.button.scale(this.Scale,this.Scale))},a([c()],t.prototype,"FScale",void 0),a([c()],t.prototype,"TScale",void 0),a([l()],t)}(s.Laya.Script);n.ButtonPlay34800=u,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya","./SoundManager34800":"SoundManager34800"}],BuyItemChoosePanel:[function(e,t,n){"use strict";cc._RF.push(t,"fac0bIjd/9KwZvbboxXWkVU","BuyItemChoosePanel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../../../../configs/CommonAudioConfig"),l=e("../../../../../configs/CommonPanelConfig"),c=r(e("../../../../../framework/components/dialogstyle/MoveStyleDialogPanelV2")),u=e("../../../../../framework/gg"),p=e("../../../../../framework/i18n/I18n"),h=e("../../../../../systems/api/gameapi/GameApi"),d=e("../../../../../systems/api/gameapi/GameApiModels"),f=e("../../../../../systems/item/CommonItemConfig"),g=e("../../../../../systems/item/ItemSystem"),m=r(e("./BuyItem")),y=cc._decorator,_=y.ccclass,v=y.property,b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scrollView=null,t.listContent=null,t.buyItem=null,t.buyItmeHeight=100,t.paddingTop=20,t.paddingBottom=20,t.itemNameLab=null,t.itemDetailsLab=null,t.iconSprite=null,t.iconCard1=null,t.iconCard2=null,t.spine=null,t.dragon=null,t.itemBuyList=[],t._itemNodeAll=new Map,t.itemId="",t.itemScale={avatar_frame:.5,chat_bubble:.5,baloot_card:.7,baloot_bg:.7,ludo_chessboard:.5,ludo_dice:1,game_gift:1},t}return i(t,e),t.prototype.show=function(e){this.itemId!==e.data&&(this.itemId=e.data,this.updateUI()),this.getItemGoodsList(),this._playShowAnim(function(){e.onShowed()})},t.prototype.hide=function(e){this._playHideAnim(function(){e.onHided()})},t.prototype.onCloseBtnClick=function(){u.gg.panelRouter.hide({panel:l.CommonPanelConfig.buyItemChoosePanel}),u.gg.audio.playOneShot(s.CommonAudioConfig.btnClose)},t.prototype.updateUI=function(){var e=this,t=g.itemSystem.getItem(this.itemId);this.itemDetailsLab.string=t.item_desc_ar,this.itemNameLab.string=t.item_name_ar,this.iconSprite.node.active=!1,this.dragon.node.active=!1,this.spine.node.active=!1,this.iconCard1.node.active=!1,this.iconCard2.node.active=!1,this.iconSprite.node.x=0,g.itemSystem.getItemIconInfo(this.itemId).then(function(n){null!=n&&(n.iconType===f.IconType.Image?(e.iconSprite.spriteFrame=n.spriteFrame,e.iconSprite.node.active=!0):n.iconType===f.IconType.Dragon?(e.dragon.node.active=!0,e.dragon.dragonAsset=n.dragonAsset,e.dragon.dragonAtlasAsset=n.dragonAtlasAsset,e.dragon.armatureName="armatureName",e.dragon.playAnimation("animation",0)):n.iconType===f.IconType.Spine&&(e.spine.skeletonData=n.spineData,e.spine.node.active=!0,e.spine.setAnimation(0,"animation",!0)),t.item_type===d.ItemType.balootCard&&(e.iconCard1.node.active=!0,e.iconCard2.node.active=!0,e.iconCard2.spriteFrame=e.iconSprite.spriteFrame,e.iconCard1.spriteFrame=e.iconSprite.spriteFrame,e.iconSprite.node.x=-15),e.itemScale[t.item_type]?(e.iconSprite.node.scale=e.itemScale[t.item_type],e.dragon.node.scale=e.itemScale[t.item_type],e.spine.node.scale=e.itemScale[t.item_type]):(e.iconSprite.node.scale=1,e.dragon.node.scale=1,e.spine.node.scale=1))})},t.prototype.listContentReset=function(){this.itemBuyList=[],this.scrollView.stopAutoScroll(),this._itemNodeAll.forEach(function(e){e.opacity=0,e.x=1e4})},t.prototype.updateBuyList=function(){this.listContent.height=this.buyItmeHeight*this.itemBuyList.length+this.paddingTop+this.paddingBottom,this.listContent.height<this.scrollView.node.height&&(this.listContent.height=this.scrollView.node.height);for(var e=0;e<this.itemBuyList.length;++e){var t=this.getItemNode(e);t.x=0,t.y=-e*this.buyItmeHeight-this.paddingTop,t.getComponent(m.default).updateUI(this.itemBuyList[e]),t.opacity=255}this.scrollView.scrollToTop()},t.prototype.getItemNode=function(e){var t=this._itemNodeAll.get(e);return null==t&&((t=cc.instantiate(this.buyItem)).parent=this.listContent,this._itemNodeAll.set(e,t)),t},t.prototype.getItemGoodsList=function(){var e=this;u.gg.panelRouter.show({panel:l.CommonPanelConfig.loadingPanel}),this.listContentReset();var t={item_type:"",item_id:this.itemId};h.gameApi.getItemGoodsList(t).then(function(t){u.gg.panelRouter.hide({panel:l.CommonPanelConfig.loadingPanel,onHided:function(){t?(e.itemBuyList=t.data,e.updateBuyList()):(u.gg.panelRouter.show({panel:l.CommonPanelConfig.toastPanel,data:{text:p.i18n.getText("toast.itemGoodsDetailsFailed")}}),e.onCloseBtnClick())}})}).catch(function(){u.gg.panelRouter.hide({panel:l.CommonPanelConfig.loadingPanel,onHided:function(){u.gg.panelRouter.show({panel:l.CommonPanelConfig.toastPanel,data:{text:p.i18n.getText("toast.itemGoodsDetailsFailed")}}),e.onCloseBtnClick()}})})},a([v({type:cc.ScrollView,tooltip:"\u6ed1\u52a8\u5217\u8868"})],t.prototype,"scrollView",void 0),a([v({type:cc.Node,tooltip:"\u6ed1\u52a8\u5185\u5bb9"})],t.prototype,"listContent",void 0),a([v({type:cc.Prefab,tooltip:"\u8d2d\u4e70item"})],t.prototype,"buyItem",void 0),a([v({tooltip:"\u8282\u70b9\u9ad8\u5ea6"})],t.prototype,"buyItmeHeight",void 0),a([v({tooltip:"Item \u8ddd\u79bb\u4e0a\u8fb9\uff08px\uff09"})],t.prototype,"paddingTop",void 0),a([v({tooltip:"Item \u8ddd\u79bb\u4e0b\u8fb9\uff08px\uff09"})],t.prototype,"paddingBottom",void 0),a([v({type:cc.Label,tooltip:"\u5546\u54c1\u540d\u79f0"})],t.prototype,"itemNameLab",void 0),a([v({type:cc.Label,tooltip:"\u5546\u54c1\u63cf\u8ff0"})],t.prototype,"itemDetailsLab",void 0),a([v({type:cc.Sprite,tooltip:"\u5546\u54c1\u56fe\u6807"})],t.prototype,"iconSprite",void 0),a([v({type:cc.Sprite,tooltip:"\u5546\u54c1\u56fe\u6807\u724c"})],t.prototype,"iconCard1",void 0),a([v({type:cc.Sprite,tooltip:"\u5546\u54c1\u56fe\u6807\u724c"})],t.prototype,"iconCard2",void 0),a([v({type:sp.Skeleton,tooltip:"\u5546\u54c1spine"})],t.prototype,"spine",void 0),a([v({type:dragonBones.ArmatureDisplay,tooltip:"\u5546\u54c1dragon"})],t.prototype,"dragon",void 0),a([_],t)}(c.default);n.default=b,cc._RF.pop()},{"../../../../../configs/CommonAudioConfig":"CommonAudioConfig","../../../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../../../framework/components/dialogstyle/MoveStyleDialogPanelV2":"MoveStyleDialogPanelV2","../../../../../framework/gg":"gg","../../../../../framework/i18n/I18n":"I18n","../../../../../systems/api/gameapi/GameApi":"GameApi","../../../../../systems/api/gameapi/GameApiModels":"GameApiModels","../../../../../systems/item/CommonItemConfig":"CommonItemConfig","../../../../../systems/item/ItemSystem":"ItemSystem","./BuyItem":"BuyItem"}],BuyItem:[function(e,t,n){"use strict";cc._RF.push(t,"3c8a8hSzftPP7354YO9DQce","BuyItem");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var l=e("../../../../../configs/CommonPanelConfig"),c=e("../../../../../framework/gg"),u=e("../../../../../framework/i18n/I18n"),p=e("../../../../../systems/api/gameapi/GameApi"),h=e("../../../../../systems/api/gameapi/GameApiModels"),d=e("../../../../../systems/login/LoginProto"),f=e("../../../../../systems/user/UserSystem"),g=e("../../../../../utils/CurrencyUtil"),m=e("../uiSystems/StoreItemUIEvent"),y=cc._decorator,_=y.ccclass,v=y.property,b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.timeLab=null,t.timeLabLine=null,t.timeSprite=null,t.timeSpriteFrame=[],t.fashionLab=null,t.priceLab=null,t.originalPriceLabel=null,t.currencySprite=null,t.currencySpriteFrames=[],t.labColor=[new cc.Color(112,21,1),new cc.Color(84,36,0)],t.itemGoods=null,t}return i(t,e),t.prototype.onLoad=function(){this.originalPriceLabel.node.active=!1},t.prototype.updateUI=function(e){var t,n;return r(this,void 0,void 0,function(){return s(this,function(){return this.itemGoods=e,this.priceLab.string=g.CurrencyUtil.toHumanReadable(this.itemGoods.price),(null===(n=null===(t=f.userSystem.userModel)||void 0===t?void 0:t.vipInfo)||void 0===n?void 0:n.vip_status)==d.VipStatusType.Activation&&this.itemGoods.original_price!=this.itemGoods.price?(this.originalPriceLabel.node.active=!0,this.itemGoods.original_price&&(this.originalPriceLabel.string=g.CurrencyUtil.toHumanReadable(this.itemGoods.original_price))):this.originalPriceLabel.node.active=!1,this.itemGoods.currency===h.CurrencyType.Diamond?this.currencySprite.spriteFrame=this.currencySpriteFrames[0]:this.itemGoods.currency===h.CurrencyType.Coin&&(this.currencySprite.spriteFrame=this.currencySpriteFrames[1]),this.fashionLab.string=this.itemGoods.fashion+"+",this.timeLab.string=u.i18n.getText("item.dayNum",this.itemGoods.effective_days),-1===this.itemGoods.effective_days&&(this.timeLab.string=u.i18n.getText("item.showTime")),this.itemGoods.effective_days<=3?(this.timeSprite.spriteFrame=this.timeSpriteFrame[0],this.timeLabLine.color=this.labColor[0]):this.itemGoods.effective_days<30?(this.timeSprite.spriteFrame=this.timeSpriteFrame[1],this.timeLabLine.color=this.labColor[1]):(this.timeSprite.spriteFrame=this.timeSpriteFrame[2],this.timeLabLine.color=this.labColor[2]),[2]})})},t.prototype.onClickBuy=function(){var e=this;c.gg.panelRouter.show({panel:l.CommonPanelConfig.loadingPanel});var t=f.userSystem.userModel.fashion,n={count:"1",goods_id:this.itemGoods.id+""};p.gameApi.storePurchase(n).then(function(n){c.gg.panelRouter.hide({panel:l.CommonPanelConfig.loadingPanel,onHided:function(){return r(e,void 0,void 0,function(){var e,o,i;return s(this,function(a){switch(a.label){case 0:return 1!=(null==n?void 0:n.status)?[3,2]:(e=u.i18n.getText("item.dayNum",this.itemGoods.effective_days),-1===this.itemGoods.effective_days&&(e=u.i18n.getText("item.showTime")),o={award_type:h.AwardType.Item,itemCount:e,initValue:t,itemId:this.itemGoods.item_id,fashionAdd:this.itemGoods.fashion},i={giftList:[o]},[4,c.gg.panelRouter.loadAsync(l.CommonPanelConfig.receiveFeaturesPanel)]);case 1:return a.sent(),c.gg.panelRouter.show({panel:l.CommonPanelConfig.receiveFeaturesPanel,data:i}),c.gg.eventManager.emit(m.StoreItemUIEvent.BuyItemSuccessEvent,this.itemGoods.item_id),[3,3];case 2:c.gg.panelRouter.show({panel:l.CommonPanelConfig.toastPanel,data:{text:u.i18n.getText("toast.itemGoodsBuyFailed")}}),a.label=3;case 3:return[2]}})})}})}).catch(function(){c.gg.panelRouter.hide({panel:l.CommonPanelConfig.loadingPanel,onHided:function(){c.gg.panelRouter.show({panel:l.CommonPanelConfig.toastPanel,data:{text:u.i18n.getText("toast.itemGoodsBuyFailed")}})}})})},a([v({type:cc.Label,tooltip:"\u6709\u6548\u65f6\u95f4"})],t.prototype,"timeLab",void 0),a([v({type:cc.LabelOutline,tooltip:"\u6709\u6548\u65f6\u95f4\u63cf\u8fb9"})],t.prototype,"timeLabLine",void 0),a([v({type:cc.Sprite,tooltip:"\u6709\u6548\u65f6\u95f4\u80cc\u666f\u6846"})],t.prototype,"timeSprite",void 0),a([v({type:cc.SpriteFrame,tooltip:"\u6709\u9650\u65f6\u95f4\u80cc\u666f\u6846"})],t.prototype,"timeSpriteFrame",void 0),a([v({type:cc.Label,tooltip:"\u65f6\u5c1a\u503c"})],t.prototype,"fashionLab",void 0),a([v({type:cc.Label,tooltip:"\u4ef7\u683c"})],t.prototype,"priceLab",void 0),a([v({type:cc.Label,tooltip:"\u5546\u54c1\u539f\u4ef7\u683c"})],t.prototype,"originalPriceLabel",void 0),a([v({type:cc.Sprite,tooltip:"\u8d27\u5e01\u7c7b\u578b"})],t.prototype,"currencySprite",void 0),a([v({type:cc.SpriteFrame,tooltip:"\u8d27\u5e01\u56fe\u96c6"})],t.prototype,"currencySpriteFrames",void 0),a([_],t)}(cc.Component);n.default=b,cc._RF.pop()},{"../../../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../../../framework/gg":"gg","../../../../../framework/i18n/I18n":"I18n","../../../../../systems/api/gameapi/GameApi":"GameApi","../../../../../systems/api/gameapi/GameApiModels":"GameApiModels","../../../../../systems/login/LoginProto":"LoginProto","../../../../../systems/user/UserSystem":"UserSystem","../../../../../utils/CurrencyUtil":"CurrencyUtil","../uiSystems/StoreItemUIEvent":"StoreItemUIEvent"}],Byte:[function(e,t,n){"use strict";cc._RF.push(t,"ed94cdyGYhBDYtHgTSwGRSS","Byte"),Object.defineProperty(n,"__esModule",{value:!0}),n.Byte=void 0;var o=e("../maths/Matrix"),i=function(){function e(e){void 0===e&&(e=null),this._xd_=!0,this._allocated_=8,this._pos_=0,this._length=0,e?(this._u8d_=new Uint8Array(e),this._d_=new DataView(this._u8d_.buffer),this._length=this._d_.byteLength):this._resizeBuffer(this._allocated_)}return e.getSystemEndian=function(){if(!e._sysEndian){var t=new ArrayBuffer(2);new DataView(t).setInt16(0,256,!0),e._sysEndian=256===new Int16Array(t)[0]?e.LITTLE_ENDIAN:e.BIG_ENDIAN}return e._sysEndian},Object.defineProperty(e.prototype,"buffer",{get:function(){var e=this._d_.buffer;return e.byteLength===this._length?e:e.slice(0,this._length)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"endian",{get:function(){return this._xd_?e.LITTLE_ENDIAN:e.BIG_ENDIAN},set:function(t){this._xd_=t===e.LITTLE_ENDIAN},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._length},set:function(e){this._allocated_<e?this._resizeBuffer(this._allocated_=Math.floor(Math.max(e,2*this._allocated_))):this._allocated_>e&&this._resizeBuffer(this._allocated_=e),this._length=e},enumerable:!1,configurable:!0}),e.prototype._resizeBuffer=function(e){try{var t=new Uint8Array(e);null!=this._u8d_&&(this._u8d_.length<=e?t.set(this._u8d_):t.set(this._u8d_.subarray(0,e))),this._u8d_=t,this._d_=new DataView(t.buffer)}catch(n){throw"Invalid typed array length:"+e}},e.prototype.getString=function(){return this.readString()},e.prototype.readString=function(){return this._rUTF(this.getUint16())},e.prototype.getFloat32Array=function(e,t){return this.readFloat32Array(e,t)},e.prototype.readFloat32Array=function(e,t){var n=e+t;n=n>this._length?this._length:n;var o=new Float32Array(this._d_.buffer.slice(e,n));return this._pos_=n,o},e.prototype.getUint8Array=function(e,t){return this.readUint8Array(e,t)},e.prototype.readUint8Array=function(e,t){var n=e+t;n=n>this._length?this._length:n;var o=new Uint8Array(this._d_.buffer.slice(e,n));return this._pos_=n,o},e.prototype.getInt16Array=function(e,t){return this.readInt16Array(e,t)},e.prototype.readInt16Array=function(e,t){var n=e+t;n=n>this._length?this._length:n;var o=new Int16Array(this._d_.buffer.slice(e,n));return this._pos_=n,o},e.prototype.getFloat32=function(){return this.readFloat32()},e.prototype.readFloat32=function(){if(this._pos_+4>this._length)throw"getFloat32 error - Out of bounds";var e=this._d_.getFloat32(this._pos_,this._xd_);return this._pos_+=4,e},e.prototype.getFloat64=function(){return this.readFloat64()},e.prototype.readFloat64=function(){if(this._pos_+8>this._length)throw"getFloat64 error - Out of bounds";var e=this._d_.getFloat64(this._pos_,this._xd_);return this._pos_+=8,e},e.prototype.writeFloat32=function(e){this._ensureWrite(this._pos_+4),this._d_.setFloat32(this._pos_,e,this._xd_),this._pos_+=4},e.prototype.writeFloat64=function(e){this._ensureWrite(this._pos_+8),this._d_.setFloat64(this._pos_,e,this._xd_),this._pos_+=8},e.prototype.getInt32=function(){return this.readInt32()},e.prototype.readInt32=function(){if(this._pos_+4>this._length)throw"getInt32 error - Out of bounds";var e=this._d_.getInt32(this._pos_,this._xd_);return this._pos_+=4,e},e.prototype.getUint32=function(){return this.readUint32()},e.prototype.readUint32=function(){if(this._pos_+4>this._length)throw"getUint32 error - Out of bounds";var e=this._d_.getUint32(this._pos_,this._xd_);return this._pos_+=4,e},e.prototype.writeInt32=function(e){this._ensureWrite(this._pos_+4),this._d_.setInt32(this._pos_,e,this._xd_),this._pos_+=4},e.prototype.writeUint32=function(e){this._ensureWrite(this._pos_+4),this._d_.setUint32(this._pos_,e,this._xd_),this._pos_+=4},e.prototype.getInt16=function(){return this.readInt16()},e.prototype.readInt16=function(){if(this._pos_+2>this._length)throw"getInt16 error - Out of bounds";var e=this._d_.getInt16(this._pos_,this._xd_);return this._pos_+=2,e},e.prototype.getUint16=function(){return this.readUint16()},e.prototype.readUint16=function(){if(this._pos_+2>this._length)throw"getUint16 error - Out of bounds";var e=this._d_.getUint16(this._pos_,this._xd_);return this._pos_+=2,e},e.prototype.writeUint16=function(e){this._ensureWrite(this._pos_+2),this._d_.setUint16(this._pos_,e,this._xd_),this._pos_+=2},e.prototype.writeInt16=function(e){this._ensureWrite(this._pos_+2),this._d_.setInt16(this._pos_,e,this._xd_),this._pos_+=2},e.prototype.getUint8=function(){return this.readUint8()},e.prototype.readUint8=function(){if(this._pos_+1>this._length)throw"getUint8 error - Out of bounds";return this._u8d_[this._pos_++]},e.prototype.writeUint8=function(e){this._ensureWrite(this._pos_+1),this._d_.setUint8(this._pos_,e),this._pos_++},e.prototype._getUInt8=function(e){return this._readUInt8(e)},e.prototype._readUInt8=function(e){return this._d_.getUint8(e)},e.prototype._getUint16=function(e){return this._readUint16(e)},e.prototype._readUint16=function(e){return this._d_.getUint16(e,this._xd_)},e.prototype._getMatrix=function(){return this._readMatrix()},e.prototype._readMatrix=function(){return new o.Matrix(this.getFloat32(),this.getFloat32(),this.getFloat32(),this.getFloat32(),this.getFloat32(),this.getFloat32())},e.prototype._rUTF=function(e){var t,n,o=this._pos_+e,i=String.fromCharCode,a=this._u8d_,r=[],s=0;for(r.length=1e3;this._pos_<o;)if((t=a[this._pos_++])<128)0!=t&&(r[s++]=i(t));else if(t<224)r[s++]=i((63&t)<<6|127&a[this._pos_++]);else if(t<240)n=a[this._pos_++],r[s++]=i((31&t)<<12|(127&n)<<6|127&a[this._pos_++]);else{var l=(15&t)<<18|(127&(n=a[this._pos_++]))<<12|(127&a[this._pos_++])<<6|127&a[this._pos_++];if(l>=65536){var c=l-65536,u=55296|c>>10,p=56320|1023&c;r[s++]=i(u),r[s++]=i(p)}else r[s++]=i(l)}return r.length=s,r.join("")},e.prototype.getCustomString=function(e){return this.readCustomString(e)},e.prototype.readCustomString=function(e){for(var t,n="",o=0,i=String.fromCharCode,a=this._u8d_;e>0;)if((t=a[this._pos_])<128)n+=i(t),this._pos_++,e--;else for(o=t-128,this._pos_++,e-=o;o>0;)t=a[this._pos_++],n+=i(a[this._pos_++]<<8|t),o--;return n},Object.defineProperty(e.prototype,"pos",{get:function(){return this._pos_},set:function(e){this._pos_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bytesAvailable",{get:function(){return this._length-this._pos_},enumerable:!1,configurable:!0}),e.prototype.clear=function(){this._pos_=0,this.length=0},e.prototype.__getBuffer=function(){return this._d_.buffer},e.prototype.writeUTFBytes=function(e){for(var t=0,n=(e+="").length;t<n;t++){var o=e.charCodeAt(t);if(o<=127)this.writeByte(o);else if(o<=2047)this._ensureWrite(this._pos_+2),this._u8d_.set([192|o>>6,128|63&o],this._pos_),this._pos_+=2;else if(o>=55296&&o<=56319){t++;var i=e.charCodeAt(t);if(!Number.isNaN(i)&&i>=56320&&i<=57343){var a=64+(1023&o),r=1023&i,s=240|a>>8&63,l=128|a>>2&63,c=128|(3&a)<<4|r>>6&15,u=128|63&r;this._ensureWrite(this._pos_+4),this._u8d_.set([s,l,c,u],this._pos_),this._pos_+=4}}else o<=65535?(this._ensureWrite(this._pos_+3),this._u8d_.set([224|o>>12,128|o>>6&63,128|63&o],this._pos_),this._pos_+=3):(this._ensureWrite(this._pos_+4),this._u8d_.set([240|o>>18,128|o>>12&63,128|o>>6&63,128|63&o],this._pos_),this._pos_+=4)}},e.prototype.writeUTFString=function(e){var t=this.pos;this.writeUint16(1),this.writeUTFBytes(e);var n=this.pos-t-2;this._d_.setUint16(t,n,this._xd_)},e.prototype.writeUTFString32=function(e){var t=this.pos;this.writeUint32(1),this.writeUTFBytes(e);var n=this.pos-t-4;this._d_.setUint32(t,n,this._xd_)},e.prototype.readUTFString=function(){return this.readUTFBytes(this.getUint16())},e.prototype.readUTFString32=function(){return this.readUTFBytes(this.getUint32())},e.prototype.getUTFString=function(){return this.readUTFString()},e.prototype.readUTFBytes=function(e){if(void 0===e&&(e=-1),0===e)return"";var t=this.bytesAvailable;if(e>t)throw"readUTFBytes error - Out of bounds";return e=e>0?e:t,this._rUTF(e)},e.prototype.getUTFBytes=function(e){return void 0===e&&(e=-1),this.readUTFBytes(e)},e.prototype.writeByte=function(e){this._ensureWrite(this._pos_+1),this._d_.setInt8(this._pos_,e),this._pos_+=1},e.prototype.readByte=function(){if(this._pos_+1>this._length)throw"readByte error - Out of bounds";return this._d_.getInt8(this._pos_++)},e.prototype.getByte=function(){return this.readByte()},e.prototype._ensureWrite=function(e){this._length<e&&(this._length=e),this._allocated_<e&&(this.length=e)},e.prototype.writeArrayBuffer=function(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=0),t<0||n<0)throw"writeArrayBuffer error - Out of bounds";0==n&&(n=e.byteLength-t),this._ensureWrite(this._pos_+n);var o=new Uint8Array(e);this._u8d_.set(o.subarray(t,t+n),this._pos_),this._pos_+=n},e.prototype.readArrayBuffer=function(e){var t;return t=this._u8d_.buffer.slice(this._pos_,this._pos_+e),this._pos_=this._pos_+e,t},e.BIG_ENDIAN="bigEndian",e.LITTLE_ENDIAN="littleEndian",e._sysEndian=null,e}();n.Byte=i,cc._RF.pop()},{"../maths/Matrix":"Matrix"}],1:[function(){},{}],CCMCapture:[function(e,t,n){"use strict";cc._RF.push(t,"fe029KYt7hMEraRg4zd59qt","CCMCapture"),Object.defineProperty(n,"__esModule",{value:!0}),n.CCMCapture=void 0;var o=function(){function e(){}return Object.defineProperty(e.prototype,"captureFolderPath",{get:function(){return cc.sys.isNative?jsb.fileUtils.getWritablePath()+"Camera/":""},enumerable:!1,configurable:!0}),Object.defineProperty(e,"Instance",{get:function(){return this.instance||(this.instance=new e),this.instance},enumerable:!1,configurable:!0}),e.prototype.captureNodeToRenderTexture=function(e){if(!cc.isValid(e))return null;var t="capture_"+e.name,n=e.getChildByName(t),o=null;n?o=n.getComponent(cc.Camera):((n=new cc.Node(t)).parent=e,(o=n.addComponent(cc.Camera)).cullingMask=4294967295,o.backgroundColor=cc.color(0,0,0,0),o.clearFlags=cc.Camera.ClearFlags.COLOR|cc.Camera.ClearFlags.DEPTH|cc.Camera.ClearFlags.STENCIL),o.zoomRatio=Math.max(cc.winSize.width/e.width,cc.winSize.height/e.height);var i=new cc.RenderTexture;return i.initWithSize(e.width,e.height,cc.gfx.RB_FMT_S8),o.targetTexture=i,o.render(e),n.destroy(),i},e.prototype.captureNodeToSpriteFrame=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!0);var o=this.captureNodeToRenderTexture(e);if(!o)return null;var i=this.getPixelsData(o,t,n),a=new cc.Texture2D;return a.initWithData(i,32,o.width,o.height),new cc.SpriteFrame(a)},e.prototype.captureNodeToSpriteAndPicData=function(e,t){var n=this.captureNodeToRenderTexture(e);if(!n)return[null,null];cc.log("renderTexture width: "+n.width+"; renderTexture.height: "+n.height);var o=this.getPixelsData(n,!(!t||void 0===t.ignoreOpacity)&&t.ignoreOpacity,!t||void 0===t.flipY||t.flipY),i=new cc.Texture2D;return i.initWithData(o,32,n.width,n.height),[new cc.SpriteFrame(i),o]},e.prototype.savePicDataToFile=function(e,t){if(!cc.sys.isNative)return null;if(!e)return null;var n=this.captureFolderPath;jsb.fileUtils.isDirectoryExist(n)||jsb.fileUtils.createDirectory(n);var o=n+((new Date).getTime()+".png");return jsb.saveImageData(e,t.width,t.height,o),o},e.prototype.captureNodeToPNGImage=function(e,t,n){if(cc.sys.isNative){var o=!(!n||void 0===n.ignoreOpacity)&&n.ignoreOpacity,i=!n||void 0===n.flipY||n.flipY,a=this.captureNodeToRenderTexture(e);if(a){var r=this.getPixelsData(a,o,i),s=this.captureFolderPath;jsb.fileUtils.isDirectoryExist(s)||jsb.fileUtils.createDirectory(s);var l=s+((new Date).getTime()+".png");jsb.saveImageData(r,e.width,e.height,l),t&&t(l)}}},e.prototype.clearCaptureFolder=function(){if(cc.sys.isNative){var e=this.captureFolderPath;jsb.fileUtils.isDirectoryExist(e)&&jsb.fileUtils.removeDirectory(e)}},e.prototype.getPixelsData=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!0);var o=e.readPixels();if(n&&(o=this.flipYImage(o,e.width,e.height)),t)for(var i=0;i<e.width;i++)for(var a=0;a<e.height;a++){var r=i*e.height*4+4*a+3;o[r]>0&&(o[r]=255)}return o},e.prototype.flipYImage=function(e,t,n){for(var o=new Uint8Array(t*n*4),i=4*t,a=0;a<n;a++)for(var r=(n-1-a)*t*4,s=a*t*4,l=0;l<i;l++)o[s+l]=e[r+l];return o},e}();n.CCMCapture=o,cc._RF.pop()},{}],CMObj34700:[function(e,t,n){"use strict";cc._RF.push(t,"405aaIhOt1ELa4tCOdNTiLm","CMObj34700");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.CMObj34700=void 0;var r=e("../../halls/halllib/laya/Laya"),s=r.Laya.regClass,l=(r.Laya.property,function(e){function t(){var t=e.call(this,n.skinPath)||this;return t.text="",t}var n;return i(t,e),n=t,t.prototype.onAwake=function(){this.pivot(.5,.5),this.scale(.7,.7),this.pos(-500,1e3),this.zOrder=1},t.prototype.FlashTo=function(e,t,n,o,i,a){var s=this;r.Laya.Tween.to(this,{x:e,y:t,alpha:n},a,r.Laya.Ease.circOut,r.Laya.Handler.create(this,function(){o&&s.Recover()}),i)},t.prototype.Recover=function(){r.Laya.Pool.recover("icon",this),this.visible=!1},t.skinPath="resources/games/game34700/res/Texture/Game/Icon_Game_Coin.png",n=a([s()],t)}(r.Laya.Image));n.CMObj34700=l,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya"}],CacheManger:[function(e,t,n){"use strict";cc._RF.push(t,"7762b0z3PpNerIVr90g0KSI","CacheManger"),Object.defineProperty(n,"__esModule",{value:!0}),n.CacheManger=void 0;var o=e("./Browser"),i=function(){function e(){}return e.regCacheByFunction=function(t,n){var o;e.unRegCacheByFunction(t,n),o={tryDispose:t,getCacheList:n},e._cacheList.push(o)},e.unRegCacheByFunction=function(t,n){var o,i;for(i=e._cacheList.length,o=0;o<i;o++)if(e._cacheList[o].tryDispose==t&&e._cacheList[o].getCacheList==n)return void e._cacheList.splice(o,1)},e.forceDispose=function(){var t,n=e._cacheList.length;for(t=0;t<n;t++)e._cacheList[t].tryDispose(!0)},e.beginCheck=function(e){void 0===e&&(e=15e3)},e.stopCheck=function(){},e._checkLoop=function(){var t=e._cacheList;if(!(t.length<1)){var n,i,a=o.Browser.now();for(i=n=t.length;n>0&&(e._index++,e._index=e._index%i,t[e._index].tryDispose(!1),!(o.Browser.now()-a>e.loopTimeLimit));)n--}},e.loopTimeLimit=2,e._cacheList=[],e._index=0,e}();n.CacheManger=i,cc._RF.pop()},{"./Browser":"Browser"}],CallLater:[function(e,t,n){"use strict";cc._RF.push(t,"0e0d1Y3hv1Cv5gTlPYVIIPC","CallLater"),Object.defineProperty(n,"__esModule",{value:!0}),n.CallLater=void 0;var o=e("./Timer"),i=e("./Utils"),a=function(){function e(){this._pool=[],this._map={},this._laters=[]}return e.prototype._update=function(){var e=this._laters,t=e.length;if(t>0){for(var n=0,o=t-1;n<=o;n++){var i=e[n];this._map[i.key]=null,null!==i.method&&(i.run(),i.clear()),this._pool.push(i),n===o&&(o=e.length-1)}e.length=0}},e.prototype._getHandler=function(e,t){var n=e?e.$_GID||(e.$_GID=i.Utils.getGID()):0,a=t.$_TID||(t.$_TID=o.Timer._mid++);return this._map[n+"."+a]},e.prototype.callLater=function(e,t,n){if(void 0===n&&(n=null),null==this._getHandler(e,t)){var o=void 0;(o=this._pool.length?this._pool.pop():new r).caller=e,o.method=t,o.args=n;var i=e?e.$_GID:0,a=t.$_TID;o.key=i+"."+a,this._map[o.key]=o,this._laters.push(o)}},e.prototype.runCallLater=function(e,t){var n=this._getHandler(e,t);n&&null!=n.method&&(this._map[n.key]=null,n.run(),n.clear())},e.prototype.clear=function(e,t){var n=this._getHandler(e,t);return!!n&&(this._map[n.key]=null,n.key="",n.clear(),!0)},e.prototype.clearAll=function(e){if(e)for(var t=0,n=this._laters.length;t<n;t++){var o=this._laters[t];o.caller===e&&(this._map[o.key]=null,o.key="",o.clear())}},e.I=new e,e}();n.CallLater=a;var r=function(){function e(){}return e.prototype.clear=function(){this.caller=null,this.method=null,this.args=null},e.prototype.run=function(){var e=this.caller;if(e&&e.destroyed)return this.clear();var t=this.method,n=this.args;null!=t&&(n?t.apply(e,n):t.call(e))},e}();cc._RF.pop()},{"./Timer":"Timer","./Utils":"Utils"}],CharmRankingComponent:[function(e,t,n){"use strict";cc._RF.push(t,"0d697iuqW5KjLMscnWlnJaj","CharmRankingComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../../../../../main/scripts/configs/CommonPanelConfig"),l=e("../../../../../../main/scripts/framework/gg"),c=e("../../../../../../main/scripts/framework/i18n/I18n"),u=e("../../../../../../main/scripts/systems/api/gameapi/GameApi"),p=e("../../../../../../main/scripts/systems/api/gameapi/GameApiModels"),h=e("../../../../../../main/scripts/systems/api/gamecenter/GameCenterApiModels"),d=r(e("../components/MyRankComponent")),f=r(e("../components/RankingTabSelectorComponent")),g=r(e("../components/RankingTopThreeLayComponent")),m=e("../RankingStorageConfig"),y=r(e("./CharmRankingItemComponent")),_=cc._decorator,v=_.ccclass,b=_.property,S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.myRank=null,t.rankingTabSelectorNode=null,t.rankingTopThreeLayNode=null,t.myCharmRanking=null,t.charmRankingItemScrollView=null,t.charmRankingItemParentNode=null,t.charmRankingItemNode=null,t.charmRankingItemNodeHeight=78,t.spaceingY=0,t.paddingTop=0,t.paddingBottom=0,t.visableAreaMarginTop=78,t.visableAreaMarginBottom=78,t.itemList=[],t._virtualNodes=[],t.lastTimer=0,t._itemNodeAll=[],t.rankingType=null,t}return i(t,e),t.prototype.onLoad=function(){this.rankingTopThreeLayNode.getComponent(g.default).initTypeIcon(p.RankingType.TotalCharm)},t.prototype.onEnable=function(){this.reset(),this.updateModeTabSelector(),this.charmRankingItemParentNode.on(cc.Node.EventType.POSITION_CHANGED,this._onPositionChanged,this),this.charmRankingItemScrollView.node.on("scroll-ended",this._updateList,this)},t.prototype.onDisable=function(){this.reset(),this.charmRankingItemParentNode.off(cc.Node.EventType.POSITION_CHANGED,this._onPositionChanged,this),this.charmRankingItemScrollView.node.off("scroll-ended",this._updateList,this)},t.prototype.onClickOpenHelp=function(){l.gg.panelRouter.show({panel:s.CommonPanelConfig.rankingHelpPanel,data:{rankingType:p.RankingType.WeekCharm}})},t.prototype.reset=function(){this.myCharmRanking.node.active=!1,this.rankingTopThreeLayNode.getComponent(g.default).initTopThreeUI(),this.itemList=[],this._virtualNodes=[],this.charmRankingItemScrollView.stopAutoScroll(),this.charmRankingItemParentNode.position=cc.v3(),this._itemNodeAll=[];for(var e=this.charmRankingItemParentNode.children.length-1;e>=0;--e)this._itemNodeAll.push(this.charmRankingItemParentNode.children[e]),this.charmRankingItemParentNode.children[e].active=!1},t.prototype.updateModeTabSelector=function(){this.rankingType=null;var e=this.rankingTabSelectorNode.getComponent(f.default);e.node.on(f.default.OnTabSelectorSelectedChanged,this.onTabSelectorSelectedChanged,this),e.init([c.i18n.getText("ranking.tatal"),c.i18n.getText("ranking.month"),c.i18n.getText("ranking.week")]),e.setSelectedIndex(0)},t.prototype.onTabSelectorSelectedChanged=function(e){var t=p.RankingType.TotalCharm;switch(e){case 0:t=p.RankingType.TotalCharm;break;case 1:t=p.RankingType.MonthCharm;break;case 2:t=p.RankingType.WeekCharm}t!==this.rankingType&&(this.rankingType=t,this.getCharmRankingData())},t.prototype.getCharmRankingData=function(){var e=this;this.reset(),u.gameApi.getRankingList({type:this.rankingType,page:"1",size:"50"}).then(function(t){var n,o,i=!1;if((null===(o=null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.rankings)||void 0===o?void 0:o.length)>0)for(var a=0,r=t.data.rankings;a<r.length;a++){var u=r[a];if(u.type===e.rankingType){for(var p=0;p<u.list.length;p++)i=!0,p<3?e.rankingTopThreeLayNode.getComponent(g.default).topThree.push(u.list[p]):e.itemList.push(u.list[p]);e.myCharmRanking.rankingUserInfo=u.my;break}}if(i)e.myCharmRanking.rankingUserInfo?(e.myCharmRanking.updateUI(),e.myRank.getComponent(d.default).updataUI(e.myCharmRanking.rankingUserInfo.ranking),e.myCharmRanking.node.active=!0):e.myCharmRanking.node.active=!1,e.init(),e.rankingTopThreeLayNode.getComponent(g.default).updateTopThreeUI(),e.checkFistPanel();else{var f="toast.rankingListFail";t.status===h.FlatHttpResponseCode.Success&&(f="toast.rankingNotData"),l.gg.panelRouter.show({panel:s.CommonPanelConfig.toastPanel,data:{text:c.i18n.getText(f)}})}}).catch(function(e){l.gg.logger.error(e),l.gg.panelRouter.hide({panel:s.CommonPanelConfig.loadingPanel,onHided:function(){l.gg.panelRouter.show({panel:s.CommonPanelConfig.toastPanel,data:{text:c.i18n.getText("toast.rankingListFail")}})}})})},t.prototype.checkFistPanel=function(){var e=!0,t="";switch(this.rankingType){case p.RankingType.TotalCharm:t=m.RankingStorageConfig.RankingTatalCharmTimeStr;break;case p.RankingType.MonthCharm:t=m.RankingStorageConfig.RankingMonthCharmTimeStr;break;case p.RankingType.WeekCharm:t=m.RankingStorageConfig.RankingWeekCharmTimeStr}var n=l.gg.localStorage.getItem(t);if(""!==n){var o=parseInt(n),i=Math.floor(o/864e5);Math.floor(Date.now()/864e5)===i&&(e=!1)}var a=this.rankingTopThreeLayNode.getComponent(g.default).topThree;e&&(null==a?void 0:a.length)>0&&(l.gg.panelRouter.show({panel:s.CommonPanelConfig.rankingFristExhibitPanel,data:{rankingUserInfo:a[0]}}),l.gg.localStorage.setItem(t,Date.now().toString()))},t.prototype.getItemNode=function(){var e=this._itemNodeAll.pop();return e||(e=cc.instantiate(this.charmRankingItemNode),this.charmRankingItemParentNode.addChild(e)),e},t.prototype.init=function(){this.itemList&&this.itemList.length>0&&(this._virtualNodes=this.itemList.map(function(){return null}),this._updateListWidth(),this.charmRankingItemParentNode.position=cc.v3(),this._updateList())},t.prototype._updateListWidth=function(){var e=this.itemList.length;this.charmRankingItemParentNode.height=this.paddingTop+this.paddingBottom+this.charmRankingItemNodeHeight*e+this.spaceingY*e,this.charmRankingItemParentNode.height<this.charmRankingItemScrollView.node.height&&(this.charmRankingItemParentNode.height=this.charmRankingItemScrollView.node.height)},t.prototype._onPositionChanged=function(){var e=Date.now();(e-this.lastTimer)/1e3>=.1&&(this.lastTimer=e,this._updateList())},t.prototype._updateList=function(){for(var e=0;e<this._virtualNodes.length;++e){var t=this._virtualNodes[e];if(this._isVisable(e)){null==t&&(t=this.getItemNode()),this._virtualNodes[e]=t,t.position=this._convertIndexToPosition(e);var n=t.getComponent(y.default);n.rankingUserInfo=this.itemList[e],n.updateUI()}else t&&(t.active=!1,this._itemNodeAll.push(t)),this._virtualNodes[e]=null}},t.prototype._isVisable=function(e){var t=this._convertIndexToPosition(e),n=-this.charmRankingItemParentNode.position.y+this.visableAreaMarginTop,o=n-this.visableAreaMarginTop-this.charmRankingItemScrollView.node.height-this.visableAreaMarginBottom;return t.y+.5*this.charmRankingItemNodeHeight<=n&&t.y-.5*this.charmRankingItemNodeHeight>=o},t.prototype._convertIndexToPosition=function(e){return cc.v3(0,-this.paddingTop-this.charmRankingItemNodeHeight*(e+.5)-e*this.spaceingY)},a([b({type:cc.Node,tooltip:"\u81ea\u5df1\u540d\u6b21\u7ec4\u4ef6"})],t.prototype,"myRank",void 0),a([b({type:cc.Node,tooltip:"\u9876\u90e8\u6392\u884c\u6a21\u5f0f\u9009\u4e2d"})],t.prototype,"rankingTabSelectorNode",void 0),a([b({type:cc.Node,tooltip:"\u524d\u4e09\u540d\u73a9\u5bb6\u7ec4\u4ef6"})],t.prototype,"rankingTopThreeLayNode",void 0),a([b({type:y.default,tooltip:"\u73a9\u5bb6\u81ea\u5df1\u7684\u6392\u540d"})],t.prototype,"myCharmRanking",void 0),a([b({type:cc.ScrollView,tooltip:"\u9b45\u529bScrollView"})],t.prototype,"charmRankingItemScrollView",void 0),a([b({type:cc.Node,tooltip:"\u9b45\u529b\u7236\u8282\u70b9"})],t.prototype,"charmRankingItemParentNode",void 0),a([b({type:cc.Prefab,tooltip:"\u9b45\u529b\u9884\u5236\u8282\u70b9"})],t.prototype,"charmRankingItemNode",void 0),a([b({tooltip:"\u9884\u5236\u4f53item\u8282\u70b9\u7684\u9ad8\u5ea6"})],t.prototype,"charmRankingItemNodeHeight",void 0),a([b({tooltip:"Item \u95f4\u9694\uff08px\uff09"})],t.prototype,"spaceingY",void 0),a([b({tooltip:"Item \u8ddd\u79bb\u4e0a\u8fb9\uff08px\uff09"})],t.prototype,"paddingTop",void 0),a([b({tooltip:"Item \u8ddd\u79bb\u4e0b\u8fb9\uff08px\uff09"})],t.prototype,"paddingBottom",void 0),a([b({tooltip:"\u53ef\u89c6\u533a\u57df margin, \u8d1f\u6570\u4e3a\u5f80\u5916\u6269\u5c55"})],t.prototype,"visableAreaMarginTop",void 0),a([b({tooltip:"\u53ef\u89c6\u533a\u57df margin, \u8d1f\u6570\u4e3a\u5f80\u5916\u6269\u5c55"})],t.prototype,"visableAreaMarginBottom",void 0),a([v],t)}(cc.Component);n.default=S,cc._RF.pop()},{"../../../../../../main/scripts/configs/CommonPanelConfig":"CommonPanelConfig","../../../../../../main/scripts/framework/gg":"gg","../../../../../../main/scripts/framework/i18n/I18n":"I18n","../../../../../../main/scripts/systems/api/gameapi/GameApi":"GameApi","../../../../../../main/scripts/systems/api/gameapi/GameApiModels":"GameApiModels","../../../../../../main/scripts/systems/api/gamecenter/GameCenterApiModels":"GameCenterApiModels","../RankingStorageConfig":"RankingStorageConfig","../components/MyRankComponent":"MyRankComponent","../components/RankingTabSelectorComponent":"RankingTabSelectorComponent","../components/RankingTopThreeLayComponent":"RankingTopThreeLayComponent","./CharmRankingItemComponent":"CharmRankingItemComponent"}],CharmRankingItemComponent:[function(e,t,n){"use strict";cc._RF.push(t,"153a5cPUxpAWJlgFp+8JTli","CharmRankingItemComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=l(e("../../../../../../main/scripts/components/UserIconStyle1Component")),u=e("../../../../../../main/scripts/configs/CommonPanelConfig"),p=e("../../../../../../main/scripts/framework/gg"),h=l(e("../../../../../../main/scripts/framework/utils/StringUtils")),d=e("../../../../../../main/scripts/systems/user/UserUISystem"),f=cc._decorator,g=f.ccclass,m=f.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.playerRankingLab=null,t.playerNameLab=null,t.playerCharmLab=null,t.playerIcon=null,t.vipSprite=null,t.rankingUserInfo=null,t.userIconId=null,t.userFrameId=null,t.vipInfo=null,t}return i(t,e),t.prototype.updateUI=function(){var e,t,n,o,i,a,r,s,l,u;this.updataUserVip(),this.node.active=!0,this.playerNameLab.string=h.default.clampStr(this.rankingUserInfo.nick,15),this.playerCharmLab.string=this.rankingUserInfo.ranking_value+"",this.playerRankingLab&&(this.playerRankingLab.string=this.rankingUserInfo.ranking+""),(null===(e=this.rankingUserInfo)||void 0===e?void 0:e.facelook)!=this.userIconId&&this.playerIcon.getComponent(c.default).updateIcon(null!==(n=null===(t=this.rankingUserInfo)||void 0===t?void 0:t.facelook)&&void 0!==n?n:""),(null===(o=this.rankingUserInfo)||void 0===o?void 0:o.frame)!=this.userFrameId&&this.playerIcon.getComponent(c.default).updateIconFrame(null!==(a=null===(i=this.rankingUserInfo)||void 0===i?void 0:i.frame)&&void 0!==a?a:""),this.userIconId=null!==(s=null===(r=this.rankingUserInfo)||void 0===r?void 0:r.facelook)&&void 0!==s?s:"",this.userFrameId=null!==(u=null===(l=this.rankingUserInfo)||void 0===l?void 0:l.frame)&&void 0!==u?u:""},t.prototype.updataUserVip=function(){var e,t,n,o;return r(this,void 0,void 0,function(){var i;return s(this,function(a){switch(a.label){case 0:return(null===(e=this.rankingUserInfo)||void 0===e?void 0:e.vip_info)?(this.vipSprite.node.active=!0,this.vipInfo==(null===(t=this.rankingUserInfo)||void 0===t?void 0:t.vip_info)?[3,2]:(i=this.vipSprite,[4,d.userUISystem.loadUserVipIcon(this.rankingUserInfo.vip_info.vip_level,this.rankingUserInfo.vip_info.vip_status)])):[3,3];case 1:i.spriteFrame=a.sent(),a.label=2;case 2:return[3,4];case 3:this.vipSprite.node.active=!1,a.label=4;case 4:return this.vipInfo=null!==(o=null===(n=this.rankingUserInfo)||void 0===n?void 0:n.vip_info)&&void 0!==o?o:null,[2]}})})},t.prototype.onClickShowUserInfo=function(){p.gg.panelRouter.show({panel:u.CommonPanelConfig.userInfoPanel,data:{qurey_uid:this.rankingUserInfo.uid,userName:this.rankingUserInfo.nick,userIcon:this.rankingUserInfo.facelook,userIconFrame:this.rankingUserInfo.frame}})},a([m({type:cc.Label,tooltip:"\u73a9\u5bb6\u6392\u540d"})],t.prototype,"playerRankingLab",void 0),a([m({type:cc.Label,tooltip:"\u73a9\u5bb6\u540d\u5b57"})],t.prototype,"playerNameLab",void 0),a([m({type:cc.Label,tooltip:"\u73a9\u5bb6\u9b45\u529b"})],t.prototype,"playerCharmLab",void 0),a([m({type:cc.Node,tooltip:"\u73a9\u5bb6\u5934\u50cf\u4fe1\u606f"})],t.prototype,"playerIcon",void 0),a([m({type:cc.Sprite,tooltip:"\u7528\u6237vip\u56fe\u6807"})],t.prototype,"vipSprite",void 0),a([g],t)}(cc.Component);n.default=y,cc._RF.pop()},{"../../../../../../main/scripts/components/UserIconStyle1Component":"UserIconStyle1Component","../../../../../../main/scripts/configs/CommonPanelConfig":"CommonPanelConfig","../../../../../../main/scripts/framework/gg":"gg","../../../../../../main/scripts/framework/utils/StringUtils":"StringUtils","../../../../../../main/scripts/systems/user/UserUISystem":"UserUISystem"}],CheckBoxComponent:[function(e,t,n){"use strict";cc._RF.push(t,"66c029IWFNLDrcmczvvh/jg","CheckBoxComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=r.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.checkedNode=null,t._checked=null,t}var n;return i(t,e),n=t,Object.defineProperty(t.prototype,"checked",{get:function(){return this._checked},set:function(e){this._checked!=e&&(this._checked=e,this.checked?this._playCheckedAnim():this._playUnCheckedAnim(),this.node.emit(n.OnCheckedStateChanged,this._checked))},enumerable:!1,configurable:!0}),t.prototype.reset=function(){this._checked=null,cc.Tween.stopAllByTarget(this.checkedNode),this.checkedNode.scale=0},t.prototype.onLoad=function(){this.addComponent(cc.Button)},t.prototype.onEnable=function(){this.node.on("click",this._onClick,this)},t.prototype.onDisable=function(){this.node.off("click",this._onClick,this)},t.prototype._onClick=function(){this.checked=!this.checked},t.prototype._playCheckedAnim=function(){cc.Tween.stopAllByTarget(this.checkedNode),this.checkedNode.scale=0,cc.tween(this.checkedNode).to(.2,{scale:1},{easing:"backOut"}).start()},t.prototype._playUnCheckedAnim=function(){cc.Tween.stopAllByTarget(this.checkedNode),cc.tween(this.checkedNode).to(.2,{scale:0},{easing:"backOut"}).start()},t.OnCheckedStateChanged="CheckBoxComponent.OnCheckedStateChanged",a([l(cc.Node)],t.prototype,"checkedNode",void 0),n=a([s],t)}(cc.Component);n.default=c,cc._RF.pop()},{}],ChipActivityPanel:[function(e,t,n){"use strict";cc._RF.push(t,"e8c744+97JKI52I1XxAL6+W","ChipActivityPanel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=e("../../../../../main/scripts/configs/CommonPanelConfig"),u=l(e("../../../../../main/scripts/framework/components/dialogstyle/MoveStyleDialogPanelV2")),p=e("../../../../../main/scripts/framework/gg"),h=e("../../../../../main/scripts/framework/i18n/I18n"),d=e("../../../../../main/scripts/systems/analysis/AnalysisEvent"),f=e("../../../../../main/scripts/systems/analysis/AnalysisWrapper"),g=e("../../../../../main/scripts/systems/api/gameapi/GameApi"),m=e("../../../../../main/scripts/systems/api/gameapi/GameApiModels"),y=e("../../../../../main/scripts/systems/chipActivity/ChipActivitySystem"),_=e("../../../../../main/scripts/systems/game/GameUISystem"),v=e("../../../../../main/scripts/systems/user/UserSystem"),b=e("../../../../../main/scripts/systems/user/UserWalletSystem"),S=e("../../../systems/lobby/LobbyHintSystem"),C=e("../../../systems/ui/lobby/LobbyUIEvent"),I=cc._decorator,R=I.ccclass,L=I.property,P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.richText=null,t.chipsNode=null,t.arrowNode=null,t.condition=null,t.showTxt=null,t.conditionName=null,t.fininshNode=null,t.progressLab=null,t.boxLight=null,t.greenBtn=null,t.yellowBtn=null,t.greenLab=null,t.yellowLab=null,t.boxCoinLab=null,t.boxCoinLab2=null,t.boxCoinNode=null,t.status1=null,t.boxSpine=null,t.curIdx=0,t}return i(t,e),t.prototype.onLoad=function(){var e=this;this.chipsNode.children.forEach(function(t,n){t.on("click",function(){e.chipClik(n)},e)})},t.prototype.show=function(e){p.gg.eventManager.emit(C.LobbyUIEvent.onLobbyHideCommonHint,m.LobbyHintEnum.boxChipReddot),this.setChipActivityData(e.data),y.chipActivitySystem.setLocalChipItem(),this._playShowAnim(function(){e.onShowed()})},t.prototype.hide=function(e){this._playHideAnim(function(){e.onHided(),S.lobbyHintSystem.getHintData(m.LobbyHintEnum.boxChipReddot)})},t.prototype.onCloseBtnClick=function(){p.gg.panelRouter.hide({panel:c.CommonPanelConfig.ChipActivityPanel})},t.prototype.setChipActivityData=function(e){var t=this;p.gg.logger.log(e),this.chipData=e,this.status1.active=e.box_state<2,this.boxCoinNode.active=2==e.box_state,this.boxSpine.node.active=e.box_state>=2,this.chipsNode.active=e.box_state<2,e.box_state>=2&&this.boxSpine.setAnimation(0,"idle",!0),this.richText.string=h.i18n.getText("ChipActivity.awardTips",e.prize),this.boxCoinLab.string=e.prize+"",this.boxCoinLab2.string=e.prize+"";var n=0;this.chipsNode.children.forEach(function(o,i){var a=e.chip_list[i].active_state;o.children[0].active=1==a,o.children[1].active=1==a,o.children[2].active=2==a,1==a&&(t.curIdx=i),2==a&&n++}),4==n&&(this.curIdx=4),this.arrowNode.children.forEach(function(t,n){var o=e.chip_list[n].active_state;t.children[0].active=0==o,t.children[1].active=o>0}),this.boxLight.active=4==this.curIdx,this.setLeftContent()},t.prototype.chipClik=function(e){var t=this;this.curIdx!=e&&1!=this.chipData.box_state&&(this.curIdx=e,this.boxLight.active=!1,this.chipsNode.children.forEach(function(e,n){e.children[0].active=n==t.curIdx}),this.setLeftContent())},t.prototype.boxClick=function(){4!=this.curIdx&&(this.curIdx=4,this.boxLight.active=!0,this.chipsNode.children.forEach(function(e){e.children[0].active=!1}),this.setLeftContent())},t.prototype.setLeftContent=function(){if(this.condition.active=this.curIdx<4&&this.chipData.chip_list[this.curIdx].active_state>0,this.showTxt.active=!this.condition.active,this.condition.active&&(this.setConditionName(),this.fininshNode.active=2==this.chipData.chip_list[this.curIdx].active_state,this.progressLab.node.active=1==this.chipData.chip_list[this.curIdx].active_state,this.progressLab.string=h.i18n.getText("ChipActivity.progress",this.chipData.chip_list[this.curIdx].progress,this.chipData.chip_list[this.curIdx].total)),this.showTxt.active&&(this.curIdx<4&&0==this.chipData.chip_list[this.curIdx].active_state&&(this.showTxt.getComponent(cc.Label).string=h.i18n.getText("ChipActivity.showTxt")),4==this.curIdx&&(this.showTxt.getComponent(cc.Label).string=h.i18n.getText("ChipActivity.showTxt"+(this.chipData.box_state+1)))),this.greenBtn.active=0==this.chipData.box_state,this.yellowBtn.active=this.chipData.box_state>0,this.yellowBtn.getComponent(cc.Button).interactable=this.chipData.box_state<3,this.greenBtn.active){var e=this.curIdx<4?this.chipData.chip_list[this.curIdx].active_state:2;this.greenLab.string=h.i18n.getText("ChipActivity.greenBtn"+e)}this.yellowBtn.active&&(this.yellowLab.string=h.i18n.getText("ChipActivity.yellowBtn"+this.chipData.box_state))},t.prototype.setConditionName=function(){switch(this.chipData.chip_list[this.curIdx].task_id){case m.ChipType.GradeStarUp:this.conditionName.string=h.i18n.getText("ChipActivity.condition1",this.chipData.chip_list[this.curIdx].total);break;case m.ChipType.AnimalApinBet:this.conditionName.string=h.i18n.getText("ChipActivity.condition2",this.chipData.chip_list[this.curIdx].total);break;case m.ChipType.Transfer:this.conditionName.string=h.i18n.getText("ChipActivity.condition3",this.chipData.chip_list[this.curIdx].total);break;case m.ChipType.ChargeAmount:this.conditionName.string=h.i18n.getText("ChipActivity.condition4",this.chipData.chip_list[this.curIdx].total);break;case m.ChipType.DoubleBalootWinCoins:this.conditionName.string=h.i18n.getText("ChipActivity.condition5",this.chipData.chip_list[this.curIdx].total)}},t.prototype.onGreenBtn=function(){if(this.curIdx<4&&1==this.chipData.chip_list[this.curIdx].active_state)this.onCloseBtnClick(),this.onGotoByTaskId();else for(var e=0;e<this.chipData.chip_list.length;e++)if(1==this.chipData.chip_list[e].active_state)return void this.chipClik(e)},t.prototype.onGotoByTaskId=function(){switch(this.chipData.chip_list[this.curIdx].task_id){case m.ChipType.GradeStarUp:f.analysis.logEvent(d.AnalysisEvent.ChipQualifyingBalootClick),p.gg.eventManager.emit(C.LobbyUIEvent.LobbyGetInQualifyingBaloot);break;case m.ChipType.AnimalApinBet:f.analysis.logEvent(d.AnalysisEvent.ChipTurntableClick),p.gg.eventManager.emit(C.LobbyUIEvent.LobbyGetInTurntable);break;case m.ChipType.Transfer:f.analysis.logEvent(d.AnalysisEvent.ChipFriendClick),p.gg.panelRouter.show({panel:c.CommonPanelConfig.friendSystemPanel}),p.gg.eventManager.emit(C.LobbyUIEvent.onLobbyHideCommonHint,m.LobbyHintEnum.FriendReddot);break;case m.ChipType.ChargeAmount:f.analysis.logEvent(d.AnalysisEvent.ChipStoreClick),p.gg.panelRouter.show({panel:c.CommonPanelConfig.storePanel});break;case m.ChipType.DoubleBalootWinCoins:p.gg.eventManager.emit(C.LobbyUIEvent.LobbyGetInDoubleBaloot)}},t.prototype.onYellowBtn=function(){return r(this,void 0,Promise,function(){var e;return s(this,function(t){switch(t.label){case 0:return 1!=this.chipData.box_state?[3,2]:(p.gg.panelRouter.show({panel:c.CommonPanelConfig.loadingPanel}),[4,g.gameApi.synthesisBox()]);case 1:return 1!=(null==(e=t.sent())?void 0:e.status)?(p.gg.panelRouter.hide({panel:c.CommonPanelConfig.loadingPanel}),p.gg.panelRouter.show({panel:c.CommonPanelConfig.toastPanel,data:{text:h.i18n.getText("ChipActivity.synthesisFail")}}),[2]):(this.synthesisBox(),[2]);case 2:return 2==this.chipData.box_state&&this.receiveClick(),[2]}})})},t.prototype.synthesisBox=function(){var e=this;p.gg.panelRouter.hide({panel:c.CommonPanelConfig.loadingPanel}),this.chipData.box_state=2,this.yellowBtn.active=!1,this.chipsNode.active=!1,this.boxSpine.node.active=!0,this.boxSpine.setCompleteListener(function(){e.yellowBtn.active=!0,e.yellowLab.string=h.i18n.getText("ChipActivity.yellowBtn"+e.chipData.box_state),e.boxSpine.setAnimation(0,"idle",!0),e.boxSpine.setCompleteListener(null)}),this.boxSpine.setAnimation(0,"open",!1),this.scheduleOnce(function(){e.status1.active=!1,e.boxCoinNode.active=!0},.3)},t.prototype.receiveClick=function(){return r(this,void 0,Promise,function(){var e,t,n,o;return s(this,function(i){switch(i.label){case 0:return e=b.userWalletSystem.coinBalance,t=b.userWalletSystem.diamondBalance,n=v.userSystem.userModel.fashion,p.gg.panelRouter.show({panel:c.CommonPanelConfig.loadingPanel}),[4,g.gameApi.receiveBox()];case 1:return 1===(null==(o=i.sent())?void 0:o.status)&&o.data?(this.onCloseBtnClick(),p.gg.panelRouter.hide({panel:c.CommonPanelConfig.loadingPanel}),_.gameUISystem.showReceiveFeatures(e,t,n,o.data.award_list),p.gg.eventManager.emit(C.LobbyUIEvent.onActivityEnd,m.ActivityType.boxChip),[2]):(p.gg.panelRouter.hide({panel:c.CommonPanelConfig.loadingPanel}),p.gg.panelRouter.show({panel:c.CommonPanelConfig.toastPanel,data:{text:h.i18n.getText("ChipActivity.receiveFail")}}),[2])}})})},a([L({type:cc.RichText,tooltip:"\u6536\u96c6\u788e\u7247\u63d0\u793a"})],t.prototype,"richText",void 0),a([L({type:cc.Node,tooltip:"\u788e\u7247\u683c\u5b50\u7236\u8282\u70b9"})],t.prototype,"chipsNode",void 0),a([L({type:cc.Node,tooltip:"\u7bad\u5934\u7236\u8282\u70b9"})],t.prototype,"arrowNode",void 0),a([L({type:cc.Node,tooltip:"\u6761\u4ef6\u8282\u70b9"})],t.prototype,"condition",void 0),a([L({type:cc.Node,tooltip:"\u5c55\u793a\u5185\u5bb9"})],t.prototype,"showTxt",void 0),a([L({type:cc.Label,tooltip:"\u6761\u4ef6\u8bf4\u660e"})],t.prototype,"conditionName",void 0),a([L({type:cc.Node,tooltip:"\u5b8c\u6210\u8282\u70b9"})],t.prototype,"fininshNode",void 0),a([L({type:cc.RichText,tooltip:"\u5f53\u524d\u8fdb\u5ea6"})],t.prototype,"progressLab",void 0),a([L({type:cc.Node,tooltip:"\u5b9d\u7bb1\u9009\u4e2d\u5149\u5708"})],t.prototype,"boxLight",void 0),a([L({type:cc.Node,tooltip:"\u7eff\u8272\u6309\u94ae"})],t.prototype,"greenBtn",void 0),a([L({type:cc.Node,tooltip:"\u9ec4\u8272\u6309\u94ae"})],t.prototype,"yellowBtn",void 0),a([L({type:cc.Label,tooltip:"\u7eff\u8272\u6309\u94ae\u540d\u5b57"})],t.prototype,"greenLab",void 0),a([L({type:cc.Label,tooltip:"\u9ec4\u8272\u6309\u94ae\u540d\u5b57"})],t.prototype,"yellowLab",void 0),a([L({type:cc.Label,tooltip:"\u7bb1\u5b50\u91d1\u5e01"})],t.prototype,"boxCoinLab",void 0),a([L({type:cc.Label,tooltip:"\u7bb1\u5b50\u91d1\u5e012"})],t.prototype,"boxCoinLab2",void 0),a([L({type:cc.Node,tooltip:"\u7bb1\u5b50\u91d1\u5e01\u8282\u70b9"})],t.prototype,"boxCoinNode",void 0),a([L({type:cc.Node,tooltip:"\u7bb1\u5b50\u672a\u5f00\u542f\u72b6\u60011"})],t.prototype,"status1",void 0),a([L({type:sp.Skeleton,tooltip:"\u7bb1\u5b50spine\u7279\u6548"})],t.prototype,"boxSpine",void 0),a([R],t)}(u.default);n.default=P,cc._RF.pop()},{"../../../../../main/scripts/configs/CommonPanelConfig":"CommonPanelConfig","../../../../../main/scripts/framework/components/dialogstyle/MoveStyleDialogPanelV2":"MoveStyleDialogPanelV2","../../../../../main/scripts/framework/gg":"gg","../../../../../main/scripts/framework/i18n/I18n":"I18n","../../../../../main/scripts/systems/analysis/AnalysisEvent":"AnalysisEvent","../../../../../main/scripts/systems/analysis/AnalysisWrapper":"AnalysisWrapper","../../../../../main/scripts/systems/api/gameapi/GameApi":"GameApi","../../../../../main/scripts/systems/api/gameapi/GameApiModels":"GameApiModels","../../../../../main/scripts/systems/chipActivity/ChipActivitySystem":"ChipActivitySystem","../../../../../main/scripts/systems/game/GameUISystem":"GameUISystem","../../../../../main/scripts/systems/user/UserSystem":"UserSystem","../../../../../main/scripts/systems/user/UserWalletSystem":"UserWalletSystem","../../../systems/lobby/LobbyHintSystem":"LobbyHintSystem","../../../systems/ui/lobby/LobbyUIEvent":"LobbyUIEvent"}],ChipActivitySystem:[function(e,t,n){"use strict";cc._RF.push(t,"b9539VNEPROLqABBPy7Jnqi","ChipActivitySystem"),Object.defineProperty(n,"__esModule",{value:!0}),n.chipActivitySystem=void 0;var o,i=e("../../../../main/scripts/framework/gg"),a=e("../../../../main/scripts/systems/user/UserSystem");(function(e){e[e.notOpen=0]="notOpen",e[e.canOpen=1]="canOpen",e[e.hasOpen=2]="hasOpen"})(o||(o={}));var r=function(){function e(){}return e.prototype.getChipIsOpen=function(){var e=this.getLocalChipItem(),t=!1;return Object.keys(e).map(function(n){e[n]==o.canOpen&&(t=!0)}),t},e.prototype.getLocalChipItem=function(){var e=i.gg.localStorage.getItem(a.userSystem.userModel.uid+"_chip_activity");if(!e){var t={grade_star_up:o.notOpen,transfer:o.notOpen,animal_spin_bet:o.notOpen};e=JSON.stringify(t),i.gg.localStorage.setItem(a.userSystem.userModel.uid+"_chip_activity",JSON.stringify(t))}return JSON.parse(e)},e.prototype.setLocalChipItem=function(){if(this.getChipIsOpen()){var e=this.getLocalChipItem();Object.keys(e).map(function(t){e[t]==o.canOpen&&(e[t]=o.hasOpen)}),i.gg.localStorage.setItem(a.userSystem.userModel.uid+"_chip_activity",JSON.stringify(e))}},e.prototype.setConditionItem=function(e){var t=this.getLocalChipItem();t[e]==o.notOpen&&(t[e]=o.canOpen,i.gg.localStorage.setItem(a.userSystem.userModel.uid+"_chip_activity",JSON.stringify(t)))},e}();n.chipActivitySystem=new r,cc._RF.pop()},{"../../../../main/scripts/framework/gg":"gg","../../../../main/scripts/systems/user/UserSystem":"UserSystem"}],ClassUtils:[function(e,t,n){"use strict";cc._RF.push(t,"a604f3EWYNCVq5gbn3cdR2V","ClassUtils"),Object.defineProperty(n,"__esModule",{value:!0}),n.ClassUtils=void 0;var o=function(){function e(){}return e.regClass=function(t,n){e._classMap[t]=n},e.getClass=function(t){return e._classMap[t]},e.getInstance=function(t){var n=e.getClass(t);return n?new n:(console.warn("[error] Undefined class:",t),null)},e._classMap={},e}();n.ClassUtils=o,cc._RF.pop()},{}],Client:[function(e,t,n){"use strict";cc._RF.push(t,"8033bsE68VFB5PwE6FL3PSn","Client");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.Client=void 0;var a=e("../common/Define"),r=e("./InnerEvent"),s=e("../common/LogBase"),l=e("../common/Tools"),c=e("./RoomMessage"),u=e("../common/ConfigMng"),p=e("./BaseMessage"),h=e("../laya/Laya"),d=e("../laya/utils/Byte"),f=e("../../hallph7/SceneSysTips7"),g=h.Laya.Socket,m=h.Laya.Event,y=h.Laya.EventDispatcher,_=e("./GameHallMessage"),v=_.GameHallMessage.MDM_ID,b=_.GameHallMessage.E_ERROR_CODE,S=_.GameHallMessage.SUB_CONNECT_ID,C=_.GameHallMessage.SUB_GH_MAQ_MSG,I=_.GameHallMessage.CSEncryptHead,R=_.GameHallMessage.ERROR_CODE_MSG,L=_.GameHallMessage.Accept,P=_.GameHallMessage.SUB_GH_LOGON_ID,M=_.GameHallMessage.CMD_Logon_Account,T=_.GameHallMessage.CMD_GH_Logon_Failed,E=_.GameHallMessage.CMD_C_REG_QUICK,A=function(e){function t(){var n=e.call(this)||this;return n.clientIP=0,n.strClientIP="",n.showLog=!0,n.serverurl="",n._isConnecting=!1,n.isReConnect=!1,s.LogBase.log("\u6784\u9020 Client socket"),n._socket=new g,n._socket.on(m.OPEN,n,n.onSocketOpen),n._socket.on(m.CLOSE,n,n.onSocketClose),n._socket.on(m.MESSAGE,n,n.onSocketMessage),n._socket.on(m.ERROR,n,n.onSocketError),n._handlerList=new G,n._handlerGameList=new G,n._msgMap=new w,n.DES3_KEY_BYTE=p.ByteUtil.createByte(),n.DES3_KEY_BYTE.writeUTFBytes(t.DEF_SELF_KEY),n._noEncryptKeys={},n._c2sDisableLog=new N,n._s2cDisableLog=new N,n._c2sOnlyTraceLog=new N,n._s2cOnlyTraceLog=new N,n._noErrorCode={},n._noEncryptKeys[v.MDM_CONNECT+"_"+S.ASS_NET_TEST]=!0,n.setProtocolIDDisableLog(v.MDM_CONNECT,S.ASS_NET_TEST),n.setProtocolIDDisableLog(v.MDM_GH_MAQ_MSG,C.SUB_GH_MAQ_MSG_NOTIFY),n._noErrorCode[b.SendMsgList_Part.toString()]=!0,n._noErrorCode[b.SendMsgList_Finish.toString()]=!0,n._noErrorCode[b.E_ERROR_GAME_LIST_PART.toString()]=!0,n._noErrorCode[b.E_ERROR_GAME_LIST_FINISH.toString()]=!0,n}return i(t,e),Object.defineProperty(t,"Instance",{get:function(){return null==this._InstanceClient&&(this._InstanceClient=new t),this._InstanceClient?this._InstanceClient:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"socket",{get:function(){return this._socket},enumerable:!1,configurable:!0}),t.Init=function(){null==this._InstanceClient&&(this._InstanceClient=new t),t.DEF_SELF_KEY=u.ConfigMng.serviceconfigJson.serverKey},t.prototype.SetclientIP=function(e){var t=/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/.exec(e);this.clientIP=t?(parseInt(t[4])<<24|parseInt(t[3])<<16|parseInt(t[2])<<8|parseInt(t[1]))>>>0:0,this.strClientIP=e},t.prototype.setProtocolIDDisableLog=function(e,t,n){void 0===n&&(n=!0),n?(this._c2sDisableLog.addMsg(e,t),this._s2cDisableLog.addMsg(e,t)):(this._c2sDisableLog.removeMsg(e,t),this._s2cDisableLog.removeMsg(e,t))},t.prototype.addOnlyTraceLogC2S=function(e,t){this._c2sOnlyTraceLog.addMsg(e,t)},t.prototype.removeOnlyTraceLogC2S=function(e,t){this._c2sOnlyTraceLog.removeMsg(e,t)},t.prototype.addOnlyTraceLogS2C=function(e,t){this._s2cOnlyTraceLog.addMsg(e,t)},t.prototype.removeOnlyTranceLogS2C=function(e,t){this._s2cOnlyTraceLog.removeMsg(e,t)},t.prototype.connect=function(e){this._isConnecting||(this._socket.connected?s.LogBase.log("\u5df2\u7ecf\u8fde\u63a5\u4e86"):(s.LogBase.log("\u5f00\u59cb\u8fde\u63a5\u670d\u52a1\u5668:"+e),this._isConnecting=!0,this._initiativeClose=!0,this.serverurl=e,this._socket.connectByUrl(e),h.Laya.timer.once(5e3,this,this.onSocketError)))},t.prototype.reconnect=function(){this._isConnecting||(this._socket.connected?s.LogBase.log("\u5df2\u7ecf\u8fde\u63a5\u4e86"):(r.HallEvent.event(r.HallEvent.CLOSE_WAITTING_MSG),s.LogBase.log("\u5f00\u59cb\u91cd\u65b0\u8fde\u63a5\u670d\u52a1\u5668:"+this.serverurl),this._isConnecting=!0,this._initiativeClose=!0,this.isReConnect=!0,this._socket.connectByUrl(this.serverurl),h.Laya.timer.once(5e3,this,this.onSocketError)))},t.prototype.close=function(){this._socket.connect&&(this._initiativeClose=!0,this._socket.close())},t.prototype.isInitiativeClose=function(){return this._initiativeClose},t.prototype.isConnected=function(){return this._socket.connected},t.prototype.sendData=function(e,t,n){void 0===n&&(n=null),null==u.ConfigMng.serviceconfigJson.checkcode||null==u.ConfigMng.serviceconfigJson.checkcode||0==u.ConfigMng.serviceconfigJson.checkcode?this.sendData_old(e,t,n):this.sendData_new(e,t,n)},t.prototype.sendData_new=function(e,t,n){void 0===n&&(n=null),console.log("sendData_new");var o=e+"_"+t,i=new p.NetMessageHead;i.uMainID=e,i.uAssistantID=t,i.dwClientIP=this.clientIP,i.uMessageSize=null==n?p.NetMessageHead.LENGTH:p.NetMessageHead.LENGTH+n.length,i.uMessageSize+=2;var c=i.writeTo();c.pos=c.length,null!=n&&c.writeArrayBuffer(n.buffer);var u=p.ByteUtil.createByte(),d=l.GameEncrypt.EncodeMsg(u,c);u.pos=0,u.writeUint8(d),u.writeUint8(1),u.writeUint32(i.uMessageSize),u.pos=u.length,this._socket.connected?this._socket.send(u.buffer):(s.LogBase.error("\u4e0e\u670d\u52a1\u5668\u65ad\u5f00\uff0c\u53d1\u9001\u6d88\u606f\u5931\u8d25",o),this.isReConnect?(r.HallEvent.event(r.HallEvent.EXIT_HALL),this.isReConnect=!1):(r.HallEvent.event(r.HallEvent.CLOSE_WAITTING_MSG),r.HallEvent.dispatcher.event(r.HallEvent.SHOW_MESSAGE,[a.Define.TIPS.SEND_MSG_ERROR,!0,h.Laya.Handler.create(this,this.reconnect)]))),this.needTraceLogC2S(e,t)&&s.LogBase.log("[c2s](id:"+o+", len:"+u.buffer.byteLength+")")},t.prototype.sendData_old=function(e,t,n){void 0===n&&(n=null);var o,i=e+"_"+t,l=new p.NetMessageHead;l.uMainID=e,l.uAssistantID=t,l.uMessageSize=null==n?p.NetMessageHead.LENGTH:p.NetMessageHead.LENGTH+n.length,(o=l.writeTo()).pos=o.length,null!=n&&o.writeArrayBuffer(n.buffer),this._socket.connected?this._socket.send(o.buffer):(s.LogBase.error("\u4e0e\u670d\u52a1\u5668\u65ad\u5f00\uff0c\u53d1\u9001\u6d88\u606f\u5931\u8d25",i),r.HallEvent.dispatcher.event(r.HallEvent.SHOW_MESSAGE,[a.Define.TIPS.SEND_MSG_ERROR,!0,h.Laya.Handler.create(this,this.reconnect)])),this.needTraceLogC2S(e,t)&&s.LogBase.c2sDebug("[c2s](id:"+i+", len:"+(l.uMessageSize-p.NetMessageHead.LENGTH)+")")},t.prototype.executeMsgListener=function(e,t){this.addMessage(e,t)},t.prototype.addMsgListener=function(e,t,n,o,i){e==c.roommsg.ROOM_MDM_ID.MDM_GM_GAME_NOTIFY?this._handlerGameList.addHandler(e,t,h.Laya.Handler.create(n,o,i,!1)):this._handlerList.addHandler(e,t,h.Laya.Handler.create(n,o,i,!1))},t.prototype.removeMsgListener=function(e,t,n){e==c.roommsg.ROOM_MDM_ID.MDM_GM_GAME_NOTIFY?this._handlerGameList.removeHandler(e,t,n):this._handlerList.removeHandler(e,t,n)},t.prototype.removeCallerListener=function(e){this._handlerList.removeAllHandler(e),this._handlerGameList.removeAllHandler(e)},t.prototype.removeGameListener=function(){this._handlerGameList.removeAll()},t.prototype.needTraceLogC2S=function(e,t){return!!this.showLog&&(this._c2sOnlyTraceLog.count>0?this._c2sOnlyTraceLog.hasMsg(e,t):!this._c2sDisableLog.hasMsg(e,t))},t.prototype.needTraceLogS2C=function(e,t){return!!this.showLog&&(this._s2cOnlyTraceLog.count>0?this._c2sOnlyTraceLog.hasMsg(e,t):!this._c2sDisableLog.hasMsg(e,t))},t.prototype.onSocketOpen=function(e){h.Laya.timer.clearAll(this),this._initiativeClose=!1,this._isConnecting=!1,s.LogBase.log("\u8fde\u63a5\u670d\u52a1\u5668\u6210\u529f  isReConnect:",this.isReConnect),this.event(e.type),r.HallEvent.event(r.HallEvent.SOCKET_OPEN),this.isReConnect&&(r.HallEvent.event(r.HallEvent.EXIT_HALL),this.isReConnect=!1)},t.prototype.onSocketClose=function(e){this._isConnecting=!1,s.LogBase.log("\u4e0e\u670d\u52a1\u5668\u65ad\u5f00",e),f.SceneSysTips7.OpenScene(null,a.Define.TIPS.CONNECT_ERROR,h.Laya.Handler.create(this,this.reconnect)),this.event(e.type)},t.prototype.onSocketMessage=function(e){try{"string"==typeof e?(s.LogBase.log("---------\u6536\u5230\u670d\u52a1\u5668\u6d88\u606f----------"),s.LogBase.log("[s2c]:string->"+e)):e instanceof ArrayBuffer?null==u.ConfigMng.serviceconfigJson.checkcode||null==u.ConfigMng.serviceconfigJson.checkcode||0==u.ConfigMng.serviceconfigJson.checkcode||this.responseMsg(e):(s.LogBase.log("---------\u6536\u5230\u670d\u52a1\u5668\u6d88\u606f----------"),s.LogBase.log("[s2c]:?????"))}catch(t){s.LogBase.error("onSocketMessage catch:",t)}},t.prototype.onSocketError=function(e){this._isConnecting=!1,s.LogBase.error("\u670d\u52a1\u5668\u8fde\u63a5\u5f02\u5e38",e),this.isReConnect&&(r.HallEvent.event(r.HallEvent.EXIT_HALL),this.isReConnect=!1),f.SceneSysTips7.OpenScene(null,a.Define.TIPS.CONNECT_ERROR,h.Laya.Handler.create(this,this.reconnect))},t.prototype.responseMsg=function(e){if(null!=e){var t=new d.Byte;t.writeArrayBuffer(e,0,6);var n=new d.Byte;if(n.writeArrayBuffer(e,2,e.byteLength-2),n.length<4)s.LogBase.error("\u6570\u636e\u957f\u5ea6\u5f02\u5e38");else{t.pos=0;var o=t.getUint8(),i=t.getUint8(),a=t.getUint32();if(a-=2,i==l.GameEncrypt.ENCODE_FLAG){var r=new d.Byte;if(!l.GameEncrypt.DecodeMsg(r,n,o))return void s.LogBase.error("\u6d88\u606f\u89e3\u5bc6\u9519\u8bef,\u6d88\u606f\u957f\u5ea6:"+a.toString());r.pos=0,this.noEncryptResponse(r,a)}else n.length>=p.NetMessageHead.LENGTH?(n.pos=0,this.noEncryptResponse(n,a)):s.LogBase.error("\u6570\u636e\u957f\u5ea6\u9519\u8bef:",n.length)}}else s.LogBase.error("\u6570\u636e\u4e3a\u7a7a\u5f02\u5e38")},t.prototype.responseMsg_old=function(e){var n=p.ByteUtil.createByte(e);if(n.length<4)s.LogBase.error("\u6570\u636e\u957f\u5ea6\u5f02\u5e38");else{var o=n.getUint32();if(o==t.ENCRYPT_MAGIC){if(n.length<I.LENGTH)return void s.LogBase.error("\u6536\u5230\u7684\u52a0\u5bc6\u6570\u636e\u5f02\u5e38");this.encryptResponse(n)}else n.length>=28?(n.pos=0,this.noEncryptResponse(n,o)):s.LogBase.error("\u6570\u636e\u957f\u5ea6\u9519\u8bef")}},t.prototype.encryptResponse=function(e){if(e.length<I.LENGTH+p.NetMessageHead.LENGTH)s.LogBase.error("\u6570\u636e\u957f\u5ea6\u4e0d\u8db3?");else{var t=p.ByteUtil.createByte();t.writeArrayBuffer(e.buffer,I.LENGTH,p.NetMessageHead.LENGTH),l.GameEncrypt.DataNewProEncrypt(t,this.DES3_KEY_BYTE),t.pos=0;var n=new p.NetMessageHead;if(n.readFrom(t),this.needTraceLogS2C(n.uMainID,n.uAssistantID)){var o=n.uMainID+"_"+n.uAssistantID,i=R.getCodeMsg(n.uHandleCode);s.LogBase.log("[s2c](id:"+o+", len:"+(n.uMessageSize-p.NetMessageHead.LENGTH)+", code:"+n.uHandleCode+"  errMsg:"+ +i+")")}if(e.pos=I.LENGTH+p.NetMessageHead.LENGTH,n.uHandleCode==b.E_CODE_SUCC||this._noErrorCode[n.uHandleCode.toString()]){if(e.bytesAvailable!=n.uMessageSize-p.NetMessageHead.LENGTH)return void s.LogBase.error("("+n.uMainID+"_"+n.uAssistantID+")\u6570\u636e\u957f\u5ea6\u5f02\u5e38[\u5269\u4f59:"+e.bytesAvailable+",\u9700\u8981:"+n.uMessageSize+"]");t.clear(),t.writeArrayBuffer(e.buffer,e.pos,n.uMessageSize-p.NetMessageHead.LENGTH),t.pos=0,this.addMessage(n,t)}else{this.needTraceLogS2C(n.uMainID,n.uAssistantID)&&s.LogBase.log("\u670d\u52a1\u5668\u8fd4\u56de\u9519\u8bef:"+n.uHandleCode+"-"+R.getCodeMsg(n.uHandleCode));var a=null;e.bytesAvailable>0&&(a=p.ByteUtil.createByte()).writeArrayBuffer(e.buffer,e.pos),this.addMessage(n,a),null!=a&&a.bytesAvailable>0&&s.LogBase.error("\u5269\u4f59\u6570\u636e\u957f\u5ea6:"+a.bytesAvailable)}}},t.prototype.noEncryptResponse=function(e,t){if(!((t<=0||e.bytesAvailable!=t)&&(s.LogBase.error("\u6570\u636e\u957f\u5ea6\u5f02\u5e38[\u5e94\u6709\u957f\u5ea6:"+t+",\u5b9e\u9645\u957f\u5ea6:"+e.bytesAvailable+"]"),e.bytesAvailable<t))){var n=new p.NetMessageHead;if(n.readFrom(e),n.uMessageSize=t,this.needTraceLogS2C(n.uMainID,n.uAssistantID)){var o=n.uMainID+"_"+n.uAssistantID,i=R.getCodeMsg(n.uHandleCode);s.LogBase.c2sDebug("[s2c](id:"+o+" , allDataLengh:"+(t+2)+" len:"+(n.uMessageSize-p.NetMessageHead.LENGTH)+", code:"+n.uHandleCode+"  errMsg:"+i+")")}if(0==e.bytesAvailable)this.addMessage(n,null);else{var a=p.ByteUtil.createByte();a.writeArrayBuffer(e.buffer,e.pos),this.addMessage(n,a)}}},t.prototype.addMessage=function(e,t){var n=[];0==(n=e.uMainID==c.roommsg.ROOM_MDM_ID.MDM_GM_GAME_NOTIFY?this._handlerGameList.getHandlers(e.uMainID,e.uAssistantID):this._handlerList.getHandlers(e.uMainID,e.uAssistantID)).length&&this.needTraceLogS2C(e.uMainID,e.uAssistantID);for(var o=0;o<n.length;o++){null!=t&&(t.pos=0);try{n[o].runWith([e,t])}catch(i){s.LogBase.error("client addMessage handlers[i].runWith",e.uMainID,e.uAssistantID,n[o],i)}}},t.prototype.encryptMsgHead=function(e){return e.writeTo()},t.ENCRYPT_MAGIC=4294967295,t.DEF_SELF_KEY="",t}(y);n.Client=A;var w=function(){function e(){this._msgList=[],this._map={},this.init()}return e.prototype.addMessage=function(e,t){this._msgList.push(new O(e,t))},e.prototype.popMessage=function(){return this._msgList.length>0?this._msgList.pop():null},e.prototype.init=function(){this.bindMessagID(v.MDM_CONNECT,S.ASS_CONNECT_SUCCESS,L),this.bindMessagID(v.MDM_GH_LOGON,P.SUB_GH_LOGON_ACCOUNT,M),this.bindMessagID(v.MDM_GH_LOGON,P.SUB_GH_LOGON_ERROR,T),this.bindMessagID(v.MDM_GH_LOGON,P.SUB_GH_LOGON_REG,E)},e.prototype.bindMessagID=function(e,t,n){this._map[e+"_"+t]=n},e}(),O=function(e,t){this.head=e,this.mainData=t},G=function(){function e(){this._keyMap={},this._keyList=[]}return e.prototype.getHandlers=function(e,t){var n=e+"_"+t,o=this._keyMap[n];return null==o&&(o=[],this._keyMap[n]=o,this._keyList.push(n)),o},e.prototype.addHandler=function(e,t,n){if(n.once)s.LogBase.error("handler.once \u4e0d\u80fd\u4e3atrue");else{n.once=!1;var o=this.getHandlers(e,t);o.indexOf(n)>=0||o.push(n)}},e.prototype.removeHandler=function(e,t,n){var o=this.getHandlers(e,t);if(null==n||null==n){for(var i=0;i<o.length;i++)o[i]&&o[i].recover();o.splice(0,o.length)}else{var a=o.indexOf(n);a>=0&&o.splice(a,1),n.recover()}},e.prototype.removeAllHandler=function(e){for(var t=0;t<this._keyList.length;t++)for(var n=this._keyMap[this._keyList[t]],o=n.length-1;o>=0;o--)n[o].caller==e&&(n[o]&&n[o].recover(),n.splice(o,1))},e.prototype.removeAll=function(){for(var e=0;e<this._keyList.length;e++){for(var t=this._keyMap[this._keyList[e]],n=0;n<t.length;n++)t[n]&&t[n].recover();t=[]}this._keyMap={},this._keyList=[]},e}(),N=function(){function e(){this._count=0,this._map={}}return Object.defineProperty(e.prototype,"count",{get:function(){return this._count},enumerable:!1,configurable:!0}),e.prototype.addMsg=function(e,t){1!=this._map[this.getKey(e,t)]&&(this._count++,this._map[this.getKey(e,t)]=!0)},e.prototype.removeMsg=function(e,t){1==this._map[this.getKey(e,t)]&&(delete this._map[this.getKey(e,t)],this._count--)},e.prototype.hasMsg=function(e,t){return 1==this._map[this.getKey(e,t)]},e.prototype.getKey=function(e,t){return e+"_"+t},e}();cc._RF.pop()},{"../../hallph7/SceneSysTips7":"SceneSysTips7","../common/ConfigMng":"ConfigMng","../common/Define":"Define","../common/LogBase":"LogBase","../common/Tools":"Tools","../laya/Laya":"Laya","../laya/utils/Byte":"Byte","./BaseMessage":"BaseMessage","./GameHallMessage":"GameHallMessage","./InnerEvent":"InnerEvent","./RoomMessage":"RoomMessage"}],CloudMessagingSystem:[function(e,t,n){"use strict";cc._RF.push(t,"c1823ludEVEEZAcHdO1Phs5","CloudMessagingSystem");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.cloudMessagingSystem=void 0;var r=a(e("../../ffframework/google/GoogleFirebaseCloudMessagingWrapper")),s=e("../api/gamecenter/GameCenterApi"),l=e("../../framework/gg"),c=function(){function e(){}return e.prototype.enable=function(){return o(this,void 0,Promise,function(){var e,t;return i(this,function(n){switch(n.label){case 0:return[4,r.default.getToken()];case 1:return e=n.sent(),l.gg.logger.log("token",JSON.stringify(e)),1!=(null==e?void 0:e.code)?[3,3]:[4,s.gameCenterApi.postSubFCMTopicAsyncWithToken({ftk:e.msg,ftype:"ftk"})];case 2:return t=n.sent(),l.gg.logger.log("postSubFCMTopicAsyncWithToken response:",JSON.stringify(t)),[3,4];case 3:l.gg.logger.log("get token failed!!"),n.label=4;case 4:return[2]}})})},e.action=function(e,t){return o(this,void 0,Promise,function(){var n;return i(this,function(o){switch(o.label){case 0:return console.log("action:",e,"message_id:",t),[4,s.gameCenterApi.postFCMActionAsync({action:e,message_id:t})];case 1:return n=o.sent(),console.log("postFCMActionAsync response:",JSON.stringify(n)),[2]}})})},e}();n.cloudMessagingSystem=new c,cc._RF.pop()},{"../../ffframework/google/GoogleFirebaseCloudMessagingWrapper":"GoogleFirebaseCloudMessagingWrapper","../../framework/gg":"gg","../api/gamecenter/GameCenterApi":"GameCenterApi"}],CoinComponent:[function(e,t,n){"use strict";cc._RF.push(t,"d63f3lwM1hD/YU5pZ4ML8H+","CoinComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../../main/scripts/framework/gg"),s=e("../../../main/scripts/systems/user/UserWalletEvent"),l=e("../../../main/scripts/systems/user/UserWalletSystem"),c=e("../../../main/scripts/utils/CurrencyUtil"),u=e("../configs/CommonPanelConfig"),p=e("../systems/api/gameapi/PayApiModels"),h=e("../systems/remoteconfig/RemoteConfigModel"),d=e("../systems/remoteconfig/RemoteConfigSystem"),f=cc._decorator,g=f.ccclass,m=f.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.coinBalanceLabel=null,t.btn=null,t.addIconNode=null,t}return i(t,e),t.prototype.onEnable=function(){var e=d.remoteConfigSystem.getConfig(h.RemoteCoinfigType.PayConfig);this.btn.interactable=null==e||null==e.enable||e.enable,this.addIconNode.active=this.btn.interactable,this._updateBalance(),r.gg.eventManager.on(s.UserWalletEvent.OnBalanceChanged,this._onBalanceChanged,this)},t.prototype.onDisable=function(){r.gg.eventManager.offTarget(this)},t.prototype._onBalanceChanged=function(){this._updateBalance()},t.prototype._updateBalance=function(){this.coinBalanceLabel.string=c.CurrencyUtil.toHumanReadable(l.userWalletSystem.coinBalance)},t.prototype.onCoinBalanceBtnClick=function(){r.gg.panelRouter.isShowed(u.CommonPanelConfig.storePanel)||r.gg.panelRouter.show({panel:u.CommonPanelConfig.storePanel,data:{type:p.GoodsTypeEnum.Coin}})},a([m({type:cc.Label,tooltip:"\u91d1\u5e01"})],t.prototype,"coinBalanceLabel",void 0),a([m({type:cc.Button,tooltip:"\u6309\u94ae"})],t.prototype,"btn",void 0),a([m({type:cc.Node,tooltip:"\u6dfb\u52a0\u56fe\u6807"})],t.prototype,"addIconNode",void 0),a([g],t)}(cc.Component);n.default=y,cc._RF.pop()},{"../../../main/scripts/framework/gg":"gg","../../../main/scripts/systems/user/UserWalletEvent":"UserWalletEvent","../../../main/scripts/systems/user/UserWalletSystem":"UserWalletSystem","../../../main/scripts/utils/CurrencyUtil":"CurrencyUtil","../configs/CommonPanelConfig":"CommonPanelConfig","../systems/api/gameapi/PayApiModels":"PayApiModels","../systems/remoteconfig/RemoteConfigModel":"RemoteConfigModel","../systems/remoteconfig/RemoteConfigSystem":"RemoteConfigSystem"}],CoinDetailsComponent:[function(e,t,n){"use strict";cc._RF.push(t,"474a0cSHrZAYJK7xthHcLnS","CoinDetailsComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../../../../../main/scripts/configs/CommonAudioConfig"),s=e("../../../../../../main/scripts/framework/gg"),l=e("../../../../../../main/scripts/framework/i18n/I18n"),c=e("../../../../../../main/scripts/systems/user/UserWalletSystem"),u=cc._decorator,p=u.ccclass,h=u.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.depositLab=null,t.winningLab=null,t.bonusLab=null,t.isShow=!1,t}return i(t,e),t.prototype.onShowUI=function(){this.node.opacity=255,this.depositLab.string=l.i18n.getText("lobby.userInfo.deposit",c.userWalletSystem.wallet.deposit),this.winningLab.string=l.i18n.getText("lobby.userInfo.win",c.userWalletSystem.wallet.winning),this.bonusLab.string=l.i18n.getText("lobby.userInfo.bonus",c.userWalletSystem.wallet.bonus),this.isShow=!0},t.prototype.onClickHide=function(){s.gg.audio.playOneShot(r.CommonAudioConfig.btnClose),this.onHide()},t.prototype.onHide=function(){this.node.opacity=0,this.isShow=!1},a([h({type:cc.Label,tooltip:"\u5145\u503c\u91d1\u5e01"})],t.prototype,"depositLab",void 0),a([h({type:cc.Label,tooltip:"\u8d62\u7684\u91d1\u5e01"})],t.prototype,"winningLab",void 0),a([h({type:cc.Label,tooltip:"\u7cfb\u7edf\u5956\u52b1\u91d1\u5e01"})],t.prototype,"bonusLab",void 0),a([p],t)}(cc.Component);n.default=d,cc._RF.pop()},{"../../../../../../main/scripts/configs/CommonAudioConfig":"CommonAudioConfig","../../../../../../main/scripts/framework/gg":"gg","../../../../../../main/scripts/framework/i18n/I18n":"I18n","../../../../../../main/scripts/systems/user/UserWalletSystem":"UserWalletSystem"}],CoinRankingComponent:[function(e,t,n){"use strict";cc._RF.push(t,"f20781Ti6tO4ZHLuGhsl7zY","CoinRankingComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../../../../../main/scripts/configs/CommonPanelConfig"),l=e("../../../../../../main/scripts/framework/gg"),c=e("../../../../../../main/scripts/framework/i18n/I18n"),u=e("../../../../../../main/scripts/systems/api/gameapi/GameApi"),p=e("../../../../../../main/scripts/systems/api/gameapi/GameApiModels"),h=e("../../../../../../main/scripts/systems/api/gamecenter/GameCenterApiModels"),d=r(e("../components/MyRankComponent")),f=r(e("../components/RankingTopThreeLayComponent")),g=e("../RankingStorageConfig"),m=r(e("./CoinRankingItemComponent")),y=cc._decorator,_=y.ccclass,v=y.property,b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.myRank=null,t.rankingTopThreeLayNode=null,t.myCoinRanking=null,t.coinRankingItemScrollView=null,t.coinRankingItemParentNode=null,t.coinRankingItemNode=null,t.coinRankingItemNodeHeight=78,t.spaceingY=0,t.paddingTop=0,t.paddingBottom=0,t.visableAreaMarginTop=78,t.visableAreaMarginBottom=78,t.itemList=[],t._virtualNodes=[],t.lastTimer=0,t._itemNodeAll=[],t}return i(t,e),t.prototype.onLoad=function(){this.rankingTopThreeLayNode.getComponent(f.default).initTypeIcon(p.RankingType.TotalCoin)},t.prototype.onEnable=function(){this.reset(),this.getCoinRankingData(),this.coinRankingItemParentNode.on(cc.Node.EventType.POSITION_CHANGED,this._onPositionChanged,this),this.coinRankingItemScrollView.node.on("scroll-ended",this._updateList,this)},t.prototype.onDisable=function(){this.reset(),this.coinRankingItemParentNode.off(cc.Node.EventType.POSITION_CHANGED,this._onPositionChanged,this),this.coinRankingItemScrollView.node.off("scroll-ended",this._updateList,this)},t.prototype.onClickOpenHelp=function(){l.gg.panelRouter.show({panel:s.CommonPanelConfig.rankingHelpPanel,data:{rankingType:p.RankingType.TotalCoin}})},t.prototype.reset=function(){this.myCoinRanking.node.active=!1,this.rankingTopThreeLayNode.getComponent(f.default).initTopThreeUI(),this.itemList=[],this._virtualNodes=[],this.coinRankingItemScrollView.stopAutoScroll(),this.coinRankingItemParentNode.position=cc.v3(),this._itemNodeAll=[];for(var e=this.coinRankingItemParentNode.children.length-1;e>=0;--e)this._itemNodeAll.push(this.coinRankingItemParentNode.children[e]),this.coinRankingItemParentNode.children[e].active=!1},t.prototype.getCoinRankingData=function(){var e=this;u.gameApi.getRankingList({type:p.RankingType.TotalCoin,page:"1",size:"50"}).then(function(t){var n,o,i=!1;if((null===(o=null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.rankings)||void 0===o?void 0:o.length)>0)for(var a=0,r=t.data.rankings;a<r.length;a++){var u=r[a];if(u.type===p.RankingType.TotalCoin){for(var g=0;g<u.list.length;g++)i=!0,g<3?e.rankingTopThreeLayNode.getComponent(f.default).topThree.push(u.list[g]):e.itemList.push(u.list[g]);e.myCoinRanking.rankingUserInfo=u.my;break}}if(i)e.myCoinRanking.rankingUserInfo?(e.myCoinRanking.updateUI(),e.myRank.getComponent(d.default).updataUI(e.myCoinRanking.rankingUserInfo.ranking),e.myCoinRanking.node.active=!0):e.myCoinRanking.node.active=!1,e.init(),e.rankingTopThreeLayNode.getComponent(f.default).updateTopThreeUI(),e.checkFistPanel();else{var m="toast.rankingListFail";t.status===h.FlatHttpResponseCode.Success&&(m="toast.rankingNotData"),l.gg.panelRouter.show({panel:s.CommonPanelConfig.toastPanel,data:{text:c.i18n.getText(m)}})}}).catch(function(e){l.gg.logger.error(e),l.gg.panelRouter.hide({panel:s.CommonPanelConfig.loadingPanel,onHided:function(){l.gg.panelRouter.show({panel:s.CommonPanelConfig.toastPanel,data:{text:c.i18n.getText("toast.rankingListFail")}})}})})},t.prototype.checkFistPanel=function(){var e=!0,t=l.gg.localStorage.getItem(g.RankingStorageConfig.RankingTatalCoinTimeStr);if(""!==t){var n=parseInt(t),o=Math.floor(n/864e5);Math.floor(Date.now()/864e5)===o&&(e=!1)}var i=this.rankingTopThreeLayNode.getComponent(f.default).topThree;e&&i.length>0&&l.gg.panelRouter.show({panel:s.CommonPanelConfig.rankingFristExhibitPanel,data:{rankingUserInfo:i[0]}}),l.gg.localStorage.setItem(g.RankingStorageConfig.RankingTatalCoinTimeStr,Date.now().toString())},t.prototype.getItemNode=function(){var e=this._itemNodeAll.pop();return e||(e=cc.instantiate(this.coinRankingItemNode),this.coinRankingItemParentNode.addChild(e)),e},t.prototype.init=function(){this.itemList&&this.itemList.length>0&&(this._virtualNodes=this.itemList.map(function(){return null}),this._updateListWidth(),this.coinRankingItemParentNode.position=cc.v3(),this._updateList())},t.prototype._updateListWidth=function(){var e=this.itemList.length;this.coinRankingItemParentNode.height=this.paddingTop+this.paddingBottom+this.coinRankingItemNodeHeight*e+this.spaceingY*e,this.coinRankingItemParentNode.height<this.coinRankingItemScrollView.node.height&&(this.coinRankingItemParentNode.height=this.coinRankingItemScrollView.node.height)},t.prototype._onPositionChanged=function(){var e=Date.now();(e-this.lastTimer)/1e3>=.1&&(this.lastTimer=e,this._updateList())},t.prototype._updateList=function(){for(var e=0;e<this._virtualNodes.length;++e){var t=this._virtualNodes[e];if(this._isVisable(e)){null==t&&(t=this.getItemNode()),this._virtualNodes[e]=t,t.position=this._convertIndexToPosition(e);var n=t.getComponent(m.default);n.rankingUserInfo=this.itemList[e],n.updateUI()}else t&&(t.active=!1,this._itemNodeAll.push(t)),this._virtualNodes[e]=null}},t.prototype._isVisable=function(e){var t=this._convertIndexToPosition(e),n=-this.coinRankingItemParentNode.position.y+this.visableAreaMarginTop,o=n-this.visableAreaMarginTop-this.coinRankingItemScrollView.node.height-this.visableAreaMarginBottom;return t.y+.5*this.coinRankingItemNodeHeight<=n&&t.y-.5*this.coinRankingItemNodeHeight>=o},t.prototype._convertIndexToPosition=function(e){return cc.v3(0,-this.paddingTop-this.coinRankingItemNodeHeight*(e+.5)-e*this.spaceingY)},a([v({type:cc.Node,tooltip:"\u81ea\u5df1\u540d\u6b21\u7ec4\u4ef6"})],t.prototype,"myRank",void 0),a([v({type:cc.Node,tooltip:"\u524d\u4e09\u540d\u73a9\u5bb6\u7ec4\u4ef6"})],t.prototype,"rankingTopThreeLayNode",void 0),a([v({type:m.default,tooltip:"\u73a9\u5bb6\u81ea\u5df1\u7684\u6392\u540d"})],t.prototype,"myCoinRanking",void 0),a([v({type:cc.ScrollView,tooltip:"\u91d1\u5e01ScrollView"})],t.prototype,"coinRankingItemScrollView",void 0),a([v({type:cc.Node,tooltip:"\u91d1\u5e01\u7236\u8282\u70b9"})],t.prototype,"coinRankingItemParentNode",void 0),a([v({type:cc.Prefab,tooltip:"\u91d1\u5e01\u9884\u5236\u8282\u70b9"})],t.prototype,"coinRankingItemNode",void 0),a([v({tooltip:"\u9884\u5236\u4f53item\u8282\u70b9\u7684\u9ad8\u5ea6"})],t.prototype,"coinRankingItemNodeHeight",void 0),a([v({tooltip:"Item \u95f4\u9694\uff08px\uff09"})],t.prototype,"spaceingY",void 0),a([v({tooltip:"Item \u8ddd\u79bb\u4e0a\u8fb9\uff08px\uff09"})],t.prototype,"paddingTop",void 0),a([v({tooltip:"Item \u8ddd\u79bb\u4e0b\u8fb9\uff08px\uff09"})],t.prototype,"paddingBottom",void 0),a([v({tooltip:"\u53ef\u89c6\u533a\u57df margin, \u8d1f\u6570\u4e3a\u5f80\u5916\u6269\u5c55"})],t.prototype,"visableAreaMarginTop",void 0),a([v({tooltip:"\u53ef\u89c6\u533a\u57df margin, \u8d1f\u6570\u4e3a\u5f80\u5916\u6269\u5c55"})],t.prototype,"visableAreaMarginBottom",void 0),a([_],t)}(cc.Component);n.default=b,cc._RF.pop()},{"../../../../../../main/scripts/configs/CommonPanelConfig":"CommonPanelConfig","../../../../../../main/scripts/framework/gg":"gg","../../../../../../main/scripts/framework/i18n/I18n":"I18n","../../../../../../main/scripts/systems/api/gameapi/GameApi":"GameApi","../../../../../../main/scripts/systems/api/gameapi/GameApiModels":"GameApiModels","../../../../../../main/scripts/systems/api/gamecenter/GameCenterApiModels":"GameCenterApiModels","../RankingStorageConfig":"RankingStorageConfig","../components/MyRankComponent":"MyRankComponent","../components/RankingTopThreeLayComponent":"RankingTopThreeLayComponent","./CoinRankingItemComponent":"CoinRankingItemComponent"}],CoinRankingItemComponent:[function(e,t,n){"use strict";cc._RF.push(t,"226a0IcwaRBjpxizB+RcnNa","CoinRankingItemComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=l(e("../../../../../../main/scripts/components/UserIconStyle1Component")),u=e("../../../../../../main/scripts/configs/CommonPanelConfig"),p=e("../../../../../../main/scripts/framework/gg"),h=l(e("../../../../../../main/scripts/framework/utils/StringUtils")),d=e("../../../../../../main/scripts/systems/user/UserUISystem"),f=cc._decorator,g=f.ccclass,m=f.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.playerRankingLab=null,t.playerNameLab=null,t.playerCoinLab=null,t.playerIcon=null,t.vipSprite=null,t.rankingUserInfo=null,t.userIconId=null,t.userFrameId=null,t.vipInfo=null,t}return i(t,e),t.prototype.updateUI=function(){var e,t,n,o,i,a,r,s,l,u;this.updataUserVip(),this.node.active=!0,this.playerNameLab.string=h.default.clampStr(this.rankingUserInfo.nick,15),this.playerCoinLab.string=this.rankingUserInfo.ranking_value+"",this.playerRankingLab&&(this.playerRankingLab.string=this.rankingUserInfo.ranking+""),(null===(e=this.rankingUserInfo)||void 0===e?void 0:e.facelook)!=this.userIconId&&this.playerIcon.getComponent(c.default).updateIcon(null!==(n=null===(t=this.rankingUserInfo)||void 0===t?void 0:t.facelook)&&void 0!==n?n:""),(null===(o=this.rankingUserInfo)||void 0===o?void 0:o.frame)!=this.userFrameId&&this.playerIcon.getComponent(c.default).updateIconFrame(null!==(a=null===(i=this.rankingUserInfo)||void 0===i?void 0:i.frame)&&void 0!==a?a:""),this.userIconId=null!==(s=null===(r=this.rankingUserInfo)||void 0===r?void 0:r.facelook)&&void 0!==s?s:"",this.userFrameId=null!==(u=null===(l=this.rankingUserInfo)||void 0===l?void 0:l.frame)&&void 0!==u?u:""},t.prototype.updataUserVip=function(){var e,t,n,o;return r(this,void 0,void 0,function(){var i;return s(this,function(a){switch(a.label){case 0:return(null===(e=this.rankingUserInfo)||void 0===e?void 0:e.vip_info)?(this.vipSprite.node.active=!0,this.vipInfo==(null===(t=this.rankingUserInfo)||void 0===t?void 0:t.vip_info)?[3,2]:(i=this.vipSprite,[4,d.userUISystem.loadUserVipIcon(this.rankingUserInfo.vip_info.vip_level,this.rankingUserInfo.vip_info.vip_status)])):[3,3];case 1:i.spriteFrame=a.sent(),a.label=2;case 2:return[3,4];case 3:this.vipSprite.node.active=!1,a.label=4;case 4:return this.vipInfo=null!==(o=null===(n=this.rankingUserInfo)||void 0===n?void 0:n.vip_info)&&void 0!==o?o:null,[2]}})})},t.prototype.onClickShowUserInfo=function(){p.gg.panelRouter.show({panel:u.CommonPanelConfig.userInfoPanel,data:{qurey_uid:this.rankingUserInfo.uid,userName:this.rankingUserInfo.nick,userIcon:this.rankingUserInfo.facelook,userIconFrame:this.rankingUserInfo.frame}})},a([m({type:cc.Label,tooltip:"\u73a9\u5bb6\u6392\u540d"})],t.prototype,"playerRankingLab",void 0),a([m({type:cc.Label,tooltip:"\u73a9\u5bb6\u540d\u5b57"})],t.prototype,"playerNameLab",void 0),a([m({type:cc.Label,tooltip:"\u73a9\u5bb6\u91d1\u5e01"})],t.prototype,"playerCoinLab",void 0),a([m({type:cc.Node,tooltip:"\u73a9\u5bb6\u5934\u50cf\u4fe1\u606f"})],t.prototype,"playerIcon",void 0),a([m({type:cc.Sprite,tooltip:"\u7528\u6237vip\u56fe\u6807"})],t.prototype,"vipSprite",void 0),a([g],t)}(cc.Component);n.default=y,cc._RF.pop()},{"../../../../../../main/scripts/components/UserIconStyle1Component":"UserIconStyle1Component","../../../../../../main/scripts/configs/CommonPanelConfig":"CommonPanelConfig","../../../../../../main/scripts/framework/gg":"gg","../../../../../../main/scripts/framework/utils/StringUtils":"StringUtils","../../../../../../main/scripts/systems/user/UserUISystem":"UserUISystem"}],ColorBox34700:[function(e,t,n){"use strict";cc._RF.push(t,"c80e1A5RWNIRLZKSFjzvVsx","ColorBox34700");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.ColorBox34700=void 0;var r=e("./GameData34700"),s=e("../../halls/halllib/laya/Laya"),l=s.Laya.regClass,c=(s.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.stage=1,t.isStartrun=!1,t.nocan=1e3,t.timeSpan=0,t.eulerAngles=new s.Laya.Vector3(0,0,0),t.position=new s.Laya.Vector3(0,0,0),t.resultvec=new s.Laya.Vector3(0,0,0),t.speed=0,t.espeed=0,t.resultIndex=r.GameData34700.AREA_YELLOW,t.defaultY=-1,t.downZ=5e3,t.ColorValue=[new s.Laya.Vector3(0,t.nocan,0),new s.Laya.Vector3(270,t.nocan,t.nocan),new s.Laya.Vector3(180,t.nocan,90),new s.Laya.Vector3(90,t.nocan,t.nocan),new s.Laya.Vector3(180,t.nocan,0),new s.Laya.Vector3(0,t.nocan,90)],t}return i(t,e),t.prototype.onAwake=function(){this.transf=this.owner,this.resetVect=new s.Laya.Vector3(this.transf.transform.position.x,this.transf.transform.position.y,this.transf.transform.position.z),this.resetAng=new s.Laya.Vector3(this.transf.transform.rotationEuler.x,this.transf.transform.rotationEuler.y,this.transf.transform.rotationEuler.z),this.children=[],this.rigibodys=this.owner.getComponent(s.Laya.Rigidbody3D);for(var e=0;e<8;e++)this.children.push(this.owner.getChildByName("p"+(e+1)))},t.prototype.onStart=function(){},t.prototype.OnPlay=function(e){this.resultIndex=e,this.eulerAngles=this.transf.transform.rotationEuler,this.resultvec=this.ColorValue[e],this.transf.transform.position=this.resetVect,this.timeSpan=0,this.isStartrun=!0,this.position=this.transf.transform.position,this.speed=1.5,this.stage=1,this.rigibodys.isKinematic=!1,this.rigibodys.gravity=new s.Laya.Vector3(0,-10,0);var t=5*Math.random()+2;this.rigibodys.angularVelocity=new s.Laya.Vector3(t,0,0),this.getMinPosY()},t.prototype.ResetPos=function(){this.rigibodys.isKinematic=!1,this.rigibodys.gravity=new s.Laya.Vector3(0,0,0),this.rigibodys.clearForces(),this.transf.transform.position=this.resetVect,this.transf.transform.rotationEuler=new s.Laya.Vector3(this.resetAng.x+90*Math.ceil(5*Math.random()-1),this.resetAng.y,this.resetAng.z),this.eulerAngles=this.transf.transform.rotationEuler,this.rigibodys.isKinematic=!0,this.isStartrun=!1},t.prototype.getMinPosY=function(){this.min_py=this.transf.transform.position.y;for(var e=0;e<this.children.length;e++)this.children[e].transform.position.y<this.min_py&&(this.min_py=this.children[e].transform.position.y)},t.prototype.roudeuler=function(e,t){return t!=this.nocan&&e>=t?this.roudeuler(e,t+360):t},t.prototype.onUpdate=function(){if(this.isStartrun)if(1==this.stage)this.getMinPosY(),this.min_py<=this.defaultY&&(this.timeSpan=0,this.stage=2,this.eulerAngles=this.transf.transform.rotationEuler,this.eulerAngles.x<0?this.eulerAngles=new s.Laya.Vector3(this.eulerAngles.x+360,0,0):this.eulerAngles=new s.Laya.Vector3(this.eulerAngles.x,0,0),this.resultIndex!=r.GameData34700.AREA_PINK&&this.resultIndex!=r.GameData34700.AREA_GREEN||(this.eulerAngles=new s.Laya.Vector3(this.eulerAngles.x,this.eulerAngles.y,90)),this.transf.transform.rotationEuler=this.eulerAngles,this.runPos=this.transf.transform.position,this.resultvec=new s.Laya.Vector3(this.roudeuler(this.eulerAngles.x,this.resultvec.x),this.eulerAngles.y,this.eulerAngles.z),this.resultvec.x-this.eulerAngles.x>320&&(this.eulerAngles=new s.Laya.Vector3(this.resultvec.x-320,this.eulerAngles.y,this.eulerAngles.z),this.transf.transform.rotationEuler=this.eulerAngles),this.espeed=(this.resultvec.x-this.eulerAngles.x)/360,this.espeed<.17&&(this.timeSpan=.8),s.Laya.SoundManager.playSound(r.GameData34700.EFFECT_CUBE_CRASH,1));else if(2==this.stage){if(this.timeSpan=this.timeSpan+s.Laya.timer.delta/1e3*this.speed,this.speed>.3?this.speed=this.speed-s.Laya.timer.delta/1e3*this.espeed*this.espeed:this.speed=.3,this.timeSpan>=1){var e=this.GetrealVec(this.resultvec,this.eulerAngles),t=new Float32Array([0,0,0]);s.Laya.MathUtil.lerpVector3(new Float32Array([this.eulerAngles.x,this.eulerAngles.y,this.eulerAngles.z]),new Float32Array([e.x,e.y,e.z]),1,t),this.transf.transform.rotationEuler=new s.Laya.Vector3(t[0],t[1],t[2]),this.getMinPosY();var n=this.transf.transform.position.y-this.min_py+this.defaultY;this.transf.transform.position=new s.Laya.Vector3(this.transf.transform.position.x,n,this.transf.transform.position.z);var o=(e.x-this.eulerAngles.x)/this.downZ;return this.transf.transform.position=new s.Laya.Vector3(this.transf.transform.position.x,this.transf.transform.position.y,this.runPos.z+o),this.rigibodys.isKinematic=!0,void(this.isStartrun=!1)}e=this.GetrealVec(this.resultvec,this.eulerAngles),t=new Float32Array([0,0,0]),s.Laya.MathUtil.lerpVector3(new Float32Array([this.eulerAngles.x,this.eulerAngles.y,this.eulerAngles.z]),new Float32Array([e.x,e.y,e.z]),this.timeSpan,t),this.transf.transform.rotationEuler=new s.Laya.Vector3(t[0],t[1],t[2]),o=(e.x-this.eulerAngles.x)/this.downZ*this.timeSpan,this.transf.transform.position=new s.Laya.Vector3(this.transf.transform.position.x,this.transf.transform.position.y,this.runPos.z+o),this.getMinPosY(),n=this.transf.transform.position.y-this.min_py+this.defaultY,this.transf.transform.position=new s.Laya.Vector3(this.transf.transform.position.x,n,this.transf.transform.position.z)}},t.prototype.GetrealVec=function(e,t){var n=e.x==this.nocan?t.x:e.x,o=e.y==this.nocan?t.y:e.y,i=e.z==this.nocan?t.z:e.z;return new s.Laya.Vector3(n,o,i)},a([l()],t)}(s.Laya.Script));n.ColorBox34700=c,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya","./GameData34700":"GameData34700"}],ColorUtilsExt:[function(e,t){"use strict";cc._RF.push(t,"c34b4KNBmVPIq1TFXesfanT","ColorUtilsExt"),cc._RF.pop()},{}],ColorUtils:[function(e,t,n){"use strict";cc._RF.push(t,"7c896ctjclJN5V4oSyfKQXW","ColorUtils"),Object.defineProperty(n,"__esModule",{value:!0}),n.ColorUtils=void 0;var o=e("./Utils"),i={purple:"#800080",orange:"#ffa500",white:"#FFFFFF",red:"#FF0000",green:"#00FF00",blue:"#0000FF",black:"#000000",yellow:"#FFFF00",gray:"#808080"},a=function(){function e(e){if(this.arrColor=[],null==e||"none"==e)return this.strColor="#00000000",this.numColor=0,void(this.arrColor=[0,0,0,0]);var t;"string"==typeof e?(t=o.Utils.fromStringColor(e),this.strColor=e):(t=e,this.strColor=o.Utils.toHexColor(t)),this.strColor.indexOf("rgba")>=0||9===this.strColor.length?(this.arrColor=[((4278190080&t)>>>24)/255,((16711680&t)>>16)/255,((65280&t)>>8)/255,(255&t)/255],this.numColor=(4278190080&t)>>>24|(16711680&t)>>8|(65280&t)<<8|(255&t)<<24):(this.arrColor=[((16711680&t)>>16)/255,((65280&t)>>8)/255,(255&t)/255,1],this.numColor=4278190080|(16711680&t)>>16|65280&t|(255&t)<<16)}return e._initDefault=function(){for(var t in e._DEFAULT={},i)e._SAVE[t]=e._DEFAULT[t]=new e(i[t]);return e._DEFAULT},e._initSaveMap=function(){e._SAVE_SIZE=0,e._SAVE=Object.assign({},e._DEFAULT)},e.create=function(t){var n=t+"",o=e._SAVE[n];return null!=o?o:(e._SAVE_SIZE>500&&e._initSaveMap(),e._SAVE_SIZE++,e._SAVE[n]=new e(t))},e._SAVE={},e._SAVE_SIZE=0,e}();n.ColorUtils=a,cc._RF.pop()},{"./Utils":"Utils"}],Color:[function(e,t,n){"use strict";cc._RF.push(t,"75834G6TqdIkqOdl+8ffM6x","Color"),Object.defineProperty(n,"__esModule",{value:!0}),n.Color=void 0;var o=function(){function e(e,t,n,o){void 0===e&&(e=1),void 0===t&&(t=1),void 0===n&&(n=1),void 0===o&&(o=1),this.r=e,this.g=t,this.b=n,this.a=o}return e.gammaToLinearSpace=function(e){return e<=.04045?e/12.92:e<1?Math.pow((e+.055)/1.055,2.4):Math.pow(e,2.4)},e.linearToGammaSpace=function(e){return e<=0?0:e<=.0031308?12.92*e:e<=1?1.055*Math.pow(e,.41666)-.055:Math.pow(e,.41666)},e.prototype.equal=function(e){if(!e)return!1;var t=function(e,t){return-1e-5<e-t&&e-t<1e-5};return t(e.r,this.r)&&t(e.g,this.g)&&t(e.b,this.b)&&t(e.a,this.a)},e.prototype.toLinear=function(t){t.r=e.gammaToLinearSpace(this.r),t.g=e.gammaToLinearSpace(this.g),t.b=e.gammaToLinearSpace(this.b),t.a=this.a},e.prototype.toGamma=function(t){t.r=e.linearToGammaSpace(this.r),t.g=e.linearToGammaSpace(this.g),t.b=e.linearToGammaSpace(this.b),t.a=this.a},e.prototype.cloneTo=function(e){var t=e;t.r=this.r,t.g=this.g,t.b=this.b,t.a=this.a},e.prototype.scale=function(e){return this.r=this.r*e,this.g=this.g*e,this.b=this.b*e,this},e.prototype.setValue=function(e,t,n,o){this.r=e,this.g=t,this.b=n,this.a=o},e.prototype.fromArray=function(e,t){void 0===t&&(t=0),this.r=e[t+0],this.g=e[t+1],this.b=e[t+2],this.a=e[t+3]},e.prototype.toArray=function(){return[this.r,this.g,this.b,this.a]},e.prototype.clone=function(){var t=new e;return this.cloneTo(t),t},e.RED=new e(1,0,0,1),e.GREEN=new e(0,1,0,1),e.BLUE=new e(0,0,1,1),e.CYAN=new e(0,1,1,1),e.YELLOW=new e(1,.92,.016,1),e.MAGENTA=new e(1,0,1,1),e.GRAY=new e(.5,.5,.5,1),e.WHITE=new e(1,1,1,1),e.BLACK=new e(0,0,0,1),e.CLEAR=new e(0,0,0,0),e}();n.Color=o,cc._RF.pop()},{}],CommonAudioConfig:[function(e,t,n){"use strict";cc._RF.push(t,"39117YlW+RIDbVDaw+wuvKy","CommonAudioConfig"),Object.defineProperty(n,"__esModule",{value:!0}),n.CommonAudioConfig=void 0;var o=e("./BundleConfig");n.CommonAudioConfig={btnClick:{path:o.BundleConfig.Resources+"/audios/click"},btnClose:{path:o.BundleConfig.Resources+"/audios/close"},bgm:{path:o.BundleConfig.Resources+"/audios/common_bgm"},reward:{path:o.BundleConfig.Resources+"/audios/reward"},friendDelete:{path:o.BundleConfig.Resources+"/audios/friend_delete"},friendApplication:{path:o.BundleConfig.Resources+"/audios/friend_application"},flyGold:{path:o.BundleConfig.Resources+"/audios/fly_gold"},popping:{path:o.BundleConfig.Resources+"/audios/popping"},rankShow:{path:o.BundleConfig.Resources+"/audios/rank_show"},rankOnline:{path:o.BundleConfig.Resources+"/audios/rank_online"},fireworks:{path:o.BundleConfig.Resources+"/audios/fireworks"},openBigGift:{path:o.BundleConfig.Resources+"/audios/bigGift/open_gift"}},cc._RF.pop()},{"./BundleConfig":"BundleConfig"}],CommonGiftConfig:[function(e,t,n){"use strict";cc._RF.push(t,"e5876H3B8NPQL+qlRX2e0pt","CommonGiftConfig"),Object.defineProperty(n,"__esModule",{value:!0}),n.GiftEffectType=void 0,function(e){e.Image="image",e.Spine="spine",e.Dragon="dragon"}(n.GiftEffectType||(n.GiftEffectType={})),cc._RF.pop()},{}],CommonItemConfig:[function(e,t,n){"use strict";cc._RF.push(t,"6498d4gdv5AHrBq1Mum2Ulh","CommonItemConfig"),Object.defineProperty(n,"__esModule",{value:!0}),n.IconType=n.CommonItemConfig=void 0,n.CommonItemConfig={designType:{avatarFrame:"avatar_frame",chatBubble:"chat_bubble",balootCard:"baloot_card",balootBg:"baloot_bg",ludoChessboard:"ludo_chessboard",ludoDice:"ludo_dice"},itemTypeStr:{avatar_frame:"frame",baloot_card:"balootCard",baloot_bg:"balootRoomBg",ludo_chessboard:"ludoChessboard",ludo_dice:"ludoDice",game_gift:"gameGift",chat_bubble:"chatBubble",big_gift:"bigGift",qualifying_props:"qualifyingProps",vip_card:"vipCard"}},function(e){e.Image="image",e.Spine="spine",e.Dragon="dragon"}(n.IconType||(n.IconType={})),cc._RF.pop()},{}],CommonPanelConfig:[function(e,t,n){"use strict";cc._RF.push(t,"764a5yFPgZF7ITpigLChkPB","CommonPanelConfig"),Object.defineProperty(n,"__esModule",{value:!0}),n.CommonPanelConfig=void 0;var o=e("./BundleConfig"),i=e("./PanelLayerEnum");n.CommonPanelConfig={userInfoPanel:{prefabPath:o.BundleConfig.Resources+"/prefabs/panels/userinfo/UserInfoPanel",layerZIndex:i.PanelLayerEnum.DialogLayer1},userInfoRevisePanel:{prefabPath:o.BundleConfig.Resources+"/prefabs/panels/userinfo/UserInfoRevisePanel",layerZIndex:i.PanelLayerEnum.DialogLayer2},storePanel:{prefabPath:o.BundleConfig.Resources+"/prefabs/panels/store/StorePanel",layerZIndex:i.PanelLayerEnum.DialogLayer2},firstRechargePanel:{prefabPath:o.BundleConfig.Resources+"/prefabs/panels/firstRecharge/FirstRechargePanel",layerZIndex:i.PanelLayerEnum.DialogLayer2},gameTablePasswordInputPanel:{prefabPath:o.BundleConfig.Resources+"/prefabs/panels/game/GameTablePasswordInputPanel",layerZIndex:i.PanelLayerEnum.DialogLayer2},gameKickPeopleConfirmPanel:{prefabPath:o.BundleConfig.Resources+"/prefabs/panels/game/GameKickPeopleConfirmPanel",layerZIndex:i.PanelLayerEnum.DialogLayer2},friendSystemPanel:{prefabPath:o.BundleConfig.Resources+"/prefabs/panels/friend/FriendSystemPanel",layerZIndex:i.PanelLayerEnum.DialogLayer2},gameGiftPanel:{prefabPath:o.BundleConfig.Resources+"/prefabs/panels/gameGift/GameGiftPanel",layerZIndex:i.PanelLayerEnum.DialogLayer2},vipDetailPanel:{prefabPath:o.BundleConfig.Resources+"/prefabs/panels/vip/VIPDetailPanel",layerZIndex:i.PanelLayerEnum.DialogLayer2},vipStatusChangePanel:{prefabPath:o.BundleConfig.Resources+"/prefabs/panels/vip/VIPStatusChangePanel",layerZIndex:i.PanelLayerEnum.DialogLayer2},gameSideBarPanel:{prefabPath:o.BundleConfig.Resources+"/prefabs/panels/game/GameSideBarPanel",layerZIndex:i.PanelLayerEnum.DialogLayer3},settingpanel:{prefabPath:o.BundleConfig.Resources+"/prefabs/panels/setting/SettingPanel",layerZIndex:i.PanelLayerEnum.DialogLayer3},webViewPanel:{prefabPath:o.BundleConfig.Resources+"/prefabs/panels/webView/WebViewPanel",layerZIndex:i.PanelLayerEnum.DialogLayer3},friendSystemSettingPanel:{prefabPath:o.BundleConfig.Resources+"/prefabs/panels/friend/FriendSystemSettingPanel",layerZIndex:i.PanelLayerEnum.DialogLayer3},imPanel:{prefabPath:o.BundleConfig.Resources+"/prefabs/panels/im/IMPanel",layerZIndex:i.PanelLayerEnum.DialogLayer3},buyItemChoosePanel:{prefabPath:o.BundleConfig.Resources+"/prefabs/panels/store/Item/buyItem/BuyItemChoosePanel",layerZIndex:i.PanelLayerEnum.DialogLayer3},receiveFeaturesPanel:{prefabPath:o.BundleConfig.Resources+"/prefabs/panels/receiveFeatures/ReceiveFeaturesPanel",layerZIndex:i.PanelLayerEnum.DialogLayer3+1},levelAwardPanel:{prefabPath:o.BundleConfig.Resources+"/prefabs/panels/levelAward/LevelAwardPanel",layerZIndex:i.PanelLayerEnum.DialogLayer1},loadingPanel:{prefabPath:o.BundleConfig.Resources+"/prefabs/panels/loading/LoadingPanel",layerZIndex:i.PanelLayerEnum.PopLayer},rankOnlinePanel:{prefabPath:o.BundleConfig.Resources+"/prefabs/panels/rankOnline/RankOnlinePanel",layerZIndex:i.PanelLayerEnum.PopLayer},bigGiftEffectPanel:{prefabPath:o.BundleConfig.Resources+"/prefabs/panels/bigGift/BigGiftEffectPanel",layerZIndex:i.PanelLayerEnum.PopLayer},accountFreezePanel:{prefabPath:o.BundleConfig.Resources+"/prefabs/panels/accountFreeze/AccountFreezePanel",layerZIndex:i.PanelLayerEnum.PopLayer},alertPanel:{prefabPath:o.BundleConfig.Resources+"/prefabs/panels/alert/AlertPanel",layerZIndex:i.PanelLayerEnum.PopLayer+1},alertPanel2:{prefabPath:o.BundleConfig.Resources+"/prefabs/panels/alert/AlertPanel2",layerZIndex:i.PanelLayerEnum.PopLayer+1},marqueePanel:{prefabPath:o.BundleConfig.Resources+"/prefabs/panels/marquee/MarqueePanel",layerZIndex:i.PanelLayerEnum.ToastLayer},friendApplicationFloatingPanel:{prefabPath:o.BundleConfig.Resources+"/prefabs/panels/friend/FriendApplicationFloatingPanel",layerZIndex:i.PanelLayerEnum.ToastLayer+1},toastPanel:{prefabPath:o.BundleConfig.Resources+"/prefabs/panels/toast/ToastPanel",layerZIndex:i.PanelLayerEnum.ToastLayer},GameGiftEffectShowPanel:{prefabPath:o.BundleConfig.Resources+"/prefabs/panels/gameGift/GiftEffectShowPanel",layerZIndex:i.PanelLayerEnum.ToastLayer},gameFastInteractPanel:{prefabPath:o.BundleConfig.Resources+"/prefabs/panels/gameFastInteract/GameFastInteractPanel",layerZIndex:i.PanelLayerEnum.ToastLayer},gameInvitePanel:{prefabPath:o.BundleConfig.Resources+"/prefabs/panels/gamaInvite/GameInvitePanel",layerZIndex:i.PanelLayerEnum.ToastLayer},friendInvitePanel:{prefabPath:o.BundleConfig.Resources+"/prefabs/panels/gamaInvite/FriendInvitePanel",layerZIndex:i.PanelLayerEnum.ToastLayer},friendInviteFloatingPanel:{prefabPath:o.BundleConfig.Resources+"/prefabs/panels/gamaInvite/FriendInviteFloatingPanel",layerZIndex:i.PanelLayerEnum.ToastLayer},qualifyingFriendInviteFloatingPanel:{prefabPath:o.BundleConfig.Resources+"/prefabs/panels/gamaInvite/QualifyingFriendInviteFloatingPanel",layerZIndex:i.PanelLayerEnum.ToastLayer},stopServicePanel:{prefabPath:o.BundleConfig.Resources+"/prefabs/panels/stopService/StopServicePanel",layerZIndex:i.PanelLayerEnum.ToastLayer},transferPanel:{prefabPath:o.BundleConfig.Resources+"/prefabs/panels/transfer/TransferPanel",layerZIndex:i.PanelLayerEnum.ToastLayer},transferRecordPanel:{prefabPath:o.BundleConfig.Resources+"/prefabs/panels/transfer/TransferRecordPanel",layerZIndex:i.PanelLayerEnum.ToastLayer},confirmtransferPanel:{prefabPath:o.BundleConfig.Resources+"/prefabs/panels/transfer/ConfirmtransferPanel",layerZIndex:i.PanelLayerEnum.ToastLayer},newVersionAndRankRewardPanel:{prefabPath:o.BundleConfig.Resources+"/prefabs/panels/newVersionAndRankReward/NewVersionAndRankRewardPanel",layerZIndex:i.PanelLayerEnum.DialogLayer3},rankingPanel:{prefabPath:o.BundleConfig.Resources+"/prefabs/panels/ranking/RankingPanel",layerZIndex:i.PanelLayerEnum.UILayer},rankingFristExhibitPanel:{prefabPath:o.BundleConfig.Resources+"/prefabs/panels/ranking/RankingFristExhibitPanel",layerZIndex:i.PanelLayerEnum.DialogLayer1},rankingHelpPanel:{prefabPath:o.BundleConfig.Resources+"/prefabs/panels/ranking/help/RankingHelpPanel",layerZIndex:i.PanelLayerEnum.DialogLayer1+1},feedbackPanel:{prefabPath:o.BundleConfig.Resources+"/prefabs/panels/feedback/FeedBackPanel",layerZIndex:i.PanelLayerEnum.DialogLayer1},mailPanel:{prefabPath:o.BundleConfig.Resources+"/prefabs/panels/mail/MailPanel",layerZIndex:i.PanelLayerEnum.DialogLayer1},mailDetailsPanel:{prefabPath:o.BundleConfig.Resources+"/prefabs/panels/mail/MailDetailsPanel",layerZIndex:i.PanelLayerEnum.DialogLayer2},dailyCheckInPanel:{prefabPath:o.BundleConfig.Resources+"/prefabs/panels/dailycheckin/DailyCheckInPanel",layerZIndex:i.PanelLayerEnum.DialogLayer1},packagePanel:{prefabPath:o.BundleConfig.Resources+"/prefabs/panels/package/PackagePanel",layerZIndex:i.PanelLayerEnum.DialogLayer1},taskPanel:{prefabPath:o.BundleConfig.Resources+"/prefabs/panels/task/TaskPanel",layerZIndex:i.PanelLayerEnum.DialogLayer1},noviceSevenDaysPanel:{prefabPath:o.BundleConfig.Resources+"/prefabs/panels/task/noviceTask/NoviceSevenDaysPanel",layerZIndex:i.PanelLayerEnum.DialogLayer1},vipRechargePanel:{prefabPath:o.BundleConfig.Resources+"/prefabs/panels/vipRecharge/VipRechargePanel",layerZIndex:i.PanelLayerEnum.DialogLayer1},vipRechargeRulePanel:{prefabPath:o.BundleConfig.Resources+"/prefabs/panels/vipRecharge/VipRechargeRulePanel",layerZIndex:i.PanelLayerEnum.DialogLayer1},rewardGalleryPanel:{prefabPath:o.BundleConfig.Resources+"/prefabs/panels/rewardGallery/RewardGalleryPanel",layerZIndex:i.PanelLayerEnum.DialogLayer2},ChipActivityPanel:{prefabPath:o.BundleConfig.Resources+"/prefabs/panels/chipActivity/ChipActivityPanel",layerZIndex:i.PanelLayerEnum.DialogLayer2},moreGamePanel:{prefabPath:o.BundleConfig.Resources+"/prefabs/panels/more/MoreGamePanel",layerZIndex:i.PanelLayerEnum.DialogLayer2},transferDoublePanel:{prefabPath:o.BundleConfig.Resources+"/prefabs/panels/transferDouble/TransferDoublePanel",layerZIndex:i.PanelLayerEnum.DialogLayer2}},cc._RF.pop()},{"./BundleConfig":"BundleConfig","./PanelLayerEnum":"PanelLayerEnum"}],CommonProperty:[function(e,t,n){"use strict";cc._RF.push(t,"a27b0swS0JOTrz+KYYDtO0/","CommonProperty");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.LayoutProperty=void 0;var i=cc._decorator,a=i.ccclass,r=i.property,s=function(){function e(){this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0,this.spaceingX=0,this.spaceingY=0}return o([r({tooltip:"Padding Left"})],e.prototype,"paddingLeft",void 0),o([r({tooltip:"Padding Top"})],e.prototype,"paddingTop",void 0),o([r({tooltip:"Padding Right"})],e.prototype,"paddingRight",void 0),o([r({tooltip:"Padding Bottom"})],e.prototype,"paddingBottom",void 0),o([r({tooltip:"Spaceing X"})],e.prototype,"spaceingX",void 0),o([r({tooltip:"Spaceing Y"})],e.prototype,"spaceingY",void 0),o([a("LayoutProperty")],e)}();n.LayoutProperty=s,cc._RF.pop()},{}],CompareUtil:[function(e,t,n){"use strict";cc._RF.push(t,"5f34aqAofZHXKSWNpepXraf","CompareUtil"),Object.defineProperty(n,"__esModule",{value:!0}),n.CompareUtil=void 0;var o=function(){function e(){}return e.isFirstVersionBigger=function(e,t){return this.versionCompare(e,t)>0},e.versionCompare=function(e,t){for(var n=e.split("."),o=t.split("."),i=0;i<n.length;++i){var a=parseInt(n[i]),r=parseInt(o[i]||"0");if(a!==r)return a-r}return o.length>n.length?-1:0},e}();n.CompareUtil=o,cc._RF.pop()},{}],ConfigMng:[function(e,t,n){"use strict";cc._RF.push(t,"5794f7yD8JCWbnmfLWOaqmB","ConfigMng"),Object.defineProperty(n,"__esModule",{value:!0}),n.ConfigMng=void 0;var o=e("../../hall/RoomMng"),i=e("../core/RunData"),a=e("../net/HttpClient"),r=e("../net/InnerEvent"),s=e("./LogBase"),l=e("./LoadMng"),c=e("./Tools"),u=e("../laya/Laya"),p=function(){function e(){}return e.Load=function(t,n){console.log("ConfigMng Load"),this.LoadCallBack=t,this.progress=n,u.Laya.loader.on(u.Laya.Event.ERROR,this,this.onError),r.HallEvent.event(r.HallEvent.LOADING_MSG,"baseconfigurl"),u.Laya.loader.load(e.baseconfigurl,u.Laya.Handler.create(this,function(){console.log("11",e.baseconfigurl)},[function(){console.log("221",e.baseconfigurl)}]),null,u.Laya.Loader.JSON),u.Laya.loader.load(e.baseconfigurl,u.Laya.Handler.create(this,this.LoadBaseConfigCompelete,[t]),null,u.Laya.Loader.JSON)},e.LoadBaseConfigCompelete=function(t){e.baseconfig=u.Laya.loader.getRes(e.baseconfigurl,u.Laya.Loader.JSON).data,e.baseconfig&&e.baseconfig.hallroot&&-1!=e.baseconfig.hallroot.indexOf("resources/")&&e.baseconfig.hallroot.startsWith("resources/")&&(e.baseconfig.hallroot=e.baseconfig.hallroot.replace("resources/","")),console.log("ConfigMng.baseconfig",e.baseconfig),""==this.version&&(this.version=e.baseconfig.version),s.LogBase.VERSION=e.baseconfig.version,r.HallEvent.event(r.HallEvent.LOADING_MSG,"baseconfigurl loadList");var n=[];n.push(e.baseconfig.hallroot+e.baseconfig.hallconfig),n.push(e.baseconfig.hallroot+e.baseconfig.gamelist),n.push(e.baseconfig.hallroot+e.baseconfig.loadconfig),n.push(e.baseconfig.hallroot+e.baseconfig.gameicons),n.push(e.baseconfig.serviceconfig),n.push(e.baseconfig.otherload),n.push(e.baseconfig.tipsconfig),u.Laya.loader.load(n,u.Laya.Handler.create(this,this.LoadCompelete,[t]),null,u.Laya.Loader.JSON)},e.LoadCompelete=function(t){e.hallconfigJson=u.Laya.loader.getRes(e.baseconfig.hallroot+e.baseconfig.hallconfig,u.Laya.Loader.JSON).data,console.log("ConfigMng.hallconfigJson",e.hallconfigJson),e.gamelistJson=u.Laya.loader.getRes(e.baseconfig.hallroot+e.baseconfig.gamelist,u.Laya.Loader.JSON).data,console.log("ConfigMng.baseconfig.gamelist",JSON.stringify(e.gamelistJson)),e.loadconfigJson=u.Laya.loader.getRes(e.baseconfig.hallroot+e.baseconfig.loadconfig,u.Laya.Loader.JSON).data,console.log("ConfigMng.baseconfig.loadconfig",e.loadconfigJson),e.gameicons=u.Laya.loader.getRes(e.baseconfig.hallroot+e.baseconfig.gameicons,u.Laya.Loader.JSON).data,console.log("ConfigMng.baseconfig.gameicons",e.gameicons),e.serviceconfigJson=u.Laya.loader.getRes(e.baseconfig.serviceconfig,u.Laya.Loader.JSON).data,console.log("ConfigMng.baseconfig.serviceconfig",e.serviceconfigJson),e.otherload=u.Laya.loader.getRes(e.baseconfig.otherload,u.Laya.Loader.JSON).data,console.log("ConfigMng.baseconfig.otherload",e.otherload),e.tipsconfig=u.Laya.loader.getRes(e.baseconfig.tipsconfig,u.Laya.Loader.JSON).data,i.RunData.languageid=e.tipsconfig.languageid,console.log("ConfigMng.tipsconfig",e.tipsconfig),a.HttpClient.REQUEST_KEY=e.serviceconfigJson.serviceRequestKey,a.HttpClient.CONTENT_DES_KEY=e.serviceconfigJson.serviceContentDesKey,t&&t.run()},e.LoadRes=function(e){this.LoadCallBack=e,this.LoadResQuick(e)},e.LoadHallLoadList=function(){var t=this;u.Laya.loader.load(e.hallconfigJson.loadList,{noMetaFile:!0},null,u.Laya.Loader.JSON).then(function(n){if(null==n)s.LogBase.error("ComfigMng LoadRes() Error! ConfigMng.hallconfigJson.loadList");else{for(var o=0;o<n.length;o++)null==n[o]&&l.LoadMng.Instance.push(e.hallconfigJson.loadList[o]);r.HallEvent.event(r.HallEvent.LOADING_FINISH,.1),t.LoadTipsList()}})},e.LoadTipsList=function(){var t=this;r.HallEvent.event(r.HallEvent.LOADING_MSG,"tipsconfig"),u.Laya.loader.load(e.tipsconfig.loadList,{noMetaFile:!0},null,u.Laya.Loader.JSON).then(function(n){if(null==n)s.LogBase.error("ComfigMng LoadRes() Error! ConfigMng.tipsconfig.loadList");else{for(var o=0;o<n.length;o++)null==n[o]&&l.LoadMng.Instance.push(e.tipsconfig.loadList[o]);var i=e.tipsconfig.tips[e.tipsconfig.languageid];for(var a in e.tipsconfig.msg=u.Laya.loader.getRes(i,u.Laya.Loader.JSON).data,console.log("ConfigMng.tipsconfig.languageid",e.tipsconfig.msg),e.tipsconfig.tips)e.tipsconfig[a]=u.Laya.loader.getRes(e.tipsconfig.tips[a],u.Laya.Loader.JSON).data,console.log("ConfigMng.tipsconfig."+a,e.tipsconfig[a]);console.log("tipsconfig.loadList:",n),r.HallEvent.event(r.HallEvent.LOADING_FINISH,.1),t.LoadGameJsonLoadList()}})},e.LoadGameJsonLoadList=function(){var t=this;r.HallEvent.event(r.HallEvent.LOADING_MSG,"gamelist"),u.Laya.loader.load(e.gamelistJson.loadList,{noMetaFile:!0},null,u.Laya.Loader.JSON).then(function(n){if(null==n)s.LogBase.error("ComfigMng LoadRes() Error! ConfigMng.gamelistJson.loadList");else{for(var o=0;o<n.length;o++)null==n[o]&&l.LoadMng.Instance.push(e.gamelistJson.loadList[o]);r.HallEvent.event(r.HallEvent.LOADING_FINISH,.1),t.LoadGameJsonSpineList()}})},e.LoadGameJsonSpineList=function(){var t=this;r.HallEvent.event(r.HallEvent.LOADING_MSG,"gamelist.spineList"),u.Laya.loader.load(e.gamelistJson.spineList,u.Laya.Loader.SPINE).then(function(n){if(null==n)s.LogBase.error("ComfigMng LoadRes() Error! ConfigMng.gamelistJson.spineList");else{for(var o=0;o<n.length;o++)null==n[o]&&l.LoadMng.Instance.push(e.gamelistJson.spineList[o]);r.HallEvent.event(r.HallEvent.LOADING_FINISH,.1),t.LoadGameIconsSpineList()}})},e.LoadGameIconsSpineList=function(){var t=this;r.HallEvent.event(r.HallEvent.LOADING_MSG,"spineList"),u.Laya.loader.load(e.gameicons.spineList,u.Laya.Loader.SPINE).then(function(n){if(null==n)s.LogBase.error("ComfigMng LoadRes() Error! ConfigMng.gameicons.loadList");else{for(var o=0;o<n.length;o++)null==n[o]&&l.LoadMng.Instance.push(e.gameicons.spineList[o]);r.HallEvent.event(r.HallEvent.LOADING_FINISH,.1),t.LoadGameIconsLoadList()}})},e.LoadGameIconsLoadList=function(){var t=this;r.HallEvent.event(r.HallEvent.LOADING_MSG,"gameicons"),u.Laya.loader.load(e.gameicons.loadList,{noMetaFile:!0},null,u.Laya.Loader.JSON).then(function(n){if(null==n)s.LogBase.error("ComfigMng LoadRes() Error! ConfigMng.gameicons.loadList");else{for(var o=0;o<n.length;o++)null==n[o]&&l.LoadMng.Instance.push(e.gameicons.loadList[o]);r.HallEvent.event(r.HallEvent.LOADING_FINISH,.1),t.LoadOtherLoadLoadList()}})},e.LoadOtherLoadLoadList=function(){var t=this;r.HallEvent.event(r.HallEvent.LOADING_MSG,"otherload"),u.Laya.loader.load(e.otherload.loadList,{noMetaFile:!0},null,u.Laya.Loader.JSON).then(function(n){if(null==n)s.LogBase.error("ComfigMng LoadRes() Error! ConfigMng.otherload.loadList");else{for(var o=0;o<n.length;o++)null==n[o]&&l.LoadMng.Instance.push(e.otherload.loadList[o]);r.HallEvent.event(r.HallEvent.LOADING_FINISH,.1),t.LoadScenesLoadList()}})},e.LoadScenesLoadList=function(){var t=this;r.HallEvent.event(r.HallEvent.LOADING_MSG,"scenes");for(var n=[],o=0;o<e.loadconfigJson.loadList.length;o++)n.push(e.loadconfigJson.sceneRoot+e.loadconfigJson.loadList[o]);u.Laya.loader.load(n,{noMetaFile:!0},null,u.Laya.Loader.JSON).then(function(e){if(null==e)s.LogBase.error("ComfigMng LoadRes() Error! sceneLoadList");else{for(var o=0;o<e.length;o++)null==e[o]&&l.LoadMng.Instance.push(n[o]);r.HallEvent.event(r.HallEvent.LOADING_FINISH,.1),r.HallEvent.event(r.HallEvent.LOADING_MSG,"scenes finish!"),t.LoadFinish(1,"sceneLoadList",!0)}})},e.LoadResQuick=function(t){var n=this;this.LoadCallBack=t,u.Laya.loader.on(u.Laya.Event.ERROR,this,this.onError),r.HallEvent.event(r.HallEvent.LOADING_MSG,"hallconfigJson"),u.Laya.loader.load(e.hallconfigJson.loadList,{noMetaFile:!0},null,u.Laya.Loader.JSON).then(function(t){if(null==t)s.LogBase.error("ComfigMng LoadRes() Error! ConfigMng.hallconfigJson.loadList");else{for(var o=0;o<t.length;o++)null==t[o]&&l.LoadMng.Instance.push(e.hallconfigJson.loadList[o]);n.LoadFinish(1,"hallconfigJson.loadList"),r.HallEvent.event(r.HallEvent.LOADING_FINISH,.1)}}),r.HallEvent.event(r.HallEvent.LOADING_MSG,"tipsconfig"),u.Laya.loader.load(e.tipsconfig.loadList,{noMetaFile:!0},null,u.Laya.Loader.JSON).then(function(t){if(null==t)s.LogBase.error("ComfigMng LoadRes() Error! ConfigMng.tipsconfig.loadList");else{for(var o=0;o<t.length;o++)null==t[o]&&l.LoadMng.Instance.push(e.tipsconfig.loadList[o]);var i=e.tipsconfig.tips[e.tipsconfig.languageid];for(var a in e.tipsconfig.msg=u.Laya.loader.getRes(i,u.Laya.Loader.JSON).data,console.log("ConfigMng.tipsconfig.languageid",e.tipsconfig.msg),e.tipsconfig.tips)e.tipsconfig[a]=u.Laya.loader.getRes(e.tipsconfig.tips[a],u.Laya.Loader.JSON).data,console.log("ConfigMng.tipsconfig."+a,e.tipsconfig[a]);console.log("tipsconfig.loadList:",t),n.LoadFinish(1,"tipsconfig.loadList"),r.HallEvent.event(r.HallEvent.LOADING_FINISH,.1)}}),r.HallEvent.event(r.HallEvent.LOADING_MSG,"gamelist"),u.Laya.loader.load(e.gamelistJson.loadList,{noMetaFile:!0},null,u.Laya.Loader.JSON).then(function(t){if(null==t)s.LogBase.error("ComfigMng LoadRes() Error! ConfigMng.gamelistJson.loadList");else{for(var o=0;o<t.length;o++)null==t[o]&&l.LoadMng.Instance.push(e.gamelistJson.loadList[o]);n.LoadFinish(1,"gamelistJson.loadList"),r.HallEvent.event(r.HallEvent.LOADING_FINISH,.1)}}),r.HallEvent.event(r.HallEvent.LOADING_MSG,"gamelist.spineList"),u.Laya.loader.load(e.gamelistJson.spineList,u.Laya.Loader.SPINE).then(function(t){if(null==t)s.LogBase.error("ComfigMng LoadRes() Error! ConfigMng.gamelistJson.spineList");else{for(var o=0;o<t.length;o++)null==t[o]&&l.LoadMng.Instance.push(e.gamelistJson.spineList[o]);n.LoadFinish(1,"gamelist.spineList"),r.HallEvent.event(r.HallEvent.LOADING_FINISH,.1)}}),r.HallEvent.event(r.HallEvent.LOADING_MSG,"spineList"),u.Laya.loader.load(e.gameicons.spineList,u.Laya.Loader.SPINE).then(function(t){if(null==t)s.LogBase.error("ComfigMng LoadRes() Error! ConfigMng.gameicons.loadList");else{for(var o=0;o<t.length;o++)null==t[o]&&l.LoadMng.Instance.push(e.gameicons.spineList[o]);n.LoadFinish(1,"gameicons.spineList"),r.HallEvent.event(r.HallEvent.LOADING_FINISH,.1)}}),r.HallEvent.event(r.HallEvent.LOADING_MSG,"gameicons"),u.Laya.loader.load(e.gameicons.loadList,null,null,u.Laya.Loader.JSON).then(function(t){if(null==t)s.LogBase.error("ComfigMng LoadRes() Error! ConfigMng.gameicons.loadList");else{console.log("gameicons[loadList]:",t);for(var o=0;o<t.length;o++)null==t[o]&&l.LoadMng.Instance.push(e.gameicons.loadList[o]);n.LoadFinish(1,"gameicons.loadList"),r.HallEvent.event(r.HallEvent.LOADING_FINISH,.1)}}),r.HallEvent.event(r.HallEvent.LOADING_MSG,"otherload"),u.Laya.loader.load(e.otherload.loadList,{noMetaFile:!0},null,u.Laya.Loader.JSON).then(function(t){if(null==t)s.LogBase.error("ComfigMng LoadRes() Error! ConfigMng.otherload.loadList");else{for(var o=0;o<t.length;o++)null==t[o]&&l.LoadMng.Instance.push(e.otherload.loadList[o]);n.LoadFinish(1,"otherload.loadList"),r.HallEvent.event(r.HallEvent.LOADING_FINISH,.1)}}),r.HallEvent.event(r.HallEvent.LOADING_MSG,"scenes");for(var o=function(t){var o=e.loadconfigJson.sceneRoot+e.loadconfigJson.loadList[t];u.Laya.loader.load(o,{noMetaFile:!0},null,u.Laya.Loader.JSON).then(function(i){null==i&&(s.LogBase.error("ComfigMng LoadRes() Error! sceneLoadList"),l.LoadMng.Instance.push(o)),r.HallEvent.event(r.HallEvent.LOADING_MSG,e.loadconfigJson.loadList[t]),r.HallEvent.event(r.HallEvent.LOADING_FINISH,.1),n.LoadFinish(1,"sceneLoadList")})},i=0;i<e.loadconfigJson.loadList.length;i++)o(i)},e.onError=function(e){r.HallEvent.event(r.HallEvent.LOADING_MSG,"config Error:"+e)},e.LoadFinish=function(t,n,o){this.nLoadNum+=t,s.LogBase.log("LoadFinish:",n,this.nLoadNum),o?l.LoadMng.Instance.ReLoad(this.LoadCallBack):this.nLoadNum==7+e.loadconfigJson.loadList.length&&l.LoadMng.Instance.ReLoad(this.LoadCallBack)},e.LoadMyGameList=function(t){s.LogBase.log("LoadMyGameList1",t,e.gameicons),o.RoomMng.GameIDList=[];for(var n=0;n<t.Games.length;n++){var i=t.Games[n];if(null!=i){var a=0;if(e.gameicons.hasOwnProperty(i.GameID.toString())){o.RoomMng.GameIDList.push(i.GameID);var r={};r.GameID=i.GameID,r.url=e.gameicons[i.GameID].url,r.type=e.gameicons[i.GameID].type,r.GameTag=i.Tag,r.data=i,a=i.CategoryID,null==e.gamelist.menu[0]&&(e.gamelist.menu[0]=[]),e.gamelist.menu[0].push(r),a<e.gamelist.menu.length&&null==e.gamelist.menu[a]&&e.gamelist.menu[a].push(r)}}}},e.LoadMyGameList_bak1=function(t){s.LogBase.log("LoadMyGameList1",t,e.gameicons),o.RoomMng.GameIDList=[];for(var n=0;n<t.gameGroups.length;n++)for(var i=0;i<t.gameGroups[n].list.length;i++){var a=t.gameGroups[n].list[i];if(null!=a){var r=0;if(e.gameicons.hasOwnProperty(a.GameID.toString())){o.RoomMng.GameIDList.push(a.GameID);var l={};l.GameID=a.GameID,l.url=e.gameicons[a.GameID].url,l.type=e.gameicons[a.GameID].type,l.GameTag=a.Tag,l.data=a,r=a.CategoryID,null==e.gamelist.menu[0]&&(e.gamelist.menu[0]=[]),e.gamelist.menu[0].push(l),r<e.gamelist.menu.length&&null==e.gamelist.menu[r]&&e.gamelist.menu[r].push(l)}}}},e.LoadMyGameList_bak=function(t){o.RoomMng.GameIDList=[];for(var n=0,i=0;i<t.gameGroups.length;i++)for(var a=0;a<t.gameGroups[i].list.length;a++){var r=t.gameGroups[i].list[a];null!=r&&r.GameID in e.gameicons&&(o.RoomMng.GameIDList.push(r.GameID),null==e.gamelist.menu[0]&&(e.gamelist.menu[0]={}),null==e.gamelist.menu[0][r.GameID]&&(e.gamelist.menu[0][r.GameID]={}),e.gamelist.menu[0][r.GameID].url=e.gameicons[r.GameID].url,e.gamelist.menu[0][r.GameID].type=e.gameicons[r.GameID].type,e.gamelist.menu[0][r.GameID].GameTag=r.Tag,1==r.Tag&&(null==e.gamelist.menu[0]&&(e.gamelist.menu[0]={}),null==e.gamelist.menu[0][r.GameID]&&(e.gamelist.menu[0][r.GameID]={}),null==e.gamelist.menu[0][r.GameID].data&&(e.gamelist.menu[0][r.GameID].data=[]),e.gamelist.menu[0][r.GameID].url=e.gameicons[r.GameID].url,e.gamelist.menu[0][r.GameID].type=e.gameicons[r.GameID].type,e.gamelist.menu[0][r.GameID].GameTag=r.Tag,e.gamelist.menu[0][r.GameID].data.push(r),n=e.gamelist.menu[0].count,n+=1,e.gamelist.menu[0].count=n),0<e.gamelist.menu.length&&(null==e.gamelist.menu[0][r.GameID].data&&(e.gamelist.menu[0][r.GameID].data=[]),n=e.gamelist.menu[0].count,n+=1,e.gamelist.menu[0].count=n,e.gamelist.menu[0][r.GameID].data.push(r)))}},e.LoadGameList=function(t){for(var n=0;n<t.length;n++){var o=t[n];if(o.GameID in e.gameicons){if(null==e.gamelist.menu[o.GameCategory])e.gamelist.menu[o.GameCategory]=[];else{var i=e.gamelist.menu[o.GameCategory].length;if(i>0){var a=e.gamelist.menu[o.GameCategory][i-1];if(a.GameID==o.GameID){if(a.isList=!0,null==a.list&&(a.list=[],a.list.push(a.data)),a.list.push(o),o.GameTag&&(i=e.gamelist.menu[0].length)>0){var r=e.gamelist.menu[0][i-1];r.GameID==o.GameID&&(r.isList=!0,null==r.list&&(r.list=[],r.list.push(r.data)),r.list.push(o))}continue}}}var s={};s.GameID=o.GameID,s.url=e.gameicons[o.GameID].url,s.type=e.gameicons[o.GameID].type,s.GameTag=o.GameTag,s.data=o,o.GameTag&&(null==e.gamelist.menu[0]&&(e.gamelist.menu[0]=[]),e.gamelist.menu[0].push(s)),e.gamelist.menu[o.GameCategory].push(s)}}},e.LoadGameList_bak=function(t){for(var n=0,o=0;o<t.length;o++){var i=t[o];i.GameID in e.gameicons&&(null==e.gamelist.menu[i.GameCategory][i.GameID]&&(e.gamelist.menu[i.GameCategory][i.GameID]={}),e.gamelist.menu[i.GameCategory][i.GameID].url=e.gameicons[i.GameID].url,e.gamelist.menu[i.GameCategory][i.GameID].type=e.gameicons[i.GameID].type,e.gamelist.menu[i.GameCategory][i.GameID].GameTag=i.GameTag,i.GameTag&&(null==e.gamelist.menu[0]&&(e.gamelist.menu[0]={}),null==e.gamelist.menu[0][i.GameID]&&(e.gamelist.menu[0][i.GameID]={}),null==e.gamelist.menu[0][i.GameID].data&&(e.gamelist.menu[0][i.GameID].data=[]),e.gamelist.menu[0][i.GameID].url=e.gameicons[i.GameID].url,e.gamelist.menu[0][i.GameID].type=e.gameicons[i.GameID].type,e.gamelist.menu[0][i.GameID].GameTag=i.GameTag,e.gamelist.menu[0][i.GameID].data.push(i),n=e.gamelist.menu[0].count,n+=1,e.gamelist.menu[0].count=n),i.GameCategory<e.gamelist.menu.length&&(null==e.gamelist.menu[i.GameCategory][i.GameID].data&&(e.gamelist.menu[i.GameCategory][i.GameID].data=[]),n=e.gamelist.menu[i.GameCategory].count,n+=1,e.gamelist.menu[i.GameCategory].count=n,e.gamelist.menu[i.GameCategory][i.GameID].data.push(i)))}},e.getTips=function(t){return null==e.tipsconfig.msg?t:t in e.tipsconfig.msg?e.tipsconfig.msg[t]:t},e.getNetTips=function(t){return null==e.tipsconfig.msg?null:t in e.tipsconfig.msg?e.tipsconfig.msg[t]:null},e.getPixType=function(t){return t>0&&t<=e.hallconfigJson.pixinfo.type.length?e.hallconfigJson.pixinfo.type[t]:""},e.getFaceResUrl=function(t){if(t<e.hallconfigJson.face.facelist.length&&t>=0)return e.hallconfigJson.face.facelist[t]},e.getSceneAddr=function(t){return e.loadconfigJson.sceneRoot+e.loadconfigJson.sceneList[t]},e.getGameLoadingAddr=function(t){return e.loadconfigJson.gameList.hasOwnProperty(t)?e.loadconfigJson.gameRoot+e.loadconfigJson.gameList[t].scene:""},e.getGameLoadingConf=function(t){return e.loadconfigJson.gameList.hasOwnProperty(t)?e.loadconfigJson.gameRoot+e.loadconfigJson.gameList[t].loadlist:(s.LogBase.error("getGameLoadingConf",t,e.loadconfigJson.gameList),"")},e.ReLoadGameIconList=function(){var t=this;u.Laya.loader.load(e.gameicons.spineList2,u.Laya.Loader.SPINE).then(function(n){if(null==n)s.LogBase.error("ComfigMng LoadRes() Error! ConfigMng.gameicons.loadList");else{for(var o=[],i=0;i<n.length;i++)null==n[i]?l.LoadMng.Instance.push(e.gameicons.spineList2[i]):o.push(e.gameicons.spineList2[i]);r.HallEvent.event(r.HallEvent.LOADGAMELIST,[o])}t.ReLoadGameIconList2()})},e.ReLoadGameIconList2=function(){var t=this;u.Laya.loader.load(e.gameicons.loadList2,{noMetaFile:!0},null,u.Laya.Loader.JSON).then(function(n){if(null==n)s.LogBase.error("ComfigMng LoadRes() Error! ConfigMng.gameicons.loadList");else{for(var o=[],i=0;i<n.length;i++)null==n[i]?l.LoadMng.Instance.push(e.gameicons.loadList2[i]):o.push(e.gameicons.loadList2[i]);r.HallEvent.event(r.HallEvent.LOADGAMELIST,[o]),t.ReLoadHallLoadList2()}})},e.ReLoadHallLoadList2=function(){u.Laya.loader.load(e.hallconfigJson.loadList2,{noMetaFile:!0},null,u.Laya.Loader.JSON).then(function(){})},e.getDomain=function(t){for(var n in e.hallconfigJson.channel)if(t==Number(n)){for(var o in e.hallconfigJson.channel[n]){var i=c.BrowserUtil.getUrlHost();if(e.hallconfigJson.channel[n][o]==i)return i}return e.hallconfigJson.channel[n][0]}return""},e.getDefaultAgent=function(){var t=c.BrowserUtil.getUrlHost();for(var n in e.hallconfigJson.channel)for(var o in e.hallconfigJson.channel[n])if(t==e.hallconfigJson.channel[n][o])return Number(n);return 1},e.gamelistJson={data:{}},e.gameicons=null,e.gamelist={menu:[[],[],[],[],[]]},e.nLoadNum=0,e.version="",e.baseconfigurl="res/config/baseconfig.json",e}();n.ConfigMng=p,cc._RF.pop()},{"../../hall/RoomMng":"RoomMng","../core/RunData":"RunData","../laya/Laya":"Laya","../net/HttpClient":"HttpClient","../net/InnerEvent":"InnerEvent","./LoadMng":"LoadMng","./LogBase":"LogBase","./Tools":"Tools"}],ConfirmtransferPanel:[function(e,t,n){"use strict";cc._RF.push(t,"7d6c1buD8dL6LELqCQmryGd","ConfirmtransferPanel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=l(e("../../../components/UserIconStyle1Component")),u=e("../../../configs/CommonAudioConfig"),p=e("../../../configs/CommonPanelConfig"),h=l(e("../../../framework/components/dialogstyle/MoveStyleDialogPanelV2")),d=e("../../../framework/gg"),f=e("../../../framework/i18n/I18n"),g=l(e("../../../framework/utils/StringUtils")),m=e("../../../systems/api/gameapi/GameApiModels"),y=e("../../../systems/chipActivity/ChipActivitySystem"),_=e("../../../systems/gamews/WebSocketResponseCode"),v=e("../../../systems/transfer/TransferSystem"),b=e("../../../systems/user/UserSystem"),S=e("../../../systems/user/UserUISystem"),C=e("../../../systems/user/UserWalletSystem"),I=e("../../../utils/CurrencyUtil"),R=e("./TransferUIEvent"),L=cc._decorator,P=L.ccclass,M=L.property,T=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.otherUserIdLabel=null,t.otherUserNameLabel=null,t.otherUserIconComp=null,t.otherVipSprite=null,t.myCoinLabel=null,t.myUserIconComp=null,t.myVipSprite=null,t.coinLab=null,t.handlingFeeLab=null,t.confirmtransferData=null,t}return i(t,e),t.prototype.show=function(e){this.reset(),this.confirmtransferData=e.data,this.updateUI(),this._playShowAnim(function(){e.onShowed()})},t.prototype.hide=function(e){this._playHideAnim(function(){e.onHided()})},t.prototype.reset=function(){this.confirmtransferData=null,this.handlingFeeLab.string="0",this.coinLab.string="0"},t.prototype.updateUI=function(){var e,t,n,o,i,a,r,s,l,u;this.coinLab.string=this.confirmtransferData.coin+"",this.handlingFeeLab.string=this.confirmtransferData.handlingFee+"",this.otherUserNameLabel.string=g.default.clampStr(null!==(e=this.confirmtransferData.userInfo.nick)&&void 0!==e?e:"",18),this.otherUserIdLabel.string=null!==(t=this.confirmtransferData.userInfo.uid)&&void 0!==t?t:"",this.otherUserIconComp.getComponent(c.default).updateIcon(null!==(o=null===(n=this.confirmtransferData.userInfo)||void 0===n?void 0:n.facelook)&&void 0!==o?o:""),this.otherUserIconComp.getComponent(c.default).updateIconFrame(null!==(a=null===(i=this.confirmtransferData.userInfo)||void 0===i?void 0:i.frame)&&void 0!==a?a:""),this.updataOtherUserVip(),this.myUserIconComp.getComponent(c.default).updateIcon(null!==(s=null===(r=b.userSystem.userModel)||void 0===r?void 0:r.userIcon)&&void 0!==s?s:""),this.myUserIconComp.getComponent(c.default).updateIconFrame(null!==(u=null===(l=b.userSystem.userModel)||void 0===l?void 0:l.userIconFrame)&&void 0!==u?u:""),this.myCoinLabel.string=I.CurrencyUtil.toHumanReadable(C.userWalletSystem.coinBalance),this.updataMyUserVip()},t.prototype.updataOtherUserVip=function(){var e;return r(this,void 0,void 0,function(){var t;return s(this,function(n){switch(n.label){case 0:return(null===(e=this.confirmtransferData.userInfo)||void 0===e?void 0:e.vip_info)?(this.otherVipSprite.node.active=!0,t=this.otherVipSprite,[4,S.userUISystem.loadUserVipIcon(this.confirmtransferData.userInfo.vip_info.vip_level,this.confirmtransferData.userInfo.vip_info.vip_status)]):[3,2];case 1:return t.spriteFrame=n.sent(),[3,3];case 2:this.otherVipSprite.node.active=!1,n.label=3;case 3:return[2]}})})},t.prototype.updataMyUserVip=function(){var e;return r(this,void 0,void 0,function(){var t;return s(this,function(n){switch(n.label){case 0:return(null===(e=b.userSystem.userModel)||void 0===e?void 0:e.vipInfo)?(this.myVipSprite.node.active=!0,t=this.myVipSprite,[4,S.userUISystem.loadUserVipIcon(b.userSystem.userModel.vipInfo.vip_level,b.userSystem.userModel.vipInfo.vip_status)]):[3,2];case 1:return t.spriteFrame=n.sent(),[3,3];case 2:this.myVipSprite.node.active=!1,n.label=3;case 3:return[2]}})})},t.prototype.onCloseBtnClick=function(){d.gg.panelRouter.hide({panel:p.CommonPanelConfig.confirmtransferPanel}),d.gg.audio.playOneShot(u.CommonAudioConfig.btnClose)},t.prototype.onClicGive=function(){return r(this,void 0,void 0,function(){var e,t;return s(this,function(n){switch(n.label){case 0:return[4,v.transferSystem.transferCoins({receiver_uid:this.confirmtransferData.userInfo.uid,amount:this.confirmtransferData.coin}).catch(function(){return null})];case 1:if(e=n.sent(),this.onCloseBtnClick(),1==e.status)y.chipActivitySystem.setConditionItem(m.ChipType.Transfer),d.gg.eventManager.emit(R.TransferUIEvent.TransferSuccessEvent),d.gg.panelRouter.show({panel:p.CommonPanelConfig.alertPanel,data:{titleLabel:f.i18n.getText("alert.title.tips"),msgLabel:f.i18n.getText("toast.transferSuccess"),showCancelBtn:!1,showConfirmBtn:!0,onConfirmBtnClick:function(){d.gg.panelRouter.hide({panel:p.CommonPanelConfig.alertPanel})}}});else{switch(t=f.i18n.getText("toast.transferFail"),e.status){case _.WebSocketResponseCode.LevelIsNotEnough:t=f.i18n.getText("toast.transferLevelFail");break;case _.WebSocketResponseCode.GamePlayerNotFound:t=f.i18n.getText("toast.transferUserFail");break;case _.WebSocketResponseCode.TransferUpperLimit:t=f.i18n.getText("toast.transferUpperLimitFail");break;case _.WebSocketResponseCode.GamePlayerCoinNotEnough:t=f.i18n.getText("common.coinShortage")}d.gg.panelRouter.show({panel:p.CommonPanelConfig.toastPanel,data:{text:f.i18n.getText(t)}})}return[2]}})})},a([M({type:cc.Label,tooltip:"\u7528\u6237id"})],t.prototype,"otherUserIdLabel",void 0),a([M({type:cc.Label,tooltip:"\u7528\u6237\u540d\u5b57"})],t.prototype,"otherUserNameLabel",void 0),a([M({type:cc.Node,tooltip:"\u73a9\u5bb6\u5934\u50cf\u6837\u5f0f1"})],t.prototype,"otherUserIconComp",void 0),a([M({type:cc.Sprite,tooltip:"\u7528\u6237vip\u56fe\u6807"})],t.prototype,"otherVipSprite",void 0),a([M({type:cc.Label,tooltip:"\u7528\u6237\u91d1\u5e01\u4f59\u989d"})],t.prototype,"myCoinLabel",void 0),a([M({type:cc.Node,tooltip:"\u73a9\u5bb6\u5934\u50cf\u6837\u5f0f1"})],t.prototype,"myUserIconComp",void 0),a([M({type:cc.Sprite,tooltip:"\u7528\u6237vip\u56fe\u6807"})],t.prototype,"myVipSprite",void 0),a([M({type:cc.Label,tooltip:"\u8f6c\u8d26\u91d1\u989d"})],t.prototype,"coinLab",void 0),a([M({type:cc.Label,tooltip:"\u7a0e\u6536"})],t.prototype,"handlingFeeLab",void 0),a([P],t)}(h.default);n.default=T,cc._RF.pop()},{"../../../components/UserIconStyle1Component":"UserIconStyle1Component","../../../configs/CommonAudioConfig":"CommonAudioConfig","../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../framework/components/dialogstyle/MoveStyleDialogPanelV2":"MoveStyleDialogPanelV2","../../../framework/gg":"gg","../../../framework/i18n/I18n":"I18n","../../../framework/utils/StringUtils":"StringUtils","../../../systems/api/gameapi/GameApiModels":"GameApiModels","../../../systems/chipActivity/ChipActivitySystem":"ChipActivitySystem","../../../systems/gamews/WebSocketResponseCode":"WebSocketResponseCode","../../../systems/transfer/TransferSystem":"TransferSystem","../../../systems/user/UserSystem":"UserSystem","../../../systems/user/UserUISystem":"UserUISystem","../../../systems/user/UserWalletSystem":"UserWalletSystem","../../../utils/CurrencyUtil":"CurrencyUtil","./TransferUIEvent":"TransferUIEvent"}],CryptoInterface:[function(e,t,n){"use strict";cc._RF.push(t,"4579ffojcpO44ljCEp5zaI0","CryptoInterface"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],CryptoWrapper:[function(e,t,n){"use strict";cc._RF.push(t,"7f51dL2XNJOI7aqTxUUh8eA","CryptoWrapper");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.CryptoWrapper=void 0;var i=o(e("crypto-js")),a=function(){function e(){}return e.base64Encode=function(e){return i.default.enc.Base64.stringify(i.default.enc.Utf8.parse(e))},e.base64Decode=function(e){return i.default.enc.Base64.parse(e).toString(i.default.enc.Utf8)},e.aesEncrypt=function(e,t,n){return i.default.AES.encrypt(e,i.default.enc.Utf8.parse(t),{iv:i.default.enc.Utf8.parse(n),mode:i.default.mode.CBC,padding:i.default.pad.Pkcs7}).ciphertext.toString(i.default.enc.Base64)},e.aesDecrypt=function(e,t,n){return i.default.AES.decrypt(e,i.default.enc.Utf8.parse(t),{iv:i.default.enc.Utf8.parse(n),mode:i.default.mode.CBC,padding:i.default.pad.Pkcs7}).toString(i.default.enc.Utf8)},e.md5=function(e){return i.default.MD5(e).toString()},e.autoTest=function(){},e._base64Test=function(){},e._aesTest=function(){},e._md5Test=function(){},e}();n.CryptoWrapper=a,cc._RF.pop()},{"crypto-js":15}],CurrencyUtil:[function(e,t,n){"use strict";cc._RF.push(t,"edfd9QuCFBJzaHSwTJacmak","CurrencyUtil");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.CurrencyUtil=void 0;var i=o(e("../framework/utils/MathUtils")),a=function(){function e(){}return e.toHumanReadable=function(e,t){return void 0===t&&(t=2),e<=0?"0":e<this.TenThousand?String(e):e<this.Million?i.default.toFixedWithoutRound(e/this.Thousand,t)+"K":e<this.Billion?i.default.toFixedWithoutRound(e/this.Million,t)+"M":e<this.Trillion?i.default.toFixedWithoutRound(e/this.Billion,t)+"B":"999.99B"},e.toThousandsSeparator=function(e){if(e<=0)return"0";if(e<this.Thousand)return String(e);var t=/(?=(?!\b)(\d{3})+\.?\b)/g;return e.toString().replace(/(^|\s)\d+(?=\.?\d*($|\s))/g,function(e){return e.replace(t,",")})},e.Hundred=100,e.Thousand=1e3,e.TenThousand=1e4,e.Million=1e6,e.Billion=1e9,e.Trillion=1e12,e}();n.CurrencyUtil=a,cc._RF.pop()},{"../framework/utils/MathUtils":"MathUtils"}],2:[function(e,t){var n={utf8:{stringToBytes:function(e){return n.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(n.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};t.exports=n},{}],3:[function(e,t,n){var o;o=function(){return function(){var e={686:function(e,t,n){"use strict";n.d(t,{default:function(){return P}});var o=n(279),i=n.n(o),a=n(370),r=n.n(a),s=n(817),l=n.n(s);function c(e){try{return document.execCommand(e)}catch(t){return!1}}var u=function(e){var t=l()(e);return c("cut"),t};function p(e){var t="rtl"===document.documentElement.getAttribute("dir"),n=document.createElement("textarea");n.style.fontSize="12pt",n.style.border="0",n.style.padding="0",n.style.margin="0",n.style.position="absolute",n.style[t?"right":"left"]="-9999px";var o=window.pageYOffset||document.documentElement.scrollTop;return n.style.top="".concat(o,"px"),n.setAttribute("readonly",""),n.value=e,n}var h=function(e,t){var n=p(e);t.container.appendChild(n);var o=l()(n);return c("copy"),n.remove(),o},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{container:document.body},n="";return"string"==typeof e?n=h(e,t):e instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(null==e?void 0:e.type)?n=h(e.value,t):(n=l()(e),c("copy")),n};function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.action,n=void 0===t?"copy":t,o=e.container,i=e.target,a=e.text;if("copy"!==n&&"cut"!==n)throw new Error('Invalid "action" value, use either "copy" or "cut"');if(void 0!==i){if(!i||"object"!==f(i)||1!==i.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===n&&i.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===n&&(i.hasAttribute("readonly")||i.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes')}return a?d(a,{container:o}):i?"cut"===n?u(i):d(i,{container:o}):void 0};function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?C(e):t}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t){var n="data-clipboard-".concat(e);if(t.hasAttribute(n))return t.getAttribute(n)}var P=function(){v(l,i());var e,t,n,o,a,s=(e=l,t=I(),function(){var n,o=R(e);if(t){var i=R(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return S(this,n)});function l(e,t){var n;return y(this,l),(n=s.call(this)).resolveOptions(t),n.listenClick(e),n}return n=l,a=[{key:"copy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{container:document.body};return d(e,t)}},{key:"cut",value:function(e){return u(e)}},{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach(function(e){n=n&&!!document.queryCommandSupported(e)}),n}}],(o=[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===m(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=r()(e,"click",function(e){return t.onClick(e)})}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget,n=this.action(t)||"copy",o=g({action:n,container:this.container,target:this.target(t),text:this.text(t)});this.emit(o?"success":"error",{action:n,text:o,trigger:t,clearSelection:function(){t&&t.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(e){return L("action",e)}},{key:"defaultTarget",value:function(e){var t=L("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return L("text",e)}},{key:"destroy",value:function(){this.listener.destroy()}}])&&_(n.prototype,o),a&&_(n,a),l}()},828:function(e){if("undefined"!=typeof Element&&!Element.prototype.matches){var t=Element.prototype;t.matches=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector}e.exports=function(e,t){for(;e&&9!==e.nodeType;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}},438:function(e,t,n){var o=n(828);function i(e,t,n,o,i){var r=a.apply(this,arguments);return e.addEventListener(n,r,i),{destroy:function(){e.removeEventListener(n,r,i)}}}function a(e,t,n,i){return function(n){n.delegateTarget=o(n.target,t),n.delegateTarget&&i.call(e,n)}}e.exports=function(e,t,n,o,a){return"function"==typeof e.addEventListener?i.apply(null,arguments):"function"==typeof n?i.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,function(e){return i(e,t,n,o,a)}))}},879:function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var n=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},370:function(e,t,n){var o=n(879),i=n(438);function a(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}function r(e,t,n){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,n)}),{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,n)})}}}function s(e,t,n){return i(document.body,e,t,n)}e.exports=function(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!o.string(t))throw new TypeError("Second argument must be a String");if(!o.fn(n))throw new TypeError("Third argument must be a Function");if(o.node(e))return a(e,t,n);if(o.nodeList(e))return r(e,t,n);if(o.string(e))return s(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},817:function(e){e.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var o=window.getSelection(),i=document.createRange();i.selectNodeContents(e),o.removeAllRanges(),o.addRange(i),t=o.toString()}return t}},279:function(e){function t(){}t.prototype={on:function(e,t,n){var o=this.e||(this.e={});return(o[e]||(o[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var o=this;function i(){o.off(e,i),t.apply(n,arguments)}return i._=t,this.on(e,i,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),o=0,i=n.length;o<i;o++)n[o].fn.apply(n[o].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),o=n[e],i=[];if(o&&t)for(var a=0,r=o.length;a<r;a++)o[a].fn!==t&&o[a].fn._!==t&&i.push(o[a]);return i.length?n[e]=i:delete n[e],this}},e.exports=t,e.exports.TinyEmitter=t}},t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}return n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n(686)}().default},"object"==typeof n&&"object"==typeof t?t.exports=o():"function"==typeof define&&define.amd?define([],o):"object"==typeof n?n.ClipboardJS=o():this.ClipboardJS=o()},{}],4:[function(e,t){var n,o;n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&o.rotl(e,8)|4278255360&o.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=o.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,o=0;n<e.length;n++,o+=8)t[o>>>5]|=e[n]<<24-o%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var t=[],o=0;o<e.length;o+=3)for(var i=e[o]<<16|e[o+1]<<8|e[o+2],a=0;a<4;a++)8*o+6*a<=8*e.length?t.push(n.charAt(i>>>6*(3-a)&63)):t.push("=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],o=0,i=0;o<e.length;i=++o%4)0!=i&&t.push((n.indexOf(e.charAt(o-1))&Math.pow(2,-2*i+8)-1)<<2*i|n.indexOf(e.charAt(o))>>>6-2*i);return t}},t.exports=o},{}],5:[function(e,t,n){var o;o=function(e){return function(){var t=e,n=t.lib.BlockCipher,o=t.algo,i=[],a=[],r=[],s=[],l=[],c=[],u=[],p=[],h=[],d=[];(function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var n=0,o=0;for(t=0;t<256;t++){var f=o^o<<1^o<<2^o<<3^o<<4;f=f>>>8^255&f^99,i[n]=f,a[f]=n;var g=e[n],m=e[g],y=e[m],_=257*e[f]^16843008*f;r[n]=_<<24|_>>>8,s[n]=_<<16|_>>>16,l[n]=_<<8|_>>>24,c[n]=_,_=16843009*y^65537*m^257*g^16843008*n,u[f]=_<<24|_>>>8,p[f]=_<<16|_>>>16,h[f]=_<<8|_>>>24,d[f]=_,n?(n=g^e[e[e[y^g]]],o^=e[e[o]]):n=o=1}})();var f=[0,1,2,4,8,16,32,64,128,27,54],g=o.AES=n.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4,o=4*((this._nRounds=n+6)+1),a=this._keySchedule=[],r=0;r<o;r++)r<n?a[r]=t[r]:(c=a[r-1],r%n?n>6&&r%n==4&&(c=i[c>>>24]<<24|i[c>>>16&255]<<16|i[c>>>8&255]<<8|i[255&c]):(c=i[(c=c<<8|c>>>24)>>>24]<<24|i[c>>>16&255]<<16|i[c>>>8&255]<<8|i[255&c],c^=f[r/n|0]<<24),a[r]=a[r-n]^c);for(var s=this._invKeySchedule=[],l=0;l<o;l++){if(r=o-l,l%4)var c=a[r];else c=a[r-4];s[l]=l<4||r<=4?c:u[i[c>>>24]]^p[i[c>>>16&255]]^h[i[c>>>8&255]]^d[i[255&c]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,r,s,l,c,i)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,u,p,h,d,a),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,o,i,a,r,s){for(var l=this._nRounds,c=e[t]^n[0],u=e[t+1]^n[1],p=e[t+2]^n[2],h=e[t+3]^n[3],d=4,f=1;f<l;f++){var g=o[c>>>24]^i[u>>>16&255]^a[p>>>8&255]^r[255&h]^n[d++],m=o[u>>>24]^i[p>>>16&255]^a[h>>>8&255]^r[255&c]^n[d++],y=o[p>>>24]^i[h>>>16&255]^a[c>>>8&255]^r[255&u]^n[d++],_=o[h>>>24]^i[c>>>16&255]^a[u>>>8&255]^r[255&p]^n[d++];c=g,u=m,p=y,h=_}g=(s[c>>>24]<<24|s[u>>>16&255]<<16|s[p>>>8&255]<<8|s[255&h])^n[d++],m=(s[u>>>24]<<24|s[p>>>16&255]<<16|s[h>>>8&255]<<8|s[255&c])^n[d++],y=(s[p>>>24]<<24|s[h>>>16&255]<<16|s[c>>>8&255]<<8|s[255&u])^n[d++],_=(s[h>>>24]<<24|s[c>>>16&255]<<16|s[u>>>8&255]<<8|s[255&p])^n[d++],e[t]=g,e[t+1]=m,e[t+2]=y,e[t+3]=_},keySize:8});t.AES=n._createHelper(g)}(),e.AES},"object"==typeof n?t.exports=n=o(e("./core"),e("./enc-base64"),e("./md5"),e("./evpkdf"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],o):o(this.CryptoJS)},{"./cipher-core":7,"./core":8,"./enc-base64":9,"./evpkdf":12,"./md5":17}],6:[function(e,t,n){var o;o=function(e){return function(){var t=e,n=t.lib.BlockCipher,o=t.algo;const i=16,a=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],r=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var s={pbox:[],sbox:[]};function l(e,t){let n=t>>24&255,o=t>>16&255,i=t>>8&255,a=255&t,r=e.sbox[0][n]+e.sbox[1][o];return(r^=e.sbox[2][i])+e.sbox[3][a]}function c(e,t,n){let o,a=t,r=n;for(let s=0;s<i;++s)o=a^=e.pbox[s],a=r=l(e,a)^r,r=o;return o=a,a=r,r=o,r^=e.pbox[i],{left:a^=e.pbox[i+1],right:r}}function u(e,t,n){let o,a=t,r=n;for(let s=i+1;s>1;--s)o=a^=e.pbox[s],a=r=l(e,a)^r,r=o;return o=a,a=r,r=o,r^=e.pbox[1],{left:a^=e.pbox[0],right:r}}function p(e,t,n){for(let i=0;i<4;i++){e.sbox[i]=[];for(let t=0;t<256;t++)e.sbox[i][t]=r[i][t]}let o=0;for(let r=0;r<i+2;r++)e.pbox[r]=a[r]^t[o],++o>=n&&(o=0);let s=0,l=0,u=0;for(let a=0;a<i+2;a+=2)s=(u=c(e,s,l)).left,l=u.right,e.pbox[a]=s,e.pbox[a+1]=l;for(let i=0;i<4;i++)for(let t=0;t<256;t+=2)s=(u=c(e,s,l)).left,l=u.right,e.sbox[i][t]=s,e.sbox[i][t+1]=l;return!0}var h=o.Blowfish=n.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4;p(s,t,n)}},encryptBlock:function(e,t){var n=c(s,e[t],e[t+1]);e[t]=n.left,e[t+1]=n.right},decryptBlock:function(e,t){var n=u(s,e[t],e[t+1]);e[t]=n.left,e[t+1]=n.right},blockSize:2,keySize:4,ivSize:2});t.Blowfish=n._createHelper(h)}(),e.Blowfish},"object"==typeof n?t.exports=n=o(e("./core"),e("./enc-base64"),e("./md5"),e("./evpkdf"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],o):o(this.CryptoJS)},{"./cipher-core":7,"./core":8,"./enc-base64":9,"./evpkdf":12,"./md5":17}],7:[function(e,t,n){var o;o=function(e){e.lib.Cipher||function(t){var n=e,o=n.lib,i=o.Base,a=o.WordArray,r=o.BufferedBlockAlgorithm,s=n.enc,l=(s.Utf8,s.Base64),c=n.algo.EvpKDF,u=o.Cipher=r.extend({cfg:i.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){r.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?v:y}return function(t){return{encrypt:function(n,o,i){return e(o).encrypt(t,n,o,i)},decrypt:function(n,o,i){return e(o).decrypt(t,n,o,i)}}}}()}),p=(o.StreamCipher=u.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),n.mode={}),h=o.BlockCipherMode=i.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),d=p.CBC=function(){var e=h.extend();function n(e,n,o){var i,a=this._iv;a?(i=a,this._iv=t):i=this._prevBlock;for(var r=0;r<o;r++)e[n+r]^=i[r]}return e.Encryptor=e.extend({processBlock:function(e,t){var o=this._cipher,i=o.blockSize;n.call(this,e,t,i),o.encryptBlock(e,t),this._prevBlock=e.slice(t,t+i)}}),e.Decryptor=e.extend({processBlock:function(e,t){var o=this._cipher,i=o.blockSize,a=e.slice(t,t+i);o.decryptBlock(e,t),n.call(this,e,t,i),this._prevBlock=a}}),e}(),f=(n.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,o=n-e.sigBytes%n,i=o<<24|o<<16|o<<8|o,r=[],s=0;s<o;s+=4)r.push(i);var l=a.create(r,o);e.concat(l)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},g=(o.BlockCipher=u.extend({cfg:u.cfg.extend({mode:d,padding:f}),reset:function(){var e;u.reset.call(this);var t=this.cfg,n=t.iv,o=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=o.createEncryptor:(e=o.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,n&&n.words):(this._mode=e.call(o,this,n&&n.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),o.CipherParams=i.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}})),m=(n.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,n=e.salt;return(n?a.create([1398893684,1701076831]).concat(n).concat(t):t).toString(l)},parse:function(e){var t,n=l.parse(e),o=n.words;return 1398893684==o[0]&&1701076831==o[1]&&(t=a.create(o.slice(2,4)),o.splice(0,4),n.sigBytes-=16),g.create({ciphertext:n,salt:t})}},y=o.SerializableCipher=i.extend({cfg:i.extend({format:m}),encrypt:function(e,t,n,o){o=this.cfg.extend(o);var i=e.createEncryptor(n,o),a=i.finalize(t),r=i.cfg;return g.create({ciphertext:a,key:n,iv:r.iv,algorithm:e,mode:r.mode,padding:r.padding,blockSize:e.blockSize,formatter:o.format})},decrypt:function(e,t,n,o){return o=this.cfg.extend(o),t=this._parse(t,o.format),e.createDecryptor(n,o).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),_=(n.kdf={}).OpenSSL={execute:function(e,t,n,o,i){if(o||(o=a.random(8)),i)r=c.create({keySize:t+n,hasher:i}).compute(e,o);else var r=c.create({keySize:t+n}).compute(e,o);var s=a.create(r.words.slice(t),4*n);return r.sigBytes=4*t,g.create({key:r,iv:s,salt:o})}},v=o.PasswordBasedCipher=y.extend({cfg:y.cfg.extend({kdf:_}),encrypt:function(e,t,n,o){var i=(o=this.cfg.extend(o)).kdf.execute(n,e.keySize,e.ivSize,o.salt,o.hasher);o.iv=i.iv;var a=y.encrypt.call(this,e,t,i.key,o);return a.mixIn(i),a},decrypt:function(e,t,n,o){o=this.cfg.extend(o),t=this._parse(t,o.format);var i=o.kdf.execute(n,e.keySize,e.ivSize,t.salt,o.hasher);return o.iv=i.iv,y.decrypt.call(this,e,t,i.key,o)}})}()},"object"==typeof n?t.exports=n=o(e("./core"),e("./evpkdf")):"function"==typeof define&&define.amd?define(["./core","./evpkdf"],o):o(this.CryptoJS)},{"./core":8,"./evpkdf":12}],8:[function(e,t,n){(function(o){var i;i=function(){var t=t||function(t){var n;if("undefined"!=typeof window&&window.crypto&&(n=window.crypto),"undefined"!=typeof self&&self.crypto&&(n=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(n=globalThis.crypto),!n&&"undefined"!=typeof window&&window.msCrypto&&(n=window.msCrypto),!n&&void 0!==o&&o.crypto&&(n=o.crypto),!n&&"function"==typeof e)try{n=e("crypto")}catch(m){}var i=function(){if(n){if("function"==typeof n.getRandomValues)try{return n.getRandomValues(new Uint32Array(1))[0]}catch(m){}if("function"==typeof n.randomBytes)try{return n.randomBytes(4).readInt32LE()}catch(m){}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),r={},s=r.lib={},l=s.Base={extend:function(e){var t=a(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},c=s.WordArray=l.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||p).stringify(this)},concat:function(e){var t=this.words,n=e.words,o=this.sigBytes,i=e.sigBytes;if(this.clamp(),o%4)for(var a=0;a<i;a++){var r=n[a>>>2]>>>24-a%4*8&255;t[o+a>>>2]|=r<<24-(o+a)%4*8}else for(var s=0;s<i;s+=4)t[o+s>>>2]=n[s>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var e=l.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(i());return new c.init(t,e)}}),u=r.enc={},p=u.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,o=[],i=0;i<n;i++){var a=t[i>>>2]>>>24-i%4*8&255;o.push((a>>>4).toString(16)),o.push((15&a).toString(16))}return o.join("")},parse:function(e){for(var t=e.length,n=[],o=0;o<t;o+=2)n[o>>>3]|=parseInt(e.substr(o,2),16)<<24-o%8*4;return new c.init(n,t/2)}},h=u.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,o=[],i=0;i<n;i++){var a=t[i>>>2]>>>24-i%4*8&255;o.push(String.fromCharCode(a))}return o.join("")},parse:function(e){for(var t=e.length,n=[],o=0;o<t;o++)n[o>>>2]|=(255&e.charCodeAt(o))<<24-o%4*8;return new c.init(n,t)}},d=u.Utf8={stringify:function(e){try{return decodeURIComponent(escape(h.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return h.parse(unescape(encodeURIComponent(e)))}},f=s.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=d.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var n,o=this._data,i=o.words,a=o.sigBytes,r=this.blockSize,s=a/(4*r),l=(s=e?t.ceil(s):t.max((0|s)-this._minBufferSize,0))*r,u=t.min(4*l,a);if(l){for(var p=0;p<l;p+=r)this._doProcessBlock(i,p);n=i.splice(0,l),o.sigBytes-=u}return new c.init(n,u)},clone:function(){var e=l.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),g=(s.Hasher=f.extend({cfg:l.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new g.HMAC.init(e,n).finalize(t)}}}),r.algo={});return r}(Math);return t},"object"==typeof n?t.exports=n=i():"function"==typeof define&&define.amd?define([],i):this.CryptoJS=i()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{crypto:1}],9:[function(e,t,n){var o;o=function(e){return function(){var t=e,n=t.lib.WordArray;function o(e,t,o){for(var i=[],a=0,r=0;r<t;r++)if(r%4){var s=o[e.charCodeAt(r-1)]<<r%4*2|o[e.charCodeAt(r)]>>>6-r%4*2;i[a>>>2]|=s<<24-a%4*8,a++}return n.create(i,a)}t.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,o=this._map;e.clamp();for(var i=[],a=0;a<n;a+=3)for(var r=(t[a>>>2]>>>24-a%4*8&255)<<16|(t[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|t[a+2>>>2]>>>24-(a+2)%4*8&255,s=0;s<4&&a+.75*s<n;s++)i.push(o.charAt(r>>>6*(3-s)&63));var l=o.charAt(64);if(l)for(;i.length%4;)i.push(l);return i.join("")},parse:function(e){var t=e.length,n=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var a=0;a<n.length;a++)i[n.charCodeAt(a)]=a}var r=n.charAt(64);if(r){var s=e.indexOf(r);-1!==s&&(t=s)}return o(e,t,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),e.enc.Base64},"object"==typeof n?t.exports=n=o(e("./core")):"function"==typeof define&&define.amd?define(["./core"],o):o(this.CryptoJS)},{"./core":8}],10:[function(e,t,n){var o;o=function(e){return function(){var t=e,n=t.lib.WordArray;function o(e,t,o){for(var i=[],a=0,r=0;r<t;r++)if(r%4){var s=o[e.charCodeAt(r-1)]<<r%4*2|o[e.charCodeAt(r)]>>>6-r%4*2;i[a>>>2]|=s<<24-a%4*8,a++}return n.create(i,a)}t.enc.Base64url={stringify:function(e,t){void 0===t&&(t=!0);var n=e.words,o=e.sigBytes,i=t?this._safe_map:this._map;e.clamp();for(var a=[],r=0;r<o;r+=3)for(var s=(n[r>>>2]>>>24-r%4*8&255)<<16|(n[r+1>>>2]>>>24-(r+1)%4*8&255)<<8|n[r+2>>>2]>>>24-(r+2)%4*8&255,l=0;l<4&&r+.75*l<o;l++)a.push(i.charAt(s>>>6*(3-l)&63));var c=i.charAt(64);if(c)for(;a.length%4;)a.push(c);return a.join("")},parse:function(e,t){void 0===t&&(t=!0);var n=e.length,i=t?this._safe_map:this._map,a=this._reverseMap;if(!a){a=this._reverseMap=[];for(var r=0;r<i.length;r++)a[i.charCodeAt(r)]=r}var s=i.charAt(64);if(s){var l=e.indexOf(s);-1!==l&&(n=l)}return o(e,n,a)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"}}(),e.enc.Base64url},"object"==typeof n?t.exports=n=o(e("./core")):"function"==typeof define&&define.amd?define(["./core"],o):o(this.CryptoJS)},{"./core":8}],11:[function(e,t,n){var o;o=function(e){return function(){var t=e,n=t.lib.WordArray,o=t.enc;function i(e){return e<<8&4278255360|e>>>8&16711935}o.Utf16=o.Utf16BE={stringify:function(e){for(var t=e.words,n=e.sigBytes,o=[],i=0;i<n;i+=2){var a=t[i>>>2]>>>16-i%4*8&65535;o.push(String.fromCharCode(a))}return o.join("")},parse:function(e){for(var t=e.length,o=[],i=0;i<t;i++)o[i>>>1]|=e.charCodeAt(i)<<16-i%2*16;return n.create(o,2*t)}},o.Utf16LE={stringify:function(e){for(var t=e.words,n=e.sigBytes,o=[],a=0;a<n;a+=2){var r=i(t[a>>>2]>>>16-a%4*8&65535);o.push(String.fromCharCode(r))}return o.join("")},parse:function(e){for(var t=e.length,o=[],a=0;a<t;a++)o[a>>>1]|=i(e.charCodeAt(a)<<16-a%2*16);return n.create(o,2*t)}}}(),e.enc.Utf16},"object"==typeof n?t.exports=n=o(e("./core")):"function"==typeof define&&define.amd?define(["./core"],o):o(this.CryptoJS)},{"./core":8}],12:[function(e,t,n){var o;o=function(e){var t,n,o,i,a,r,s;return o=(n=(t=e).lib).Base,i=n.WordArray,r=(a=t.algo).MD5,s=a.EvpKDF=o.extend({cfg:o.extend({keySize:4,hasher:r,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n,o=this.cfg,a=o.hasher.create(),r=i.create(),s=r.words,l=o.keySize,c=o.iterations;s.length<l;){n&&a.update(n),n=a.update(e).finalize(t),a.reset();for(var u=1;u<c;u++)n=a.finalize(n),a.reset();r.concat(n)}return r.sigBytes=4*l,r}}),t.EvpKDF=function(e,t,n){return s.create(n).compute(e,t)},e.EvpKDF},"object"==typeof n?t.exports=n=o(e("./core"),e("./sha1"),e("./hmac")):"function"==typeof define&&define.amd?define(["./core","./sha1","./hmac"],o):o(this.CryptoJS)},{"./core":8,"./hmac":14,"./sha1":33}],13:[function(e,t,n){var o;o=function(e){var t,n,o;return n=(t=e).lib.CipherParams,o=t.enc.Hex,t.format.Hex={stringify:function(e){return e.ciphertext.toString(o)},parse:function(e){var t=o.parse(e);return n.create({ciphertext:t})}},e.format.Hex},"object"==typeof n?t.exports=n=o(e("./core"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],o):o(this.CryptoJS)},{"./cipher-core":7,"./core":8}],14:[function(e,t,n){var o;o=function(e){var t,n,o;n=(t=e).lib.Base,o=t.enc.Utf8,t.algo.HMAC=n.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=o.parse(t));var n=e.blockSize,i=4*n;t.sigBytes>i&&(t=e.finalize(t)),t.clamp();for(var a=this._oKey=t.clone(),r=this._iKey=t.clone(),s=a.words,l=r.words,c=0;c<n;c++)s[c]^=1549556828,l[c]^=909522486;a.sigBytes=r.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})},"object"==typeof n?t.exports=n=o(e("./core")):"function"==typeof define&&define.amd?define(["./core"],o):o(this.CryptoJS)},{"./core":8}],15:[function(e,t,n){var o;o=function(e){return e},"object"==typeof n?t.exports=n=o(e("./core"),e("./x64-core"),e("./lib-typedarrays"),e("./enc-utf16"),e("./enc-base64"),e("./enc-base64url"),e("./md5"),e("./sha1"),e("./sha256"),e("./sha224"),e("./sha512"),e("./sha384"),e("./sha3"),e("./ripemd160"),e("./hmac"),e("./pbkdf2"),e("./evpkdf"),e("./cipher-core"),e("./mode-cfb"),e("./mode-ctr"),e("./mode-ctr-gladman"),e("./mode-ofb"),e("./mode-ecb"),e("./pad-ansix923"),e("./pad-iso10126"),e("./pad-iso97971"),e("./pad-zeropadding"),e("./pad-nopadding"),e("./format-hex"),e("./aes"),e("./tripledes"),e("./rc4"),e("./rabbit"),e("./rabbit-legacy"),e("./blowfish")):"function"==typeof define&&define.amd?define(["./core","./x64-core","./lib-typedarrays","./enc-utf16","./enc-base64","./enc-base64url","./md5","./sha1","./sha256","./sha224","./sha512","./sha384","./sha3","./ripemd160","./hmac","./pbkdf2","./evpkdf","./cipher-core","./mode-cfb","./mode-ctr","./mode-ctr-gladman","./mode-ofb","./mode-ecb","./pad-ansix923","./pad-iso10126","./pad-iso97971","./pad-zeropadding","./pad-nopadding","./format-hex","./aes","./tripledes","./rc4","./rabbit","./rabbit-legacy","./blowfish"],o):this.CryptoJS=o(this.CryptoJS)},{"./aes":5,"./blowfish":6,"./cipher-core":7,"./core":8,"./enc-base64":9,"./enc-base64url":10,"./enc-utf16":11,"./evpkdf":12,"./format-hex":13,"./hmac":14,"./lib-typedarrays":16,"./md5":17,"./mode-cfb":18,"./mode-ctr":20,"./mode-ctr-gladman":19,"./mode-ecb":21,"./mode-ofb":22,"./pad-ansix923":23,"./pad-iso10126":24,"./pad-iso97971":25,"./pad-nopadding":26,"./pad-zeropadding":27,"./pbkdf2":28,"./rabbit":30,"./rabbit-legacy":29,"./rc4":31,"./ripemd160":32,"./sha1":33,"./sha224":34,"./sha256":35,"./sha3":36,"./sha384":37,"./sha512":38,"./tripledes":39,"./x64-core":40}],16:[function(e,t,n){var o;o=function(e){return function(){if("function"==typeof ArrayBuffer){var t=e.lib.WordArray,n=t.init;(t.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var t=e.byteLength,o=[],i=0;i<t;i++)o[i>>>2]|=e[i]<<24-i%4*8;n.call(this,o,t)}else n.apply(this,arguments)}).prototype=t}}(),e.lib.WordArray},"object"==typeof n?t.exports=n=o(e("./core")):"function"==typeof define&&define.amd?define(["./core"],o):o(this.CryptoJS)},{"./core":8}],17:[function(e,t,n){var o;o=function(e){return function(t){var n=e,o=n.lib,i=o.WordArray,a=o.Hasher,r=n.algo,s=[];(function(){for(var e=0;e<64;e++)s[e]=4294967296*t.abs(t.sin(e+1))|0})();var l=r.MD5=a.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var o=t+n,i=e[o];e[o]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var a=this._hash.words,r=e[t+0],l=e[t+1],d=e[t+2],f=e[t+3],g=e[t+4],m=e[t+5],y=e[t+6],_=e[t+7],v=e[t+8],b=e[t+9],S=e[t+10],C=e[t+11],I=e[t+12],R=e[t+13],L=e[t+14],P=e[t+15],M=a[0],T=a[1],E=a[2],A=a[3];M=c(M,T,E,A,r,7,s[0]),A=c(A,M,T,E,l,12,s[1]),E=c(E,A,M,T,d,17,s[2]),T=c(T,E,A,M,f,22,s[3]),M=c(M,T,E,A,g,7,s[4]),A=c(A,M,T,E,m,12,s[5]),E=c(E,A,M,T,y,17,s[6]),T=c(T,E,A,M,_,22,s[7]),M=c(M,T,E,A,v,7,s[8]),A=c(A,M,T,E,b,12,s[9]),E=c(E,A,M,T,S,17,s[10]),T=c(T,E,A,M,C,22,s[11]),M=c(M,T,E,A,I,7,s[12]),A=c(A,M,T,E,R,12,s[13]),E=c(E,A,M,T,L,17,s[14]),M=u(M,T=c(T,E,A,M,P,22,s[15]),E,A,l,5,s[16]),A=u(A,M,T,E,y,9,s[17]),E=u(E,A,M,T,C,14,s[18]),T=u(T,E,A,M,r,20,s[19]),M=u(M,T,E,A,m,5,s[20]),A=u(A,M,T,E,S,9,s[21]),E=u(E,A,M,T,P,14,s[22]),T=u(T,E,A,M,g,20,s[23]),M=u(M,T,E,A,b,5,s[24]),A=u(A,M,T,E,L,9,s[25]),E=u(E,A,M,T,f,14,s[26]),T=u(T,E,A,M,v,20,s[27]),M=u(M,T,E,A,R,5,s[28]),A=u(A,M,T,E,d,9,s[29]),E=u(E,A,M,T,_,14,s[30]),M=p(M,T=u(T,E,A,M,I,20,s[31]),E,A,m,4,s[32]),A=p(A,M,T,E,v,11,s[33]),E=p(E,A,M,T,C,16,s[34]),T=p(T,E,A,M,L,23,s[35]),M=p(M,T,E,A,l,4,s[36]),A=p(A,M,T,E,g,11,s[37]),E=p(E,A,M,T,_,16,s[38]),T=p(T,E,A,M,S,23,s[39]),M=p(M,T,E,A,R,4,s[40]),A=p(A,M,T,E,r,11,s[41]),E=p(E,A,M,T,f,16,s[42]),T=p(T,E,A,M,y,23,s[43]),M=p(M,T,E,A,b,4,s[44]),A=p(A,M,T,E,I,11,s[45]),E=p(E,A,M,T,P,16,s[46]),M=h(M,T=p(T,E,A,M,d,23,s[47]),E,A,r,6,s[48]),A=h(A,M,T,E,_,10,s[49]),E=h(E,A,M,T,L,15,s[50]),T=h(T,E,A,M,m,21,s[51]),M=h(M,T,E,A,I,6,s[52]),A=h(A,M,T,E,f,10,s[53]),E=h(E,A,M,T,S,15,s[54]),T=h(T,E,A,M,l,21,s[55]),M=h(M,T,E,A,v,6,s[56]),A=h(A,M,T,E,P,10,s[57]),E=h(E,A,M,T,y,15,s[58]),T=h(T,E,A,M,R,21,s[59]),M=h(M,T,E,A,g,6,s[60]),A=h(A,M,T,E,C,10,s[61]),E=h(E,A,M,T,d,15,s[62]),T=h(T,E,A,M,b,21,s[63]),a[0]=a[0]+M|0,a[1]=a[1]+T|0,a[2]=a[2]+E|0,a[3]=a[3]+A|0},_doFinalize:function(){var e=this._data,n=e.words,o=8*this._nDataBytes,i=8*e.sigBytes;n[i>>>5]|=128<<24-i%32;var a=t.floor(o/4294967296),r=o;n[15+(i+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),n[14+(i+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),e.sigBytes=4*(n.length+1),this._process();for(var s=this._hash,l=s.words,c=0;c<4;c++){var u=l[c];l[c]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return s},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});function c(e,t,n,o,i,a,r){var s=e+(t&n|~t&o)+i+r;return(s<<a|s>>>32-a)+t}function u(e,t,n,o,i,a,r){var s=e+(t&o|n&~o)+i+r;return(s<<a|s>>>32-a)+t}function p(e,t,n,o,i,a,r){var s=e+(t^n^o)+i+r;return(s<<a|s>>>32-a)+t}function h(e,t,n,o,i,a,r){var s=e+(n^(t|~o))+i+r;return(s<<a|s>>>32-a)+t}n.MD5=a._createHelper(l),n.HmacMD5=a._createHmacHelper(l)}(Math),e.MD5},"object"==typeof n?t.exports=n=o(e("./core")):"function"==typeof define&&define.amd?define(["./core"],o):o(this.CryptoJS)},{"./core":8}],18:[function(e,t,n){var o;o=function(e){return e.mode.CFB=function(){var t=e.lib.BlockCipherMode.extend();function n(e,t,n,o){var i,a=this._iv;a?(i=a.slice(0),this._iv=void 0):i=this._prevBlock,o.encryptBlock(i,0);for(var r=0;r<n;r++)e[t+r]^=i[r]}return t.Encryptor=t.extend({processBlock:function(e,t){var o=this._cipher,i=o.blockSize;n.call(this,e,t,i,o),this._prevBlock=e.slice(t,t+i)}}),t.Decryptor=t.extend({processBlock:function(e,t){var o=this._cipher,i=o.blockSize,a=e.slice(t,t+i);n.call(this,e,t,i,o),this._prevBlock=a}}),t}(),e.mode.CFB},"object"==typeof n?t.exports=n=o(e("./core"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],o):o(this.CryptoJS)},{"./cipher-core":7,"./core":8}],19:[function(e,t,n){var o;o=function(e){return e.mode.CTRGladman=function(){var t=e.lib.BlockCipherMode.extend();function n(e){if(255==(e>>24&255)){var t=e>>16&255,n=e>>8&255,o=255&e;255===t?(t=0,255===n?(n=0,255===o?o=0:++o):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=o}else e+=1<<24;return e}function o(e){return 0===(e[0]=n(e[0]))&&(e[1]=n(e[1])),e}var i=t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize,a=this._iv,r=this._counter;a&&(r=this._counter=a.slice(0),this._iv=void 0),o(r);var s=r.slice(0);n.encryptBlock(s,0);for(var l=0;l<i;l++)e[t+l]^=s[l]}});return t.Decryptor=i,t}(),e.mode.CTRGladman},"object"==typeof n?t.exports=n=o(e("./core"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],o):o(this.CryptoJS)},{"./cipher-core":7,"./core":8}],20:[function(e,t,n){var o;o=function(e){var t,n;return e.mode.CTR=(n=(t=e.lib.BlockCipherMode.extend()).Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,o=n.blockSize,i=this._iv,a=this._counter;i&&(a=this._counter=i.slice(0),this._iv=void 0);var r=a.slice(0);n.encryptBlock(r,0),a[o-1]=a[o-1]+1|0;for(var s=0;s<o;s++)e[t+s]^=r[s]}}),t.Decryptor=n,t),e.mode.CTR},"object"==typeof n?t.exports=n=o(e("./core"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],o):o(this.CryptoJS)},{"./cipher-core":7,"./core":8}],21:[function(e,t,n){var o;o=function(e){var t;return e.mode.ECB=((t=e.lib.BlockCipherMode.extend()).Encryptor=t.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),t.Decryptor=t.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),t),e.mode.ECB},"object"==typeof n?t.exports=n=o(e("./core"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],o):o(this.CryptoJS)},{"./cipher-core":7,"./core":8}],22:[function(e,t,n){var o;o=function(e){var t,n;return e.mode.OFB=(n=(t=e.lib.BlockCipherMode.extend()).Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,o=n.blockSize,i=this._iv,a=this._keystream;i&&(a=this._keystream=i.slice(0),this._iv=void 0),n.encryptBlock(a,0);for(var r=0;r<o;r++)e[t+r]^=a[r]}}),t.Decryptor=n,t),e.mode.OFB},"object"==typeof n?t.exports=n=o(e("./core"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],o):o(this.CryptoJS)},{"./cipher-core":7,"./core":8}],23:[function(e,t,n){var o;o=function(e){return e.pad.AnsiX923={pad:function(e,t){var n=e.sigBytes,o=4*t,i=o-n%o,a=n+i-1;e.clamp(),e.words[a>>>2]|=i<<24-a%4*8,e.sigBytes+=i},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Ansix923},"object"==typeof n?t.exports=n=o(e("./core"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],o):o(this.CryptoJS)},{"./cipher-core":7,"./core":8}],24:[function(e,t,n){var o;o=function(e){return e.pad.Iso10126={pad:function(t,n){var o=4*n,i=o-t.sigBytes%o;t.concat(e.lib.WordArray.random(i-1)).concat(e.lib.WordArray.create([i<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Iso10126},"object"==typeof n?t.exports=n=o(e("./core"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],o):o(this.CryptoJS)},{"./cipher-core":7,"./core":8}],25:[function(e,t,n){var o;o=function(e){return e.pad.Iso97971={pad:function(t,n){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,n)},unpad:function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--}},e.pad.Iso97971},"object"==typeof n?t.exports=n=o(e("./core"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],o):o(this.CryptoJS)},{"./cipher-core":7,"./core":8}],26:[function(e,t,n){var o;o=function(e){return e.pad.NoPadding={pad:function(){},unpad:function(){}},e.pad.NoPadding},"object"==typeof n?t.exports=n=o(e("./core"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],o):o(this.CryptoJS)},{"./cipher-core":7,"./core":8}],27:[function(e,t,n){var o;o=function(e){return e.pad.ZeroPadding={pad:function(e,t){var n=4*t;e.clamp(),e.sigBytes+=n-(e.sigBytes%n||n)},unpad:function(e){var t=e.words,n=e.sigBytes-1;for(n=e.sigBytes-1;n>=0;n--)if(t[n>>>2]>>>24-n%4*8&255){e.sigBytes=n+1;break}}},e.pad.ZeroPadding},"object"==typeof n?t.exports=n=o(e("./core"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],o):o(this.CryptoJS)},{"./cipher-core":7,"./core":8}],28:[function(e,t,n){var o;o=function(e){var t,n,o,i,a,r,s,l;return o=(n=(t=e).lib).Base,i=n.WordArray,r=(a=t.algo).SHA256,s=a.HMAC,l=a.PBKDF2=o.extend({cfg:o.extend({keySize:4,hasher:r,iterations:25e4}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,o=s.create(n.hasher,e),a=i.create(),r=i.create([1]),l=a.words,c=r.words,u=n.keySize,p=n.iterations;l.length<u;){var h=o.update(t).finalize(r);o.reset();for(var d=h.words,f=d.length,g=h,m=1;m<p;m++){g=o.finalize(g),o.reset();for(var y=g.words,_=0;_<f;_++)d[_]^=y[_]}a.concat(h),c[0]++}return a.sigBytes=4*u,a}}),t.PBKDF2=function(e,t,n){return l.create(n).compute(e,t)},e.PBKDF2},"object"==typeof n?t.exports=n=o(e("./core"),e("./sha256"),e("./hmac")):"function"==typeof define&&define.amd?define(["./core","./sha256","./hmac"],o):o(this.CryptoJS)},{"./core":8,"./hmac":14,"./sha256":35}],29:[function(e,t,n){var o;o=function(e){return function(){var t=e,n=t.lib.StreamCipher,o=t.algo,i=[],a=[],r=[],s=o.RabbitLegacy=n.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],o=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var i=0;i<4;i++)l.call(this);for(i=0;i<8;i++)o[i]^=n[i+4&7];if(t){var a=t.words,r=a[0],s=a[1],c=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),u=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),p=c>>>16|4294901760&u,h=u<<16|65535&c;for(o[0]^=c,o[1]^=p,o[2]^=u,o[3]^=h,o[4]^=c,o[5]^=p,o[6]^=u,o[7]^=h,i=0;i<4;i++)l.call(this)}},_doProcessBlock:function(e,t){var n=this._X;l.call(this),i[0]=n[0]^n[5]>>>16^n[3]<<16,i[1]=n[2]^n[7]>>>16^n[5]<<16,i[2]=n[4]^n[1]>>>16^n[7]<<16,i[3]=n[6]^n[3]>>>16^n[1]<<16;for(var o=0;o<4;o++)i[o]=16711935&(i[o]<<8|i[o]>>>24)|4278255360&(i[o]<<24|i[o]>>>8),e[t+o]^=i[o]},blockSize:4,ivSize:2});function l(){for(var e=this._X,t=this._C,n=0;n<8;n++)a[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<a[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<a[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<a[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<a[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<a[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<a[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<a[6]>>>0?1:0)|0,this._b=t[7]>>>0<a[7]>>>0?1:0,n=0;n<8;n++){var o=e[n]+t[n],i=65535&o,s=o>>>16,l=((i*i>>>17)+i*s>>>15)+s*s,c=((4294901760&o)*o|0)+((65535&o)*o|0);r[n]=l^c}e[0]=r[0]+(r[7]<<16|r[7]>>>16)+(r[6]<<16|r[6]>>>16)|0,e[1]=r[1]+(r[0]<<8|r[0]>>>24)+r[7]|0,e[2]=r[2]+(r[1]<<16|r[1]>>>16)+(r[0]<<16|r[0]>>>16)|0,e[3]=r[3]+(r[2]<<8|r[2]>>>24)+r[1]|0,e[4]=r[4]+(r[3]<<16|r[3]>>>16)+(r[2]<<16|r[2]>>>16)|0,e[5]=r[5]+(r[4]<<8|r[4]>>>24)+r[3]|0,e[6]=r[6]+(r[5]<<16|r[5]>>>16)+(r[4]<<16|r[4]>>>16)|0,e[7]=r[7]+(r[6]<<8|r[6]>>>24)+r[5]|0}t.RabbitLegacy=n._createHelper(s)}(),e.RabbitLegacy},"object"==typeof n?t.exports=n=o(e("./core"),e("./enc-base64"),e("./md5"),e("./evpkdf"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],o):o(this.CryptoJS)},{"./cipher-core":7,"./core":8,"./enc-base64":9,"./evpkdf":12,"./md5":17}],30:[function(e,t,n){var o;o=function(e){return function(){var t=e,n=t.lib.StreamCipher,o=t.algo,i=[],a=[],r=[],s=o.Rabbit=n.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,n=0;n<4;n++)e[n]=16711935&(e[n]<<8|e[n]>>>24)|4278255360&(e[n]<<24|e[n]>>>8);var o=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],i=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];for(this._b=0,n=0;n<4;n++)l.call(this);for(n=0;n<8;n++)i[n]^=o[n+4&7];if(t){var a=t.words,r=a[0],s=a[1],c=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),u=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),p=c>>>16|4294901760&u,h=u<<16|65535&c;for(i[0]^=c,i[1]^=p,i[2]^=u,i[3]^=h,i[4]^=c,i[5]^=p,i[6]^=u,i[7]^=h,n=0;n<4;n++)l.call(this)}},_doProcessBlock:function(e,t){var n=this._X;l.call(this),i[0]=n[0]^n[5]>>>16^n[3]<<16,i[1]=n[2]^n[7]>>>16^n[5]<<16,i[2]=n[4]^n[1]>>>16^n[7]<<16,i[3]=n[6]^n[3]>>>16^n[1]<<16;for(var o=0;o<4;o++)i[o]=16711935&(i[o]<<8|i[o]>>>24)|4278255360&(i[o]<<24|i[o]>>>8),e[t+o]^=i[o]},blockSize:4,ivSize:2});function l(){for(var e=this._X,t=this._C,n=0;n<8;n++)a[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<a[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<a[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<a[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<a[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<a[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<a[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<a[6]>>>0?1:0)|0,this._b=t[7]>>>0<a[7]>>>0?1:0,n=0;n<8;n++){var o=e[n]+t[n],i=65535&o,s=o>>>16,l=((i*i>>>17)+i*s>>>15)+s*s,c=((4294901760&o)*o|0)+((65535&o)*o|0);r[n]=l^c}e[0]=r[0]+(r[7]<<16|r[7]>>>16)+(r[6]<<16|r[6]>>>16)|0,e[1]=r[1]+(r[0]<<8|r[0]>>>24)+r[7]|0,e[2]=r[2]+(r[1]<<16|r[1]>>>16)+(r[0]<<16|r[0]>>>16)|0,e[3]=r[3]+(r[2]<<8|r[2]>>>24)+r[1]|0,e[4]=r[4]+(r[3]<<16|r[3]>>>16)+(r[2]<<16|r[2]>>>16)|0,e[5]=r[5]+(r[4]<<8|r[4]>>>24)+r[3]|0,e[6]=r[6]+(r[5]<<16|r[5]>>>16)+(r[4]<<16|r[4]>>>16)|0,e[7]=r[7]+(r[6]<<8|r[6]>>>24)+r[5]|0}t.Rabbit=n._createHelper(s)}(),e.Rabbit},"object"==typeof n?t.exports=n=o(e("./core"),e("./enc-base64"),e("./md5"),e("./evpkdf"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],o):o(this.CryptoJS)},{"./cipher-core":7,"./core":8,"./enc-base64":9,"./evpkdf":12,"./md5":17}],31:[function(e,t,n){var o;o=function(e){return function(){var t=e,n=t.lib.StreamCipher,o=t.algo,i=o.RC4=n.extend({_doReset:function(){for(var e=this._key,t=e.words,n=e.sigBytes,o=this._S=[],i=0;i<256;i++)o[i]=i;i=0;for(var a=0;i<256;i++){var r=i%n,s=t[r>>>2]>>>24-r%4*8&255;a=(a+o[i]+s)%256;var l=o[i];o[i]=o[a],o[a]=l}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=a.call(this)},keySize:8,ivSize:0});function a(){for(var e=this._S,t=this._i,n=this._j,o=0,i=0;i<4;i++){n=(n+e[t=(t+1)%256])%256;var a=e[t];e[t]=e[n],e[n]=a,o|=e[(e[t]+e[n])%256]<<24-8*i}return this._i=t,this._j=n,o}t.RC4=n._createHelper(i);var r=o.RC4Drop=i.extend({cfg:i.cfg.extend({drop:192}),_doReset:function(){i._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)a.call(this)}});t.RC4Drop=n._createHelper(r)}(),e.RC4},"object"==typeof n?t.exports=n=o(e("./core"),e("./enc-base64"),e("./md5"),e("./evpkdf"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],o):o(this.CryptoJS)},{"./cipher-core":7,"./core":8,"./enc-base64":9,"./evpkdf":12,"./md5":17}],32:[function(e,t,n){var o;o=function(e){return function(){var t=e,n=t.lib,o=n.WordArray,i=n.Hasher,a=t.algo,r=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),s=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),l=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),c=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),u=o.create([0,1518500249,1859775393,2400959708,2840853838]),p=o.create([1352829926,1548603684,1836072691,2053994217,0]),h=a.RIPEMD160=i.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var o=t+n,i=e[o];e[o]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var a,h,v,b,S,C,I,R,L,P,M,T=this._hash.words,E=u.words,A=p.words,w=r.words,O=s.words,G=l.words,N=c.words;for(C=a=T[0],I=h=T[1],R=v=T[2],L=b=T[3],P=S=T[4],n=0;n<80;n+=1)M=a+e[t+w[n]]|0,M+=n<16?d(h,v,b)+E[0]:n<32?f(h,v,b)+E[1]:n<48?g(h,v,b)+E[2]:n<64?m(h,v,b)+E[3]:y(h,v,b)+E[4],M=(M=_(M|=0,G[n]))+S|0,a=S,S=b,b=_(v,10),v=h,h=M,M=C+e[t+O[n]]|0,M+=n<16?y(I,R,L)+A[0]:n<32?m(I,R,L)+A[1]:n<48?g(I,R,L)+A[2]:n<64?f(I,R,L)+A[3]:d(I,R,L)+A[4],M=(M=_(M|=0,N[n]))+P|0,C=P,P=L,L=_(R,10),R=I,I=M;M=T[1]+v+L|0,T[1]=T[2]+b+P|0,T[2]=T[3]+S+C|0,T[3]=T[4]+a+I|0,T[4]=T[0]+h+R|0,T[0]=M},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,o=8*e.sigBytes;t[o>>>5]|=128<<24-o%32,t[14+(o+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process();for(var i=this._hash,a=i.words,r=0;r<5;r++){var s=a[r];a[r]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}return i},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});function d(e,t,n){return e^t^n}function f(e,t,n){return e&t|~e&n}function g(e,t,n){return(e|~t)^n}function m(e,t,n){return e&n|t&~n}function y(e,t,n){return e^(t|~n)}function _(e,t){return e<<t|e>>>32-t}t.RIPEMD160=i._createHelper(h),t.HmacRIPEMD160=i._createHmacHelper(h)}(Math),e.RIPEMD160},"object"==typeof n?t.exports=n=o(e("./core")):"function"==typeof define&&define.amd?define(["./core"],o):o(this.CryptoJS)},{"./core":8}],33:[function(e,t,n){var o;o=function(e){var t,n,o,i,a,r,s;return n=(t=e).lib,o=n.WordArray,i=n.Hasher,a=t.algo,r=[],s=a.SHA1=i.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,o=n[0],i=n[1],a=n[2],s=n[3],l=n[4],c=0;c<80;c++){if(c<16)r[c]=0|e[t+c];else{var u=r[c-3]^r[c-8]^r[c-14]^r[c-16];r[c]=u<<1|u>>>31}var p=(o<<5|o>>>27)+l+r[c];p+=c<20?1518500249+(i&a|~i&s):c<40?1859775393+(i^a^s):c<60?(i&a|i&s|a&s)-1894007588:(i^a^s)-899497514,l=s,s=a,a=i<<30|i>>>2,i=o,o=p}n[0]=n[0]+o|0,n[1]=n[1]+i|0,n[2]=n[2]+a|0,n[3]=n[3]+s|0,n[4]=n[4]+l|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,o=8*e.sigBytes;return t[o>>>5]|=128<<24-o%32,t[14+(o+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(o+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}}),t.SHA1=i._createHelper(s),t.HmacSHA1=i._createHmacHelper(s),e.SHA1},"object"==typeof n?t.exports=n=o(e("./core")):"function"==typeof define&&define.amd?define(["./core"],o):o(this.CryptoJS)},{"./core":8}],34:[function(e,t,n){var o;o=function(e){var t,n,o,i,a;return n=(t=e).lib.WordArray,o=t.algo,i=o.SHA256,a=o.SHA224=i.extend({_doReset:function(){this._hash=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=i._doFinalize.call(this);return e.sigBytes-=4,e}}),t.SHA224=i._createHelper(a),t.HmacSHA224=i._createHmacHelper(a),e.SHA224},"object"==typeof n?t.exports=n=o(e("./core"),e("./sha256")):"function"==typeof define&&define.amd?define(["./core","./sha256"],o):o(this.CryptoJS)},{"./core":8,"./sha256":35}],35:[function(e,t,n){var o;o=function(e){return function(t){var n=e,o=n.lib,i=o.WordArray,a=o.Hasher,r=n.algo,s=[],l=[];(function(){function e(e){for(var n=t.sqrt(e),o=2;o<=n;o++)if(!(e%o))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var o=2,i=0;i<64;)e(o)&&(i<8&&(s[i]=n(t.pow(o,.5))),l[i]=n(t.pow(o,1/3)),i++),o++})();var c=[],u=r.SHA256=a.extend({_doReset:function(){this._hash=new i.init(s.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,o=n[0],i=n[1],a=n[2],r=n[3],s=n[4],u=n[5],p=n[6],h=n[7],d=0;d<64;d++){if(d<16)c[d]=0|e[t+d];else{var f=c[d-15],g=(f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3,m=c[d-2],y=(m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10;c[d]=g+c[d-7]+y+c[d-16]}var _=o&i^o&a^i&a,v=(o<<30|o>>>2)^(o<<19|o>>>13)^(o<<10|o>>>22),b=h+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&u^~s&p)+l[d]+c[d];h=p,p=u,u=s,s=r+b|0,r=a,a=i,i=o,o=b+(v+_)|0}n[0]=n[0]+o|0,n[1]=n[1]+i|0,n[2]=n[2]+a|0,n[3]=n[3]+r|0,n[4]=n[4]+s|0,n[5]=n[5]+u|0,n[6]=n[6]+p|0,n[7]=n[7]+h|0},_doFinalize:function(){var e=this._data,n=e.words,o=8*this._nDataBytes,i=8*e.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=t.floor(o/4294967296),n[15+(i+64>>>9<<4)]=o,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});n.SHA256=a._createHelper(u),n.HmacSHA256=a._createHmacHelper(u)}(Math),e.SHA256},"object"==typeof n?t.exports=n=o(e("./core")):"function"==typeof define&&define.amd?define(["./core"],o):o(this.CryptoJS)},{"./core":8}],36:[function(e,t,n){var o;o=function(e){return function(t){var n=e,o=n.lib,i=o.WordArray,a=o.Hasher,r=n.x64.Word,s=n.algo,l=[],c=[],u=[];(function(){for(var e=1,t=0,n=0;n<24;n++){l[e+5*t]=(n+1)*(n+2)/2%64;var o=(2*e+3*t)%5;e=t%5,t=o}for(e=0;e<5;e++)for(t=0;t<5;t++)c[e+5*t]=t+(2*e+3*t)%5*5;for(var i=1,a=0;a<24;a++){for(var s=0,p=0,h=0;h<7;h++){if(1&i){var d=(1<<h)-1;d<32?p^=1<<d:s^=1<<d-32}128&i?i=i<<1^113:i<<=1}u[a]=r.create(s,p)}})();var p=[];(function(){for(var e=0;e<25;e++)p[e]=r.create()})();var h=s.SHA3=a.extend({cfg:a.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new r.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var n=this._state,o=this.blockSize/2,i=0;i<o;i++){var a=e[t+2*i],r=e[t+2*i+1];a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),r=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),(T=n[i]).high^=r,T.low^=a}for(var s=0;s<24;s++){for(var h=0;h<5;h++){for(var d=0,f=0,g=0;g<5;g++)d^=(T=n[h+5*g]).high,f^=T.low;var m=p[h];m.high=d,m.low=f}for(h=0;h<5;h++){var y=p[(h+4)%5],_=p[(h+1)%5],v=_.high,b=_.low;for(d=y.high^(v<<1|b>>>31),f=y.low^(b<<1|v>>>31),g=0;g<5;g++)(T=n[h+5*g]).high^=d,T.low^=f}for(var S=1;S<25;S++){var C=(T=n[S]).high,I=T.low,R=l[S];R<32?(d=C<<R|I>>>32-R,f=I<<R|C>>>32-R):(d=I<<R-32|C>>>64-R,f=C<<R-32|I>>>64-R);var L=p[c[S]];L.high=d,L.low=f}var P=p[0],M=n[0];for(P.high=M.high,P.low=M.low,h=0;h<5;h++)for(g=0;g<5;g++){var T=n[S=h+5*g],E=p[S],A=p[(h+1)%5+5*g],w=p[(h+2)%5+5*g];T.high=E.high^~A.high&w.high,T.low=E.low^~A.low&w.low}T=n[0];var O=u[s];T.high^=O.high,T.low^=O.low}},_doFinalize:function(){var e=this._data,n=e.words,o=(this._nDataBytes,8*e.sigBytes),a=32*this.blockSize;n[o>>>5]|=1<<24-o%32,n[(t.ceil((o+1)/a)*a>>>5)-1]|=128,e.sigBytes=4*n.length,this._process();for(var r=this._state,s=this.cfg.outputLength/8,l=s/8,c=[],u=0;u<l;u++){var p=r[u],h=p.high,d=p.low;h=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8),d=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),c.push(d),c.push(h)}return new i.init(c,s)},clone:function(){for(var e=a.clone.call(this),t=e._state=this._state.slice(0),n=0;n<25;n++)t[n]=t[n].clone();return e}});n.SHA3=a._createHelper(h),n.HmacSHA3=a._createHmacHelper(h)}(Math),e.SHA3},"object"==typeof n?t.exports=n=o(e("./core"),e("./x64-core")):"function"==typeof define&&define.amd?define(["./core","./x64-core"],o):o(this.CryptoJS)},{"./core":8,"./x64-core":40}],37:[function(e,t,n){var o;o=function(e){var t,n,o,i,a,r,s;return n=(t=e).x64,o=n.Word,i=n.WordArray,a=t.algo,r=a.SHA512,s=a.SHA384=r.extend({_doReset:function(){this._hash=new i.init([new o.init(3418070365,3238371032),new o.init(1654270250,914150663),new o.init(2438529370,812702999),new o.init(355462360,4144912697),new o.init(1731405415,4290775857),new o.init(2394180231,1750603025),new o.init(3675008525,1694076839),new o.init(1203062813,3204075428)])},_doFinalize:function(){var e=r._doFinalize.call(this);return e.sigBytes-=16,e}}),t.SHA384=r._createHelper(s),t.HmacSHA384=r._createHmacHelper(s),e.SHA384},"object"==typeof n?t.exports=n=o(e("./core"),e("./x64-core"),e("./sha512")):"function"==typeof define&&define.amd?define(["./core","./x64-core","./sha512"],o):o(this.CryptoJS)},{"./core":8,"./sha512":38,"./x64-core":40}],38:[function(e,t,n){var o;o=function(e){return function(){var t=e,n=t.lib.Hasher,o=t.x64,i=o.Word,a=o.WordArray,r=t.algo;function s(){return i.create.apply(i,arguments)}var l=[s(1116352408,3609767458),s(1899447441,602891725),s(3049323471,3964484399),s(3921009573,2173295548),s(961987163,4081628472),s(1508970993,3053834265),s(2453635748,2937671579),s(2870763221,3664609560),s(3624381080,2734883394),s(310598401,1164996542),s(607225278,1323610764),s(1426881987,3590304994),s(1925078388,4068182383),s(2162078206,991336113),s(2614888103,633803317),s(3248222580,3479774868),s(3835390401,2666613458),s(4022224774,944711139),s(264347078,2341262773),s(604807628,2007800933),s(770255983,1495990901),s(1249150122,1856431235),s(1555081692,3175218132),s(1996064986,2198950837),s(2554220882,3999719339),s(2821834349,766784016),s(2952996808,2566594879),s(3210313671,3203337956),s(3336571891,1034457026),s(3584528711,2466948901),s(113926993,3758326383),s(338241895,168717936),s(666307205,1188179964),s(773529912,1546045734),s(1294757372,1522805485),s(1396182291,2643833823),s(1695183700,2343527390),s(1986661051,1014477480),s(2177026350,1206759142),s(2456956037,344077627),s(2730485921,1290863460),s(2820302411,3158454273),s(3259730800,3505952657),s(3345764771,106217008),s(3516065817,3606008344),s(3600352804,1432725776),s(4094571909,1467031594),s(275423344,851169720),s(430227734,3100823752),s(506948616,1363258195),s(659060556,3750685593),s(883997877,3785050280),s(958139571,3318307427),s(1322822218,3812723403),s(1537002063,2003034995),s(1747873779,3602036899),s(1955562222,1575990012),s(2024104815,1125592928),s(2227730452,2716904306),s(2361852424,442776044),s(2428436474,593698344),s(2756734187,3733110249),s(3204031479,2999351573),s(3329325298,3815920427),s(3391569614,3928383900),s(3515267271,566280711),s(3940187606,3454069534),s(4118630271,4000239992),s(116418474,1914138554),s(174292421,2731055270),s(289380356,3203993006),s(460393269,320620315),s(685471733,587496836),s(852142971,1086792851),s(1017036298,365543100),s(1126000580,2618297676),s(1288033470,3409855158),s(1501505948,4234509866),s(1607167915,987167468),s(1816402316,1246189591)],c=[];(function(){for(var e=0;e<80;e++)c[e]=s()})();var u=r.SHA512=n.extend({_doReset:function(){this._hash=new a.init([new i.init(1779033703,4089235720),new i.init(3144134277,2227873595),new i.init(1013904242,4271175723),new i.init(2773480762,1595750129),new i.init(1359893119,2917565137),new i.init(2600822924,725511199),new i.init(528734635,4215389547),new i.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n=this._hash.words,o=n[0],i=n[1],a=n[2],r=n[3],s=n[4],u=n[5],p=n[6],h=n[7],d=o.high,f=o.low,g=i.high,m=i.low,y=a.high,_=a.low,v=r.high,b=r.low,S=s.high,C=s.low,I=u.high,R=u.low,L=p.high,P=p.low,M=h.high,T=h.low,E=d,A=f,w=g,O=m,G=y,N=_,D=v,B=b,U=S,k=C,x=I,F=R,H=L,j=P,W=M,V=T,Y=0;Y<80;Y++){var z,K,q=c[Y];if(Y<16)K=q.high=0|e[t+2*Y],z=q.low=0|e[t+2*Y+1];else{var J=c[Y-15],X=J.high,Z=J.low,Q=(X>>>1|Z<<31)^(X>>>8|Z<<24)^X>>>7,$=(Z>>>1|X<<31)^(Z>>>8|X<<24)^(Z>>>7|X<<25),ee=c[Y-2],te=ee.high,ne=ee.low,oe=(te>>>19|ne<<13)^(te<<3|ne>>>29)^te>>>6,ie=(ne>>>19|te<<13)^(ne<<3|te>>>29)^(ne>>>6|te<<26),ae=c[Y-7],re=ae.high,se=ae.low,le=c[Y-16],ce=le.high,ue=le.low;K=(K=(K=Q+re+((z=$+se)>>>0<$>>>0?1:0))+oe+((z+=ie)>>>0<ie>>>0?1:0))+ce+((z+=ue)>>>0<ue>>>0?1:0),q.high=K,q.low=z}var pe,he=U&x^~U&H,de=k&F^~k&j,fe=E&w^E&G^w&G,ge=A&O^A&N^O&N,me=(E>>>28|A<<4)^(E<<30|A>>>2)^(E<<25|A>>>7),ye=(A>>>28|E<<4)^(A<<30|E>>>2)^(A<<25|E>>>7),_e=(U>>>14|k<<18)^(U>>>18|k<<14)^(U<<23|k>>>9),ve=(k>>>14|U<<18)^(k>>>18|U<<14)^(k<<23|U>>>9),be=l[Y],Se=be.high,Ce=be.low,Ie=W+_e+((pe=V+ve)>>>0<V>>>0?1:0),Re=ye+ge;W=H,V=j,H=x,j=F,x=U,F=k,U=D+(Ie=(Ie=(Ie=Ie+he+((pe+=de)>>>0<de>>>0?1:0))+Se+((pe+=Ce)>>>0<Ce>>>0?1:0))+K+((pe+=z)>>>0<z>>>0?1:0))+((k=B+pe|0)>>>0<B>>>0?1:0)|0,D=G,B=N,G=w,N=O,w=E,O=A,E=Ie+(me+fe+(Re>>>0<ye>>>0?1:0))+((A=pe+Re|0)>>>0<pe>>>0?1:0)|0}f=o.low=f+A,o.high=d+E+(f>>>0<A>>>0?1:0),m=i.low=m+O,i.high=g+w+(m>>>0<O>>>0?1:0),_=a.low=_+N,a.high=y+G+(_>>>0<N>>>0?1:0),b=r.low=b+B,r.high=v+D+(b>>>0<B>>>0?1:0),C=s.low=C+k,s.high=S+U+(C>>>0<k>>>0?1:0),R=u.low=R+F,u.high=I+x+(R>>>0<F>>>0?1:0),P=p.low=P+j,p.high=L+H+(P>>>0<j>>>0?1:0),T=h.low=T+V,h.high=M+W+(T>>>0<V>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,o=8*e.sigBytes;return t[o>>>5]|=128<<24-o%32,t[30+(o+128>>>10<<5)]=Math.floor(n/4294967296),t[31+(o+128>>>10<<5)]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});t.SHA512=n._createHelper(u),t.HmacSHA512=n._createHmacHelper(u)}(),e.SHA512},"object"==typeof n?t.exports=n=o(e("./core"),e("./x64-core")):"function"==typeof define&&define.amd?define(["./core","./x64-core"],o):o(this.CryptoJS)},{"./core":8,"./x64-core":40}],39:[function(e,t,n){var o;o=function(e){return function(){var t=e,n=t.lib,o=n.WordArray,i=n.BlockCipher,a=t.algo,r=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],c=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],u=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],p=a.DES=i.extend({_doReset:function(){for(var e=this._key.words,t=[],n=0;n<56;n++){var o=r[n]-1;t[n]=e[o>>>5]>>>31-o%32&1}for(var i=this._subKeys=[],a=0;a<16;a++){var c=i[a]=[],u=l[a];for(n=0;n<24;n++)c[n/6|0]|=t[(s[n]-1+u)%28]<<31-n%6,c[4+(n/6|0)]|=t[28+(s[n+24]-1+u)%28]<<31-n%6;for(c[0]=c[0]<<1|c[0]>>>31,n=1;n<7;n++)c[n]=c[n]>>>4*(n-1)+3;c[7]=c[7]<<5|c[7]>>>27}var p=this._invSubKeys=[];for(n=0;n<16;n++)p[n]=i[15-n]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,n){this._lBlock=e[t],this._rBlock=e[t+1],h.call(this,4,252645135),h.call(this,16,65535),d.call(this,2,858993459),d.call(this,8,16711935),h.call(this,1,1431655765);for(var o=0;o<16;o++){for(var i=n[o],a=this._lBlock,r=this._rBlock,s=0,l=0;l<8;l++)s|=c[l][((r^i[l])&u[l])>>>0];this._lBlock=r,this._rBlock=a^s}var p=this._lBlock;this._lBlock=this._rBlock,this._rBlock=p,h.call(this,1,1431655765),d.call(this,8,16711935),d.call(this,2,858993459),h.call(this,16,65535),h.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function h(e,t){var n=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=n,this._lBlock^=n<<e}function d(e,t){var n=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=n,this._rBlock^=n<<e}t.DES=i._createHelper(p);var f=a.TripleDES=i.extend({_doReset:function(){var e=this._key.words;if(2!==e.length&&4!==e.length&&e.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var t=e.slice(0,2),n=e.length<4?e.slice(0,2):e.slice(2,4),i=e.length<6?e.slice(0,2):e.slice(4,6);this._des1=p.createEncryptor(o.create(t)),this._des2=p.createEncryptor(o.create(n)),this._des3=p.createEncryptor(o.create(i))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});t.TripleDES=i._createHelper(f)}(),e.TripleDES},"object"==typeof n?t.exports=n=o(e("./core"),e("./enc-base64"),e("./md5"),e("./evpkdf"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],o):o(this.CryptoJS)},{"./cipher-core":7,"./core":8,"./enc-base64":9,"./evpkdf":12,"./md5":17}],40:[function(e,t,n){var o;o=function(e){var t,n,o,i,a;return n=(t=e).lib,o=n.Base,i=n.WordArray,(a=t.x64={}).Word=o.extend({init:function(e,t){this.high=e,this.low=t}}),a.WordArray=o.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,n=[],o=0;o<t;o++){var a=e[o];n.push(a.high),n.push(a.low)}return i.create(n,this.sigBytes)},clone:function(){for(var e=o.clone.call(this),t=e.words=this.words.slice(0),n=t.length,i=0;i<n;i++)t[i]=t[i].clone();return e}}),e},"object"==typeof n?t.exports=n=o(e("./core")):"function"==typeof define&&define.amd?define(["./core"],o):o(this.CryptoJS)},{"./core":8}],41:[function(e,t,n){var o,i;o=this,i=function(){"use strict";var e="millisecond",t="second",n="minute",o="hour",i="day",a="week",r="month",s="quarter",l="year",c="date",u="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,h=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,d={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},f=function(e,t,n){var o=String(e);return!o||o.length>=t?e:""+Array(t+1-o.length).join(n)+e},g={s:f,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),o=Math.floor(n/60),i=n%60;return(t<=0?"+":"-")+f(o,2,"0")+":"+f(i,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var o=12*(n.year()-t.year())+(n.month()-t.month()),i=t.clone().add(o,r),a=n-i<0,s=t.clone().add(o+(a?-1:1),r);return+(-(o+(n-i)/(a?i-s:s-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(u){return{M:r,y:l,w:a,d:i,D:c,h:o,m:n,s:t,ms:e,Q:s}[u]||String(u||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},m="en",y={};y[m]=d;var _="$isDayjsObject",v=function(e){return e instanceof I||!(!e||!e[_])},b=function e(t,n,o){var i;if(!t)return m;if("string"==typeof t){var a=t.toLowerCase();y[a]&&(i=a),n&&(y[a]=n,i=a);var r=t.split("-");if(!i&&r.length>1)return e(r[0])}else{var s=t.name;y[s]=t,i=s}return!o&&i&&(m=i),i||!o&&m},S=function(e,t){if(v(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new I(n)},C=g;C.l=b,C.i=v,C.w=function(e,t){return S(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var I=function(){function d(e){this.$L=b(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[_]=!0}var f=d.prototype;return f.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(C.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var o=t.match(p);if(o){var i=o[2]-1||0,a=(o[7]||"0").substring(0,3);return n?new Date(Date.UTC(o[1],i,o[3]||1,o[4]||0,o[5]||0,o[6]||0,a)):new Date(o[1],i,o[3]||1,o[4]||0,o[5]||0,o[6]||0,a)}}return new Date(t)}(e),this.init()},f.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},f.$utils=function(){return C},f.isValid=function(){return!(this.$d.toString()===u)},f.isSame=function(e,t){var n=S(e);return this.startOf(t)<=n&&n<=this.endOf(t)},f.isAfter=function(e,t){return S(e)<this.startOf(t)},f.isBefore=function(e,t){return this.endOf(t)<S(e)},f.$g=function(e,t,n){return C.u(e)?this[t]:this.set(n,e)},f.unix=function(){return Math.floor(this.valueOf()/1e3)},f.valueOf=function(){return this.$d.getTime()},f.startOf=function(e,s){var u=this,p=!!C.u(s)||s,h=C.p(e),d=function(e,t){var n=C.w(u.$u?Date.UTC(u.$y,t,e):new Date(u.$y,t,e),u);return p?n:n.endOf(i)},f=function(e,t){return C.w(u.toDate()[e].apply(u.toDate("s"),(p?[0,0,0,0]:[23,59,59,999]).slice(t)),u)},g=this.$W,m=this.$M,y=this.$D,_="set"+(this.$u?"UTC":"");switch(h){case l:return p?d(1,0):d(31,11);case r:return p?d(1,m):d(0,m+1);case a:var v=this.$locale().weekStart||0,b=(g<v?g+7:g)-v;return d(p?y-b:y+(6-b),m);case i:case c:return f(_+"Hours",0);case o:return f(_+"Minutes",1);case n:return f(_+"Seconds",2);case t:return f(_+"Milliseconds",3);default:return this.clone()}},f.endOf=function(e){return this.startOf(e,!1)},f.$set=function(a,s){var u,p=C.p(a),h="set"+(this.$u?"UTC":""),d=(u={},u[i]=h+"Date",u[c]=h+"Date",u[r]=h+"Month",u[l]=h+"FullYear",u[o]=h+"Hours",u[n]=h+"Minutes",u[t]=h+"Seconds",u[e]=h+"Milliseconds",u)[p],f=p===i?this.$D+(s-this.$W):s;if(p===r||p===l){var g=this.clone().set(c,1);g.$d[d](f),g.init(),this.$d=g.set(c,Math.min(this.$D,g.daysInMonth())).$d}else d&&this.$d[d](f);return this.init(),this},f.set=function(e,t){return this.clone().$set(e,t)},f.get=function(e){return this[C.p(e)]()},f.add=function(e,s){var c,u=this;e=Number(e);var p=C.p(s),h=function(t){var n=S(u);return C.w(n.date(n.date()+Math.round(t*e)),u)};if(p===r)return this.set(r,this.$M+e);if(p===l)return this.set(l,this.$y+e);if(p===i)return h(1);if(p===a)return h(7);var d=(c={},c[n]=6e4,c[o]=36e5,c[t]=1e3,c)[p]||1,f=this.$d.getTime()+e*d;return C.w(f,this)},f.subtract=function(e,t){return this.add(-1*e,t)},f.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||u;var o=e||"YYYY-MM-DDTHH:mm:ssZ",i=C.z(this),a=this.$H,r=this.$m,s=this.$M,l=n.weekdays,c=n.months,p=n.meridiem,d=function(e,n,i,a){return e&&(e[n]||e(t,o))||i[n].slice(0,a)},f=function(e){return C.s(a%12||12,e,"0")},g=p||function(e,t,n){var o=e<12?"AM":"PM";return n?o.toLowerCase():o};return o.replace(h,function(e,o){return o||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return C.s(t.$y,4,"0");case"M":return s+1;case"MM":return C.s(s+1,2,"0");case"MMM":return d(n.monthsShort,s,c,3);case"MMMM":return d(c,s);case"D":return t.$D;case"DD":return C.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return d(n.weekdaysMin,t.$W,l,2);case"ddd":return d(n.weekdaysShort,t.$W,l,3);case"dddd":return l[t.$W];case"H":return String(a);case"HH":return C.s(a,2,"0");case"h":return f(1);case"hh":return f(2);case"a":return g(a,r,!0);case"A":return g(a,r,!1);case"m":return String(r);case"mm":return C.s(r,2,"0");case"s":return String(t.$s);case"ss":return C.s(t.$s,2,"0");case"SSS":return C.s(t.$ms,3,"0");case"Z":return i}return null}(e)||i.replace(":","")})},f.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},f.diff=function(e,c,u){var p,h=this,d=C.p(c),f=S(e),g=6e4*(f.utcOffset()-this.utcOffset()),m=this-f,y=function(){return C.m(h,f)};switch(d){case l:p=y()/12;break;case r:p=y();break;case s:p=y()/3;break;case a:p=(m-g)/6048e5;break;case i:p=(m-g)/864e5;break;case o:p=m/36e5;break;case n:p=m/6e4;break;case t:p=m/1e3;break;default:p=m}return u?p:C.a(p)},f.daysInMonth=function(){return this.endOf(r).$D},f.$locale=function(){return y[this.$L]},f.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),o=b(e,t,!0);return o&&(n.$L=o),n},f.clone=function(){return C.w(this.$d,this)},f.toDate=function(){return new Date(this.valueOf())},f.toJSON=function(){return this.isValid()?this.toISOString():null},f.toISOString=function(){return this.$d.toISOString()},f.toString=function(){return this.$d.toUTCString()},d}(),R=I.prototype;return S.prototype=R,[["$ms",e],["$s",t],["$m",n],["$H",o],["$W",i],["$M",r],["$y",l],["$D",c]].forEach(function(e){R[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),S.extend=function(e,t){return e.$i||(e(t,I,S),e.$i=!0),S},S.locale=b,S.isDayjs=v,S.unix=function(e){return S(1e3*e)},S.en=y[m],S.Ls=y,S.p={},S},"object"==typeof n&&void 0!==t?t.exports=i():"function"==typeof define&&define.amd?define(i):(o="undefined"!=typeof globalThis?globalThis:o||self).dayjs=i()},{}],42:[function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function o(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}t.exports=function(e){return null!=e&&(n(e)||o(e)||!!e._isBuffer)}},{}],43:[function(e,t,n){var o=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(M){}function n(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function o(e){return!0===(e&&e.__isLong__)}function i(e){var t=Math.clz32(e&-e);return e?31-t:t}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=o;var a={},r={};function s(e,t){var n,o,i;return t?(i=0<=(e>>>=0)&&e<256)&&(o=r[e])?o:(n=c(e,0,!0),i&&(r[e]=n),n):(i=-128<=(e|=0)&&e<128)&&(o=a[e])?o:(n=c(e,e<0?-1:0,!1),i&&(a[e]=n),n)}function l(e,t){if(isNaN(e))return t?_:y;if(t){if(e<0)return _;if(e>=f)return I}else{if(e<=-g)return R;if(e+1>=g)return C}return e<0?l(-e,t).neg():c(e%d|0,e/d|0,t)}function c(e,t,o){return new n(e,t,o)}n.fromInt=s,n.fromNumber=l,n.fromBits=c;var u=Math.pow;function p(e,t,n){if(0===e.length)throw Error("empty string");if("number"==typeof t?(n=t,t=!1):t=!!t,"NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return t?_:y;if((n=n||10)<2||36<n)throw RangeError("radix");var o;if((o=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===o)return p(e.substring(1),t,n).neg();for(var i=l(u(n,8)),a=y,r=0;r<e.length;r+=8){var s=Math.min(8,e.length-r),c=parseInt(e.substring(r,r+s),n);if(s<8){var h=l(u(n,s));a=a.mul(h).add(l(c))}else a=(a=a.mul(i)).add(l(c))}return a.unsigned=t,a}function h(e,t){return"number"==typeof e?l(e,t):"string"==typeof e?p(e,t):c(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}n.fromString=p,n.fromValue=h;var d=4294967296,f=d*d,g=f/2,m=s(1<<24),y=s(0);n.ZERO=y;var _=s(0,!0);n.UZERO=_;var v=s(1);n.ONE=v;var b=s(1,!0);n.UONE=b;var S=s(-1);n.NEG_ONE=S;var C=c(-1,2147483647,!1);n.MAX_VALUE=C;var I=c(-1,-1,!0);n.MAX_UNSIGNED_VALUE=I;var R=c(0,-2147483648,!1);n.MIN_VALUE=R;var L=n.prototype;L.toInt=function(){return this.unsigned?this.low>>>0:this.low},L.toNumber=function(){return this.unsigned?(this.high>>>0)*d+(this.low>>>0):this.high*d+(this.low>>>0)},L.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(R)){var t=l(e),n=this.div(t),o=n.mul(t).sub(this);return n.toString(e)+o.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=l(u(e,6),this.unsigned),a=this,r="";;){var s=a.div(i),c=(a.sub(s.mul(i)).toInt()>>>0).toString(e);if((a=s).isZero())return c+r;for(;c.length<6;)c="0"+c;r=""+c+r}},L.getHighBits=function(){return this.high},L.getHighBitsUnsigned=function(){return this.high>>>0},L.getLowBits=function(){return this.low},L.getLowBitsUnsigned=function(){return this.low>>>0},L.getNumBitsAbs=function(){if(this.isNegative())return this.eq(R)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},L.isZero=function(){return 0===this.high&&0===this.low},L.eqz=L.isZero,L.isNegative=function(){return!this.unsigned&&this.high<0},L.isPositive=function(){return this.unsigned||this.high>=0},L.isOdd=function(){return 1==(1&this.low)},L.isEven=function(){return 0==(1&this.low)},L.equals=function(e){return o(e)||(e=h(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},L.eq=L.equals,L.notEquals=function(e){return!this.eq(e)},L.neq=L.notEquals,L.ne=L.notEquals,L.lessThan=function(e){return this.comp(e)<0},L.lt=L.lessThan,L.lessThanOrEqual=function(e){return this.comp(e)<=0},L.lte=L.lessThanOrEqual,L.le=L.lessThanOrEqual,L.greaterThan=function(e){return this.comp(e)>0},L.gt=L.greaterThan,L.greaterThanOrEqual=function(e){return this.comp(e)>=0},L.gte=L.greaterThanOrEqual,L.ge=L.greaterThanOrEqual,L.compare=function(e){if(o(e)||(e=h(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},L.comp=L.compare,L.negate=function(){return!this.unsigned&&this.eq(R)?R:this.not().add(v)},L.neg=L.negate,L.add=function(e){o(e)||(e=h(e));var t=this.high>>>16,n=65535&this.high,i=this.low>>>16,a=65535&this.low,r=e.high>>>16,s=65535&e.high,l=e.low>>>16,u=0,p=0,d=0,f=0;return d+=(f+=a+(65535&e.low))>>>16,p+=(d+=i+l)>>>16,u+=(p+=n+s)>>>16,u+=t+r,c((d&=65535)<<16|(f&=65535),(u&=65535)<<16|(p&=65535),this.unsigned)},L.subtract=function(e){return o(e)||(e=h(e)),this.add(e.neg())},L.sub=L.subtract,L.multiply=function(e){if(this.isZero())return this;if(o(e)||(e=h(e)),t)return c(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return this.unsigned?_:y;if(this.eq(R))return e.isOdd()?R:y;if(e.eq(R))return this.isOdd()?R:y;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(m)&&e.lt(m))return l(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,a=this.low>>>16,r=65535&this.low,s=e.high>>>16,u=65535&e.high,p=e.low>>>16,d=65535&e.low,f=0,g=0,v=0,b=0;return v+=(b+=r*d)>>>16,g+=(v+=a*d)>>>16,v&=65535,g+=(v+=r*p)>>>16,f+=(g+=i*d)>>>16,g&=65535,f+=(g+=a*p)>>>16,g&=65535,f+=(g+=r*u)>>>16,f+=n*d+i*p+a*u+r*s,c((v&=65535)<<16|(b&=65535),(f&=65535)<<16|(g&=65535),this.unsigned)},L.mul=L.multiply,L.divide=function(e){if(o(e)||(e=h(e)),e.isZero())throw Error("division by zero");var n,i,a;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?c((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?_:y;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return _;if(e.gt(this.shru(1)))return b;a=_}else{if(this.eq(R))return e.eq(v)||e.eq(S)?R:e.eq(R)?v:(n=this.shr(1).div(e).shl(1)).eq(y)?e.isNegative()?v:S:(i=this.sub(e.mul(n)),a=n.add(i.div(e)));if(e.eq(R))return this.unsigned?_:y;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();a=y}for(i=this;i.gte(e);){n=Math.max(1,Math.floor(i.toNumber()/e.toNumber()));for(var r=Math.ceil(Math.log(n)/Math.LN2),s=r<=48?1:u(2,r-48),p=l(n),d=p.mul(e);d.isNegative()||d.gt(i);)d=(p=l(n-=s,this.unsigned)).mul(e);p.isZero()&&(p=v),a=a.add(p),i=i.sub(d)}return a},L.div=L.divide,L.modulo=function(e){return o(e)||(e=h(e)),t?c((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},L.mod=L.modulo,L.rem=L.modulo,L.not=function(){return c(~this.low,~this.high,this.unsigned)},L.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},L.clz=L.countLeadingZeros,L.countTrailingZeros=function(){return this.low?i(this.low):i(this.high)+32},L.ctz=L.countTrailingZeros,L.and=function(e){return o(e)||(e=h(e)),c(this.low&e.low,this.high&e.high,this.unsigned)},L.or=function(e){return o(e)||(e=h(e)),c(this.low|e.low,this.high|e.high,this.unsigned)},L.xor=function(e){return o(e)||(e=h(e)),c(this.low^e.low,this.high^e.high,this.unsigned)},L.shiftLeft=function(e){return o(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):c(0,this.low<<e-32,this.unsigned)},L.shl=L.shiftLeft,L.shiftRight=function(e){return o(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):c(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},L.shr=L.shiftRight,L.shiftRightUnsigned=function(e){return o(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned):c(32===e?this.high:this.high>>>e-32,0,this.unsigned)},L.shru=L.shiftRightUnsigned,L.shr_u=L.shiftRightUnsigned,L.rotateLeft=function(e){var t;return o(e)&&(e=e.toInt()),0==(e&=63)?this:32===e?c(this.high,this.low,this.unsigned):e<32?(t=32-e,c(this.low<<e|this.high>>>t,this.high<<e|this.low>>>t,this.unsigned)):(t=32-(e-=32),c(this.high<<e|this.low>>>t,this.low<<e|this.high>>>t,this.unsigned))},L.rotl=L.rotateLeft,L.rotateRight=function(e){var t;return o(e)&&(e=e.toInt()),0==(e&=63)?this:32===e?c(this.high,this.low,this.unsigned):e<32?(t=32-e,c(this.high<<t|this.low>>>e,this.low<<t|this.high>>>e,this.unsigned)):(t=32-(e-=32),c(this.low<<t|this.high>>>e,this.high<<t|this.low>>>e,this.unsigned))},L.rotr=L.rotateRight,L.toSigned=function(){return this.unsigned?c(this.low,this.high,!1):this},L.toUnsigned=function(){return this.unsigned?this:c(this.low,this.high,!0)},L.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},L.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},L.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,o){return o?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)};var P=n;return e.default=P,"default"in e?e.default:e}({});"function"==typeof define&&define.amd?define([],function(){return o}):"object"==typeof t&&"object"==typeof n&&(t.exports=o)},{}],44:[function(e,t){(function(){var n=e("crypt"),o=e("charenc").utf8,i=e("is-buffer"),a=e("charenc").bin,r=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?a.stringToBytes(e):o.stringToBytes(e):i(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var s=n.bytesToWords(e),l=8*e.length,c=1732584193,u=-271733879,p=-1732584194,h=271733878,d=0;d<s.length;d++)s[d]=16711935&(s[d]<<8|s[d]>>>24)|4278255360&(s[d]<<24|s[d]>>>8);s[l>>>5]|=128<<l%32,s[14+(l+64>>>9<<4)]=l;var f=r._ff,g=r._gg,m=r._hh,y=r._ii;for(d=0;d<s.length;d+=16){var _=c,v=u,b=p,S=h;c=f(c,u,p,h,s[d+0],7,-680876936),h=f(h,c,u,p,s[d+1],12,-389564586),p=f(p,h,c,u,s[d+2],17,606105819),u=f(u,p,h,c,s[d+3],22,-1044525330),c=f(c,u,p,h,s[d+4],7,-176418897),h=f(h,c,u,p,s[d+5],12,1200080426),p=f(p,h,c,u,s[d+6],17,-1473231341),u=f(u,p,h,c,s[d+7],22,-45705983),c=f(c,u,p,h,s[d+8],7,1770035416),h=f(h,c,u,p,s[d+9],12,-1958414417),p=f(p,h,c,u,s[d+10],17,-42063),u=f(u,p,h,c,s[d+11],22,-1990404162),c=f(c,u,p,h,s[d+12],7,1804603682),h=f(h,c,u,p,s[d+13],12,-40341101),p=f(p,h,c,u,s[d+14],17,-1502002290),c=g(c,u=f(u,p,h,c,s[d+15],22,1236535329),p,h,s[d+1],5,-165796510),h=g(h,c,u,p,s[d+6],9,-1069501632),p=g(p,h,c,u,s[d+11],14,643717713),u=g(u,p,h,c,s[d+0],20,-373897302),c=g(c,u,p,h,s[d+5],5,-701558691),h=g(h,c,u,p,s[d+10],9,38016083),p=g(p,h,c,u,s[d+15],14,-660478335),u=g(u,p,h,c,s[d+4],20,-405537848),c=g(c,u,p,h,s[d+9],5,568446438),h=g(h,c,u,p,s[d+14],9,-1019803690),p=g(p,h,c,u,s[d+3],14,-187363961),u=g(u,p,h,c,s[d+8],20,1163531501),c=g(c,u,p,h,s[d+13],5,-1444681467),h=g(h,c,u,p,s[d+2],9,-51403784),p=g(p,h,c,u,s[d+7],14,1735328473),c=m(c,u=g(u,p,h,c,s[d+12],20,-1926607734),p,h,s[d+5],4,-378558),h=m(h,c,u,p,s[d+8],11,-2022574463),p=m(p,h,c,u,s[d+11],16,1839030562),u=m(u,p,h,c,s[d+14],23,-35309556),c=m(c,u,p,h,s[d+1],4,-1530992060),h=m(h,c,u,p,s[d+4],11,1272893353),p=m(p,h,c,u,s[d+7],16,-155497632),u=m(u,p,h,c,s[d+10],23,-1094730640),c=m(c,u,p,h,s[d+13],4,681279174),h=m(h,c,u,p,s[d+0],11,-358537222),p=m(p,h,c,u,s[d+3],16,-722521979),u=m(u,p,h,c,s[d+6],23,76029189),c=m(c,u,p,h,s[d+9],4,-640364487),h=m(h,c,u,p,s[d+12],11,-421815835),p=m(p,h,c,u,s[d+15],16,530742520),c=y(c,u=m(u,p,h,c,s[d+2],23,-995338651),p,h,s[d+0],6,-198630844),h=y(h,c,u,p,s[d+7],10,1126891415),p=y(p,h,c,u,s[d+14],15,-1416354905),u=y(u,p,h,c,s[d+5],21,-57434055),c=y(c,u,p,h,s[d+12],6,1700485571),h=y(h,c,u,p,s[d+3],10,-1894986606),p=y(p,h,c,u,s[d+10],15,-1051523),u=y(u,p,h,c,s[d+1],21,-2054922799),c=y(c,u,p,h,s[d+8],6,1873313359),h=y(h,c,u,p,s[d+15],10,-30611744),p=y(p,h,c,u,s[d+6],15,-1560198380),u=y(u,p,h,c,s[d+13],21,1309151649),c=y(c,u,p,h,s[d+4],6,-145523070),h=y(h,c,u,p,s[d+11],10,-1120210379),p=y(p,h,c,u,s[d+2],15,718787259),u=y(u,p,h,c,s[d+9],21,-343485551),c=c+_>>>0,u=u+v>>>0,p=p+b>>>0,h=h+S>>>0}return n.endian([c,u,p,h])};r._ff=function(e,t,n,o,i,a,r){var s=e+(t&n|~t&o)+(i>>>0)+r;return(s<<a|s>>>32-a)+t},r._gg=function(e,t,n,o,i,a,r){var s=e+(t&o|n&~o)+(i>>>0)+r;return(s<<a|s>>>32-a)+t},r._hh=function(e,t,n,o,i,a,r){var s=e+(t^n^o)+(i>>>0)+r;return(s<<a|s>>>32-a)+t},r._ii=function(e,t,n,o,i,a,r){var s=e+(n^(t|~o))+(i>>>0)+r;return(s<<a|s>>>32-a)+t},r._blocksize=16,r._digestsize=16,t.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var o=n.wordsToBytes(r(e,t));return t&&t.asBytes?o:t&&t.asString?a.bytesToString(o):n.bytesToHex(o)}})()},{charenc:2,crypt:4,"is-buffer":42}],DailyCheckInItem:[function(e,t,n){"use strict";cc._RF.push(t,"aa9837rVVlDe7X7v+ZN+E61","DailyCheckInItem");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../../../../main/scripts/framework/gg"),s=e("../../../../../main/scripts/systems/login/LoginProto"),l=e("../../../../../main/scripts/systems/user/UserSystem"),c=e("../../../systems/dailycheckin/DailyCheckInUIEvent"),u=cc._decorator,p=u.ccclass,h=u.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dayLab=null,t.selectNode=null,t.lightNode=null,t.coinLab=null,t.vipCoinLab=null,t.coinSprite=null,t.rightNode=null,t.projectionNode=null,t.selectSpriteFrame=null,t.lightSpriteFrame=null,t.daySpriteFrame=null,t.coinSpriteFrame=null,t.awardInfo=null,t.vipAward=0,t.isTodayAllowSign=!1,t.animTime=.128,t}return i(t,e),t.prototype.onLoad=function(){this.vipCoinLab.node.active=!1},t.prototype.onDisable=function(){this.lightNode.stopAllActions(),this.node.opacity=0,this.selectNode.opacity=0,this.isTodayAllowSign=!1},t.prototype.updataUI=function(e,t){var n,o,i=this;void 0===e&&(e=!1),void 0===t&&(t=-1),this.isTodayAllowSign=!1,this.node.opacity=0;var a=t%3;6===t&&(a=3),cc.tween(this.node).delay(a*this.animTime/2).to(this.animTime,{opacity:255},{easing:"sineIn"}).start(),this.coinLab.string=String(this.awardInfo.count),(null===(o=null===(n=l.userSystem.userModel)||void 0===n?void 0:n.vipInfo)||void 0===o?void 0:o.vip_status)==s.VipStatusType.Activation?(this.vipCoinLab.node.active=!0,this.vipCoinLab.string="+"+this.vipAward):this.vipCoinLab.node.active=!1,this.updataIsGotUI(),this.selectNode.opacity=0,this.lightNode.opacity=0,e?(this.selectNode.stopAllActions(),cc.tween(this.selectNode).delay(5*this.animTime).to(2*this.animTime,{opacity:255},{easing:"sineOut"}).call(function(){i.isTodayAllowSign=!0,cc.tween(i.lightNode).repeatForever(cc.tween().to(.5,{opacity:255}).to(.5,{opacity:0})).start()}).start()):(this.lightNode.stopAllActions(),this.selectNode.opacity=0,this.lightNode.opacity=0)},t.prototype.updataIsGotUI=function(){1===this.awardInfo.is_got?(this.rightNode.opacity=255,this.projectionNode.opacity=255):(this.rightNode.opacity=0,this.projectionNode.opacity=0),this.lightNode.stopAllActions(),this.selectNode.opacity=0,this.lightNode.opacity=0},t.prototype.onDailyCheckInItemClick=function(){this.isTodayAllowSign&&r.gg.eventManager.emit(c.DailyCheckInUIEvent.onCheckInByItemClick)},t.prototype.changeDailyCheckInFrame=function(){this.node.getComponent(cc.Sprite).spriteFrame=this.daySpriteFrame,this.selectNode.getComponent(cc.Sprite).spriteFrame=this.selectSpriteFrame,this.lightNode.getComponent(cc.Sprite).spriteFrame=this.lightSpriteFrame,this.coinSprite.spriteFrame=this.coinSpriteFrame,this.coinSprite.node.y=this.coinSprite.node.y+30,this.lightNode.anchorY=.49},t.prototype.initUI=function(e){this.dayLab.string=e},a([h({type:cc.Label,tooltip:"\u7b2c\u51e0\u5929"})],t.prototype,"dayLab",void 0),a([h({type:cc.Node,tooltip:"\u9009\u4e2d\u7684\u8282\u70b9"})],t.prototype,"selectNode",void 0),a([h({type:cc.Node,tooltip:"\u53d1\u5149\u8282\u70b9"})],t.prototype,"lightNode",void 0),a([h({type:cc.Label,tooltip:"\u5956\u52b1\u6570"})],t.prototype,"coinLab",void 0),a([h({type:cc.Label,tooltip:"vip\u5956\u52b1\u6570"})],t.prototype,"vipCoinLab",void 0),a([h({type:cc.Sprite,tooltip:"\u91d1\u5e01\u56fe\u6807"})],t.prototype,"coinSprite",void 0),a([h({type:cc.Node,tooltip:"\u5df2\u9886\u53d6\u5bf9\u53f7"})],t.prototype,"rightNode",void 0),a([h({type:cc.Node,tooltip:"\u5df2\u9886\u53d6\u906e\u7f69"})],t.prototype,"projectionNode",void 0),a([h({type:cc.SpriteFrame,tooltip:"\u9009\u4e2d\u5927\u7684\u80cc\u666f\u6846"})],t.prototype,"selectSpriteFrame",void 0),a([h({type:cc.SpriteFrame,tooltip:"\u53d1\u5149\u5927\u7684\u80cc\u666f\u6846"})],t.prototype,"lightSpriteFrame",void 0),a([h({type:cc.SpriteFrame,tooltip:"\u5927\u7684\u80cc\u666f\u6846"})],t.prototype,"daySpriteFrame",void 0),a([h({type:cc.SpriteFrame,tooltip:"\u91d1\u5e01\u56fe\u6807"})],t.prototype,"coinSpriteFrame",void 0),a([p],t)}(cc.Component);n.default=d,cc._RF.pop()},{"../../../../../main/scripts/framework/gg":"gg","../../../../../main/scripts/systems/login/LoginProto":"LoginProto","../../../../../main/scripts/systems/user/UserSystem":"UserSystem","../../../systems/dailycheckin/DailyCheckInUIEvent":"DailyCheckInUIEvent"}],DailyCheckInPanel:[function(e,t,n){"use strict";cc._RF.push(t,"194227PfQJAbYEgZBBqGyQg","DailyCheckInPanel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../../../../main/scripts/configs/CommonPanelConfig"),l=r(e("../../../../../main/scripts/framework/components/dialogstyle/MoveStyleDialogPanelV1")),c=e("../../../../../main/scripts/framework/gg"),u=e("../../../../../main/scripts/framework/i18n/I18n"),p=e("../../../../../main/scripts/systems/analysis/AnalysisEvent"),h=e("../../../../../main/scripts/systems/analysis/AnalysisWrapper"),d=e("../../../../../main/scripts/systems/api/gameapi/GameApi"),f=e("../../../../../main/scripts/systems/api/gameapi/GameApiModels"),g=e("../../../../../main/scripts/systems/api/gameapi/PayApiModels"),m=e("../../../../../main/scripts/systems/api/gamecenter/GameCenterApiModels"),y=e("../../../../../main/scripts/systems/login/LoginProto"),_=e("../../../../../main/scripts/systems/user/UserSystem"),v=e("../../../../../main/scripts/systems/user/UserWalletSystem"),b=e("../../../systems/dailycheckin/DailyCheckInUIEvent"),S=e("../../../systems/lobby/LobbyHintSystem"),C=r(e("./DailyCheckInItem")),I=cc._decorator,R=I.ccclass,L=I.property,P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dailyCheckInItem=null,t.dayLay=null,t.btnLayout=null,t.activationVipNode=null,t.inactivatedVipLayout=null,t.vipLab=null,t.signInDayLab=null,t.dayStr=["checkIn.firstDay","checkIn.secondDay","checkIn.thirdDay","checkIn.fourthDay","checkIn.fifthDay","checkIn.sixthDay","checkIn.seventhDay"],t.dailyCheckInAllNode=null,t.awardList=null,t.vipAward=0,t}return i(t,e),t.prototype.onLoad=function(){this.reset()},t.prototype.onEnable=function(){this.checkVip(),c.gg.eventManager.on(b.DailyCheckInUIEvent.onCheckInByItemClick,this._onCheckInByItemClick,this)},t.prototype.onDisable=function(){c.gg.eventManager.offTarget(this),this.reset()},t.prototype.reset=function(){this.btnLayout.active=!1},t.prototype.show=function(e){this.getSignInlist(),this._playShowAnim(function(){e.onShowed()})},t.prototype.hide=function(e){this._playHideAnim(function(){e.onHided(),S.lobbyHintSystem.getHintData(f.LobbyHintEnum.SignInReddot)})},t.prototype.checkVip=function(){var e,t;(null===(t=null===(e=_.userSystem.userModel)||void 0===e?void 0:e.vipInfo)||void 0===t?void 0:t.vip_status)==y.VipStatusType.Activation?(this.inactivatedVipLayout.active=!1,this.activationVipNode.active=!0):(this.inactivatedVipLayout.active=!0,this.activationVipNode.active=!1)},t.prototype.onCloseBtnClick=function(){c.gg.panelRouter.hide({panel:s.CommonPanelConfig.dailyCheckInPanel})},t.prototype.getSignInlist=function(){var e=this;d.gameApi.getSignInList().then(function(t){(null==t?void 0:t.status)===m.FlatHttpResponseCode.Success?(e.initDailyCheckInUI(),e.awardList=t.data.award_list,e.vipAward=t.data.vip_award,e.signInDays=t.data.sign_in_days,e.canSign=t.data.can_sign,e.updataDailyCheckInUI()):(c.gg.panelRouter.show({panel:s.CommonPanelConfig.toastPanel,data:{text:u.i18n.getText("checkIn.dataFail")}}),e.onCloseBtnClick())}).catch(function(){c.gg.panelRouter.show({panel:s.CommonPanelConfig.toastPanel,data:{text:u.i18n.getText("checkIn.dataFail")}}),e.onCloseBtnClick()})},t.prototype.initDailyCheckInUI=function(){if(null==this.dailyCheckInAllNode){this.dailyCheckInAllNode=[];for(var e=0;e<this.dayLay.childrenCount;e++){var t=this.dayLay.children[e],n=cc.instantiate(this.dailyCheckInItem);n.opacity=0,t.addChild(n),this.dailyCheckInAllNode.push(n.getComponent(C.default)),e===this.dayLay.childrenCount-1&&this.dailyCheckInAllNode[e].changeDailyCheckInFrame(),this.dailyCheckInAllNode[e].initUI(u.i18n.getText(this.dayStr[e]))}}},t.prototype.updataDailyCheckInUI=function(){this.updateSignInDayLab(),this.btnLayout.active=!1,1===this.canSign&&(this.btnLayout.stopAllActions(),this.btnLayout.opacity=0,this.btnLayout.active=!0,cc.tween(this.btnLayout).delay(.5).to(.256,{opacity:255},{easing:"sineIn"}).start());for(var e=0;e<this.awardList.length;e++){var t=this.awardList[e];this.dailyCheckInAllNode[e].awardInfo=t,this.dailyCheckInAllNode[e].vipAward=this.vipAward,this.signInDays===e&&1===this.canSign?this.dailyCheckInAllNode[e].updataUI(!0,e):this.dailyCheckInAllNode[e].updataUI(!1,e)}0!==this.vipAward?this.vipLab.string="+"+this.vipAward:this.vipLab.string="+0"},t.prototype.updateSignInDayLab=function(e){void 0===e&&(e=!1),this.signInDayLab.string=e?u.i18n.getText("checkIn.accumulative",this.signInDays+1):u.i18n.getText("checkIn.accumulative",this.signInDays)},t.prototype.onClickCheckIn=function(){var e=this;c.gg.panelRouter.show({panel:s.CommonPanelConfig.loadingPanel});var t=v.userWalletSystem.coinBalance,n=v.userWalletSystem.diamondBalance;d.gameApi.signIn().then(function(o){c.gg.panelRouter.hide({panel:s.CommonPanelConfig.loadingPanel,onHided:function(){var i;if(o){e.btnLayout.active=!1,e.updateSignInDayLab(!0),e.dailyCheckInAllNode[e.signInDays].awardInfo.is_got=1,e.dailyCheckInAllNode[e.signInDays].updataIsGotUI();var a=t;e.awardList[e.signInDays].award_type===f.AwardType.Coin?a=t:e.awardList[e.signInDays].award_type===f.AwardType.Diamond&&(a=n);var r=0;(null===(i=_.userSystem.userModel.vipInfo)||void 0===i?void 0:i.vip_status)==y.VipStatusType.Activation&&(r=e.vipAward);var l={giftList:[{award_type:e.awardList[e.signInDays].award_type,count:e.awardList[e.signInDays].count+r,initValue:a}]};c.gg.panelRouter.show({panel:s.CommonPanelConfig.receiveFeaturesPanel,data:l})}else c.gg.panelRouter.show({panel:s.CommonPanelConfig.toastPanel,data:{text:u.i18n.getText("checkIn.fail")}})}})}).catch(function(){c.gg.panelRouter.hide({panel:s.CommonPanelConfig.loadingPanel,onHided:function(){c.gg.panelRouter.show({panel:s.CommonPanelConfig.toastPanel,data:{text:u.i18n.getText("checkIn.fail")}})}})})},t.prototype._onCheckInByItemClick=function(){this.onClickCheckIn()},t.prototype.onClickVipPanel=function(){h.analysis.logEvent(p.AnalysisEvent.VipDailyCheckOpenClick),c.gg.panelRouter.show({panel:s.CommonPanelConfig.storePanel,data:{type:g.GoodsTypeEnum.VIP}})},a([L({type:cc.Prefab,tooltip:"\u7b7e\u5230item"})],t.prototype,"dailyCheckInItem",void 0),a([L({type:cc.Node,tooltip:"\u7b7e\u5230\u7236\u8282\u70b9"})],t.prototype,"dayLay",void 0),a([L({type:cc.Node,tooltip:"\u7b7e\u5230\u7236\u8282\u70b9"})],t.prototype,"btnLayout",void 0),a([L({type:cc.Node,tooltip:"vip\u6fc0\u6d3b\u7b7e\u5230\u8282\u70b9"})],t.prototype,"activationVipNode",void 0),a([L({type:cc.Node,tooltip:"vip\u672a\u6fc0\u6d3b\u7b7e\u5230\u8282\u70b9"})],t.prototype,"inactivatedVipLayout",void 0),a([L({type:cc.Label,tooltip:"vip\u7b7e\u5230\u591a\u7ed9\u7684\u91d1\u5e01\u6570"})],t.prototype,"vipLab",void 0),a([L({type:cc.Label,tooltip:"\u8fde\u7eed\u7b7e\u5230\u5929\u6570"})],t.prototype,"signInDayLab",void 0),a([R],t)}(l.default);n.default=P,cc._RF.pop()},{"../../../../../main/scripts/configs/CommonPanelConfig":"CommonPanelConfig","../../../../../main/scripts/framework/components/dialogstyle/MoveStyleDialogPanelV1":"MoveStyleDialogPanelV1","../../../../../main/scripts/framework/gg":"gg","../../../../../main/scripts/framework/i18n/I18n":"I18n","../../../../../main/scripts/systems/analysis/AnalysisEvent":"AnalysisEvent","../../../../../main/scripts/systems/analysis/AnalysisWrapper":"AnalysisWrapper","../../../../../main/scripts/systems/api/gameapi/GameApi":"GameApi","../../../../../main/scripts/systems/api/gameapi/GameApiModels":"GameApiModels","../../../../../main/scripts/systems/api/gameapi/PayApiModels":"PayApiModels","../../../../../main/scripts/systems/api/gamecenter/GameCenterApiModels":"GameCenterApiModels","../../../../../main/scripts/systems/login/LoginProto":"LoginProto","../../../../../main/scripts/systems/user/UserSystem":"UserSystem","../../../../../main/scripts/systems/user/UserWalletSystem":"UserWalletSystem","../../../systems/dailycheckin/DailyCheckInUIEvent":"DailyCheckInUIEvent","../../../systems/lobby/LobbyHintSystem":"LobbyHintSystem","./DailyCheckInItem":"DailyCheckInItem"}],DailyCheckInUIEvent:[function(e,t,n){"use strict";cc._RF.push(t,"d7f88TesCZKfr4vHP1WpnHv","DailyCheckInUIEvent"),Object.defineProperty(n,"__esModule",{value:!0}),n.DailyCheckInUIEvent=void 0,(n.DailyCheckInUIEvent||(n.DailyCheckInUIEvent={})).onCheckInByItemClick="DailyCheckInUIEvent.onCheckInByItemClick",cc._RF.pop()},{}],DebugPurchaseSystemAdapter:[function(e,t,n){"use strict";cc._RF.push(t,"5b698NphqRC4oau3+CVgBSA","DebugPurchaseSystemAdapter");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.DebugPaySystemAdapter=void 0;var a=e("../../../framework/gg"),r=e("../../api/gameapi/GameApi"),s=function(){function e(){}return e.prototype.handleUserLogin=function(){a.gg.logger.warn("\u6ce8\u610f\uff1a\u5f53\u524d\u91c7\u7528\u7684\u662f\u8c03\u8bd5\u652f\u4ed8\u7cfb\u7edf\u9002\u914d\u5668!!!"),a.gg.logger.warn("\u6ce8\u610f\uff1a\u5f53\u524d\u91c7\u7528\u7684\u662f\u8c03\u8bd5\u652f\u4ed8\u7cfb\u7edf\u9002\u914d\u5668!!!"),a.gg.logger.warn("\u6ce8\u610f\uff1a\u5f53\u524d\u91c7\u7528\u7684\u662f\u8c03\u8bd5\u652f\u4ed8\u7cfb\u7edf\u9002\u914d\u5668!!!")},e.prototype.handleUserLogout=function(){},e.prototype.handleBackEndProductList=function(e,t){return o(this,void 0,Promise,function(){return i(this,function(){return t.forEach(function(e){e.price_str=e.currency+" "+e.price}),[2,{goodsModels:t}]})})},e.prototype.purchase=function(e){return o(this,void 0,Promise,function(){var t;return i(this,function(n){switch(n.label){case 0:return[4,r.gameApi.getRechargeOrder({goods_id:e.id,order_name:"test_order"})];case 1:return 1!=(t=n.sent()).status||null==t.data?(a.gg.logger.log("\u6d4b\u8bd5 \u5546\u54c1id\uff1a",e.id,"\u652f\u4ed8\u5931\u8d25"),[2,!1]):(a.gg.logger.log("\u6d4b\u8bd5 \u5546\u54c1id\uff1a",e.id,"\u652f\u4ed8\u6210\u529f"),[2,!0])}})})},e}();n.DebugPaySystemAdapter=s,cc._RF.pop()},{"../../../framework/gg":"gg","../../api/gameapi/GameApi":"GameApi"}],DefaultLocalStorage:[function(e,t,n){"use strict";cc._RF.push(t,"ead387E0BpC4oZndv6Im9Eb","DefaultLocalStorage"),Object.defineProperty(n,"__esModule",{value:!0}),n.DefaultLocalStorage=void 0;var o=e("../gg"),i=function(){function e(){}return e.prototype.getItem=function(e){if(null==e)return o.gg.logger.error("LocalStorage","getItem","invalid key"),"";var t=cc.sys.localStorage.getItem(e);return o.gg.logger.debug("LocalStorage","getItem",e,t),null==t&&(t=""),t},e.prototype.setItem=function(e,t){if(null!=e)return o.gg.logger.debug("LocalStorage","setItem",e,t),cc.sys.localStorage.setItem(e,t),!0;o.gg.logger.error("LocalStorage","setItem","invalid key")},e.prototype.removeItem=function(e){null!=e?(o.gg.logger.debug("LocalStorage","removeItem",e),cc.sys.localStorage.removeItem(e)):o.gg.logger.error("LocalStorage","removeItem","invalid key")},e}();n.DefaultLocalStorage=i,cc._RF.pop()},{"../gg":"gg"}],DefaultLogger:[function(e,t,n){"use strict";cc._RF.push(t,"c1bb3YU1VNNoJjJlvWcYK2S","DefaultLogger"),Object.defineProperty(n,"__esModule",{value:!0}),n.DefaultLogger=void 0;var o=function(){function e(){this._option=null}return e.prototype.init=function(e){this._option=e},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._option&&this._option.log&&console.log.apply(console,this._formatArgs.apply(this,e))},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._option&&this._option.log&&console.debug.apply(console,this._formatArgs.apply(this,e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._option&&this._option.log&&console.info.apply(console,this._formatArgs.apply(this,e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._option&&this._option.log&&console.error.apply(console,this._formatArgs.apply(this,e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._option&&this._option.log&&console.warn.apply(console,this._formatArgs.apply(this,e))},e.prototype._formatArgs=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e},e}();n.DefaultLogger=o,cc._RF.pop()},{}],Define:[function(e,t,n){"use strict";cc._RF.push(t,"19302E41NhPuZVYFDMpHOqx","Define"),Object.defineProperty(n,"__esModule",{value:!0}),n.Define=void 0,function(e){e.GameFrame=60;var t=function(){function e(){}return e.Z_Hall=0,e.Z_SPINE=100,e.Z_GAME=1e3,e.Z_COINANI=2e3,e.Z_GAMELOADING=3e3,e.Z_RECHARGE_TIPS=5500,e.Z_RECHARGE=6e3,e.Z_SERVICE=6010,e.Z_NETTIPS=6100,e.Z_LOADINGSCEME=9e3,e.Z_LOGINSCEME=9100,e.Z_LOGINACCOUNTSCEME=9150,e.Z_REGISTSCEME=9200,e.Z_RESETPASSWD=9300,e.Z_LOGIN_VERIFICATION=9350,e.Z_SHOWMESSAGE=9800,e.Z_LOADINGVIEW=9900,e.Z_TIPS=9910,e}();e.ZORDER_DEF=t;var n=function(){function e(){}return e.RESTRICT_NUMBER="0123456789",e.RESTRICT_CHAR="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ,",e.RESTRICT_NICKNAME="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ,-_~@.",e.RESTRICT_PURCHAR="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ ",e}();e.COMM=n,function(e){e[e.LOGIN_VERIFICATION=85]="LOGIN_VERIFICATION"}(e.ERROR_CODE||(e.ERROR_CODE={}));var o=function(){function e(){}return e.SUCCEED="succeed",e.ERROR_CODE="ERROR_CODE_",e.SYS_ERROR="sys_error",e.NOT_OPEN="not_open",e.SERVER_NOT_READY="server_not_ready",e.SERVER_LIST_ERROR="server_list_error",e.PLANTFORM_NO_RESPONSE="palntform_no_reponse",e.SERVER_IS_UNCONNECT="server_is_unconnect",e.CONNECT_ERROR="connect_error",e.SEND_MSG_ERROR="send_msg_error",e.PAY_URL_ERROR="pay_url_error",e.PAY_APP_OPEN_ERROR="pay_app_open_error",e.PAY_WAY_OPEN_ERROR="pay_way_open_error",e.PAY_ORDERING="pay_ordering",e.PAY_ORDER_ERROR="pay_order_error",e.RECORD_NO_COPY="record_no_copy",e.GET_GAMEAPP_ERROR="get_gameapp_error",e.GET_PLANTFORM_ERROR="get_plantform_error",e.SERVICE_DESC="service_desc",e.LOGINING="logining",e.USERNAME_IS_NULL="username_is_null",e.WALLET_NAME_IS_TOO_SHORT="wallet_name_is_to_short",e.PIX_ACCOUNT_IS_NULL="pix_account_is_null",e.PIX_ACCOUNT_NOT_BIND="pix_account_not_bind",e.PIX_ACCOUNT_BEEN_BIND="pix_account_has_been_bind",e.INPUT_IS_NULL="input_is_null",e.INPUT_IS_ERROR="input_is_error",e.INPUT_OUT_RANGE="input_out_range",e.WITHDRAW_ERROR="withdraw_error",e.WITHDRAW_ERROR_LOCKMONEY="withdraw_error_lockmoney",e.WITHDRAW_ERROR_TOOMAX="withdraw_error_toomax",e.WITHDRAW_ERROR_TOOMIN="withdraw_error_toomin",e.GET_WITHDRAW_RECORD_ERROR="get_withdraw_record_error",e.HAVE_NO_ENOUGH_DATA="have_no_enough_data",e.INPUT_ERROR_WALLETNO="input_error_walletno",e.INPUT_ERROR_AREANO="input_error_areano",e.INPUT_ERROR_PHONENO="input_error_phoneno",e.INPUT_ERROR_VERIFYCODE="input_error_verifycode",e.INPUT_ERROR_PASSWD_TOO_LESS="input_error_passwd_to_less",e.SEND_VERIFY_CODE_FIRST="send_verify_code_first",e.SEND_VERIFY_CODE_SUCCEED="send_verify_code_succeed",e.MONTH_RANK_MYORDER="month_rank_my_order",e.BIND_SUCCEED="bind_succeed",e.GAME_IS_LOADING="game_is_loading",e.LOGIN_GAME_ERROR1="login_game_error1",e.LOGIN_GAME_ERROR2="login_game_error2",e.LOGIN_GAME_ERROR3="login_game_error3",e.NO_DATA_YET="no_data_yet",e.PLEASE_WAIT="please_wait",e.UPDATE_SUCCEED="update_succeed",e.REGIST_SUCCEED="regist_succeed",e.REGISTING="registing",e.RESET_PASSWD="resetpasswd",e.GAME_RES_ERROR="game_res_is_error",e.LOGIN_GAMEROOM_ERROR="login_gameroom_error",e.CONTINUING_GAME="continuing_the_game",e.ROUND_CANNOT_BE_ZERO="round_cannot_be_0",e.WINS_OR_LOSS="wins_or_losses_round",e.INSUFFICIENT_GOLD_COINS="insufficient_gold_coins",e.LOGOUT_SHIXUN_GAME="logout_shixun_game",e.WAIT_BET_TIME="waitBetTime",e.PLEASE_SELECT_CHIP="PleaseSelectChip",e.CANNOT_SELECT_TWO_AREAS="cannotSelectTwoAreas",e.CANNOT_EXIT_GAME="cannotexitgame",e.LAST_NO_BET="lastNoBet",e.READ_BLACK0="red_black0",e.READ_BLACK1="red_black1",e.READ_BLACK2="red_black2",e.READ_BLACK3="red_black3",e.READ_BLACK4="red_black4",e.READ_BLACK5="red_black5",e.READ_BLACK6="red_black6",e.READ_BLACK7="red_black7",e.ANDROID_APK_TIPS1="android_apk_tips1",e.ANDROID_APK_TIPS2="android_apk_tips2",e.ANDROID_APK_TIPS3="android_apk_tips3",e.IOS_ADDHOME_TIPS1="ios_addhome_tips1",e.IOS_ADDHOME_TIPS2="ios_addhome_tips2",e.IOS_ADDHOME_TIPS3="ios_addhome_tips3",e.BE_KICKED="be_kicked_out_of_gameroom",e.Disconnected="Disconnected",e.OUT_Withdraw_MAX="OUT_Withdraw_MAX",e.ERROR_CODE_GAME34400_Bet1="ERROR_CODE_GAME34400_Bet1",e.ERROR_CODE_GAME34400_Bet2="ERROR_CODE_GAME34400_Bet2",e.ERROR_CODE_GAME34400_Bet3="ERROR_CODE_GAME34400_Bet3",e.ERROR_CODE_GAME34400_Bet4="ERROR_CODE_GAME34400_Bet4",e.ERROR_CODE_GAME34400_Bet5="ERROR_CODE_GAME34400_Bet5",e.ERROR_CODE_GAME34400_Bet6="ERROR_CODE_GAME34400_Bet6",e.ERROR_CODE_GAME34400_RepeatBet1="ERROR_CODE_GAME34400_RepeatBet1",e.ERROR_CODE_GAME34400_RepeatBet2="ERROR_CODE_GAME34400_RepeatBet2",e.ERROR_CODE_GAME34400_UpBanker1="ERROR_CODE_GAME34400_UpBanker1",e.ERROR_CODE_GAME34400_UpBanker2="ERROR_CODE_GAME34400_UpBanker2",e.ERROR_CODE_GAME34400_UpBanker3="ERROR_CODE_GAME34400_UpBanker3",e.ERROR_CODE_GAME34400_UpBanker4="ERROR_CODE_GAME34400_UpBanker4",e.ERROR_CODE_GAME34400_UpBanker5="ERROR_CODE_GAME34400_UpBanker5",e.ERROR_CODE_GAME34400_UnderBanker3="ERROR_CODE_GAME34400_UnderBanker3",e.TEST="tips_test",e}();e.TIPS=o;e.PIXTYPE=function(){}}(n.Define||(n.Define={})),cc._RF.pop()},{}],Delegate:[function(e,t,n){"use strict";cc._RF.push(t,"19bb5ndSipPU5ayjYlrpSZF","Delegate");var o=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],r=0,s=a.length;r<s;r++,i++)o[i]=a[r];return o};Object.defineProperty(n,"__esModule",{value:!0}),n.Delegate=void 0;var i=function(){function e(){this._flag=0,this._items=[]}return e.prototype.add=function(e,t,n){var o=this._items,i=o.findIndex(function(n,o,i){return n==e&&i[o+1]==t});-1!=i?(o[i+2]=n,o[i+3]=1):o.push(e,t,n,1)},e.prototype.once=function(e,t,n){var o=this._items,i=o.findIndex(function(n,o,i){return n==e&&i[o+1]==t});-1!=i?(o[i+2]=n,o[i+3]=2):o.push(e,t,n,2)},e.prototype.remove=function(e,t){var n=this._items,o=n.findIndex(function(n,o,i){return n==e&&i[o+1]==t});-1!=o&&(0!=this._flag?(n[o+3]=0,this._flag=2):n.splice(o,4))},e.prototype.clear=function(){var e=this._items;0!=this._flag?(e.forEach(function(e,t,n){t%4==3&&(n[t]=0)}),this._flag=2):e.length=0},e.prototype.clearForTarget=function(e){if(e){var t=this._items;if(0!=this._flag)t.forEach(function(t,n,o){n%4==1&&o[n]==e&&(o[n+2]=0)}),this._flag=2;else for(var n=t.length-4;n>=0;)t[n+1]==e&&t.splice(n,4),n-=4}},Object.defineProperty(e.prototype,"count",{get:function(){return this._items.length/4},enumerable:!1,configurable:!0}),e.prototype.invoke=function(){for(var e,t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(0==this._flag){this._flag=1;for(var a=this._items,r=a.length,s=0;s<r;s+=4)if(0!=a[s+3]){var l=a[s+2];null!=l?(e=a[s]).call.apply(e,o([a[s+1]],l,n)):(t=a[s]).call.apply(t,o([a[s+1]],n)),2==a[s+3]&&(a[s+3]=0,this._flag=2)}if(2==this._flag){var c=a.length;for(s=0;s<c;)0!=a[s+3]?s+=4:(a.splice(s,4),c-=4)}this._flag=0}},e}();n.Delegate=i,cc._RF.pop()},{}],DeviceInfoWrapper:[function(e,t,n){"use strict";cc._RF.push(t,"1ab65meS1pBPZkWOBTf0gZp","DeviceInfoWrapper");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.DeviceInfoWrapper=void 0,e("../../framework/eventmanager/EventManager");var i=o(e("../../framework/utils/StringUtils")),a=function(){function e(){}return Object.defineProperty(e,"brand",{get:function(){return i.default.isEmpty(this._brand),this._brand},enumerable:!1,configurable:!0}),Object.defineProperty(e,"model",{get:function(){return i.default.isEmpty(this._model),this._model},enumerable:!1,configurable:!0}),Object.defineProperty(e,"androidId",{get:function(){return i.default.isEmpty(this._androidId),this._androidId},enumerable:!1,configurable:!0}),e.requestIdfa=function(){return new Promise(function(e){e()})},Object.defineProperty(e,"idfv",{get:function(){return i.default.isEmpty(this._idfv),this._idfv},enumerable:!1,configurable:!0}),Object.defineProperty(e,"gaid",{get:function(){return i.default.isEmpty(this._gaid),this._gaid},enumerable:!1,configurable:!0}),Object.defineProperty(e,"cpuName",{get:function(){return i.default.isEmpty(this._cpuName),this._cpuName},enumerable:!1,configurable:!0}),Object.defineProperty(e,"cpuFrequency",{get:function(){return i.default.isEmpty(this._cpuFrequency),this._cpuFrequency},enumerable:!1,configurable:!0}),Object.defineProperty(e,"ram",{get:function(){return i.default.isEmpty(this._ram),this._ram},enumerable:!1,configurable:!0}),Object.defineProperty(e,"screenWidth",{get:function(){return this._screenWidth,this._screenWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e,"screenHeight",{get:function(){return this._screenHeight,this._screenHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e,"networkType",{get:function(){return"unknown"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"countryIso",{get:function(){return"unknown"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"language",{get:function(){return i.default.isEmpty(this._languageCode),i.default.isEmpty(this._languageCode)&&(this._languageCode="unknown"),this._languageCode},enumerable:!1,configurable:!0}),Object.defineProperty(e,"systemVersionCode",{get:function(){return this._systemVersionCode,this._systemVersionCode},enumerable:!1,configurable:!0}),Object.defineProperty(e,"systemVersionName",{get:function(){return i.default.isEmpty(this._systemVersionName),this._systemVersionName},enumerable:!1,configurable:!0}),Object.defineProperty(e,"netOperator",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(e,"simOperator",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(e,"hasSimCard",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isVpnOn",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isRoot",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e,"localLanguage",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(e,"localCountry",{get:function(){return""},enumerable:!1,configurable:!0}),e._javaClassPath="com/gxx/wrapper/DeviceInfoWrapper",e._ocClassName="FFDeviceUtil",e._brand="",e._model="",e._androidId="",e._gaid="",e._idfv="",e._cpuName="",e._cpuFrequency="",e._ram="",e._screenWidth=0,e._screenHeight=0,e._languageCode="",e._systemVersionCode=0,e._systemVersionName="",e}();n.DeviceInfoWrapper=a,cc._RF.pop()},{"../../framework/eventmanager/EventManager":"EventManager","../../framework/utils/StringUtils":"StringUtils"}],DialogMng:[function(e,t,n){"use strict";cc._RF.push(t,"3b856ldcUJGWqsAFVNMVMh/","DialogMng");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../halllib/net/InnerEvent"),l=e("../halllib/core/RunData"),c=e("../halllib/common/Define"),u=e("../halllib/core/HallData"),p=e("../halllib/common/ConfigMng"),h=r(e("../halllib/net/RoomMsgProxy")),d=e("../halllib/common/LogBase"),f=r(e("./BaseRoom")),g=e("./BaseDesk"),m=e("./RoomMng"),y=e("../halllib/net/Client"),_=e("../halllib/net/PlatformConfig"),v=e("../halllib/laya/Laya"),b=e("../hallph7/Zhuanpan27"),S=e("../hallph7/SceneLoginAccount7"),C=e("../hallph7/SceneRegist7"),I=e("../hallph7/SceneMainHall7"),R=e("../hallph7/SceneUserInfo7"),L=e("../hallph7/SceneFace7"),P=e("../hallph7/SceneBindPhone7"),M=e("../hallph7/SceneFirstRecharge7"),T=e("../hallph7/ScenePassword7"),E=e("../hallph7/SceneDoc7"),A=e("../hallph7/SceneRule7"),w=e("../hallph7/SceneMailDetail7"),O=e("../hallph7/SceneSysTips7"),G=e("../hallph7/ScenePrompt7"),N=r(e("../hallph7/LoadingView7")),D=e("../hallph7/SceneGameLoad7"),B=e("../hallph7/SceneAddHomeScreen7"),U=e("../hallph7/SceneWealthClub7"),k=e("../hallph7/SceneAchieveRule7"),x=e("../hallph7/SceneReward7"),F=e("../hallph7/SceneRechargeTip7"),H=e("../hallph6/SceneSelectGame6"),j=e("../hallph7/SceneVerification7"),W=e("../hallph6/SceneModifyRegisterPhone6"),V=e("../hallph6/SceneLuckyRoulette6"),Y=e("../hallph6/SceneMainHall6"),z=e("../hallph6/Wallet6"),K=e("../hallph6/SceneMonthRank6"),q=e("../hallph6/SceneService6"),J=e("../hallph6/SceneNotice6"),X=e("../hallph6/SceneWithdraw6"),Z=e("../hallph6/SceneRebate6"),Q=e("../hallph6/SceneActivity6"),$=e("../hallph6/SceneSetting6"),ee=e("../hallph6/SceneAgent6"),te=e("../hallph6/SceneRank6"),ne=e("../hallph6/SceneLogin6"),oe=e("../hallph6/SceneBindWallet6"),ie=e("../hallph6/SceneSellectRoom6"),ae=v.Laya.regClass,re=(v.Laya.property,function(e){function t(){return e.call(this)||this}var n;return i(t,e),n=t,t.InitMng=function(){n.s_DialogMng=new n,n.s_DialogMng.Init()},t.LoadResCompelete=function(e){this.LoadCount++,d.LogBase.log("DialogMng LoadResCompelete",e,this.LoadCount),this.LoadCount==this.RES_COUNT&&this.LoadCallback.run()},t.LoadRes=function(e){e&&(this.LoadCallback=e),e=new v.Laya.Handler(this,this.LoadResCompelete),N.default.Load(e,"LoadingView"),O.SceneSysTips7.Load(e,"SceneSysTips"),G.ScenePrompt7.Load(e,"ScenePrompt"),ne.SceneLogin6.Load(e,"SceneLogin"),I.SceneMainHall7.Load(e,"SceneMainHall"),x.SceneReward7.Load(e,"SceneReward")},t.onLogoutShixunGame=function(){G.ScenePrompt7.OpenScene(n.s_DialogMng.node,p.ConfigMng.getTips(c.Define.TIPS.LOGOUT_SHIXUN_GAME),!0),v.Laya.SoundManager.stopAll(),u.HallSoundManager.PlayMusic(p.ConfigMng.hallconfigJson.music.sound_bg_0,0)},t.prototype.Init=function(){},t.prototype.onEnable=function(){s.HallEvent.dispatcher.on(s.HallEvent.MUTE_SOUND,this,this.onMuteSound,[!0]),s.HallEvent.dispatcher.on(s.HallEvent.UNMUTE_SOUND,this,this.onMuteSound,[!1]),s.HallEvent.dispatcher.on(s.HallEvent.OPEN_HALL,this,this.onOpenMainHall),s.HallEvent.dispatcher.on(s.HallEvent.EXIT_HALL,this,this.onExitHall),s.HallEvent.dispatcher.on(s.HallEvent.GO_BACK_TO_HALL,this,this.onGoBackHall),s.HallEvent.dispatcher.on(s.HallEvent.SHOW_MESSAGE,this,this.onShowMessage),s.HallEvent.dispatcher.on(s.HallEvent.SHOW_SELECT_GAME_ROOM,this,this.onSelectRoom),s.HallEvent.dispatcher.on(s.HallEvent.SHOW_NET_MESSAGE,this,this.onShowNetMessage),s.HallEvent.dispatcher.on(s.HallEvent.SHOW_WAITTING_MSG,this,this.onShowWaiting),s.HallEvent.dispatcher.on(s.HallEvent.CLOSE_WAITTING_MSG,this,this.onCloseWaiting),s.HallEvent.dispatcher.on(s.HallEvent.CLOSE_DIALOG,this,this.onCloseDialog),s.HallEvent.dispatcher.on(s.HallEvent.SHOW_SERVICE_DIALOG,this,this.onShowDailog,[s.HallEvent.SHOW_SERVICE_DIALOG]),s.HallEvent.dispatcher.on(s.HallEvent.SHOW_BINDWALLET_DIALOG,this,this.onShowDailog,[s.HallEvent.SHOW_BINDWALLET_DIALOG]),s.HallEvent.dispatcher.on(s.HallEvent.SHOW_WITHDRAW_DIALOG,this,this.onShowDailog,[s.HallEvent.SHOW_WITHDRAW_DIALOG]),s.HallEvent.dispatcher.on(s.HallEvent.SHOW_USERINFO_DIALOG,this,this.onShowDailog,[s.HallEvent.SHOW_USERINFO_DIALOG]),s.HallEvent.dispatcher.on(s.HallEvent.SHOW_RECHARGE_VIEW,this,this.onShowDailog,[s.HallEvent.SHOW_RECHARGE_VIEW]),s.HallEvent.dispatcher.on(s.HallEvent.SHOW_SETFACE_DIALOG,this,this.onShowDailog,[s.HallEvent.SHOW_SETFACE_DIALOG]),s.HallEvent.dispatcher.on(s.HallEvent.SHOW_REGIST_DIALOG,this,this.onShowDailog,[s.HallEvent.SHOW_REGIST_DIALOG]),s.HallEvent.dispatcher.on(s.HallEvent.SHOW_DIALY_RANK_DIALOG,this,this.onShowDailog,[s.HallEvent.SHOW_DIALY_RANK_DIALOG]),s.HallEvent.dispatcher.on(s.HallEvent.SHOW_MONTH_RANK_DIALOG,this,this.onShowDailog,[s.HallEvent.SHOW_MONTH_RANK_DIALOG]),s.HallEvent.dispatcher.on(s.HallEvent.SHOW_REGRA_DIALOG,this,this.onShowDailog,[s.HallEvent.SHOW_REGRA_DIALOG]),s.HallEvent.dispatcher.on(s.HallEvent.SHOW_AGENT_DIALOG,this,this.onShowDailog,[s.HallEvent.SHOW_AGENT_DIALOG]),s.HallEvent.dispatcher.on(s.HallEvent.SHOW_PECEBER_DIALOG,this,this.onShowDailog,[s.HallEvent.SHOW_PECEBER_DIALOG]),s.HallEvent.dispatcher.on(s.HallEvent.SHOW_REGISTODACOMISS_DIALOG,this,this.onShowDailog,[s.HallEvent.SHOW_REGISTODACOMISS_DIALOG]),s.HallEvent.dispatcher.on(s.HallEvent.SHOW_MAIL_DIALOG,this,this.onShowDailog,[s.HallEvent.SHOW_MAIL_DIALOG]),s.HallEvent.dispatcher.on(s.HallEvent.SHOW_MAILDETAIL_DIALOG,this,this.onMailDetailDailog),s.HallEvent.dispatcher.on(s.HallEvent.SHOW_BINDPHONE_DIALOG,this,this.onShowDailog,[s.HallEvent.SHOW_BINDPHONE_DIALOG]),s.HallEvent.dispatcher.on(s.HallEvent.SHOW_SETTING_DIALOG,this,this.onShowDailog,[s.HallEvent.SHOW_SETTING_DIALOG]),s.HallEvent.dispatcher.on(s.HallEvent.SHOW_TERMS_DIALOG,this,this.onShowDailog,[s.HallEvent.SHOW_TERMS_DIALOG]),s.HallEvent.dispatcher.on(s.HallEvent.SHOW_ZHUANPAN_DIALOG,this,this.onZhuanpanDailog,[s.HallEvent.SHOW_ZHUANPAN_DIALOG]),s.HallEvent.dispatcher.on(s.HallEvent.SHOW_1RECHARGE_DIALOG,this,this.onShowDailog,[s.HallEvent.SHOW_1RECHARGE_DIALOG]),s.HallEvent.dispatcher.on(s.HallEvent.SHOW_MISSPASSWD_DIALOG,this,this.onShowDailog,[s.HallEvent.SHOW_MISSPASSWD_DIALOG]),s.HallEvent.dispatcher.on(s.HallEvent.SHOW_LOGINACCOUNT_DIALOG,this,this.onShowDailog,[s.HallEvent.SHOW_LOGINACCOUNT_DIALOG]),s.HallEvent.dispatcher.on(s.HallEvent.SHOW_LOGINING_VIEW,this,this.onShowDailog,[s.HallEvent.SHOW_LOGINING_VIEW]),s.HallEvent.dispatcher.on(s.HallEvent.SHOW_LOGIN_SCENE,this,this.onShowDailog,[s.HallEvent.SHOW_LOGIN_SCENE]),s.HallEvent.dispatcher.on(s.HallEvent.SHOW_ADD_HOME_SCREEN,this,this.onShowDailog,[s.HallEvent.SHOW_ADD_HOME_SCREEN]),s.HallEvent.dispatcher.on(s.HallEvent.SHOW_WEALTHCLUB_DIALOG,this,this.onShowDailog,[s.HallEvent.SHOW_WEALTHCLUB_DIALOG]),s.HallEvent.dispatcher.on(s.HallEvent.SHOW_REBATE_DIALOG,this,this.onShowDailog,[s.HallEvent.SHOW_REBATE_DIALOG]),s.HallEvent.dispatcher.on(s.HallEvent.SHOW_LUCKY_ROULETTE,this,this.onShowDailog,[s.HallEvent.SHOW_LUCKY_ROULETTE]),s.HallEvent.dispatcher.on(s.HallEvent.SHOW_ACHIEVERULE_DIALOG,this,this.onShowDailog,[s.HallEvent.SHOW_ACHIEVERULE_DIALOG]),s.HallEvent.dispatcher.on(s.HallEvent.SHOW_REWARD,this,this.onShowDailog,[s.HallEvent.SHOW_REWARD]),s.HallEvent.dispatcher.on(s.HallEvent.SHOW_RECHARGE_TIP,this,this.onShowDailog,[s.HallEvent.SHOW_RECHARGE_TIP]),s.HallEvent.dispatcher.on(s.HallEvent.SHOW_SELECT_GAME,this,this.onShowDailog,[s.HallEvent.SHOW_SELECT_GAME]),s.HallEvent.dispatcher.on(s.HallEvent.SHOW_VERIFICATION,this,this.onShowDailog,[s.HallEvent.SHOW_VERIFICATION]),s.HallEvent.dispatcher.on(s.HallEvent.SHOW_MODIFY_REGOSTER_VIEW,this,this.onShowDailog,[s.HallEvent.SHOW_MODIFY_REGOSTER_VIEW]),s.HallEvent.dispatcher.on(s.HallEvent.SHOW_LONGHU_GAME,this,this.onShowLongHu,[s.HallEvent.SHOW_LONGHU_GAME]),s.HallEvent.on(s.HallEvent.LOAD_GAME,this,this.onLoadGame),s.HallEvent.on(s.HallEvent.CHECK_RECONNECT,this,this.onReconnect)},t.prototype.onShowDailog=function(e,t){if(d.LogBase.log("onShowDailog",e,t),d.LogBase.log(e,t),n.CURRENT_OPEN_DIALOD!=e){switch(n.CURRENT_OPEN_DIALOD=e,u.LocalTempData.getSoundVolume()>0&&v.Laya.SoundManager.playSound(p.ConfigMng.hallconfigJson.music.btnsound),e){case s.HallEvent.SHOW_SERVICE_DIALOG:q.SceneService6.OpenScene(this.node);break;case s.HallEvent.SHOW_BINDWALLET_DIALOG:oe.SceneBindWallet6.OpenScene(this.node);break;case s.HallEvent.SHOW_WITHDRAW_DIALOG:X.SceneWithdraw6.OpenScene(this.node);break;case s.HallEvent.SHOW_USERINFO_DIALOG:R.SceneUserInfo7.OpenScene(this.node);break;case s.HallEvent.SHOW_RECHARGE_VIEW:z.Wallet6.OpenScene(this.node);break;case s.HallEvent.SHOW_SETFACE_DIALOG:L.SceneFace7.OpenScene(this.node);break;case s.HallEvent.SHOW_REGIST_DIALOG:C.SceneRegist7.OpenScene(null,t);break;case s.HallEvent.SHOW_DIALY_RANK_DIALOG:te.SceneRank6.OpenScene(this.node);break;case s.HallEvent.SHOW_MONTH_RANK_DIALOG:K.SceneMonthRank6.OpenScene(this.node);break;case s.HallEvent.SHOW_REGRA_DIALOG:A.SceneRule7.OpenScene(this.node);break;case s.HallEvent.SHOW_AGENT_DIALOG:ee.SceneAgent6.OpenScene(this.node,t);break;case s.HallEvent.SHOW_PECEBER_DIALOG:Q.SceneActivity6.OpenScene(this.node);break;case s.HallEvent.SHOW_REGISTODACOMISS_DIALOG:break;case s.HallEvent.SHOW_MAIL_DIALOG:J.SceneNotice6.OpenScene(this.node);break;case s.HallEvent.SHOW_BINDPHONE_DIALOG:P.SceneBindPhone7.OpenScene(this.node);break;case s.HallEvent.SHOW_SETTING_DIALOG:$.SceneSetting6.OpenScene(this.node);break;case s.HallEvent.SHOW_TERMS_DIALOG:E.SceneDoc7.OpenScene(this.node);break;case s.HallEvent.SHOW_1RECHARGE_DIALOG:M.SceneFirstRecharge7.OpenScene(this.node);break;case s.HallEvent.SHOW_MISSPASSWD_DIALOG:T.ScenePassword7.OpenScene();break;case s.HallEvent.SHOW_LOGINACCOUNT_DIALOG:S.SceneLoginAccount7.OpenScene();break;case s.HallEvent.SHOW_LOGIN_SCENE:ne.SceneLogin6.OpenScene();break;case s.HallEvent.SHOW_LOGINING_VIEW:N.default.OpenScene();break;case s.HallEvent.SHOW_ADD_HOME_SCREEN:B.SceneAddHomeScreen7.OpenScene(this.node);break;case s.HallEvent.SHOW_WEALTHCLUB_DIALOG:U.SceneWealthClub7.OpenScene(this.node);break;case s.HallEvent.SHOW_REBATE_DIALOG:Z.SceneRebate6.OpenScene(this.node);break;case s.HallEvent.SHOW_LUCKY_ROULETTE:V.SceneLuckyRoulette6.OpenScene(this.node);break;case s.HallEvent.SHOW_ACHIEVERULE_DIALOG:k.SceneAchieveRule7.OpenScene(this.node);break;case s.HallEvent.SHOW_REWARD:x.SceneReward7.OpenScene(this.node,t);break;case s.HallEvent.SHOW_RECHARGE_TIP:F.SceneRechargeTip7.OpenScene(this.node);break;case s.HallEvent.SHOW_SELECT_GAME:H.SceneSelectGame6.OpenScene(this.node,t);break;case s.HallEvent.SHOW_VERIFICATION:j.SceneVerification7.OpenScene();break;case s.HallEvent.SHOW_MODIFY_REGOSTER_VIEW:W.SceneModifyRegisterPhone6.OpenScene(this.node)}n.CURRENT_OPEN_DIALOD=""}else d.LogBase.error("onShowDailog",e,t)},t.prototype.onShowLongHu=function(){d.LogBase.warn("onClick! gameid: 34200");var e=null;if(p.ConfigMng.gamelistJson&&p.ConfigMng.gamelist.menu.length>0)for(var t=0;t<p.ConfigMng.gamelist.menu[0].length;t++){var n=p.ConfigMng.gamelist.menu[0][t];"34200"==n.GameID&&(e=n)}if(null!=e){if(_.servicedata.ServiceConfigs.AgentGameClientConfig.hasGame(Number(e.GameID)))if(e.data&&null!=e.data.IsShowGameLevel&&e.data.IsShowGameLevel){var o=m.RoomMng.getGameRoomList(Number(e.GameID));if(d.LogBase.log("SHOW_SELECT_GAME_ROOM...roomInfoList:",o),null!=o&&o.length>=1)if(1==o.length){if(l.RunData.myUserInfo.dwMoney<o[0].iLessMoney2Enter.toNumber())return void s.HallEvent.event(s.HallEvent.SHOW_WAITTING_MSG,"ERROR_CODE_1001");if(o[0].iMaxMoney2Enter.toNumber()>0&&l.RunData.myUserInfo.dwMoney>o[0].iMaxMoney2Enter.toNumber())return void s.HallEvent.event(s.HallEvent.SHOW_WAITTING_MSG,"ERROR_CODE_1002");s.HallEvent.event(s.HallEvent.LOAD_GAME,[e.GameID,o[0].uRoomID,o[0].iRoomLevel])}else s.HallEvent.event(s.HallEvent.SHOW_SELECT_GAME_ROOM,[o,!0]);else d.LogBase.warn("Server has not ready ! gameid:",e.GameID),s.HallEvent.dispatcher.event(s.HallEvent.SHOW_MESSAGE,c.Define.TIPS.SERVER_NOT_READY)}else if(o=m.RoomMng.getGameRoomList(Number(e.GameID)),d.LogBase.log("LOGIN_GAME...",e.GameID,o),null!=o&&o.length>0){for(var i=!1,a=!1,r=0;r<o.length;r++)if(l.RunData.myUserInfo.dwMoney<o[r].iLessMoney2Enter.toNumber())a=!0;else{if(!(o[r].iMaxMoney2Enter.toNumber()>0&&l.RunData.myUserInfo.dwMoney>o[r].iMaxMoney2Enter.toNumber())){s.HallEvent.event(s.HallEvent.LOAD_GAME,[e.GameID,o[r].uRoomID,o[r].iRoomLevel]);break}i=!0}if(a)return void s.HallEvent.event(s.HallEvent.SHOW_WAITTING_MSG,"ERROR_CODE_1001");if(i)return void s.HallEvent.event(s.HallEvent.SHOW_WAITTING_MSG,"ERROR_CODE_1002")}else d.LogBase.warn("LOGIN_GAME...roomInfoList == null  gameid:",e.GameID),s.HallEvent.dispatcher.event(s.HallEvent.SHOW_MESSAGE,c.Define.TIPS.SERVER_NOT_READY)}else d.LogBase.warn("Server has not ready ! gameid: 34200")},t.prototype.onZhuanpanDailog=function(){l.RunData.LotteryConfig&&0==l.RunData.LotteryConfig.byIsSigned&&1==l.RunData.LotteryConfig.byIsEnabled&&b.Zhuanpan27.OpenScene(this.node)},t.prototype.onShowWaiting=function(e){d.LogBase.log("onShowWaiting",e),G.ScenePrompt7.OpenScene(null,e)},t.prototype.onCloseWaiting=function(){G.ScenePrompt7.CloseScene()},t.prototype.onCloseDialog=function(e){switch(e){case s.HallEvent.SHOW_MISSPASSWD_DIALOG:T.ScenePassword7.CloseScene();break;case s.HallEvent.SHOW_LOGINING_VIEW:N.default.CloseScene();break;case s.HallEvent.SHOW_REGIST_DIALOG:C.SceneRegist7.CloseScene()}},t.prototype.onShowMessage=function(e,t,n,o){void 0===t&&(t=!1),d.LogBase.log("onShowMessage",e),O.SceneSysTips7.OpenScene(null,e,n,o)},t.prototype.onShowNetMessage=function(e,t,n,o){d.LogBase.log("onShowNetMessage:",e+"  ERROR_CODE_"+t.toString());var i=p.ConfigMng.getNetTips(c.Define.TIPS.ERROR_CODE+t.toString());O.SceneSysTips7.OpenScene(this.node,i,n,o)},t.prototype.onSelectRoom=function(e,t){d.LogBase.log("onSelectRoom",e,t),ie.SceneSellectRoom6.OpenScene(this.node,e,t)},t.prototype.onExitHall=function(){d.LogBase.log("onExitHall"),v.Laya.Dialog.closeAll(),D.SceneGameLoad7.CloseScene(!0),Y.SceneMainHall6.CloseScene(),ne.SceneLogin6.OpenScene()},t.prototype.onOpenMainHall=function(){d.LogBase.log("onOpenMainHall"),Y.SceneMainHall6.OpenScene(this.node)},t.prototype.onMailDetailDailog=function(e,t){w.SceneMailDetail7.OpenScene(this.node,e,t)},t.prototype.onMuteSound=function(e){v.Laya.SoundManager.muted=e},t.prototype.onLoadGame=function(e,t,o){var i=p.ConfigMng.getGameLoadingAddr(e);if(d.LogBase.log("onLoadGame",e,i),""!=i){if(n.CURRENT_OPEN_GAME==e)return;n.CURRENT_OPEN_GAME=e,D.SceneGameLoad7.OpenScene(this.node,e,t,o)}else s.HallEvent.event(s.HallEvent.SHOW_MESSAGE,p.ConfigMng.getNetTips(c.Define.TIPS.GAME_RES_ERROR))},t.prototype.onGoBackHall=function(){d.LogBase.log("onGoBackHall"),I.SceneMainHall7.s_scene.visible=!0,D.SceneGameLoad7.CloseScene(!0),h.default.sendUserUp(),h.default.sendLeftRoom(),g.BaseDesk.clear(),f.default.reset(),y.Client.Instance.removeGameListener(),v.Laya.SoundManager.stopAll(),u.HallSoundManager.PlayMusic(p.ConfigMng.hallconfigJson.music.sound_bg_0,0)},t.prototype.onReconnect=function(){if(l.RunData.myUserInfo.iCutRoomID>0){var e=m.RoomMng.getRoomInfoById(l.RunData.myUserInfo.iCutRoomID);null!=e&&e.uNameID>0&&s.HallEvent.event(s.HallEvent.LOAD_GAME,[e.uNameID.toString(),e.uRoomID,e.iRoomLevel])}},t.prototype.onAwake=function(){n.dialogNode=this},t.LoadCount=0,t.LoadCallback=null,t.RES_COUNT=6,t.RES_COUNT_bak=27,t.dialogNode=null,n=a([ae()],t)}(v.Laya.Scene));n.default=re,cc._RF.pop()},{"../halllib/common/ConfigMng":"ConfigMng","../halllib/common/Define":"Define","../halllib/common/LogBase":"LogBase","../halllib/core/HallData":"HallData","../halllib/core/RunData":"RunData","../halllib/laya/Laya":"Laya","../halllib/net/Client":"Client","../halllib/net/InnerEvent":"InnerEvent","../halllib/net/PlatformConfig":"PlatformConfig","../halllib/net/RoomMsgProxy":"RoomMsgProxy","../hallph6/SceneActivity6":"SceneActivity6","../hallph6/SceneAgent6":"SceneAgent6","../hallph6/SceneBindWallet6":"SceneBindWallet6","../hallph6/SceneLogin6":"SceneLogin6","../hallph6/SceneLuckyRoulette6":"SceneLuckyRoulette6","../hallph6/SceneMainHall6":"SceneMainHall6","../hallph6/SceneModifyRegisterPhone6":"SceneModifyRegisterPhone6","../hallph6/SceneMonthRank6":"SceneMonthRank6","../hallph6/SceneNotice6":"SceneNotice6","../hallph6/SceneRank6":"SceneRank6","../hallph6/SceneRebate6":"SceneRebate6","../hallph6/SceneSelectGame6":"SceneSelectGame6","../hallph6/SceneSellectRoom6":"SceneSellectRoom6","../hallph6/SceneService6":"SceneService6","../hallph6/SceneSetting6":"SceneSetting6","../hallph6/SceneWithdraw6":"SceneWithdraw6","../hallph6/Wallet6":"Wallet6","../hallph7/LoadingView7":"LoadingView7","../hallph7/SceneAchieveRule7":"SceneAchieveRule7","../hallph7/SceneAddHomeScreen7":"SceneAddHomeScreen7","../hallph7/SceneBindPhone7":"SceneBindPhone7","../hallph7/SceneDoc7":"SceneDoc7","../hallph7/SceneFace7":"SceneFace7","../hallph7/SceneFirstRecharge7":"SceneFirstRecharge7","../hallph7/SceneGameLoad7":"SceneGameLoad7","../hallph7/SceneLoginAccount7":"SceneLoginAccount7","../hallph7/SceneMailDetail7":"SceneMailDetail7","../hallph7/SceneMainHall7":"SceneMainHall7","../hallph7/ScenePassword7":"ScenePassword7","../hallph7/ScenePrompt7":"ScenePrompt7","../hallph7/SceneRechargeTip7":"SceneRechargeTip7","../hallph7/SceneRegist7":"SceneRegist7","../hallph7/SceneReward7":"SceneReward7","../hallph7/SceneRule7":"SceneRule7","../hallph7/SceneSysTips7":"SceneSysTips7","../hallph7/SceneUserInfo7":"SceneUserInfo7","../hallph7/SceneVerification7":"SceneVerification7","../hallph7/SceneWealthClub7":"SceneWealthClub7","../hallph7/Zhuanpan27":"Zhuanpan27","./BaseDesk":"BaseDesk","./BaseRoom":"BaseRoom","./RoomMng":"RoomMng"}],DiamondComponent:[function(e,t,n){"use strict";cc._RF.push(t,"a3728FaanhJVLGRai8PlK8W","DiamondComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../../main/scripts/framework/gg"),s=e("../../../main/scripts/systems/user/UserWalletEvent"),l=e("../../../main/scripts/systems/user/UserWalletSystem"),c=e("../../../main/scripts/utils/CurrencyUtil"),u=e("../configs/CommonPanelConfig"),p=e("../systems/api/gameapi/PayApiModels"),h=e("../systems/remoteconfig/RemoteConfigModel"),d=e("../systems/remoteconfig/RemoteConfigSystem"),f=cc._decorator,g=f.ccclass,m=f.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.diamondBalanceLabel=null,t.btn=null,t.addIconNode=null,t}return i(t,e),t.prototype.onEnable=function(){var e=d.remoteConfigSystem.getConfig(h.RemoteCoinfigType.PayConfig);this.btn.interactable=null==e||null==e.enable||e.enable,this.addIconNode.active=this.btn.interactable,this._updateBalance(),r.gg.eventManager.on(s.UserWalletEvent.OnBalanceChanged,this._onBalanceChanged,this)},t.prototype.onDisable=function(){r.gg.eventManager.offTarget(this)},t.prototype._onBalanceChanged=function(){this._updateBalance()},t.prototype._updateBalance=function(){this.diamondBalanceLabel.string=c.CurrencyUtil.toHumanReadable(l.userWalletSystem.diamondBalance)},t.prototype.onDiamondBanlanceBtnClick=function(){r.gg.panelRouter.isShowed(u.CommonPanelConfig.storePanel)||r.gg.panelRouter.show({panel:u.CommonPanelConfig.storePanel,data:{type:p.GoodsTypeEnum.Diamond}})},a([m({type:cc.Label,tooltip:"\u94bb\u77f3"})],t.prototype,"diamondBalanceLabel",void 0),a([m({type:cc.Button,tooltip:"\u6309\u94ae"})],t.prototype,"btn",void 0),a([m({type:cc.Node,tooltip:"\u6dfb\u52a0\u56fe\u6807"})],t.prototype,"addIconNode",void 0),a([g],t)}(cc.Component);n.default=y,cc._RF.pop()},{"../../../main/scripts/framework/gg":"gg","../../../main/scripts/systems/user/UserWalletEvent":"UserWalletEvent","../../../main/scripts/systems/user/UserWalletSystem":"UserWalletSystem","../../../main/scripts/utils/CurrencyUtil":"CurrencyUtil","../configs/CommonPanelConfig":"CommonPanelConfig","../systems/api/gameapi/PayApiModels":"PayApiModels","../systems/remoteconfig/RemoteConfigModel":"RemoteConfigModel","../systems/remoteconfig/RemoteConfigSystem":"RemoteConfigSystem"}],DiamondRankingComponent:[function(e,t,n){"use strict";cc._RF.push(t,"457e67uYT1JrokmdDMxz460","DiamondRankingComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../../../../../main/scripts/configs/CommonPanelConfig"),l=e("../../../../../../main/scripts/framework/gg"),c=e("../../../../../../main/scripts/framework/i18n/I18n"),u=e("../../../../../../main/scripts/systems/api/gameapi/GameApi"),p=e("../../../../../../main/scripts/systems/api/gameapi/GameApiModels"),h=e("../../../../../../main/scripts/systems/api/gamecenter/GameCenterApiModels"),d=r(e("../components/MyRankComponent")),f=r(e("../components/RankingTopThreeLayComponent")),g=e("../RankingStorageConfig"),m=r(e("./DiamondRankingItemComponent")),y=cc._decorator,_=y.ccclass,v=y.property,b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.myRank=null,t.rankingTopThreeLayNode=null,t.myDiamondRanking=null,t.diamondRankingItemScrollView=null,t.diamondRankingItemParentNode=null,t.diamondRankingItemNode=null,t.diamondRankingItemNodeHeight=78,t.spaceingY=0,t.paddingTop=0,t.paddingBottom=0,t.visableAreaMarginTop=78,t.visableAreaMarginBottom=78,t.itemList=[],t._virtualNodes=[],t.lastTimer=0,t._itemNodeAll=[],t}return i(t,e),t.prototype.onLoad=function(){this.rankingTopThreeLayNode.getComponent(f.default).initTypeIcon(p.RankingType.TotalDiamond)},t.prototype.onEnable=function(){this.reset(),this.getDiamondRankingData(),this.diamondRankingItemParentNode.on(cc.Node.EventType.POSITION_CHANGED,this._onPositionChanged,this),this.diamondRankingItemScrollView.node.on("scroll-ended",this._updateList,this)},t.prototype.onDisable=function(){this.reset(),this.diamondRankingItemParentNode.off(cc.Node.EventType.POSITION_CHANGED,this._onPositionChanged,this),this.diamondRankingItemScrollView.node.off("scroll-ended",this._updateList,this)},t.prototype.onClickOpenHelp=function(){l.gg.panelRouter.show({panel:s.CommonPanelConfig.rankingHelpPanel,data:{rankingType:p.RankingType.TotalDiamond}})},t.prototype.reset=function(){this.myDiamondRanking.node.active=!1,this.rankingTopThreeLayNode.getComponent(f.default).initTopThreeUI(),this.itemList=[],this._virtualNodes=[],this.diamondRankingItemScrollView.stopAutoScroll(),this.diamondRankingItemParentNode.position=cc.v3(),this._itemNodeAll=[];for(var e=this.diamondRankingItemParentNode.children.length-1;e>=0;--e)this._itemNodeAll.push(this.diamondRankingItemParentNode.children[e]),this.diamondRankingItemParentNode.children[e].active=!1},t.prototype.getDiamondRankingData=function(){var e=this;u.gameApi.getRankingList({type:p.RankingType.TotalDiamond,page:"1",size:"50"}).then(function(t){var n,o,i=!1;if((null===(o=null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.rankings)||void 0===o?void 0:o.length)>0)for(var a=0,r=t.data.rankings;a<r.length;a++){var u=r[a];if(u.type===p.RankingType.TotalDiamond){for(var g=0;g<u.list.length;g++)i=!0,g<3?e.rankingTopThreeLayNode.getComponent(f.default).topThree.push(u.list[g]):e.itemList.push(u.list[g]);e.myDiamondRanking.rankingUserInfo=u.my;break}}if(i)e.myDiamondRanking.rankingUserInfo?(e.myDiamondRanking.updateUI(),e.myRank.getComponent(d.default).updataUI(e.myDiamondRanking.rankingUserInfo.ranking),e.myDiamondRanking.node.active=!0):e.myDiamondRanking.node.active=!1,e.init(),e.rankingTopThreeLayNode.getComponent(f.default).updateTopThreeUI(),e.checkFistPanel();else{var m="toast.rankingListFail";t.status===h.FlatHttpResponseCode.Success&&(m="toast.rankingNotData"),l.gg.panelRouter.show({panel:s.CommonPanelConfig.toastPanel,data:{text:c.i18n.getText(m)}})}}).catch(function(e){l.gg.logger.error(e),l.gg.panelRouter.hide({panel:s.CommonPanelConfig.loadingPanel,onHided:function(){l.gg.panelRouter.show({panel:s.CommonPanelConfig.toastPanel,data:{text:c.i18n.getText("toast.rankingListFail")}})}})})},t.prototype.checkFistPanel=function(){var e=!0,t=l.gg.localStorage.getItem(g.RankingStorageConfig.RankingTatalDiamonTimeStr);if(""!==t){var n=parseInt(t),o=Math.floor(n/864e5);Math.floor(Date.now()/864e5)===o&&(e=!1)}var i=this.rankingTopThreeLayNode.getComponent(f.default).topThree;e&&i.length>0&&l.gg.panelRouter.show({panel:s.CommonPanelConfig.rankingFristExhibitPanel,data:{rankingUserInfo:i[0]}}),l.gg.localStorage.setItem(g.RankingStorageConfig.RankingTatalDiamonTimeStr,Date.now().toString())},t.prototype.getItemNode=function(){var e=this._itemNodeAll.pop();return e||(e=cc.instantiate(this.diamondRankingItemNode),this.diamondRankingItemParentNode.addChild(e)),e},t.prototype.init=function(){this.itemList&&this.itemList.length>0&&(this._virtualNodes=this.itemList.map(function(){return null}),this._updateListWidth(),this.diamondRankingItemParentNode.position=cc.v3(),this._updateList())},t.prototype._updateListWidth=function(){var e=this.itemList.length;this.diamondRankingItemParentNode.height=this.paddingTop+this.paddingBottom+this.diamondRankingItemNodeHeight*e+this.spaceingY*e,this.diamondRankingItemParentNode.height<this.diamondRankingItemScrollView.node.height&&(this.diamondRankingItemParentNode.height=this.diamondRankingItemScrollView.node.height)},t.prototype._onPositionChanged=function(){var e=Date.now();(e-this.lastTimer)/1e3>=.1&&(this.lastTimer=e,this._updateList())},t.prototype._updateList=function(){for(var e=0;e<this._virtualNodes.length;++e){var t=this._virtualNodes[e];if(this._isVisable(e)){null==t&&(t=this.getItemNode()),this._virtualNodes[e]=t,t.position=this._convertIndexToPosition(e);var n=t.getComponent(m.default);n.rankingUserInfo=this.itemList[e],n.updateUI()}else t&&(t.active=!1,this._itemNodeAll.push(t)),this._virtualNodes[e]=null}},t.prototype._isVisable=function(e){var t=this._convertIndexToPosition(e),n=-this.diamondRankingItemParentNode.position.y+this.visableAreaMarginTop,o=n-this.visableAreaMarginTop-this.diamondRankingItemScrollView.node.height-this.visableAreaMarginBottom;return t.y+.5*this.diamondRankingItemNodeHeight<=n&&t.y-.5*this.diamondRankingItemNodeHeight>=o},t.prototype._convertIndexToPosition=function(e){return cc.v3(0,-this.paddingTop-this.diamondRankingItemNodeHeight*(e+.5)-e*this.spaceingY)},a([v({type:cc.Node,tooltip:"\u81ea\u5df1\u540d\u6b21\u7ec4\u4ef6"})],t.prototype,"myRank",void 0),a([v({type:cc.Node,tooltip:"\u524d\u4e09\u540d\u73a9\u5bb6\u7ec4\u4ef6"})],t.prototype,"rankingTopThreeLayNode",void 0),a([v({type:m.default,tooltip:"\u73a9\u5bb6\u81ea\u5df1\u7684\u6392\u540d"})],t.prototype,"myDiamondRanking",void 0),a([v({type:cc.ScrollView,tooltip:"\u94bb\u77f3ScrollView"})],t.prototype,"diamondRankingItemScrollView",void 0),a([v({type:cc.Node,tooltip:"\u94bb\u77f3\u7236\u8282\u70b9"})],t.prototype,"diamondRankingItemParentNode",void 0),a([v({type:cc.Prefab,tooltip:"\u94bb\u77f3\u9884\u5236\u8282\u70b9"})],t.prototype,"diamondRankingItemNode",void 0),a([v({tooltip:"\u9884\u5236\u4f53item\u8282\u70b9\u7684\u9ad8\u5ea6"})],t.prototype,"diamondRankingItemNodeHeight",void 0),a([v({tooltip:"Item \u95f4\u9694\uff08px\uff09"})],t.prototype,"spaceingY",void 0),a([v({tooltip:"Item \u8ddd\u79bb\u4e0a\u8fb9\uff08px\uff09"})],t.prototype,"paddingTop",void 0),a([v({tooltip:"Item \u8ddd\u79bb\u4e0b\u8fb9\uff08px\uff09"})],t.prototype,"paddingBottom",void 0),a([v({tooltip:"\u53ef\u89c6\u533a\u57df margin, \u8d1f\u6570\u4e3a\u5f80\u5916\u6269\u5c55"})],t.prototype,"visableAreaMarginTop",void 0),a([v({tooltip:"\u53ef\u89c6\u533a\u57df margin, \u8d1f\u6570\u4e3a\u5f80\u5916\u6269\u5c55"})],t.prototype,"visableAreaMarginBottom",void 0),a([_],t)}(cc.Component);n.default=b,cc._RF.pop()},{"../../../../../../main/scripts/configs/CommonPanelConfig":"CommonPanelConfig","../../../../../../main/scripts/framework/gg":"gg","../../../../../../main/scripts/framework/i18n/I18n":"I18n","../../../../../../main/scripts/systems/api/gameapi/GameApi":"GameApi","../../../../../../main/scripts/systems/api/gameapi/GameApiModels":"GameApiModels","../../../../../../main/scripts/systems/api/gamecenter/GameCenterApiModels":"GameCenterApiModels","../RankingStorageConfig":"RankingStorageConfig","../components/MyRankComponent":"MyRankComponent","../components/RankingTopThreeLayComponent":"RankingTopThreeLayComponent","./DiamondRankingItemComponent":"DiamondRankingItemComponent"}],DiamondRankingItemComponent:[function(e,t,n){"use strict";cc._RF.push(t,"539262yCIhMnZuWDLTB78dZ","DiamondRankingItemComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=l(e("../../../../../../main/scripts/components/UserIconStyle1Component")),u=e("../../../../../../main/scripts/configs/CommonPanelConfig"),p=e("../../../../../../main/scripts/framework/gg"),h=l(e("../../../../../../main/scripts/framework/utils/StringUtils")),d=e("../../../../../../main/scripts/systems/user/UserUISystem"),f=cc._decorator,g=f.ccclass,m=f.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.playerRankingLab=null,t.playerNameLab=null,t.playerDiamonLab=null,t.playerIcon=null,t.vipSprite=null,t.rankingUserInfo=null,t.userIconId=null,t.userFrameId=null,t.vipInfo=null,t}return i(t,e),t.prototype.updateUI=function(){var e,t,n,o,i,a,r,s,l,u;this.updataUserVip(),this.node.active=!0,this.playerNameLab.string=h.default.clampStr(this.rankingUserInfo.nick,15),this.playerDiamonLab.string=this.rankingUserInfo.ranking_value+"",this.playerRankingLab&&(this.playerRankingLab.string=this.rankingUserInfo.ranking+""),(null===(e=this.rankingUserInfo)||void 0===e?void 0:e.facelook)!=this.userIconId&&this.playerIcon.getComponent(c.default).updateIcon(null!==(n=null===(t=this.rankingUserInfo)||void 0===t?void 0:t.facelook)&&void 0!==n?n:""),(null===(o=this.rankingUserInfo)||void 0===o?void 0:o.frame)!=this.userFrameId&&this.playerIcon.getComponent(c.default).updateIconFrame(null!==(a=null===(i=this.rankingUserInfo)||void 0===i?void 0:i.frame)&&void 0!==a?a:""),this.userIconId=null!==(s=null===(r=this.rankingUserInfo)||void 0===r?void 0:r.facelook)&&void 0!==s?s:"",this.userFrameId=null!==(u=null===(l=this.rankingUserInfo)||void 0===l?void 0:l.frame)&&void 0!==u?u:""},t.prototype.updataUserVip=function(){var e,t,n,o;return r(this,void 0,void 0,function(){var i;return s(this,function(a){switch(a.label){case 0:return(null===(e=this.rankingUserInfo)||void 0===e?void 0:e.vip_info)?(this.vipSprite.node.active=!0,this.vipInfo==(null===(t=this.rankingUserInfo)||void 0===t?void 0:t.vip_info)?[3,2]:(i=this.vipSprite,[4,d.userUISystem.loadUserVipIcon(this.rankingUserInfo.vip_info.vip_level,this.rankingUserInfo.vip_info.vip_status)])):[3,3];case 1:i.spriteFrame=a.sent(),a.label=2;case 2:return[3,4];case 3:this.vipSprite.node.active=!1,a.label=4;case 4:return this.vipInfo=null!==(o=null===(n=this.rankingUserInfo)||void 0===n?void 0:n.vip_info)&&void 0!==o?o:null,[2]}})})},t.prototype.onClickShowUserInfo=function(){p.gg.panelRouter.show({panel:u.CommonPanelConfig.userInfoPanel,data:{qurey_uid:this.rankingUserInfo.uid,userName:this.rankingUserInfo.nick,userIcon:this.rankingUserInfo.facelook,userIconFrame:this.rankingUserInfo.frame}})},a([m({type:cc.Label,tooltip:"\u73a9\u5bb6\u6392\u540d"})],t.prototype,"playerRankingLab",void 0),a([m({type:cc.Label,tooltip:"\u73a9\u5bb6\u540d\u5b57"})],t.prototype,"playerNameLab",void 0),a([m({type:cc.Label,tooltip:"\u73a9\u5bb6\u94bb\u77f3"})],t.prototype,"playerDiamonLab",void 0),a([m({type:cc.Node,tooltip:"\u73a9\u5bb6\u5934\u50cf\u4fe1\u606f"})],t.prototype,"playerIcon",void 0),a([m({type:cc.Sprite,tooltip:"\u7528\u6237vip\u56fe\u6807"})],t.prototype,"vipSprite",void 0),a([g],t)}(cc.Component);n.default=y,cc._RF.pop()},{"../../../../../../main/scripts/components/UserIconStyle1Component":"UserIconStyle1Component","../../../../../../main/scripts/configs/CommonPanelConfig":"CommonPanelConfig","../../../../../../main/scripts/framework/gg":"gg","../../../../../../main/scripts/framework/utils/StringUtils":"StringUtils","../../../../../../main/scripts/systems/user/UserUISystem":"UserUISystem"}],Dictionary:[function(e,t,n){"use strict";cc._RF.push(t,"4e788Wfm8xEp7S2SG3dDi/9","Dictionary"),Object.defineProperty(n,"__esModule",{value:!0}),n.Dictionary=void 0;var o=function(){function e(){this._values=[],this._keys=[]}return Object.defineProperty(e.prototype,"values",{get:function(){return this._values},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"keys",{get:function(){return this._keys},enumerable:!1,configurable:!0}),e.prototype.set=function(e,t){var n=this._keys.indexOf(e);n>=0?this._values[n]=t:(this._keys.push(e),this._values.push(t))},e.prototype.indexOf=function(e){var t=this._keys.indexOf(e);return t>=0?t:(e="string"==typeof e?Number(e):"number"==typeof e?e.toString():e,this._keys.indexOf(e))},e.prototype.get=function(e){var t=this._keys.indexOf(e);return t<0?null:this._values[t]},e.prototype.remove=function(e){var t=this._keys.indexOf(e);return t>=0&&(this._keys.splice(t,1),this._values.splice(t,1),!0)},e.prototype.clear=function(){this._values.length=0,this._keys.length=0},e}();n.Dictionary=o,cc._RF.pop()},{}],Downloader:[function(e,t,n){"use strict";cc._RF.push(t,"7cbfdztpDxMR4WaKdPObUUZ","Downloader"),Object.defineProperty(n,"__esModule",{value:!0}),n.Downloader=void 0;var o=e("../events/Event"),i=e("../utils/Browser"),a=e("../utils/ImgUtils"),r=e("./HttpRequest"),s=e("./WorkerLoader"),l=function(){function e(){this.httpRequestPool=[]}return e.prototype.common=function(e,t,n,i,a,r){var s=this,l=this.getRequestInst();l.on(o.Event.COMPLETE,function(){var e=l.data;s.returnRequestInst(l),r(e)}),l.on(o.Event.ERROR,null,function(e){s.returnRequestInst(l),r(null,e)}),a&&l.on(o.Event.PROGRESS,a),l.send(t,null,"get",i),e.$ref=l},e.prototype.image=function(e,t,n,o,a){var r=new i.Browser.window.Image;r.crossOrigin="",r.onload=function(){r.onload=null,r.onerror=null,a(r)},r.onerror=function(){r.onload=null,r.onerror=null,a(null,"")},r.src=t,e.$ref=r},e.prototype.imageWithBlob=function(e,t,n,o,i){var r=a.ImgUtils.arrayBufferToURL(n,t);this.image(e,r,n,o,i)},e.prototype.imageWithWorker=function(e,t,n,o,i){s.WorkerLoader.enable=!0,s.WorkerLoader.enable?s.WorkerLoader.load(t,e.workerLoaderOptions).then(function(e){e?i(e):i(null,"workerloader failed!")}):this.image(e,t,n,o,i)},e.prototype.audio=function(e,t,n,o,a){var r=i.Browser.createElement("audio");r.crossOrigin="",r.oncanplaythrough=function(){r.oncanplaythrough=null,r.onerror=null,a(r)},r.onerror=function(){r.oncanplaythrough=null,r.onerror=null,a(null,"")},r.src=t,e.$ref=r},e.prototype.getRequestInst=function(){return 0==this.httpRequestPool.length||i.Browser.onVVMiniGame||i.Browser.onHWMiniGame?new r.HttpRequest:this.httpRequestPool.pop()},e.prototype.returnRequestInst=function(e){e.reset(),this.httpRequestPool.length<10&&this.httpRequestPool.push(e)},e}();n.Downloader=l,cc._RF.pop()},{"../events/Event":"Event","../utils/Browser":"Browser","../utils/ImgUtils":"ImgUtils","./HttpRequest":"HttpRequest","./WorkerLoader":"WorkerLoader"}],Dragging:[function(e,t,n){"use strict";cc._RF.push(t,"fc88b2LIW1A2I0uaJ5LN3Cu","Dragging"),Object.defineProperty(n,"__esModule",{value:!0}),n.Dragging=void 0;var o=e("../events/Event"),i=e("./Ease"),a=e("./Handler"),r=e("./Tween"),s=function(){function e(){this.ratio=.92,this.maxOffset=60,this._dragging=!1,this._clickOnly=!0}return e.prototype.start=function(e,t,n,o,i,a,r){void 0===r&&(r=.92),this.clearTimer(),this.target=e,this.area=t,this.hasInertia=n,this.elasticDistance=t?o:0,this.elasticBackTime=i,this.data=a,this.ratio=r,this._parent=e.parent,this._clickOnly=!0,this._dragging=!0,this._elasticRateX=this._elasticRateY=1,this._lastX=this._parent.mouseX,this._lastY=this._parent.mouseY},e.prototype.clearTimer=function(){this._tween&&(this._tween.recover(),this._tween=null)},e.prototype.stop=function(){this._dragging&&(this._dragging=!1,this.target&&this.area&&this.backToArea(),this.clear())},e.prototype.loop=function(){var e=this._parent.getMousePoint(),t=e.x,n=e.y,i=t-this._lastX,a=n-this._lastY;if(this._clickOnly){if(!(Math.abs(1*i)>1||Math.abs(1*a)>1))return;this._clickOnly=!1,this._offsets||(this._offsets=[]),this._offsets.length=0,this.target.event(o.Event.DRAG_START,this.data)}else this._offsets.push(i,a);0===i&&0===a||(this._lastX=t,this._lastY=n,this.target.x+=i*this._elasticRateX,this.target.y+=a*this._elasticRateY,this.area&&this.checkArea(),this.target.event(o.Event.DRAG_MOVE,this.data))},e.prototype.checkArea=function(){if(this.elasticDistance<=0)this.backToArea();else{if(this.target._x<this.area.x)var e=this.area.x-this.target._x;else e=this.target._x>this.area.x+this.area.width?this.target._x-this.area.x-this.area.width:0;if(this._elasticRateX=Math.max(0,1-e/this.elasticDistance),this.target._y<this.area.y)var t=this.area.y-this.target.y;else t=this.target._y>this.area.y+this.area.height?this.target._y-this.area.y-this.area.height:0;this._elasticRateY=Math.max(0,1-t/this.elasticDistance)}},e.prototype.backToArea=function(){this.target.x=Math.min(Math.max(this.target._x,this.area.x),this.area.x+this.area.width),this.target.y=Math.min(Math.max(this.target._y,this.area.y),this.area.y+this.area.height)},e.prototype.onStageMouseUp=function(){if(!this._clickOnly&&this.target)if(this.hasInertia){this._offsets.length<1&&this._offsets.push(this._parent.mouseX-this._lastX,this._parent.mouseY-this._lastY),this._offsetX=this._offsetY=0;for(var e=this._offsets.length,t=Math.min(e,6),n=this._offsets.length-t,o=e-1;o>n;o--)this._offsetY+=this._offsets[o--],this._offsetX+=this._offsets[o];this._offsetX=this._offsetX/t*2,this._offsetY=this._offsetY/t*2,Math.abs(this._offsetX)>this.maxOffset&&(this._offsetX=this._offsetX>0?this.maxOffset:-this.maxOffset),Math.abs(this._offsetY)>this.maxOffset&&(this._offsetY=this._offsetY>0?this.maxOffset:-this.maxOffset)}else this.elasticDistance>0?this.checkElastic():this.clear()},e.prototype.checkElastic=function(){var e=NaN,t=NaN;if(this.target.x<this.area.x?e=this.area.x:this.target._x>this.area.x+this.area.width&&(e=this.area.x+this.area.width),this.target.y<this.area.y?t=this.area.y:this.target._y>this.area.y+this.area.height&&(t=this.area.y+this.area.height),isNaN(e)&&isNaN(t))this.clear();else{var n={};isNaN(e)||(n.x=e),isNaN(t)||(n.y=t),this._tween=r.Tween.to(this.target,n,this.elasticBackTime,i.Ease.sineOut,a.Handler.create(this,this.clear),0,!1,!1)}},e.prototype.tweenMove=function(){this._offsetX*=this.ratio*this._elasticRateX,this._offsetY*=this.ratio*this._elasticRateY,this.target.x+=this._offsetX,this.target.y+=this._offsetY,this.area&&this.checkArea(),this.target.event(o.Event.DRAG_MOVE,this.data),(Math.abs(this._offsetX)<1&&Math.abs(this._offsetY)<1||this._elasticRateX<.5||this._elasticRateY<.5)&&(this.elasticDistance>0?this.checkElastic():this.clear())},e.prototype.clear=function(){if(this.target){this.clearTimer();var e=this.target;this.target=null,this._parent=null,e.event(o.Event.DRAG_END,this.data)}},e}();n.Dragging=s,cc._RF.pop()},{"../events/Event":"Event","./Ease":"Ease","./Handler":"Handler","./Tween":"Tween"}],DressUpComponent:[function(e,t,n){"use strict";cc._RF.push(t,"5d2c5isDFJKS5Si0x20eaUL","DressUpComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=e("../../../../../../main/scripts/framework/gg"),u=e("../../../../configs/CommonPanelConfig"),p=e("../../../../framework/i18n/I18n"),h=e("../../../../systems/api/gameapi/GameApi"),d=e("../../../../systems/api/gamecenter/GameCenterApiModels"),f=e("../../../../systems/item/ItemSystem"),g=e("../../../../systems/user/UserEvent"),m=e("../../../../systems/user/UserSystem"),y=e("../uiSystems/UserInfoUIEvent"),_=l(e("./UserDesignPrefab")),v=cc._decorator,b=v.ccclass,S=v.property,C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.contentNode=null,t.selectedNode=null,t.unselectedNode=null,t.userDesignPrefab=null,t.dressUpView=null,t.dressUpContent=null,t.paddingX=20,t.itemWidth=119,t.designItemIdList=[],t._itemNodeAll=[],t.playerInfoType=null,t}return i(t,e),t.prototype.onLoad=function(){for(var e=0;e<5;e++){var t=cc.instantiate(this.userDesignPrefab);t.opacity=0,this.dressUpContent.addChild(t),this._itemNodeAll.push(t)}},t.prototype.onEnable=function(){c.gg.eventManager.on(g.UserEvent.OnUserDesignChanged,this.getUserDressUpList,this),c.gg.eventManager.on(y.UserInfoUIEvent.ShowDressUpComponentsEvent,this.onShowUI,this),c.gg.eventManager.on(y.UserInfoUIEvent.ShowBigGiftComponentsEvent,this.onHideUI,this)},t.prototype.onDisable=function(){c.gg.eventManager.offTarget(this),this.reset(),this.onHideUI()},t.prototype.initUserId=function(e){this.playerInfoType=e,this.getUserDressUpList()},t.prototype.onShowUI=function(){this.contentNode.active=!0,this.selectedNode.active=!0,this.unselectedNode.active=!1},t.prototype.onHideUI=function(){this.contentNode.active=!1,this.selectedNode.active=!1,this.unselectedNode.active=!0},t.prototype.updateDesignList=function(){return r(this,void 0,void 0,function(){var e,t;return s(this,function(n){switch(n.label){case 0:this.dressUpContent.width=this.designItemIdList.length*this.itemWidth+this.paddingX*this.designItemIdList.length,this.dressUpContent.width<this.dressUpView.node.width&&(this.dressUpContent.width=this.dressUpView.node.width),e=0,n.label=1;case 1:return e<this.designItemIdList.length?[4,(t=this.getItemNode()).getComponent(_.default).updateUI(this.designItemIdList[e],this.playerInfoType)]:[3,4];case 2:n.sent(),t.x=-e*this.itemWidth-this.itemWidth/2-e*this.paddingX,t.opacity=255,n.label=3;case 3:return e++,[3,1];case 4:return[2]}})})},t.prototype.getItemNode=function(){var e=this._itemNodeAll.pop();return e||(e=cc.instantiate(this.userDesignPrefab),this.dressUpContent.addChild(e)),e},t.prototype.reset=function(){this.designItemIdList=[],this._itemNodeAll=[];for(var e=0,t=this.dressUpContent.children;e<t.length;e++){var n=t[e];this._itemNodeAll.push(n),n.opacity=0}},t.prototype.getUserDressUpList=function(){var e=this;this.reset(),h.gameApi.getPlyaerDesignList(this.playerInfoType).then(function(t){if(t.status===d.FlatHttpResponseCode.Success){for(var n=0,o=t.data.design_list;n<o.length;n++){var i=o[n];null!=f.itemSystem.getItem(i)&&e.designItemIdList.push(i)}e.updateDesignList(),e.playerInfoType.qurey_uid===m.userSystem.userModel.uid&&m.userSystem.updataUserDesignList(t.data.design_list)}else c.gg.panelRouter.show({panel:u.CommonPanelConfig.toastPanel,data:{text:p.i18n.getText("toast.userDesignFailed")}})}).catch(function(){c.gg.panelRouter.show({panel:u.CommonPanelConfig.toastPanel,data:{text:p.i18n.getText("toast.userDesignFailed")}})})},a([S({type:cc.Node,tooltip:"\u5185\u5bb9\u8282\u70b9"})],t.prototype,"contentNode",void 0),a([S({type:cc.Node,tooltip:"\u9009\u4e2d"})],t.prototype,"selectedNode",void 0),a([S({type:cc.Node,tooltip:"\u672a\u9009\u4e2d"})],t.prototype,"unselectedNode",void 0),a([S({type:cc.Prefab,tooltip:"\u88c5\u626e\u9053\u5177\u9884\u5236\u4f53"})],t.prototype,"userDesignPrefab",void 0),a([S({type:cc.ScrollView,tooltip:"\u6ed1\u52a8view"})],t.prototype,"dressUpView",void 0),a([S({type:cc.Node,tooltip:"\u88c5\u626e\u7236\u8282\u70b9"})],t.prototype,"dressUpContent",void 0),a([S({tooltip:"item\u7684\u95f4\u8ddd"})],t.prototype,"paddingX",void 0),a([S({tooltip:"item\u5bbd\u5ea6"})],t.prototype,"itemWidth",void 0),a([b],t)}(cc.Component);n.default=C,cc._RF.pop()},{"../../../../../../main/scripts/framework/gg":"gg","../../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../../framework/i18n/I18n":"I18n","../../../../systems/api/gameapi/GameApi":"GameApi","../../../../systems/api/gamecenter/GameCenterApiModels":"GameCenterApiModels","../../../../systems/item/ItemSystem":"ItemSystem","../../../../systems/user/UserEvent":"UserEvent","../../../../systems/user/UserSystem":"UserSystem","../uiSystems/UserInfoUIEvent":"UserInfoUIEvent","./UserDesignPrefab":"UserDesignPrefab"}],ECSSystem:[function(e,t,n){"use strict";cc._RF.push(t,"c69eftUCFRLkZjfoNZdyY7e","ECSSystem");var o=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],r=0,s=a.length;r<s;r++,i++)o[i]=a[r];return o};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../eventmanager/EventManager"),a=function(){function e(){this._handlers=null,this._eventManager=null}return Object.defineProperty(e.prototype,"handlers",{get:function(){return null==this._handlers&&(this._handlers=[]),this._handlers},enumerable:!1,configurable:!0}),e.prototype.register=function(e){null==this._handlers&&(this._handlers=[]),this._handlers.includes(e)||this._handlers.push(e)},e.prototype.unregister=function(e){if(null!=this._handlers){var t=this._handlers.findIndex(function(t){return t==e});-1!=t&&this._handlers.splice(t,1)}},e.prototype.unregisterAll=function(){this._handlers=null},e.prototype.on=function(e,t,n){null==this._eventManager&&(this._eventManager=new i.EventManager),this._eventManager.on(e,t,n)},e.prototype.onOnce=function(e,t,n){null==this._eventManager&&(this._eventManager=new i.EventManager),this._eventManager.onOnce(e,t,n)},e.prototype.off=function(e,t,n){null!=this._eventManager&&this._eventManager.off(e,t,n)},e.prototype.offTarget=function(e){null!=this._eventManager&&this._eventManager.offTarget(e)},e.prototype.emit=function(e){for(var t,n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];null==this._eventManager&&(this._eventManager=new i.EventManager),(t=this._eventManager).emit.apply(t,o([e],n))},e}();n.default=a,cc._RF.pop()},{"../eventmanager/EventManager":"EventManager"}],Ease:[function(e,t,n){"use strict";cc._RF.push(t,"586b2kw025CYavi/q4AMfOG","Ease"),Object.defineProperty(n,"__esModule",{value:!0}),n.Ease=void 0;var o=.5*Math.PI,i=2*Math.PI,a=function(){function e(){}return e.linearNone=function(e,t,n,o){return n*e/o+t},e.linearIn=function(e,t,n,o){return n*e/o+t},e.linearInOut=function(e,t,n,o){return n*e/o+t},e.linearOut=function(e,t,n,o){return n*e/o+t},e.bounceIn=function(t,n,o,i){return o-e.bounceOut(i-t,0,o,i)+n},e.bounceInOut=function(t,n,o,i){return t<.5*i?.5*e.bounceIn(2*t,0,o,i)+n:.5*e.bounceOut(2*t-i,0,o,i)+.5*o+n},e.bounceOut=function(e,t,n,o){return(e/=o)<1/2.75?7.5625*n*e*e+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t},e.backIn=function(e,t,n,o,i){return void 0===i&&(i=1.70158),n*(e/=o)*e*((i+1)*e-i)+t},e.backInOut=function(e,t,n,o,i){return void 0===i&&(i=1.70158),(e/=.5*o)<1?.5*n*e*e*((1+(i*=1.525))*e-i)+t:n/2*((e-=2)*e*((1+(i*=1.525))*e+i)+2)+t},e.backOut=function(e,t,n,o,i){return void 0===i&&(i=1.70158),n*((e=e/o-1)*e*((i+1)*e+i)+1)+t},e.elasticIn=function(e,t,n,o,a,r){var s;return void 0===a&&(a=0),void 0===r&&(r=0),0==e?t:1==(e/=o)?t+n:(r||(r=.3*o),!a||n>0&&a<n||n<0&&a<-n?(a=n,s=r/4):s=r/i*Math.asin(n/a),-a*Math.pow(2,10*(e-=1))*Math.sin((e*o-s)*i/r)+t)},e.elasticInOut=function(e,t,n,o,a,r){var s;return void 0===a&&(a=0),void 0===r&&(r=0),0==e?t:2==(e/=.5*o)?t+n:(r||(r=.3*1.5*o),!a||n>0&&a<n||n<0&&a<-n?(a=n,s=r/4):s=r/i*Math.asin(n/a),e<1?a*Math.pow(2,10*(e-=1))*Math.sin((e*o-s)*i/r)*-.5+t:a*Math.pow(2,-10*(e-=1))*Math.sin((e*o-s)*i/r)*.5+n+t)},e.elasticOut=function(e,t,n,o,a,r){var s;return void 0===a&&(a=0),void 0===r&&(r=0),0==e?t:1==(e/=o)?t+n:(r||(r=.3*o),!a||n>0&&a<n||n<0&&a<-n?(a=n,s=r/4):s=r/i*Math.asin(n/a),a*Math.pow(2,-10*e)*Math.sin((e*o-s)*i/r)+n+t)},e.strongIn=function(e,t,n,o){return n*(e/=o)*e*e*e*e+t},e.strongInOut=function(e,t,n,o){return(e/=.5*o)<1?.5*n*e*e*e*e*e+t:.5*n*((e-=2)*e*e*e*e+2)+t},e.strongOut=function(e,t,n,o){return n*((e=e/o-1)*e*e*e*e+1)+t},e.sineInOut=function(e,t,n,o){return.5*-n*(Math.cos(Math.PI*e/o)-1)+t},e.sineIn=function(e,t,n,i){return-n*Math.cos(e/i*o)+n+t},e.sineOut=function(e,t,n,i){return n*Math.sin(e/i*o)+t},e.quintIn=function(e,t,n,o){return n*(e/=o)*e*e*e*e+t},e.quintInOut=function(e,t,n,o){return(e/=.5*o)<1?.5*n*e*e*e*e*e+t:.5*n*((e-=2)*e*e*e*e+2)+t},e.quintOut=function(e,t,n,o){return n*((e=e/o-1)*e*e*e*e+1)+t},e.quartIn=function(e,t,n,o){return n*(e/=o)*e*e*e+t},e.quartInOut=function(e,t,n,o){return(e/=.5*o)<1?.5*n*e*e*e*e+t:.5*-n*((e-=2)*e*e*e-2)+t},e.quartOut=function(e,t,n,o){return-n*((e=e/o-1)*e*e*e-1)+t},e.cubicIn=function(e,t,n,o){return n*(e/=o)*e*e+t},e.cubicInOut=function(e,t,n,o){return(e/=.5*o)<1?.5*n*e*e*e+t:.5*n*((e-=2)*e*e+2)+t},e.cubicOut=function(e,t,n,o){return n*((e=e/o-1)*e*e+1)+t},e.quadIn=function(e,t,n,o){return n*(e/=o)*e+t},e.quadInOut=function(e,t,n,o){return(e/=.5*o)<1?.5*n*e*e+t:.5*-n*(--e*(e-2)-1)+t},e.quadOut=function(e,t,n,o){return-n*(e/=o)*(e-2)+t},e.expoIn=function(e,t,n,o){return 0==e?t:n*Math.pow(2,10*(e/o-1))+t-.001*n},e.expoInOut=function(e,t,n,o){return 0==e?t:e==o?t+n:(e/=.5*o)<1?.5*n*Math.pow(2,10*(e-1))+t:.5*n*(2-Math.pow(2,-10*--e))+t},e.expoOut=function(e,t,n,o){return e==o?t+n:n*(1-Math.pow(2,-10*e/o))+t},e.circIn=function(e,t,n,o){return-n*(Math.sqrt(1-(e/=o)*e)-1)+t},e.circInOut=function(e,t,n,o){return(e/=.5*o)<1?.5*-n*(Math.sqrt(1-e*e)-1)+t:.5*n*(Math.sqrt(1-(e-=2)*e)+1)+t},e.circOut=function(e,t,n,o){return n*Math.sqrt(1-(e=e/o-1)*e)+t},e}();n.Ease=a,cc._RF.pop()},{}],EncryptLocalStorage:[function(e,t,n){"use strict";cc._RF.push(t,"2750dQXrEZA5ZD8g5LTNktj","EncryptLocalStorage"),Object.defineProperty(n,"__esModule",{value:!0}),n.encryptLocalStorage=n.EncryptLocalStorage=void 0;var o=e("../gg"),i=e("../utils/CryptoWrapper"),a=function(){function e(e,t){this._secretKey="0123456789abcdef",this._iv="0123456789abcdef",e&&(this._secretKey=e),t&&(this._iv=t)}return e.prototype.getItem=function(e){if(null==e)return o.gg.logger.error("LocalStorage","getItem","invalid key"),"";var t=i.CryptoWrapper.md5(e),n=cc.sys.localStorage.getItem(t);if(null==n&&(n=""),n&&""!==n)try{n=i.CryptoWrapper.aesDecrypt(n,this._secretKey,this._iv)}catch(a){throw n="",o.gg.logger.error("LocalStorage","getItem","item decrypt failed",a),a}return o.gg.logger.debug("LocalStorage","getItem",e,n),n},e.prototype.setItem=function(e,t){if(null!=e){o.gg.logger.debug("LocalStorage","setItem",e,t);var n=i.CryptoWrapper.md5(e);try{var a=i.CryptoWrapper.aesEncrypt(t,this._secretKey,this._iv);cc.sys.localStorage.setItem(n,a)}catch(r){throw o.gg.logger.error("LocalStorage","setItem","item encrypt failed",r),r}return!0}o.gg.logger.error("LocalStorage","setItem","invalid key")},e.prototype.removeItem=function(e){if(null!=e){var t=i.CryptoWrapper.md5(e);cc.sys.localStorage.removeItem(t),o.gg.logger.debug("LocalStorage","removeItem",e)}else o.gg.logger.error("LocalStorage","removeItem","invalid key")},e}();n.EncryptLocalStorage=a,n.encryptLocalStorage=new a,cc._RF.pop()},{"../gg":"gg","../utils/CryptoWrapper":"CryptoWrapper"}],EventDispatcher:[function(e,t,n){"use strict";cc._RF.push(t,"89836y1T1lByLOCX6OOwDQV","EventDispatcher"),Object.defineProperty(n,"__esModule",{value:!0}),n.EventDispatcher=void 0;var o=e("../utils/Delegate"),i=e("./Event"),a=[],r=function(){function e(){}return e.prototype.onStartListeningToType=function(){},e.prototype.hasListener=function(e){var t=this._events&&this._events[e];return!!t&&t.count>0},e.prototype.event=function(e,t){var n=this._events&&this._events[e];if(!n)return!1;var o=n.count>0;if(Array.isArray(t))n.invoke.apply(n,t);else if(void 0!==t)n.invoke(t);else if(t===i.Event.EMPTY){var r=a.length>0?a.pop():new i.Event;n.invoke(r.setTo(e,this,this)),r.target=r.currentTarget=null,a.push(r)}else n.invoke();return o},e.prototype.on=function(e,t,n,i){2==arguments.length&&(n=t,t=null),this._events||(this._events={});var a=this._events[e];return a||(this.onStartListeningToType(e),this._events[e]=a=new o.Delegate),a.add(n,t,i),this},e.prototype.once=function(e,t,n,i){2==arguments.length&&(n=t,t=null),this._events||(this._events={});var a=this._events[e];return a||(this.onStartListeningToType(e),this._events[e]=a=new o.Delegate),a.once(n,t,i),this},e.prototype.off=function(e,t,n){2==arguments.length&&(n=t,t=null);var o=this._events&&this._events[e];return o&&o.remove(n,t),this},e.prototype.offAll=function(e){if(null==e)this._events=null;else{var t=this._events&&this._events[e];t&&t.clear()}return this},e.prototype.offAllCaller=function(e){if(e&&this._events)for(var t in this._events)this._events[t].clearForTarget(e);return this},e}();n.EventDispatcher=r,cc._RF.pop()},{"../utils/Delegate":"Delegate","./Event":"Event"}],EventManagerInterface:[function(e,t,n){"use strict";cc._RF.push(t,"ddaccjw7ypHuYgsqxwhCQvo","EventManagerInterface"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],EventManager:[function(e,t,n){"use strict";cc._RF.push(t,"13ec12V9adBEqf+QkTcoroa","EventManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.eventManager=n.EventManager=void 0;var o=function(){function e(){this._eventCacheMap=new Map}return e.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var o=this._eventCacheMap.get(e);if(o)for(var i=o.length-1;i>=0;i--){var a=o[i];a&&(a.callback.apply(a.target,t),a.once&&(o.splice(i,1),0==o.length&&this._eventCacheMap.delete(e)))}},e.prototype.on=function(e,t,n){this._on(e,t,n,!1)},e.prototype.onOnce=function(e,t,n){this._on(e,t,n,!0)},e.prototype._on=function(e,t,n,o){var i=this._eventCacheMap.get(e);i||(i=[]),-1===i.findIndex(function(e){return e.target===n&&e.callback===t})&&(i.push({target:n,callback:t,once:o}),this._eventCacheMap.set(e,i))},e.prototype.off=function(e,t,n){var o=this._eventCacheMap.get(e);if(o)if(t&&n){var i=o.findIndex(function(e){return e.target===n&&e.callback===t});-1!==i&&(o.splice(i,1),0==o.length&&this._eventCacheMap.delete(e))}else o=void 0,this._eventCacheMap.delete(e)},e.prototype.offTarget=function(e){var t=this;this._eventCacheMap.forEach(function(n,o){if(n){for(var i=n.length-1;i>=0;i--)n[i].target===e&&n.splice(i,1);0==n.length&&t._eventCacheMap.delete(o)}})},e.prototype.destroy=function(){this._eventCacheMap.clear()},e}();n.EventManager=o,n.eventManager=new o,cc._RF.pop()},{}],Event:[function(e,t,n){"use strict";cc._RF.push(t,"e48c6ldaMVJC4Qhrw7a23Ec","Event"),Object.defineProperty(n,"__esModule",{value:!0}),n.Event=void 0;var o=e("../maths/Point"),i=function(){function e(){this.touchId=0,this.delta=0,this.button=0,this.touchPos=new o.Point}return e.isMouseEvent=function(e){return a.has(e)},e.prototype.setTo=function(e,t,n){return this.type=e,this.currentTarget=t,this.target=n,this},e.prototype.stopPropagation=function(){this._stopped=!0},Object.defineProperty(e.prototype,"touches",{get:function(){return this._touches},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"altKey",{get:function(){var e;return null===(e=this.nativeEvent)||void 0===e?void 0:e.altKey},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ctrlKey",{get:function(){var e;return null===(e=this.nativeEvent)||void 0===e?void 0:e.ctrlKey},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shiftKey",{get:function(){var e;return null===(e=this.nativeEvent)||void 0===e?void 0:e.shiftKey},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metaKey",{get:function(){var e;return null===(e=this.nativeEvent)||void 0===e?void 0:e.metaKey},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.nativeEvent.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"keyCode",{get:function(){return this.nativeEvent.keyCode},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"charCode",{get:function(){var e;return null===(e=this.nativeEvent)||void 0===e?void 0:e.code},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"keyLocation",{get:function(){return this.nativeEvent?this.nativeEvent.location||this.nativeEvent.keyLocation:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stageX",{get:function(){return this.touchPos.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stageY",{get:function(){return this.touchPos.y},enumerable:!1,configurable:!0}),e.EMPTY=new e,e.MOUSE_DOWN="mousedown",e.MOUSE_UP="mouseup",e.RIGHT_MOUSE_DOWN="rightmousedown",e.RIGHT_MOUSE_UP="rightmouseup",e.CLICK="click",e.RIGHT_CLICK="rightclick",e.MOUSE_MOVE="mousemove",e.MOUSE_OVER="mouseover",e.MOUSE_OUT="mouseout",e.MOUSE_WHEEL="mousewheel",e.ROLL_OVER="mouseover",e.ROLL_OUT="mouseout",e.DOUBLE_CLICK="doubleclick",e.MOUSE_DRAG="mousedrag",e.MOUSE_DRAG_END="mousedragend",e.DRAG_START="dragstart",e.DRAG_MOVE="dragmove",e.DRAG_END="dragend",e.KEY_DOWN="keydown",e.KEY_PRESS="keypress",e.KEY_UP="keyup",e.CHANGE="change",e.CHANGED="changed",e.WILL_RESIZE="willResize",e.RESIZE="resize",e.ADDED="added",e.REMOVED="removed",e.DISPLAY="display",e.UNDISPLAY="undisplay",e.ERROR="error",e.COMPLETE="complete",e.LOADED="loaded",e.READY="ready",e.PROGRESS="progress",e.INPUT="input",e.RENDER="render",e.OPEN="open",e.MESSAGE="message",e.CLOSE="close",e.FRAME="enterframe",e.ENTER="enter",e.SELECT="select",e.BLUR="blur",e.FOCUS="focus",e.VISIBILITY_CHANGE="visibilitychange",e.FOCUS_CHANGE="focuschange",e.PLAYED="played",e.PAUSED="paused",e.STOPPED="stopped",e.START="start",e.END="end",e.LINK="link",e.LABEL="label",e.FULL_SCREEN_CHANGE="fullscreenchange",e.DEVICE_LOST="devicelost",e.TRANSFORM_CHANGED="transformchanged",e.LAYERCHANGE="layerChange",e.staticMask="staticMask",e.TRIGGER_ENTER="triggerenter",e.TRIGGER_STAY="triggerstay",e.TRIGGER_EXIT="triggerexit",e.COLLISION_ENTER="collisionenter",e.COLLISION_STAY="collisionstay",e.COLLISION_EXIT="collisionexit",e.JOINT_BREAK="jointbreak",e._Add_Script="addscript",e}();n.Event=i;var a=new Set([i.MOUSE_DOWN,i.MOUSE_UP,i.MOUSE_MOVE,i.CLICK,i.DOUBLE_CLICK,i.RIGHT_CLICK,i.RIGHT_MOUSE_DOWN,i.RIGHT_MOUSE_UP,i.MOUSE_OVER,i.MOUSE_OUT,i.MOUSE_WHEEL,i.MOUSE_DRAG,i.MOUSE_DRAG_END]);cc._RF.pop()},{"../maths/Point":"Point"}],FFAdjustWrapper:[function(e,t){"use strict";cc._RF.push(t,"bfa7a7VevhJc4IouVIqsAiK","FFAdjustWrapper"),cc._RF.pop()},{}],FFApiModels:[function(e,t){"use strict";cc._RF.push(t,"64a8e+uo+VHiYX0sy5I0IQZ","FFApiModels"),cc._RF.pop()},{}],FFApi:[function(e,t){"use strict";cc._RF.push(t,"eea33mrSqdPhJwrTTqhBbQx","FFApi"),cc._RF.pop()},{}],FFAttributionPlatform:[function(e,t){"use strict";cc._RF.push(t,"26a4axOzndMw5PQo0PYQ6EY","FFAttributionPlatform"),cc._RF.pop()},{}],FFCacheConst:[function(e,t){"use strict";cc._RF.push(t,"6dd2eXpauRInZoeaY6t2h0N","FFCacheConst"),cc._RF.pop()},{}],FFCryptoV1:[function(e,t){"use strict";cc._RF.push(t,"71266GuHu1O/I/CNhrkFjVx","FFCryptoV1"),cc._RF.pop()},{}],FFCryptoV2:[function(e,t){"use strict";cc._RF.push(t,"39aa7P433lH+a4SikS/IOMg","FFCryptoV2"),cc._RF.pop()},{}],FFCryptoV3:[function(e,t){"use strict";cc._RF.push(t,"a7193YRwrFIBZ1XKVhieNlO","FFCryptoV3"),cc._RF.pop()},{}],FFEvent:[function(e,t){"use strict";cc._RF.push(t,"c2684cuk9JIopyuUFWCiupB","FFEvent"),cc._RF.pop()},{}],FFHttpRequestV1:[function(e,t){"use strict";cc._RF.push(t,"d59fd0AslBCS51lmXFrl2Sg","FFHttpRequestV1"),cc._RF.pop()},{}],FFHttpRequestV2:[function(e,t){"use strict";cc._RF.push(t,"9eff2LuGFtKkoGNt4ZQzpzt","FFHttpRequestV2"),cc._RF.pop()},{}],FFModels:[function(e,t){"use strict";cc._RF.push(t,"5dc9a48LAtMjaW7pK3WllBb","FFModels"),cc._RF.pop()},{}],FacebookAnalysisWrapper:[function(e,t,n){"use strict";cc._RF.push(t,"ad6edB9FfRJyZOIZGq8JLKW","FacebookAnalysisWrapper");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.FacebookAnalysisWrapper=void 0;var i=e("../../framework/gg"),a=(o(e("../../framework/utils/StringUtils")),function(){function e(){}return e.config=function(e){this._commonLogEventParams=e.commonLogEventParams},e.logEvent=function(e,t){var n=null;t&&(null==n&&(n={}),Object.assign(n,t)),this._commonLogEventParams&&(null==n&&(n={}),Object.assign(n,this._commonLogEventParams));var o="";if(n)try{o=JSON.stringify(n)}catch(a){i.gg.logger.error("Facebook \u4e0a\u62a5\u4e8b\u4ef6\u5931\u8d25\uff0c\u81ea\u5b9a\u4e49\u53c2\u6570\u89e3\u6790\u5931\u8d25")}i.gg.logger.debug("Facebook","logEvent",e,o)},e._javaClassPath="com/gxx/facebook/FacebookAnalysisWrapper",e._commonLogEventParams=null,e}());n.FacebookAnalysisWrapper=a,cc._RF.pop()},{"../../framework/gg":"gg","../../framework/utils/StringUtils":"StringUtils"}],FacebookLoginEvent:[function(e,t,n){"use strict";cc._RF.push(t,"15e21hBvsJBC7zWVJgkKreB","FacebookLoginEvent"),Object.defineProperty(n,"__esModule",{value:!0}),n.FacebookLoginEvent=void 0,(n.FacebookLoginEvent||(n.FacebookLoginEvent={})).OnLoginResponse="FacebookLoginEvent.OnLoginResponse",cc._RF.pop()},{}],FacebookLoginModel:[function(e,t,n){"use strict";cc._RF.push(t,"61092CyvfhKWqBU8lOUmdlD","FacebookLoginModel"),Object.defineProperty(n,"__esModule",{value:!0}),n.FacebookLoginResponseCode=void 0,function(e){e[e.Success=0]="Success",e[e.Cancel=1]="Cancel",e[e.Error=2]="Error"}(n.FacebookLoginResponseCode||(n.FacebookLoginResponseCode={})),cc._RF.pop()},{}],FacebookLoginWrapper:[function(e,t,n){"use strict";cc._RF.push(t,"df38f//r8FEQ4YPntNWjmOb","FacebookLoginWrapper"),Object.defineProperty(n,"__esModule",{value:!0}),n.FacebookLoginWrapper=void 0,e("../../framework/eventmanager/EventManager"),e("./FacebookLoginEvent");var o=function(){function e(){}return e.login=function(){return new Promise(function(e,t){t(new Error("\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301Facebook\u767b\u5f55"))})},e.logOut=function(){},e._javaClassPath="com/gxx/facebook/FacebookLoginWrapper",e._ocClassName="FacebookLoginWrapper",e}();n.FacebookLoginWrapper=o,cc._RF.pop()},{"../../framework/eventmanager/EventManager":"EventManager","./FacebookLoginEvent":"FacebookLoginEvent"}],FacebookShareLinkWrapper:[function(e,t,n){"use strict";cc._RF.push(t,"6f613oVC3dP0pjzcbbHcwFK","FacebookShareLinkWrapper"),Object.defineProperty(n,"__esModule",{value:!0}),n.FacebookShareLinkWrapper=void 0,e("../../framework/eventmanager/EventManager");var o=e("../../framework/gg"),i=function(){function e(){}return e.savePhotoToGallery=function(e){return o.gg.logger.log("save photo to gallery: ",e),null},e.sharePhotoLink=function(e,t){return void 0===t&&(t=null),new Promise(function(e){e({code:0,msg:"\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u5206\u4eab"})})},e._javaClassPath="com/gxx/facebook/FacebookShareLinkWrapper",e._ocClassName="ShareLinkWrapper",e.SHARE_RESPONSE_EVENT="FacebookShareLinkWrapper.ShareResponseEvent",e}();n.FacebookShareLinkWrapper=i,cc._RF.pop()},{"../../framework/eventmanager/EventManager":"EventManager","../../framework/gg":"gg"}],FashionRankingComponent:[function(e,t,n){"use strict";cc._RF.push(t,"295e5K9z6pN2I6nz8ZIBd2n","FashionRankingComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../../../../../main/scripts/configs/CommonPanelConfig"),l=e("../../../../../../main/scripts/framework/gg"),c=e("../../../../../../main/scripts/framework/i18n/I18n"),u=e("../../../../../../main/scripts/systems/api/gameapi/GameApi"),p=e("../../../../../../main/scripts/systems/api/gameapi/GameApiModels"),h=e("../../../../../../main/scripts/systems/api/gamecenter/GameCenterApiModels"),d=r(e("../components/MyRankComponent")),f=r(e("../components/RankingTabSelectorComponent")),g=r(e("../components/RankingTopThreeLayComponent")),m=e("../RankingStorageConfig"),y=r(e("./FashionRankingItemComponent")),_=cc._decorator,v=_.ccclass,b=_.property,S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.myRank=null,t.rankingTabSelectorNode=null,t.rankingTopThreeLayNode=null,t.myFashionRanking=null,t.fashionRankingItemScrollView=null,t.fashionRankingItemParentNode=null,t.fashionRankingItemNode=null,t.fashionRankingItemNodeHeight=78,t.spaceingY=0,t.paddingTop=0,t.paddingBottom=0,t.visableAreaMarginTop=78,t.visableAreaMarginBottom=78,t.itemList=[],t._virtualNodes=[],t.lastTimer=0,t._itemNodeAll=[],t.rankingType=null,t}return i(t,e),t.prototype.onLoad=function(){this.rankingTopThreeLayNode.getComponent(g.default).initTypeIcon(p.RankingType.TotalFashion)},t.prototype.onEnable=function(){this.reset(),this.updateModeTabSelector(),this.fashionRankingItemParentNode.on(cc.Node.EventType.POSITION_CHANGED,this._onPositionChanged,this),this.fashionRankingItemScrollView.node.on("scroll-ended",this._updateList,this)},t.prototype.onDisable=function(){this.reset(),this.fashionRankingItemParentNode.off(cc.Node.EventType.POSITION_CHANGED,this._onPositionChanged,this),this.fashionRankingItemScrollView.node.off("scroll-ended",this._updateList,this)},t.prototype.onClickOpenHelp=function(){l.gg.panelRouter.show({panel:s.CommonPanelConfig.rankingHelpPanel,data:{rankingType:p.RankingType.WeekFashion}})},t.prototype.reset=function(){this.myFashionRanking.node.active=!1,this.rankingTopThreeLayNode.getComponent(g.default).initTopThreeUI(),this.itemList=[],this._virtualNodes=[],this.fashionRankingItemScrollView.stopAutoScroll(),this.fashionRankingItemParentNode.position=cc.v3(),this._itemNodeAll=[];for(var e=this.fashionRankingItemParentNode.children.length-1;e>=0;--e)this._itemNodeAll.push(this.fashionRankingItemParentNode.children[e]),this.fashionRankingItemParentNode.children[e].active=!1},t.prototype.updateModeTabSelector=function(){this.rankingType=null;var e=this.rankingTabSelectorNode.getComponent(f.default);e.node.on(f.default.OnTabSelectorSelectedChanged,this.onTabSelectorSelectedChanged,this),e.init([c.i18n.getText("ranking.tatal"),c.i18n.getText("ranking.month"),c.i18n.getText("ranking.week")]),e.setSelectedIndex(0)},t.prototype.onTabSelectorSelectedChanged=function(e){var t=p.RankingType.TotalFashion;switch(e){case 0:t=p.RankingType.TotalFashion;break;case 1:t=p.RankingType.MonthFashion;break;case 2:t=p.RankingType.WeekFashion}t!==this.rankingType&&(this.rankingType=t,this.getFashionRankingData())},t.prototype.getFashionRankingData=function(){var e=this;this.reset(),u.gameApi.getRankingList({type:this.rankingType,page:"1",size:"50"}).then(function(t){l.gg.panelRouter.hide({panel:s.CommonPanelConfig.loadingPanel,onHided:function(){var n,o,i=!1;if((null===(o=null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.rankings)||void 0===o?void 0:o.length)>0)for(var a=0,r=t.data.rankings;a<r.length;a++){var u=r[a];if(u.type===e.rankingType){for(var p=0;p<u.list.length;p++)i=!0,p<3?e.rankingTopThreeLayNode.getComponent(g.default).topThree.push(u.list[p]):e.itemList.push(u.list[p]);e.myFashionRanking.rankingUserInfo=u.my;break}}if(i)e.myFashionRanking.rankingUserInfo?(e.myFashionRanking.updateUI(),e.myRank.getComponent(d.default).updataUI(e.myFashionRanking.rankingUserInfo.ranking),e.myFashionRanking.node.active=!0):e.myFashionRanking.node.active=!1,e.init(),e.rankingTopThreeLayNode.getComponent(g.default).updateTopThreeUI(),e.checkFistPanel();else{var f="toast.rankingListFail";t.status===h.FlatHttpResponseCode.Success&&(f="toast.rankingNotData"),l.gg.panelRouter.show({panel:s.CommonPanelConfig.toastPanel,data:{text:c.i18n.getText(f)}})}}})}).catch(function(e){l.gg.logger.error(e),l.gg.panelRouter.hide({panel:s.CommonPanelConfig.loadingPanel,onHided:function(){l.gg.panelRouter.show({panel:s.CommonPanelConfig.toastPanel,data:{text:c.i18n.getText("toast.rankingListFail")}})}})})},t.prototype.checkFistPanel=function(){var e=!0,t="";switch(this.rankingType){case p.RankingType.TotalFashion:t=m.RankingStorageConfig.RankingTatalFashionTimeStr;break;case p.RankingType.MonthFashion:t=m.RankingStorageConfig.RankingMonthFashionTimeStr;break;case p.RankingType.WeekFashion:t=m.RankingStorageConfig.RankingWeekFashionTimeStr}var n=l.gg.localStorage.getItem(t);if(""!==n){var o=parseInt(n),i=Math.floor(o/864e5);Math.floor(Date.now()/864e5)===i&&(e=!1)}var a=this.rankingTopThreeLayNode.getComponent(g.default).topThree;e&&a.length>0&&(l.gg.panelRouter.show({panel:s.CommonPanelConfig.rankingFristExhibitPanel,data:{rankingUserInfo:a[0]}}),l.gg.localStorage.setItem(t,Date.now().toString()))},t.prototype.getItemNode=function(){var e=this._itemNodeAll.pop();return e||(e=cc.instantiate(this.fashionRankingItemNode),this.fashionRankingItemParentNode.addChild(e)),e},t.prototype.init=function(){this.itemList&&this.itemList.length>0&&(this._virtualNodes=this.itemList.map(function(){return null}),this._updateListWidth(),this.fashionRankingItemParentNode.position=cc.v3(),this._updateList())},t.prototype._updateListWidth=function(){var e=this.itemList.length;this.fashionRankingItemParentNode.height=this.paddingTop+this.paddingBottom+this.fashionRankingItemNodeHeight*e+this.spaceingY*e,this.fashionRankingItemParentNode.height<this.fashionRankingItemScrollView.node.height&&(this.fashionRankingItemParentNode.height=this.fashionRankingItemScrollView.node.height)},t.prototype._onPositionChanged=function(){var e=Date.now();(e-this.lastTimer)/1e3>=.1&&(this.lastTimer=e,this._updateList())},t.prototype._updateList=function(){for(var e=0;e<this._virtualNodes.length;++e){var t=this._virtualNodes[e];if(this._isVisable(e)){null==t&&(t=this.getItemNode()),this._virtualNodes[e]=t,t.position=this._convertIndexToPosition(e);var n=t.getComponent(y.default);n.rankingUserInfo=this.itemList[e],n.updateUI()}else t&&(t.active=!1,this._itemNodeAll.push(t)),this._virtualNodes[e]=null}},t.prototype._isVisable=function(e){var t=this._convertIndexToPosition(e),n=-this.fashionRankingItemParentNode.position.y+this.visableAreaMarginTop,o=n-this.visableAreaMarginTop-this.fashionRankingItemScrollView.node.height-this.visableAreaMarginBottom;return t.y+.5*this.fashionRankingItemNodeHeight<=n&&t.y-.5*this.fashionRankingItemNodeHeight>=o},t.prototype._convertIndexToPosition=function(e){return cc.v3(0,-this.paddingTop-this.fashionRankingItemNodeHeight*(e+.5)-e*this.spaceingY)},a([b({type:cc.Node,tooltip:"\u81ea\u5df1\u540d\u6b21\u7ec4\u4ef6"})],t.prototype,"myRank",void 0),a([b({type:cc.Node,tooltip:"\u9876\u90e8\u6392\u884c\u6a21\u5f0f\u9009\u4e2d"})],t.prototype,"rankingTabSelectorNode",void 0),a([b({type:cc.Node,tooltip:"\u524d\u4e09\u540d\u73a9\u5bb6\u7ec4\u4ef6"})],t.prototype,"rankingTopThreeLayNode",void 0),a([b({type:y.default,tooltip:"\u73a9\u5bb6\u81ea\u5df1\u7684\u6392\u540d"})],t.prototype,"myFashionRanking",void 0),a([b({type:cc.ScrollView,tooltip:"\u9b45\u529bScrollView"})],t.prototype,"fashionRankingItemScrollView",void 0),a([b({type:cc.Node,tooltip:"\u9b45\u529b\u7236\u8282\u70b9"})],t.prototype,"fashionRankingItemParentNode",void 0),a([b({type:cc.Prefab,tooltip:"\u9b45\u529b\u9884\u5236\u8282\u70b9"})],t.prototype,"fashionRankingItemNode",void 0),a([b({tooltip:"\u9884\u5236\u4f53item\u8282\u70b9\u7684\u9ad8\u5ea6"})],t.prototype,"fashionRankingItemNodeHeight",void 0),a([b({tooltip:"Item \u95f4\u9694\uff08px\uff09"})],t.prototype,"spaceingY",void 0),a([b({tooltip:"Item \u8ddd\u79bb\u4e0a\u8fb9\uff08px\uff09"})],t.prototype,"paddingTop",void 0),a([b({tooltip:"Item \u8ddd\u79bb\u4e0b\u8fb9\uff08px\uff09"})],t.prototype,"paddingBottom",void 0),a([b({tooltip:"\u53ef\u89c6\u533a\u57df margin, \u8d1f\u6570\u4e3a\u5f80\u5916\u6269\u5c55"})],t.prototype,"visableAreaMarginTop",void 0),a([b({tooltip:"\u53ef\u89c6\u533a\u57df margin, \u8d1f\u6570\u4e3a\u5f80\u5916\u6269\u5c55"})],t.prototype,"visableAreaMarginBottom",void 0),a([v],t)}(cc.Component);n.default=S,cc._RF.pop()},{"../../../../../../main/scripts/configs/CommonPanelConfig":"CommonPanelConfig","../../../../../../main/scripts/framework/gg":"gg","../../../../../../main/scripts/framework/i18n/I18n":"I18n","../../../../../../main/scripts/systems/api/gameapi/GameApi":"GameApi","../../../../../../main/scripts/systems/api/gameapi/GameApiModels":"GameApiModels","../../../../../../main/scripts/systems/api/gamecenter/GameCenterApiModels":"GameCenterApiModels","../RankingStorageConfig":"RankingStorageConfig","../components/MyRankComponent":"MyRankComponent","../components/RankingTabSelectorComponent":"RankingTabSelectorComponent","../components/RankingTopThreeLayComponent":"RankingTopThreeLayComponent","./FashionRankingItemComponent":"FashionRankingItemComponent"}],FashionRankingItemComponent:[function(e,t,n){"use strict";cc._RF.push(t,"2e6c2xCyitOq6gwj07umgQX","FashionRankingItemComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=l(e("../../../../../../main/scripts/components/UserIconStyle1Component")),u=e("../../../../../../main/scripts/configs/CommonPanelConfig"),p=e("../../../../../../main/scripts/framework/gg"),h=l(e("../../../../../../main/scripts/framework/utils/StringUtils")),d=e("../../../../../../main/scripts/systems/user/UserUISystem"),f=cc._decorator,g=f.ccclass,m=f.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.playerRankingLab=null,t.playerNameLab=null,t.playerFashionLab=null,t.playerIcon=null,t.vipSprite=null,t.rankingUserInfo=null,t.userIconId=null,t.userFrameId=null,t.vipInfo=null,t}return i(t,e),t.prototype.updateUI=function(){var e,t,n,o,i,a,r,s,l,u;this.updataUserVip(),this.node.active=!0,this.playerNameLab.string=h.default.clampStr(this.rankingUserInfo.nick,15),this.playerFashionLab.string=this.rankingUserInfo.ranking_value+"",this.playerRankingLab&&(this.playerRankingLab.string=this.rankingUserInfo.ranking+""),(null===(e=this.rankingUserInfo)||void 0===e?void 0:e.facelook)!=this.userIconId&&this.playerIcon.getComponent(c.default).updateIcon(null!==(n=null===(t=this.rankingUserInfo)||void 0===t?void 0:t.facelook)&&void 0!==n?n:""),(null===(o=this.rankingUserInfo)||void 0===o?void 0:o.frame)!=this.userFrameId&&this.playerIcon.getComponent(c.default).updateIconFrame(null!==(a=null===(i=this.rankingUserInfo)||void 0===i?void 0:i.frame)&&void 0!==a?a:""),this.userIconId=null!==(s=null===(r=this.rankingUserInfo)||void 0===r?void 0:r.facelook)&&void 0!==s?s:"",this.userFrameId=null!==(u=null===(l=this.rankingUserInfo)||void 0===l?void 0:l.frame)&&void 0!==u?u:""},t.prototype.updataUserVip=function(){var e,t,n,o;return r(this,void 0,void 0,function(){var i;return s(this,function(a){switch(a.label){case 0:return(null===(e=this.rankingUserInfo)||void 0===e?void 0:e.vip_info)?(this.vipSprite.node.active=!0,this.vipInfo==(null===(t=this.rankingUserInfo)||void 0===t?void 0:t.vip_info)?[3,2]:(i=this.vipSprite,[4,d.userUISystem.loadUserVipIcon(this.rankingUserInfo.vip_info.vip_level,this.rankingUserInfo.vip_info.vip_status)])):[3,3];case 1:i.spriteFrame=a.sent(),a.label=2;case 2:return[3,4];case 3:this.vipSprite.node.active=!1,a.label=4;case 4:return this.vipInfo=null!==(o=null===(n=this.rankingUserInfo)||void 0===n?void 0:n.vip_info)&&void 0!==o?o:null,[2]}})})},t.prototype.onClickShowUserInfo=function(){p.gg.panelRouter.show({panel:u.CommonPanelConfig.userInfoPanel,data:{qurey_uid:this.rankingUserInfo.uid,userName:this.rankingUserInfo.nick,userIcon:this.rankingUserInfo.facelook,userIconFrame:this.rankingUserInfo.frame}})},a([m({type:cc.Label,tooltip:"\u73a9\u5bb6\u6392\u540d"})],t.prototype,"playerRankingLab",void 0),a([m({type:cc.Label,tooltip:"\u73a9\u5bb6\u540d\u5b57"})],t.prototype,"playerNameLab",void 0),a([m({type:cc.Label,tooltip:"\u73a9\u5bb6\u65f6\u5c1a\u503c"})],t.prototype,"playerFashionLab",void 0),a([m({type:cc.Node,tooltip:"\u73a9\u5bb6\u5934\u50cf\u4fe1\u606f"})],t.prototype,"playerIcon",void 0),a([m({type:cc.Sprite,tooltip:"\u7528\u6237vip\u56fe\u6807"})],t.prototype,"vipSprite",void 0),a([g],t)}(cc.Component);n.default=y,cc._RF.pop()},{"../../../../../../main/scripts/components/UserIconStyle1Component":"UserIconStyle1Component","../../../../../../main/scripts/configs/CommonPanelConfig":"CommonPanelConfig","../../../../../../main/scripts/framework/gg":"gg","../../../../../../main/scripts/framework/utils/StringUtils":"StringUtils","../../../../../../main/scripts/systems/user/UserUISystem":"UserUISystem"}],FeedBackPanel:[function(e,t,n){"use strict";cc._RF.push(t,"c51189GxP5KgKFWYfadrz5c","FeedBackPanel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../../../../main/scripts/configs/CommonPanelConfig"),l=(e("../../../../../main/scripts/ffframework/webview/WebViewWrapper"),r(e("../../../../../main/scripts/framework/components/dialogstyle/MoveStyleDialogPanelV2"))),c=e("../../../../../main/scripts/framework/gg"),u=e("../../../../../main/scripts/framework/i18n/I18n"),p=e("../../../../../main/scripts/systems/api/gameapi/GameApiModels"),h=e("../../../../../main/scripts/systems/feedback/FeedbackSystem"),d=e("../../../../../main/scripts/systems/remoteconfig/RemoteConfigModel"),f=e("../../../../../main/scripts/systems/remoteconfig/RemoteConfigSystem"),g=e("../../../configs/CommonAudioConfig"),m=e("../../../systems/lobby/LobbyHintSystem"),y=r(e("./FeedbackList")),_=cc._decorator,v=_.ccclass,b=_.property,S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.feedbackList=null,t.feedbackRewardLab=null,t.onLineLab=null,t.problemContent=null,t.problemItem=null,t.hintReddot=null,t.hintReddotLab=null,t.feedbackConfig=null,t}return i(t,e),t.prototype.show=function(e){this.initData(),this.checkHintReddot(),this._playShowAnim(function(){e.onShowed()})},t.prototype.hide=function(e){this.feedbackList.reset(),this._playHideAnim(function(){e.onHided(),m.lobbyHintSystem.getHintData(p.LobbyHintEnum.ServiceReddot)})},t.prototype.checkHintReddot=function(){m.lobbyHintSystem.hintStatusData.service_reddot?this.hintReddot.active=!0:this.hintReddot.active=!1,this.hintReddotLab.string="1";var e=m.lobbyHintSystem.hintCountData.service_reddot_count;e&&e>1&&(this.hintReddotLab.string=e>99?"99+":e+"")},t.prototype.initData=function(){this.feedbackConfig=f.remoteConfigSystem.getConfig(d.RemoteCoinfigType.Feedback),this.feedbackRewardLab.string=this.feedbackConfig&&this.feedbackConfig.feedback_award_num?String(this.feedbackConfig.feedback_award_num):"0",this.feedbackConfig&&this.feedbackConfig.enable&&this.feedbackConfig.faqs&&0!==this.feedbackConfig.faqs.length&&(this.feedbackList.reset(),this.feedbackList.init(this.feedbackConfig.faqs))},t.prototype.onCloseBtnClick=function(){c.gg.panelRouter.hide({panel:s.CommonPanelConfig.feedbackPanel}),c.gg.audio.playOneShot(g.CommonAudioConfig.btnClose)},t.prototype.onClickFeedback=function(){this.feedbackConfig.staff_service_url&&c.gg.panelRouter.show({panel:s.CommonPanelConfig.webViewPanel,data:{title:u.i18n.getText("lobby.cs.host"),url:h.feedbackSystem.getFinalUrl(this.feedbackConfig.staff_service_url)}})},a([b({type:y.default,tooltip:"faql\u5217\u8868"})],t.prototype,"feedbackList",void 0),a([b({type:cc.Label,tooltip:"\u53cd\u9988\u5956\u52b1\u91d1\u5e01"})],t.prototype,"feedbackRewardLab",void 0),a([b({type:cc.Label,tooltip:"\u5728\u7ebf\u4eba\u6570"})],t.prototype,"onLineLab",void 0),a([b({type:cc.Node,tooltip:"\u5e38\u89c1\u95ee\u9898\u6ed1\u52a8\u5bb9\u5668"})],t.prototype,"problemContent",void 0),a([b({type:cc.Node,tooltip:"\u5e38\u89c1\u95ee\u9898item"})],t.prototype,"problemItem",void 0),a([b({type:cc.Node,tooltip:"\u5ba2\u670d\u7ea2\u70b9"})],t.prototype,"hintReddot",void 0),a([b({type:cc.Label,tooltip:"\u5ba2\u670d\u56de\u590d\u7ea2\u70b9\u4e2a\u6570"})],t.prototype,"hintReddotLab",void 0),a([v],t)}(l.default);n.default=S,cc._RF.pop()},{"../../../../../main/scripts/configs/CommonPanelConfig":"CommonPanelConfig","../../../../../main/scripts/ffframework/webview/WebViewWrapper":"WebViewWrapper","../../../../../main/scripts/framework/components/dialogstyle/MoveStyleDialogPanelV2":"MoveStyleDialogPanelV2","../../../../../main/scripts/framework/gg":"gg","../../../../../main/scripts/framework/i18n/I18n":"I18n","../../../../../main/scripts/systems/api/gameapi/GameApiModels":"GameApiModels","../../../../../main/scripts/systems/feedback/FeedbackSystem":"FeedbackSystem","../../../../../main/scripts/systems/remoteconfig/RemoteConfigModel":"RemoteConfigModel","../../../../../main/scripts/systems/remoteconfig/RemoteConfigSystem":"RemoteConfigSystem","../../../configs/CommonAudioConfig":"CommonAudioConfig","../../../systems/lobby/LobbyHintSystem":"LobbyHintSystem","./FeedbackList":"FeedbackList"}],FeedbackItem:[function(e,t,n){"use strict";cc._RF.push(t,"01c40I8XOdBG7AgG4v7gDGu","FeedbackItem");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../../../../main/scripts/configs/CommonPanelConfig"),s=(e("../../../../../main/scripts/ffframework/webview/WebViewWrapper"),e("../../../../../main/scripts/framework/gg")),l=e("../../../../../main/scripts/framework/i18n/I18n"),c=e("../../../../../main/scripts/systems/feedback/FeedbackSystem"),u=cc._decorator,p=u.ccclass,h=u.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.descLabel=null,t.faqInfo=null,t}return i(t,e),t.prototype.updataUI=function(){this.descLabel.string=this.faqInfo.desc},t.prototype.onItemClick=function(){this.faqInfo.url&&s.gg.panelRouter.show({panel:r.CommonPanelConfig.webViewPanel,data:{title:l.i18n.getText("lobby.cs.host"),url:c.feedbackSystem.getFinalUrl(this.faqInfo.url)}})},a([h({type:cc.Label,tooltip:"\u5e38\u89c1\u95ee\u9898\u63cf\u8ff0"})],t.prototype,"descLabel",void 0),a([p],t)}(cc.Component);n.default=d,cc._RF.pop()},{"../../../../../main/scripts/configs/CommonPanelConfig":"CommonPanelConfig","../../../../../main/scripts/ffframework/webview/WebViewWrapper":"WebViewWrapper","../../../../../main/scripts/framework/gg":"gg","../../../../../main/scripts/framework/i18n/I18n":"I18n","../../../../../main/scripts/systems/feedback/FeedbackSystem":"FeedbackSystem"}],FeedbackList:[function(e,t,n){"use strict";cc._RF.push(t,"3d381IZNh1HdLACZS8hRDqv","FeedbackList");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../../../../main/scripts/framework/gg"),l=r(e("./FeedbackItem")),c=cc._decorator,u=c.ccclass,p=c.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.feedbackView=null,t.feedbackItemParentNode=null,t.feedbackItem=null,t.spaceingY=10,t.paddingTop=10,t.visableAreaMarginTop=0,t.visableAreaMarginBottom=0,t.virtualNodes=[],t.itemNodePool=new cc.NodePool,t.faqInfos=null,t}return i(t,e),t.prototype.onEnable=function(){this.feedbackItemParentNode.on(cc.Node.EventType.POSITION_CHANGED,this.onPositionChanged,this),this.feedbackView.node.on("scroll-ended",this.updateList,this)},t.prototype.onDisable=function(){this.feedbackItemParentNode.off(cc.Node.EventType.POSITION_CHANGED,this.onPositionChanged,this),s.gg.eventManager.offTarget(this),this.feedbackView.node.off("scroll-ended",this.updateList,this)},t.prototype.init=function(e){this.faqInfos=e,this.virtualNodes=[],null!==this.faqInfos&&(this.virtualNodes=this.faqInfos.map(function(){return null}),this.initParentHeight()),this.feedbackItemParentNode.position=cc.v3(),this.updateList()},t.prototype.reset=function(){this.virtualNodes=[];for(var e=this.feedbackItemParentNode.childrenCount-1;e>=0;--e)this.itemNodePool.put(this.feedbackItemParentNode.children[e]);this.feedbackItemParentNode.position=cc.v3()},t.prototype.initParentHeight=function(){var e=this.faqInfos.length;this.feedbackItemParentNode.height=this.paddingTop+this.feedbackItem.height*e+this.spaceingY*e,this.feedbackItemParentNode.height<this.feedbackView.node.height&&(this.feedbackItemParentNode.height=this.feedbackView.node.height)},t.prototype.onPositionChanged=function(){this.updateList()},t.prototype.updateList=function(){for(var e=0;e<this.virtualNodes.length;++e){var t=this.virtualNodes[e];if(this.isVisable(e)){t||((t=this.itemNodePool.get())||(t=cc.instantiate(this.feedbackItem)),this.feedbackItemParentNode.addChild(t),this.virtualNodes[e]=t),t.position=this.getIndexPos(e);var n=t.getComponent(l.default);n.faqInfo=this.faqInfos[e],n.updataUI()}else t&&this.itemNodePool.put(t),this.virtualNodes[e]=null}},t.prototype.isVisable=function(e){var t=this.getIndexPos(e),n=-this.feedbackItemParentNode.position.y+this.visableAreaMarginTop,o=n-this.visableAreaMarginTop-this.feedbackView.node.height-this.visableAreaMarginBottom;return t.y+.5*this.feedbackItem.height<=n&&t.y-.5*this.feedbackItem.height>=o},t.prototype.getIndexPos=function(e){return cc.v3(0,-this.paddingTop-this.feedbackItem.height*(e+.5)-e*this.spaceingY)},a([p({type:cc.ScrollView,tooltip:"FAQ\u5217\u8868\u53ef\u89c6\u8303\u56f4"})],t.prototype,"feedbackView",void 0),a([p({type:cc.Node,tooltip:"FAQ\u5217\u8868\u7236\u8282\u70b9"})],t.prototype,"feedbackItemParentNode",void 0),a([p({type:cc.Node,tooltip:"FAQitem"})],t.prototype,"feedbackItem",void 0),a([p({tooltip:"Item \u95f4\u9694\uff08px\uff09"})],t.prototype,"spaceingY",void 0),a([p({tooltip:"Item \u8ddd\u79bb\u4e0a\u8fb9\uff08px\uff09"})],t.prototype,"paddingTop",void 0),a([p({tooltip:"\u53ef\u89c6\u533a\u57df margin, \u8d1f\u6570\u4e3a\u5f80\u5916\u6269\u5c55"})],t.prototype,"visableAreaMarginTop",void 0),a([p({tooltip:"\u53ef\u89c6\u533a\u57df margin, \u8d1f\u6570\u4e3a\u5f80\u5916\u6269\u5c55"})],t.prototype,"visableAreaMarginBottom",void 0),a([u],t)}(cc.Component);n.default=h,cc._RF.pop()},{"../../../../../main/scripts/framework/gg":"gg","./FeedbackItem":"FeedbackItem"}],FeedbackSystem:[function(e,t,n){"use strict";cc._RF.push(t,"3e8ffz+U2NFF6yEnRKZ9qDh","FeedbackSystem"),Object.defineProperty(n,"__esModule",{value:!0}),n.feedbackSystem=void 0;var o=e("../../../../main/scripts/configs/AppConfig"),i=e("../../../../main/scripts/framework/gg"),a=e("../../../../main/scripts/framework/utils/CryptoWrapper"),r=e("../../../../main/scripts/systems/user/UserSystem"),s=function(){function e(){this.secretKey="HqmIbd0S1NuMw47k",this.iv="plUK8givrS0Y9EwP"}return e.prototype.getFinalUrl=function(e){var t={package:o.AppConfig.packageName,uid:r.userSystem.userModel.uid,subanm:o.AppConfig.subanm,token:r.userSystem.userModel.userToken,platform:"ios"},n=JSON.stringify(t);i.gg.logger.log("\u6700\u7ec8\u5ba2\u670d\u94fe\u63a5\u53c2\u6570",t);var s=e+"?p="+a.CryptoWrapper.aesEncrypt(n,this.secretKey,this.iv)+"&lang=ar";return i.gg.logger.log("\u6700\u7ec8\u5ba2\u670d\u94fe\u63a5",s),s},e.prototype.getCancelAccountUrl=function(e){var t={package:o.AppConfig.packageName,uid:r.userSystem.userModel.uid,token:r.userSystem.userModel.userToken,host:o.AppConfig.gameServerHttpHost},n=JSON.stringify(t);i.gg.logger.log("\u6700\u7ec8\u6ce8\u9500\u8d26\u53f7\u94fe\u63a5\u53c2\u6570",t);var s=e+"?p="+a.CryptoWrapper.aesEncrypt(n,this.secretKey,this.iv)+"&lang=ar";return i.gg.logger.log("\u6700\u7ec8\u6ce8\u9500\u8d26\u53f7\u94fe\u63a5",s),s},e}();n.feedbackSystem=new s,cc._RF.pop()},{"../../../../main/scripts/configs/AppConfig":"AppConfig","../../../../main/scripts/framework/gg":"gg","../../../../main/scripts/framework/utils/CryptoWrapper":"CryptoWrapper","../../../../main/scripts/systems/user/UserSystem":"UserSystem"}],FinalSettlementWinAnimComponent:[function(e,t,n){"use strict";cc._RF.push(t,"8865eSyo45PgZiQ1jLYTxMi","FinalSettlementWinAnimComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../configs/CommonAudioConfig"),s=e("../framework/gg"),l=cc._decorator,c=l.ccclass,u=l.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.winSpine1=null,t.winSpine2=null,t.winDragon1=null,t.winDragon2=null,t}return i(t,e),t.prototype.onLoad=function(){this.hideAllNode()},t.prototype.onDisable=function(){this.hideAllNode(),this.unscheduleAllCallbacks()},t.prototype.hideAllNode=function(){this.node.active=!1,this.winSpine1.node.active=!1,this.winSpine2.node.active=!1,this.winDragon1.node.active=!1,this.winDragon2.node.active=!1},t.prototype.updateSettlementAnim=function(){var e=this;this.node.active=!0,this.winDragon1.node.active=!0,this.winDragon1.playAnimation("newAnimation",0),s.gg.audio.playOneShot(r.CommonAudioConfig.fireworks),this.scheduleOnce(function(){e.winSpine1.node.active=!0,e.winSpine1.setAnimation(0,"newAnimation",!0)},.1),this.scheduleOnce(function(){e.winDragon2.node.active=!0,e.winDragon2.playAnimation("newAnimation",0),e.winSpine2.node.active=!0,e.winSpine2.setAnimation(0,"newAnimation",!0)},.5)},a([u({type:sp.Skeleton,tooltip:"\u53f3\u4e0a\u89d2\u8d62\u52a8\u753b"})],t.prototype,"winSpine1",void 0),a([u({type:sp.Skeleton,tooltip:"\u5de6\u4e0a\u89d2\u8d62\u52a8\u753b"})],t.prototype,"winSpine2",void 0),a([u({type:dragonBones.ArmatureDisplay,tooltip:"\u53f3\u4e0a\u89d2\u8d62\u52a8\u753b"})],t.prototype,"winDragon1",void 0),a([u({type:dragonBones.ArmatureDisplay,tooltip:"\u5de6\u4e0a\u89d2\u8d62\u52a8\u753b"})],t.prototype,"winDragon2",void 0),a([c],t)}(cc.Component);n.default=p,cc._RF.pop()},{"../configs/CommonAudioConfig":"CommonAudioConfig","../framework/gg":"gg"}],FirstRechargeModel:[function(e,t,n){"use strict";cc._RF.push(t,"cc0c4c6yJJATYkGf0WzxrVf","FirstRechargeModel"),Object.defineProperty(n,"__esModule",{value:!0}),n.FirstRechargeLocalStorage=n.FirstRechargeOpenModel=void 0,function(e){e.FromLobbyScene="FirstRechargeOpenModel.fromLobbyScene",e.Other="FirstRechargeOpenModel.other"}(n.FirstRechargeOpenModel||(n.FirstRechargeOpenModel={})),(n.FirstRechargeLocalStorage||(n.FirstRechargeLocalStorage={})).PanelClickOpenTime="FirstRechargeLocalStorage.PanelClickOpenTime",cc._RF.pop()},{}],FirstRechargePanel:[function(e,t,n){"use strict";cc._RF.push(t,"914dcmQPpJMUpw9G+SH0e8t","FirstRechargePanel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=e("../../../configs/CommonAudioConfig"),u=e("../../../configs/CommonPanelConfig"),p=l(e("../../../framework/components/dialogstyle/MoveStyleDialogPanelV1")),h=e("../../../framework/gg"),d=e("../../../framework/i18n/I18n"),f=e("../../../systems/api/gameapi/GameApiModels"),g=e("../../../systems/firstRecharge/FirstRechargeModel"),m=e("../../../systems/firstRecharge/FirstRechargeSystem"),y=e("../../../systems/firstRecharge/FirstRechargeUIEvent"),_=e("../../../systems/purchase/PurchaseSystem"),v=e("../../../systems/user/UserSystem"),b=(e("../../../systems/user/UserWalletSystem"),cc._decorator),S=b.ccclass,C=b.property,I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.firstChargeDesc=null,t.priceDesc=null,t.originalPriceDesc=null,t.gainCoin=null,t.gainDiamond=null,t.originalPrice=null,t.price=null,t._originalPrice=null,t._openModel=null,t}return i(t,e),t.prototype.show=function(e){var t=e.data;this._openModel=t.openModel,this.dialogContentNode.opacity=0,this.initFirstChargeData(),this._playShowAnim(function(){e.onShowed()})},t.prototype.hide=function(e){e.data?this._playHideAnim(function(){e.onHided()}):e.onHided()},t.prototype.closePanel=function(e){void 0===e&&(e=!1),h.gg.panelRouter.hide({panel:u.CommonPanelConfig.firstRechargePanel,data:e})},t.prototype.onCloseBtnClick=function(){this.closePanel(!0),h.gg.audio.playOneShot(c.CommonAudioConfig.btnClose)},t.prototype.initFirstChargeData=function(){this._originalPrice="20.99",this.firstChargeDesc.active=!0,this.priceDesc.string=String(m.firstRechargeSystem.goodsData.price),this.originalPriceDesc.string=String(m.firstRechargeSystem.goodsData.original_price),this.gainCoin.string=String(m.firstRechargeSystem.goodsData.recharge_amount),this.gainDiamond.string=String(m.firstRechargeSystem.goodsData.bonus_amount),this.originalPrice.string=m.firstRechargeSystem.goodsData.currency+" "+this._originalPrice,this.price.string="SAR "+m.firstRechargeSystem.goodsData.price.toString()},t.prototype.onChargeBtnClick=function(){return r(this,void 0,void 0,function(){var e;return s(this,function(t){switch(t.label){case 0:return h.gg.panelRouter.show({panel:u.CommonPanelConfig.toastPanel,data:{text:"Only for native platform"}}),[2];case 1:return t.sent(),[4,_.purchaseSystem.purchase(m.firstRechargeSystem.goodsData)];case 2:return e=t.sent(),[4,h.gg.panelRouter.hideAsync({panel:u.CommonPanelConfig.loadingPanel})];case 3:return t.sent(),e?(h.gg.panelRouter.show({panel:u.CommonPanelConfig.receiveFeaturesPanel,data:{giftList:[{award_type:f.AwardType.Coin,count:m.firstRechargeSystem.goodsData.recharge_amount,initValue:void 0},{award_type:f.AwardType.Diamond,count:m.firstRechargeSystem.goodsData.bonus_amount,initValue:void 0}]}}),this.closePanel(!0),v.userSystem.userModel.isfirstrecharge=!1,m.firstRechargeSystem.removeLobbyFirstRechargeHintStatus(),this._openModel===g.FirstRechargeOpenModel.FromLobbyScene&&h.gg.eventManager.emit(y.FristRechargeUIEvent.onLobbyHideFirstRechargeBtn)):h.gg.panelRouter.show({panel:u.CommonPanelConfig.toastPanel,data:{text:d.i18n.getText("toast.payGoodsFailed")}}),[2]}})})},a([C({type:cc.Node,tooltip:"\u9996\u5145\u63cf\u8ff0"})],t.prototype,"firstChargeDesc",void 0),a([C({type:cc.Label,tooltip:"\u63cf\u8ff0\u73b0\u4ef7"})],t.prototype,"priceDesc",void 0),a([C({type:cc.Label,tooltip:"\u63cf\u8ff0\u539f\u4ef7"})],t.prototype,"originalPriceDesc",void 0),a([C({type:cc.Label,tooltip:"\u5145\u503c\u5f97\u5230\u91d1\u5e01\u6570\u91cf"})],t.prototype,"gainCoin",void 0),a([C({type:cc.Label,tooltip:"\u5145\u503c\u5f97\u5230\u94bb\u77f3\u6570\u91cf"})],t.prototype,"gainDiamond",void 0),a([C({type:cc.Label,tooltip:"\u539f\u4ef7"})],t.prototype,"originalPrice",void 0),a([C({type:cc.Label,tooltip:"\u9996\u5145\u4ef7\u683c"})],t.prototype,"price",void 0),a([S],t)}(p.default);n.default=I,cc._RF.pop()},{"../../../configs/CommonAudioConfig":"CommonAudioConfig","../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../framework/components/dialogstyle/MoveStyleDialogPanelV1":"MoveStyleDialogPanelV1","../../../framework/gg":"gg","../../../framework/i18n/I18n":"I18n","../../../systems/api/gameapi/GameApiModels":"GameApiModels","../../../systems/firstRecharge/FirstRechargeModel":"FirstRechargeModel","../../../systems/firstRecharge/FirstRechargeSystem":"FirstRechargeSystem","../../../systems/firstRecharge/FirstRechargeUIEvent":"FirstRechargeUIEvent","../../../systems/purchase/PurchaseSystem":"PurchaseSystem","../../../systems/user/UserSystem":"UserSystem","../../../systems/user/UserWalletSystem":"UserWalletSystem"}],FirstRechargeSystem:[function(e,t,n){"use strict";cc._RF.push(t,"dbfefD+/C1HK5TnBntHkhY1","FirstRechargeSystem");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.firstRechargeSystem=void 0;var a=e("../../framework/gg"),r=e("../api/gameapi/PayApiModels"),s=e("../purchase/PurchaseSystem"),l=e("./FirstRechargeModel"),c=function(){function e(){this.goodsData=null}return e.prototype.getLobbyFirstRechargeHintStatus=function(){var e=a.gg.localStorage.getItem(l.FirstRechargeLocalStorage.PanelClickOpenTime);if(""!==e){var t=parseInt(e),n=Math.floor(t/864e5);if(Math.floor(Date.now()/864e5)===n)return!1}return!0},e.prototype.setLobbyFirstRechargeHintStatus=function(){a.gg.localStorage.setItem(l.FirstRechargeLocalStorage.PanelClickOpenTime,Date.now().toString())},e.prototype.removeLobbyFirstRechargeHintStatus=function(){a.gg.localStorage.removeItem(l.FirstRechargeLocalStorage.PanelClickOpenTime)},e.prototype.loadFirstRechargeGoods=function(){return o(this,void 0,Promise,function(){var e;return i(this,function(t){switch(t.label){case 0:return[4,s.purchaseSystem.fetchProducts({goods_type:r.GoodsTypeEnum.Coin,tags:r.GoodsTag.FirstRecharge})];case 1:return(e=t.sent()).errorCode?(a.gg.logger.error("The first charge item failed to load--\x3e",e.errorCode),[2,!1]):e.goodsModels&&0!=e.goodsModels.length?(this.goodsData=e.goodsModels[0],[2,!0]):(a.gg.logger.error("Failed to load product list"),[2,!1])}})})},e}();n.firstRechargeSystem=new c,cc._RF.pop()},{"../../framework/gg":"gg","../api/gameapi/PayApiModels":"PayApiModels","../purchase/PurchaseSystem":"PurchaseSystem","./FirstRechargeModel":"FirstRechargeModel"}],FirstRechargeUIEvent:[function(e,t,n){"use strict";cc._RF.push(t,"0d613A1zr5O54BZmUYmHoxo","FirstRechargeUIEvent"),Object.defineProperty(n,"__esModule",{value:!0}),n.FristRechargeUIEvent=void 0,(n.FristRechargeUIEvent||(n.FristRechargeUIEvent={})).onLobbyHideFirstRechargeBtn="FristRechargeUIEvent.onLobbyHideFirstRechargeBtn",cc._RF.pop()},{}],FontInfo:[function(e,t,n){"use strict";cc._RF.push(t,"1ef03RIRbxG1KoF0eW0xO/Y","FontInfo"),Object.defineProperty(n,"__esModule",{value:!0}),n.FontInfo=void 0;var o=function(){function e(e){this._family="Arial",this._size=14,this._italic=!1,this._bold=!1,this.setFont(e||"14px Arial")}return e.parse=function(t){if(t===a)return i;var n=e._cache[t];return n||(n=e._cache[t]=new e(t)),a=t,i=n,n},e.prototype.setFont=function(e){this._font=e;var t=e.split(" "),n=t.length;if(n<2)1==n&&t[0].indexOf("px")>0&&(this._size=parseInt(t[0]));else{for(var o=-1,i=0;i<n;i++)if(t[i].indexOf("px")>0||t[i].indexOf("pt")>0){o=i,this._size=parseInt(t[i]),this._size<=0&&(console.debug("font parse error:"+e),this._size=14);break}var a=o+1,r=t[a];for(a++;a<n;a++)r+=" "+t[a];this._family=r.split(",")[0],this._italic=t.indexOf("italic")>=0,this._bold=t.indexOf("bold")>=0}},e._cache={},e}();n.FontInfo=o;var i,a="";cc._RF.pop()},{}],FriendApplicationFloatingItem:[function(e,t,n){"use strict";cc._RF.push(t,"b5faaFUsM9AXaaX5wOkTbA5","FriendApplicationFloatingItem");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=l(e("../../../components/UserIconStyle1Component")),u=e("../../../configs/CommonAudioConfig"),p=e("../../../configs/CommonPanelConfig"),h=e("../../../framework/gg"),d=e("../../../framework/i18n/I18n"),f=l(e("../../../framework/utils/StringUtils")),g=e("../../../systems/friend/FriendSystem"),m=e("../../../systems/gamews/WebSocketResponseCode"),y=e("../../../systems/user/UserUISystem"),_=cc._decorator,v=_.ccclass,b=_.property,S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.userIconComp=null,t.userNameLabel=null,t.userIdLabel=null,t.vipSprite=null,t._userInfo=null,t._onHidedCallBack=null,t}return i(t,e),t.prototype.getData=function(){return this._userInfo},t.prototype.bindData=function(e){this._userInfo=e},t.prototype.onLoad=function(){this.refresh()},t.prototype.onDisable=function(){this._userInfo=null,this._onHidedCallBack=null},t.prototype.refresh=function(){var e,t,n,o,i,a,r,s;this.userNameLabel.string=f.default.clampStr(null!==(t=null===(e=this._userInfo)||void 0===e?void 0:e.nick)&&void 0!==t?t:""),this.userIdLabel.string=d.i18n.getText("friend.label.userId",null!==(o=null===(n=this._userInfo)||void 0===n?void 0:n.uid)&&void 0!==o?o:""),this.userIconComp.getComponent(c.default).updateIcon(null!==(a=null===(i=this._userInfo)||void 0===i?void 0:i.facelook)&&void 0!==a?a:null),this.userIconComp.getComponent(c.default).updateIconFrame(null!==(s=null===(r=this._userInfo)||void 0===r?void 0:r.frame)&&void 0!==s?s:null)},t.prototype.onAcceptBtnClick=function(){return r(this,void 0,void 0,function(){var e,t,n,o;return s(this,function(i){switch(i.label){case 0:return e=this._userInfo.uid,t=this._userInfo.nick,h.gg.panelRouter.show({panel:p.CommonPanelConfig.loadingPanel}),[4,g.friendSystem.friendApplicationReplyRequestAsync({uid:e,accept:!0})];case 1:return n=i.sent(),h.gg.panelRouter.hide({panel:p.CommonPanelConfig.loadingPanel}),o=null,(null==n?void 0:n.status)==m.WebSocketResponseCode.Success?o=d.i18n.getText("toast.friendApplicationAccept",f.default.clampStr(t)):(null==n?void 0:n.status)==m.WebSocketResponseCode.YourFriendReachLimit?o=d.i18n.getText("toast.yourFriendCountReachMaxLimit"):(null==n?void 0:n.status)==m.WebSocketResponseCode.OtherFriendReachLimit&&(o=d.i18n.getText("toast.oppoFriendCountReachMaxLimit")),o&&h.gg.panelRouter.show({panel:p.CommonPanelConfig.toastPanel,data:{text:o}}),this._hide(),[2]}})})},t.prototype.onResuseBtnClick=function(){return r(this,void 0,void 0,function(){var e,t,n;return s(this,function(o){switch(o.label){case 0:return e=this._userInfo.uid,t=this._userInfo.nick,h.gg.panelRouter.show({panel:p.CommonPanelConfig.loadingPanel}),[4,g.friendSystem.friendApplicationReplyRequestAsync({uid:e,accept:!1})];case 1:return n=o.sent(),h.gg.panelRouter.hide({panel:p.CommonPanelConfig.loadingPanel}),1==(null==n?void 0:n.status)&&(h.gg.panelRouter.show({panel:p.CommonPanelConfig.toastPanel,data:{text:d.i18n.getText("toast.firendApplicationRefuse",f.default.clampStr(t))}}),this._hide()),[2]}})})},t.prototype.updataUserVip=function(){var e;return r(this,void 0,void 0,function(){var t;return s(this,function(n){switch(n.label){case 0:return(null===(e=this._userInfo)||void 0===e?void 0:e.vip_info)?(this.vipSprite.node.active=!0,t=this.vipSprite,[4,y.userUISystem.loadUserVipIcon(this._userInfo.vip_info.vip_level,this._userInfo.vip_info.vip_status)]):[3,2];case 1:return t.spriteFrame=n.sent(),[3,3];case 2:this.vipSprite.node.active=!1,n.label=3;case 3:return[2]}})})},t.prototype.show=function(e){var t,n,o,i,a,r,s,l,p=this;this.updataUserVip(),this._onHidedCallBack=e,this.userNameLabel.string=f.default.clampStr(null!==(n=null===(t=this._userInfo)||void 0===t?void 0:t.nick)&&void 0!==n?n:""),this.userIdLabel.string=d.i18n.getText("friend.label.userId",null!==(i=null===(o=this._userInfo)||void 0===o?void 0:o.uid)&&void 0!==i?i:""),this.userIconComp.getComponent(c.default).updateIcon(null!==(r=null===(a=this._userInfo)||void 0===a?void 0:a.facelook)&&void 0!==r?r:null),this.userIconComp.getComponent(c.default).updateIconFrame(null!==(l=null===(s=this._userInfo)||void 0===s?void 0:s.frame)&&void 0!==l?l:null),h.gg.audio.playOneShot(u.CommonAudioConfig.friendApplication),cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).set({opacity:0,position:cc.v3(0,.5*this.node.parent.height+this.node.height)}).to(.36,{opacity:255,position:cc.v3(0,.5*this.node.parent.height)},{easing:"sineOut"}).delay(5).to(.36,{opacity:0,position:cc.v3(0,.5*this.node.parent.height+this.node.height)},{easing:"sineIn"}).call(function(){var e;null===(e=p._onHidedCallBack)||void 0===e||e.call(p)}).start()},t.prototype._hide=function(){var e=this;cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).to(.36,{opacity:0,position:cc.v3(0,.5*this.node.parent.height+this.node.height)},{easing:"sineIn"}).call(function(){var t;null===(t=e._onHidedCallBack)||void 0===t||t.call(e)}).start()},a([b({type:cc.Node,tooltip:"\u7528\u6237\u5934\u50cf\u6837\u5f0f1"})],t.prototype,"userIconComp",void 0),a([b({type:cc.Label,tooltip:"\u7528\u6237\u540d\u5b57"})],t.prototype,"userNameLabel",void 0),a([b({type:cc.Label,tooltip:"\u7528\u6237id"})],t.prototype,"userIdLabel",void 0),a([b({type:cc.Sprite,tooltip:"\u7528\u6237vip\u56fe\u6807"})],t.prototype,"vipSprite",void 0),a([v],t)}(cc.Component);n.default=S,cc._RF.pop()},{"../../../components/UserIconStyle1Component":"UserIconStyle1Component","../../../configs/CommonAudioConfig":"CommonAudioConfig","../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../framework/gg":"gg","../../../framework/i18n/I18n":"I18n","../../../framework/utils/StringUtils":"StringUtils","../../../systems/friend/FriendSystem":"FriendSystem","../../../systems/gamews/WebSocketResponseCode":"WebSocketResponseCode","../../../systems/user/UserUISystem":"UserUISystem"}],FriendApplicationFloatingPanel:[function(e,t,n){"use strict";cc._RF.push(t,"3d9f3uUSl9PFYk90setksol","FriendApplicationFloatingPanel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../../configs/CommonPanelConfig"),l=e("../../../framework/gg"),c=e("../../../framework/panelrouter/PanelComponent"),u=e("../../../systems/friend/FriendFloatingUISystem"),p=r(e("./FriendApplicationFloatingItem")),h=cc._decorator,d=h.ccclass,f=h.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.itemParentNode=null,t.itemNode=null,t._itemNodePool=new cc.NodePool,t._isShowing=!1,t}return i(t,e),t.prototype._getNode=function(){var e=this._itemNodePool.get();return e||(e=cc.instantiate(this.itemNode)),e},t.prototype._putNode=function(e){this._itemNodePool.put(e)},t.prototype._reset=function(){for(var e=this.itemParentNode.children.length;e>=0;--e)this._putNode(this.itemParentNode.children[e])},t.prototype.onLoad=function(){this._reset()},t.prototype.show=function(e){this._isShowing?e.onShowed():(u.friendFloatingUISystem.hasMessage()&&this._newFloatingApplication(u.friendFloatingUISystem.pop()),e.onShowed())},t.prototype.hide=function(e){this._isShowing=!1,e.onHided()},t.prototype._newFloatingApplication=function(e){var t=this;this._isShowing=!0;var n=this._getNode();n.parent=this.itemParentNode;var o=n.getComponent(p.default);o.bindData(e),o.refresh(),o.show(function(){t._putNode(n),t._isShowing=!1,u.friendFloatingUISystem.hasMessage()?l.gg.panelRouter.show({panel:s.CommonPanelConfig.friendApplicationFloatingPanel}):l.gg.panelRouter.hide({panel:s.CommonPanelConfig.friendApplicationFloatingPanel})})},a([f(cc.Node)],t.prototype,"itemParentNode",void 0),a([f(cc.Node)],t.prototype,"itemNode",void 0),a([d],t)}(c.PanelComponent);n.default=g,cc._RF.pop()},{"../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../framework/gg":"gg","../../../framework/panelrouter/PanelComponent":"PanelComponent","../../../systems/friend/FriendFloatingUISystem":"FriendFloatingUISystem","./FriendApplicationFloatingItem":"FriendApplicationFloatingItem"}],FriendApplicationListCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"b79e8gtjU9ADY/RX7Eli5kT","FriendApplicationListCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=r(e("../../../components/vitruallist/VerticalVirtualList")),l=e("../../../framework/gg"),c=e("../../../systems/friend/FriendSystem"),u=e("../../../systems/friend/FriendSystemEvent"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.friendApplicationVirtualList=null,t.noFriendApplicationFlagNode=null,t}return i(t,e),t.prototype.onLoad=function(){this._reset()},t.prototype.onEnable=function(){this._initList(),l.gg.eventManager.on(u.FriendSystemEvent.OnFriendApplicationListAddFriend,this._onFriendApplicationListAddFriend,this),l.gg.eventManager.on(u.FriendSystemEvent.OnFriendApplicationListRemoveFriend,this._onFriendApplicationListRemoveFriend,this)},t.prototype.onDisable=function(){l.gg.eventManager.offTarget(this),this._reset()},t.prototype._reset=function(){this.noFriendApplicationFlagNode.active=!1,this.friendApplicationVirtualList.resetVirtualList(),this.friendApplicationVirtualList.node.active=!1},t.prototype._initList=function(){this.noFriendApplicationFlagNode.active=0==c.friendSystem.friendApplicationList.length,this.friendApplicationVirtualList.node.active=c.friendSystem.friendApplicationList.length>0,c.friendSystem.friendApplicationList.length>0&&(this.friendApplicationVirtualList.bindData(c.friendSystem.friendApplicationList),this.friendApplicationVirtualList.insert(0,c.friendSystem.friendApplicationList.length))},t.prototype._onFriendApplicationListAddFriend=function(e){this.noFriendApplicationFlagNode.active=0==c.friendSystem.friendApplicationList.length,this.friendApplicationVirtualList.node.active=c.friendSystem.friendApplicationList.length>0,this.friendApplicationVirtualList.bindData(c.friendSystem.friendApplicationList),this.friendApplicationVirtualList.insert(0,e.length)},t.prototype._onFriendApplicationListRemoveFriend=function(e){this.noFriendApplicationFlagNode.active=0==c.friendSystem.friendApplicationList.length,this.friendApplicationVirtualList.node.active=c.friendSystem.friendApplicationList.length>0,this.friendApplicationVirtualList.splice(e)},a([d({type:s.default,tooltip:"\u597d\u53cb\u7533\u8bf7\u865a\u62df\u5217\u8868"})],t.prototype,"friendApplicationVirtualList",void 0),a([d({type:cc.Node,tooltip:"\u6ca1\u6709\u597d\u53cb\u7533\u8bf7\u65f6\u7684\u6807\u8bc6"})],t.prototype,"noFriendApplicationFlagNode",void 0),a([h],t)}(cc.Component);n.default=f,cc._RF.pop()},{"../../../components/vitruallist/VerticalVirtualList":"VerticalVirtualList","../../../framework/gg":"gg","../../../systems/friend/FriendSystem":"FriendSystem","../../../systems/friend/FriendSystemEvent":"FriendSystemEvent"}],FriendApplicationListItem:[function(e,t,n){"use strict";cc._RF.push(t,"8cb32NgdGtEBInS91k+R+yE","FriendApplicationListItem");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=l(e("../../../components/UserIconStyle1Component")),u=e("../../../components/vitruallist/VitrualListItemComponent"),p=e("../../../configs/CommonPanelConfig"),h=e("../../../framework/gg"),d=e("../../../framework/i18n/I18n"),f=l(e("../../../framework/utils/StringUtils")),g=e("../../../systems/api/gameapi/PayApiModels"),m=e("../../../systems/friend/FriendProto"),y=e("../../../systems/friend/FriendSystem"),_=e("../../../systems/gamews/WebSocketResponseCode"),v=e("../../../systems/user/UserUISystem"),b=cc._decorator,S=b.ccclass,C=b.property,I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.friendIconComp=null,t.friendNameLabel=null,t.friendLevelLabel=null,t.onlineFlagNode=null,t.offlineFlagNode=null,t.vipSprite=null,t._userInfo=null,t}return i(t,e),t.prototype.getData=function(){return this._userInfo},t.prototype.bindData=function(e){this._userInfo=e},t.prototype.onLoad=function(){this.refresh()},t.prototype.refresh=function(){this._updateUserInfoUI(),this._updateOnlineStateUI()},t.prototype._updateUserInfoUI=function(){var e;this._userInfo?(this.friendNameLabel.string=f.default.clampStr(this._userInfo.nick),this.friendLevelLabel.string="Lv. "+String(null!==(e=this._userInfo.level)&&void 0!==e?e:0),this.friendIconComp.getComponent(c.default).updateIcon(this._userInfo.facelook),this.friendIconComp.getComponent(c.default).updateIconFrame(this._userInfo.frame),this._updataUserVip()):(this.friendNameLabel.string="",this.friendLevelLabel.string="Lv. 0",this.friendIconComp.getComponent(c.default).updateIcon(),this.friendIconComp.getComponent(c.default).updateIconFrame())},t.prototype._updataUserVip=function(){var e;return r(this,void 0,void 0,function(){var t;return s(this,function(n){switch(n.label){case 0:return(null===(e=this._userInfo)||void 0===e?void 0:e.vip_info)?(this.vipSprite.node.active=!0,[4,v.userUISystem.loadUserVipIcon(this._userInfo.vip_info.vip_level,this._userInfo.vip_info.vip_status)]):[3,2];case 1:return(t=n.sent())?this.vipSprite.spriteFrame=t:this.vipSprite.node.active=!1,[3,3];case 2:this.vipSprite.node.active=!1,n.label=3;case 3:return[2]}})})},t.prototype._updateOnlineStateUI=function(){if(this._userInfo)switch(this._userInfo.online_state){case m.FriendOnlineState.OnLine:this.onlineFlagNode.opacity=255,this.offlineFlagNode.opacity=0;break;case m.FriendOnlineState.OffLine:this.onlineFlagNode.opacity=0,this.offlineFlagNode.opacity=255;break;case m.FriendOnlineState.Unkown:this.onlineFlagNode.opacity=0,this.offlineFlagNode.opacity=0}else this.onlineFlagNode.opacity=0,this.offlineFlagNode.opacity=0},t.prototype.onAcceptBtnClick=function(){var e,t,n;return r(this,void 0,void 0,function(){var o,i,a,r,l;return s(this,function(s){switch(s.label){case 0:return o=null!==(t=null===(e=y.friendSystem.friendSettingConfig)||void 0===e?void 0:e.max_friend_count)&&void 0!==t?t:0,(null!==(n=y.friendSystem.friendList.length)&&void 0!==n?n:0)>=o?(h.gg.panelRouter.show({panel:p.CommonPanelConfig.alertPanel,data:{titleLabel:d.i18n.getText("common.tips"),msgLabel:d.i18n.getText("doublebaloot.tip.coinMax"),showCancelBtn:!0,showConfirmBtn:!0,confirmBtnLabel:d.i18n.getText("vip.label.vipUpgrade"),onConfirmBtnClick:function(){h.gg.panelRouter.hide({panel:p.CommonPanelConfig.alertPanel}),h.gg.panelRouter.show({panel:p.CommonPanelConfig.storePanel,data:{type:g.GoodsTypeEnum.Coin}})},onCancelBtnClick:function(){h.gg.panelRouter.hide({panel:p.CommonPanelConfig.alertPanel})}}}),[2]):(i=this._userInfo.uid,a=this._userInfo.nick,h.gg.panelRouter.show({panel:p.CommonPanelConfig.loadingPanel}),[4,y.friendSystem.friendApplicationReplyRequestAsync({uid:i,accept:!0})]);case 1:return r=s.sent(),h.gg.panelRouter.hide({panel:p.CommonPanelConfig.loadingPanel}),l=null,(null==r?void 0:r.status)==_.WebSocketResponseCode.Success?l=d.i18n.getText("toast.friendApplicationAccept",f.default.clampStr(a)):(null==r?void 0:r.status)==_.WebSocketResponseCode.YourFriendReachLimit?l=d.i18n.getText("toast.yourFriendCountReachMaxLimit"):(null==r?void 0:r.status)==_.WebSocketResponseCode.OtherFriendReachLimit&&(l=d.i18n.getText("toast.oppoFriendCountReachMaxLimit")),l&&h.gg.panelRouter.show({panel:p.CommonPanelConfig.toastPanel,data:{text:l}}),[2]}})})},t.prototype.onResuseBtnClick=function(){return r(this,void 0,void 0,function(){var e,t,n;return s(this,function(o){switch(o.label){case 0:return e=this._userInfo.uid,t=this._userInfo.nick,h.gg.panelRouter.show({panel:p.CommonPanelConfig.loadingPanel}),[4,y.friendSystem.friendApplicationReplyRequestAsync({uid:e,accept:!1})];case 1:return n=o.sent(),h.gg.panelRouter.hide({panel:p.CommonPanelConfig.loadingPanel}),1==(null==n?void 0:n.status)?(h.gg.panelRouter.show({panel:p.CommonPanelConfig.toastPanel,data:{text:d.i18n.getText("toast.firendApplicationRefuse",f.default.clampStr(t))}}),[2]):[2]}})})},t.prototype.onUserIconClick=function(){h.gg.panelRouter.show({panel:p.CommonPanelConfig.userInfoPanel,data:{qurey_uid:this._userInfo.uid,userName:this._userInfo.nick,userIcon:this._userInfo.facelook,userIconFrame:this._userInfo.frame}})},a([C({type:cc.Node,tooltip:"\u597d\u53cb\u5934\u50cf\u6837\u5f0f1"})],t.prototype,"friendIconComp",void 0),a([C({type:cc.Label,tooltip:"\u597d\u53cb\u540d\u5b57"})],t.prototype,"friendNameLabel",void 0),a([C({type:cc.Label,tooltip:"\u597d\u53cb\u7b49\u7ea7"})],t.prototype,"friendLevelLabel",void 0),a([C({type:cc.Node,tooltip:"\u597d\u53cb\u5728\u7ebf\u6807\u8bc6"})],t.prototype,"onlineFlagNode",void 0),a([C({type:cc.Node,tooltip:"\u597d\u53cb\u79bb\u7ebf\u6807\u8bc6"})],t.prototype,"offlineFlagNode",void 0),a([C({type:cc.Sprite,tooltip:"\u7528\u6237vip\u56fe\u6807"})],t.prototype,"vipSprite",void 0),a([S],t)}(u.VitrualListItemComponent);n.default=I,cc._RF.pop()},{"../../../components/UserIconStyle1Component":"UserIconStyle1Component","../../../components/vitruallist/VitrualListItemComponent":"VitrualListItemComponent","../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../framework/gg":"gg","../../../framework/i18n/I18n":"I18n","../../../framework/utils/StringUtils":"StringUtils","../../../systems/api/gameapi/PayApiModels":"PayApiModels","../../../systems/friend/FriendProto":"FriendProto","../../../systems/friend/FriendSystem":"FriendSystem","../../../systems/gamews/WebSocketResponseCode":"WebSocketResponseCode","../../../systems/user/UserUISystem":"UserUISystem"}],FriendCountCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"8652e8IZSFJIrdMQCexduax","FriendCountCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../../configs/CommonPanelConfig"),s=e("../../../framework/gg"),l=e("../../../systems/analysis/AnalysisEvent"),c=e("../../../systems/analysis/AnalysisWrapper"),u=e("../../../systems/api/gameapi/PayApiModels"),p=e("../../../systems/friend/FriendSystem"),h=e("../../../systems/friend/FriendSystemEvent"),d=e("../../../systems/login/LoginProto"),f=e("../../../systems/user/UserSystem"),g=e("../store/StoreUIEvent"),m=cc._decorator,y=m.ccclass,_=m.property,v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.countLabel=null,t.upperLimitLayout=null,t}return i(t,e),t.prototype.onLoad=function(){this._updateFriendCount()},t.prototype.onEnable=function(){this._updateFriendCount(),s.gg.eventManager.on(h.FriendSystemEvent.OnFriendListAddFriend,this._onFriendListAddFriend,this),s.gg.eventManager.on(h.FriendSystemEvent.OnFriendListRemoveFriend,this._onFriendListRemoveFriend,this),s.gg.eventManager.on(h.FriendSystemEvent.OnFriendSettingConfigChanged,this._onFriendSettingConfigChanged,this),s.gg.eventManager.on(g.StoreUIEvent.StorePanelClose,this._onStorePanelClose,this)},t.prototype.onDisable=function(){s.gg.eventManager.offTarget(this),this._updateFriendCount()},t.prototype._onStorePanelClose=function(){p.friendSystem.getFriendSettingConfigAsync({})},t.prototype._onFriendSettingConfigChanged=function(){this._updateFriendCount()},t.prototype._onFriendListAddFriend=function(){this._updateFriendCount()},t.prototype._onFriendListRemoveFriend=function(){this._updateFriendCount()},t.prototype._updateFriendCount=function(){var e,t,n,o,i,a=null!==(t=null===(e=p.friendSystem.friendSettingConfig)||void 0===e?void 0:e.max_friend_count)&&void 0!==t?t:0,r=null!==(n=p.friendSystem.friendList.length)&&void 0!==n?n:0;a>0?(this.node.opacity=255,this.countLabel.string=r+"/"+a,a-r>3||(null===(i=null===(o=f.userSystem.userModel)||void 0===o?void 0:o.vipInfo)||void 0===i?void 0:i.vip_level)>=d.MaxVipLevel?this.upperLimitLayout.active=!1:this.upperLimitLayout.active=!0):(this.node.opacity=0,this.countLabel.string="0/0",this.upperLimitLayout.active=!1)},t.prototype.onClickToVip=function(){c.analysis.logEvent(l.AnalysisEvent.VipFriendExpansionOpenClick),s.gg.panelRouter.show({panel:r.CommonPanelConfig.storePanel,data:{type:u.GoodsTypeEnum.Coin}})},a([_({type:cc.Label,tooltip:"\u6ca1\u6709\u597d\u53cb\u65f6\u7684\u6807\u8bc6"})],t.prototype,"countLabel",void 0),a([_({type:cc.Node,tooltip:"\u597d\u53cb\u4e0a\u7ebf"})],t.prototype,"upperLimitLayout",void 0),a([y],t)}(cc.Component);n.default=v,cc._RF.pop()},{"../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../framework/gg":"gg","../../../systems/analysis/AnalysisEvent":"AnalysisEvent","../../../systems/analysis/AnalysisWrapper":"AnalysisWrapper","../../../systems/api/gameapi/PayApiModels":"PayApiModels","../../../systems/friend/FriendSystem":"FriendSystem","../../../systems/friend/FriendSystemEvent":"FriendSystemEvent","../../../systems/login/LoginProto":"LoginProto","../../../systems/user/UserSystem":"UserSystem","../store/StoreUIEvent":"StoreUIEvent"}],FriendFloatingUISystem:[function(e,t,n){"use strict";cc._RF.push(t,"b082eelfYZE0r4dltpwYvea","FriendFloatingUISystem"),Object.defineProperty(n,"__esModule",{value:!0}),n.friendFloatingUISystem=void 0;var o=e("../../configs/CommonPanelConfig"),i=e("../../framework/gg"),a=e("../gamews/GameSocketSystem"),r=e("../login/LoginEvent"),s=e("./FriendProto"),l=function(){function e(){this._friendApplicationList=[]}return e.prototype._resetData=function(){this._friendApplicationList=[]},e.prototype.enable=function(){i.gg.eventManager.on(r.LoginEvent.OnUserKickOut,this._onUserOut,this),i.gg.eventManager.on(r.LoginEvent.OnUserLogout,this._onUserOut,this),i.gg.eventManager.on(r.LoginEvent.OnUserLostConnection,this._onUserOut,this),a.gameSocketSystem.on(s.FriendProtoMsg.FriendApplicationBroadCast,this._onFriendApplicationBroadCast,this),a.gameSocketSystem.on(s.FriendProtoMsg.GetFriendApplicationListResponse,this._onGetFriendApplicationListResponse,this),cc.director.on(cc.Director.EVENT_AFTER_SCENE_LAUNCH,this._onSceneLaunched,this)},e.prototype.disable=function(){i.gg.eventManager.offTarget(this),a.gameSocketSystem.offTarget(this),cc.director.off(cc.Director.EVENT_AFTER_SCENE_LAUNCH,this._onSceneLaunched,this),this._resetData()},e.prototype._onUserOut=function(){this.disable()},e.prototype._onSceneLaunched=function(){this.hasMessage()&&i.gg.panelRouter.show({panel:o.CommonPanelConfig.friendApplicationFloatingPanel})},e.prototype.hasMessage=function(){return this._friendApplicationList.length>0},e.prototype.pop=function(){return this._friendApplicationList.shift()},e.prototype._onFriendApplicationBroadCast=function(e){(null==e?void 0:e.user)&&(this._friendApplicationList.find(function(t){return t.uid==e.user.uid})||(this._friendApplicationList.push(e.user),i.gg.panelRouter.show({panel:o.CommonPanelConfig.friendApplicationFloatingPanel})))},e.prototype._onGetFriendApplicationListResponse=function(e){1==(null==e?void 0:e.status)&&(this._friendApplicationList=[])},e}();n.friendFloatingUISystem=new l,cc._RF.pop()},{"../../configs/CommonPanelConfig":"CommonPanelConfig","../../framework/gg":"gg","../gamews/GameSocketSystem":"GameSocketSystem","../login/LoginEvent":"LoginEvent","./FriendProto":"FriendProto"}],FriendInviteFloatingItem:[function(e,t,n){"use strict";cc._RF.push(t,"510b8Hm5qBIr4/YP3S7ljlt","FriendInviteFloatingItem");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=l(e("../../../../components/UserIconStyle1Component")),u=e("../../../../configs/CommonAudioConfig"),p=e("../../../../configs/CommonPanelConfig"),h=e("../../../../configs/SceneConfig"),d=l(e("../../../../framework/asset/AssetLoader")),f=e("../../../../framework/gg"),g=e("../../../../framework/i18n/I18n"),m=l(e("../../../../framework/utils/StringUtils")),y=e("../../../../systems/analysis/AnalysisEvent"),_=e("../../../../systems/analysis/AnalysisWrapper"),v=e("../../../../systems/gamaInvite/GamaInviteProto"),b=e("../../../../systems/gamaInvite/GamaInviteSystem"),S=e("../../../../systems/room/RoomModels"),C=e("../../../../systems/user/UserUISystem"),I=cc._decorator,R=I.ccclass,L=I.property,P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.userIconComp=null,t.userNameLabel=null,t.gameLabel=null,t.ludoIcon=null,t.balootIcon=null,t.prizeLabel=null,t.feeLabel=null,t.randomIcon=null,t.fixedIcon=null,t.vipSprite=null,t.inviteInfo=null,t._onHidedCallBack=null,t}return i(t,e),t.prototype.getData=function(){return this.inviteInfo},t.prototype.bindData=function(e){this.inviteInfo=e},t.prototype.onDisable=function(){this.inviteInfo=null,this._onHidedCallBack=null},t.prototype.refresh=function(){this.userNameLabel.string="",this.userIconComp.getComponent(c.default).updateIcon(null),this.userIconComp.getComponent(c.default).updateIconFrame(null),this.ludoIcon.active=!1,this.balootIcon.active=!1,this.feeLabel.string="0",this.prizeLabel.string="0",this.randomIcon.active=!1,this.fixedIcon.active=!1,this.gameLabel.string=""},t.prototype.onAcceptBtnClick=function(){return r(this,void 0,void 0,function(){return s(this,function(){return this.inviteInfo.game_id===S.GameId.Baloot?this.getBalootTableInfo():this.inviteInfo.game_id===S.GameId.Ludo&&this.getLudoTableInfo(),[2]})})},t.prototype.onResuseBtnClick=function(){return r(this,void 0,void 0,function(){return s(this,function(){return this._hide(),[2]})})},t.prototype.getLudoTableInfo=function(){var e;return r(this,void 0,void 0,function(){var t,n,o,i,a;return s(this,function(r){switch(r.label){case 0:return t={table_id:String(this.inviteInfo.table_id)},f.gg.panelRouter.show({panel:p.CommonPanelConfig.loadingPanel}),[4,b.gameInviteSystem.getLudoTableListAsync(t)];case 1:return null!=(n=r.sent())&&1==n.status&&null!=n.ludo_table_info?[3,2]:(f.gg.logger.error("ludo\u67e5\u8be2\u724c\u684c\u4fe1\u606f\u5931\u8d25\uff0c\u9884\u5224\u52a0\u5165\u5931\u8d25",n),this.joinTableFailed(),[3,5]);case 2:return o=n.ludo_table_info,4!==(null===(e=o.players)||void 0===e?void 0:e.length)?[3,3]:(this.joinTableFailed(),[3,5]);case 3:return this.createInteveRespinseInfo(),_.analysis.logEvent(y.AnalysisEvent.InviteLudoClick),a=(i=cc.director).runScene,[4,d.default.loadBundleScene(h.SceneConfig.LudoScene.bundleName,h.SceneConfig.LudoScene.sceneName)];case 4:a.apply(i,[r.sent()]),r.label=5;case 5:return f.gg.panelRouter.hide({panel:p.CommonPanelConfig.loadingPanel}),[2]}})})},t.prototype.getBalootTableInfo=function(){var e;return r(this,void 0,void 0,function(){var t,n,o,i,a;return s(this,function(r){switch(r.label){case 0:return t={table_ids:[String(this.inviteInfo.table_id)]},f.gg.panelRouter.show({panel:p.CommonPanelConfig.loadingPanel}),[4,b.gameInviteSystem.getBalootTableListAsync(t)];case 1:return null==(n=r.sent())||1!=n.status||null==n.table_list||n.table_list.length<1?(f.gg.logger.error("baloot\u67e5\u8be2\u724c\u684c\u4fe1\u606f\u5931\u8d25\uff0c\u9884\u5224\u52a0\u5165\u5931\u8d25",n),this.joinTableFailed(),[3,5]):[3,2];case 2:return o=n.table_list[0],4!==(null===(e=o.players)||void 0===e?void 0:e.length)?[3,3]:(this.joinTableFailed(),[3,5]);case 3:return this.createInteveRespinseInfo(),_.analysis.logEvent(y.AnalysisEvent.LobbyBalootClick),a=(i=cc.director).runScene,[4,d.default.loadBundleScene(h.SceneConfig.ClassicBalootScene.bundleName,h.SceneConfig.ClassicBalootScene.sceneName)];case 4:a.apply(i,[r.sent()]),r.label=5;case 5:return f.gg.panelRouter.hide({panel:p.CommonPanelConfig.loadingPanel}),[2]}})})},t.prototype.joinTableFailed=function(){f.gg.panelRouter.show({panel:p.CommonPanelConfig.toastPanel,data:{text:g.i18n.getText("toast.joinRoomFailed")}}),this._hide()},t.prototype.createInteveRespinseInfo=function(){b.gameInviteSystem.inteveRespinseInfo={game_id:this.inviteInfo.game_id,room_id:this.inviteInfo.room_id,table_id:this.inviteInfo.table_id,table_pwd:this.inviteInfo.table_pwd,pos:this.inviteInfo.pos,fee:this.inviteInfo.fee},this._hide()},t.prototype.updataUserVip=function(){var e;return r(this,void 0,void 0,function(){var t;return s(this,function(n){switch(n.label){case 0:return(null===(e=this.inviteInfo)||void 0===e?void 0:e.vip_info)?(this.vipSprite.node.active=!0,t=this.vipSprite,[4,C.userUISystem.loadUserVipIcon(this.inviteInfo.vip_info.vip_level,this.inviteInfo.vip_info.vip_status)]):[3,2];case 1:return t.spriteFrame=n.sent(),[3,3];case 2:this.vipSprite.node.active=!1,n.label=3;case 3:return[2]}})})},t.prototype.show=function(e){var t,n,o,i,a,r,s=this;this.updataUserVip(),this._onHidedCallBack=e,this.userNameLabel.string=m.default.clampStr(null!==(n=null===(t=this.inviteInfo)||void 0===t?void 0:t.nick)&&void 0!==n?n:""),this.userIconComp.getComponent(c.default).updateIcon(null!==(i=null===(o=this.inviteInfo)||void 0===o?void 0:o.facelook)&&void 0!==i?i:null),this.userIconComp.getComponent(c.default).updateIconFrame(null!==(r=null===(a=this.inviteInfo)||void 0===a?void 0:a.frame)&&void 0!==r?r:null),this.inviteInfo.game_id==S.GameId.Ludo?(this.gameLabel.string=g.i18n.getText("common.ludo"),this.ludoIcon.active=!0):this.inviteInfo.game_id==S.GameId.Baloot&&(this.gameLabel.string=g.i18n.getText("common.baloot"),this.balootIcon.active=!0),this.feeLabel.string=this.inviteInfo.fee+"",this.prizeLabel.string=this.inviteInfo.prize+"",this.inviteInfo.table_type===v.IntiveLudoTablePosType.TABLE_POS_FIXED?this.fixedIcon.active=!0:this.inviteInfo.table_type===v.IntiveLudoTablePosType.TABLE_POS_RANDOM&&(this.randomIcon.active=!0),f.gg.audio.playOneShot(u.CommonAudioConfig.friendApplication),cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).set({opacity:0,position:cc.v3(0,.5*this.node.parent.height+this.node.height)}).to(.36,{opacity:255,position:cc.v3(0,.5*this.node.parent.height)},{easing:"sineOut"}).delay(5).to(.36,{opacity:0,position:cc.v3(0,.5*this.node.parent.height+this.node.height)},{easing:"sineIn"}).call(function(){var e;null===(e=s._onHidedCallBack)||void 0===e||e.call(s)}).start()},t.prototype._hide=function(){var e=this;cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).to(.36,{opacity:0,position:cc.v3(0,.5*this.node.parent.height+this.node.height)},{easing:"sineIn"}).call(function(){var t;null===(t=e._onHidedCallBack)||void 0===t||t.call(e)}).start()},a([L({type:cc.Node,tooltip:"\u7528\u6237\u5934\u50cf\u6837\u5f0f1"})],t.prototype,"userIconComp",void 0),a([L({type:cc.Label,tooltip:"\u7528\u6237\u540d\u5b57"})],t.prototype,"userNameLabel",void 0),a([L({type:cc.Label,tooltip:"\u6e38\u620f\u540d\u5b57"})],t.prototype,"gameLabel",void 0),a([L({type:cc.Node,tooltip:"ludo\u56fe\u6807"})],t.prototype,"ludoIcon",void 0),a([L({type:cc.Node,tooltip:"Baloot\u56fe\u6807"})],t.prototype,"balootIcon",void 0),a([L({type:cc.Label,tooltip:"\u5956\u6c60"})],t.prototype,"prizeLabel",void 0),a([L({type:cc.Label,tooltip:"\u5165\u573a\u8d39"})],t.prototype,"feeLabel",void 0),a([L({type:cc.Node,tooltip:"\u968f\u673a\u6a21\u5f0f\u56fe\u6807"})],t.prototype,"randomIcon",void 0),a([L({type:cc.Node,tooltip:"\u56fa\u5b9a\u6a21\u5f0f\u56fe\u6807"})],t.prototype,"fixedIcon",void 0),a([L({type:cc.Sprite,tooltip:"\u7528\u6237vip\u56fe\u6807"})],t.prototype,"vipSprite",void 0),a([R],t)}(cc.Component);n.default=P,cc._RF.pop()},{"../../../../components/UserIconStyle1Component":"UserIconStyle1Component","../../../../configs/CommonAudioConfig":"CommonAudioConfig","../../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../../configs/SceneConfig":"SceneConfig","../../../../framework/asset/AssetLoader":"AssetLoader","../../../../framework/gg":"gg","../../../../framework/i18n/I18n":"I18n","../../../../framework/utils/StringUtils":"StringUtils","../../../../systems/analysis/AnalysisEvent":"AnalysisEvent","../../../../systems/analysis/AnalysisWrapper":"AnalysisWrapper","../../../../systems/gamaInvite/GamaInviteProto":"GamaInviteProto","../../../../systems/gamaInvite/GamaInviteSystem":"GamaInviteSystem","../../../../systems/room/RoomModels":"RoomModels","../../../../systems/user/UserUISystem":"UserUISystem"}],FriendInviteFloatingPanel:[function(e,t,n){"use strict";cc._RF.push(t,"7bf0cyZRCJF3rGzDHD2KuoX","FriendInviteFloatingPanel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../../../configs/CommonPanelConfig"),l=e("../../../../framework/gg"),c=e("../../../../framework/panelrouter/PanelComponent"),u=e("../../../../systems/gamaInvite/FriendInviteFloatingUISystem"),p=r(e("./FriendInviteFloatingItem")),h=cc._decorator,d=h.ccclass,f=h.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.itemParentNode=null,t.itemNode=null,t._itemNodePool=new cc.NodePool,t._isShowing=!1,t}return i(t,e),t.prototype._getNode=function(){var e=this._itemNodePool.get();return e||(e=cc.instantiate(this.itemNode)),e},t.prototype._putNode=function(e){this._itemNodePool.put(e)},t.prototype._reset=function(){for(var e=this.itemParentNode.children.length;e>=0;--e)this._putNode(this.itemParentNode.children[e])},t.prototype.onLoad=function(){this._reset()},t.prototype.show=function(e){this._isShowing?e.onShowed():(u.friendInviteFloatingUISystem.hasMessage()&&this._newFloatingApplication(u.friendInviteFloatingUISystem.pop()),e.onShowed())},t.prototype.hide=function(e){this._isShowing=!1,e.onHided()},t.prototype._newFloatingApplication=function(e){var t=this;this._isShowing=!0;var n=this._getNode();n.parent=this.itemParentNode;var o=n.getComponent(p.default);o.bindData(e),o.refresh(),o.show(function(){t._putNode(n),t._isShowing=!1,u.friendInviteFloatingUISystem.hasMessage()?l.gg.panelRouter.show({panel:s.CommonPanelConfig.friendInviteFloatingPanel}):l.gg.panelRouter.hide({panel:s.CommonPanelConfig.friendInviteFloatingPanel})})},a([f(cc.Node)],t.prototype,"itemParentNode",void 0),a([f(cc.Node)],t.prototype,"itemNode",void 0),a([d],t)}(c.PanelComponent);n.default=g,cc._RF.pop()},{"../../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../../framework/gg":"gg","../../../../framework/panelrouter/PanelComponent":"PanelComponent","../../../../systems/gamaInvite/FriendInviteFloatingUISystem":"FriendInviteFloatingUISystem","./FriendInviteFloatingItem":"FriendInviteFloatingItem"}],FriendInviteFloatingUISystem:[function(e,t,n){"use strict";cc._RF.push(t,"2321fMNiK9PZpEZgbr08pXf","FriendInviteFloatingUISystem"),Object.defineProperty(n,"__esModule",{value:!0}),n.friendInviteFloatingUISystem=void 0;var o=e("../../configs/CommonPanelConfig"),i=e("../../framework/gg"),a=e("./GamaInviteProto"),r=e("./GamaInviteSystem"),s=e("../gamews/GameSocketSystem"),l=e("../login/LoginEvent"),c=e("../../uiSystem/GameAnimSystem"),u=function(){function e(){this.friendInvitePlayerBroadCastList=[]}return e.prototype._resetData=function(){this.friendInvitePlayerBroadCastList=[]},e.prototype.enable=function(){i.gg.eventManager.on(l.LoginEvent.OnUserKickOut,this._onUserOut,this),i.gg.eventManager.on(l.LoginEvent.OnUserLogout,this._onUserOut,this),i.gg.eventManager.on(l.LoginEvent.OnUserLostConnection,this._onUserOut,this),s.gameSocketSystem.on(a.GamaInviteProtoMsg.InvitePlayerBroadCast,this.onInvitePlayerBroadCast,this),cc.director.on(cc.Director.EVENT_AFTER_SCENE_LAUNCH,this.onSceneLaunched,this)},e.prototype.disable=function(){i.gg.eventManager.offTarget(this),s.gameSocketSystem.offTarget(this),cc.director.off(cc.Director.EVENT_AFTER_SCENE_LAUNCH,this.onSceneLaunched,this),this._resetData()},e.prototype._onUserOut=function(){this.disable()},e.prototype.onSceneLaunched=function(){this.hasMessage()&&null==r.gameInviteSystem.inteveRespinseInfo&&c.gamePanelSystem.gameShowPanel===c.GamePanelType.Other&&i.gg.panelRouter.show({panel:o.CommonPanelConfig.friendInviteFloatingPanel})},e.prototype.hasMessage=function(){return this.friendInvitePlayerBroadCastList.length>0},e.prototype.pop=function(){return this.friendInvitePlayerBroadCastList.shift()},e.prototype.onInvitePlayerBroadCast=function(e){(null==e?void 0:e.table_id)&&(null==e?void 0:e.game_id)&&(null==e?void 0:e.room_id)&&c.gamePanelSystem.gameShowPanel===c.GamePanelType.Other&&(this.friendInvitePlayerBroadCastList.push(e),null==r.gameInviteSystem.inteveRespinseInfo&&i.gg.panelRouter.show({panel:o.CommonPanelConfig.friendInviteFloatingPanel}))},e}();n.friendInviteFloatingUISystem=new u,cc._RF.pop()},{"../../configs/CommonPanelConfig":"CommonPanelConfig","../../framework/gg":"gg","../../uiSystem/GameAnimSystem":"GameAnimSystem","../gamews/GameSocketSystem":"GameSocketSystem","../login/LoginEvent":"LoginEvent","./GamaInviteProto":"GamaInviteProto","./GamaInviteSystem":"GamaInviteSystem"}],FriendInviteItem:[function(e,t,n){"use strict";cc._RF.push(t,"86a711dqOJH7JjHmkx4OzhL","FriendInviteItem");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=r(e("../../../../components/UserIconStyle1Component")),l=e("../../../../framework/gg"),c=e("../../../../framework/i18n/I18n"),u=r(e("../../../../framework/utils/StringUtils")),p=e("../../../../systems/friend/FriendProto"),h=e("../../../../systems/gamaInvite/GamaInviteSystem"),d=e("../../../../systems/gamaInvite/GamaInviteUIEvent"),f=cc._decorator,g=f.ccclass,m=f.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.btnNode=null,t.inviteNode=null,t.inviteBtn=null,t.inviteNodeLab=null,t.notInviteBtn=null,t.notInviteNodeLab=null,t.gameInviteState=null,t.palyerNameLab=null,t.palyerHeadNode=null,t.friendInfo=null,t.itemIndex=-1,t.inviteStateColor=[new cc.Color(199,52,52,255),new cc.Color(42,171,17,255)],t}return i(t,e),t.prototype.updateUI=function(e,t,n){var o;if(this.itemIndex=t,(null===(o=this.friendInfo)||void 0===o?void 0:o.uid)!==(null==e?void 0:e.uid)&&(this.palyerHeadNode.getComponent(s.default).updateIcon(e.facelook),this.palyerHeadNode.getComponent(s.default).updateIconFrame(e.frame),this.palyerNameLab.string=u.default.clampStr(e.nick,12)),this.friendInfo=e,this.inviteBtn.active=!1,this.inviteNodeLab.active=!1,this.notInviteBtn.active=!0,this.notInviteNodeLab.active=!0,this.gameInviteState.node.color=this.inviteStateColor[0],this.btnNode.active=!1,this.inviteNode.active=!1,0!==n)this.gameInviteState.string=c.i18n.getText("invite.waitingReply"),this.inviteNode.active=!0;else switch(this.btnNode.active=!0,this.friendInfo.game_state){case p.GameState.Leisure:this.inviteBtn.active=!0,this.inviteNodeLab.active=!0,this.notInviteBtn.active=!1,this.notInviteNodeLab.active=!1,this.gameInviteState.string=c.i18n.getText("invite.leisure"),this.gameInviteState.node.color=this.inviteStateColor[1];break;case p.GameState.Baloot:this.gameInviteState.string=c.i18n.getText("invite.inBalootGame");break;case p.GameState.Ludo:this.gameInviteState.string=c.i18n.getText("invite.inLudoGame");break;case p.GameState.Dice:this.gameInviteState.string=c.i18n.getText("invite.inUpDownGame");break;default:this.gameInviteState.string=""}},t.prototype.updateItemState=function(){this.gameInviteState.string=c.i18n.getText("invite.waitingReply"),this.gameInviteState.node.color=this.inviteStateColor[1],this.btnNode.active=!1,this.inviteNode.active=!0},t.prototype.onClickFriendInvite=function(){h.gameInviteSystem.isPostInvite||l.gg.eventManager.emit(d.GamaInviteUIEvent.FriendInviteItemOnClickEvent,this.itemIndex)},a([m({type:cc.Node,tooltip:"\u73a9\u5bb6\u672a\u9080\u8bf7\u8282\u70b9"})],t.prototype,"btnNode",void 0),a([m({type:cc.Node,tooltip:"\u73a9\u5bb6\u5df2\u7ecf\u53d1\u9001\u9080\u8bf7\u8282\u70b9"})],t.prototype,"inviteNode",void 0),a([m({type:cc.Node,tooltip:"\u73a9\u5bb6\u53ef\u9080\u8bf7\u8282\u70b9"})],t.prototype,"inviteBtn",void 0),a([m({type:cc.Node,tooltip:"\u73a9\u5bb6\u53ef\u9080\u8bf7\u8282\u70b9\u6587\u672c"})],t.prototype,"inviteNodeLab",void 0),a([m({type:cc.Node,tooltip:"\u73a9\u5bb6\u4e0d\u53ef\u9080\u8bf7\u8282\u70b9"})],t.prototype,"notInviteBtn",void 0),a([m({type:cc.Node,tooltip:"\u73a9\u5bb6\u4e0d\u53ef\u9080\u8bf7\u8282\u70b9\u6587\u672c"})],t.prototype,"notInviteNodeLab",void 0),a([m({type:cc.Label,tooltip:"\u73a9\u5bb6\u9080\u8bf7\u6e38\u620f\u72b6\u6001"})],t.prototype,"gameInviteState",void 0),a([m({type:cc.Label,tooltip:"\u73a9\u5bb6\u540d\u5b57"})],t.prototype,"palyerNameLab",void 0),a([m({type:cc.Node,tooltip:"\u73a9\u5bb6\u5934\u50cf\u8282\u70b9"})],t.prototype,"palyerHeadNode",void 0),a([g],t)}(cc.Component);n.default=y,cc._RF.pop()},{"../../../../components/UserIconStyle1Component":"UserIconStyle1Component","../../../../framework/gg":"gg","../../../../framework/i18n/I18n":"I18n","../../../../framework/utils/StringUtils":"StringUtils","../../../../systems/friend/FriendProto":"FriendProto","../../../../systems/gamaInvite/GamaInviteSystem":"GamaInviteSystem","../../../../systems/gamaInvite/GamaInviteUIEvent":"GamaInviteUIEvent"}],FriendInviteList:[function(e,t,n){"use strict";cc._RF.push(t,"00d29veqhNEdKsdv2ViO759","FriendInviteList");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=e("../../../../configs/CommonPanelConfig"),u=e("../../../../ffframework/rongyun/im/RongyunImCore"),p=e("../../../../ffframework/rongyun/im/RongyunImWrapper"),h=e("../../../../framework/gg"),d=e("../../../../framework/i18n/I18n"),f=e("../../../../systems/gamaInvite/GamaInviteProto"),g=e("../../../../systems/gamaInvite/GamaInviteSystem"),m=e("../../../../systems/gamaInvite/GamaInviteSystemEvent"),y=e("../../../../systems/gamaInvite/GamaInviteUIEvent"),_=e("../../../../systems/gamaInvite/QualifyingInviteSystem"),v=e("../../../../systems/gamews/WebSocketResponseCode"),b=e("../../../../systems/im/IMSystem"),S=e("../../../../systems/im/IMSystemModel"),C=e("../FriendInvitePanel"),I=l(e("./FriendInviteItem")),R=cc._decorator,L=R.ccclass,P=R.property,M=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.inviteScrollView=null,t.inviteParentNode=null,t.inviteItemNode=null,t.itemHeight=110,t.spaceingY=10,t.paddingTop=10,t.paddingBottom=10,t.visableAreaMarginTop=110,t.visableAreaMarginBottom=110,t.itemList=[],t.inviteTimeList=[],t._virtualNodes=[],t.lastTimer=0,t._itemNodeAll=[],t.count=1,t.postItemIndex=-1,t.pos=-1,t.gameInviteType=null,t}return i(t,e),t.prototype.getTableNode=function(){var e=this._itemNodeAll.pop();return e||((e=cc.instantiate(this.inviteItemNode)).parent=this.inviteParentNode),e},t.prototype.reset=function(){this.postItemIndex=-1,this.itemList=[],this._virtualNodes=[],this.inviteScrollView.stopAutoScroll(),this.inviteParentNode.position=cc.v3(),this._itemNodeAll=[];for(var e=this.inviteParentNode.children.length-1;e>=0;--e)this._itemNodeAll.push(this.inviteParentNode.children[e]),this.inviteParentNode.children[e].opacity=0},t.prototype.init=function(e,t,n){var o=this;this.pos=t,this.gameInviteType=n,this.itemList=e,this.itemList&&this.itemList.length>0&&(this._virtualNodes=this.itemList.map(function(){return o.inviteTimeList.push(0),null}),this._updateListWidth(),this.inviteParentNode.position=cc.v3(),this._updateList())},t.prototype._updateListWidth=function(){var e=Math.ceil(this.itemList.length/this.count);this.inviteParentNode.height=this.paddingTop+this.paddingBottom+this.itemHeight*e+this.spaceingY*e,this.inviteParentNode.height<this.inviteScrollView.node.height&&(this.inviteParentNode.height=this.inviteScrollView.node.height)},t.prototype.onEnable=function(){h.gg.eventManager.on(m.GamaInviteSystemEvent.InvitePlayerResponseEvent,this.onInvitePlayerResponse,this),h.gg.eventManager.on(y.GamaInviteUIEvent.FriendInviteItemOnClickEvent,this.onFriendInviteItem,this),this.inviteParentNode.on(cc.Node.EventType.POSITION_CHANGED,this._onPositionChanged,this),this.inviteScrollView.node.on("scroll-ended",this._updateList,this)},t.prototype.onDisable=function(){h.gg.eventManager.offTarget(this),this.inviteParentNode.off(cc.Node.EventType.POSITION_CHANGED,this._onPositionChanged,this),this.reset(),this.inviteScrollView.node.off("scroll-ended",this._updateList,this)},t.prototype.onFriendInviteItem=function(e){return r(this,void 0,void 0,function(){var t;return s(this,function(n){switch(n.label){case 0:return this.postItemIndex=e,this.gameInviteType!=C.GameInviteType.Ordinary?[3,1]:(g.gameInviteSystem.sendInvitePlayerRequest({invite_type:f.InviteType.FriendInvite,pos:this.pos,uid:this.itemList[this.postItemIndex].uid}),[3,3]);case 1:return[4,_.qualifyingInviteSystem.qualifyingInvitePlayer({uid:this.itemList[this.postItemIndex].uid})];case 2:t=n.sent(),this.onInviteQualifyingResponse(t),n.label=3;case 3:return[2]}})})},t.prototype.onInviteQualifyingResponse=function(e){var t="toast.inviteFail";1==(null==e?void 0:e.status)?(t="toast.inviteSuccess",-1!==this.postItemIndex&&this._virtualNodes[this.postItemIndex]&&(this.inviteTimeList[this.postItemIndex]=Date.now(),this._virtualNodes[this.postItemIndex].getComponent(I.default).updateItemState()),e.qualifying_room_info&&this.sendQualifyingRongyunIm(e.qualifying_room_info)):(null==e?void 0:e.status)===v.WebSocketResponseCode.GradeIsTooHigh?t="toast.friendGradeHigh":(null==e?void 0:e.status)===v.WebSocketResponseCode.GradeIsTooLow?t="toast.friendGradeLow":(null==e?void 0:e.status)===v.WebSocketResponseCode.LevelIsNotEnough&&(t="toast.qualifyingOtherLevel"),h.gg.panelRouter.show({panel:c.CommonPanelConfig.toastPanel,data:{text:d.i18n.getText(t)}})},t.prototype.sendQualifyingRongyunIm=function(e){var t,n,o,i;if(-1!=this.postItemIndex&&this.itemList[this.postItemIndex]){var a=this.itemList[this.postItemIndex];b.imSystem.insertConversation({conversationType:u.RongyunIMConversationType.PRIVATE,target_id:a.uid,itemType:S.IMConversationEnum.Private}),b.imSystem.setCurConversation(a.uid),b.imSystem.initPrivateConversationMessages(a.uid);var r=b.imSystem.getCurConversation();p.RongyunImWrapper.sendMessage({conversation_type:r.conversationType,target_id:r.target_id,text:"[qualifying]",extra:{type:u.RongyunIMExtraType.Qualifying,data:{game_id:null!==(t=e.game_id)&&void 0!==t?t:"",room_id:null!==(n=e.room_id)&&void 0!==n?n:"",players:null!==(o=null==e?void 0:e.players)&&void 0!==o?o:null,owner_id:null!==(i=e.owner_id)&&void 0!==i?i:0}}})}},t.prototype.onInvitePlayerResponse=function(e){var t="toast.inviteFail";1==(null==e?void 0:e.status)?(t="toast.inviteSuccess",-1!==this.postItemIndex&&this._virtualNodes[this.postItemIndex]&&(this.inviteTimeList[this.postItemIndex]=Date.now(),this._virtualNodes[this.postItemIndex].getComponent(I.default).updateItemState()),e.invite_table_info&&this.sendRongyunIm(e.invite_table_info)):(null==e?void 0:e.status)===v.WebSocketResponseCode.LevelIsNotEnough&&(t="toast.inviteLevelFail"),h.gg.panelRouter.show({panel:c.CommonPanelConfig.toastPanel,data:{text:d.i18n.getText(t)}})},t.prototype.sendRongyunIm=function(e){var t,n,o,i,a,r;if(-1!=this.postItemIndex&&this.itemList[this.postItemIndex]){var s=this.itemList[this.postItemIndex];b.imSystem.insertConversation({conversationType:u.RongyunIMConversationType.PRIVATE,target_id:s.uid,itemType:S.IMConversationEnum.Private}),b.imSystem.setCurConversation(s.uid),b.imSystem.initPrivateConversationMessages(s.uid);var l=b.imSystem.getCurConversation();p.RongyunImWrapper.sendMessage({conversation_type:l.conversationType,target_id:l.target_id,text:"[Qualifying]",extra:{type:u.RongyunIMExtraType.Game,data:{game_id:null!==(t=e.game_id)&&void 0!==t?t:0,room_id:null!==(n=e.room_id)&&void 0!==n?n:0,table_id:null!==(o=e.table_id)&&void 0!==o?o:0,table_pwd:null!==(i=e.table_pwd)&&void 0!==i?i:"",ludo_table:null!==(a=e.ludo_table)&&void 0!==a?a:null,baloot_table:null!==(r=e.baloot_table)&&void 0!==r?r:null}}})}},t.prototype._onPositionChanged=function(){var e=Date.now();(e-this.lastTimer)/500>=.1&&(this.lastTimer=e,this._updateList())},t.prototype._updateList=function(){for(var e=0;e<this._virtualNodes.length;++e){var t=this._virtualNodes[e];if(this._isVisable(e)){if(null==t){t=this.getTableNode(),this._virtualNodes[e]=t;var n=t.getComponent(I.default);this.inviteTimeList[e]-Date.now()<=0&&(this.inviteTimeList[e]=0),n.updateUI(this.itemList[e],e,this.inviteTimeList[e]),t.opacity=255}t.position=this._convertIndexToPosition(e)}else t&&(t.opacity=0,this._itemNodeAll.push(t)),this._virtualNodes[e]=null}},t.prototype._isVisable=function(e){var t=this._convertIndexToPosition(e),n=-this.inviteParentNode.position.y+this.visableAreaMarginTop,o=n-this.visableAreaMarginTop-this.inviteScrollView.node.height-this.visableAreaMarginBottom;return t.y+.5*this.itemHeight<=n&&t.y-.5*this.itemHeight>=o},t.prototype._convertIndexToPosition=function(e){var t=Math.floor(e/this.count),n=this.inviteParentNode.width/this.count,o=this.inviteParentNode.width/2-n/2-n*(e%this.count);return cc.v3(o,-this.paddingTop-this.itemHeight*t-t*this.spaceingY)},a([P({type:cc.ScrollView,tooltip:"\u9053\u5177ScrollView"})],t.prototype,"inviteScrollView",void 0),a([P({type:cc.Node,tooltip:"\u9053\u5177\u7236\u8282\u70b9"})],t.prototype,"inviteParentNode",void 0),a([P({type:cc.Prefab,tooltip:"\u9053\u5177\u8282\u70b9"})],t.prototype,"inviteItemNode",void 0),a([P({tooltip:"\u9884\u5236\u4f53item\u8282\u70b9\u7684\u9ad8\u5ea6"})],t.prototype,"itemHeight",void 0),a([P({tooltip:"Item \u95f4\u9694\uff08px\uff09"})],t.prototype,"spaceingY",void 0),a([P({tooltip:"Item \u8ddd\u79bb\u4e0a\u8fb9\uff08px\uff09"})],t.prototype,"paddingTop",void 0),a([P({tooltip:"Item \u8ddd\u79bb\u4e0b\u8fb9\uff08px\uff09"})],t.prototype,"paddingBottom",void 0),a([P({tooltip:"\u53ef\u89c6\u533a\u57df margin, \u8d1f\u6570\u4e3a\u5f80\u5916\u6269\u5c55"})],t.prototype,"visableAreaMarginTop",void 0),a([P({tooltip:"\u53ef\u89c6\u533a\u57df margin, \u8d1f\u6570\u4e3a\u5f80\u5916\u6269\u5c55"})],t.prototype,"visableAreaMarginBottom",void 0),a([L],t)}(cc.Component);n.default=M,cc._RF.pop()},{"../../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../../ffframework/rongyun/im/RongyunImCore":"RongyunImCore","../../../../ffframework/rongyun/im/RongyunImWrapper":"RongyunImWrapper","../../../../framework/gg":"gg","../../../../framework/i18n/I18n":"I18n","../../../../systems/gamaInvite/GamaInviteProto":"GamaInviteProto","../../../../systems/gamaInvite/GamaInviteSystem":"GamaInviteSystem","../../../../systems/gamaInvite/GamaInviteSystemEvent":"GamaInviteSystemEvent","../../../../systems/gamaInvite/GamaInviteUIEvent":"GamaInviteUIEvent","../../../../systems/gamaInvite/QualifyingInviteSystem":"QualifyingInviteSystem","../../../../systems/gamews/WebSocketResponseCode":"WebSocketResponseCode","../../../../systems/im/IMSystem":"IMSystem","../../../../systems/im/IMSystemModel":"IMSystemModel","../FriendInvitePanel":"FriendInvitePanel","./FriendInviteItem":"FriendInviteItem"}],FriendInvitePanel:[function(e,t,n){"use strict";cc._RF.push(t,"2dc77bX83NEtapCZf1Zs2F2","FriendInvitePanel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.GameInviteType=void 0;var s,l=e("../../../configs/CommonPanelConfig"),c=r(e("../../../framework/components/dialogstyle/MoveStyleDialogPanelV2")),u=e("../../../framework/gg"),p=e("../../../systems/friend/FriendSystem"),h=e("../../../systems/friend/FriendSystemEvent"),d=e("../../../systems/gamaInvite/GamaInviteSystem"),f=e("../../../systems/gamaInvite/GamaInviteSystemEvent"),g=r(e("./friendInviteList/FriendInviteList")),m=r(e("./friendInviteList/FriendRecommendContent")),y=cc._decorator,_=y.ccclass,v=y.property;(function(e){e.Qualifying="qualifying",e.Ordinary="ordinary"})(s=n.GameInviteType||(n.GameInviteType={}));var b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.friendInviteList=null,t.friendRecommendContent=null,t.friendListParent=null,t.friendRecommendParent=null,t.pos=-1,t.gameInviteType=s.Ordinary,t}return i(t,e),t.prototype.show=function(e){this.friendListParent.active=!1,this.friendRecommendParent.active=!1,this.pos=e.data.pos,this.gameInviteType=e.data.gameInviteType,this.friendInviteList.reset(),p.friendSystem.getFriendListAsync({count:50}),this._playShowAnim(function(){e.onShowed()})},t.prototype.hide=function(e){this._playHideAnim(function(){e.onHided()})},t.prototype.onEnable=function(){u.gg.eventManager.on(h.FriendSystemEvent.OnFriendListAddFriend,this.onFriendListAddFriend,this),u.gg.eventManager.on(f.GamaInviteSystemEvent.GetOnlinePlayerResponseEvent,this.onGetOnlinePlayerResponse,this)},t.prototype.onDisable=function(){u.gg.eventManager.offTarget(this)},t.prototype.onFriendListAddFriend=function(e){(null==e?void 0:e.length)>0?(this.friendRecommendParent.active=!1,this.friendListParent.active=!0,this.friendInviteList.init(e,this.pos,this.gameInviteType)):(this.friendRecommendParent.active=!0,this.friendRecommendContent.reset(),d.gameInviteSystem.sendGetOnlinePlayerRequest())},t.prototype.onGetOnlinePlayerResponse=function(e){var t;1==e.status&&(null===(t=e.player_list)||void 0===t?void 0:t.length)>0&&this.friendRecommendContent.init(e.player_list)},t.prototype.onClickClose=function(){d.gameInviteSystem.isPostInvite||u.gg.panelRouter.hide({panel:l.CommonPanelConfig.friendInvitePanel})},t.prototype.onClickRefrshOnlinePlayer=function(){this.friendRecommendContent.reset(),d.gameInviteSystem.sendGetOnlinePlayerRequest()},a([v({type:g.default,tooltip:"\u597d\u53cb\u5217\u8868"})],t.prototype,"friendInviteList",void 0),a([v({type:m.default,tooltip:"\u5728\u7ebf\u73a9\u5bb6\u63a8\u8350\u7ec4\u4ef6"})],t.prototype,"friendRecommendContent",void 0),a([v({type:cc.Node,tooltip:"\u597d\u53cb\u5217\u8868\u6574\u4f53\u7236\u7ec4\u4ef6"})],t.prototype,"friendListParent",void 0),a([v({type:cc.Node,tooltip:"\u5728\u7ebf\u73a9\u5bb6\u63a8\u8350\u7236\u7ec4\u4ef6"})],t.prototype,"friendRecommendParent",void 0),a([_],t)}(c.default);n.default=b,cc._RF.pop()},{"../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../framework/components/dialogstyle/MoveStyleDialogPanelV2":"MoveStyleDialogPanelV2","../../../framework/gg":"gg","../../../systems/friend/FriendSystem":"FriendSystem","../../../systems/friend/FriendSystemEvent":"FriendSystemEvent","../../../systems/gamaInvite/GamaInviteSystem":"GamaInviteSystem","../../../systems/gamaInvite/GamaInviteSystemEvent":"GamaInviteSystemEvent","./friendInviteList/FriendInviteList":"FriendInviteList","./friendInviteList/FriendRecommendContent":"FriendRecommendContent"}],FriendListCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"aff50ZOOexKYZFit6nLntFy","FriendListCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=r(e("../../../components/vitruallist/VerticalVirtualList")),l=e("../../../framework/gg"),c=e("../../../systems/friend/FriendSystem"),u=e("../../../systems/friend/FriendSystemEvent"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.friendVirtualList=null,t.noFriendFlagNode=null,t}return i(t,e),t.prototype.onLoad=function(){this._reset()},t.prototype.onEnable=function(){this._initList(),l.gg.eventManager.on(u.FriendSystemEvent.OnFriendListAddFriend,this._onFriendListAddFriend,this),l.gg.eventManager.on(u.FriendSystemEvent.OnFriendListRemoveFriend,this._onFriendListRemoveFriend,this)},t.prototype.onDisable=function(){l.gg.eventManager.offTarget(this),this._reset()},t.prototype._reset=function(){this.noFriendFlagNode.active=!1,this.friendVirtualList.resetVirtualList(),this.friendVirtualList.node.active=!1},t.prototype._initList=function(){this.noFriendFlagNode.active=0==c.friendSystem.friendList.length,this.friendVirtualList.node.active=c.friendSystem.friendList.length>0,c.friendSystem.friendList.length>0&&(this.friendVirtualList.bindData(c.friendSystem.friendList),this.friendVirtualList.insert(0,c.friendSystem.friendList.length))},t.prototype._onFriendListAddFriend=function(e){this.noFriendFlagNode.active=0==c.friendSystem.friendList.length,this.friendVirtualList.node.active=c.friendSystem.friendList.length>0,this.friendVirtualList.bindData(c.friendSystem.friendList),this.friendVirtualList.insert(0,e.length)},t.prototype._onFriendListRemoveFriend=function(e){this.noFriendFlagNode.active=0==c.friendSystem.friendList.length,this.friendVirtualList.node.active=c.friendSystem.friendList.length>0,this.friendVirtualList.splice(e)},a([d({type:s.default,tooltip:"\u597d\u53cb\u865a\u62df\u5217\u8868"})],t.prototype,"friendVirtualList",void 0),a([d({type:cc.Node,tooltip:"\u6ca1\u6709\u597d\u53cb\u65f6\u7684\u6807\u8bc6"})],t.prototype,"noFriendFlagNode",void 0),a([h],t)}(cc.Component);n.default=f,cc._RF.pop()},{"../../../components/vitruallist/VerticalVirtualList":"VerticalVirtualList","../../../framework/gg":"gg","../../../systems/friend/FriendSystem":"FriendSystem","../../../systems/friend/FriendSystemEvent":"FriendSystemEvent"}],FriendListItemOptionCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"cdba28XW7FBlqkgJzjGCZjB","FriendListItemOptionCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=r.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.extendNodes=[],t.bgNode=null,t.arrowBtnNode=null,t.arrowNode=null,t.layoutNode=null,t._isShowed=!1,t.moveX=110,t.initX=0,t}return i(t,e),t.prototype.onLoad=function(){this.initX=this.layoutNode.x,this.hideExtendArea(!0)},t.prototype.onEnable=function(){this.hideExtendArea(!0)},t.prototype.onArrowBtnClick=function(){this._isShowed?this.hideExtendArea():this.showExtendArea()},t.prototype.showExtendArea=function(){this._isShowed=!0,this.extendNodes.forEach(function(e){e.active=!0,cc.Tween.stopAllByTarget(e),e.opacity=0,cc.tween(e).to(.24,{opacity:255},{easing:"sineOut"}).start()});var e=Number.MIN_SAFE_INTEGER;this.extendNodes.forEach(function(t){e<t.position.x+.5*t.width&&(e=t.position.x+.5*t.width)}),cc.Tween.stopAllByTarget(this.bgNode),cc.tween(this.bgNode).to(.24,{width:e},{easing:"sineOut"}).start(),cc.Tween.stopAllByTarget(this.arrowBtnNode),cc.tween(this.arrowBtnNode).to(.24,{position:cc.v3(e)},{easing:"sineOut"}).start(),cc.Tween.stopAllByTarget(this.arrowNode),cc.tween(this.arrowNode).to(.24,{angle:0},{easing:"sineOut"}).start(),cc.Tween.stopAllByTarget(this.layoutNode),cc.tween(this.layoutNode).to(.24,{x:this.initX+this.moveX},{easing:"sineOut"}).start()},t.prototype.hideExtendArea=function(e){void 0===e&&(e=!1),this._isShowed=!1,this.extendNodes.forEach(function(t){cc.Tween.stopAllByTarget(t),e?(t.opacity=0,t.active=!1):cc.tween(t).to(.24,{opacity:0},{easing:"sineOut"}).call(function(){t.active=!1}).start()});var t=Number.MAX_SAFE_INTEGER;this.extendNodes.forEach(function(e){t>e.position.x-.5*e.width&&(t=e.position.x-.5*e.width)}),cc.Tween.stopAllByTarget(this.bgNode),e?this.bgNode.width=t:cc.tween(this.bgNode).to(.24,{width:t},{easing:"sineOut"}).start(),cc.Tween.stopAllByTarget(this.arrowBtnNode),e?this.arrowBtnNode.position=cc.v3(t):cc.tween(this.arrowBtnNode).to(.24,{position:cc.v3(t)},{easing:"sineOut"}).start(),cc.Tween.stopAllByTarget(this.arrowNode),e?this.arrowNode.angle=-180:cc.tween(this.arrowNode).to(.24,{angle:-180},{easing:"sineOut"}).start(),cc.Tween.stopAllByTarget(this.layoutNode),e?this.layoutNode.x=this.initX:(cc.Tween.stopAllByTarget(this.layoutNode),cc.tween(this.layoutNode).to(.24,{x:this.initX},{easing:"sineOut"}).start())},a([l({type:[cc.Node],tooltip:"\u6269\u5c55\u65f6\u624d\u53ef\u89c1\u7684\u8282\u70b9"})],t.prototype,"extendNodes",void 0),a([l({type:cc.Node,tooltip:"\u533a\u57df\u80cc\u666f"})],t.prototype,"bgNode",void 0),a([l({type:cc.Node,tooltip:"\u6269\u5c55\u7bad\u5934\u6309\u94ae"})],t.prototype,"arrowBtnNode",void 0),a([l({type:cc.Node,tooltip:"\u6269\u5c55\u7bad\u5934"})],t.prototype,"arrowNode",void 0),a([l({type:cc.Node,tooltip:"\u6ed1\u52a8\u8fc7\u7a0b\u4e2d\u9700\u8981\u53f3\u79fb\u7684\u8282\u70b9"})],t.prototype,"layoutNode",void 0),a([s],t)}(cc.Component);n.default=c,cc._RF.pop()},{}],FriendListItem:[function(e,t,n){"use strict";cc._RF.push(t,"c464aSbxlhIEa9Jx2eQrngj","FriendListItem");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=l(e("../../../components/UserIconStyle1Component")),u=e("../../../components/vitruallist/VitrualListItemComponent"),p=e("../../../configs/CommonAudioConfig"),h=e("../../../configs/CommonPanelConfig"),d=e("../../../framework/gg"),f=e("../../../framework/i18n/I18n"),g=l(e("../../../framework/utils/StringUtils")),m=e("../../../systems/analysis/AnalysisEvent"),y=e("../../../systems/analysis/AnalysisWrapper"),_=e("../../../systems/friend/FriendProto"),v=e("../../../systems/friend/FriendSystem"),b=e("../../../systems/friend/FriendSystemEvent"),S=e("../../../systems/im/IMSystem"),C=e("../../../systems/im/IMSystemEvent"),I=e("../../../systems/remoteconfig/RemoteConfigModel"),R=e("../../../systems/remoteconfig/RemoteConfigSystem"),L=e("../../../systems/user/UserSystem"),P=e("../../../systems/user/UserUISystem"),M=e("../im/IMPanel"),T=e("../transfer/TransferPanel"),E=l(e("./FriendListItemOptionCtrl")),A=cc._decorator,w=A.ccclass,O=A.property,G=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.friendIconComp=null,t.friendNameLabel=null,t.friendLevelLabel=null,t.onlineFlagNode=null,t.offlineFlagNode=null,t.optionCtrl=null,t.chatHintNode=null,t.vipSprite=null,t._friendInfo=null,t}return i(t,e),t.prototype.onLoad=function(){this.refresh()},t.prototype.onEnable=function(){d.gg.eventManager.on(b.FriendSystemEvent.OnFriendOnLineStateChangedBroadCast,this._onFriendOnLineStateChangedBroadCast,this),d.gg.eventManager.on(C.IMSystemEvent.OnUnReadConversationListChanged,this._onUnReadConversationListChanged,this)},t.prototype.onDisable=function(){d.gg.eventManager.offTarget(this)},t.prototype.getData=function(){return this._friendInfo},t.prototype.bindData=function(e){this._friendInfo=e},t.prototype.refresh=function(){this._updateUserInfoUI(),this._updateOnlineStateUI(),this._updateHintStateUI()},t.prototype._onFriendOnLineStateChangedBroadCast=function(e){var t;this._friendInfo&&(null===(t=this._friendInfo)||void 0===t?void 0:t.uid)==e.uid&&this._updateOnlineStateUI()},t.prototype._onUnReadConversationListChanged=function(){this._updateHintStateUI()},t.prototype._updateUserInfoUI=function(){var e;this._friendInfo?(this.friendNameLabel.string=g.default.clampStr(this._friendInfo.nick),this.friendLevelLabel.string="Lv. "+String(null!==(e=this._friendInfo.level)&&void 0!==e?e:0),this._updataUserVip(),this.friendIconComp.getComponent(c.default).updateIcon(this._friendInfo.facelook),this.friendIconComp.getComponent(c.default).updateIconFrame(this._friendInfo.frame)):(this.friendNameLabel.string="",this.friendLevelLabel.string="Lv. 0",this.friendIconComp.getComponent(c.default).updateIcon(),this.friendIconComp.getComponent(c.default).updateIconFrame())},t.prototype._updataUserVip=function(){var e;return r(this,void 0,void 0,function(){var t;return s(this,function(n){switch(n.label){case 0:return(null===(e=this._friendInfo)||void 0===e?void 0:e.vip_info)?(this.vipSprite.node.active=!0,[4,P.userUISystem.loadUserVipIcon(this._friendInfo.vip_info.vip_level,this._friendInfo.vip_info.vip_status)]):[3,2];case 1:return(t=n.sent())?this.vipSprite.spriteFrame=t:this.vipSprite.node.active=!1,[3,3];case 2:this.vipSprite.node.active=!1,n.label=3;case 3:return[2]}})})},t.prototype._updateOnlineStateUI=function(){if(this._friendInfo)switch(this._friendInfo.online_state){case _.FriendOnlineState.OnLine:this.onlineFlagNode.opacity=255,this.offlineFlagNode.opacity=0;break;case _.FriendOnlineState.OffLine:this.onlineFlagNode.opacity=0,this.offlineFlagNode.opacity=255;break;case _.FriendOnlineState.Unkown:this.onlineFlagNode.opacity=0,this.offlineFlagNode.opacity=0}else this.onlineFlagNode.opacity=0,this.offlineFlagNode.opacity=0},t.prototype._updateHintStateUI=function(){this._friendInfo&&S.imSystem.unReadConversations&&S.imSystem.unReadConversations.includes(this._friendInfo.uid)?this.chatHintNode.active=!0:this.chatHintNode.active=!1},t.prototype.onChatBtnClick=function(){d.gg.panelRouter.show({panel:h.CommonPanelConfig.imPanel,data:{entrance:M.IMEntrance.FriendList,conversationId:this._friendInfo.uid}})},t.prototype.onDeleteBtnClick=function(){var e=this;d.gg.panelRouter.show({panel:h.CommonPanelConfig.alertPanel,data:{titleLabel:f.i18n.getText("alert.title.tips"),msgLabel:f.i18n.getText("alert.msg.friendDelConfirm"),showCancelBtn:!0,showConfirmBtn:!0,onConfirmBtnClick:function(){return r(e,void 0,void 0,function(){var e,t,n,o;return s(this,function(i){switch(i.label){case 0:return d.gg.panelRouter.hide({panel:h.CommonPanelConfig.alertPanel}),e=this._friendInfo.uid,t=this._friendInfo.nick,d.gg.panelRouter.show({panel:h.CommonPanelConfig.loadingPanel}),[4,v.friendSystem.friendDeleteRequestAsync({uid:e})];case 1:return n=i.sent(),d.gg.panelRouter.hide({panel:h.CommonPanelConfig.loadingPanel}),o=f.i18n.getText("toast.friendDeleteFailed",g.default.clampStr(t)),1==(null==n?void 0:n.status)&&(o=f.i18n.getText("toast.friendDeleteSuccess",g.default.clampStr(t)),d.gg.audio.playOneShot(p.CommonAudioConfig.friendDelete)),d.gg.panelRouter.show({panel:h.CommonPanelConfig.toastPanel,data:{text:o}}),[2]}})})},onCancelBtnClick:function(){d.gg.panelRouter.hide({panel:h.CommonPanelConfig.alertPanel})}}})},t.prototype.onTransferBtnClick=function(){var e,t,n,o=null!==(t=null===(e=R.remoteConfigSystem.getConfig(I.RemoteCoinfigType.GameSwitch).transfer)||void 0===e?void 0:e.level)&&void 0!==t?t:4;if((null===(n=L.userSystem.userModel)||void 0===n?void 0:n.level)>=o)y.analysis.logEvent(m.AnalysisEvent.TransferFriendClick),d.gg.panelRouter.show({panel:h.CommonPanelConfig.transferPanel,data:{openType:T.TransferOpenType.Friend,userInfo:this._friendInfo}});else{var i=f.i18n.getText("toast.insufficientLevelFunTip",o);d.gg.panelRouter.show({panel:h.CommonPanelConfig.toastPanel,data:{text:i}})}},t.prototype.onUserIconClick=function(){d.gg.panelRouter.show({panel:h.CommonPanelConfig.userInfoPanel,data:{qurey_uid:this._friendInfo.uid,userName:this._friendInfo.nick,userIcon:this._friendInfo.facelook,userIconFrame:this._friendInfo.frame}})},a([O({type:cc.Node,tooltip:"\u597d\u53cb\u5934\u50cf\u6837\u5f0f1"})],t.prototype,"friendIconComp",void 0),a([O({type:cc.Label,tooltip:"\u597d\u53cb\u540d\u5b57"})],t.prototype,"friendNameLabel",void 0),a([O({type:cc.Label,tooltip:"\u597d\u53cb\u7b49\u7ea7"})],t.prototype,"friendLevelLabel",void 0),a([O({type:cc.Node,tooltip:"\u597d\u53cb\u5728\u7ebf\u6807\u8bc6"})],t.prototype,"onlineFlagNode",void 0),a([O({type:cc.Node,tooltip:"\u597d\u53cb\u79bb\u7ebf\u6807\u8bc6"})],t.prototype,"offlineFlagNode",void 0),a([O({type:E.default,tooltip:"\u64cd\u4f5c\u533a\u57df\u63a7\u5236"})],t.prototype,"optionCtrl",void 0),a([O({type:cc.Node,tooltip:"\u65b0\u6d88\u606f\u7ea2\u70b9\u63d0\u793a"})],t.prototype,"chatHintNode",void 0),a([O({type:cc.Sprite,tooltip:"\u7528\u6237vip\u56fe\u6807"})],t.prototype,"vipSprite",void 0),a([w],t)}(u.VitrualListItemComponent);n.default=G,cc._RF.pop()},{"../../../components/UserIconStyle1Component":"UserIconStyle1Component","../../../components/vitruallist/VitrualListItemComponent":"VitrualListItemComponent","../../../configs/CommonAudioConfig":"CommonAudioConfig","../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../framework/gg":"gg","../../../framework/i18n/I18n":"I18n","../../../framework/utils/StringUtils":"StringUtils","../../../systems/analysis/AnalysisEvent":"AnalysisEvent","../../../systems/analysis/AnalysisWrapper":"AnalysisWrapper","../../../systems/friend/FriendProto":"FriendProto","../../../systems/friend/FriendSystem":"FriendSystem","../../../systems/friend/FriendSystemEvent":"FriendSystemEvent","../../../systems/im/IMSystem":"IMSystem","../../../systems/im/IMSystemEvent":"IMSystemEvent","../../../systems/remoteconfig/RemoteConfigModel":"RemoteConfigModel","../../../systems/remoteconfig/RemoteConfigSystem":"RemoteConfigSystem","../../../systems/user/UserSystem":"UserSystem","../../../systems/user/UserUISystem":"UserUISystem","../im/IMPanel":"IMPanel","../transfer/TransferPanel":"TransferPanel","./FriendListItemOptionCtrl":"FriendListItemOptionCtrl"}],FriendProto:[function(e,t,n){"use strict";cc._RF.push(t,"de2b96B/JtC3rs8JYBAVr+O","FriendProto"),Object.defineProperty(n,"__esModule",{value:!0}),n.FriendRelationshipState=n.FriendOnlineState=n.GameState=n.FriendProtoMsg=void 0,function(e){e.GetFriendSettingConfigRequest="GetFriendSettingConfigRequest",e.GetFriendSettingConfigResponse="GetFriendSettingConfigResponse",e.ModifyFriendSettingConfigRequest="ModifyFriendSettingConfigRequest",e.ModifyFriendSettingConfigResponse="ModifyFriendSettingConfigResponse",e.GetFriendListRequest="GetFriendListRequest",e.GetFriendListResponse="GetFriendListResponse",e.FriendOnLineStateChangedBroadCast="FriendOnLineStateChangedBroadCast",e.GetFriendApplicationListRequest="GetFriendApplicationListRequest",e.GetFriendApplicationListResponse="GetFriendApplicationListResponse",e.FriendApplicationRequest="FriendApplicationRequest",e.FriendApplicationResponse="FriendApplicationResponse",e.FriendApplicationBroadCast="FriendApplicationBroadCast",e.FriendApplicationReplyRequest="FriendApplicationReplyRequest",e.FriendApplicationReplyResponse="FriendApplicationReplyResponse",e.FriendApplicationReplyBroadCast="FriendApplicationReplyBroadCast",e.FriendDeleteRequest="FriendDeleteRequest",e.FriendDeleteResponse="FriendDeleteResponse",e.FriendDeleteBroadCast="FriendDeleteBroadCast"}(n.FriendProtoMsg||(n.FriendProtoMsg={})),function(e){e[e.Unkown=0]="Unkown",e[e.Leisure=1]="Leisure",e[e.Ludo=100001]="Ludo",e[e.Baloot=100002]="Baloot",e[e.Dice=100003]="Dice"}(n.GameState||(n.GameState={})),function(e){e[e.Unkown=0]="Unkown",e[e.OnLine=1]="OnLine",e[e.OffLine=2]="OffLine"}(n.FriendOnlineState||(n.FriendOnlineState={})),function(e){e[e.NotFriend=0]="NotFriend",e[e.Applying=1]="Applying",e[e.Friend=2]="Friend",e[e.Refused=3]="Refused",e[e.Deleted=4]="Deleted"}(n.FriendRelationshipState||(n.FriendRelationshipState={})),cc._RF.pop()},{}],FriendRecommendContent:[function(e,t,n){"use strict";cc._RF.push(t,"5f7a66SPcFFl5OLz7mISDMK","FriendRecommendContent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=r(e("./FriendRecommendItem")),l=cc._decorator,c=l.ccclass,u=l.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.parentNode=null,t.itemNode=null,t.itemList=[],t._itemNodeAll=[],t}return i(t,e),t.prototype.onLoad=function(){this.reset()},t.prototype.getTableNode=function(){var e=this._itemNodeAll.pop();return e||((e=cc.instantiate(this.itemNode)).parent=this.parentNode),e},t.prototype.reset=function(){this.itemList=[],this._itemNodeAll=[];for(var e=this.parentNode.children.length-1;e>=0;--e)this._itemNodeAll.push(this.parentNode.children[e])},t.prototype.init=function(e){this.itemList=e,this._updateList()},t.prototype.onDisable=function(){this.reset()},t.prototype._updateList=function(){for(var e=0,t=this.itemList;e<t.length;e++){var n=t[e];this.getTableNode().getComponent(s.default).updateUI(n)}},a([u({type:cc.Node,tooltip:"\u63a8\u8350\u597d\u53cb\u7236\u8282\u70b9"})],t.prototype,"parentNode",void 0),a([u({type:cc.Node,tooltip:"\u597d\u53cb\u8282\u70b9"})],t.prototype,"itemNode",void 0),a([c],t)}(cc.Component);n.default=p,cc._RF.pop()},{"./FriendRecommendItem":"FriendRecommendItem"}],FriendRecommendItem:[function(e,t,n){"use strict";cc._RF.push(t,"bc045UGSHpACr6lyDsimEIW","FriendRecommendItem");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=l(e("../../../../components/UserIconStyle1Component")),u=e("../../../../configs/CommonPanelConfig"),p=e("../../../../framework/gg"),h=e("../../../../framework/i18n/I18n"),d=l(e("../../../../framework/utils/StringUtils")),f=e("../../../../systems/friend/FriendSystem"),g=e("../../../../systems/gamews/WebSocketResponseCode"),m=cc._decorator,y=m.ccclass,_=m.property,v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.palyerNameLab=null,t.palyerHeadNode=null,t.onlinePlayerInfo=null,t}return i(t,e),t.prototype.updateUI=function(e){var t;(null===(t=this.onlinePlayerInfo)||void 0===t?void 0:t.uid)!==(null==e?void 0:e.uid)&&(this.palyerHeadNode.getComponent(c.default).updateIcon(e.facelook),this.palyerHeadNode.getComponent(c.default).updateIconFrame(e.frame),this.palyerNameLab.string=d.default.clampStr(e.nick,12)),this.onlinePlayerInfo=e},t.prototype.onClickAddFriend=function(){return r(this,void 0,void 0,function(){var e,t,n,o;return s(this,function(i){switch(i.label){case 0:return e=this.onlinePlayerInfo.uid,t=this.onlinePlayerInfo.nick,p.gg.panelRouter.show({panel:u.CommonPanelConfig.loadingPanel}),[4,f.friendSystem.friendApplicationRequestAsync({uid:String(e)})];case 1:return n=i.sent(),p.gg.panelRouter.hide({panel:u.CommonPanelConfig.loadingPanel}),null,(o=(null==n?void 0:n.status)==g.WebSocketResponseCode.Success?h.i18n.getText("toast.friendApplicationSended",d.default.clampStr(t)):(null==n?void 0:n.status)==g.WebSocketResponseCode.OperationRefused?h.i18n.getText("toast.friendApplicationDisable"):(null==n?void 0:n.status)==g.WebSocketResponseCode.YourFriendReachLimit?h.i18n.getText("toast.yourFriendCountReachMaxLimit"):(null==n?void 0:n.status)==g.WebSocketResponseCode.OtherFriendReachLimit?h.i18n.getText("toast.oppoFriendCountReachMaxLimit"):(null==n?void 0:n.status)==g.WebSocketResponseCode.AlreadyFriend?h.i18n.getText("toast.alreadyFriend"):h.i18n.getText("toast.friendApplicationSended",d.default.clampStr(t)))&&p.gg.panelRouter.show({panel:u.CommonPanelConfig.toastPanel,data:{text:o}}),[2]}})})},a([_({type:cc.Label,tooltip:"\u73a9\u5bb6\u540d\u5b57"})],t.prototype,"palyerNameLab",void 0),a([_({type:cc.Node,tooltip:"\u73a9\u5bb6\u5934\u50cf\u8282\u70b9"})],t.prototype,"palyerHeadNode",void 0),a([y],t)}(cc.Component);n.default=v,cc._RF.pop()},{"../../../../components/UserIconStyle1Component":"UserIconStyle1Component","../../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../../framework/gg":"gg","../../../../framework/i18n/I18n":"I18n","../../../../framework/utils/StringUtils":"StringUtils","../../../../systems/friend/FriendSystem":"FriendSystem","../../../../systems/gamews/WebSocketResponseCode":"WebSocketResponseCode"}],FriendSearchCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"3323d4OpdJBdLWWHLnJUeLX","FriendSearchCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=e("../../../configs/CommonPanelConfig"),u=e("../../../framework/gg"),p=e("../../../framework/i18n/I18n"),h=l(e("../../../framework/utils/StringUtils")),d=e("../../../systems/user/UserSystem"),f=l(e("./FriendSearchResultItem")),g=cc._decorator,m=g.ccclass,y=g.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.idEditbox=null,t.searchResultContentNode=null,t.searchResultItem=null,t}return i(t,e),t.prototype.onLoad=function(){this.idEditbox.placeholder=p.i18n.getText("friend.editbox.placeholder"),this._updateSearchResultUI(null)},t.prototype.onEnable=function(){this.idEditbox.string=""},t.prototype.onDisable=function(){this._updateSearchResultUI(null)},t.prototype.onSearchEditboxDidEnd=function(){return r(this,void 0,void 0,function(){var e,t;return s(this,function(n){switch(n.label){case 0:return e=this.idEditbox.string,h.default.isEmpty(e)?[2]:(this._updateSearchResultUI(null),u.gg.panelRouter.show({panel:c.CommonPanelConfig.loadingPanel}),[4,d.userSystem.searchUserAsync({uid:e})]);case 1:return t=n.sent(),u.gg.panelRouter.hide({panel:c.CommonPanelConfig.loadingPanel}),1!=(null==t?void 0:t.status)||null==(null==t?void 0:t.user)?(u.gg.panelRouter.show({panel:c.CommonPanelConfig.toastPanel,data:{text:p.i18n.getText("toast.userNotFound")}}),[2]):(this._updateSearchResultUI(t.user),[2])}})})},t.prototype._updateSearchResultUI=function(e){this.searchResultContentNode.active=null!=e,this.searchResultItem.bindData(e),this.searchResultItem.refresh()},a([y({type:cc.EditBox,tooltip:"\u597d\u53cbid\u8f93\u5165\u6846"})],t.prototype,"idEditbox",void 0),a([y({type:cc.Node,tooltip:"\u641c\u7d22\u7ed3\u679c\u5185\u5bb9\u8282\u70b9"})],t.prototype,"searchResultContentNode",void 0),a([y({type:f.default,tooltip:"\u641c\u7d22\u7ed3\u679c\u7528\u6237Item"})],t.prototype,"searchResultItem",void 0),a([m],t)}(cc.Component);n.default=_,cc._RF.pop()},{"../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../framework/gg":"gg","../../../framework/i18n/I18n":"I18n","../../../framework/utils/StringUtils":"StringUtils","../../../systems/user/UserSystem":"UserSystem","./FriendSearchResultItem":"FriendSearchResultItem"}],FriendSearchResultItem:[function(e,t,n){"use strict";cc._RF.push(t,"140e5grnNNHeqQrwAjdrWb+","FriendSearchResultItem");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=l(e("../../../components/UserIconStyle1Component")),u=e("../../../configs/CommonPanelConfig"),p=e("../../../framework/gg"),h=e("../../../framework/i18n/I18n"),d=l(e("../../../framework/utils/StringUtils")),f=e("../../../systems/api/gameapi/PayApiModels"),g=e("../../../systems/friend/FriendProto"),m=e("../../../systems/friend/FriendSystem"),y=e("../../../systems/gamews/WebSocketResponseCode"),_=e("../../../systems/user/UserSystem"),v=e("../../../systems/user/UserUISystem"),b=e("../im/IMPanel"),S=cc._decorator,C=S.ccclass,I=S.property,R=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.friendIconComp=null,t.friendNameLabel=null,t.friendLevelLabel=null,t.onlineFlagNode=null,t.offlineFlagNode=null,t.addFriendBtn=null,t.chatBtn=null,t.vipSprite=null,t._userInfo=null,t}return i(t,e),t.prototype.getData=function(){return this._userInfo},t.prototype.bindData=function(e){this._userInfo=e},t.prototype.onLoad=function(){this.refresh()},t.prototype.refresh=function(){this._updateUserInfoUI(),this._updateOnlineStateUI(),this._updateBtnVisable()},t.prototype._updateUserInfoUI=function(){var e;this._userInfo?(this.friendNameLabel.string=d.default.clampStr(this._userInfo.nick),this.friendLevelLabel.string="Lv. "+String(null!==(e=this._userInfo.level)&&void 0!==e?e:0),this.friendIconComp.getComponent(c.default).updateIcon(this._userInfo.facelook),this.friendIconComp.getComponent(c.default).updateIconFrame(this._userInfo.frame),this._updataUserVip()):(this.friendNameLabel.string="",this.friendLevelLabel.string="Lv. 0",this.friendIconComp.getComponent(c.default).updateIcon(),this.friendIconComp.getComponent(c.default).updateIconFrame())},t.prototype._updataUserVip=function(){var e;return r(this,void 0,void 0,function(){var t;return s(this,function(n){switch(n.label){case 0:return(null===(e=this._userInfo)||void 0===e?void 0:e.vip_info)?(this.vipSprite.node.active=!0,[4,v.userUISystem.loadUserVipIcon(this._userInfo.vip_info.vip_level,this._userInfo.vip_info.vip_status)]):[3,2];case 1:return(t=n.sent())?this.vipSprite.spriteFrame=t:this.vipSprite.node.active=!1,[3,3];case 2:this.vipSprite.node.active=!1,n.label=3;case 3:return[2]}})})},t.prototype._updateOnlineStateUI=function(){if(this._userInfo)switch(this._userInfo.online_state){case g.FriendOnlineState.OnLine:this.onlineFlagNode.opacity=255,this.offlineFlagNode.opacity=0;break;case g.FriendOnlineState.OffLine:this.onlineFlagNode.opacity=0,this.offlineFlagNode.opacity=255;break;case g.FriendOnlineState.Unkown:this.onlineFlagNode.opacity=0,this.offlineFlagNode.opacity=0}else this.onlineFlagNode.opacity=0,this.offlineFlagNode.opacity=0},t.prototype._updateBtnVisable=function(){this._userInfo&&this._userInfo.uid!=_.userSystem.userModel.uid?(this.addFriendBtn.node.active=this._userInfo.relationship_state!=g.FriendRelationshipState.Friend,this.chatBtn.node.active=this._userInfo.relationship_state==g.FriendRelationshipState.Friend):(this.addFriendBtn.node.active=!1,this.chatBtn.node.active=!1)},t.prototype.onAddFriendBtnClick=function(){var e,t,n;return r(this,void 0,void 0,function(){var o,i,a,r,l;return s(this,function(s){switch(s.label){case 0:return o=null!==(t=null===(e=m.friendSystem.friendSettingConfig)||void 0===e?void 0:e.max_friend_count)&&void 0!==t?t:0,(null!==(n=m.friendSystem.friendList.length)&&void 0!==n?n:0)>=o?(p.gg.panelRouter.show({panel:u.CommonPanelConfig.alertPanel,data:{titleLabel:h.i18n.getText("common.tips"),msgLabel:h.i18n.getText("doublebaloot.tip.coinMax"),showCancelBtn:!0,showConfirmBtn:!0,confirmBtnLabel:h.i18n.getText("vip.label.vipUpgrade"),onConfirmBtnClick:function(){p.gg.panelRouter.hide({panel:u.CommonPanelConfig.alertPanel}),p.gg.panelRouter.show({panel:u.CommonPanelConfig.storePanel,data:{type:f.GoodsTypeEnum.Coin}})},onCancelBtnClick:function(){p.gg.panelRouter.hide({panel:u.CommonPanelConfig.alertPanel})}}}),[2]):(i=this._userInfo.uid,a=this._userInfo.nick,p.gg.panelRouter.show({panel:u.CommonPanelConfig.loadingPanel}),[4,m.friendSystem.friendApplicationRequestAsync({uid:i})]);case 1:return r=s.sent(),p.gg.panelRouter.hide({panel:u.CommonPanelConfig.loadingPanel}),null,(l=(null==r?void 0:r.status)==y.WebSocketResponseCode.Success?h.i18n.getText("toast.friendApplicationSended",d.default.clampStr(a)):(null==r?void 0:r.status)==y.WebSocketResponseCode.OperationRefused?h.i18n.getText("toast.friendApplicationDisable"):(null==r?void 0:r.status)==y.WebSocketResponseCode.YourFriendReachLimit?h.i18n.getText("toast.yourFriendCountReachMaxLimit"):(null==r?void 0:r.status)==y.WebSocketResponseCode.OtherFriendReachLimit?h.i18n.getText("toast.oppoFriendCountReachMaxLimit"):(null==r?void 0:r.status)==y.WebSocketResponseCode.AlreadyFriend?h.i18n.getText("toast.alreadyFriend"):h.i18n.getText("toast.friendApplicationSended",d.default.clampStr(a)))&&p.gg.panelRouter.show({panel:u.CommonPanelConfig.toastPanel,data:{text:l}}),[2]}})})},t.prototype.onChatBtnClick=function(){var e=this;-1!=m.friendSystem.friendList.findIndex(function(t){return t.uid==e._userInfo.uid})?p.gg.panelRouter.show({panel:u.CommonPanelConfig.imPanel,data:{entrance:b.IMEntrance.FriendList,conversationId:this._userInfo.uid}}):p.gg.panelRouter.show({panel:u.CommonPanelConfig.toastPanel,data:{text:h.i18n.getText("toast.notFriend")}})},t.prototype.onUserIconClick=function(){p.gg.panelRouter.show({panel:u.CommonPanelConfig.userInfoPanel,data:{qurey_uid:this._userInfo.uid,userName:this._userInfo.nick,userIcon:this._userInfo.facelook,userIconFrame:this._userInfo.frame}})},a([I({type:cc.Node,tooltip:"\u597d\u53cb\u5934\u50cf\u6837\u5f0f1"})],t.prototype,"friendIconComp",void 0),a([I({type:cc.Label,tooltip:"\u597d\u53cb\u540d\u5b57"})],t.prototype,"friendNameLabel",void 0),a([I({type:cc.Label,tooltip:"\u597d\u53cb\u7b49\u7ea7"})],t.prototype,"friendLevelLabel",void 0),a([I({type:cc.Node,tooltip:"\u597d\u53cb\u5728\u7ebf\u6807\u8bc6"})],t.prototype,"onlineFlagNode",void 0),a([I({type:cc.Node,tooltip:"\u597d\u53cb\u79bb\u7ebf\u6807\u8bc6"})],t.prototype,"offlineFlagNode",void 0),a([I({type:cc.Button,tooltip:"\u6dfb\u52a0\u597d\u53cb\u6309\u94ae"})],t.prototype,"addFriendBtn",void 0),a([I({type:cc.Button,tooltip:"\u804a\u5929\u6309\u94ae"})],t.prototype,"chatBtn",void 0),a([I({type:cc.Sprite,tooltip:"\u7528\u6237vip\u56fe\u6807"})],t.prototype,"vipSprite",void 0),a([C],t)}(cc.Component);n.default=R,cc._RF.pop()},{"../../../components/UserIconStyle1Component":"UserIconStyle1Component","../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../framework/gg":"gg","../../../framework/i18n/I18n":"I18n","../../../framework/utils/StringUtils":"StringUtils","../../../systems/api/gameapi/PayApiModels":"PayApiModels","../../../systems/friend/FriendProto":"FriendProto","../../../systems/friend/FriendSystem":"FriendSystem","../../../systems/gamews/WebSocketResponseCode":"WebSocketResponseCode","../../../systems/user/UserSystem":"UserSystem","../../../systems/user/UserUISystem":"UserUISystem","../im/IMPanel":"IMPanel"}],FriendSystemEvent:[function(e,t,n){"use strict";cc._RF.push(t,"a9bc0giJMxNVKaYgVogMAmn","FriendSystemEvent"),Object.defineProperty(n,"__esModule",{value:!0}),n.FriendSystemEvent=void 0,function(e){e.OnFriendSettingConfigChanged="FriendSystemEvent.OnFriendSettingConfigChanged",e.OnFriendApplicationListAddFriend="FriendSystemEvent.OnFriendApplicationListAddFriend",e.OnFriendApplicationListRemoveFriend="FriendSystemEvent.OnFriendApplicationListRemoveFriend",e.OnFriendListAddFriend="FriendSystemEvent.OnFriendListAddFriend",e.OnFriendListRemoveFriend="FriendSystemEvent.OnFriendListRemoveFriend",e.OnFriendRelationShipStateChangedBroadCast="FriendSystemEvent.OnFriendRelationShipStateChangedBroadCast",e.OnFriendOnLineStateChangedBroadCast="FriendSystemEvent.OnFriendOnLineStateChangedBroadCast"}(n.FriendSystemEvent||(n.FriendSystemEvent={})),cc._RF.pop()},{}],FriendSystemPanel:[function(e,t,n){"use strict";cc._RF.push(t,"6dd3bFjY9NPN5fiPqBJUk+a","FriendSystemPanel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=e("../../../../../main/scripts/configs/CommonAudioConfig"),u=e("../../../../../main/scripts/configs/CommonPanelConfig"),p=l(e("../../../../../main/scripts/framework/components/dialogstyle/MoveStyleDialogPanelV2")),h=e("../../../../../main/scripts/framework/gg"),d=l(e("../../../components/NavBarComponent")),f=e("../../../ffframework/rongyun/im/RongyunImCore"),g=e("../../../framework/i18n/I18n"),m=e("../../../systems/friend/FriendSystem"),y=e("../../../systems/friend/FriendSystemEvent"),_=e("../../../systems/im/IMSystem"),v=e("../../../systems/im/IMSystemEvent"),b=l(e("./FriendTransferDoubleGuideCom")),S=cc._decorator,C=S.ccclass,I=S.property,R=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.navBarNode=null,t.friendListContentNode=null,t.friendApplicationListContentNode=null,t.friendSearchContentNode=null,t.transferDoubleGuideCom=null,t.systemFriend=0,t}return i(t,e),t.prototype.onLoad=function(){this._reset()},t.prototype.onEnable=function(){h.gg.eventManager.on(y.FriendSystemEvent.OnFriendListAddFriend,this._onFriendListAddFriend,this),h.gg.eventManager.on(y.FriendSystemEvent.OnFriendListRemoveFriend,this._onFriendListRemoveFriend,this),h.gg.eventManager.on(y.FriendSystemEvent.OnFriendApplicationListAddFriend,this._onFriendApplicationListAddFriend,this),h.gg.eventManager.on(y.FriendSystemEvent.OnFriendApplicationListRemoveFriend,this._onFriendApplicationListRemoveFriend,this),h.gg.eventManager.on(v.IMSystemEvent.OnUnReadConversationListChanged,this._onUnReadConversationListChanged,this)},t.prototype.onDisable=function(){h.gg.eventManager.offTarget(this),this._reset()},t.prototype.show=function(e){var t,n;this.systemFriend=null!==(n=null===(t=e.data)||void 0===t?void 0:t.system_friend)&&void 0!==n?n:0,this._playShowAnim(function(){e.onShowed()}),this._init()},t.prototype.hide=function(e){this._playHideAnim(function(){e.onHided()})},t.prototype.onCloseBtnClick=function(){h.gg.panelRouter.hide({panel:u.CommonPanelConfig.friendSystemPanel}),h.gg.audio.playOneShot(c.CommonAudioConfig.btnClose)},t.prototype.onSettingBtnClick=function(){h.gg.panelRouter.show({panel:u.CommonPanelConfig.friendSystemSettingPanel})},t.prototype._reset=function(){this.friendListContentNode.active=!1,this.friendApplicationListContentNode.active=!1,this.friendSearchContentNode.active=!1,this.systemFriend=0,this.navBarNode.targetOff(this),this.navBarNode.getComponent(d.default).reset()},t.prototype._init=function(){var e;return r(this,void 0,void 0,function(){var t;return s(this,function(n){switch(n.label){case 0:return(t=this.navBarNode.getComponent(d.default)).init([g.i18n.getText("friend.nav.friendList"),g.i18n.getText("friend.nav.friendApplicationList"),g.i18n.getText("friend.nav.friendSearch")]),t.node.on(d.default.OnNavBarOptionSelectedChanged,this._onNavBarOptionSelectedChanged,this),this._updateHintStateUI(),[4,m.friendSystem.getFriendSettingConfigAsync({})];case 1:return n.sent(),[4,m.friendSystem.getFriendListAsync({count:20,system_friend:null!==(e=this.systemFriend)&&void 0!==e?e:0})];case 2:return n.sent(),1==this.systemFriend&&m.friendSystem.friendList.length>0?(this.transferDoubleGuideCom.node.active=!0,this.transferDoubleGuideCom.showTransferDoubleGuide(m.friendSystem.friendList[0])):this.transferDoubleGuideCom.node.active=!1,[4,m.friendSystem.getFriendApplicationListAsync({count:20})];case 3:return n.sent(),t.setSelectedIndex(0),[2]}})})},t.prototype._onNavBarOptionSelectedChanged=function(e){this.friendListContentNode.active=0==e,this.friendApplicationListContentNode.active=1==e,this.friendSearchContentNode.active=2==e},t.prototype._onFriendListAddFriend=function(){},t.prototype._onFriendListRemoveFriend=function(){},t.prototype._onFriendApplicationListAddFriend=function(){this.navBarNode.getComponent(d.default).updateHintIndex(1,m.friendSystem.friendApplicationList.length>0)},t.prototype._onFriendApplicationListRemoveFriend=function(){this.navBarNode.getComponent(d.default).updateHintIndex(1,m.friendSystem.friendApplicationList.length>0)},t.prototype._onUnReadConversationListChanged=function(){this._updateHintStateUI()},t.prototype._updateHintStateUI=function(){this.navBarNode.getComponent(d.default).updateHintIndex(0,_.imSystem.unReadConversations&&_.imSystem.conversations&&-1!=_.imSystem.conversations.findIndex(function(e){return e.conversationType==f.RongyunIMConversationType.PRIVATE&&_.imSystem.unReadConversations.includes(e.target_id)}))},a([I({type:cc.Node,tooltip:"\u5bfc\u822a\u680f\u7ec4\u4ef6\u8282\u70b9"})],t.prototype,"navBarNode",void 0),a([I({type:cc.Node,tooltip:"\u597d\u53cb\u5217\u8868\u8282\u70b9"})],t.prototype,"friendListContentNode",void 0),a([I({type:cc.Node,tooltip:"\u597d\u53cb\u7533\u8bf7\u5217\u8868\u8282\u70b9"})],t.prototype,"friendApplicationListContentNode",void 0),a([I({type:cc.Node,tooltip:"\u67e5\u627e\u597d\u53cb\u8282\u70b9"})],t.prototype,"friendSearchContentNode",void 0),a([I({type:b.default,tooltip:"\u597d\u53cb\u8f6c\u8d26\u6307\u5f15\u7ec4\u4ef6"})],t.prototype,"transferDoubleGuideCom",void 0),a([C],t)}(p.default);n.default=R,cc._RF.pop()},{"../../../../../main/scripts/configs/CommonAudioConfig":"CommonAudioConfig","../../../../../main/scripts/configs/CommonPanelConfig":"CommonPanelConfig","../../../../../main/scripts/framework/components/dialogstyle/MoveStyleDialogPanelV2":"MoveStyleDialogPanelV2","../../../../../main/scripts/framework/gg":"gg","../../../components/NavBarComponent":"NavBarComponent","../../../ffframework/rongyun/im/RongyunImCore":"RongyunImCore","../../../framework/i18n/I18n":"I18n","../../../systems/friend/FriendSystem":"FriendSystem","../../../systems/friend/FriendSystemEvent":"FriendSystemEvent","../../../systems/im/IMSystem":"IMSystem","../../../systems/im/IMSystemEvent":"IMSystemEvent","./FriendTransferDoubleGuideCom":"FriendTransferDoubleGuideCom"}],FriendSystemSettingPanel:[function(e,t,n){"use strict";cc._RF.push(t,"d9eddp6o1xObYTo5MA8t9hs","FriendSystemSettingPanel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../../../../main/scripts/configs/CommonPanelConfig"),l=e("../../../../../main/scripts/framework/gg"),c=r(e("../../../components/SwitchComponent")),u=r(e("../../../framework/components/dialogstyle/MoveStyleDialogPanelV2")),p=e("../../../systems/friend/FriendSystem"),h=cc._decorator,d=h.ccclass,f=h.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allowApplicationSwitchNode=null,t.showOnlineStateSwitchNode=null,t}return i(t,e),t.prototype.show=function(e){this.allowApplicationSwitchNode.getComponent(c.default).checked=null!=p.friendSystem.friendSettingConfig.allow_application&&p.friendSystem.friendSettingConfig.allow_application,this.allowApplicationSwitchNode.on(c.default.OnCheckedChanged,this._onAllowApplicationSwitchChanged,this),this.showOnlineStateSwitchNode.getComponent(c.default).checked=null!=p.friendSystem.friendSettingConfig.display_online_state&&p.friendSystem.friendSettingConfig.display_online_state,this.showOnlineStateSwitchNode.on(c.default.OnCheckedChanged,this._onShowOnlineStateSwitchChanged,this),this._playShowAnim(function(){e.onShowed()})},t.prototype.hide=function(e){this._playHideAnim(function(){e.onHided()})},t.prototype.onDisable=function(){this.allowApplicationSwitchNode.off(c.default.OnCheckedChanged,this._onAllowApplicationSwitchChanged,this),this.showOnlineStateSwitchNode.off(c.default.OnCheckedChanged,this._onShowOnlineStateSwitchChanged,this)},t.prototype.onCloseBtnClick=function(){l.gg.panelRouter.hide({panel:s.CommonPanelConfig.friendSystemSettingPanel})},t.prototype._onAllowApplicationSwitchChanged=function(e){p.friendSystem.friendSettingConfig.allow_application=e.checked,p.friendSystem.modifyFriendSettingConfigAsync({config:p.friendSystem.friendSettingConfig})},t.prototype._onShowOnlineStateSwitchChanged=function(e){p.friendSystem.friendSettingConfig.display_online_state=e.checked,p.friendSystem.modifyFriendSettingConfigAsync({config:p.friendSystem.friendSettingConfig})},a([f({type:cc.Node,tooltip:"\u662f\u5426\u5141\u8bb8\u522b\u4eba\u6dfb\u52a0\u6211\u4e3a\u597d\u53cb"})],t.prototype,"allowApplicationSwitchNode",void 0),a([f({type:cc.Node,tooltip:"\u662f\u5426\u663e\u793a\u5728\u7ebf\u72b6\u6001"})],t.prototype,"showOnlineStateSwitchNode",void 0),a([d],t)}(u.default);n.default=g,cc._RF.pop()},{"../../../../../main/scripts/configs/CommonPanelConfig":"CommonPanelConfig","../../../../../main/scripts/framework/gg":"gg","../../../components/SwitchComponent":"SwitchComponent","../../../framework/components/dialogstyle/MoveStyleDialogPanelV2":"MoveStyleDialogPanelV2","../../../systems/friend/FriendSystem":"FriendSystem"}],FriendSystem:[function(e,t,n){"use strict";cc._RF.push(t,"f2739NzJHtOVI7+QEW56zbL","FriendSystem");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.friendSystem=void 0;var a=e("../../ffframework/rongyun/im/RongyunImCore"),r=e("../../ffframework/rongyun/im/RongyunImWrapper"),s=e("../../framework/gg"),l=e("../gamews/GameSocketSystem"),c=e("../login/LoginEvent"),u=e("./FriendProto"),p=e("./FriendSystemEvent"),h=function(){function e(){this.friendSettingConfig=null,this.friendApplicationList=[],this.friendList=[]}return e.prototype._resetData=function(){this.friendSettingConfig=null,this.friendApplicationList=[],this.friendList=[]},e.prototype.enable=function(){s.gg.eventManager.on(c.LoginEvent.OnUserKickOut,this._onUserOut,this),s.gg.eventManager.on(c.LoginEvent.OnUserLogout,this._onUserOut,this),s.gg.eventManager.on(c.LoginEvent.OnUserLostConnection,this._onUserOut,this),l.gameSocketSystem.on(u.FriendProtoMsg.FriendOnLineStateChangedBroadCast,this._onFriendOnLineStateChangedBroadCast,this),l.gameSocketSystem.on(u.FriendProtoMsg.FriendApplicationBroadCast,this._onFriendApplicationBroadCast,this),l.gameSocketSystem.on(u.FriendProtoMsg.FriendApplicationReplyBroadCast,this._onFriendApplicationReplyBroadCast,this),l.gameSocketSystem.on(u.FriendProtoMsg.FriendDeleteBroadCast,this._onFriendDeleteBroadCast,this)},e.prototype.disable=function(){s.gg.eventManager.offTarget(this),l.gameSocketSystem.offTarget(this),this._resetData()},e.prototype._onUserOut=function(){this.disable()},e.prototype.getFriendSettingConfigAsync=function(e){return o(this,void 0,Promise,function(){var t;return i(this,function(n){switch(n.label){case 0:return[4,l.gameSocketSystem.requestAsync({requestMsg:u.FriendProtoMsg.GetFriendSettingConfigRequest,requestData:e,responseMsg:u.FriendProtoMsg.GetFriendSettingConfigResponse})];case 1:return 1!==(null==(t=n.sent())?void 0:t.status)?s.gg.logger.error("\u597d\u53cb\u7cfb\u7edf: \u83b7\u53d6\u597d\u53cb\u7cfb\u7edf\u914d\u7f6e\u5931\u8d25",t):(this.friendSettingConfig=t.config,s.gg.eventManager.emit(p.FriendSystemEvent.OnFriendSettingConfigChanged)),[2,t]}})})},e.prototype.modifyFriendSettingConfigAsync=function(e){return o(this,void 0,Promise,function(){var t;return i(this,function(n){switch(n.label){case 0:return[4,l.gameSocketSystem.requestAsync({requestMsg:u.FriendProtoMsg.ModifyFriendSettingConfigRequest,requestData:e,responseMsg:u.FriendProtoMsg.ModifyFriendSettingConfigResponse})];case 1:return 1!==(null==(t=n.sent())?void 0:t.status)?s.gg.logger.error("\u597d\u53cb\u7cfb\u7edf: \u4fee\u6539\u597d\u53cb\u7cfb\u7edf\u914d\u7f6e\u5931\u8d25",t):(this.friendSettingConfig=e.config,s.gg.eventManager.emit(p.FriendSystemEvent.OnFriendSettingConfigChanged)),[2,t]}})})},e.prototype.getFriendListAsync=function(e){var t;return o(this,void 0,Promise,function(){var n;return i(this,function(o){switch(o.label){case 0:return this.friendList=[],[4,l.gameSocketSystem.requestAsync({requestMsg:u.FriendProtoMsg.GetFriendListRequest,requestData:e,responseMsg:u.FriendProtoMsg.GetFriendListResponse})];case 1:return 1!==(null==(n=o.sent())?void 0:n.status)?s.gg.logger.error("\u597d\u53cb\u7cfb\u7edf: \u8bf7\u6c42\u597d\u53cb\u5217\u8868\u5931\u8d25",n):this.friendList=null!==(t=n.list)&&void 0!==t?t:[],s.gg.eventManager.emit(p.FriendSystemEvent.OnFriendListAddFriend,this.friendList),[2,n]}})})},e.prototype._onFriendOnLineStateChangedBroadCast=function(e){var t=this.friendList.find(function(t){return t.uid==e.uid});t?(t.online_state=e.state,s.gg.eventManager.emit(p.FriendSystemEvent.OnFriendOnLineStateChangedBroadCast,e)):s.gg.logger.error("\u597d\u53cb\u7cfb\u7edf: \u597d\u53cb\u300c\u5728\u7ebf\u300d\u72b6\u6001\u6539\u53d8\u5e7f\u64ad\u65f6\uff0c\u6ca1\u627e\u5230\u5bf9\u5e94\u7684\u597d\u53cb "+e.uid)},e.prototype.getFriendApplicationListAsync=function(e){var t;return o(this,void 0,Promise,function(){var n;return i(this,function(o){switch(o.label){case 0:return this.friendApplicationList=[],[4,l.gameSocketSystem.requestAsync({requestMsg:u.FriendProtoMsg.GetFriendApplicationListRequest,requestData:e,responseMsg:u.FriendProtoMsg.GetFriendApplicationListResponse})];case 1:return 1!==(null==(n=o.sent())?void 0:n.status)?s.gg.logger.error("\u597d\u53cb\u7cfb\u7edf: \u8bf7\u6c42\u597d\u53cb\u7533\u8bf7\u5217\u8868\u5931\u8d25",n):this.friendApplicationList=null!==(t=n.list)&&void 0!==t?t:[],s.gg.eventManager.emit(p.FriendSystemEvent.OnFriendApplicationListAddFriend,this.friendApplicationList),[2,n]}})})},e.prototype.friendApplicationRequestAsync=function(e){return o(this,void 0,Promise,function(){var t;return i(this,function(n){switch(n.label){case 0:return[4,l.gameSocketSystem.requestAsync({requestMsg:u.FriendProtoMsg.FriendApplicationRequest,requestData:e,responseMsg:u.FriendProtoMsg.FriendApplicationResponse})];case 1:return 1!==(null==(t=n.sent())?void 0:t.status)&&s.gg.logger.warn("\u597d\u53cb\u7cfb\u7edf: \u53d1\u8d77\u597d\u53cb\u8bf7\u6c42\u5931\u8d25",t),[2,t]}})})},e.prototype._onFriendApplicationBroadCast=function(e){null!=(null==e?void 0:e.user)?this.friendApplicationList.find(function(t){return t.uid==e.user.uid})?s.gg.logger.warn("\u597d\u53cb\u7cfb\u7edf: \u597d\u53cb\u7533\u8bf7\u5217\u8868\u5df2\u7ecf\u5b58\u5728\u73a9\u5bb6 "+e.user.uid+" \uff0c\u4f46\u662f\u8fd8\u662f\u518d\u6b21\u6536\u5230\u8be5\u73a9\u5bb6\u7684\u7533\u8bf7\u8bf7\u6c42\u5e7f\u64ad"):(this.friendApplicationList.unshift(e.user),s.gg.eventManager.emit(p.FriendSystemEvent.OnFriendApplicationListAddFriend,[e.user])):s.gg.logger.error("\u597d\u53cb\u7cfb\u7edf: \u6536\u5230\u7a7a\u767d\u7684\u597d\u53cb\u7533\u8bf7\u8bf7\u6c42\u5e7f\u64ad",e)},e.prototype.friendApplicationReplyRequestAsync=function(e){return o(this,void 0,Promise,function(){var t,n,o;return i(this,function(i){switch(i.label){case 0:return[4,l.gameSocketSystem.requestAsync({requestMsg:u.FriendProtoMsg.FriendApplicationReplyRequest,requestData:e,responseMsg:u.FriendProtoMsg.FriendApplicationReplyResponse})];case 1:return 1!==(null==(t=i.sent())?void 0:t.status)?s.gg.logger.error("\u597d\u53cb\u7cfb\u7edf: \u56de\u590d\u597d\u53cb\u7533\u8bf7\u8bf7\u6c42\u5931\u8d25",t):(n=null,-1!=(o=this.friendApplicationList.findIndex(function(t){return t.uid==e.uid}))&&(n=this.friendApplicationList.splice(o,1)[0],s.gg.eventManager.emit(p.FriendSystemEvent.OnFriendApplicationListRemoveFriend,o,n)),e.accept&&(this.friendList.find(function(t){return t.uid==e.uid})?s.gg.logger.warn("\u597d\u53cb\u7cfb\u7edf: \u597d\u53cb\u5217\u8868\u5df2\u7ecf\u5b58\u5728\u597d\u53cb "+e.uid+"\uff0c\u4e0d\u7528\u5728\u540c\u610f\u5176\u597d\u53cb\u7533\u8bf7"):n&&(n.relationship_state=u.FriendRelationshipState.Friend,this.friendList.unshift(n),s.gg.eventManager.emit(p.FriendSystemEvent.OnFriendListAddFriend,[n]))),e.accept&&r.RongyunImWrapper.sendMessage({conversation_type:a.RongyunIMConversationType.PRIVATE,target_id:e.uid,text:"[emoji]",extra:{type:a.RongyunIMExtraType.Emoji,data:{emoji_id:"classic_smile",emoji_desc:"classic_smile"}}})),[2,t]}})})},e.prototype._onFriendApplicationReplyBroadCast=function(e){var t;if(null!=(null==e?void 0:e.user)){if(e.accept)return this.friendList.find(function(t){return t.uid==e.user.uid})?s.gg.logger.warn("\u597d\u53cb\u7cfb\u7edf: \u597d\u53cb\u5217\u8868\u5df2\u7ecf\u5b58\u5728\u597d\u53cb "+e.user.uid+"\uff0c\u4f46\u662f\u8fd8\u662f\u518d\u6b21\u6536\u5230\u8be5\u73a9\u5bb6\u7684\u540c\u610f\u6210\u4e3a\u597d\u53cb\u5e7f\u64ad"):(this.friendList.unshift(e.user),s.gg.eventManager.emit(p.FriendSystemEvent.OnFriendListAddFriend,[e.user])),e;s.gg.logger.log("\u597d\u53cb\u7cfb\u7edf: \u73a9\u5bb6 "+(null===(t=e.user)||void 0===t?void 0:t.uid)+" \u56de\u590d\u81ea\u5df1\u7684\u597d\u53cb\u7533\u8bf7\u5e7f\u64ad\uff1a\u62d2\u7edd\u548c\u81ea\u5df1\u6210\u4e3a\u597d\u53cb")}else s.gg.logger.log("\u597d\u53cb\u7cfb\u7edf: \u6536\u5230\u56de\u590d\u597d\u53cb\u7533\u8bf7\u5e7f\u64ad\uff0c\u4f46\u662f\u6ca1\u6709\u73a9\u5bb6\u4fe1\u606f")},e.prototype.friendDeleteRequestAsync=function(e){return o(this,void 0,Promise,function(){var t,n,o;return i(this,function(i){switch(i.label){case 0:return[4,l.gameSocketSystem.requestAsync({requestMsg:u.FriendProtoMsg.FriendDeleteRequest,requestData:e,responseMsg:u.FriendProtoMsg.FriendDeleteResponse})];case 1:return 1!==(null==(t=i.sent())?void 0:t.status)?s.gg.logger.error("\u597d\u53cb\u7cfb\u7edf: \u5220\u9664\u597d\u53cb "+e.uid+" \u5931\u8d25"):-1!=(n=this.friendList.findIndex(function(t){return t.uid==e.uid}))?((o=this.friendList.splice(n,1)[0]).relationship_state=u.FriendRelationshipState.Deleted,s.gg.eventManager.emit(p.FriendSystemEvent.OnFriendListRemoveFriend,n,o)):s.gg.logger.error("\u597d\u53cb\u7cfb\u7edf: \u5220\u9664\u597d\u53cb "+e.uid+" \u5f02\u5e38\uff0c\u672c\u5730\u597d\u53cb\u5217\u8868\u4e2d\uff0c\u6ca1\u6709\u8fd9\u4e2a\u597d\u53cb\uff0c\u5efa\u8bae\u6392\u67e5"),[2,t]}})})},e.prototype._onFriendDeleteBroadCast=function(e){var t=this.friendList.findIndex(function(t){return t.uid==e.uid});if(-1!=t){s.gg.logger.warn("\u597d\u53cb\u7cfb\u7edf: \u597d\u53cb "+e.uid+" \u5220\u9664\u4e86\u81ea\u5df1");var n=this.friendList.splice(t,1)[0];n.relationship_state=u.FriendRelationshipState.Deleted,s.gg.eventManager.emit(p.FriendSystemEvent.OnFriendListRemoveFriend,t,n)}else s.gg.logger.error("\u597d\u53cb\u7cfb\u7edf: \u597d\u53cb "+e.uid+" \u5220\u9664\u81ea\u5df1\u5f02\u5e38\uff0c\u672c\u5730\u597d\u53cb\u5217\u8868\u4e2d\uff0c\u6ca1\u6709\u8fd9\u4e2a\u597d\u53cb\uff0c\u5efa\u8bae\u6392\u67e5")},e}();n.friendSystem=new h,cc._RF.pop()},{"../../ffframework/rongyun/im/RongyunImCore":"RongyunImCore","../../ffframework/rongyun/im/RongyunImWrapper":"RongyunImWrapper","../../framework/gg":"gg","../gamews/GameSocketSystem":"GameSocketSystem","../login/LoginEvent":"LoginEvent","./FriendProto":"FriendProto","./FriendSystemEvent":"FriendSystemEvent"}],FriendTransferDoubleGuideCom:[function(e,t,n){"use strict";cc._RF.push(t,"49659IQE5RIf7NkNwfgjL9y","FriendTransferDoubleGuideCom");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../../configs/CommonAudioConfig"),s=e("../../../configs/CommonPanelConfig"),l=e("../../../framework/gg"),c=e("../transfer/TransferPanel"),u=cc._decorator,p=u.ccclass,h=u.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fingerNode=null,t.fristTransferBtnNode=null,t.friendInfo=null,t}return i(t,e),t.prototype.onLoad=function(){this.fingerNode.active=!1,this.friendInfo=null},t.prototype.onDisable=function(){this.friendInfo=null},t.prototype.showTransferDoubleGuide=function(e){this.friendInfo=e,this.fingerNode.active=!0,this.fingerNode.position=this.fingerNode.parent.convertToNodeSpaceAR(this.fristTransferBtnNode.parent.convertToWorldSpaceAR(this.fristTransferBtnNode.position)),this.fingerNode.x=this.fingerNode.x+15},t.prototype.onTransferBtnClick=function(){l.gg.panelRouter.show({panel:s.CommonPanelConfig.transferPanel,data:{openType:c.TransferOpenType.Friend,userInfo:this.friendInfo}}),this.node.active=!1,l.gg.panelRouter.hide({panel:s.CommonPanelConfig.friendSystemPanel}),l.gg.audio.playOneShot(r.CommonAudioConfig.btnClose)},a([h({type:cc.Node,tooltip:"\u624b\u6307\u5f15\u5bfc\u8282\u70b9"})],t.prototype,"fingerNode",void 0),a([h({type:cc.Node,tooltip:"\u624b\u6307\u5f15\u5bfc\u4f4d\u7f6e\u8282\u70b9"})],t.prototype,"fristTransferBtnNode",void 0),a([p],t)}(cc.Component);n.default=d,cc._RF.pop()},{"../../../configs/CommonAudioConfig":"CommonAudioConfig","../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../framework/gg":"gg","../transfer/TransferPanel":"TransferPanel"}],GamaInviteProto:[function(e,t,n){"use strict";cc._RF.push(t,"34281g5hhdBq6YXJB8H0diw","GamaInviteProto"),Object.defineProperty(n,"__esModule",{value:!0}),n.IntiveLudoTablePosType=n.InviteLudoTableState=n.InviteBalootTableType=n.InviteBalootTableState=n.InviteType=n.GamaInviteProtoMsg=void 0,function(e){e.InvitePlayerRequest="InvitePlayerRequest",e.InvitePlayerResponse="InvitePlayerResponse",e.InvitePlayerBroadCast="InvitePlayerBroadCast",e.GetInviteTableListRequest="GetInviteTableListRequest",e.GetInviteTableListResponse="GetInviteTableListResponse",e.InviteTableBroadCast="InviteTableBroadCast",e.LudoSearchTableRequest="LudoSearchTableRequest",e.LudoSearchTableResponse="LudoSearchTableResponse",e.GetBalootTableListRequest="GetBalootTableListRequest",e.GetBalootTableListResponse="GetBalootTableListResponse",e.GetOnlinePlayerRequest="GetOnlinePlayerRequest",e.GetOnlinePlayerResponse="GetOnlinePlayerResponse"}(n.GamaInviteProtoMsg||(n.GamaInviteProtoMsg={})),function(e){e.GameInvite="game",e.FriendInvite="friend"}(n.InviteType||(n.InviteType={})),function(e){e[e.Waiting=1]="Waiting",e[e.Ready=2]="Ready"}(n.InviteBalootTableState||(n.InviteBalootTableState={})),function(e){e[e.Fixed=1]="Fixed",e[e.Random=2]="Random"}(n.InviteBalootTableType||(n.InviteBalootTableType={})),function(e){e[e.TABLE_STATE_WAITING=1]="TABLE_STATE_WAITING",e[e.TABLE_STATE_READY=2]="TABLE_STATE_READY"}(n.InviteLudoTableState||(n.InviteLudoTableState={})),function(e){e[e.TABLE_POS_FIXED=1]="TABLE_POS_FIXED",e[e.TABLE_POS_RANDOM=2]="TABLE_POS_RANDOM"}(n.IntiveLudoTablePosType||(n.IntiveLudoTablePosType={})),cc._RF.pop()},{}],GamaInviteSystemEvent:[function(e,t,n){"use strict";cc._RF.push(t,"fee65Pg4sBGuLj8D/7RNvXl","GamaInviteSystemEvent"),Object.defineProperty(n,"__esModule",{value:!0}),n.GamaInviteSystemEvent=void 0,function(e){e.InvitePlayerResponseEvent="GamaInviteSystemEvent.InvitePlayerResponseEvent",e.InviteTableListResponseEvent="GamaInviteSystemEvent.InviteTableListResponseEvent",e.InviteTableGameBroadCastEvent="GamaInviteSystemEvent.InviteTableGameBroadCastEvent",e.GetOnlinePlayerResponseEvent="GamaInviteSystemEvent.GetOnlinePlayerResponseEvent"}(n.GamaInviteSystemEvent||(n.GamaInviteSystemEvent={})),cc._RF.pop()},{}],GamaInviteSystem:[function(e,t,n){"use strict";cc._RF.push(t,"3227cWf4KZLf43bvGgrcD8x","GamaInviteSystem");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.gameInviteSystem=void 0;var a=e("../../framework/gg"),r=e("../gamews/GameSocketSystem"),s=e("../login/LoginEvent"),l=e("./GamaInviteProto"),c=e("./GamaInviteSystemEvent"),u=function(){function e(){this.isPostInvite=!1,this.inteveRespinseInfo=null,this.gameCreateTable=0,this.isGame=!1}return e.prototype.enable=function(){this.reset(),a.gg.eventManager.on(s.LoginEvent.OnUserKickOut,this._onUserOut,this),a.gg.eventManager.on(s.LoginEvent.OnUserLogout,this._onUserOut,this),a.gg.eventManager.on(s.LoginEvent.OnUserLostConnection,this._onUserOut,this),r.gameSocketSystem.on(l.GamaInviteProtoMsg.InvitePlayerResponse,this.onInvitePlayerResponse,this),r.gameSocketSystem.on(l.GamaInviteProtoMsg.InvitePlayerBroadCast,this.onInvitePlayerBroadCast,this),r.gameSocketSystem.on(l.GamaInviteProtoMsg.GetInviteTableListResponse,this.onGetInviteTableListResponse,this),r.gameSocketSystem.on(l.GamaInviteProtoMsg.InviteTableBroadCast,this.onInviteTableBroadCast,this),r.gameSocketSystem.on(l.GamaInviteProtoMsg.GetOnlinePlayerResponse,this.onGetOnlinePlayerResponse,this)},e.prototype.disable=function(){this.reset(),r.gameSocketSystem.offTarget(this)},e.prototype._onUserOut=function(){this.disable()},e.prototype.reset=function(){this.isPostInvite=!1,this.inteveRespinseInfo=null,this.gameCreateTable=0,this.isGame=!1},e.prototype.sendInvitePlayerRequest=function(e){a.gg.logger.log("\u8bf7\u6c42--\x3e\u9080\u8bf7\u73a9\u5bb6\u52a0\u5165\u724c\u684c",e),this.isPostInvite=!0,r.gameSocketSystem.send(l.GamaInviteProtoMsg.InvitePlayerRequest,e)},e.prototype.onInvitePlayerResponse=function(e){a.gg.logger.log("\u8fd4\u56de--\x3e\u9080\u8bf7\u73a9\u5bb6\u52a0\u5165\u724c\u684c",e),a.gg.eventManager.emit(c.GamaInviteSystemEvent.InvitePlayerResponseEvent,e),this.isPostInvite=!1},e.prototype.onInvitePlayerBroadCast=function(e){a.gg.logger.log("\u8fd4\u56de--\x3e\u9080\u8bf7\u5e7f\u64ad",e)},e.prototype.getBalootTableListAsync=function(e){return o(this,void 0,Promise,function(){return i(this,function(t){switch(t.label){case 0:return[4,r.gameSocketSystem.requestAsync({requestMsg:l.GamaInviteProtoMsg.GetBalootTableListRequest,requestData:e,responseMsg:l.GamaInviteProtoMsg.GetBalootTableListResponse})];case 1:return[2,t.sent()]}})})},e.prototype.getLudoTableListAsync=function(e){return o(this,void 0,Promise,function(){return i(this,function(t){switch(t.label){case 0:return[4,r.gameSocketSystem.requestAsync({requestMsg:l.GamaInviteProtoMsg.LudoSearchTableRequest,requestData:e,responseMsg:l.GamaInviteProtoMsg.LudoSearchTableResponse})];case 1:return[2,t.sent()]}})})},e.prototype.sendGetInviteTableListRequest=function(e){a.gg.logger.log("\u8bf7\u6c42--\x3e\u83b7\u53d6\u6e38\u620f\u9891\u9053\u9080\u8bf7\u5217\u8868"),r.gameSocketSystem.send(l.GamaInviteProtoMsg.GetInviteTableListRequest,e)},e.prototype.onGetInviteTableListResponse=function(e){a.gg.logger.log("\u8fd4\u56de--\x3e\u83b7\u53d6\u6e38\u620f\u9891\u9053\u9080\u8bf7\u5217\u8868",e),a.gg.eventManager.emit(c.GamaInviteSystemEvent.InviteTableListResponseEvent,e)},e.prototype.onInviteTableBroadCast=function(e){a.gg.logger.log("\u8fd4\u56de--\x3e\u6e38\u620f\u9891\u9053\u9080\u8bf7\u5e7f\u64ad",e),a.gg.eventManager.emit(c.GamaInviteSystemEvent.InviteTableGameBroadCastEvent,e)},e.prototype.sendGetOnlinePlayerRequest=function(){a.gg.logger.log("\u8bf7\u6c42--\x3e\u968f\u673a\u83b7\u53d6\u5f53\u524d\u5728\u7ebf\u7684\u73a9\u5bb6\u5217\u8868"),r.gameSocketSystem.send(l.GamaInviteProtoMsg.GetOnlinePlayerRequest,{})},e.prototype.onGetOnlinePlayerResponse=function(e){a.gg.logger.log("\u8fd4\u56de--\x3e\u968f\u673a\u83b7\u53d6\u5f53\u524d\u5728\u7ebf\u7684\u73a9\u5bb6\u5217\u8868"),a.gg.eventManager.emit(c.GamaInviteSystemEvent.GetOnlinePlayerResponseEvent,e)},e}();n.gameInviteSystem=new u,cc._RF.pop()},{"../../framework/gg":"gg","../gamews/GameSocketSystem":"GameSocketSystem","../login/LoginEvent":"LoginEvent","./GamaInviteProto":"GamaInviteProto","./GamaInviteSystemEvent":"GamaInviteSystemEvent"}],GamaInviteUIEvent:[function(e,t,n){"use strict";cc._RF.push(t,"bca44V+ocZHZJLlxHJw0ob2","GamaInviteUIEvent"),Object.defineProperty(n,"__esModule",{value:!0}),n.GamaInviteUIEvent=void 0,(n.GamaInviteUIEvent||(n.GamaInviteUIEvent={})).FriendInviteItemOnClickEvent="GamaInviteUIEvent.FriendInviteItemOnClickEvent",cc._RF.pop()},{}],GameAnimSystem:[function(e,t,n){"use strict";cc._RF.push(t,"bc3ccXsBEdKJqnIRuiZGHtT","GameAnimSystem"),Object.defineProperty(n,"__esModule",{value:!0}),n.gamePanelSystem=n.GamePanelType=void 0;var o,i=e("../systems/user/VipSystem");(function(e){e[e.Game=0]="Game",e[e.Store=1]="Store",e[e.Other=2]="Other"})(o=n.GamePanelType||(n.GamePanelType={}));var a=function(){function e(){this.gameShowPanel=o.Other,this.storeLastPanel=o.Other}return e.prototype.reset=function(){this.gameShowPanel=o.Other},e.prototype.gameToOther=function(){this.gameShowPanel=o.Other,i.vipSystem.gameToOtherVipExpiredUI()},e}();n.gamePanelSystem=new a,cc._RF.pop()},{"../systems/user/VipSystem":"VipSystem"}],GameAnimals30200:[function(e,t,n){"use strict";cc._RF.push(t,"793ebl4175Dx7ksKXBysigz","GameAnimals30200"),Object.defineProperty(n,"__esModule",{value:!0}),n.GameAnimals30200=void 0;var o=e("../../halls/halllib/laya/Laya"),i=function(){function e(){}return e.CreateNew=function(e,t){var n,i=this;e>=0&&e<this.AnimalResStr.length&&(this.FreeAnimalList[e]?n=this.FreeAnimalList[e].pop():this.FreeAnimalList[e]=[],n?t.runWith(n):this.AnimalRes[e]?(n=this.AnimalRes[e].create(),t.runWith(n)):o.Laya.loader.load(this.AnimalResStr[e],null,null).then(function(o){null!=o&&(i.AnimalRes[e]=o,n=i.AnimalRes[e].create()),t.runWith(n)}))},e.Recovery=function(e,t){t.active=!1,this.FreeAnimalList[e]&&this.FreeAnimalList[e].push(t)},e.AnimalResStr=["resources/games/game30200/res/models/SLWH_Lion.lh","resources/games/game30200/res/models/SLWH_Panda.lh","resources/games/game30200/res/models/SLWH_Monkey.lh","resources/games/game30200/res/models/SLWH_Rabit.lh"],e.AnimalRes=[],e.FreeAnimalList=new Array,e}();n.GameAnimals30200=i,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya"}],GameApiModels:[function(e,t,n){"use strict";cc._RF.push(t,"cee3fi12g1MHKOrEdRovGc1","GameApiModels"),Object.defineProperty(n,"__esModule",{value:!0}),n.TransferDoubleActivityType=n.ChipType=n.LevelUpStatusType=n.SurprisePackageStatusType=n.RankingType=n.ActivityType=n.LobbyHintCountEnum=n.LobbyHintEnum=n.TaskStatus=n.DoTaskEvent=n.TaskType=n.CurrencyType=n.ItemStatusType=n.ItemType=n.ItemClass=n.WinRateRoomType=n.AwardType=n.EmailType=void 0,function(e){e[e.System=1]="System",e[e.Friend=2]="Friend"}(n.EmailType||(n.EmailType={})),function(e){e.Coin="coin",e.Diamond="diamond",e.Item="item"}(n.AwardType||(n.AwardType={})),function(e){e[e.Classic=1]="Classic",e[e.Fast=2]="Fast",e[e.Double=3]="Double",e[e.Qualifying=4]="Qualifying"}(n.WinRateRoomType||(n.WinRateRoomType={})),function(e){e.design="design",e.props="props"}(n.ItemClass||(n.ItemClass={})),function(e){e.avatarFrame="avatar_frame",e.chatBubble="chat_bubble",e.balootCard="baloot_card",e.balootBg="baloot_bg",e.ludoChessboard="ludo_chessboard",e.ludoDice="ludo_dice",e.gameGift="game_gift",e.bigGift="big_gift",e.qualifyingProps="qualifying_props",e.vipCard="vip_card"}(n.ItemType||(n.ItemType={})),function(e){e[e.NotPurchased=0]="NotPurchased",e[e.Owned=1]="Owned",e[e.ActivityReceive=2]="ActivityReceive"}(n.ItemStatusType||(n.ItemStatusType={})),function(e){e.Coin="coin",e.Diamond="diamond"}(n.CurrencyType||(n.CurrencyType={})),function(e){e.NewPlayerSevenDay="new_player_seven_day",e.EveryDayTask="every_day_task",e.EveryWeekTask="every_week_task",e.AchievementTask="achievement_task"}(n.TaskType||(n.TaskType={})),function(e){e.FinishBaloot="finish_baloot",e.FinishFastBaloot="finish_fast_baloot",e.FinishLudo="finish_ludo",e.WinBaloot="win_baloot",e.WinFastBaloot="win_fast_baloot",e.WinLudo="win_ludo",e.ChargeTimes="charge_times",e.ChargeAmount="charge_amount",e.GainGoldInLudo="get_coins_in_ludo",e.SixInLudo="dice_roll_6",e.HitInLudo="chess_collide",e.GainGoldInBaloot="get_coins_in_baloot",e.Gain4AInBaloot="luck_4A",e.FinishDoubleBaloot="finish_double_baloot",e.WinDoubleBaloot="win_double_baloot",e.FinishQualifyingBaloot="finish_qualifying_baloot",e.WinQualifyingBaloot="win_qualifying_baloot"}(n.DoTaskEvent||(n.DoTaskEvent={})),function(e){e[e.Underway=0]="Underway",e[e.Finish=1]="Finish",e[e.Received=2]="Received"}(n.TaskStatus||(n.TaskStatus={})),function(e){e.TaskReddot="task_reddot",e.MailReddot="mail_reddot",e.SignInReddot="sign_in_reddot",e.FirstRechargeReddot="first_recharge_reddot",e.FriendReddot="friend_reddot",e.LevelAwardReddot="level_award_reddot",e.ServiceReddot="service_reddot",e.NewPlayerReddot="new_player_reddot",e.VipRechargeReddot="vip_recharge_reddot",e.boxChipReddot="box_chip_reddot",e.transferDoublePrizeReddot="transfer_double_prize_reddot",e.animalSpinReddot="animal_spin_reddot"}(n.LobbyHintEnum||(n.LobbyHintEnum={})),(n.LobbyHintCountEnum||(n.LobbyHintCountEnum={})).ServiceReddotCount="service_reddot_count",function(e){e.LevelAward="level_award",e.newPlayerSignIn="new_player_sign_in",e.vipRecharge="vip_recharge",e.boxChip="box_chip",e.transferDoublePrize="transfer_double_prize",e.Questionnaire="questionnaire"}(n.ActivityType||(n.ActivityType={})),function(e){e.TotalCoin="total_coin",e.TotalDiamond="total_diamond",e.TotalLevel="total_level",e.TotalCharm="total_charm",e.MonthCharm="month_charm",e.WeekCharm="week_charm",e.TotalFashion="total_fashion",e.MonthFashion="month_fashion",e.WeekFashion="week_fashion",e.QualifyingScore="qualifying_score"}(n.RankingType||(n.RankingType={})),function(e){e[e.unReceive=0]="unReceive",e[e.Received=1]="Received"}(n.SurprisePackageStatusType||(n.SurprisePackageStatusType={})),function(e){e[e.Undone=0]="Undone",e[e.Completed=1]="Completed",e[e.Received=2]="Received"}(n.LevelUpStatusType||(n.LevelUpStatusType={})),function(e){e.GradeStarUp="grade_star_up",e.AnimalApinBet="animal_spin_bet",e.Transfer="transfer",e.ChargeAmount="charge_amount",e.DoubleBalootWinCoins="double_baloot_win_coins"}(n.ChipType||(n.ChipType={})),function(e){e[e.Unopened=0]="Unopened",e[e.Activated=1]="Activated",e[e.Completed=2]="Completed",e[e.Received=3]="Received"}(n.TransferDoubleActivityType||(n.TransferDoubleActivityType={})),cc._RF.pop()},{}],GameApi:[function(e,t,n){"use strict";cc._RF.push(t,"435376wdUVHG45l/icMNyOj","GameApi");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.gameApi=void 0;var a=e("../../../configs/AppConfig"),r=e("../../../framework/gg"),s=e("../../../framework/http/HttpInterface"),l=e("../core/GameCenterCryptoV1"),c=e("../core/GameCenterHttpRequestV3"),u=function(){function e(){}return e.prototype.getEmailListList=function(e){return o(this,void 0,Promise,function(){var t;return i(this,function(n){switch(n.label){case 0:return r.gg.logger.log("\u8bf7\u6c42\u90ae\u4ef6\u5217\u8868","\u5f00\u59cb"),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.GET,host:a.AppConfig.gameServerHttpHost+"/email/get_email_list",body:e})];case 1:return t=n.sent(),r.gg.logger.log("\u8bf7\u6c42\u90ae\u4ef6\u5217\u8868","\u7ed3\u679c",t),1!==(null==t?void 0:t.status)&&r.gg.logger.error("\u8bf7\u6c42\u90ae\u4ef6\u5217\u8868","\u5931\u8d25"),[2,t]}})})},e.prototype.lookEamil=function(e){return o(this,void 0,Promise,function(){var t;return i(this,function(n){switch(n.label){case 0:return r.gg.logger.log("\u8bf7\u6c42\u67e5\u770b\u90ae\u4ef6","\u5f00\u59cb"),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.GET,host:a.AppConfig.gameServerHttpHost+"/email/look_email",body:e})];case 1:return t=n.sent(),r.gg.logger.log("\u8bf7\u6c42\u67e5\u770b\u90ae\u4ef6","\u7ed3\u679c",t),1!==(null==t?void 0:t.status)?(r.gg.logger.error("\u8bf7\u6c42\u67e5\u770b\u90ae\u4ef6","\u5931\u8d25"),[2,!1]):[2,!0]}})})},e.prototype.deleteEmail=function(e){return o(this,void 0,Promise,function(){var t;return i(this,function(n){switch(n.label){case 0:return r.gg.logger.log("\u5220\u9664\u90ae\u4ef6","\u5f00\u59cb"),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.GET,host:a.AppConfig.gameServerHttpHost+"/email/delete_email",body:e})];case 1:return t=n.sent(),r.gg.logger.log("\u5220\u9664\u90ae\u4ef6","\u7ed3\u679c",t),1!==(null==t?void 0:t.status)?(r.gg.logger.error("\u5220\u9664\u90ae\u4ef6","\u5931\u8d25"),[2,!1]):[2,!0]}})})},e.prototype.getEmailAward=function(e){return o(this,void 0,Promise,function(){var t;return i(this,function(n){switch(n.label){case 0:return r.gg.logger.log("\u9886\u53d6\u90ae\u4ef6\u5956\u54c1","\u5f00\u59cb"),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.GET,host:a.AppConfig.gameServerHttpHost+"/email/get_email_award",body:e})];case 1:return t=n.sent(),r.gg.logger.log("\u9886\u53d6\u90ae\u4ef6\u5956\u54c1","\u7ed3\u679c",t),1!==(null==t?void 0:t.status)?(r.gg.logger.error("\u9886\u53d6\u90ae\u4ef6\u5956\u54c1","\u5931\u8d25"),[2,!1]):[2,!0]}})})},e.prototype.getGoodsListAsync=function(e){return o(this,void 0,Promise,function(){var t;return i(this,function(n){switch(n.label){case 0:return r.gg.logger.log("\u83b7\u53d6\u5546\u54c1\u5217\u8868","\u5f00\u59cb"),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.GET,host:a.AppConfig.gameServerHttpHost+"/store/get_goods_list",body:e})];case 1:return t=n.sent(),r.gg.logger.log("\u83b7\u53d6\u5546\u54c1\u5217\u8868","\u7ed3\u679c",t),1!==(null==t?void 0:t.status)&&r.gg.logger.error("\u83b7\u53d6\u5546\u54c1\u5217\u8868","\u5931\u8d25"),[2,t]}})})},e.prototype.getRechargeOrder=function(e){return o(this,void 0,Promise,function(){var t;return i(this,function(n){switch(n.label){case 0:return r.gg.logger.log("\u83b7\u53d6\u5145\u503c\u8ba2\u5355","\u5f00\u59cb"),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.GET,host:a.AppConfig.gameServerHttpHost+"/store/order",body:e})];case 1:return t=n.sent(),r.gg.logger.log("\u83b7\u53d6\u5145\u503c\u8ba2\u5355","\u7ed3\u679c",t),1!==(null==t?void 0:t.status)&&r.gg.logger.error("\u83b7\u53d6\u5145\u503c\u8ba2\u5355","\u5931\u8d25"),[2,t]}})})},e.prototype.callBackGpPaymentResult=function(e){return o(this,void 0,Promise,function(){var t;return i(this,function(n){switch(n.label){case 0:return r.gg.logger.log("\u4e0a\u62a5GP\u8ba2\u5355\u4ea4\u6613\u7ed3\u679c\u5230\u540e\u7aef","\u5f00\u59cb"),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.GET,host:a.AppConfig.gameServerHttpHost+"/store/gp_callback",body:e})];case 1:return t=n.sent(),r.gg.logger.log("\u4e0a\u62a5GP\u8ba2\u5355\u4ea4\u6613\u7ed3\u679c\u5230\u540e\u7aef","\u7ed3\u679c",t),1!==(null==t?void 0:t.status)&&r.gg.logger.error("\u4e0a\u62a5GP\u8ba2\u5355\u4ea4\u6613\u7ed3\u679c\u5230\u540e\u7aef","\u5931\u8d25"),[2,t]}})})},e.prototype.callBackApplePaymentResult=function(e){return o(this,void 0,Promise,function(){var t;return i(this,function(n){switch(n.label){case 0:return r.gg.logger.log("\u4e0a\u62a5Apple\u8ba2\u5355\u4ea4\u6613\u7ed3\u679c\u5230\u540e\u7aef","\u5f00\u59cb"),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.GET,host:a.AppConfig.gameServerHttpHost+"/store/apple_callback",body:e})];case 1:return t=n.sent(),r.gg.logger.log("\u4e0a\u62a5Apple\u8ba2\u5355\u4ea4\u6613\u7ed3\u679c\u5230\u540e\u7aef","\u7ed3\u679c",t),1!==(null==t?void 0:t.status)&&r.gg.logger.error("\u4e0a\u62a5Apple\u8ba2\u5355\u4ea4\u6613\u7ed3\u679c\u5230\u540e\u7aef","\u5931\u8d25"),[2,t]}})})},e.prototype.getPlyaerInfo=function(e){return o(this,void 0,Promise,function(){var t;return i(this,function(n){switch(n.label){case 0:return r.gg.logger.log("\u67e5\u8be2\u73a9\u5bb6\u4e2a\u4eba\u4fe1\u606f","\u5f00\u59cb",e),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.GET,host:a.AppConfig.gameServerHttpHost+"/player/get_info",body:e})];case 1:return t=n.sent(),r.gg.logger.log("\u67e5\u8be2\u73a9\u5bb6\u4e2a\u4eba\u4fe1\u606f","\u7ed3\u679c",t),1!==(null==t?void 0:t.status)?(r.gg.logger.error("\u67e5\u8be2\u73a9\u5bb6\u4e2a\u4eba\u4fe1\u606f","\u5931\u8d25"),[2,null]):[2,t]}})})},e.prototype.getWinRate=function(e){return o(this,void 0,Promise,function(){var t;return i(this,function(n){switch(n.label){case 0:return r.gg.logger.log("\u83b7\u53d6\u73a9\u5bb6\u80dc\u7387","\u5f00\u59cb"),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.GET,host:a.AppConfig.gameServerHttpHost+"/player/get_win_rate_v2",body:e})];case 1:return t=n.sent(),r.gg.logger.log("\u83b7\u53d6\u73a9\u5bb6\u80dc\u7387","\u7ed3\u679c",t),1!==(null==t?void 0:t.status)?(r.gg.logger.error("\u83b7\u53d6\u73a9\u5bb6\u80dc\u7387","\u5931\u8d25"),[2,null]):[2,t]}})})},e.prototype.getPlyaerDesignList=function(e){return o(this,void 0,Promise,function(){var t;return i(this,function(n){switch(n.label){case 0:return r.gg.logger.log("\u83b7\u53d6\u73a9\u5bb6\u88c5\u626e\u5217\u8868","\u5f00\u59cb"),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.GET,host:a.AppConfig.gameServerHttpHost+"/player/get_design_list",body:e})];case 1:return t=n.sent(),r.gg.logger.log("\u83b7\u53d6\u73a9\u5bb6\u88c5\u626e\u5217\u8868","\u7ed3\u679c",t),1!==(null==t?void 0:t.status)&&r.gg.logger.error("\u83b7\u53d6\u73a9\u5bb6\u88c5\u626e\u5217\u8868","\u5931\u8d25"),[2,t]}})})},e.prototype.postPlayerUploadHeadIcon=function(e){return o(this,void 0,Promise,function(){var t;return i(this,function(n){switch(n.label){case 0:return r.gg.logger.log("\u4e0a\u4f20\u73a9\u5bb6\u5934\u50cf","\u5f00\u59cb"),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.POST,host:a.AppConfig.gameServerHttpHost+"/player/upload_head_icon",base64Body:null==e?void 0:e.icon_base64,base64:!0,header:{"Content-Type":"application/json"}})];case 1:return t=n.sent(),r.gg.logger.log("\u4e0a\u4f20\u73a9\u5bb6\u5934\u50cf","\u7ed3\u679c",t),1!==(null==t?void 0:t.status)&&r.gg.logger.error("\u4e0a\u4f20\u73a9\u5bb6\u5934\u50cf","\u5931\u8d25:",JSON.stringify(t)),[2,t]}})})},e.prototype.getSignInList=function(){return o(this,void 0,Promise,function(){var e;return i(this,function(t){switch(t.label){case 0:return r.gg.logger.log("\u8bf7\u6c42\u7b7e\u5230\u5217\u8868","\u5f00\u59cb"),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.GET,host:a.AppConfig.gameServerHttpHost+"/sign/get_sign_in_list"})];case 1:return e=t.sent(),r.gg.logger.log("\u8bf7\u6c42\u7b7e\u5230\u5217\u8868","\u7ed3\u679c",e),1!==(null==e?void 0:e.status)&&r.gg.logger.error("\u8bf7\u6c42\u7b7e\u5230\u5217\u8868","\u5931\u8d25"),[2,e]}})})},e.prototype.signIn=function(){return o(this,void 0,Promise,function(){var e;return i(this,function(t){switch(t.label){case 0:return r.gg.logger.log("\u8bf7\u6c42\u7b7e\u5230","\u5f00\u59cb"),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.GET,host:a.AppConfig.gameServerHttpHost+"/sign/sign_in"})];case 1:return e=t.sent(),r.gg.logger.log("\u8bf7\u6c42\u7b7e\u5230","\u7ed3\u679c",e),1!==(null==e?void 0:e.status)?(r.gg.logger.error("\u8bf7\u6c42\u7b7e\u5230","\u5931\u8d25"),[2,!1]):[2,!0]}})})},e.prototype.getItemList=function(e){return o(this,void 0,Promise,function(){var t;return i(this,function(n){switch(n.label){case 0:return r.gg.logger.log("\u8bf7\u6c42\u80cc\u5305\u7269\u54c1","\u5f00\u59cb"),e.item_type&&(e.item_type=e.item_type.join(",")),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.GET,host:a.AppConfig.gameServerHttpHost+"/bag/get_item_list",body:e})];case 1:return t=n.sent(),r.gg.logger.log("\u8bf7\u6c42\u80cc\u5305\u7269\u54c1","\u7ed3\u679c",t),1!==(null==t?void 0:t.status)?(r.gg.logger.error("\u8bf7\u6c42\u80cc\u5305\u7269\u54c1","\u5931\u8d25"),[2,null]):[2,t]}})})},e.prototype.changeDesign=function(e){return o(this,void 0,Promise,function(){var t;return i(this,function(n){switch(n.label){case 0:return r.gg.logger.log("\u8bf7\u6c42\u53d8\u66f4\u88c5\u626e","\u5f00\u59cb"),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.GET,host:a.AppConfig.gameServerHttpHost+"/bag/change_design",body:e})];case 1:return t=n.sent(),r.gg.logger.log("\u8bf7\u6c42\u53d8\u66f4\u88c5\u626e","\u7ed3\u679c",t),1!==(null==t?void 0:t.status)?(r.gg.logger.error("\u8bf7\u6c42\u53d8\u66f4\u88c5\u626e","\u5931\u8d25"),[2,!1]):[2,!0]}})})},e.prototype.useProps=function(e){return o(this,void 0,Promise,function(){var t;return i(this,function(n){switch(n.label){case 0:return r.gg.logger.log("\u8bf7\u6c42\u4f7f\u7528\u9053\u5177","\u5f00\u59cb"),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.GET,host:a.AppConfig.gameServerHttpHost+"/bag/use_props",body:e})];case 1:return t=n.sent(),r.gg.logger.log("\u8bf7\u6c42\u4f7f\u7528\u9053\u5177","\u7ed3\u679c",t),1!==(null==t?void 0:t.status)?(r.gg.logger.error("\u8bf7\u6c42\u4f7f\u7528\u9053\u5177","\u5931\u8d25"),[2,t]):[2,t]}})})},e.prototype.getItemGoodsList=function(e){return o(this,void 0,Promise,function(){var t;return i(this,function(n){switch(n.label){case 0:return r.gg.logger.log("\u8bf7\u6c42\u9053\u5177\u5546\u54c1","\u5f00\u59cb"),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.GET,host:a.AppConfig.gameServerHttpHost+"/store/get_item_goods_list",body:e})];case 1:return t=n.sent(),r.gg.logger.log("\u8bf7\u6c42\u9053\u5177\u5546\u54c1","\u7ed3\u679c",t),1!==(null==t?void 0:t.status)&&r.gg.logger.error("\u8bf7\u6c42\u9053\u5177\u5546\u54c1","\u5931\u8d25"),[2,t]}})})},e.prototype.storePurchase=function(e){return o(this,void 0,Promise,function(){var t;return i(this,function(n){switch(n.label){case 0:return r.gg.logger.log("\u8bf7\u6c42\u8d2d\u4e70\u9053\u5177\u5546\u54c1","\u5f00\u59cb"),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.GET,host:a.AppConfig.gameServerHttpHost+"/store/purchase",body:e})];case 1:return t=n.sent(),r.gg.logger.log("\u8bf7\u6c42\u8d2d\u4e70\u9053\u5177\u5546\u54c1","\u7ed3\u679c",t),1!==(null==t?void 0:t.status)&&r.gg.logger.error("\u8bf7\u6c42\u8d2d\u4e70\u9053\u5177\u5546\u54c1","\u5931\u8d25"),[2,t]}})})},e.prototype.getTaskList=function(e){return o(this,void 0,Promise,function(){var t;return i(this,function(n){switch(n.label){case 0:return r.gg.logger.log("\u8bf7\u6c42\u4efb\u52a1\u5217\u8868","\u5f00\u59cb"),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.GET,host:a.AppConfig.gameServerHttpHost+"/task/get_task_list",body:e})];case 1:return t=n.sent(),r.gg.logger.log("\u8bf7\u6c42\u4efb\u52a1\u5217\u8868","\u7ed3\u679c",t),1!==(null==t?void 0:t.status)&&r.gg.logger.error("\u8bf7\u6c42\u4efb\u52a1\u5217\u8868","\u5931\u8d25"),[2,t]}})})},e.prototype.getTaskAward=function(e){return o(this,void 0,Promise,function(){var t;return i(this,function(n){switch(n.label){case 0:return r.gg.logger.log("\u9886\u53d6\u4efb\u52a1\u5956\u52b1","\u5f00\u59cb"),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.GET,host:a.AppConfig.gameServerHttpHost+"/task/get_task_reward",body:e})];case 1:return t=n.sent(),r.gg.logger.log("\u9886\u53d6\u4efb\u52a1\u5956\u52b1","\u7ed3\u679c",t),1!==(null==t?void 0:t.status)&&r.gg.logger.error("\u9886\u53d6\u4efb\u52a1\u5956\u52b1","\u5931\u8d25"),[2,t]}})})},e.prototype.getLobbyHintData=function(e){return o(this,void 0,Promise,function(){var t;return i(this,function(n){switch(n.label){case 0:return r.gg.logger.log("\u83b7\u53d6\u5927\u5385\u7ea2\u70b9","\u5f00\u59cb",e),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.GET,host:a.AppConfig.gameServerHttpHost+"/red_dot/get_red_dot_show",body:e})];case 1:return t=n.sent(),r.gg.logger.log("\u83b7\u53d6\u5927\u5385\u7ea2\u70b9","\u7ed3\u679c",t),1!==(null==t?void 0:t.status)&&r.gg.logger.error("\u83b7\u53d6\u5927\u5385\u7ea2\u70b9","\u5931\u8d25"),[2,t]}})})},e.prototype.getActivityList=function(){return o(this,void 0,Promise,function(){var e;return i(this,function(t){switch(t.label){case 0:return r.gg.logger.log("\u83b7\u53d6\u5927\u5385\u6d3b\u52a8\u72b6\u6001","\u5f00\u59cb"),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.GET,host:a.AppConfig.gameServerHttpHost+"/activity/get_activity_list"})];case 1:return e=t.sent(),r.gg.logger.log("\u83b7\u53d6\u5927\u5385\u6d3b\u52a8\u72b6\u6001","\u7ed3\u679c",e),1!==(null==e?void 0:e.status)&&r.gg.logger.error("\u83b7\u53d6\u5927\u5385\u6d3b\u52a8\u72b6\u6001","\u5931\u8d25"),[2,e]}})})},e.prototype.getRankingList=function(e){return o(this,void 0,Promise,function(){var t;return i(this,function(n){switch(n.label){case 0:return r.gg.logger.log("\u83b7\u53d6\u6392\u884c\u699c\u5217\u8868","\u5f00\u59cb"),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.GET,host:a.AppConfig.gameServerHttpHost+"/ranking/get_ranking_list",body:e})];case 1:return t=n.sent(),r.gg.logger.log("\u83b7\u53d6\u6392\u884c\u699c\u5217\u8868","\u7ed3\u679c",t),1!==(null==t?void 0:t.status)&&r.gg.logger.error("\u83b7\u53d6\u6392\u884c\u699c\u5217\u8868","\u5931\u8d25"),[2,t]}})})},e.prototype.getRankingAwardList=function(e){return o(this,void 0,Promise,function(){var t;return i(this,function(n){switch(n.label){case 0:return r.gg.logger.log("\u83b7\u53d6\u6392\u884c\u699c\u5956\u52b1\u8bf4\u660e\u5217\u8868","\u5f00\u59cb"),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.GET,host:a.AppConfig.gameServerHttpHost+"/ranking/get_caption_config",body:e})];case 1:return t=n.sent(),r.gg.logger.log("\u83b7\u53d6\u6392\u884c\u699c\u5956\u52b1\u8bf4\u660e\u5217\u8868","\u7ed3\u679c",t),1!==(null==t?void 0:t.status)&&r.gg.logger.error("\u83b7\u53d6\u6392\u884c\u699c\u5956\u52b1\u8bf4\u660e\u5217\u8868","\u5931\u8d25"),[2,t]}})})},e.prototype.getFriendRankingList=function(e){return o(this,void 0,Promise,function(){var t;return i(this,function(n){switch(n.label){case 0:return r.gg.logger.log("\u83b7\u53d6\u597d\u53cb\u6392\u884c\u699c\u5217\u8868","\u5f00\u59cb"),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.GET,host:a.AppConfig.gameServerHttpHost+"/ranking/get_friend_ranking_list",body:e})];case 1:return t=n.sent(),r.gg.logger.log("\u83b7\u53d6\u597d\u53cb\u6392\u884c\u699c\u5217\u8868","\u7ed3\u679c",t),1!==(null==t?void 0:t.status)&&r.gg.logger.error("\u83b7\u53d6\u597d\u53cb\u6392\u884c\u699c\u5217\u8868","\u5931\u8d25"),[2,t]}})})},e.prototype.getLevelAwardInfo=function(){return o(this,void 0,Promise,function(){var e;return i(this,function(t){switch(t.label){case 0:return r.gg.logger.log("\u83b7\u53d6\u7b49\u7ea7\u5956\u52b1\u6570\u636e","\u5f00\u59cb"),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.GET,host:a.AppConfig.gameServerHttpHost+"/activity/get_level_activity_info"})];case 1:return e=t.sent(),r.gg.logger.log("\u83b7\u53d6\u7b49\u7ea7\u5956\u52b1\u6570\u636e","\u7ed3\u679c",e),1!==(null==e?void 0:e.status)&&r.gg.logger.error("\u83b7\u53d6\u7b49\u7ea7\u5956\u52b1\u6570\u636e","\u5931\u8d25"),[2,e]}})})},e.prototype.getLevelAward=function(e){return o(this,void 0,Promise,function(){var t;return i(this,function(n){switch(n.label){case 0:return r.gg.logger.log("\u83b7\u53d6\u7b49\u7ea7\u5956\u52b1","\u5f00\u59cb"),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.GET,host:a.AppConfig.gameServerHttpHost+"/activity/award_level_activity",body:e})];case 1:return t=n.sent(),r.gg.logger.log("\u83b7\u53d6\u7b49\u7ea7\u5956\u52b1","\u7ed3\u679c",t),1!==(null==t?void 0:t.status)&&r.gg.logger.error("\u83b7\u53d6\u7b49\u7ea7\u5956\u52b1","\u5931\u8d25"),[2,t]}})})},e.prototype.getFastBalootTiroAwardInfo=function(){return o(this,void 0,Promise,function(){var e;return i(this,function(t){switch(t.label){case 0:return r.gg.logger.log("\u83b7\u53d6baloot\u5feb\u901f\u6a21\u5f0f\u65b0\u624b\u5956\u52b1\u6570\u636e","\u5f00\u59cb"),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.GET,host:a.AppConfig.gameServerHttpHost+"/activity/get_fast_baloot_tiro_activity_info"})];case 1:return e=t.sent(),r.gg.logger.log("\u83b7\u53d6baloot\u5feb\u901f\u6a21\u5f0f\u65b0\u624b\u5956\u52b1\u6570\u636e","\u7ed3\u679c",e),1!==(null==e?void 0:e.status)&&r.gg.logger.error("\u83b7\u53d6baloot\u5feb\u901f\u6a21\u5f0f\u65b0\u624b\u5956\u52b1\u6570\u636e","\u5931\u8d25"),[2,e]}})})},e.prototype.getFastBalootTiroAward=function(){return o(this,void 0,Promise,function(){var e;return i(this,function(t){switch(t.label){case 0:return r.gg.logger.log("\u9886\u53d6baloot\u5feb\u901f\u6a21\u5f0f\u65b0\u624b\u5956\u52b1\u6570\u636e","\u5f00\u59cb"),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.GET,host:a.AppConfig.gameServerHttpHost+"/activity/award_fast_baloot_tiro_activity"})];case 1:return e=t.sent(),r.gg.logger.log("\u9886\u53d6baloot\u5feb\u901f\u6a21\u5f0f\u65b0\u624b\u5956\u52b1\u6570\u636e","\u7ed3\u679c",e),1!==(null==e?void 0:e.status)&&r.gg.logger.error("\u9886\u53d6baloot\u5feb\u901f\u6a21\u5f0f\u65b0\u624b\u5956\u52b1\u6570\u636e","\u5931\u8d25"),[2,e]}})})},e.prototype.getDoubleBalootTiroAwardInfo=function(){return o(this,void 0,Promise,function(){var e;return i(this,function(t){switch(t.label){case 0:return r.gg.logger.log("\u8bf7\u6c42\u7ffb\u500dbaloot\u65b0\u624b\u6d3b\u52a8\u4fe1\u606f\u5956\u52b1\u6570\u636e","\u5f00\u59cb"),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.GET,host:a.AppConfig.gameServerHttpHost+"/activity/get_double_baloot_tiro_activity_info"})];case 1:return e=t.sent(),r.gg.logger.log("\u8bf7\u6c42\u7ffb\u500dbaloot\u65b0\u624b\u6d3b\u52a8\u4fe1\u606f\u5956\u52b1\u6570\u636e","\u7ed3\u679c",e),1!==(null==e?void 0:e.status)&&r.gg.logger.error("\u8bf7\u6c42\u7ffb\u500dbaloot\u65b0\u624b\u6d3b\u52a8\u4fe1\u606f\u5956\u52b1\u6570\u636e","\u5931\u8d25"),[2,e]}})})},e.prototype.getDoubleBalootTiroAward=function(){return o(this,void 0,Promise,function(){var e;return i(this,function(t){switch(t.label){case 0:return r.gg.logger.log("\u9886\u53d6\u7ffb\u500dbaloot\u6a21\u5f0f\u65b0\u624b\u5956\u52b1\u6570\u636e","\u5f00\u59cb"),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.GET,host:a.AppConfig.gameServerHttpHost+"/activity/award_double_baloot_tiro_activity"})];case 1:return e=t.sent(),r.gg.logger.log("\u9886\u53d6\u7ffb\u500dbaloot\u6a21\u5f0f\u65b0\u624b\u5956\u52b1\u6570\u636e","\u7ed3\u679c",e),1!==(null==e?void 0:e.status)&&r.gg.logger.error("\u9886\u53d6\u7ffb\u500dbaloot\u6a21\u5f0f\u65b0\u624b\u5956\u52b1\u6570\u636e","\u5931\u8d25"),[2,e]}})})},e.prototype.getIftarInfo=function(){return o(this,void 0,Promise,function(){var e;return i(this,function(t){switch(t.label){case 0:return r.gg.logger.log("\u83b7\u53d6\u5f00\u658b\u6d3b\u52a8\u6570\u636e","\u5f00\u59cb"),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.GET,host:a.AppConfig.gameServerHttpHost+"/activity/get_iftar_info"})];case 1:return e=t.sent(),r.gg.logger.log("\u83b7\u53d6\u5f00\u658b\u6d3b\u52a8\u6570\u636e","\u7ed3\u679c",e),1!==(null==e?void 0:e.status)&&r.gg.logger.error("\u83b7\u53d6\u5f00\u658b\u6d3b\u52a8\u6570\u636e","\u5931\u8d25"),[2,e]}})})},e.prototype.getIftarAward=function(){return o(this,void 0,Promise,function(){var e;return i(this,function(t){switch(t.label){case 0:return r.gg.logger.log("\u9886\u53d6\u5f00\u658b\u6d3b\u52a8\u6570\u636e","\u5f00\u59cb"),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.GET,host:a.AppConfig.gameServerHttpHost+"/activity/get_iftar_award"})];case 1:return e=t.sent(),r.gg.logger.log("\u9886\u53d6\u5f00\u658b\u6d3b\u52a8\u6570\u636e","\u7ed3\u679c",e),1!==(null==e?void 0:e.status)&&r.gg.logger.error("\u9886\u53d6\u5f00\u658b\u6d3b\u52a8\u6570\u636e","\u5931\u8d25"),[2,e]}})})},e.prototype.getIancellationInfo=function(){return o(this,void 0,Promise,function(){var e;return i(this,function(t){switch(t.label){case 0:return r.gg.logger.log("\u67e5\u8be2\u6ce8\u9500\u4fe1\u606f","\u5f00\u59cb"),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.GET,host:a.AppConfig.gameServerHttpHost+"/cancellation/get_info"})];case 1:return e=t.sent(),r.gg.logger.log("\u67e5\u8be2\u6ce8\u9500\u4fe1\u606f","\u7ed3\u679c",e),[2,e]}})})},e.prototype.getIancellationCancel=function(){return o(this,void 0,Promise,function(){var e;return i(this,function(t){switch(t.label){case 0:return r.gg.logger.log("\u53d6\u6d88\u6ce8\u9500","\u5f00\u59cb"),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.GET,host:a.AppConfig.gameServerHttpHost+"/cancellation/cancel"})];case 1:return e=t.sent(),r.gg.logger.log("\u53d6\u6d88\u6ce8\u9500","\u7ed3\u679c",e),[2,e]}})})},e.prototype.getQualifyingRule=function(){return o(this,void 0,Promise,function(){var e;return i(this,function(t){switch(t.label){case 0:return r.gg.logger.log("\u67e5\u8be2\u6392\u4f4d\u8d5b\u89c4\u5219","\u5f00\u59cb"),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.GET,host:a.AppConfig.gameServerHttpHost+"/qualifying/get_rule"})];case 1:return e=t.sent(),r.gg.logger.log("\u67e5\u8be2\u6392\u4f4d\u8d5b\u89c4\u5219","\u7ed3\u679c",e),[2,e]}})})},e.prototype.getQualifyingLastSeasonAward=function(){return o(this,void 0,Promise,function(){var e;return i(this,function(t){switch(t.label){case 0:return r.gg.logger.log("\u67e5\u8be2\u6392\u4f4d\u8d5b\u89c4\u5219","\u5f00\u59cb"),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.GET,host:a.AppConfig.gameServerHttpHost+"/qualifying/get_last_season_award"})];case 1:return e=t.sent(),r.gg.logger.log("\u67e5\u8be2\u6392\u4f4d\u8d5b\u89c4\u5219","\u7ed3\u679c",e),[2,e]}})})},e.prototype.getNewVersionInfo=function(){return o(this,void 0,Promise,function(){var e;return i(this,function(t){switch(t.label){case 0:return r.gg.logger.log("\u83b7\u53d6\u8d5b\u5b63\u5956\u52b1\u6216\u7248\u672c\u5347\u7ea7\u5956\u52b1","\u5f00\u59cb"),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.GET,host:a.AppConfig.gameServerHttpHost+"/activity/get_new_version_info"})];case 1:return e=t.sent(),r.gg.logger.log("\u83b7\u53d6\u8d5b\u5b63\u5956\u52b1\u6216\u7248\u672c\u5347\u7ea7\u5956\u52b1","\u7ed3\u679c",e),[2,e]}})})},e.prototype.getNewVersionReward=function(){return o(this,void 0,Promise,function(){var e;return i(this,function(t){switch(t.label){case 0:return r.gg.logger.log("\u9886\u53d6\u8d5b\u5b63\u5956\u52b1\u6216\u7248\u672c\u5347\u7ea7\u5956\u52b1","\u5f00\u59cb"),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.GET,host:a.AppConfig.gameServerHttpHost+"/activity/get_new_version_award"})];case 1:return e=t.sent(),r.gg.logger.log("\u9886\u53d6\u8d5b\u5b63\u5956\u52b1\u6216\u7248\u672c\u5347\u7ea7\u5956\u52b1","\u7ed3\u679c",e),[2,e]}})})},e.prototype.getNewSignInList=function(){return o(this,void 0,Promise,function(){var e;return i(this,function(t){switch(t.label){case 0:return r.gg.logger.log("\u8bf7\u6c42\u65b0\u624b7\u5929\u7b7e\u5230\u5217\u8868","\u5f00\u59cb"),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.GET,host:a.AppConfig.gameServerHttpHost+"/sign/get_new_player_sign_in_list"})];case 1:return e=t.sent(),r.gg.logger.log("\u8bf7\u6c42\u65b0\u624b7\u5929\u7b7e\u5230\u5217\u8868","\u7ed3\u679c",e),1!==(null==e?void 0:e.status)&&r.gg.logger.error("\u8bf7\u6c42\u65b0\u624b7\u5929\u7b7e\u5230\u5217\u8868","\u5931\u8d25"),[2,e]}})})},e.prototype.getNewSignInAward=function(){return o(this,void 0,Promise,function(){var e;return i(this,function(t){switch(t.label){case 0:return r.gg.logger.log("\u9886\u53d6\u65b0\u624b7\u5929\u7b7e\u5230\u5956\u52b1","\u5f00\u59cb"),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.GET,host:a.AppConfig.gameServerHttpHost+"/sign/get_new_player_sign_in_award"})];case 1:return e=t.sent(),r.gg.logger.log("\u9886\u53d6\u65b0\u624b7\u5929\u7b7e\u5230\u5956\u52b1","\u7ed3\u679c",e),1!==(null==e?void 0:e.status)&&r.gg.logger.error("\u9886\u53d6\u65b0\u624b7\u5929\u7b7e\u5230\u5956\u52b1","\u5931\u8d25"),[2,e]}})})},e.prototype.getVipRechargeInfo=function(){return o(this,void 0,Promise,function(){var e;return i(this,function(t){switch(t.label){case 0:return r.gg.logger.log("\u83b7\u53d6vip\u5145\u503c\u6d3b\u52a8\u4fe1\u606f","\u5f00\u59cb"),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.GET,host:a.AppConfig.gameServerHttpHost+"/activity/get_vip_recharge_info"})];case 1:return e=t.sent(),r.gg.logger.log("\u83b7\u53d6vip\u5145\u503c\u6d3b\u52a8\u4fe1\u606f","\u7ed3\u679c",e),1!==(null==e?void 0:e.status)&&r.gg.logger.error("\u83b7\u53d6vip\u5145\u503c\u6d3b\u52a8\u4fe1\u606f","\u5931\u8d25"),[2,e]}})})},e.prototype.openSurprisePackage=function(){return o(this,void 0,Promise,function(){var e;return i(this,function(t){switch(t.label){case 0:return r.gg.logger.log("\u6253\u5f00/\u9886\u53d6vip\u60ca\u559c\u793c\u5305","\u5f00\u59cb"),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.GET,host:a.AppConfig.gameServerHttpHost+"/activity/award_surprise_package"})];case 1:return e=t.sent(),r.gg.logger.log("\u6253\u5f00/\u9886\u53d6vip\u60ca\u559c\u793c\u5305","\u7ed3\u679c",e),1!==(null==e?void 0:e.status)&&r.gg.logger.error("\u6253\u5f00/\u9886\u53d6vip\u60ca\u559c\u793c\u5305","\u5931\u8d25"),[2,e]}})})},e.prototype.receiveLevelUpBonus=function(e){return o(this,void 0,Promise,function(){var t;return i(this,function(n){switch(n.label){case 0:return r.gg.logger.log("\u9886\u53d6vip\u5347\u7ea7\u5956\u52b1","\u5f00\u59cb",e),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.GET,host:a.AppConfig.gameServerHttpHost+"/activity/award_level_up_bonus",body:e})];case 1:return t=n.sent(),r.gg.logger.log("\u9886\u53d6vip\u5347\u7ea7\u5956\u52b1","\u7ed3\u679c",t),1!==(null==t?void 0:t.status)&&r.gg.logger.error("\u9886\u53d6vip\u5347\u7ea7\u5956\u52b1","\u5931\u8d25"),[2,t]}})})},e.prototype.getVIPInfo=function(e){return o(this,void 0,Promise,function(){var t;return i(this,function(n){switch(n.label){case 0:return r.gg.logger.log("\u83b7\u53d6VIP\u4fe1\u606f","\u5f00\u59cb",e),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.GET,host:a.AppConfig.gameServerHttpHost+"/vip/get_info",body:e})];case 1:return t=n.sent(),r.gg.logger.log("\u83b7\u53d6VIP\u4fe1\u606f","\u7ed3\u679c",t),1!==(null==t?void 0:t.status)&&r.gg.logger.error("\u83b7\u53d6VIP\u4fe1\u606f","\u5931\u8d25"),[2,t]}})})},e.prototype.getChipInfo=function(){return o(this,void 0,Promise,function(){var e;return i(this,function(t){switch(t.label){case 0:return r.gg.logger.log("\u83b7\u53d6\u788e\u7247\u6d3b\u52a8\u6570\u636e"),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.GET,host:a.AppConfig.gameServerHttpHost+"/activity/get_chip_info"})];case 1:return e=t.sent(),r.gg.logger.log("\u83b7\u53d6\u788e\u7247\u6d3b\u52a8\u6570\u636e","\u7ed3\u679c",e),1!==(null==e?void 0:e.status)&&r.gg.logger.error("\u83b7\u53d6\u788e\u7247\u6d3b\u52a8\u6570\u636e","\u5931\u8d25"),[2,e]}})})},e.prototype.synthesisBox=function(){return o(this,void 0,Promise,function(){var e;return i(this,function(t){switch(t.label){case 0:return r.gg.logger.log("\u5408\u6210\u5b9d\u7bb1\u6570\u636e"),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.GET,host:a.AppConfig.gameServerHttpHost+"/activity/synthesis_box"})];case 1:return e=t.sent(),r.gg.logger.log("\u5408\u6210\u5b9d\u7bb1\u6570\u636e","\u7ed3\u679c",e),1!==(null==e?void 0:e.status)&&r.gg.logger.error("\u5408\u6210\u5b9d\u7bb1\u6570\u636e","\u5931\u8d25"),[2,e]}})})},e.prototype.receiveBox=function(){return o(this,void 0,Promise,function(){var e;return i(this,function(t){switch(t.label){case 0:return r.gg.logger.log("\u83b7\u53d6\u788e\u7247\u6d3b\u52a8\u6570\u636e"),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.GET,host:a.AppConfig.gameServerHttpHost+"/activity/receive_box"})];case 1:return e=t.sent(),r.gg.logger.log("\u83b7\u53d6\u788e\u7247\u6d3b\u52a8\u6570\u636e","\u7ed3\u679c",e),1!==(null==e?void 0:e.status)&&r.gg.logger.error("\u83b7\u53d6\u788e\u7247\u6d3b\u52a8\u6570\u636e","\u5931\u8d25"),[2,e]}})})},e.prototype.getTransferDoublePrizeInfo=function(){return o(this,void 0,Promise,function(){var e;return i(this,function(t){switch(t.label){case 0:return r.gg.logger.log("\u83b7\u53d6\u8f6c\u8d26\u53cc\u500d\u6d3b\u52a8\u6570\u636e:\u5f00\u59cb"),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.GET,host:a.AppConfig.gameServerHttpHost+"/activity/get_transfer_double_prize_info"})];case 1:return e=t.sent(),r.gg.logger.log("\u83b7\u53d6\u8f6c\u8d26\u53cc\u500d\u6d3b\u52a8\u6570\u636e","\u7ed3\u679c",e),1!==(null==e?void 0:e.status)&&r.gg.logger.error("\u83b7\u53d6\u8f6c\u8d26\u53cc\u500d\u6d3b\u52a8\u6570\u636e","\u5931\u8d25"),[2,e]}})})},e.prototype.awardTransferDoublePrize=function(){return o(this,void 0,Promise,function(){var e;return i(this,function(t){switch(t.label){case 0:return r.gg.logger.log("\u9886\u53d6\u8f6c\u8d26\u53cc\u500d\u6d3b\u52a8\u5956\u52b1:\u5f00\u59cb"),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.GET,host:a.AppConfig.gameServerHttpHost+"/activity/award_transfer_double_prize"})];case 1:return e=t.sent(),r.gg.logger.log("\u9886\u53d6\u8f6c\u8d26\u53cc\u500d\u6d3b\u52a8\u5956\u52b1","\u7ed3\u679c",e),1!==(null==e?void 0:e.status)&&r.gg.logger.error("\u9886\u53d6\u8f6c\u8d26\u53cc\u500d\u6d3b\u52a8\u5956\u52b1","\u5931\u8d25"),[2,e]}})})},e.prototype.postUploadHeadIcon=function(e){return o(this,void 0,Promise,function(){var t;return i(this,function(n){switch(n.label){case 0:return r.gg.logger.log("\u4e0a\u4f20\u5934\u50cf","\u5f00\u59cb",e),[4,this.postPlayerUploadHeadIcon({icon_base64:e})];case 1:return t=n.sent(),r.gg.logger.log("\u4e0a\u4f20\u5934\u50cf","\u7ed3\u679c",e),[2,t]}})})},e}();n.gameApi=new u,cc._RF.pop()},{"../../../configs/AppConfig":"AppConfig","../../../framework/gg":"gg","../../../framework/http/HttpInterface":"HttpInterface","../core/GameCenterCryptoV1":"GameCenterCryptoV1","../core/GameCenterHttpRequestV3":"GameCenterHttpRequestV3"}],GameAudioContro10100:[function(e,t,n){"use strict";cc._RF.push(t,"796643UNDpGjJt7AeJxk/jY","GameAudioContro10100");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameAudioContro10100=void 0;var i=e("../../halls/halllib/laya/Laya"),a=i.Laya.regClass,r=(i.Laya.property,function(){function e(){this.isPlaySound=!0,this.isPlayMusic=!0}var t;return t=e,Object.defineProperty(e,"Instance",{get:function(){return null==t.instance&&(t.instance=new t),t.instance},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"IsPlaySound",{get:function(){return this.isPlaySound},set:function(e){this.isPlaySound=e,this.isPlaySound||i.Laya.SoundManager.stopAllSound()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"IsPlayMusic",{get:function(){return this.isPlayMusic},set:function(e){this.isPlayMusic=e,this.isPlayMusic||i.Laya.SoundManager.stopMusic()},enumerable:!1,configurable:!0}),e.prototype.PlaySound=function(e,t){this.IsPlaySound&&i.Laya.SoundManager.playSound(e,t)},e.prototype.PlayMusic=function(e,t){this.IsPlayMusic&&i.Laya.SoundManager.playMusic(e,t)},e.prototype.PlaySoundById=function(e,n){void 0===n&&(n=1),t.AudioRes[e]&&this.PlaySound(t.AudioRes[e],n)},e.prototype.PlayMusicById=function(e,n){t.AudioRes[e]&&this.PlayMusic(t.AudioRes[e],n)},e.prototype.StopSound=function(e){t.AudioRes[e]&&i.Laya.SoundManager.stopSound(t.AudioRes[e])},e.AudioRes=["resources/games/game10100/sound/Tongit_bg.mp3","resources/games/game10100/sound/Tongit_win_bg.wav","resources/games/game10100/sound/Tongit_fail_bg.wav","resources/games/game10100/sound/Tongit_btn_click.wav","resources/games/game10100/sound/Tongit_btn_return.wav","resources/games/game10100/sound/Tongit_card_cha.wav","resources/games/game10100/sound/Tongit_card_eat.wav","resources/games/game10100/sound/Tongit_card_swipe.wav","resources/games/game10100/sound/Tongit_chip_call.wav","resources/games/game10100/sound/Tongit_fight.wav","resources/games/game10100/sound/Tongit_fold.wav","resources/games/game10100/sound/Tongit_myturn.wav","resources/games/game10100/sound/Tongit_shuffle_card.wav","resources/games/game10100/sound/Tongit_time_out_clock.wav","resources/games/game10100/sound/Tongit_win_pot_cup.wav","resources/games/game10100/sound/Tongit_challenge.wav"],t=o([a()],e)}());n.GameAudioContro10100=r,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya"}],GameBankerList34400:[function(e,t,n){"use strict";cc._RF.push(t,"69671lmemVMu5QcDx1hZlML","GameBankerList34400");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.GameBankerList34400=n.BankerInfo=void 0;var s=r(e("../../halls/hall/BaseRoom")),l=e("../../halls/halllib/common/ConfigMng"),c=e("../../halls/halllib/core/RunData"),u=e("../../halls/halllib/laya/Laya"),p=u.Laya.regClass,h=u.Laya.property,d=function(e,t,n,o,i,a,r){this.DeskID=e,this.UserName=t,this.CarryMoney=n,this.HeadID=o,this.IsBanker=i,this.WinOrLose=a,this.UpBankerNum=r};n.BankerInfo=d;var f=function(e){function t(){var t=e.call(this)||this;return t.NeedMoneyLabel=null,t.CarryoverMoney=null,t.UpBankerHSlider=null,t.AutoPatchingToggle=null,t.UpBankerBtn=null,t.QuitBankerBtn=null,t.BankerList=null,t.CloseBtn=null,t.maxUpBankerCount=0,t.bankerListData=[],t.nowBankerInfo=null,t}return i(t,e),t.prototype.InitBankerData=function(e){this.nowBankerInfo=e.BankerInfo,this.bankerListData=[],this.BankerList.array=[],this.NeedMoneyLabel.text=c.GameTool.formatMoneyString(e.iNtLeastMoney),this.maxUpBankerCount=e.NtMaxGames},t.prototype.OnOpenBankerPanel=function(){this.UpBankerBtn.visible=this.nowBankerInfo.iNtStation!=s.default.myUserRoomInfo.pUserInfoStruct.bDeskStation,this.QuitBankerBtn.visible=this.nowBankerInfo.iNtStation==s.default.myUserRoomInfo.pUserInfoStruct.bDeskStation,this.CarryoverMoney.text=c.GameTool.formatMoneyString(c.RunData.myUserInfo.dwMoney)},t.prototype.InitBankerList=function(e){for(var t=0;t<e.UserInfo.length;t++)for(var n=0;n<s.default.userList.length;n++){var o=s.default.userList[n];if(o.bDeskStation==e.UserInfo[t].bDeskStation){var i=0,a=0;o.bDeskStation==this.nowBankerInfo.iNtStation&&(i=this.nowBankerInfo.iNtTotalWinMoney,a=this.nowBankerInfo.iNtGames),this.bankerListData.push(new d(o.bDeskStation,o.nickName,e.UserInfo[t].UserCurMoney,o.bLogoID,o.bDeskStation==this.nowBankerInfo.iNtStation,i,a));break}}this.RefreshBankerList()},t.prototype.UpdateBankerInfo=function(e){this.nowBankerInfo=e;for(var t=0;t<s.default.userList.length;t++){var n=s.default.userList[t];if(n.bDeskStation==this.nowBankerInfo.iNtStation){this.bankerListData.push(new d(n.bDeskStation,n.nickName,this.nowBankerInfo.iTotalIntoMoney,n.bLogoID,!0,this.nowBankerInfo.iNtTotalWinMoney,this.nowBankerInfo.iNtGames));break}}},t.prototype.UpBankerResponse=function(){},t.prototype.UnderBankerResponse=function(e){for(var t=0;t<this.bankerListData.length;t++)if(this.bankerListData[t].DeskID==e){this.bankerListData.splice(t);break}},t.prototype.RefreshBankerList=function(){for(var e=0;e<this.bankerListData.length;e++){var t=this.bankerListData[e].HeadID,n="",o="",i="",a="",r=0,s="",u="",p="",h="",d="",f="",g=0,m=0,y="",_="";this.bankerListData[e].IsBanker?(r=26,n="resources/games/game34400/res/Image/Game/Icon_SZLB_Sign_Zhuang.png",o="resources/games/game34400/res/Image/Game/Txt_Game_SZLB_SZZ.png",a=c.GameTool.formatMoneyString(this.nowBankerInfo.iNtTotalWinMoney),s="Current win/loss:",u=c.GameTool.formatMoneyString(this.bankerListData[e].WinOrLose),p="Betinning:",h=this.bankerListData[e].UpBankerNum.toString(),d="After bet",f=(this.maxUpBankerCount-this.bankerListData[e].UpBankerNum).toString(),g=62,m=55,y="#da8b02",_="resources/games/game34400/res/Image/Game/Gold.png"):(r=42,i=(e+1).toString(),g=42,m=36,y="#9d9d9d"),this.BankerList.addItem({Bg:{skin:"resources/games/game34400/res/Image/Game/Icon_SZLB_box_2.png"},BankerImg:{skin:n},Bankering:{skin:o},Head:{skin:l.ConfigMng.hallconfigJson.face.facelist[t]},Name:{text:this.bankerListData[e].UserName,y:r},Rank:{text:i},WinOrLoss:{text:s},Gold:{skin:_},WinOrLoseMoney:{text:u},BankerWin:{text:a},Betinning:{text:p},BetNum:{text:h},AfterNum:{text:f},AfterBet:{text:d},TotalBringIn:{y:g,color:y},Gold2:{skin:"resources/games/game34400/res/Image/Game/Gold.png",y:m},TotalMoney:{text:c.GameTool.formatMoneyString(this.bankerListData[e].CarryMoney),y:g}}),this.BankerList.repeatY=this.BankerList.length}},a([h({type:u.Laya.Label})],t.prototype,"NeedMoneyLabel",void 0),a([h({type:u.Laya.Label})],t.prototype,"CarryoverMoney",void 0),a([h({type:u.Laya.HSlider})],t.prototype,"UpBankerHSlider",void 0),a([h({type:u.Laya.CheckBox})],t.prototype,"AutoPatchingToggle",void 0),a([h({type:u.Laya.Button})],t.prototype,"UpBankerBtn",void 0),a([h({type:u.Laya.Button})],t.prototype,"QuitBankerBtn",void 0),a([h({type:u.Laya.List})],t.prototype,"BankerList",void 0),a([h({type:u.Laya.Button})],t.prototype,"CloseBtn",void 0),a([p()],t)}(u.Laya.Script);n.GameBankerList34400=f,cc._RF.pop()},{"../../halls/hall/BaseRoom":"BaseRoom","../../halls/halllib/common/ConfigMng":"ConfigMng","../../halls/halllib/core/RunData":"RunData","../../halls/halllib/laya/Laya":"Laya"}],GameBasePanel10100:[function(e,t,n){"use strict";cc._RF.push(t,"726b5h7ID1Pfpy4LZGFHGgE","GameBasePanel10100");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameBasePanel10100=void 0;var r=e("../../halls/halllib/laya/Laya"),s=r.Laya.regClass,l=(r.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.playTime=200,t}return i(t,e),t.prototype.onAwake=function(){this.IsShow=!1,this.PanelObj=this.owner},t.prototype.onUpdate=function(){this.IsPlaying&&(this.showTimes+=r.Laya.timer.delta,this.showTimes>=this.playTime?(this.IsPlaying=!1,this.scales=this.IsShow?1:0,this.PanelObj.visible=this.IsShow):this.scales=this.IsShow?this.showTimes/this.playTime:1-this.showTimes/this.playTime,this.PanelObj.scale(this.scales,this.scales,!0))},t.prototype.Show=function(){this.IsPlaying||this.IsShow||(this.IsShow=!0,this.scales=0,this.onPlayPanel())},t.prototype.Hide=function(){!this.IsPlaying&&this.IsShow&&(this.IsShow=!1,this.scales=1,this.onPlayPanel())},t.prototype.onPlayPanel=function(){this.IsPlaying=!0,this.showTimes=0,this.PanelObj.scale(this.scales,this.scales,!0),this.PanelObj.visible=!0},a([s()],t)}(r.Laya.Script));n.GameBasePanel10100=l,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya"}],GameBasePanel30200:[function(e,t,n){"use strict";cc._RF.push(t,"bf567bF3gRIDpT/Cpknsdkw","GameBasePanel30200");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameBasePanel30200=void 0;var r=e("../../halls/halllib/laya/Laya"),s=r.Laya.regClass,l=(r.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.playTime=200,t}return i(t,e),t.prototype.onAwake=function(){this.IsShow=!1,this.PanelObj=this.owner},t.prototype.onUpdate=function(){this.IsPlaying&&(this.showTimes+=r.Laya.timer.delta,this.showTimes>=this.playTime?(this.IsPlaying=!1,this.scales=this.IsShow?1:0,this.PanelObj.visible=this.IsShow):this.scales=this.IsShow?this.showTimes/this.playTime:1-this.showTimes/this.playTime,this.PanelObj.scale(this.scales,this.scales,!0))},t.prototype.Show=function(){this.IsPlaying||this.IsShow||(this.IsShow=!0,this.scales=0,this.onPlayPanel())},t.prototype.Hide=function(){!this.IsPlaying&&this.IsShow&&(this.IsShow=!1,this.scales=1,this.onPlayPanel())},t.prototype.onPlayPanel=function(){this.IsPlaying=!0,this.showTimes=0,this.PanelObj.scale(this.scales,this.scales,!0),this.PanelObj.visible=!0},a([s()],t)}(r.Laya.Script));n.GameBasePanel30200=l,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya"}],GameBasePanel30300:[function(e,t,n){"use strict";cc._RF.push(t,"ebac03qrudNlrtGJkPBGw1r","GameBasePanel30300");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameBasePanel30300=void 0;var r=e("../../halls/halllib/laya/Laya"),s=r.Laya.regClass,l=(r.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.playTime=200,t}return i(t,e),t.prototype.onAwake=function(){this.IsShow=!1,this.PanelObj=this.owner},t.prototype.onUpdate=function(){this.IsPlaying&&(this.showTimes+=r.Laya.timer.delta,this.showTimes>=this.playTime?(this.IsPlaying=!1,this.scales=this.IsShow?1:0,this.PanelObj.visible=this.IsShow):this.scales=this.IsShow?this.showTimes/this.playTime:1-this.showTimes/this.playTime,this.PanelObj.scale(this.scales,this.scales,!0))},t.prototype.Show=function(){this.IsPlaying||this.IsShow||(this.IsShow=!0,this.scales=0,this.onPlayPanel())},t.prototype.Hide=function(){!this.IsPlaying&&this.IsShow&&(this.IsShow=!1,this.scales=1,this.onPlayPanel())},t.prototype.onPlayPanel=function(){this.IsPlaying=!0,this.showTimes=0,this.PanelObj.scale(this.scales,this.scales,!0),this.PanelObj.visible=!0},a([s()],t)}(r.Laya.Script));n.GameBasePanel30300=l,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya"}],GameBasePanel30700:[function(e,t,n){"use strict";cc._RF.push(t,"6deb4dMNXhCy4n4ZwJ/N0Zt","GameBasePanel30700");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameBasePanel30700=void 0;var r=e("../../halls/halllib/laya/Laya"),s=r.Laya.regClass,l=(r.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.playTime=200,t}return i(t,e),t.prototype.onAwake=function(){this.IsShow=!1,this.PanelObj=this.owner},t.prototype.onUpdate=function(){this.IsPlaying&&(this.showTimes+=r.Laya.timer.delta,this.showTimes>=this.playTime?(this.IsPlaying=!1,this.scales=this.IsShow?1:0,this.PanelObj.visible=this.IsShow):this.scales=this.IsShow?this.showTimes/this.playTime:1-this.showTimes/this.playTime,this.PanelObj.scale(this.scales,this.scales,!0))},t.prototype.Show=function(){this.IsPlaying||this.IsShow||(this.IsShow=!0,this.scales=0,this.onPlayPanel())},t.prototype.Hide=function(){!this.IsPlaying&&this.IsShow&&(this.IsShow=!1,this.scales=1,this.onPlayPanel())},t.prototype.onPlayPanel=function(){this.IsPlaying=!0,this.showTimes=0,this.PanelObj.scale(this.scales,this.scales,!0),this.PanelObj.visible=!0},a([s()],t)}(r.Laya.Script));n.GameBasePanel30700=l,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya"}],GameBasePanel34800:[function(e,t,n){"use strict";cc._RF.push(t,"0569aj/q7pG+Ky6BIRUanyp","GameBasePanel34800");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameBasePanel34800=void 0;var r=e("../../halls/halllib/laya/Laya"),s=r.Laya.regClass,l=(r.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.playTime=200,t}return i(t,e),t.prototype.onAwake=function(){this.IsShow=!1,this.PanelObj=this.owner},t.prototype.onUpdate=function(){this.IsPlaying&&(this.showTimes+=r.Laya.timer.delta,this.showTimes>=this.playTime?(this.IsPlaying=!1,this.scales=this.IsShow?1:0,this.PanelObj.visible=this.IsShow):this.scales=this.IsShow?this.showTimes/this.playTime:1-this.showTimes/this.playTime,this.PanelObj.scale(this.scales,this.scales,!0))},t.prototype.Show=function(){this.IsPlaying||this.IsShow||(this.IsShow=!0,this.scales=0,this.onPlayPanel())},t.prototype.Hide=function(){!this.IsPlaying&&this.IsShow&&(this.IsShow=!1,this.scales=1,this.onPlayPanel())},t.prototype.onPlayPanel=function(){this.IsPlaying=!0,this.showTimes=0,this.PanelObj.scale(this.scales,this.scales,!0),this.PanelObj.visible=!0},a([s()],t)}(r.Laya.Script));n.GameBasePanel34800=l,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya"}],GameBetAreaInfo34400:[function(e,t,n){"use strict";cc._RF.push(t,"45c42Z3QJJMyJCi7zelzEoZ","GameBetAreaInfo34400");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameBetAreaInfo34400=void 0;var r=e("../../halls/halllib/core/RunData"),s=e("../../halls/halllib/laya/Laya"),l=s.Laya.regClass,c=(s.Laya.property,function(e){function t(t){var n=e.call(this)||this;return n.isPlayEffect=!1,n.areaNode=t,n.Init(),n}return i(t,e),t.prototype.Init=function(){this.selfNode=this.areaNode.getChildByName("SelfBg"),this.selfBetLabel=this.selfNode.getChildByName("SelfBetNum"),this.totalBetNode=this.areaNode.getChildByName("TotalBetBg"),this.totalBetLabel=this.totalBetNode.getChildByName("TotalBetLabel"),this.lightEffet=this.areaNode.getChildByName("Light"),this.selfBetTotalMoney=0,this.totalBetMoney=0},t.prototype.RefreshSelfBetMoney=function(e,t){void 0===t&&(t=!0),0==this.selfNode.visible&&(this.selfNode.visible=!0),t&&this.RefreshTotalBetMoney(e),this.selfBetTotalMoney+=e,this.selfBetLabel.text=r.GameTool.formatMoneyString(this.selfBetTotalMoney)},t.prototype.RefreshTotalBetMoney=function(e){0==this.totalBetNode.visible&&(this.totalBetNode.visible=!0),this.totalBetMoney+=e,this.totalBetLabel.text=r.GameTool.formatMoneyString(this.totalBetMoney)},t.prototype.Lottery=function(){this.isPlayEffect=!0,this.lightEffet.visible=!0,this.PlayerAreaEffect()},t.prototype.PlayerAreaEffect=function(){var e=this;0!=this.isPlayEffect&&(1==this.lightEffet.alpha?s.Laya.Tween.to(this.lightEffet,{alpha:.2},500,s.Laya.Ease.linearIn,s.Laya.Handler.create(this,function(){e.lightEffet.alpha=.2,e.PlayerAreaEffect()})):s.Laya.Tween.to(this.lightEffet,{alpha:1},500,s.Laya.Ease.linearIn,s.Laya.Handler.create(this,function(){e.lightEffet.alpha=1,e.PlayerAreaEffect()})))},t.prototype.GetPosition=function(){return new s.Laya.Point(this.areaNode.x,this.areaNode.y)},t.prototype.Reset=function(){this.lightEffet.visible=!1,this.selfNode.visible=!1,this.selfBetLabel.text="",this.totalBetNode.visible=!1,this.totalBetLabel.text="",this.selfBetTotalMoney=0,this.totalBetMoney=0,this.isPlayEffect=!1},a([l()],t)}(s.Laya.Node));n.GameBetAreaInfo34400=c,cc._RF.pop()},{"../../halls/halllib/core/RunData":"RunData","../../halls/halllib/laya/Laya":"Laya"}],GameBetPanel30200:[function(e,t,n){"use strict";cc._RF.push(t,"cadf3x+pGNNFb19HR532v2e","GameBetPanel30200");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.GameBetPanel30200=void 0;var s=e("../../halls/halllib/laya/Laya"),l=e("./GameBasePanel30200"),c=e("./GameMsgProxy30200"),u=s.Laya.Handler,p=e("./GameData30200"),h=e("../../halls/halllib/core/RunData"),d=e("../../halls/halllib/net/InnerEvent"),f=r(e("../../halls/hall/Tips")),g=s.Laya.regClass,m=(s.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.ChipIndex=0,t.myTotalNote=0,t}var n;return i(t,e),n=t,t.prototype.onAwake=function(){var t=this;e.prototype.onAwake.call(this),p.GameData30200.MyMoney=h.RunData.myUserInfo.dwMoney,n.Instance=this,this.LabelAllBet=this.owner.getChildByName("LabelAllBet"),this.LabelWallet=this.owner.getChildByName("LabelWallet");var o=this.owner.getChildByName("BoxBtnSelet");this.ButtonXuya=o.getChildByName("ButtonXuya"),this.ButtonCancel=o.getChildByName("ButtonCancel"),this.CheckBoxAuto=o.getChildByName("CheckBoxAuto"),this.ButtonCLose=this.owner.getChildByName("ButtonCLose");var i=this.owner.getChildByName("BoxBetView");this.BetItemArray=[];for(var a=0;a<15;a++)this.BetItemArray[a]=new y(i.getChildAt(a),a);var r=this.owner.getChildByName("BoxChouMa");this.SelectRay=r.getChildByName("SelectRay"),this.ChouMaArray=[];var l=function(e){var n=e;d.ChouMaArray[e]=r.getChildAt(e),d.ChouMaArray[e].on(s.Laya.Event.CLICK,function(){t.ChipIndex=n,t.SelectRay.x=t.ChouMaArray[n].x,t.SelectRay.y=t.ChouMaArray[n].y})},d=this;for(a=0;a<6;a++)l(a);this.LabelWallet.text=h.GameTool.formatMoneyString(p.GameData30200.MyMoney),c.GameMsgProxy30200.Instance.GameChangeNoteHandler=new u(this,this.gamePlayerNote),c.GameMsgProxy30200.Instance.GameStatisticsHandler=new u(this,this.gameStatistics),this.ButtonXuya.on(s.Laya.Event.CLICK,this,this.onButtonXuya),this.ButtonCancel.on(s.Laya.Event.CLICK,this,this.onButtonCancel),this.ButtonCLose.on(s.Laya.Event.CLICK,this,this.Hide)},t.prototype.InitData=function(e,t,n,o){this.myTotalNote=0;for(var i=0;i<this.BetItemArray.length;i++)this.BetItemArray[i].Base=t[i],this.BetItemArray[i].AllBet=null!=n?n[i]:0,this.BetItemArray[i].MyBet=null!=o?o[i]:0,this.myTotalNote+=null!=o?o[i]:0;for(i=0;i<this.ChouMaArray.length;i++)this.ChouMaArray[i].text.text=h.GameTool.formatMoneyString(e[i]);this.MChips=e,this.ChipIndex=0,this.LabelAllBet.text=h.GameTool.formatMoneyString(this.myTotalNote),this.FlashMyMoney()},t.prototype.ReSetStartBet=function(){this.myTotalNote=0,this.LabelAllBet.text=h.GameTool.formatMoneyString(this.myTotalNote),this.FlashMyMoney(),this.PreviousBets=[];for(var e=0;e<this.BetItemArray.length;e++)this.PreviousBets[e]=this.BetItemArray[e].MyBet,this.BetItemArray[e].AllBet=0,this.BetItemArray[e].MyBet=0,this.BetItemArray[e].Base=p.GameData30200.Prizemultiple[e];this.CheckBoxAuto.selected&&this.onButtonXuya()},t.prototype.FlashMyMoney=function(){this.LabelWallet.text=h.GameTool.formatMoneyString(p.GameData30200.MyMoney-this.myTotalNote)},t.prototype.onButtonXuya=function(){var e=0;if(this.PreviousBets)for(var t=0;t<this.PreviousBets.length;t++)e+=this.PreviousBets[t];e>0?(console.log("========>>>mytotalBets: ",e),c.GameMsgProxy30200.Instance.SendContinueNoteBet(this.PreviousBets)):f.default.SetText("The last game did not bet, can not continue to press!")},t.prototype.onButtonCancel=function(){c.GameMsgProxy30200.Instance.SendCancelNoteBet()},t.prototype.gamePlayerNote=function(e){if(c.GameMsgProxy30200.Instance.bDeskStation==e.nDeskStation)if(0==e.nResult){if(e.nType>=0)this.BetItemArray[e.nType].MyBet+=e.nUserCurMoney,this.myTotalNote+=e.nUserCurMoney;else{this.myTotalNote=0;for(var t=0;t<this.BetItemArray.length;t++)this.BetItemArray[t].MyBet=e.MyBet[t],this.myTotalNote+=e.MyBet[t]}this.LabelAllBet.text=h.GameTool.formatMoneyString(this.myTotalNote),this.FlashMyMoney()}else 1==e.nResult?f.default.SetText("Failed bet, not enough game coins!"):2==e.nResult&&f.default.SetText("Failed bet and exceeded the game limit!");if(e.nType>=0)this.BetItemArray[e.nType].AllBet+=e.nUserCurMoney;else for(t=0;t<this.BetItemArray.length;t++)this.BetItemArray[t].AllBet=e.TotalBet[t]},t.prototype.SetOpenPrizes=function(e){if(this.myTotalNote=0,y.mTotalGames++,y.mTotalGames>100){for(var t=0;t<this.BetItemArray.length;t++)(n=this.BetItemArray[t]).Pers=0;y.mTotalGames=1}for(e>=0&&(n=this.BetItemArray[e])&&n.Pers++,t=0;t<12;t++){var n;(n=this.BetItemArray[t]).Pers=n.Pers}},t.prototype.gameStatistics=function(e){y.mTotalGames=e.m_CurGameCount;for(var t=0;t<e.m_PrizesCount.length;t++)this.BetItemArray[t].Pers=e.m_PrizesCount[t]},n=a([g()],t)}(l.GameBasePanel30200));n.GameBetPanel30200=m;var y=function(){function e(e,t){this.allbet=0,this.mybet=0,this.winNum=0,this.mainObj=e,this.Betid=t,this.LabelMe=e.getChildByName("LabelMe"),this.LabelAll=e.getChildByName("LabelAll"),this.LabelPer=e.getChildByName("LabelPer"),this.LabelBase=e.getChildByName("LabelBase"),this.mainObj.on(s.Laya.Event.CLICK,this,this.onButtonBet)}return e.prototype.onButtonBet=function(){p.GameData30200.MyMoney-m.Instance.myTotalNote>=m.Instance.MChips[m.Instance.ChipIndex]?c.GameMsgProxy30200.Instance.SendNoteBet(this.Betid,m.Instance.MChips[m.Instance.ChipIndex]):d.HallEvent.event(d.HallEvent.SHOW_RECHARGE_TIP)},Object.defineProperty(e.prototype,"AllBet",{get:function(){return this.allbet},set:function(e){this.allbet=e,this.LabelAll.text=h.GameTool.formatMoneyString(this.allbet)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"MyBet",{get:function(){return this.mybet},set:function(e){this.mybet=e,this.LabelMe.text=h.GameTool.formatMoneyString(this.mybet)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Base",{set:function(e){this.LabelBase.text=e.toString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Pers",{get:function(){return this.winNum},set:function(t){this.winNum=t,e.mTotalGames>0&&t>0?this.LabelPer.text=Math.round(100*t/e.mTotalGames)+"%":this.LabelPer.text="0%"},enumerable:!1,configurable:!0}),e.mTotalGames=0,e}();cc._RF.pop()},{"../../halls/hall/Tips":"Tips","../../halls/halllib/core/RunData":"RunData","../../halls/halllib/laya/Laya":"Laya","../../halls/halllib/net/InnerEvent":"InnerEvent","./GameBasePanel30200":"GameBasePanel30200","./GameData30200":"GameData30200","./GameMsgProxy30200":"GameMsgProxy30200"}],GameBetPanel30300:[function(e,t,n){"use strict";cc._RF.push(t,"080a5rawMJItrO2j79EolcO","GameBetPanel30300");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.GameBetPanel30300=void 0;var s=e("./GameBasePanel30300"),l=e("./GameMsgProxy30300"),c=e("../../halls/halllib/laya/Laya"),u=c.Laya.Handler,p=e("./GameData30300"),h=e("../../halls/halllib/core/RunData"),d=e("../../halls/halllib/net/InnerEvent"),f=r(e("../../halls/hall/Tips")),g=c.Laya.regClass,m=(c.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.ChipIndex=0,t.myTotalNote=0,t.betorder=[1,4,7,0,5,6,2,11,8,3,10,9],t}var n;return i(t,e),n=t,t.prototype.onAwake=function(){var t=this;e.prototype.onAwake.call(this),p.GameData30300.MyMoney=h.RunData.myUserInfo.dwMoney,n.Instance=this,this.LabelAllBet=this.owner.getChildByName("LabelAllBet"),this.LabelWallet=this.owner.getChildByName("LabelWallet");var o=this.owner.getChildByName("BoxBtnSelet");this.ButtonXuya=o.getChildByName("ButtonXuya"),this.ButtonCancel=o.getChildByName("ButtonCancel"),this.CheckBoxAuto=o.getChildByName("CheckBoxAuto");var i=this.owner.getChildByName("BoxBetView");this.BetItemArray=[];for(var a=0;a<this.betorder.length;a++)this.BetItemArray[this.betorder[a]]=new y(i.getChildAt(a),this.betorder[a]);var r=this.owner.getChildByName("BoxChouMa");this.SelectRay=r.getChildByName("SelectRay"),this.ChouMaArray=[];var s=function(e){var n=e;d.ChouMaArray[e]=r.getChildAt(e),d.ChouMaArray[e].on(c.Laya.Event.CLICK,function(){t.ChipIndex=n,t.SelectRay.x=t.ChouMaArray[n].x,t.SelectRay.y=t.ChouMaArray[n].y})},d=this;for(a=0;a<6;a++)s(a);this.LabelWallet.text=h.GameTool.formatMoneyString(p.GameData30300.MyMoney),l.GameMsgProxy30300.Instance.GameNoteHandler=new u(this,this.gamePlayerNote),l.GameMsgProxy30300.Instance.GameContinueNoteHandler=new u(this,this.gameContinueNote),l.GameMsgProxy30300.Instance.GameCancelNoteHandler=new u(this,this.gameCancelNote),l.GameMsgProxy30300.Instance.GameStatisticsHandler=new u(this,this.gameStatistics),this.ButtonXuya.on(c.Laya.Event.CLICK,this,this.onButtonXuya),this.ButtonCancel.on(c.Laya.Event.CLICK,this,this.onButtonCancel)},t.prototype.InitData=function(e,t,n,o,i){for(var a=0;a<this.BetItemArray.length;a++)this.BetItemArray[a].Base=t[a],this.BetItemArray[a].AllBet=null!=n?n[a]:0,this.BetItemArray[a].MyBet=null!=o?o[a]:0;for(a=0;a<this.ChouMaArray.length;a++)this.ChouMaArray[a].text.text=h.GameTool.formatMoneyString(e[a]);this.myTotalNote=i,this.MChips=e,this.ChipIndex=0,this.LabelAllBet.text=h.GameTool.formatMoneyString(this.myTotalNote),this.FlashMyMoney()},t.prototype.ReSetStartBet=function(){this.myTotalNote=0,this.LabelAllBet.text=h.GameTool.formatMoneyString(this.myTotalNote),this.FlashMyMoney();for(var e=0;e<this.BetItemArray.length;e++)this.BetItemArray[e].AllBet=0,this.BetItemArray[e].MyBet=0;this.CheckBoxAuto.selected&&this.onButtonXuya()},t.prototype.FlashMyMoney=function(){this.LabelWallet.text=h.GameTool.formatMoneyString(p.GameData30300.MyMoney-this.myTotalNote)},t.prototype.onButtonXuya=function(){l.GameMsgProxy30300.Instance.SendContinueNoteBet()},t.prototype.onButtonCancel=function(){l.GameMsgProxy30300.Instance.SendCancelNoteBet()},t.prototype.gamePlayerNote=function(e){var t=this.BetItemArray[e.AreaIndex];t.AllBet+=e.NoteMoney,l.GameMsgProxy30300.Instance.bDeskStation==e.nDeskStation&&(t.MyBet+=e.NoteMoney,this.myTotalNote+=e.NoteMoney,this.LabelAllBet.text=h.GameTool.formatMoneyString(this.myTotalNote),this.FlashMyMoney())},t.prototype.gameContinueNote=function(e){if(0==e.cbErrorMask){for(var t=0;t<this.BetItemArray.length;t++){var n=this.BetItemArray[t];n.AllBet+=e.AreaNoteMoney[t],l.GameMsgProxy30300.Instance.bDeskStation==e.nDeskStation&&(n.MyBet+=e.AreaNoteMoney[t],this.myTotalNote+=e.AreaNoteMoney[t])}this.LabelAllBet.text=h.GameTool.formatMoneyString(this.myTotalNote),this.FlashMyMoney()}else if(l.GameMsgProxy30300.Instance.bDeskStation==e.nDeskStation){switch(e.cbErrorMask){case 1:f.default.SetText("Tidak pada waktu bertaruh!\n Tidak boleh bertaruh!");break;case 2:f.default.SetText("Anda telah memasang taruhan,\n dan Anda tidak dapat melanjutkan!");break;case 3:f.default.SetText("Taruhan gagal, koin game tidak cukup!");break;case 4:f.default.SetText("Indeks chip Anda salah. Tidak dapat diperbarui.");break;case 5:f.default.SetText("Permainan terakhir tidak dipertaruhkan,\n tidak dapat melanjutkan tekanan!")}this.CheckBoxAuto.selected=!1}},t.prototype.gameCancelNote=function(e){for(var t=0;t<this.BetItemArray.length;t++){var n=this.BetItemArray[t];n.AllBet+=e.NoteMoney[t],l.GameMsgProxy30300.Instance.bDeskStation==e.nDeskStation&&(n.MyBet+=e.NoteMoney[t],this.myTotalNote+=e.NoteMoney[t]),this.FlashMyMoney()}this.LabelAllBet.text=h.GameTool.formatMoneyString(this.myTotalNote)},t.prototype.SetOpenPrizes=function(e){if(this.myTotalNote=0,y.mTotalGames++,y.mTotalGames>100){for(var t=0;t<this.BetItemArray.length;t++)(i=this.BetItemArray[t]).Pers=0;y.mTotalGames=1}for(t=0;t<e.length;t++){var n=e[t];if(n>=0){var o=p.GameData30300.viewIndex[n];(i=this.BetItemArray[o])&&i.Pers++,n>=8?this.BetItemArray[3].Pers++:n>=4&&n<=7&&this.BetItemArray[0].Pers++}}for(t=0;t<this.BetItemArray.length;t++){var i;(i=this.BetItemArray[t]).Pers=i.Pers}},t.prototype.gameStatistics=function(e){y.mTotalGames=e.mTotalGames;for(var t=0;t<this.BetItemArray.length;t++)this.BetItemArray[t].Pers=e.mPrizePro[t]},n=a([g()],t)}(s.GameBasePanel30300));n.GameBetPanel30300=m;var y=function(){function e(e,t){this.allbet=0,this.mybet=0,this.winNum=0,this.mainObj=e,this.Betid=t,this.LabelMe=e.getChildByName("LabelMe"),this.LabelAll=e.getChildByName("LabelAll"),this.LabelPer=e.getChildByName("LabelPer"),this.LabelBase=e.getChildByName("LabelBase"),this.mainObj.on(c.Laya.Event.CLICK,this,this.onButtonBet)}return e.prototype.onButtonBet=function(){p.GameData30300.MyMoney-m.Instance.myTotalNote>=m.Instance.MChips[m.Instance.ChipIndex]?l.GameMsgProxy30300.Instance.SendNoteBet(this.Betid,m.Instance.ChipIndex,m.Instance.MChips[m.Instance.ChipIndex]):d.HallEvent.event(d.HallEvent.SHOW_RECHARGE_TIP)},Object.defineProperty(e.prototype,"AllBet",{get:function(){return this.allbet},set:function(e){this.allbet=e,this.LabelAll.text=h.GameTool.formatMoneyString(this.allbet)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"MyBet",{get:function(){return this.mybet},set:function(e){this.mybet=e,this.LabelMe.text=h.GameTool.formatMoneyString(this.mybet)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Base",{set:function(e){this.LabelBase.text=e.toString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Pers",{get:function(){return this.winNum},set:function(t){this.winNum=t,e.mTotalGames>0&&t>0?this.LabelPer.text=Math.round(100*t/e.mTotalGames)+"%":this.LabelPer.text="0%"},enumerable:!1,configurable:!0}),e.mTotalGames=0,e}();cc._RF.pop()},{"../../halls/hall/Tips":"Tips","../../halls/halllib/core/RunData":"RunData","../../halls/halllib/laya/Laya":"Laya","../../halls/halllib/net/InnerEvent":"InnerEvent","./GameBasePanel30300":"GameBasePanel30300","./GameData30300":"GameData30300","./GameMsgProxy30300":"GameMsgProxy30300"}],GameBetPanel30700:[function(e,t,n){"use strict";cc._RF.push(t,"7433fbefLRCX7CL6Xu0tXke","GameBetPanel30700");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.GameBetPanel30700=void 0;var s=e("./GameMsgProxy30700"),l=e("../../halls/halllib/laya/Laya"),c=l.Laya.Handler,u=e("./GameNetProto30700"),p=e("./GameData30700"),h=e("../../halls/halllib/core/RunData"),d=r(e("../../halls/hall/Tips")),f=e("./GameMain30700"),g=e("../../halls/halllib/common/LogBase"),m=e("./SpriteChouMa30700"),y=e("./SoundManager30700"),_=e("../../halls/halllib/net/InnerEvent"),v=l.Laya.regClass,b=(l.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.ChipIndex=0,t.MyTotalNote=0,t.TotalNote=0,t}var n;return i(t,e),n=t,t.prototype.onAwake=function(){var t=this;e.prototype.onAwake.call(this),p.GameData30700.MyMoney=h.RunData.myUserInfo.dwMoney,n.Instance=this,this.listchouma=[],f.GameMain30700.Instance.LabelName.text=h.RunData.myUserInfo.nickName,this.LabelMyBet=f.GameMain30700.Instance.LabelMyBet,this.LabelAllBet=f.GameMain30700.Instance.LabelAllBet,this.LabelWallet=f.GameMain30700.Instance.LabelMoney,this.ButtonXuya=f.GameMain30700.Instance.BtnContinueBet,this.Spriteother=this.owner.getChildByName("Spriteother"),this.SpriteB=this.owner.getChildByName("SpriteB"),this.Spritemy=[];for(var o=0;o<=6;o++)this.Spritemy[o]=this.owner.getChildByName("Spritemy_"+o.toString());for(this.BetItemArray=[],o=0;o<8;o++)this.BetItemArray[o]=new S(this.owner.getChildAt(o),o);var i=f.GameMain30700.Instance.PanelBelow.getChildByName("BoxChouMa");this.SelectRay=i.getChildByName("SelectRay"),this.ChouMaArray=[];var a=function(e){var n=e;r.ChouMaArray[e]=i.getChildAt(e),r.ChouMaArray[e].on(l.Laya.Event.CLICK,function(){t.ChipIndex=n,t.SelectRay.x=t.ChouMaArray[n].x,t.SelectRay.y=t.ChouMaArray[n].y})},r=this;for(o=0;o<6;o++)a(o);this.LabelWallet.text=h.GameTool.formatMoneyString(p.GameData30700.MyMoney),s.GameMsgProxy30700.Instance.GameNoteHandler=new c(this,this.gamePlayerNote),s.GameMsgProxy30700.Instance.GameContinueNoteHandler=new c(this,this.gameContinueNote),s.GameMsgProxy30700.Instance.GameCancelNoteHandler=new c(this,this.gameCancelNote),s.GameMsgProxy30700.Instance.GameStatisticsHandler=new c(this,this.gameStatistics),this.ButtonXuya.on(l.Laya.Event.CLICK,this,this.onButtonXuya)},t.prototype.InitData=function(e,t,n){p.GameData30700.Chips=e;for(var o=0;o<this.BetItemArray.length;o++)this.BetItemArray[o].MyBet=null!=t?t[o]:0;for(o=0;o<this.ChouMaArray.length;o++)this.ChouMaArray[o].text.text=h.GameTool.formatMoneyString(e[o]);this.MyTotalNote=n,this.MChips=e,this.ChipIndex=0,this.LabelMyBet.text=h.GameTool.formatMoneyString(this.MyTotalNote)},t.prototype.ReSetStartBet=function(){this.MyTotalNote=0,this.TotalNote=0,this.LabelMyBet.text=h.GameTool.formatMoneyString(this.MyTotalNote),this.LabelAllBet.text=h.GameTool.formatMoneyString(this.TotalNote),this.FlashMyMoney();for(var e=0;e<this.BetItemArray.length;e++)this.BetItemArray[e].AllBet=0,this.BetItemArray[e].MyBet=0},t.prototype.SetOpenPrize=function(e){g.LogBase.log("==========>>>>>prizeId: "+e);var t=this.BetItemArray[e];t&&(t.ImageBg.visible=!0,this.owner.timerOnce(3200,this,function(){t.ImageBg.visible=!1}))},t.prototype.FlashMyMoney=function(){this.LabelWallet.text=h.GameTool.formatMoneyString(p.GameData30700.MyMoney-this.MyTotalNote)},t.prototype.onButtonXuya=function(){s.GameMsgProxy30700.Instance.SendContinueNoteBet()},t.prototype.gamePlayerNote=function(e){if(0==e.State){var t=this.BetItemArray[e.AreaIndex];t.AllBet+=e.NoteMoney,this.TotalNote+=e.NoteMoney,s.GameMsgProxy30700.Instance.bDeskStation==e.nDeskStation&&(t.MyBet+=e.NoteMoney,this.MyTotalNote+=e.NoteMoney,this.LabelMyBet.text=h.GameTool.formatMoneyString(this.MyTotalNote),this.FlashMyMoney()),this.LabelAllBet.text=h.GameTool.formatMoneyString(this.TotalNote),this.creatNewChip(e.NoteKind,e.AreaIndex,s.GameMsgProxy30700.Instance.bDeskStation==e.nDeskStation)}else s.GameMsgProxy30700.Instance.bDeskStation==e.nDeskStation&&this.showErroBetTip(e.State)},t.prototype.gameContinueNote=function(e){if(0==e.mState){for(var t=0;t<this.BetItemArray.length;t++){var n=this.BetItemArray[t];n.AllBet+=e.AreaNoteMoney[t],s.GameMsgProxy30700.Instance.bDeskStation==e.nDeskStation&&(n.MyBet+=e.AreaNoteMoney[t],this.MyTotalNote+=e.AreaNoteMoney[t],this.countBetNote(e.AreaNoteMoney[t],t))}this.LabelMyBet.text=h.GameTool.formatMoneyString(this.MyTotalNote),s.GameMsgProxy30700.Instance.bDeskStation==e.nDeskStation&&this.FlashMyMoney()}else s.GameMsgProxy30700.Instance.bDeskStation==e.nDeskStation&&this.showErroBetTip(e.mState)},t.prototype.showErroBetTip=function(e){switch(e){case 1:d.default.SetText("Wrong betting chip type.");break;case 2:d.default.SetText("The seat number is incorrect.");break;case 3:d.default.SetText("There are no players on the corresponding seat.");break;case 4:d.default.SetText("Don't have enough money with you.");break;case 5:d.default.SetText("Betting limit bonus.");break;case 6:d.default.SetText("It's not a betting time.");break;case 7:d.default.SetText("You have already placed your bet.");break;default:d.default.SetText("Betting failed.")}},t.prototype.countBetNote=function(e,t){for(var n=-1,o=p.GameData30700.Chips.length-1;o>=0;o--)if(p.GameData30700.Chips[o]<=e){n=o;break}if(n>=0){this.creatNewChip(n,t,!0);var i=e-p.GameData30700.Chips[n];i>0&&this.countBetNote(i,t)}},t.prototype.gameCancelNote=function(e){for(var t=0;t<this.BetItemArray.length;t++){var n=this.BetItemArray[t];n.AllBet+=e.NoteMoney[t],this.TotalNote+=e.NoteMoney[t],s.GameMsgProxy30700.Instance.bDeskStation==e.nDeskStation&&(n.MyBet+=e.NoteMoney[t],this.MyTotalNote+=e.NoteMoney[t])}this.LabelMyBet.text=h.GameTool.formatMoneyString(this.MyTotalNote),this.LabelAllBet.text=h.GameTool.formatMoneyString(this.TotalNote)},t.prototype.gameStatistics=function(e){this.TotalNote=0;for(var t=0;t<this.BetItemArray.length;t++)this.BetItemArray[t].AllBet=e.AreaNotes[t],this.TotalNote+=e.AreaNotes[t];this.LabelAllBet.text=h.GameTool.formatMoneyString(this.TotalNote)},t.prototype.creatNewChip=function(e,t,n){var o=m.SpriteChouMa30700.CreateNew(this.owner,e);o.type=t,o.ismy=n,o.chip=e,n?o.pos(this.Spritemy[e+1].x,this.Spritemy[e+1].y):o.pos(this.Spriteother.x,this.Spriteother.y);var i=this.BetItemArray[t].mainObj,a=.2*Math.random()*i.width,r=.2*Math.random()*i.height;a=Math.random()>=.5?a:-a,r=Math.random()>=.5?r:-r,a+=i.x,r+=i.y,o.FlashTo(a,r,1),this.listchouma.push(o),y.SoundManager30700.Instance.PlaySoundById(7,1)},t.prototype.OpenPrize=function(e){for(var t=this,n=[],o=0;o<this.listchouma.length;o++)this.listchouma[o].type!=e?this.listchouma[o].FlashTo(this.SpriteB.x,this.SpriteB.y,0):n.push(this.listchouma[o]);this.listchouma=[];var i=n.length;this.owner.timerOnce(500,this,function(){for(var e=0;e<i;e++){var o=m.SpriteChouMa30700.CreateNew(t.owner,n[e].chip);o.type=n[e].type,o.ismy=n[e].ismy,o.chip=n[e].chip,o.pos(t.SpriteB.x,t.SpriteB.y);var a=t.BetItemArray[n[e].type].mainObj,r=.2*Math.random()*a.width,s=.2*Math.random()*a.height;r=Math.random()>=.5?r:-r,s=Math.random()>=.5?s:-s,r+=a.x,s+=a.y,o.FlashTo(r,s,1),n.push(o)}}),this.owner.timerOnce(1e3,this,function(){for(var e=0;e<n.length;e++){var o=n[e].ismy?t.Spritemy[0].x:t.Spriteother.x,i=n[e].ismy?t.Spritemy[0].y:t.Spriteother.y;n[e].FlashTo(o,i,0)}})},n=a([v()],t)}(l.Laya.Script));n.GameBetPanel30700=b;var S=function(){function e(e,t){this.allbet=0,this.mybet=0,this.mainObj=e,this.Betid=t,this.LabelMyBet=e.getChildByName("LabelMyBet"),this.LabelAllBet=e.getChildByName("LabelAllBet"),this.ImageBg=e.getChildByName("ImageBg"),this.ButtonBet=e.getChildByName("ButtonBet"),this.ButtonBet.on(l.Laya.Event.CLICK,this,this.onButtonBet),this.ImageBg.visible=!1}return e.prototype.onButtonBet=function(){p.GameData30700.GameState==u.GameNetProto30700.GameState.STATE_NOTE&&(p.GameData30700.MyMoney>=b.Instance.MChips[b.Instance.ChipIndex]?s.GameMsgProxy30700.Instance.SendNoteBet(this.Betid,b.Instance.ChipIndex,b.Instance.MChips[b.Instance.ChipIndex]):_.HallEvent.event(_.HallEvent.SHOW_RECHARGE_TIP))},Object.defineProperty(e.prototype,"AllBet",{get:function(){return this.allbet},set:function(e){this.allbet=e,this.LabelAllBet.text=h.GameTool.formatMoneyString(this.allbet)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"MyBet",{get:function(){return this.mybet},set:function(e){this.mybet=e,this.LabelMyBet.text=h.GameTool.formatMoneyString(this.mybet)+"/"},enumerable:!1,configurable:!0}),e}();cc._RF.pop()},{"../../halls/hall/Tips":"Tips","../../halls/halllib/common/LogBase":"LogBase","../../halls/halllib/core/RunData":"RunData","../../halls/halllib/laya/Laya":"Laya","../../halls/halllib/net/InnerEvent":"InnerEvent","./GameData30700":"GameData30700","./GameMain30700":"GameMain30700","./GameMsgProxy30700":"GameMsgProxy30700","./GameNetProto30700":"GameNetProto30700","./SoundManager30700":"SoundManager30700","./SpriteChouMa30700":"SpriteChouMa30700"}],GameBetPanel34800:[function(e,t,n){"use strict";cc._RF.push(t,"d64efwlCwRLuIwM+37pz4pg","GameBetPanel34800");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameBetPanel34800=void 0;var r=e("./GameMsgProxy34800"),s=e("../../halls/halllib/laya/Laya"),l=s.Laya.Handler,c=e("./GameNetProto34800"),u=e("./GameData34800"),p=e("../../halls/halllib/core/RunData"),h=e("./GameMain34800"),d=e("./SpriteChouMa34800"),f=e("./SoundManager34800"),g=e("./GamePlayerMg34800"),m=e("../../halls/halllib/net/InnerEvent"),y=s.Laya.regClass,_=(s.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.ChipIndex=0,t.MyTotalNote=0,t.TotalNote=0,t}var n;return i(t,e),n=t,t.prototype.onAwake=function(){var t=this;e.prototype.onAwake.call(this),this.otherInitPos=!0,u.GameData34800.MyMoney=p.RunData.myUserInfo.dwMoney,n.Instance=this,this.mX=h.GameMain34800.Instance.MyInfo.x,this.mY=h.GameMain34800.Instance.MyInfo.y,this.listchouma=[],this.LabelWallet=h.GameMain34800.Instance.LabelMoney,this.Spriteother=this.owner.getChildByName("Spriteother"),this.oX=this.Spriteother.x,this.oY=this.Spriteother.y,this.Spritemy=this.owner.getChildByName("Spritemy"),this.SpriteB=this.owner.getChildByName("SpriteB"),this.BoxCm=this.owner.getChildByName("BoxCm"),this.BetItemArray=[];for(var o=0;o<4;o++)this.BetItemArray[o]=new v(this.owner.getChildAt(o),o);var i=h.GameMain34800.Instance.PanelBelow.getChildByName("BoxChouMa");this.SelectRay=i.getChildByName("SelectRay"),this.ChouMaArray=[];var a=function(e){var n=e;c.ChouMaArray[e]=i.getChildAt(e),c.ChouMaArray[e].on(s.Laya.Event.CLICK,function(){t.ChipIndex=n,t.SelectRay.x=t.ChouMaArray[n].x,t.SelectRay.y=t.ChouMaArray[n].y})},c=this;for(o=0;o<6;o++)a(o);r.GameMsgProxy34800.Instance.GameJettonHandler=new l(this,this.gamePlayerNote),this.FlashMyMoney()},t.prototype.InitData=function(e,t,n){u.GameData34800.Chips=e,this.MyTotalNote=0;for(var o=0;o<this.BetItemArray.length;o++)this.BetItemArray[o].AllBet=null!=n?n[o]:0,this.BetItemArray[o].MyBet=null!=t?t[o]:0,this.MyTotalNote+=null!=t?t[o]:0;for(o=0;o<this.ChouMaArray.length;o++)this.ChouMaArray[o].text.text=p.GameTool.formatMoneyString(e[o]);this.MChips=e,this.ChipIndex=0},t.prototype.IsWin=function(e,t){var n=e%16,o=t%16;return n>o||n==o&&e>t},t.prototype.ShowHistorys=function(e){for(var t=[],n=e.length>6?e.length-6:0,o=0;o<4;o++){t[o]=Array();for(var i=n;i<e.length;i++)t[o][i-n]=this.IsWin(e[i][o],e[i][4])}for(var a=0;a<this.BetItemArray.length;a++)this.BetItemArray[a].ShowWins(t[a])},t.prototype.ReSetStartBet=function(){this.otherInitPos=!0,this.MyTotalNote=0,this.TotalNote=0;for(var e=0;e<this.BetItemArray.length;e++)this.BetItemArray[e].AllBet=0,this.BetItemArray[e].MyBet=0,this.BetItemArray[e].ImageWin.visible=!1},t.prototype.gamePlayerNote=function(e){var t=this.BetItemArray[e.cbJettonArea];t.AllBet+=e.lJettonScore,this.TotalNote+=e.lJettonScore,r.GameMsgProxy34800.Instance.bDeskStation==e.wChairID&&(t.MyBet+=e.lJettonScore,this.MyTotalNote+=e.lJettonScore,this.FlashMyMoney()),this.countBetNote(e.lJettonScore,e.cbJettonArea,e.wChairID)},t.prototype.countBetNote=function(e,t,n){for(var o=-1,i=u.GameData34800.Chips.length-1;i>=0;i--)if(u.GameData34800.Chips[i]>0&&u.GameData34800.Chips[i]<=e){o=i;break}if(o>=0){this.creatNewChip(o,t,n);var a=e-u.GameData34800.Chips[o];a>0&&this.countBetNote(a,t,n)}},t.prototype.SetOpenPrize=function(e){f.SoundManager34800.Instance.PlaySoundById(3+e,1);var t=this.BetItemArray[e];t&&(t.ImageWin.visible=!0)},t.prototype.FlashMyMoney=function(){this.LabelWallet.text=p.GameTool.formatMoneyString(u.GameData34800.MyMoney-this.MyTotalNote)},t.prototype.MyInfoGoBackPos=function(){h.GameMain34800.Instance.MyInfo.pos(this.mX,this.mY)},t.prototype.OtherGoBackPos=function(){this.otherInitPos=!0,this.Spriteother.pos(this.oX,this.oY)},t.prototype.creatNewChip=function(e,t,n){f.SoundManager34800.Instance.PlaySoundById(11,1);var o=d.SpriteChouMa34800.CreateNew(this.BoxCm,e);if(o.type=t,o.chairId=n,o.chip=e,n==r.GameMsgProxy34800.Instance.bDeskStation){o.pos(this.Spritemy.x,this.Spritemy.y);var i=h.GameMain34800.Instance.MyInfo;s.Laya.Tween.from(i,{x:i.x+20},100,s.Laya.Ease.backInOut,s.Laya.Handler.create(this,this.MyInfoGoBackPos))}else{var a=g.GamePlayerMg34800.Instance.GetPlayerByChairId(n);a?(s.Laya.Tween.from(a.MainObj,{x:a.MainObj.x+20},100,s.Laya.Ease.backInOut,s.Laya.Handler.create(a,a.GoBackPos)),o.pos(a.X,a.Y)):(this.otherInitPos&&(this.otherInitPos=!1,s.Laya.Tween.from(this.Spriteother,{x:this.Spriteother.x+20},100,s.Laya.Ease.backInOut,s.Laya.Handler.create(this,this.OtherGoBackPos))),o.pos(this.Spriteother.x,this.Spriteother.y))}var l=this.BetItemArray[t].mainObj,c=.2*Math.random()*l.width,u=.2*Math.random()*l.height;c=Math.random()>=.5?c:-c,u=Math.random()>=.5?u:-u,c+=l.x,u+=l.y,o.FlashTo(c,u,1),this.listchouma.push(o),f.SoundManager34800.Instance.PlaySoundById(7,1)},t.prototype.OpenPrize=function(e,t,n){var o=this;t?(h.GameMain34800.Instance.PanelTongSha.Show(),f.SoundManager34800.Instance.PlaySoundById(15,1)):n&&(h.GameMain34800.Instance.PanelTongPei.Show(),f.SoundManager34800.Instance.PlaySoundById(16,1)),this.MyTotalNote=0;for(var i=[],a=!1,s=0;s<this.listchouma.length;s++)e[this.listchouma[s].type]?i.push(this.listchouma[s]):(a=!0,this.listchouma[s].FlashTo(this.SpriteB.x,this.SpriteB.y,0));a&&f.SoundManager34800.Instance.PlaySoundById(12,1),this.listchouma=[];var l=i.length;l>0&&(this.owner.timerOnce(500,this,function(){f.SoundManager34800.Instance.PlaySoundById(12,1);for(var e=0;e<l;e++){var t=d.SpriteChouMa34800.CreateNew(o.BoxCm,i[e].chip);t.type=i[e].type,t.chairId=i[e].chairId,t.chip=i[e].chip,t.pos(o.SpriteB.x,o.SpriteB.y);var n=o.BetItemArray[i[e].type].mainObj,a=.2*Math.random()*n.width,r=.2*Math.random()*n.height;a=Math.random()>=.5?a:-a,r=Math.random()>=.5?r:-r,a+=n.x,r+=n.y,t.FlashTo(a,r,1),i.push(t)}}),this.owner.timerOnce(1e3,this,function(){f.SoundManager34800.Instance.PlaySoundById(12,1);for(var e=0;e<i.length;e++)if(i[e].chairId==r.GameMsgProxy34800.Instance.bDeskStation)i[e].FlashTo(o.Spritemy.x,o.Spritemy.y,0);else{var t=g.GamePlayerMg34800.Instance.GetPlayerByChairId(i[e].chairId);t?i[e].FlashTo(t.X,t.Y,0):i[e].FlashTo(o.Spriteother.x,o.Spriteother.y,0)}}))},n=a([y()],t)}(s.Laya.Script));n.GameBetPanel34800=_;var v=function(){function e(e,t){this.allbet=0,this.mybet=0,this.mainObj=e,this.Betid=t,this.LabelMyBet=e.getChildByName("LabelSelf"),this.LabelAllBet=e.getChildByName("LabelAll"),this.ImageWin=e.getChildByName("ImageWin");var n=e.getChildByName("Record");this.Records=[];for(var o=0;o<6;o++)this.Records[o]=n.getChildAt(o);this.mainObj.on(s.Laya.Event.CLICK,this,this.onButtonBet),this.ImageWin.visible=!1}return e.prototype.onButtonBet=function(){u.GameData34800.GameState==c.GameNetProto34800.GameState.GS_XIAZHU&&(u.GameData34800.MyMoney>=_.Instance.MChips[_.Instance.ChipIndex]?r.GameMsgProxy34800.Instance.SendNoteBet(this.Betid,_.Instance.MChips[_.Instance.ChipIndex]):m.HallEvent.event(m.HallEvent.SHOW_RECHARGE_TIP))},e.prototype.ShowWins=function(t){null==e.UI_Road_1&&(e.UI_Road_1=s.Laya.loader.getRes("resources/games/game34800/res/game/UI_Road_1.png")),null==e.UI_Road_2&&(e.UI_Road_2=s.Laya.loader.getRes("resources/games/game34800/res/game/UI_Road_2.png"));for(var n=0;n<this.Records.length;n++)t.length>n?this.Records[n].texture=t[n]?e.UI_Road_2:e.UI_Road_1:this.Records[n].texture=null},Object.defineProperty(e.prototype,"AllBet",{get:function(){return this.allbet},set:function(e){this.allbet=e,this.LabelAllBet.text=p.GameTool.formatMoneyString(this.allbet)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"MyBet",{get:function(){return this.mybet},set:function(e){this.mybet=e,this.LabelMyBet.text=p.GameTool.formatMoneyString(this.mybet)},enumerable:!1,configurable:!0}),e}();cc._RF.pop()},{"../../halls/halllib/core/RunData":"RunData","../../halls/halllib/laya/Laya":"Laya","../../halls/halllib/net/InnerEvent":"InnerEvent","./GameData34800":"GameData34800","./GameMain34800":"GameMain34800","./GameMsgProxy34800":"GameMsgProxy34800","./GameNetProto34800":"GameNetProto34800","./GamePlayerMg34800":"GamePlayerMg34800","./SoundManager34800":"SoundManager34800","./SpriteChouMa34800":"SpriteChouMa34800"}],GameBigGiftEffect:[function(e,t,n){"use strict";cc._RF.push(t,"66860V7GGJF1YqWdqgrYk+Q","GameBigGiftEffect");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../../framework/gg"),s=e("../../../systems/bigGift/BigGiftSystem"),l=e("../../../systems/item/ItemSystem"),c=e("../../../configs/CommonAudioConfig"),u=cc._decorator,p=u.ccclass,h=u.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spine=null,t.charmContent=null,t.charmLabel=null,t}return i(t,e),t.prototype.onDisable=function(){this.spine.clearTracks(),this.spine.node.active=!1},t.prototype.updateUI=function(e){var t=this;this.node.active=!0,this.charmLabel.string="+"+e.receiver_charm,l.itemSystem.getItemIconInfo(e.item_id).then(function(e){e&&(r.gg.audio.playOneShot(c.CommonAudioConfig.openBigGift),t.spine.skeletonData=e.spineData,t.spine.node.active=!0,t.spine.setAnimation(0,"animation",!0),t.charmContent.stopAllActions(),t.charmContent.opacity=0,t.charmContent.y=0,cc.tween(t.charmContent).delay(1).to(.128,{opacity:255},{easing:"sineOut"}).to(.68,{y:30},{easing:"sineOut"}).to(.38,{opacity:0,y:70},{easing:"sineIn"}).call(function(){t.node.active=!1,r.gg.eventManager.emit(s.BigGiftEvent.GameBigGiftEffectEndEvent,t.node)}).start())})},a([h({type:sp.Skeleton,tooltip:"\u5927\u793c\u7269spine"})],t.prototype,"spine",void 0),a([h({type:cc.Node,tooltip:"\u9b45\u529b\u503c\u8282\u70b9"})],t.prototype,"charmContent",void 0),a([h({type:cc.Label,tooltip:"\u9b45\u529b\u503c"})],t.prototype,"charmLabel",void 0),a([p],t)}(cc.Component);n.default=d,cc._RF.pop()},{"../../../configs/CommonAudioConfig":"CommonAudioConfig","../../../framework/gg":"gg","../../../systems/bigGift/BigGiftSystem":"BigGiftSystem","../../../systems/item/ItemSystem":"ItemSystem"}],GameBonusPanel31800:[function(e,t,n){"use strict";cc._RF.push(t,"9e4a471dcZLKL8xNTgxgKCN","GameBonusPanel31800");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameBonusPanel31800=void 0;var r=e("../../halls/halllib/laya/Laya"),s=e("./BasePanel31800"),l=e("./GameNetProxy31800"),c=r.Laya.Handler,u=e("./GameData31800"),p=e("./GameMain31800"),h=e("../../halls/halllib/core/RunData"),d=e("./ScrollViewContro31800"),f=r.Laya.regClass,g=(r.Laya.property,function(e){function t(){return e.call(this)||this}var n;return i(t,e),n=t,t.prototype.onAwake=function(){n.Instance=this,e.prototype.onAwake.call(this),l.GameMsgProxy31800.Instance.GameBonusHandler=new c(this,this.onGameBonus),this.owner,this.LabelTotalWin=this.owner.getChildByName("LabelTotalWin"),this.baoxiang=[];for(var t=0;t<4;t++){var o=this.owner.getChildByName("HBox_"+(t+1));this.baoxiang[t]=[];for(var i=0;i<5;i++)this.baoxiang[t][i]=new m(o.getChildAt(i),i)}},t.prototype.onGameBonus=function(e,t){var n=this.baoxiang[t.nBonusCount];if(null!=n)for(var o=0;o<5;o++)n[o].OpenPrize(t.nBonusPoint[o],t.nIndex);if(this.WinScore+=t.nWinMoney,u.GameData31800.Money+=t.nWinMoney,p.GameMain31800.Instance.LabelCoin.text=h.GameTool.formatMoneyString(u.GameData31800.Money),this.SetWinScore(),t.nBonusCount>=3||t.nBonusPoint[t.nIndex]<=0)this.owner.timerOnce(2e3,this,this.Hide);else{var i=this.baoxiang[t.nBonusCount+1];for(o=0;o<i.length;o++)i[o].Reset(!0)}},t.prototype.ReSet=function(){this.WinScore=0,this.SetWinScore();for(var e=0;e<this.baoxiang.length;e++)for(var t=this.baoxiang[e],n=0;n<t.length;n++)t[n].Reset(0==e)},t.prototype.ReConnet=function(e,t,n){d.ScrollViewContro31800.Instance.IsOnRun=!0,this.WinScore=t,this.SetWinScore();for(var o=0;o<this.baoxiang.length;o++)for(var i=this.baoxiang[o],a=0;a<i.length;a++)o<e?i[a].OpenPrize(n[5*o+a],6):i[a].Reset(o==e);this.Show()},t.prototype.SetWinScore=function(){this.WinScore>0?this.LabelTotalWin.text=h.GameTool.formatMoneyString(this.WinScore)+" = "+h.GameTool.formatMoneyString(u.GameData31800.SingleBet)+" x "+(this.WinScore/u.GameData31800.SingleBet).toString():this.LabelTotalWin.text=""},t.prototype.Show=function(){e.prototype.Show.call(this)},t.prototype.Hide=function(){d.ScrollViewContro31800.Instance.IsOnRun=!1,e.prototype.Hide.call(this)},n=a([f()],t)}(s.BasePanel31800));n.GameBonusPanel31800=g;var m=function(){function e(e,t){this.SpriteOpen=e.getChildByName("SpriteOpen"),this.ImageSelect=this.SpriteOpen.getChildAt(0),this.SpriteStand=e.getChildByName("SpriteStand"),this.SpriteZhaDan=e.getChildByName("SpriteZhaDan"),this.FingerAni=e.getChildByName("FingerAni"),this.BeiLv=e.getChildByName("BeiLv"),this.Label=this.BeiLv.getChildByName("Label"),this.index=t,this.SpriteStand.on(r.Laya.Event.CLICK,this,this.onPen)}return e.prototype.onPen=function(){this.canopen&&l.GameMsgProxy31800.Instance.sendBonusGameRequest(this.index)},e.prototype.Reset=function(e){this.canopen=e,this.SpriteStand.visible=!0,this.SpriteStand.active=this.canopen,this.FingerAni.visible=this.canopen,this.SpriteZhaDan.visible=!1,this.SpriteOpen.visible=!1,this.BeiLv.visible=!1},e.prototype.OpenPrize=function(e,t){this.canopen=!1,this.SpriteStand.visible=!1,this.FingerAni.visible=this.canopen,this.SpriteZhaDan.visible=e<=0,this.SpriteOpen.visible=e>0,this.BeiLv.visible=e>0,this.Label.text=e.toString(),this.ImageSelect.visible=t==this.index},e}();cc._RF.pop()},{"../../halls/halllib/core/RunData":"RunData","../../halls/halllib/laya/Laya":"Laya","./BasePanel31800":"BasePanel31800","./GameData31800":"GameData31800","./GameMain31800":"GameMain31800","./GameNetProxy31800":"GameNetProxy31800","./ScrollViewContro31800":"ScrollViewContro31800"}],GameCardMg10100:[function(e,t,n){"use strict";cc._RF.push(t,"0c94eU7w9BLpJQCfRw45kf0","GameCardMg10100");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.GameCardMg10100=void 0;var l=e("../../halls/halllib/net/Client"),c=e("./GameAudioContro10100"),u=e("./GameCardRes10100"),p=e("./GameData10100"),h=e("./GameHandCard10100"),d=e("./GameHandCardOrther10100"),f=e("./GameMain10100"),g=e("./GameMsgProxy10100"),m=e("./GameNetProto10100"),y=e("./GamePlayerCard10100"),_=e("../../halls/halllib/laya/Laya"),v=_.Laya.regClass,b=_.Laya.property,S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.GBox=null,t.playerHandCard_2=null,t.playerHandCard_3=null,t.DropBox0=null,t.DropBox1=null,t.DropBox2=null,t.LeftCard=null,t.RightCard=null,t.LabelCard=null,t.LabelPoint=null,t.SelectLeft=null,t.SelectRight=null,t.DropCardAni=null,t}var n;return i(t,e),n=t,t.prototype.onAwake=function(){var e=this;n.Instance=this,this.uEnabledAction=0,this.IsSendCard=!1,this.playerHandCard=[null,this.playerHandCard_2,this.playerHandCard_3],this.SelectDrop=[];for(var t=function(t){var n={};n.droimage=o.owner.getChildByName("SelectDrop_"+t),n.data=null,n.droimage.on(_.Laya.Event.CLICK,function(){e.OnSendSelectDrop(n.data.gid,n.data.uid)}),o.SelectDrop[t]=n},o=this,i=0;i<3;i++)t(i);this.playerCard=[this.DropBox0,this.DropBox1,this.DropBox2],this.outCardList=[],this.SelectLeft.on(_.Laya.Event.CLICK,this,this.OnSelectLeft),this.SelectRight.on(_.Laya.Event.CLICK,this,this.OnSelectRight),this.SelectLeft.visible=!1,this.SelectRight.visible=!1},t.prototype.ResetData=function(){for(var e=0;e<this.playerCard.length;e++)this.playerCard[e].Init();for(e=1;e<this.playerHandCard.length;e++)this.playerHandCard[e].Clear();h.GameHandCard10100.Instance.RecoveryCard(),this.LeftCard.visible=!1,this.RightCard.visible=!1,this.LabelCard.text="",this.outCardList=[]},t.prototype.OnSelectLeft=function(){l.Client.Instance.sendData(g.GameMsgProxy10100.mainNetId,m.GameNetProto10100.NOTIFY.SUB_C_GET_ONE_CARD_FROM_HEAP),this.SelectLeft.visible=!1,this.SelectRight.visible=!1},t.prototype.OnSelectRight=function(){var e=h.GameHandCard10100.Instance.GetSelectCards(),t=this.outCardList[this.outCardList.length-1],n=!1;if(e.length>=2&&(e.push(t),n=this.CheckGroud(e)),n){var o=new m.GameNetProto10100.CMD_GAME_C_GROUP_CARD_WITH_OUT_CARD;o.nCardCount=e.length-1,o.arrCardList=[0,0,0,0,0,0,0,0,0,0,0,0,0];for(var i=0,a=0;a<e.length;a++)e[a]!=t&&(o.arrCardList[i]=e[a],i++);l.Client.Instance.sendData(g.GameMsgProxy10100.mainNetId,m.GameNetProto10100.NOTIFY.SUB_C_GROUP_CARD_WITH_OUT_CARD,m.GameNetProto10100.CMD_GAME_C_GROUP_CARD_WITH_OUT_CARD.WriteFrom(o)),this.SelectLeft.visible=!1,this.SelectRight.visible=!1}else this.AutoSelectCard()},t.prototype.OnButtonDrop=function(){var e=h.GameHandCard10100.Instance.GetSelectCards();if(e.length>2&&this.CheckGroud(e)){var t=new m.GameNetProto10100.CMD_GAME_C_DROP_CARD;t.nCardCount=e.length,t.arrCardList=[0,0,0,0,0,0,0,0,0,0,0,0,0];for(var n=0;n<e.length;n++)t.arrCardList[n]=e[n];l.Client.Instance.sendData(g.GameMsgProxy10100.mainNetId,m.GameNetProto10100.NOTIFY.SUB_C_DROP_GROUP_CARD,m.GameNetProto10100.CMD_GAME_C_DROP_CARD.WriteFrom(t))}},t.prototype.OnButtonFight=function(){l.Client.Instance.sendData(g.GameMsgProxy10100.mainNetId,m.GameNetProto10100.NOTIFY.SUB_C_FIGH)},t.prototype.OnButtonGroup=function(){(this.uEnabledAction&m.GameNetProto10100.TongitsOperType.OUT_CARD)>0?this.OnSelectRight():(this.uEnabledAction&m.GameNetProto10100.TongitsOperType.HIGH_CARD)>0&&null!=this.SelectDrop[0].data&&this.OnSendSelectDrop(this.SelectDrop[0].data.gid,this.SelectDrop[0].data.uid)},t.prototype.OnButtonDump=function(){var e=h.GameHandCard10100.Instance.GetSelectCards();if(1==e.length){var t=new m.GameNetProto10100.CMD_GAME_C_DUMP_ONE_CARD;t.byCard=e[0],l.Client.Instance.sendData(g.GameMsgProxy10100.mainNetId,m.GameNetProto10100.NOTIFY.SUB_C_DUMP_ONE_CARD,m.GameNetProto10100.CMD_GAME_C_DUMP_ONE_CARD.WriteFrom(t))}},t.prototype.InitPlaying=function(e){this.SetResidueCardNum(e.m_nHeapCardCount),this.outCardList=[];for(var t=0;t<e.m_nOutCardCount;t++)this.AddOutCardList(e.m_arrOutCardList[t],t==e.m_nOutCardCount-1);for(t=0;t<this.playerCard.length;t++){var n=p.GameData10100.UiNoToLogiNo(t);if(0==t){if(e.wSkipChairID!=n){this.LabelPoint.text=e.m_arrHighCardScore[n].toString();for(var o=e.m_arrCardGroup[n],i=[],a=0;a<o.nGroupCount;a++)for(var r=o.nGroupCardCount[a],s=0;s<r;s++)i.push(o.arrGroupCard[13*a+s]);var l=e.m_arrHighCardCount[n];for(s=0;s<l;s++)i.push(e.m_arrHighCard[13*n+s]);h.GameHandCard10100.Instance.InitSendCard(i,!0)}}else e.wSkipChairID!=n&&this.playerCard[t].SetCardNum(e.m_arrHandCardCount[n]);var c=e.m_arrDropCardGroup[n];if(c.nGroupCount>0&&e.wSkipChairID!=n)for(s=0;s<c.nGroupCount;s++){r=c.nGroupCardCount[s];var u=[];for(a=0;a<r;a++)u.push(c.arrGroupCard[13*s+a]);this.playerCard[t].AddNewGroud(u,s)}}if(e.m_byGameStatus==m.GameNetProto10100.NOTIFY.GS_TONGITS_PLAYING){var d={};d.wActionPlayer=e.m_wCurrentActionPlayer,d.uEnabledAction=e.m_uEnabledAction,this.OnPlayerOperate(d)}},t.prototype.OnGameStart=function(e){if(this.uEnabledAction=0,this.outCardList=[],this.IsSendCard){h.GameHandCard10100.Instance.RecoveryCard();for(var t=e.arrHandCardCount[p.GameData10100.MySeatNo],n=[],o=0;o<t;o++)n.push(e.arrInitHandCard[o]);h.GameHandCard10100.Instance.InitSendCard(n,!0)}else this.StartSendCard(e)},t.prototype.waitTimes=function(e){return r(this,void 0,Promise,function(){var t=this;return s(this,function(){return[2,new Promise(function(n){t.owner.timer.once(e,t,function(){n(!0)})})]})})},t.prototype.StartSendCard=function(e){return r(this,void 0,void 0,function(){var t,n,o,i,a,r;return s(this,function(s){switch(s.label){case 0:for(this.IsSendCard=!0,f.GameMain10100.Instance.PanelStart.Show(),this.ResetData(),this.LeftCard.visible=!0,t=p.GameData10100.LogiNoToUiNo(e.wBankChairID),n=e.arrHandCardCount[p.GameData10100.MySeatNo],o=[],a=0;a<n;a++)o.push(e.arrInitHandCard[a]);return h.GameHandCard10100.Instance.InitSendCard(o,!1),[4,this.waitTimes(1500)];case 1:s.sent(),i=-1,e.wSkipChairID<=2&&(i=p.GameData10100.LogiNoToUiNo(e.wSkipChairID)),a=t,s.label=2;case 2:return a<36+t?[4,this.waitTimes(40)]:[3,5];case 3:s.sent(),i!=(r=a%3)&&this.PlaySendCard(r),s.label=4;case 4:return a++,[3,2];case 5:return[4,this.waitTimes(400)];case 6:return s.sent(),this.IsSendCard=!1,h.GameHandCard10100.Instance.ShowAllHandCard(),this.SetResidueCardNum(e.nHeapCardCount),this.LabelPoint.text=e.nHighCardScore.toString(),this.playerCard[1].SetCardNum(e.arrHandCardCount[p.GameData10100.UiNoToLogiNo(1)]),this.playerCard[2].SetCardNum(e.arrHandCardCount[p.GameData10100.UiNoToLogiNo(2)]),[2]}})})},t.prototype.PlaySendCard=function(e,t){void 0===t&&(t=0);var n=u.GameCardRes10100.Instance.GetSmallCard(0,this.GBox,!0);if(null!=n){c.GameAudioContro10100.Instance.PlaySoundById(12);var o=this.playerCard[e];n.ImageCard.scale(1.4,1.4);var i=this.GetSendCardPos();n.ImageCard.pos(i.x,i.y),n.ImageCard.zOrder=30;var a=void 0,r=1;0==e?(a=h.GameHandCard10100.Instance.GetSendCardPos(),r=2.2):(a=o.GetSendCardPos(),r=.5),_.Laya.Tween.to(n.ImageCard,{x:a.x,y:a.y,scaleX:r,scaleY:r},300,null,new _.Laya.Handler(this,function(){u.GameCardRes10100.Instance.RecoveryCard(n),0==e?h.GameHandCard10100.Instance.ShowSendCard():(t<=0&&(t=o.cardNum+1),o.SetCardNum(t))}))}},t.prototype.PlayerOutCard=function(e,t,n,o){var i=this,a=u.GameCardRes10100.Instance.GetSmallCard(t,this.GBox,!0);if(null!=a){var r=0==e?2.2:.5;a.ImageCard.scale(r,r),a.ImageCard.pos(n.x,n.y);var s=this.GetOutCardPos();_.Laya.Tween.to(a.ImageCard,{x:s.x,y:s.y,scaleX:1.4,scaleY:1.4},300,null,new _.Laya.Handler(this,function(){u.GameCardRes10100.Instance.RecoveryCard(a),i.RightCard.skin=u.GameCardRes10100.Instance.GetCardResByData(t),i.RightCard.visible=!0,0==e?h.GameHandCard10100.Instance.ResetSlect():i.playerCard[e].SetCardNum(o)}))}},t.prototype.SetResidueCardNum=function(e){this.LeftCard.visible=e>0,this.LabelCard.text=e>0?e.toString():""},t.prototype.OnPlayerOperate=function(e){if(this.SelectLeft.visible=!1,this.SelectRight.visible=!1,e.wActionPlayer==p.GameData10100.MySeatNo){c.GameAudioContro10100.Instance.PlaySoundById(11),this.uEnabledAction=e.uEnabledAction;for(var t=p.GameData10100.LogiNoToUiNo(e.wActionPlayer),n=0;n<this.playerCard.length;n++)this.playerCard[n].DropBg.visible=n==t;(this.uEnabledAction&m.GameNetProto10100.TongitsOperType.OUT_CARD)>0&&(this.SelectRight.visible=!0,this.AutoSelectCard()),(this.uEnabledAction&m.GameNetProto10100.TongitsOperType.HEAP_CARD)>0&&(this.SelectLeft.visible=!0),f.GameMain10100.Instance.ButtonFight.disabled=(this.uEnabledAction&m.GameNetProto10100.TongitsOperType.FIGHT)<=0,h.GameHandCard10100.Instance.CheckSelectCards()}else this.uEnabledAction=0,f.GameMain10100.Instance.ButtonDrop.disabled=!0,f.GameMain10100.Instance.ButtonFight.disabled=!0,f.GameMain10100.Instance.ButtonGroup.disabled=!0,f.GameMain10100.Instance.ButtonDump.disabled=!0;var o=p.GameData10100.LogiNoToUiNo(e.wActionPlayer);for(n=0;n<this.playerCard.length;n++)this.playerCard[n].DropBg.visible=o==n},t.prototype.OnHeapCardSuccess=function(e){if(this.SetResidueCardNum(e.nHeapCardCount),e.wActionPlayer==p.GameData10100.MySeatNo){this.LabelPoint.text=e.nHighCardScore.toString(),h.GameHandCard10100.Instance.AddNewCard(e.byCard);var t={};t.wActionPlayer=e.wActionPlayer,t.uEnabledAction=e.uEnabledAction,this.OnPlayerOperate(t)}var n=p.GameData10100.LogiNoToUiNo(e.wActionPlayer);this.PlaySendCard(n,e.nPlayerHandCardCount)},t.prototype.OnDumpCardSuccess=function(e){var t;this.AddOutCardList(e.byCard,!1);var n=p.GameData10100.LogiNoToUiNo(e.wDumpCardPlayer);if(e.wDumpCardPlayer==p.GameData10100.MySeatNo){this.LabelPoint.text=e.nHighCardScore.toString();var o=h.GameHandCard10100.Instance.OutCardByData(e.byCard);t=null!=o?o.PosMove:this.playerCard[n].GetSendCardPos()}else t=this.playerCard[n].GetSendCardPos();this.PlayerOutCard(n,e.byCard,t,e.nDumpCardPlayerLeftCardCount)},t.prototype.OnWithOutCardSuccess=function(e){this.ReOutCardList();for(var t=[],o=0;o<e.nGroupCardCount;o++)t.push(e.arrGroupCard[o]);t.sort(function(e,t){return e-t});var i={};i.PosMove=this.GetOutCardPos();var a=p.GameData10100.LogiNoToUiNo(e.wActionPlayer),r=new _.Laya.Point(0,0);for(o=0;o<t.length;o++){var s=this.playerCard[a].AddGroudCard(t[o],e.nDropCardGroupIndex,!0);if(r.setTo(0,0),r=s.ImageCard.localToGlobal(r,!1),r=n.Instance.GBox.globalToLocal(r,!1),e.wActionPlayer==p.GameData10100.MySeatNo){var l=t[o]==e.byGetCard?i:h.GameHandCard10100.Instance.OutCardByData(t[o]);this.PlayerPutCardAni(a,t[o],l.PosMove,r)}else this.PlayerPutCardAni(a,t[o],this.playerCard[a].GetSendCardPos(),r)}if(this.playerCard[a].ResetBoxWidth(e.nDropCardGroupIndex),this.ShowDropCardAni(a,e.nDropCardGroupIndex),e.wActionPlayer==p.GameData10100.MySeatNo){this.LabelPoint.text=e.nHighCardScore.toString();var c={};c.wActionPlayer=e.wActionPlayer,c.uEnabledAction=e.uEnabledAction,this.OnPlayerOperate(c)}else this.uEnabledAction=0,this.playerCard[a].SetCardNum(e.nPlayerLeftCardCount)},t.prototype.OnPutCardSuccess=function(e){c.GameAudioContro10100.Instance.PlaySoundById(5);for(var t=[],o=0;o<e.nPutCardCount;o++)t.push(e.arrPutCardList[o]);var i=p.GameData10100.LogiNoToUiNo(e.wActivePlayer),a=p.GameData10100.LogiNoToUiNo(e.wPassivePlayer),r=[];for(o=0;o<t.length;o++){var s=this.playerCard[a].AddGroudCard(t[o],e.nDropCardGroupIndex,!0);r.push(s)}this.playerCard[a].ResetBoxWidth(e.nDropCardGroupIndex),this.playerCard[a].AutoSortGroud(e.nDropCardGroupIndex);var l=new _.Laya.Point(0,0);for(o=0;o<r.length;o++)if(l.setTo(0,0),l=r[o].ImageCard.localToGlobal(l,!1),l=n.Instance.GBox.globalToLocal(l,!1),e.wActivePlayer==p.GameData10100.MySeatNo){var u=h.GameHandCard10100.Instance.OutCardByData(t[o]);this.PlayerPutCardAni(i,t[o],u.PosMove,l)}else this.PlayerPutCardAni(i,t[o],this.playerCard[i].GetSendCardPos(),l);if(e.wActivePlayer==p.GameData10100.MySeatNo){this.LabelPoint.text=e.nHighCardScore.toString();var d={};d.wActionPlayer=e.wActivePlayer,d.uEnabledAction=e.uEnabledAction,this.OnPlayerOperate(d)}else this.uEnabledAction=0,this.playerCard[i].SetCardNum(e.nActivePlayeerLeftCardCount)},t.prototype.OnDropCardSuccess=function(e){for(var t=[],o=0;o<e.nCardCount;o++)t.push(e.arrCardList[o]);t.sort(function(e,t){return e-t});var i=new _.Laya.Point(0,0),a=p.GameData10100.LogiNoToUiNo(e.wDropCardPlayer);for(o=0;o<t.length;o++){var r=this.playerCard[a].AddGroudCard(t[o],e.nDropIndex,!0);if(i.setTo(0,0),i=r.ImageCard.localToGlobal(i,!1),i=n.Instance.GBox.globalToLocal(i,!1),e.wDropCardPlayer==p.GameData10100.MySeatNo){var s=h.GameHandCard10100.Instance.OutCardByData(t[o]);this.PlayerPutCardAni(a,t[o],s.PosMove,i)}else this.PlayerPutCardAni(a,t[o],this.playerCard[a].GetSendCardPos(),i)}if(this.playerCard[a].ResetBoxWidth(e.nDropIndex),this.ShowDropCardAni(a,e.nDropIndex),e.wDropCardPlayer==p.GameData10100.MySeatNo){this.LabelPoint.text=e.nHighCardScore.toString();var l={};l.wActionPlayer=e.wDropCardPlayer,l.uEnabledAction=e.uEnabledAction,this.OnPlayerOperate(l)}else this.uEnabledAction=0,this.playerCard[a].SetCardNum(e.nLeftCardCount)},t.prototype.ShowDropCardAni=function(e,t){var n=this;this.owner.timer.once(200,this,function(){c.GameAudioContro10100.Instance.PlaySoundById(6);var o=n.playerCard[e].GetGroudPos(t);n.DropCardAni.visible=!0,n.DropCardAni.pos(o.x,o.y),n.DropCardAni.play(0,!1),n.owner.timer.once(2e3,n,function(){n.DropCardAni.visible=!1})})},t.prototype.PlayerPutCardAni=function(e,t,n,o){var i=u.GameCardRes10100.Instance.GetSmallCard(t,this.GBox,!0);if(null!=i){var a=0==e?1.5:.5;i.ImageCard.scale(a,a),i.ImageCard.pos(n.x,n.y),_.Laya.Tween.to(i.ImageCard,{x:o.x,y:o.y,scaleX:1,scaleY:1},300,null,new _.Laya.Handler(this,function(){u.GameCardRes10100.Instance.RecoveryCard(i)}))}},t.prototype.AutoSelectCard=function(){if(this.outCardList.length>0){var e=this.outCardList[this.outCardList.length-1];h.GameHandCard10100.Instance.AutoSelectCard(e)}},t.prototype.OnSendSelectDrop=function(e,t){var n=h.GameHandCard10100.Instance.GetSelectCards();if(n.length>0){var o=new m.GameNetProto10100.CMD_GAME_C_PUT_CARD_2_GROUP_CARD;o.wBePutCardPlayer=t,o.nCardCount=n.length,o.arrCardList=[0,0,0,0,0,0,0,0,0,0,0,0,0];for(var i=0;i<n.length;i++)o.arrCardList[i]=n[i];o.nDropCardGroupIndex=e,l.Client.Instance.sendData(g.GameMsgProxy10100.mainNetId,m.GameNetProto10100.NOTIFY.SUB_C_PUT_CARD_2_GROUP_CARD,m.GameNetProto10100.CMD_GAME_C_PUT_CARD_2_GROUP_CARD.WriteFrom(o))}},t.prototype.CheckOutCard=function(e){if(this.uEnabledAction&&m.GameNetProto10100.TongitsOperType.DUMP_CARD>0){var t=new m.GameNetProto10100.CMD_GAME_C_DUMP_ONE_CARD;return t.byCard=e,l.Client.Instance.sendData(g.GameMsgProxy10100.mainNetId,m.GameNetProto10100.NOTIFY.SUB_C_DUMP_ONE_CARD,m.GameNetProto10100.CMD_GAME_C_DUMP_ONE_CARD.WriteFrom(t)),!0}return!1},t.prototype.AddOutCardList=function(e,t){void 0===t&&(t=!0),this.outCardList.push(e),t&&(this.RightCard.skin=u.GameCardRes10100.Instance.GetCardResByData(e),this.RightCard.visible=!0)},t.prototype.ReOutCardList=function(){if(this.outCardList.length>0)if(this.outCardList.pop(),this.outCardList.length>0){var e=this.outCardList[this.outCardList.length-1];this.RightCard.skin=u.GameCardRes10100.Instance.GetCardResByData(e)}else this.RightCard.visible=!1},t.prototype.OnFightSuccess=function(){this.uEnabledAction=0,this.SelectLeft.visible=!1,this.SelectRight.visible=!1},t.prototype.OnGameEnd=function(e){for(var t=0;t<this.playerCard.length;t++){this.playerCard[t].DropBg.visible=!1;var n=p.GameData10100.UiNoToLogiNo(t);if(0==t)this.LabelPoint.text=e.m_arrHighCardScore[n].toString();else if(e.wSkipChairID!=n){for(var o=e.m_arrCardGroup[n],i=[],a=0;a<o.nGroupCount;a++){for(var r=o.nGroupCardCount[a],s=0;s<r;s++)i.push(o.arrGroupCard[13*a+s]);i.push(0)}var l=e.nHighCardCount[n];for(a=0;a<l;a++)i.push(e.arrHighCardList[13*n+a]);this.playerHandCard[t].InitHandCard(i,e.m_arrHighCardScore[n])}}},t.prototype.CheckSelectCards=function(e){for(var t=0;t<this.SelectDrop.length;t++)this.SelectDrop[t].data=null,this.SelectDrop[t].droimage.visible=!1;if(e.length>0){var n=!0;if((this.uEnabledAction&m.GameNetProto10100.TongitsOperType.HIGH_CARD)>0){var o=[];for(t=0;t<this.playerCard.length;t++){var i=this.playerCard[t].IsCanGroudCard(e);if(i.length>0)for(var a=0;a<i.length;a++){var r=p.GameData10100.UiNoToLogiNo(t),s={};s.gid=i[a],s.uid=r,s.did=t,o.push(s)}}n=o.length<=0,this.ShowDropSelect(o)}1==e.length?f.GameMain10100.Instance.ButtonDump.disabled=(this.uEnabledAction&m.GameNetProto10100.TongitsOperType.DUMP_CARD)<=0:(f.GameMain10100.Instance.ButtonDump.disabled=!0,e.length>2&&(this.uEnabledAction&m.GameNetProto10100.TongitsOperType.DROP_CARDS)>0?f.GameMain10100.Instance.ButtonDrop.disabled=!this.CheckGroud(e):f.GameMain10100.Instance.ButtonDrop.disabled=!0,n&&this.outCardList.length>0&&(this.uEnabledAction&m.GameNetProto10100.TongitsOperType.OUT_CARD)>0&&(e.push(this.outCardList[this.outCardList.length-1]),n=!this.CheckGroud(e))),f.GameMain10100.Instance.ButtonGroup.disabled=n}else f.GameMain10100.Instance.ButtonDrop.disabled=!0,f.GameMain10100.Instance.ButtonGroup.disabled=!0,f.GameMain10100.Instance.ButtonDump.disabled=!0},t.prototype.ShowDropSelect=function(e){for(var t=0;t<this.SelectDrop.length;t++)if(t<e.length&&null!=e[t]){this.SelectDrop[t].data=e[t];var n=this.playerCard[e[t].did].GetGroudPos(e[t].gid);if(null!=n){var o=this.SelectDrop[t].droimage;o.pos(n.x,n.y),o.width=this.playerCard[e[t].did].GetGroudWidth(e[t].gid),o.visible=!0}}else this.SelectDrop[t].data=null,this.SelectDrop[t].droimage.visible=!1},t.prototype.CheckGroud=function(e){for(var t=!0,n=0,o=0;o<e.length;o++)0==n?n=15&e[o]:n!=(15&e[o])&&(t=!1);if(!t)for(t=!0,n=0,e.sort(function(e,t){return e-t}),o=0;o<e.length;o++){if(0!=n&&e[o]!=n+1){t=!1;break}n=e[o]}return t},t.prototype.GetSendCardPos=function(){return null!=this.sendCardPos&&null!=this.sendCardPos||(this.sendCardPos=new _.Laya.Point(this.LeftCard.x,this.LeftCard.y)),this.sendCardPos},t.prototype.GetOutCardPos=function(){return null!=this.outCardPos&&null!=this.outCardPos||(this.outCardPos=new _.Laya.Point(this.RightCard.x,this.RightCard.y)),this.outCardPos},a([b(_.Laya.Box)],t.prototype,"GBox",void 0),a([b({type:d.GameHandCardOrther10100})],t.prototype,"playerHandCard_2",void 0),a([b({type:d.GameHandCardOrther10100})],t.prototype,"playerHandCard_3",void 0),a([b({type:y.GamePlayerCard10100})],t.prototype,"DropBox0",void 0),a([b({type:y.GamePlayerCard10100})],t.prototype,"DropBox1",void 0),a([b({type:y.GamePlayerCard10100})],t.prototype,"DropBox2",void 0),a([b(_.Laya.Image)],t.prototype,"LeftCard",void 0),a([b(_.Laya.Image)],t.prototype,"RightCard",void 0),a([b(_.Laya.Label)],t.prototype,"LabelCard",void 0),a([b(_.Laya.Label)],t.prototype,"LabelPoint",void 0),a([b(_.Laya.Image)],t.prototype,"SelectLeft",void 0),a([b(_.Laya.Image)],t.prototype,"SelectRight",void 0),a([b(_.Laya.SpineSkeleton)],t.prototype,"DropCardAni",void 0),n=a([v()],t)}(_.Laya.Script);n.GameCardMg10100=S,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya","../../halls/halllib/net/Client":"Client","./GameAudioContro10100":"GameAudioContro10100","./GameCardRes10100":"GameCardRes10100","./GameData10100":"GameData10100","./GameHandCard10100":"GameHandCard10100","./GameHandCardOrther10100":"GameHandCardOrther10100","./GameMain10100":"GameMain10100","./GameMsgProxy10100":"GameMsgProxy10100","./GameNetProto10100":"GameNetProto10100","./GamePlayerCard10100":"GamePlayerCard10100"}],GameCardMg34800:[function(e,t,n){"use strict";cc._RF.push(t,"80a29ShXVlJrZkHTj4XvYhx","GameCardMg34800");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameCardMg34800=void 0;var r=e("../../halls/halllib/laya/Laya"),s=r.Laya.regClass,l=(r.Laya.property,e("./GameBetPanel34800")),c=e("./SoundManager34800"),u=function(e){function t(){return e.call(this)||this}var n;return i(t,e),n=t,t.prototype.onAwake=function(){n.Instance=this,this.CardImage=[],this.CardDataList=[];for(var e=0;e<5;e++)this.CardDataList[e]=new p(this.owner.getChildAt(e),e);var t=this.owner;this.X=t.x,this.Y=t.y},t.prototype.ReSet=function(){for(var e=0;e<this.CardDataList.length;e++)this.CardDataList[e].ReSet();r.Laya.timer.clearAll(this)},t.prototype.SendCard=function(){c.SoundManager34800.Instance.PlaySoundById(8,1);for(var e=0;e<this.CardDataList.length;e++)this.CardDataList[e].PlaySend()},t.prototype.ShowCards=function(e){var t=[],n=!0,o=!0,i=e[4]%16;this.CardDataList[4].ShowCard(e[4],!1,i);for(var a=0;a<4;a++){var s=e[a]%16;t[a]=s>i||s==i&&e[a]>e[4],t[a]?o=!1:n=!1,r.Laya.timer.once(400*(a+1),this.CardDataList[a],this.CardDataList[a].ShowCard,[e[a],t[a],s])}r.Laya.timer.once(2e3,l.GameBetPanel34800.Instance,l.GameBetPanel34800.Instance.OpenPrize,[t,o,n])},t.prototype.GetCardByData=function(e){return this.CardImage[e]||(this.CardImage[e]=r.Laya.loader.getRes("resources/games/game34800/res/cards/"+e+".png")),this.CardImage[e]},n=a([s()],t)}(r.Laya.Script);n.GameCardMg34800=u;var p=function(){function e(e,t){this.Index=t,this.CardSprite=e,this.X=this.CardSprite.x,this.Y=this.CardSprite.y,this.LabelLost=e.getChildByName("LabelLost"),this.LabelWin=e.getChildByName("LabelWin"),t<4&&(this.Spine=e.getChildByName("Spine"))}return e.prototype.PlaySend=function(){this.LabelLost.visible=!1,this.LabelWin.visible=!1,this.CardSprite.texture=u.Instance.GetCardByData(0),this.CardSprite.pos(0,0),r.Laya.Tween.to(this.CardSprite,{x:this.X,y:this.Y},400),this.CardSprite.visible=!0},e.prototype.ShowCard=function(e,t,n){var o=this;c.SoundManager34800.Instance.PlaySoundById(7,1),this.CardSprite.visible=!0,this.CardSprite.texture=u.Instance.GetCardByData(0),r.Laya.Tween.to(this.CardSprite,{scaleX:.05},200,null,new r.Laya.Handler(null,function(){o.CardSprite.texture=u.Instance.GetCardByData(e),r.Laya.Tween.to(o.CardSprite,{scaleX:1},200,null,new r.Laya.Handler(null,function(){o.Index<4&&(o.LabelWin.text=t?"X"+n.toString():"",o.LabelLost.text=t?"":"X"+n.toString(),o.LabelLost.visible=!t,o.LabelWin.visible=t,t&&(l.GameBetPanel34800.Instance.SetOpenPrize(o.Index),o.Spine.visible=!0,o.Spine.play(0,!1),r.Laya.timer.once(1300,o,function(){o.Spine.visible=!1})))}))}))},e.prototype.ReSet=function(){this.CardSprite.visible=!1,this.Index<4&&(this.Spine.visible=!1)},e}();cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya","./GameBetPanel34800":"GameBetPanel34800","./SoundManager34800":"SoundManager34800"}],GameCardRes10100:[function(e,t,n){"use strict";cc._RF.push(t,"ac074AQgs9MFJ+FLH7qC15x","GameCardRes10100");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.CardData=n.GameCardRes10100=void 0;var r=e("../../halls/halllib/laya/Laya"),s=r.Laya.regClass,l=r.Laya.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.smallCard=null,t.CardPoolBox=null,t}var n;return i(t,e),n=t,t.prototype.onAwake=function(){n.Instance=this,this.cardPool=[]},t.prototype.GetCardRes=function(e,t){return"resources/games/game10100/res/Card/Card"+((100*t+e).toString()+".png")},t.prototype.GetCardResByData=function(e){return e<=0?"resources/games/game10100/res/Card/Card001.png":this.GetCardRes(15&e,(240&e)/16+1)},t.prototype.GetSmallCard=function(e,t,n){void 0===n&&(n=!1);var o=this.cardPool.length>0?this.cardPool.pop():new u(this.smallCard.create());return o.Data=e,o.SetParent(t),n?o.InitCard():o.Hide(),o},t.prototype.RecoveryCard=function(e){e.SetParent(this.CardPoolBox),e.Hide(),this.cardPool.push(e)},a([l(r.Laya.Prefab)],t.prototype,"smallCard",void 0),a([l(r.Laya.Box)],t.prototype,"CardPoolBox",void 0),n=a([s()],t)}(r.Laya.Script);n.GameCardRes10100=c;var u=function(){function e(e){this.data=0,this.ImageCard=e}return Object.defineProperty(e.prototype,"Index",{get:function(){return this.index},set:function(e){this.ImageCard.pos(30*e,0),this.ImageCard.zOrder=e,this.index=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Data",{get:function(){return this.data},set:function(e){this.CardPoin=15&e,this.CardType=(240&e)/16+1,this.data=e},enumerable:!1,configurable:!0}),e.prototype.Hide=function(){this.ImageCard.visible=!1},e.prototype.SetParent=function(e){e.addChild(this.ImageCard)},e.prototype.InitCard=function(){this.ImageCard.skin=this.data>0?c.Instance.GetCardRes(this.CardPoin,this.CardType):c.Instance.GetCardResByData(this.data),this.ImageCard.visible=!0},e}();n.CardData=u,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya"}],GameCenterApiModels:[function(e,t,n){"use strict";cc._RF.push(t,"f4c3azVvZNEtYKOR6zPt9qw","GameCenterApiModels"),Object.defineProperty(n,"__esModule",{value:!0}),n.FFSendPhoneVerifyCodeOpeartionEnum=n.FFLoginTypeEnum=n.FlatHttpResponseCode=void 0,function(e){e[e.Success=1]="Success"}(n.FlatHttpResponseCode||(n.FlatHttpResponseCode={})),function(e){e.Phone="phone",e.Google="google",e.Facebook="facebook",e.Device="device",e.Apple="apple"}(n.FFLoginTypeEnum||(n.FFLoginTypeEnum={})),function(e){e[e.Login=1]="Login",e[e.Bind=2]="Bind"}(n.FFSendPhoneVerifyCodeOpeartionEnum||(n.FFSendPhoneVerifyCodeOpeartionEnum={})),cc._RF.pop()},{}],GameCenterApi:[function(e,t,n){"use strict";cc._RF.push(t,"df2573dhepLDbeJbgOah0Xz","GameCenterApi");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.gameCenterApi=void 0;var a=e("../../../configs/AppConfig"),r=e("../../../framework/gg"),s=e("../../../framework/http/HttpInterface"),l=e("../core/GameCenterCryptoV1"),c=e("../core/GameCenterHttpRequestV3"),u=function(){function e(){}return e.prototype.getGameServerHost=function(e){return o(this,void 0,Promise,function(){var t;return i(this,function(n){switch(n.label){case 0:return r.gg.logger.log("\u8bf7\u6c42\u6e38\u620f\u670d\u52a1\u76f8\u5173\u5730\u5740","\u5f00\u59cb"),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.GET,host:a.AppConfig.gameCenterHttpHost+"/ip/get_ip_v2",body:e})];case 1:return t=n.sent(),r.gg.logger.log("\u8bf7\u6c42\u6e38\u620f\u670d\u52a1\u76f8\u5173\u5730\u5740","\u7ed3\u679c",t),1!==(null==t?void 0:t.status)&&r.gg.logger.error("\u8bf7\u6c42\u6e38\u620f\u670d\u52a1\u76f8\u5173\u5730\u5740","\u5931\u8d25"),[2,t]}})})},e.prototype.getGameServerStatus=function(){return o(this,void 0,Promise,function(){var e;return i(this,function(t){switch(t.label){case 0:return r.gg.logger.log("\u670d\u52a1\u5668\u72b6\u6001\u67e5\u8be2","\u5f00\u59cb"),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.GET,host:a.AppConfig.gameCenterHttpHost+"/cloud_service/server_status",body:{}})];case 1:return e=t.sent(),r.gg.logger.log("\u670d\u52a1\u5668\u72b6\u6001\u67e5\u8be2","\u7ed3\u679c",e),[2,e]}})})},e.prototype.loadRemoteConfigAsync=function(e){return o(this,void 0,Promise,function(){var t;return i(this,function(n){switch(n.label){case 0:return r.gg.logger.debug("\u8bf7\u6c42\u8fdc\u7a0b\u914d\u7f6e","\u5f00\u59cb"),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.GET,host:a.AppConfig.gameCenterHttpHost+"/cloud_service/get_cloud_config_v2",body:e})];case 1:return t=n.sent(),r.gg.logger.debug("\u8bf7\u6c42\u8fdc\u7a0b\u914d\u7f6e","\u7ed3\u679c",t),[2,t]}})})},e.prototype.loginAsync=function(e){return o(this,void 0,Promise,function(){var t;return i(this,function(n){switch(n.label){case 0:return r.gg.logger.debug("\u767b\u5f55\u5230\u6e38\u620f\u4e2d\u5fc3","\u5f00\u59cb"),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.GET,host:a.AppConfig.gameCenterHttpHost+"/account_service/login",body:e})];case 1:return t=n.sent(),r.gg.logger.debug("\u767b\u5f55\u5230\u6e38\u620f\u4e2d\u5fc3","\u7ed3\u679c",t),[2,t]}})})},e.prototype.logOutAsync=function(e){return o(this,void 0,Promise,function(){var t;return i(this,function(n){switch(n.label){case 0:return r.gg.logger.debug("\u767b\u51fa\u6e38\u620f\u4e2d\u5fc3","\u5f00\u59cb"),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.GET,host:a.AppConfig.gameCenterHttpHost+"/account_service/logout",body:e})];case 1:return t=n.sent(),r.gg.logger.debug("\u767b\u51fa\u6e38\u620f\u4e2d\u5fc3","\u7ed3\u679c",t),[2,t]}})})},e.prototype.sendPhoneVerifyCodeAsync=function(e){return o(this,void 0,Promise,function(){var t;return i(this,function(n){switch(n.label){case 0:return r.gg.logger.debug("\u8bf7\u6c42\u83b7\u53d6\u624b\u673a\u9a8c\u8bc1\u7801","\u5f00\u59cb"),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.GET,host:a.AppConfig.gameCenterHttpHost+"/account_service/send_verify_code",body:e})];case 1:return t=n.sent(),r.gg.logger.debug("\u8bf7\u6c42\u83b7\u53d6\u624b\u673a\u9a8c\u8bc1\u7801","\u7ed3\u679c",t),[2,t]}})})},e.prototype.bindPhoneAsync=function(e){return o(this,void 0,Promise,function(){var t;return i(this,function(n){switch(n.label){case 0:return r.gg.logger.debug("\u7ed1\u5b9a\u624b\u673a","\u5f00\u59cb"),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.GET,host:a.AppConfig.gameCenterHttpHost+"/account_service/bind_phone",body:e})];case 1:return t=n.sent(),r.gg.logger.debug("\u7ed1\u5b9a\u624b\u673a","\u7ed3\u679c",t),[2,t]}})})},e.prototype.getAgoraToken=function(e){return o(this,void 0,Promise,function(){var t;return i(this,function(n){switch(n.label){case 0:return r.gg.logger.debug("\u83b7\u53d6\u58f0\u7f51\u7528\u6237Token","\u5f00\u59cb"),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.GET,host:a.AppConfig.gameCenterHttpHost+"/agora/rtc_token",body:e})];case 1:return t=n.sent(),r.gg.logger.debug("\u83b7\u53d6\u58f0\u7f51\u7528\u6237Token","\u7ed3\u679c",t),[2,t]}})})},e.prototype.getRongyunToken=function(e){return o(this,void 0,Promise,function(){var t;return i(this,function(n){switch(n.label){case 0:return r.gg.logger.debug("\u83b7\u53d6\u878d\u4e91\u7528\u6237Token","\u5f00\u59cb"),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.GET,host:a.AppConfig.gameCenterHttpHost+"/rongyun/get_token",body:e})];case 1:return t=n.sent(),r.gg.logger.debug("\u83b7\u53d6\u878d\u4e91\u7528\u6237Token","\u7ed3\u679c",t),[2,t]}})})},e.prototype.postSubFCMTopicAsyncWithToken=function(e){return o(this,void 0,Promise,function(){var t;return i(this,function(n){switch(n.label){case 0:return r.gg.logger.debug("\u63a8\u9001FCM token","\u5f00\u59cb"),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.POST,host:a.AppConfig.gameCenterHttpHost+"/device/sub_fcm_topic_async",body:e})];case 1:return t=n.sent(),r.gg.logger.debug("\u63a8\u9001FCM token","\u7ed3\u679c",t),[2,t]}})})},e.prototype.postFCMActionAsync=function(e){return o(this,void 0,Promise,function(){var t;return i(this,function(n){switch(n.label){case 0:return r.gg.logger.debug("\u63a8\u9001FCM token","\u5f00\u59cb"),[4,new c.GameCenterHttpRequestV3(l.gameCenterCryptoV1).requestAsync({method:s.HttpMethodEnum.POST,host:a.AppConfig.gameCenterHttpHost+"/device/action",body:e})];case 1:return t=n.sent(),r.gg.logger.debug("\u6253\u70b9","\u7ed3\u679c",t),[2,t]}})})},e}();n.gameCenterApi=new u,cc._RF.pop()},{"../../../configs/AppConfig":"AppConfig","../../../framework/gg":"gg","../../../framework/http/HttpInterface":"HttpInterface","../core/GameCenterCryptoV1":"GameCenterCryptoV1","../core/GameCenterHttpRequestV3":"GameCenterHttpRequestV3"}],GameCenterCommonParams:[function(e,t,n){"use strict";cc._RF.push(t,"6d5f6MHyqJBk5U50kGcagtu","GameCenterCommonParams"),Object.defineProperty(n,"__esModule",{value:!0}),n.GameCenterCommonParams=void 0;var o=e("../../../configs/AppConfig"),i=e("../../../configs/GameConfig"),a=e("../../../ffframework/common/ActivationWrapper"),r=e("../../../ffframework/common/DeviceInfoWrapper"),s=e("../../user/UserSystem"),l=function(){function e(){}return e.getPlatform=function(){return cc.sys.os===cc.sys.OS_ANDROID?"android":cc.sys.os===cc.sys.OS_IOS?"ios":"web"},e.fillCommonParams=function(e){var t,n,l,c,u,p,h=e;for(var d in h||(h={}),h.anm=o.AppConfig.anm,h.subanm=o.AppConfig.subanm,h.pkg=o.AppConfig.packageName,h.vc=o.AppConfig.appVersionCode,h.vn=o.AppConfig.appVersionName,h.lib_vn=o.AppConfig.libVersionName,h.gvn=i.GameConfig.gameVersionName,h.platform=this.getPlatform(),h.uid||(h.uid=null!==(n=null===(t=s.userSystem.userModel)||void 0===t?void 0:t.uid)&&void 0!==n?n:""),h.did=a.ActivationWrapper.did,h.idfa=r.DeviceInfoWrapper.gaid,h.idfv=r.DeviceInfoWrapper.idfv,h.brand=r.DeviceInfoWrapper.brand,h.mod=r.DeviceInfoWrapper.model,h.country=r.DeviceInfoWrapper.countryIso,h.language=r.DeviceInfoWrapper.language,h.has_sim_card=r.DeviceInfoWrapper.hasSimCard?1:0,h.sim_mcc_mnc=r.DeviceInfoWrapper.simOperator,h.net_mcc_mnc=r.DeviceInfoWrapper.netOperator,h.sys_vc=r.DeviceInfoWrapper.systemVersionCode,h.sys_vn=r.DeviceInfoWrapper.systemVersionName,h.phone||(h.phone=null!==(c=null===(l=s.userSystem.userModel)||void 0===l?void 0:l.phone)&&void 0!==c?c:""),h.token||(h.token=null!==(p=null===(u=s.userSystem.userModel)||void 0===u?void 0:u.userToken)&&void 0!==p?p:""),h)Object.prototype.hasOwnProperty.call(h,d)&&(h[d]=h[d]+"");return h},e}();n.GameCenterCommonParams=l,cc._RF.pop()},{"../../../configs/AppConfig":"AppConfig","../../../configs/GameConfig":"GameConfig","../../../ffframework/common/ActivationWrapper":"ActivationWrapper","../../../ffframework/common/DeviceInfoWrapper":"DeviceInfoWrapper","../../user/UserSystem":"UserSystem"}],GameCenterCryptoV1:[function(e,t,n){"use strict";cc._RF.push(t,"3a8927WIOJBJKZy5o/G+Zfe","GameCenterCryptoV1");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.gameCenterCryptoV1=void 0;var i=o(e("crypto-js")),a=o(e("../../../framework/utils/StringUtils")),r=e("../../../framework/gg"),s=function(){function e(){this._aesSecretKey="rz18efAXUbdiaO7k",this._aesIv="rz18efAXUbdiaO7k",this._signSecretKey="PM9GikcERfy2yi6f"}return e.prototype.encrypt=function(e){if(a.default.isEmpty(e))return"";var t=i.default.AES.encrypt(e,i.default.enc.Latin1.parse(this._aesSecretKey),{iv:i.default.enc.Latin1.parse(this._aesIv),padding:i.default.pad.ZeroPadding}).ciphertext.toString(i.default.enc.Base64);return r.gg.logger.debug("encrypt src",e),r.gg.logger.debug("encrypt aes key",this._aesSecretKey,"iv",this._aesIv),r.gg.logger.debug("encrypt aes result base64",t),t},e.prototype.decrypt=function(e){if(a.default.isEmpty(e))return"";var t=i.default.AES.decrypt(e,i.default.enc.Latin1.parse(this._aesSecretKey),{iv:i.default.enc.Latin1.parse(this._aesIv),padding:i.default.pad.ZeroPadding}).toString(i.default.enc.Utf8);return r.gg.logger.debug("decrypt src",e),r.gg.logger.debug("decrypt aes key",this._aesSecretKey,"iv",this._aesIv),r.gg.logger.debug("decrypt result",t),t},e.prototype.sign=function(e){var t=[e,this._signSecretKey].join("&");return i.default.MD5(t).toString()},e}();n.gameCenterCryptoV1=new s,cc._RF.pop()},{"../../../framework/gg":"gg","../../../framework/utils/StringUtils":"StringUtils","crypto-js":15}],GameCenterCryptoV2:[function(e,t,n){"use strict";cc._RF.push(t,"fac87DI5MpPeoA+wc7UfUFC","GameCenterCryptoV2");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.gameCenterCryptoV2=void 0;var i=o(e("crypto-js")),a=o(e("../../../framework/utils/StringUtils")),r=function(){function e(){this._aesSecretKey="8hlgfl8ztrymiisb",this._aesIv="8hlgfl8ztrymiisb",this._signSecretKey="vljewy99spy7avhl"}return e.prototype.encrypt=function(e){return a.default.isEmpty(e)?"":i.default.AES.encrypt(e,i.default.enc.Utf8.parse(this._aesSecretKey),{iv:i.default.enc.Utf8.parse(this._aesIv),mode:i.default.mode.CBC,padding:i.default.pad.ZeroPadding}).ciphertext.toString(i.default.enc.Base64)},e.prototype.decrypt=function(e){return a.default.isEmpty(e)?"":i.default.AES.decrypt(e,i.default.enc.Utf8.parse(this._aesSecretKey),{iv:i.default.enc.Utf8.parse(this._aesIv),mode:i.default.mode.CBC,padding:i.default.pad.ZeroPadding}).toString(i.default.enc.Utf8)},e.prototype.sign=function(e){var t=[e,this._signSecretKey].join("&");return i.default.MD5(t).toString()},e}();n.gameCenterCryptoV2=new r,cc._RF.pop()},{"../../../framework/utils/StringUtils":"StringUtils","crypto-js":15}],GameCenterHttpRequestV3:[function(e,t,n){"use strict";cc._RF.push(t,"2cb9cVqnb9Jm6//ZFGabTtO","GameCenterHttpRequestV3"),Object.defineProperty(n,"__esModule",{value:!0}),n.GameCenterHttpRequestV3=void 0;var o=e("../../../configs/AppConfig"),i=e("../../../framework/http/HttpInterface"),a=e("../../../framework/http/XMLHttpRequestWrapper"),r=e("../../../framework/gg"),s=e("../../../framework/utils/JsonUtils"),l=e("./GameCenterCommonParams"),c=function(){function e(e){this._httpRequest=null,this._crypto=null,this._crypto=e}return e.prototype.request=function(e){var t=this,n=e.onResponse;if(this._fillCommonParams(e))if(this._genDataParam(e)){if(this._genSignParam(e))return e.onResponse=function(e,o){if(e)n(e,o);else if(t._formatResponse(o)){var a=t._descryptDataParam(o);n(a?e:i.HttpError.DecryptFailed,o)}else n(i.HttpError.ConversionFailed,o)},this._httpRequest=new a.XMLHttpRequestWrapper,this._httpRequest.request(e),this;n(i.HttpError.SignGenerateFailed,null)}else n(i.HttpError.EncryptFailed,null);else n(i.HttpError.FillCommonParamsFailed,null)},e.prototype.requestAsync=function(e){var t=this;return new Promise(function(n,o){t.request({method:e.method,host:e.host,body:e.body,header:e.header,timeout:e.timeout,base64:e.base64,base64Body:e.base64Body,onResponse:function(e,t){e?o(e):t?t.status>=200&&t.status<300||304==t.status?n(t.formatData):o(new i.HttpError("Http Code Error")):o(new i.HttpError("No Response"))}})})},e.prototype.abort=function(){this._httpRequest&&this._httpRequest.abort()},e.prototype._fillCommonParams=function(e){return e.body=l.GameCenterCommonParams.fillCommonParams(e.body),!0},e.prototype._genDataParam=function(e){var t=null;if(e.body)try{t=JSON.stringify(e.body)}catch(i){return r.gg.logger.error("body \u8f6c json \u5b57\u7b26\u4e32\u5931\u8d25"),!1}var n=this._crypto.encrypt(t);return e.body={request_data:n,anm:o.AppConfig.anm},!0},e.prototype._genSignParam=function(e){s.JsonUtils.removeNullOrUndefined(e.body);var t=Object.keys(e.body).sort().map(function(t){return t+"="+e.body[t]}).join("&");return e.body.sign=this._crypto.sign(t),!0},e.prototype._formatResponse=function(e){try{return e.formatData=JSON.parse(e.responseText),!0}catch(t){return!1}},e.prototype._descryptDataParam=function(e){if(null==e.formatData.data||""==e.formatData.data)return e.formatData.data=null,!0;try{var t=this._crypto.decrypt(e.formatData.data);return e.formatData.data=JSON.parse(t),!0}catch(n){return r.gg.logger.error("\u89e3\u5bc6\u5931\u8d25",n),!1}},e}();n.GameCenterHttpRequestV3=c,cc._RF.pop()},{"../../../configs/AppConfig":"AppConfig","../../../framework/gg":"gg","../../../framework/http/HttpInterface":"HttpInterface","../../../framework/http/XMLHttpRequestWrapper":"XMLHttpRequestWrapper","../../../framework/utils/JsonUtils":"JsonUtils","./GameCenterCommonParams":"GameCenterCommonParams"}],GameChairInfo11100:[function(e,t,n){"use strict";cc._RF.push(t,"0bc58VtOptMPqTLHHgQczDW","GameChairInfo11100");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameChairInfo11100=void 0;var r=e("../../halls/halllib/common/ConfigMng"),s=e("../../halls/halllib/core/RunData"),l=e("./GameConstant11100"),c=e("../../halls/halllib/laya/Laya"),u=c.Laya.regClass,p=c.Laya.property,h=function(e){function t(){var t=e.call(this)||this;return t.PlayerHead=null,t.PlayerName=null,t.PlayerWin=null,t.PlayerLose=null,t.DeskStation=0,t.moveX=0,t.betEffect=[],t.isFirstBet=!1,t.deskIndex=0,t.effectTime=200,t.nowIndex=0,t}return i(t,e),t.prototype.Init=function(e,t){if(void 0===t&&(t=null),this.deskIndex=e,null!=t&&(1==e||2==e))for(var n=0;n<t.numChildren;n++){var o=t.getChildAt(n);o.visible=!1,this.betEffect.push(o)}this.PlayerHead.skin="",this.PlayerName.text="",this.PlayerWin.text="",this.PlayerLose.text="",this.moveX=e<=3?110:-170},t.prototype.GameStart=function(){this.PlayerWin.x=0,this.PlayerWin.alpha=0,this.PlayerLose.x=0,this.PlayerLose.alpha=0,this.isFirstBet=!0,this.effectTime=200,this.nowIndex=0;for(var e=0;e<this.betEffect.length;e++)this.betEffect[e].pos(40,40),this.betEffect[e].visible=!1},t.prototype.RefreshChair=function(e){if(e.bDeskStation!=l.GameConstant11100.ServerInvalidChairID){var t=e.bLogoID;(t<0||t>r.ConfigMng.hallconfigJson.face.facelist.length)&&(t=0),this.PlayerHead.skin=r.ConfigMng.hallconfigJson.face.facelist[t],this.PlayerName.text=e.nickName,this.DeskStation=e.bDeskStation}else this.PlayerHead.skin="",this.PlayerName.text="";this.DeskStation=e.bDeskStation},t.prototype.StartBet=function(e){this.isFirstBet&&(1==this.deskIndex?(this.endPos=0==e?new c.Laya.Point(-313,326):new c.Laya.Point(-753,326),this.betEffect.length>0&&(this.nowIndex=this.betEffect.length,c.Laya.timer.loop(20,this,this.StartPlayBetEffect),this.isFirstBet=!1)):2==this.deskIndex&&(this.endPos=0==e?new c.Laya.Point(676,326):new c.Laya.Point(213,326),this.betEffect.length>0&&(this.nowIndex=this.betEffect.length,c.Laya.timer.loop(20,this,this.StartPlayBetEffect),this.isFirstBet=!1)))},t.prototype.GameEnd=function(e){e>0?(this.PlayerWin.text="+"+s.GameTool.formatMoneyString(e),c.Laya.Tween.to(this.PlayerWin,{x:this.moveX,alpha:1},500)):e<0&&(this.PlayerLose.text=s.GameTool.formatMoneyString(e),c.Laya.Tween.to(this.PlayerLose,{x:this.moveX,alpha:1},500))},t.prototype.GetChipInitPos=function(){return this.PlayerHead.localToGlobal(new c.Laya.Point(this.PlayerHead.x,this.PlayerHead.y))},t.prototype.OnDestroy=function(){c.Laya.Tween.clearAll(this)},t.prototype.StartPlayBetEffect=function(){if(this.effectTime+=100,this.nowIndex--,this.nowIndex<0)c.Laya.timer.clear(this,this.StartPlayBetEffect);else{var e=this.betEffect[this.nowIndex];e.visible=!0,c.Laya.Tween.to(e,{x:this.endPos.x,y:this.endPos.y},this.effectTime,c.Laya.Ease.linearInOut)}},a([p({type:c.Laya.Image})],t.prototype,"PlayerHead",void 0),a([p({type:c.Laya.Label})],t.prototype,"PlayerName",void 0),a([p({type:c.Laya.Label})],t.prototype,"PlayerWin",void 0),a([p({type:c.Laya.Label})],t.prototype,"PlayerLose",void 0),a([u()],t)}(c.Laya.Script);n.GameChairInfo11100=h,cc._RF.pop()},{"../../halls/halllib/common/ConfigMng":"ConfigMng","../../halls/halllib/core/RunData":"RunData","../../halls/halllib/laya/Laya":"Laya","./GameConstant11100":"GameConstant11100"}],GameChairInfo34900:[function(e,t,n){"use strict";cc._RF.push(t,"2a09eO9AX5Md5WO/3GYGMmp","GameChairInfo34900");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameChairInfo34900=void 0;var r=e("../../halls/halllib/common/ConfigMng"),s=e("../../halls/halllib/core/RunData"),l=e("../../halls/halllib/laya/Laya"),c=l.Laya.regClass,u=l.Laya.property,p=function(e){function t(){var t=e.call(this)||this;return t.PlayerHead=null,t.PlayerName=null,t.PlayerWin=null,t.PlayerLose=null,t.DeskStation=0,t.moveX=0,t.betEffect=[],t.isFirstBet=!1,t.deskIndex=0,t.effectTime=200,t.nowIndex=0,t.chairNode=null,t}return i(t,e),t.prototype.Init=function(e,t,n){if(this.deskIndex=e,null!=t&&(1==e||2==e))for(var o=0;o<t.numChildren;o++){var i=t.getChildAt(o);i.visible=!1,this.betEffect.push(i)}this.chairNode=n,this.chairNodeInitPosX=this.chairNode.x,this.PlayerHead.skin="",this.PlayerName.text="",this.PlayerWin.text="",this.PlayerLose.text="",this.moveX=1==e||5==e||6==e?-140:110},t.prototype.GameStart=function(){l.Laya.Tween.clearAll(this),this.PlayerWin.x=0,this.PlayerWin.alpha=0,this.PlayerWin.text="",this.PlayerLose.x=0,this.PlayerLose.alpha=0,this.PlayerLose.text="",this.isFirstBet=!0,this.effectTime=200,this.nowIndex=0;for(var e=0;e<this.betEffect.length;e++)this.betEffect[e].pos(40,40),this.betEffect[e].visible=!1},t.prototype.RefreshChair=function(e){if(null==e)this.PlayerHead.skin="",this.PlayerName.text="",this.DeskStation=255;else{var t=e.bLogoID;(t<0||t>r.ConfigMng.hallconfigJson.face.facelist.length)&&(t=0),this.PlayerHead.loadImage(r.ConfigMng.hallconfigJson.face.facelist[t]),this.PlayerName.text=e.nickName,this.DeskStation=e.bDeskStation}},t.prototype.StartBet=function(e){l.Laya.Tween.clearAll(this),this.PlayerWin.x=0,this.PlayerWin.alpha=0,this.PlayerWin.text="",this.PlayerLose.x=0,this.PlayerLose.alpha=0,this.PlayerLose.text="",this.isFirstBet&&(1==this.deskIndex?(this.endPos=0==e?new l.Laya.Point(-313,326):new l.Laya.Point(-753,326),this.nowIndex=this.betEffect.length,l.Laya.timer.loop(20,this,this.StartPlayBetEffect),this.isFirstBet=!1):2==this.deskIndex&&(this.endPos=0==e?new l.Laya.Point(676,326):new l.Laya.Point(213,326),this.nowIndex=this.betEffect.length,l.Laya.timer.loop(20,this,this.StartPlayBetEffect),this.isFirstBet=!1))},t.prototype.PlayBetAnim=function(){var e=this;l.Laya.Tween.to(this.chairNode,{x:this.chairNode.x+10},100,l.Laya.Ease.backInOut,l.Laya.Handler.create(this,function(){e.chairNode.x=e.chairNodeInitPosX}))},t.prototype.GameEnd=function(e){e>0?(this.PlayerWin.text="+"+s.GameTool.formatMoneyString(e),l.Laya.Tween.to(this.PlayerWin,{x:this.moveX,alpha:1},500)):e<0&&(this.PlayerLose.text=s.GameTool.formatMoneyString(e),l.Laya.Tween.to(this.PlayerLose,{x:this.moveX,alpha:1},500))},t.prototype.GetChipInitPos=function(){return this.PlayerHead.localToGlobal(new l.Laya.Point(this.PlayerHead.x,this.PlayerHead.y))},t.prototype.OnDestroy=function(){l.Laya.Tween.clearAll(this)},t.prototype.StartPlayBetEffect=function(){if(this.effectTime+=100,this.nowIndex--,this.nowIndex<0)l.Laya.timer.clear(this,this.StartPlayBetEffect);else{var e=this.betEffect[this.nowIndex];e.visible=!0,l.Laya.Tween.to(e,{x:this.endPos.x,y:this.endPos.y},this.effectTime,l.Laya.Ease.linearInOut)}},a([u({type:l.Laya.Image})],t.prototype,"PlayerHead",void 0),a([u({type:l.Laya.Label})],t.prototype,"PlayerName",void 0),a([u({type:l.Laya.Label})],t.prototype,"PlayerWin",void 0),a([u({type:l.Laya.Label})],t.prototype,"PlayerLose",void 0),a([c()],t)}(l.Laya.Script);n.GameChairInfo34900=p,cc._RF.pop()},{"../../halls/halllib/common/ConfigMng":"ConfigMng","../../halls/halllib/core/RunData":"RunData","../../halls/halllib/laya/Laya":"Laya"}],GameChipManage30700:[function(e,t,n){"use strict";cc._RF.push(t,"28820zRxmRGn6xH8S/cQkiZ","GameChipManage30700");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameChipManage30700=void 0;var i=e("../../halls/halllib/laya/Laya"),a=i.Laya.regClass,r=(i.Laya.property,function(){function e(){}var t;return t=e,Object.defineProperty(e,"Instance",{get:function(){return null==this._inc&&(this._inc=new t),this._inc},enumerable:!1,configurable:!0}),e.prototype.Destroy=function(){t._inc=null},t=o([a()],e)}());n.GameChipManage30700=r,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya"}],GameChipObj11100:[function(e,t,n){"use strict";cc._RF.push(t,"2bb3fxbF0ZFioGta0NGYHJ7","GameChipObj11100");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.GameChipObj11100=void 0;var a=function(e){function t(t,n){return e.call(this,t,n)||this}return i(t,e),t}(e("../../halls/halllib/laya/Laya").Laya.FontClip);n.GameChipObj11100=a,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya"}],GameChipObj34400:[function(e,t,n){"use strict";cc._RF.push(t,"32cfcPlEFNAd6bnfJP2Ci/h","GameChipObj34400");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.GameChipObj34400=void 0;var a=function(e){function t(t,n){return e.call(this,t,n)||this}return i(t,e),t}(e("../../halls/halllib/laya/Laya").Laya.FontClip);n.GameChipObj34400=a,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya"}],GameChipObj34900:[function(e,t,n){"use strict";cc._RF.push(t,"72aaaSzinFJHLdsXI+Oquoy","GameChipObj34900");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.GameChipObj34900=void 0;var a=function(e){function t(t,n){return e.call(this,t,n)||this}return i(t,e),t}(e("../../halls/halllib/laya/Laya").Laya.FontClip);n.GameChipObj34900=a,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya"}],GameChipPool11100:[function(e,t,n){"use strict";cc._RF.push(t,"fa03dRbFIdGkLC1NvOChhBl","GameChipPool11100");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameChipPool11100=void 0;var r=e("../../halls/halllib/core/HallData"),s=e("../../halls/halllib/core/RunData"),l=e("./GameConstant11100"),c=e("./GameChipObj11100"),u=e("../../halls/halllib/laya/Laya"),p=u.Laya.regClass,h=u.Laya.property,d=function(e){function t(){var t=e.call(this)||this;return t.dealerPos=null,t.ChipPool=null,t.ChipCachePool=[],t.InuserChipPoolMap=new Map,t.chipLevelList=[],t.GameEndMoveToDealer=function(e){r.HallSoundManager.PlaySound(l.GameConstant11100.EFFECT_JettonGold,1);for(var n=300,o=0;o<e.length;o++)if(t.InuserChipPoolMap.has(e[o]))for(var i=function(i){var a=t.InuserChipPoolMap.get(e[o])[i];u.Laya.Tween.to(a,{x:t.dealerPos.x,y:t.dealerPos.y},n,u.Laya.Ease.linearInOut,u.Laya.Handler.create(t,function(){a.visible=!1})),(n+=5)>=500&&(n=500)},a=0;a<t.InuserChipPoolMap.get(e[o]).length;a++)i(a);return new Promise(function(e){u.Laya.timer.once(1e3,t,function(){e()})})},t.GameEndMoveToWinningArea=function(e,n){void 0===n&&(n=null),null==n&&(n=new u.Laya.Point(t.dealerPos.x,t.dealerPos.y));for(var o=0,i=e.keys();o<i.length;o++)for(var a=i[o],r=0,s=800,l=e.get(a),c=t.chipLevelList.length-1;c>=0;c--)if(!((r=Math.floor(l/t.chipLevelList[c]))<=0))for(l%=t.chipLevelList[c];r>0;)t.MoveToArea(n,a,t.chipLevelList[c]),(s+=5)>=1e3&&(s=1e3),r--;return new Promise(function(e){u.Laya.timer.once(1e3,t,function(){e()})})},t}return i(t,e),t.prototype.InitChipPool=function(e){this.chipLevelList=[];for(var t=0;t<5;t++)this.chipLevelList.push(e[t])},t.prototype.GameStart=function(){this.RecoverAllObj()},t.prototype.CreateAreaChip=function(e,t){for(var n=0,o=800,i=t,a=this.chipLevelList.length-1;a>=0;a--)if(!((n=Math.floor(i/this.chipLevelList[a]))<=0))for(i%=this.chipLevelList[a];n>0;){var r=l.GameConstant11100.ChipBetRange.get(e),c=Math.floor(Math.random()*(r.maxX-r.minX+1))+r.minX,p=Math.floor(Math.random()*(r.maxY-r.minY+1))+r.minY,h=Math.floor(360*Math.random()),d=this.GetChipObject(new u.Laya.Point(c,p),e);d.visible=!0,d.rotation=h,d.texture=u.Laya.loader.getRes("resources/games/game11100/res/Image/Chip/UI_Chips_"+(a+1).toString()+".png"),d.texture.offsetY=-40,d.value=s.GameTool.formatMoneyString2(this.chipLevelList[a]),(o+=5)>=1e3&&(o=1e3),n--}},t.prototype.MoveToArea=function(e,t,n){for(var o=0;o<this.chipLevelList.length;o++)if(n==this.chipLevelList[o]){var i=this.GetChipObject(e,t);i.texture=u.Laya.loader.getRes("resources/games/game11100/res/Image/Chip/UI_Chips_"+(o+1).toString()+".png"),i.texture.offsetY=-40,i.visible=!0,i.value=s.GameTool.formatMoneyString2(this.chipLevelList[o]);var a=l.GameConstant11100.ChipBetRange.get(t),r=Math.floor(Math.random()*(a.maxX-a.minX+1))+a.minX,c=Math.floor(Math.random()*(a.maxY-a.minY+1))+a.minY,p=Math.floor(360*Math.random());u.Laya.Tween.to(i,{x:r,y:c,rotation:p},300,u.Laya.Ease.linearInOut)}},t.prototype.GameEndMoveToPlayer=function(e,t,n){for(var o=0,i=800,a=this.chipLevelList.length-1;a>=0;a--)if(!((o=Math.floor(n/this.chipLevelList[a]))<=0)){n%=this.chipLevelList[a];for(var r=function(){var n=l.GameConstant11100.ChipBetRange.get(e),r=Math.floor(Math.random()*(n.maxX-n.minX+1))+n.minX,p=Math.floor(Math.random()*(n.maxY-n.minY+1))+n.minY,h=c.GetChipObject(new u.Laya.Point(r,p),e);h.texture=u.Laya.loader.getRes("resources/games/game11100/res/Image/Chip/UI_Chips_"+(a+1).toString()+".png"),h.texture.offsetY=-40,h.visible=!0,h.value=s.GameTool.formatMoneyString2(c.chipLevelList[a]);var d=Math.floor(360*Math.random());u.Laya.Tween.to(h,{x:t.x,y:t.y,rotation:d},i,u.Laya.Ease.cubicOut,u.Laya.Handler.create(c,function(){h.visible=!1})),(i+=5)>=1e3&&(i=1e3),o--},c=this;o>0;)r()}},t.prototype.RecoverAllObj=function(){for(var e=0,t=this.InuserChipPoolMap.keys();e<t.length;e++)for(var n=t[e],o=0;o<this.InuserChipPoolMap.get(n).length;o++){var i=this.InuserChipPoolMap.get(n)[o];i.visible=!1,this.ChipCachePool.push(i)}this.InuserChipPoolMap.clear()},t.prototype.OnDestroy=function(){if(null!=this.ChipCachePool){for(var e=0;e<this.ChipCachePool.length;e++)this.ChipCachePool[e].destroy();this.ChipCachePool=null}if(null!=this.InuserChipPoolMap){for(var t=0,n=this.InuserChipPoolMap.keys();t<n.length;t++){var o=n[t];for(e=0;e<this.InuserChipPoolMap.get(o).length;e++)this.InuserChipPoolMap.get(o)[e].destroy()}this.InuserChipPoolMap=null}u.Laya.Tween.clearAll(this)},t.prototype.GetChipObject=function(e,t){var n;return this.ChipCachePool.length>0?((n=this.ChipCachePool.shift()).visible=!1,n.pos(e.x,e.y),this.InuserChipPoolMap.has(t)?this.InuserChipPoolMap.get(t).push(n):this.InuserChipPoolMap.set(t,[n]),this.ChipPool.setChildIndex(n,this.ChipPool.numChildren-1),n):((n=new c.GameChipObj11100("resources/games/game11100/res/Image/Chip/ChouMaFontNum.png","0123456789K")).texture=u.Laya.loader.getRes("resources/games/game11100/res/Image/Chip/UI_Chips_1.png"),this.ChipPool.addChild(n),this.ChipPool.setChildIndex(n,this.ChipPool.numChildren-1),n.pos(e.x,e.y),n.width=74,n.height=74,n.anchorX=.5,n.anchorY=.5,n.rotation=0,n.align="center",n.visible=!1,n.texture.offsetY=-40,this.InuserChipPoolMap.has(t)?this.InuserChipPoolMap.get(t).push(n):this.InuserChipPoolMap.set(t,[n]),this.ChipPool.setChildIndex(n,this.ChipPool.numChildren-1),n)},a([h({type:u.Laya.Image})],t.prototype,"dealerPos",void 0),a([h({type:u.Laya.Image})],t.prototype,"ChipPool",void 0),a([p()],t)}(u.Laya.Script);n.GameChipPool11100=d,cc._RF.pop()},{"../../halls/halllib/core/HallData":"HallData","../../halls/halllib/core/RunData":"RunData","../../halls/halllib/laya/Laya":"Laya","./GameChipObj11100":"GameChipObj11100","./GameConstant11100":"GameConstant11100"}],GameChipPool34400:[function(e,t,n){"use strict";cc._RF.push(t,"22276qLghtGjrRL2q84dvaa","GameChipPool34400");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameChipPool34400=void 0;var r=e("../../halls/halllib/core/HallData"),s=e("../../halls/halllib/core/RunData"),l=e("./GameConstant34400"),c=e("./GameChipObj34400"),u=e("../../halls/halllib/laya/Laya"),p=u.Laya.Point,h=u.Laya.regClass,d=u.Laya.property,f=function(e){function t(){var t=e.call(this)||this;return t.DealerPos=null,t.ChipCachePool=[],t.InuserChipPoolMap=new Map,t.chipLevelList=[],t.GameEndMoveToDealer=function(e){r.HallSoundManager.PlaySound(l.GameConstant34400.EFFECT_GetChip,1);for(var n=300,o=0;o<e.length;o++)if(t.InuserChipPoolMap.has(e[o]))for(var i=function(i){var a=t.InuserChipPoolMap.get(e[o])[i],r=t.DealerPos.localToGlobal(new p(.5,.5));u.Laya.Tween.to(a,{x:r.x,y:r.y},n,u.Laya.Ease.linearInOut,u.Laya.Handler.create(t,function(){a.visible=!1})),(n+=5)>=500&&(n=500)},a=0;a<t.InuserChipPoolMap.get(e[o]).length;a++)i(a);return new Promise(function(e){u.Laya.timer.once(1e3,t,function(){e()})})},t.GameEndMoveToWinningArea=function(e,n){void 0===n&&(n=null),null==n&&(n=t.DealerPos.localToGlobal(new p(.5,.5))),r.HallSoundManager.PlaySound(l.GameConstant34400.EFFECT_GetChip,1);for(var o=0,i=e.keys();o<i.length;o++)for(var a=i[o],s=0,c=300,h=e.get(a),d=t.chipLevelList.length-1;d>=0;d--)if(!((s=Math.floor(h/t.chipLevelList[d]))<=0))for(h%=t.chipLevelList[d];s>0;)t.MoveToArea(n,a,t.chipLevelList[d],c),(c+=10)>=500&&(c=500),s--;return new Promise(function(e){u.Laya.timer.once(1e3,t,function(){e()})})},t}return i(t,e),t.prototype.InitChipPool=function(e,t){this.chipLevelList=[],this.betArea=t;for(var n=0;n<l.GameConstant34400.NOTE_MONEY_COUNT;n++)this.chipLevelList.push(e[n])},t.prototype.GameStart=function(){this.RecoverAllObj()},t.prototype.CreateAreaChip=function(e,t){for(var n=0,o=800,i=t,a=this.chipLevelList.length-1;a>=0;a--)if(!((n=Math.floor(i/this.chipLevelList[a]))<=0))for(i%=this.chipLevelList[a];n>0;){var r=this.GetChipMoveToPos(e),l=Math.floor(360*Math.random()),c=this.GetChipObject(new u.Laya.Point(r.x,r.y),e);c.visible=!0,c.rotation=l,c.texture=u.Laya.loader.getRes("resources/games/game34400/res/Image/Game/UI_BetChips_"+(a+1).toString()+".png"),c.texture.offsetY=-30,c.value=s.GameTool.formatMoneyString2(this.chipLevelList[a]),(o+=5)>=1e3&&(o=1e3),n--}},t.prototype.MoveToArea=function(e,t,n,o){void 0===o&&(o=0);for(var i=0;i<this.chipLevelList.length;i++)if(n==this.chipLevelList[i]){var a=this.GetChipObject(e,t);a.texture=u.Laya.loader.getRes("resources/games/game34400/res/Image/Game/UI_BetChips_"+(i+1).toString()+".png"),a.texture.offsetY=-30,a.visible=!0,a.value=s.GameTool.formatMoneyString2(this.chipLevelList[i]);var r=Math.floor(360*Math.random()),l=this.GetChipMoveToPos(t),c=o>0?o:300;u.Laya.Tween.to(a,{x:l.x,y:l.y,rotation:r},c,u.Laya.Ease.linearInOut)}},t.prototype.GameEndMoveToPlayer=function(e,t,n){var o=0,i=800;r.HallSoundManager.PlaySound(l.GameConstant34400.EFFECT_GetChip,1);for(var a=this.chipLevelList.length-1;a>=0;a--)if(!((o=Math.floor(n/this.chipLevelList[a]))<=0)){n%=this.chipLevelList[a];for(var c=function(){var n=p.GetChipMoveToPos(e),r=p.GetChipObject(new u.Laya.Point(n.x,n.y),e);r.texture=u.Laya.loader.getRes("resources/games/game34400/res/Image/Game/UI_BetChips_"+(a+1).toString()+".png"),r.texture.offsetY=-30,r.visible=!0,r.value=s.GameTool.formatMoneyString2(p.chipLevelList[a]);var l=Math.floor(360*Math.random());u.Laya.Tween.to(r,{x:t.x,y:t.y,rotation:l},i,u.Laya.Ease.cubicOut,u.Laya.Handler.create(p,function(){r.visible=!1})),(i+=5)>=1e3&&(i=1e3),o--},p=this;o>0;)c()}},t.prototype.GetChipLevelNum=function(e){var t=new Map;if(0==e)return t;for(var n=0,o=this.chipLevelList.length-1;o>=0;o--)if(!((n=Math.floor(e/this.chipLevelList[o]))<=0))for(e%=this.chipLevelList[o],t.set(o,n);n>0;)n--;return t},t.prototype.RecoverAllObj=function(){for(var e=0,t=this.InuserChipPoolMap.keys();e<t.length;e++)for(var n=t[e],o=0;o<this.InuserChipPoolMap.get(n).length;o++){var i=this.InuserChipPoolMap.get(n)[o];i.visible=!1,this.ChipCachePool.push(i)}this.InuserChipPoolMap.clear()},t.prototype.OnDestroy=function(){if(null!=this.ChipCachePool){for(var e=0;e<this.ChipCachePool.length;e++)this.ChipCachePool[e].destroy();this.ChipCachePool=null}if(null!=this.InuserChipPoolMap){for(var t=0,n=this.InuserChipPoolMap.keys();t<n.length;t++){var o=n[t];for(e=0;e<this.InuserChipPoolMap.get(o).length;e++)this.InuserChipPoolMap.get(o)[e].destroy()}this.InuserChipPoolMap=null}u.Laya.Tween.clearAll(this)},t.prototype.GetChipObject=function(e,t){var n;return this.ChipCachePool.length>0?((n=this.ChipCachePool.shift()).visible=!1,n.pos(e.x,e.y),this.InuserChipPoolMap.has(t)?this.InuserChipPoolMap.get(t).push(n):this.InuserChipPoolMap.set(t,[n]),this.owner.setChildIndex(n,this.owner.numChildren-1),n):((n=new c.GameChipObj34400("resources/games/game34400/res/Image/Game/ChouMaFontNum.png","0123456789K")).texture=u.Laya.loader.getRes("resources/games/game34400/res/Image/Game/UI_BetChips_1.png"),this.owner.addChild(n),this.owner.setChildIndex(n,this.owner.numChildren-1),n.pos(e.x,e.y),n.width=40,n.height=40,n.anchorX=.5,n.anchorY=.5,n.rotation=0,n.spaceX=-2,n.align="center",n.visible=!1,n.texture.offsetY=-30,this.InuserChipPoolMap.has(t)?this.InuserChipPoolMap.get(t).push(n):this.InuserChipPoolMap.set(t,[n]),this.owner.setChildIndex(n,this.owner.numChildren-1),n)},t.prototype.GetChipMoveToPos=function(e){var t=this.betArea.get(e).GetPosition(),n=0,o=0;return e<4?(n=this.getRandomInt(-40,40),o=this.getRandomInt(-50,50)):e<10?(n=this.getRandomInt(-55,55),o=this.getRandomInt(-2,2)):e<16?(n=this.getRandomInt(-40,40),o=this.getRandomInt(-30,30)):e<23?(n=this.getRandomInt(-50,50),o=this.getRandomInt(-30,30)):(n=this.getRandomInt(-45,45),o=this.getRandomInt(-140,140)),new p(t.x+n,t.y+o)},t.prototype.getRandomInt=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e},a([d({type:u.Laya.Image})],t.prototype,"DealerPos",void 0),a([h()],t)}(u.Laya.Script);n.GameChipPool34400=f,cc._RF.pop()},{"../../halls/halllib/core/HallData":"HallData","../../halls/halllib/core/RunData":"RunData","../../halls/halllib/laya/Laya":"Laya","./GameChipObj34400":"GameChipObj34400","./GameConstant34400":"GameConstant34400"}],GameChipPool34900:[function(e,t,n){"use strict";cc._RF.push(t,"0479bMF7E9Jg7UAajgnwQw4","GameChipPool34900");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameChipPool34900=void 0;var r=e("../../halls/halllib/core/HallData"),s=e("../../halls/halllib/core/RunData"),l=e("./GameConstant34900"),c=e("./GameChipObj34900"),u=e("../../halls/halllib/laya/Laya"),p=u.Laya.regClass,h=u.Laya.property,d=function(e){function t(){var t=e.call(this)||this;return t.dealerPos=null,t.ChipPool=null,t.ChipCachePool=[],t.InuserChipPool=[],t.chipLevelList=[],t.GameEndMoveToDealer=function(){r.HallSoundManager.PlaySound(l.GameConstant34900.EFFECT_Bet,1);for(var e=300,n=function(n){var o=t.InuserChipPool[n];u.Laya.Tween.to(o,{x:t.dealerPos.x,y:t.dealerPos.y},e,u.Laya.Ease.linearInOut,u.Laya.Handler.create(t,function(){o.visible=!1})),(e+=5)>=500&&(e=500)},o=0;o<t.InuserChipPool.length;o++)n(o);return new Promise(function(e){u.Laya.timer.once(1e3,t,function(){e()})})},t}return i(t,e),t.prototype.InitChipPool=function(e){this.chipLevelList=e},t.prototype.MoveToArea=function(e,t,n){for(var o=0;o<this.chipLevelList.length;o++)if(n==this.chipLevelList[o]){var i=this.GetChipObject(e);i.texture=u.Laya.loader.getRes("resources/games/game34900/res/Image/Game/UI_BetChips_"+(o+1).toString()+".png"),i.texture.offsetY=-40,i.visible=!0,i.value=s.GameTool.formatMoneyString2(this.chipLevelList[o]);var a=l.GameConstant34900.ChipBetRange.get(t),r=Math.floor(Math.random()*(a.maxX-a.minX+1))+a.minX,c=Math.floor(Math.random()*(a.maxY-a.minY+1))+a.minY,p=Math.floor(360*Math.random());u.Laya.Tween.to(i,{x:r,y:c,rotation:p},300,u.Laya.Ease.linearInOut)}},t.prototype.CreateAreaChip=function(e,t){for(var n=0,o=800,i=t,a=this.chipLevelList.length-1;a>=0;a--)if(!((n=Math.floor(i/this.chipLevelList[a]))<=0))for(i%=this.chipLevelList[a];n>0;){var r=l.GameConstant34900.ChipBetRange.get(e),c=Math.floor(Math.random()*(r.maxX-r.minX+1))+r.minX,p=Math.floor(Math.random()*(r.maxY-r.minY+1))+r.minY,h=Math.floor(360*Math.random()),d=this.GetChipObject(new u.Laya.Point(c,p));d.visible=!0,d.rotation=h,d.texture=u.Laya.loader.getRes("resources/games/game34900/res/Image/Game/UI_BetChips_"+(a+1).toString()+".png"),d.texture.offsetY=-40,d.value=s.GameTool.formatMoneyString2(this.chipLevelList[a]),(o+=5)>=1e3&&(o=1e3),n--}},t.prototype.GameEndMoveToPlayer=function(e,t){for(var n=0,o=800,i=this.chipLevelList.length-1;i>=0;i--)if(!((n=Math.floor(t/this.chipLevelList[i]))<=0)){t%=this.chipLevelList[i];for(var a=function(){var t=r.GetChipObject(new u.Laya.Point(r.dealerPos.x,r.dealerPos.y));t.pos(r.dealerPos.x,r.dealerPos.y),t.texture=u.Laya.loader.getRes("resources/games/game34900/res/Image/Game/UI_BetChips_"+(i+1).toString()+".png"),t.texture.offsetY=-40,t.visible=!0,t.value=s.GameTool.formatMoneyString2(r.chipLevelList[i]),u.Laya.Tween.to(t,{x:e.x,y:e.y},o,u.Laya.Ease.cubicOut,u.Laya.Handler.create(r,function(){t.visible=!1})),(o+=5)>=1e3&&(o=1e3),n--},r=this;n>0;)a()}},t.prototype.RecoverObj=function(){var e=this.InuserChipPool.pop();e.visible=!1,this.ChipCachePool.push(e)},t.prototype.RecoverAllObj=function(){for(var e=0;e<this.InuserChipPool.length;e++)this.InuserChipPool[e].visible=!1;this.ChipCachePool=this.ChipCachePool.concat(this.InuserChipPool),this.InuserChipPool.splice(0,this.InuserChipPool.length)},t.prototype.OnDestroy=function(){if(null!=this.ChipCachePool){for(var e=0;e<this.ChipCachePool.length;e++)this.ChipCachePool[e].destroy();this.ChipCachePool=null}if(null!=this.InuserChipPool){for(e=0;e<this.InuserChipPool.length;e++)this.InuserChipPool[e].destroy();this.InuserChipPool=null}u.Laya.Tween.clearAll(this)},t.prototype.GetChipObject=function(e){var t;return this.ChipCachePool.length>0?((t=this.ChipCachePool.shift()).visible=!1,t.pos(e.x,e.y),this.InuserChipPool.push(t),this.ChipPool.setChildIndex(t,this.ChipPool.numChildren-1),t):((t=new c.GameChipObj34900("resources/games/game34900/res/Image/Game/ChouMaFontNum.png","0123456789K")).texture=u.Laya.loader.getRes("resources/games/game34900/res/Image/Game/UI_BetChips_1.png"),this.ChipPool.addChild(t),this.ChipPool.setChildIndex(t,this.ChipPool.numChildren-1),t.pos(e.x,e.y),t.width=74,t.height=74,t.anchorX=.5,t.anchorY=.5,t.rotation=0,t.align="center",t.visible=!1,t.texture.offsetY=-40,this.InuserChipPool.push(t),t)},a([h({type:u.Laya.Image})],t.prototype,"dealerPos",void 0),a([h({type:u.Laya.Image})],t.prototype,"ChipPool",void 0),a([p()],t)}(u.Laya.Script);n.GameChipPool34900=d,cc._RF.pop()},{"../../halls/halllib/core/HallData":"HallData","../../halls/halllib/core/RunData":"RunData","../../halls/halllib/laya/Laya":"Laya","./GameChipObj34900":"GameChipObj34900","./GameConstant34900":"GameConstant34900"}],GameConfig:[function(e,t,n){"use strict";cc._RF.push(t,"afb7575gfNHA6e/Pq8T7j1l","GameConfig"),Object.defineProperty(n,"__esModule",{value:!0}),n.GameConfig=void 0,n.GameConfig={gameVersionName:"1.6.0",agoraAppId:"eb91988572e04b21b4ca49f1da45244d"},cc._RF.pop()},{}],GameConstant11100:[function(e,t,n){"use strict";var o;cc._RF.push(t,"7c687/3X0tGBbngocZB02TV","GameConstant11100"),Object.defineProperty(n,"__esModule",{value:!0}),n.GameConstant11100=n.ChairInfo=n.GAME_BET_AREA=n.GAME_STATUS_E=void 0,function(e){e[e.IDLE=0]="IDLE",e[e.BET=1]="BET",e[e.OPEN_CARD=2]="OPEN_CARD",e[e.END=3]="END"}(n.GAME_STATUS_E||(n.GAME_STATUS_E={})),function(e){e[e.BLACK=0]="BLACK",e[e.RED=1]="RED",e[e.LUCK=2]="LUCK"}(o=n.GAME_BET_AREA||(n.GAME_BET_AREA={}));n.ChairInfo=function(){this.bLogoID=0,this.nickName="",this.bDeskStation=0};var i=function(){function e(){}return e.GAME_ID=11100,e.GAME_NAME="\u7ea2\u9ed1\u5927\u6218",e.ServerInvalidChairID=65535,e.AREA_MAX=3,e.MAX_OCCUPY_SEAT_COUNT=6,e.MAX_CHIP_COUNT=6,e.ChipBetRange=new Map([[o.BLACK,{minX:260,minY:270,maxX:610,maxY:310}],[o.RED,{minX:720,minY:270,maxX:1072,maxY:310}],[o.LUCK,{minX:450,minY:460,maxX:880,maxY:515}]]),e.LoseCardType=new Map([[0,"resources/games/game11100/res/Image/Game/UI_RedBlack_Lose_Danzhang.png"],[1,"resources/games/game11100/res/Image/Game/UI_RedBlack_Lose_Duizi.png"],[2,"resources/games/game11100/res/Image/Game/UI_RedBlack_Lose_Shunzi.png"],[3,"resources/games/game11100/res/Image/Game/UI_RedBlack_Lose_Jinhua.png"],[4,"resources/games/game11100/res/Image/Game/UI_RedBlack_Lose_Shunjin.png"],[5,"resources/games/game11100/res/Image/Game/UI_RedBlack_Lose_Baozi.png"]]),e.WinCardType=new Map([[0,"resources/games/game11100/res/Image/Game/UI_RedBlack_Win_Danzhang.png"],[1,"resources/games/game11100/res/Image/Game/UI_RedBlack_Win_Duizi.png"],[2,"resources/games/game11100/res/Image/Game/UI_RedBlack_Win_Shunzi.png"],[3,"resources/games/game11100/res/Image/Game/UI_RedBlack_Win_Jinhua.png"],[4,"resources/games/game11100/res/Image/Game/UI_RedBlack_Win_Shunjin.png"],[5,"resources/games/game11100/res/Image/Game/UI_RedBlack_Win_Baozi.png"]]),e.SOUND_GameSceneBGM="resources/games/game11100/res/Audios/RedBlack_GameBGM.mp3",e.EFFECT_RedVsBlack="resources/games/game11100/res/Audios/RedVsBlack.mp3",e.EFFECT_OpenCard1="resources/games/game11100/res/Audios/miCard1.mp3",e.EFFECT_OpenCard2="resources/games/game11100/res/Audios/miCard2.mp3",e.EFFECT_OpenCard3="resources/games/game11100/res/Audios/miCard3.mp3",e.EFFECT_BaoChi="resources/games/game11100/res/Audios/baochi.mp3",e.EFFECT_AreaGoldMoveing="resources/games/game11100/res/Audios/goldmove.mp3",e.EFFECT_StartJetton="resources/games/game11100/res/Audios/startJetton.mp3",e.EFFECT_StopJetton="resources/games/game11100/res/Audios/stopJetton.mp3",e.EFFECT_StartJettonAlert="resources/games/game11100/res/Audios/alert.mp3",e.EFFECT_Countdown="resources/games/game11100/res/Audios/countdown.mp3",e.EFFECT_JettonGold="resources/games/game11100/res/Audios/movechips.mp3",e}();n.GameConstant11100=i,cc._RF.pop()},{}],GameConstant34400:[function(e,t,n){"use strict";cc._RF.push(t,"66307lZ2RtI+7SRHRT5KGnl","GameConstant34400"),Object.defineProperty(n,"__esModule",{value:!0}),n.GameConstant34400=n.GAME_STATE=n.BET_AREA=void 0,function(e){e[e.SICE_BIG=0]="SICE_BIG",e[e.SICE_DOUBLE=1]="SICE_DOUBLE",e[e.SICE_SINGLE=2]="SICE_SINGLE",e[e.SICE_SMALL=3]="SICE_SMALL",e[e.SICE_ONE=4]="SICE_ONE",e[e.SICE_TWO=5]="SICE_TWO",e[e.SICE_THREE=6]="SICE_THREE",e[e.SICE_FOUR=7]="SICE_FOUR",e[e.SICE_FIVE=8]="SICE_FIVE",e[e.SICE_SIX=9]="SICE_SIX",e[e.SICE_SAME_ONE=10]="SICE_SAME_ONE",e[e.SICE_SAME_TWO=11]="SICE_SAME_TWO",e[e.SICE_SAME_THREE=12]="SICE_SAME_THREE",e[e.SICE_SAME_FOUR=13]="SICE_SAME_FOUR",e[e.SICE_SAME_FIVE=14]="SICE_SAME_FIVE",e[e.SICE_SAME_SIX=15]="SICE_SAME_SIX",e[e.SICE_LEOPARD_ALL=16]="SICE_LEOPARD_ALL",e[e.SICE_LEOPARD_ONE=17]="SICE_LEOPARD_ONE",e[e.SICE_LEOPARD_TWO=18]="SICE_LEOPARD_TWO",e[e.SICE_LEOPARD_THREE=19]="SICE_LEOPARD_THREE",e[e.SICE_LEOPARD_FOUR=20]="SICE_LEOPARD_FOUR",e[e.SICE_LEOPARD_FIVE=21]="SICE_LEOPARD_FIVE",e[e.SICE_LEOPARD_SIX=22]="SICE_LEOPARD_SIX",e[e.SICE_MAX=23]="SICE_MAX"}(n.BET_AREA||(n.BET_AREA={})),function(e){e[e.None=0]="None",e[e.Bet=1]="Bet",e[e.OpenPrize=2]="OpenPrize",e[e.End=3]="End",e[e.WaitNext=4]="WaitNext"}(n.GAME_STATE||(n.GAME_STATE={}));var o=function(){function e(){}return e.NAME_ID=34600,e.NOTE_MONEY_COUNT=6,e.RECORD_COUNT=40,e.NOTE_AREA_COUNT=23,e.RANKING_COUNT=5,e.RecordDicePoint=new Map([[1,"resources/games/game34400/res/Image/Game/Icon_LD_SZ_1.png"],[2,"resources/games/game34400/res/Image/Game/Icon_LD_SZ_2.png"],[3,"resources/games/game34400/res/Image/Game/Icon_LD_SZ_3.png"],[4,"resources/games/game34400/res/Image/Game/Icon_LD_SZ_4.png"],[5,"resources/games/game34400/res/Image/Game/Icon_LD_SZ_5.png"],[6,"resources/games/game34400/res/Image/Game/Icon_LD_SZ_6.png"]]),e.RecordDiceType=new Map([[0,"resources/games/game34400/res/Image/Game/Font_LD_Da.png"],[1,"resources/games/game34400/res/Image/Game/Font_LD_Xiao.png"],[2,"resources/games/game34400/res/Image/Game/Font_LD_Bz.png"]]),e.SettlementDiceType=new Map([[1,"resources/games/game34400/res/Image/Game/Icon_Flash_SZ_1.png"],[2,"resources/games/game34400/res/Image/Game/Icon_Flash_SZ_2.png"],[3,"resources/games/game34400/res/Image/Game/Icon_Flash_SZ_3.png"],[4,"resources/games/game34400/res/Image/Game/Icon_Flash_SZ_4.png"],[5,"resources/games/game34400/res/Image/Game/Icon_Flash_SZ_5.png"],[6,"resources/games/game34400/res/Image/Game/Icon_Flash_SZ_6.png"]]),e.SettlementDiceType2=new Map([[1,"resources/games/game34400/res/Image/Game/Icon_SZ_1.png"],[2,"resources/games/game34400/res/Image/Game/Icon_SZ_2.png"],[3,"resources/games/game34400/res/Image/Game/Icon_SZ_3.png"],[4,"resources/games/game34400/res/Image/Game/Icon_SZ_4.png"],[5,"resources/games/game34400/res/Image/Game/Icon_SZ_5.png"],[6,"resources/games/game34400/res/Image/Game/Icon_SZ_6.png"]]),e.SOUND_GameSceneBGM="resources/games/game34400/res/Audio/344BMG.mp3",e.EFFECT_BtnClick="resources/games/game34400/res/Audio/344choose.mp3",e.EFFECT_Countdown="resources/games/game34400/res/Audio/344countdown.mp3",e.EFFECT_Dice="resources/games/game34400/res/Audio/344diceShaizi.mp3",e.EFFECT_StopBet="resources/games/game34400/res/Audio/344endnoteDown.mp3",e.EFFECT_StartBet="resources/games/game34400/res/Audio/344startnotedown.mp3",e.EFFECT_GetChip="resources/games/game34400/res/Audio/344getbet.mp3",e.EFFECT_Result=new Map([[1,"resources/games/game34400/res/Audio/344num1.mp3"],[2,"resources/games/game34400/res/Audio/344num2.mp3"],[3,"resources/games/game34400/res/Audio/344num3.mp3"],[4,"resources/games/game34400/res/Audio/344num4.mp3"],[5,"resources/games/game34400/res/Audio/344num5.mp3"],[6,"resources/games/game34400/res/Audio/344num6.mp3"],[7,"resources/games/game34400/res/Audio/344num7.mp3"],[8,"resources/games/game34400/res/Audio/344num8.mp3"],[9,"resources/games/game34400/res/Audio/344num9.mp3"],[10,"resources/games/game34400/res/Audio/344num10.mp3"],[11,"resources/games/game34400/res/Audio/344num11.mp3"],[12,"resources/games/game34400/res/Audio/344num12.mp3"],[13,"resources/games/game34400/res/Audio/344num13.mp3"]]),e.EFFECT_Bet="resources/games/game34400/res/Audio/344xiazhu.mp3",e}();n.GameConstant34400=o,cc._RF.pop()},{}],GameConstant34500:[function(e,t,n){"use strict";cc._RF.push(t,"57320Wqu2lOGrFfgcjCCq2F","GameConstant34500"),Object.defineProperty(n,"__esModule",{value:!0}),n.GAME_MODE_E=n.GAME_STATUS_E=n.AUTO_MODE_GAME_END_REASON=n.BOARD_SLOT_VALUE=n.GameConstant34500=void 0;var o=function(){function e(){}return e.SkeletonAnimationName_bomb=0,e.SkeletonAnimationName_gold=1,e.SkeletonAnimationName_stand=2,e.OtherRecordRequestTimer=3e5,e.GAME_ID=34500,e.GAME_RECORD_MAX_NUM_PERSONAL=30,e.GAME_RECORD_MAX_NUM_OTHERS=60,e.SLOT_NUMBER=25,e.MIN_MINE_NUMBER=1,e.MAX_MINE_NUMBER=24,e.MAX_PRIZE_MULTI_NUM=24,e.SOUND_GameSceneBGM="resources/games/game34500/res/Audio/bgm.mp3",e.EFFECT_Blast="resources/games/game34500/res/Audio/blast.mp3",e}();n.GameConstant34500=o,function(e){e[e.SLOT_VALUE_COVERED=0]="SLOT_VALUE_COVERED",e[e.SLOT_VALUE_UNCOVERED_TREASURE=1]="SLOT_VALUE_UNCOVERED_TREASURE",e[e.SLOT_VALUE_COVERED_MINE=2]="SLOT_VALUE_COVERED_MINE",e[e.SLOT_VALUE_UNCOVERED_MINE=3]="SLOT_VALUE_UNCOVERED_MINE"}(n.BOARD_SLOT_VALUE||(n.BOARD_SLOT_VALUE={})),function(e){e[e.AUTO_MODE_GAME_END_FINISH_WIN_GAMES=0]="AUTO_MODE_GAME_END_FINISH_WIN_GAMES",e[e.AUTO_MODE_GAME_END_FINISH_LOSE_GAMES=1]="AUTO_MODE_GAME_END_FINISH_LOSE_GAMES",e[e.AUTO_MODE_GAME_END_NOT_SUFFICIENT_FUNDS=2]="AUTO_MODE_GAME_END_NOT_SUFFICIENT_FUNDS",e[e.AUTO_MODE_GAME_END_PLAYER_EXIT_GAME=3]="AUTO_MODE_GAME_END_PLAYER_EXIT_GAME"}(n.AUTO_MODE_GAME_END_REASON||(n.AUTO_MODE_GAME_END_REASON={})),function(e){e[e.E_GAME_STATUS_IDLE=1]="E_GAME_STATUS_IDLE",e[e.E_GAME_STATUS_PLAY=2]="E_GAME_STATUS_PLAY"}(n.GAME_STATUS_E||(n.GAME_STATUS_E={})),function(e){e[e.E_GAME_MODE_NORMAL=1]="E_GAME_MODE_NORMAL",e[e.E_GAME_MODE_AUTO=2]="E_GAME_MODE_AUTO"}(n.GAME_MODE_E||(n.GAME_MODE_E={})),cc._RF.pop()},{}],GameConstant34600:[function(e,t,n){"use strict";cc._RF.push(t,"d6b9egcmSJFgri2w01J4yNQ","GameConstant34600"),Object.defineProperty(n,"__esModule",{value:!0}),n.GameConstant34600=n.GAME_STATE=void 0,function(e){e[e.Bet=1]="Bet",e[e.Play=2]="Play",e[e.End=3]="End"}(n.GAME_STATE||(n.GAME_STATE={}));var o=function(){function e(){}return e.NAME_ID=34600,e.CHIP_COUNT=6,e.GAME_RECORD_MAX_NUM=150,e.LEN_NICKNAME=61,e.RANK_MAX_PLAYER_COUNT=50,e.SOUND_BG="resources/games/game34600/res/Audio/BGM.mp3",e.EFFECT_BLAST="resources/games/game34600/res/Audio/blast.mp3",e.EFFECT_START_FLY="resources/games/game34600/res/Audio/start-up.mp3",e}();n.GameConstant34600=o,cc._RF.pop()},{}],GameConstant34900:[function(e,t,n){"use strict";var o;cc._RF.push(t,"d2e94y1RQNLuKX0ct6hSmV9","GameConstant34900"),Object.defineProperty(n,"__esModule",{value:!0}),n.GameConstant34900=n.ChairInfo=n.ROAD_TYPE=n.GAME_RESULT=n.GAME_STATUS_E=n.TossCoinResult=void 0,function(e){e[e.AREA_HEAD=0]="AREA_HEAD",e[e.AREA_TAIL=1]="AREA_TAIL"}(o=n.TossCoinResult||(n.TossCoinResult={})),function(e){e[e.IDLE=0]="IDLE",e[e.BET=1]="BET",e[e.END=2]="END"}(n.GAME_STATUS_E||(n.GAME_STATUS_E={})),function(e){e[e.Zhuang=0]="Zhuang",e[e.Xian=1]="Xian",e[e.He=2]="He"}(n.GAME_RESULT||(n.GAME_RESULT={})),function(e){e[e.ZhuPanLu=0]="ZhuPanLu",e[e.DaLu=1]="DaLu",e[e.DaYanZaiLu=2]="DaYanZaiLu",e[e.Xiaolu=3]="Xiaolu",e[e.ZhangLangLu=4]="ZhangLangLu"}(n.ROAD_TYPE||(n.ROAD_TYPE={}));n.ChairInfo=function(){this.bLogoID=0,this.nickName="",this.bDeskStation=0};var i=function(){function e(){}return e.GAME_ID=34900,e.GAME_NAME="TossCoin",e.AREA_MAX=2,e.MAX_CHIP_COUNT=6,e.MAX_SIMPLE_CHART_COUNT=100,e.MAX_CHAIR_ROAD_COUNT=13,e.MAX_OCCUPY_SEAT_COUNT=6,e.GAME_STATUS_FREE=0,e.GAME_STATUS_PLACE_JETTON=1,e.GAME_STATUS_ACCOUNT=2,e.ServerInvalidChairID=65535,e.HistoryNoneSprite="Empty",e.ChipBetRange=new Map([[o.AREA_HEAD,{minX:778,minY:290,maxX:1055,maxY:428}],[o.AREA_TAIL,{minX:260,minY:290,maxX:540,maxY:428}]]),e.ZPTrendValueSprite=new Map([[o.AREA_HEAD,"UI_Road_Z_0"],[o.AREA_TAIL,"UI_Road_Z_1"]]),e.DaLuTrendValueSprite=new Map([[o.AREA_HEAD,"UI_Road_D_0"],[o.AREA_TAIL,"UI_Road_D_1"]]),e.DYZLuTrendValueSprite=new Map([[o.AREA_HEAD,"UI_Road_Y_0"],[o.AREA_TAIL,"UI_Road_Y_1"]]),e.XiaoLuTrendValueSprite=new Map([[o.AREA_HEAD,"UI_Road_X_0"],[o.AREA_TAIL,"UI_Road_X_1"]]),e.JiaYouLuTrendValueSprite=new Map([[o.AREA_HEAD,"UI_Road_ZL_0"],[o.AREA_TAIL,"UI_Road_ZL_1"]]),e.DYZLu=new Map([[o.AREA_HEAD,"UI_Road_Y_0"],[o.AREA_TAIL,"UI_Road_Y_1"]]),e.XiaoLu=new Map([[o.AREA_HEAD,"UI_Road_X_0"],[o.AREA_TAIL,"UI_Road_X_1"]]),e.JiaYouLu=new Map([[o.AREA_HEAD,"UI_Road_ZL_0"],[o.AREA_TAIL,"UI_Road_ZL_1"]]),e.SOUND_GameSceneBGM="resources/games/game34900/res/Audios/tossdice_bgm.mp3",e.EFFECT_StartBet="resources/games/game34900/res/Audios/startbet.mp3",e.EFFECT_StopBet="resources/games/game34900/res/Audios/stopbet.mp3",e.EFFECT_Toss="resources/games/game34900/res/Audios/tossdice.mp3",e.EFFECT_Win="resources/games/game34900/res/Audios/win.mp3",e.EFFECT_PassBet="resources/games/game34900/res/Audios/xiazhufeichouma.mp3",e.EFFECT_Bet="resources/games/game34900/res/Audios/jiesuanfeichouma.mp3",e}();n.GameConstant34900=i,cc._RF.pop()},{}],GameData10100:[function(e,t,n){"use strict";cc._RF.push(t,"27615rJ2VpPHaKiWaGZVXGv","GameData10100"),Object.defineProperty(n,"__esModule",{value:!0}),n.GameData10100=void 0;var o=function(){function e(){}return e.LogiNoToUiNo=function(e){return(e-this.MySeatNo+3)%3},e.UiNoToLogiNo=function(e){return(e+this.MySeatNo)%3},e.ResPath="resources/games/game10100/res/",e.MySeatNo=0,e.MyDeskNO=0,e.MyMoney=0,e.GameState=0,e.wSkipChairID=0,e.byGameStatus=0,e.iCellScore=0,e.byFreeTime=0,e.byOutCardTime=0,e.byFightTime=0,e.byAccountTime=0,e.byHitpotMultiple=0,e.byNormalWinMultiple=0,e.byTongitsMultiple=0,e.bySecretMeldMultiple=0,e.byBonusCardMultiple=0,e.byBurnedPlayerMultiple=0,e.byFightNeedTurns=0,e.byTrustee=0,e}();n.GameData10100=o,cc._RF.pop()},{}],GameData30200:[function(e,t,n){"use strict";cc._RF.push(t,"683dfqbH2hMkIeOX5fz3ooI","GameData30200"),Object.defineProperty(n,"__esModule",{value:!0}),n.GameData30200=void 0;var o=function(){function e(){}return e.MyMoney=0,e.GameState=0,e.iLimitVlue=0,e}();n.GameData30200=o,cc._RF.pop()},{}],GameData30300:[function(e,t,n){"use strict";cc._RF.push(t,"a14db+VucBKarNbg+Zo5qLm","GameData30300"),Object.defineProperty(n,"__esModule",{value:!0}),n.GameData30300=void 0;var o=function(){function e(){}return e.viewIndex=[1,8,8,8,2,9,9,1,10,10,2,11,11,11,1,4,4,4,2,5,5,1,6,6,2,7,7,7],e.MyMoney=0,e.GameState=0,e.iLimitVlue=0,e}();n.GameData30300=o,cc._RF.pop()},{}],GameData30700:[function(e,t,n){"use strict";cc._RF.push(t,"ba3bcLkEuFAx61rJC/j9X0F","GameData30700"),Object.defineProperty(n,"__esModule",{value:!0}),n.GameData30700=void 0;var o=function(){function e(){}return e.MyMoney=0,e.GameState=0,e.BeiLv=[40,5,30,5,20,5,10,5],e.UserNames=[],e.Chips=[],e}();n.GameData30700=o,cc._RF.pop()},{}],GameData31800:[function(e,t,n){"use strict";cc._RF.push(t,"076b68L8JlJM7MR7E1PP0+k","GameData31800");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameData31800=void 0;var i=e("../../halls/halllib/laya/Laya"),a=i.Laya.regClass,r=(i.Laya.property,function(){function e(){}return e.MaxLine=9,e.SelectLine=9,e.SelectChip=0,e.SingleBet=10,e.TotalBet=0,e.Money=5e3,e.WinMoney=0,e.ChipArray=[10,20,30,40,50],o([a()],e)}());n.GameData31800=r,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya"}],GameData34200:[function(e,t,n){"use strict";cc._RF.push(t,"11c833cSmVK4JYWKWJs+xCx","GameData34200");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.ENUM_NOTEERROR=n.MSG_CONFIG=n.NOTE_RESULT_CODE=n.BET_AREA=n.GAME_STATE=n.Poker=n.PokerType=n.GameUser=n.GameMyData=n.GameDesk=n.GameConfig34200=void 0;var i=o(e("../../halls/hall/BaseRoom")),a=e("../../halls/halllib/common/LogBase"),r=e("../../halls/halllib/core/RunData"),s=e("./GameLoading34200"),l=e("../../halls/halllib/laya/Laya"),c=function(){function e(){}return e.isNewVersion=!1,e.CHIP_SPEED_DURAUTION=300,e.curStation=0,e.iXiaZhuTime=15,e.iSendCardTime=10,e.iAccountTick=10,e.iChouMa=[100,300,500,1e3,5e3,1e4],e.myTotalBetValue=0,e.nCanNoteMinMoney=0,e.GAME_TIPS=["succeed","chip error","There are not enough gold coins!","Bet on the wrong object!","Bets cannot be placed at the same time!","No bets! The maximum limit is exceeded","No bets! The maximum limit is exceeded","No bets can be placed"],e}();n.GameConfig34200=c;var u=function(){function e(){}return e.MoveChouMaTo=function(e,t,n,o,i){for(var a=0;a<this.listchouma.length;a++){var r=(.4*Math.random()+.2)*o+t,s=(.4*Math.random()+.2)*i+n;this.listchouma[a].FlashTo(r,s,1)}},e.setUserCount=function(e){null!=this.otherText&&(this.otherText.text=e.toString())},e.listchouma=[],e.otherUserCount=0,e.otherText=null,e}();n.GameDesk=u;var p=function(){function e(){}return e.Release=function(){this.labelMyName=null,this.labelMyMoney=null},e.updateMoney=function(e){if(null!=e&&null!=e&&(this.myMoney=e,null!=this.labelMyMoney&&(this.labelMyMoney.text=r.GameTool.formatMoneyString(e,2,"M","K")),this.myDeskStation<h.userList.length)){var t=h.GetUserByIndex(this.myDeskStation);null!=t&&t.UpdateMoney(e)}},e.addMoney=function(e){if(this.myMoney+=e,null!=this.labelMyMoney&&(this.labelMyMoney.text=r.GameTool.formatMoneyString(this.myMoney,2,"M","K")),this.myDeskStation<h.userList.length){var t=h.GetUserByIndex(this.myDeskStation);null!=t&&t.addMoney(e)}},e.PlayWinMoneyLabel=function(e){null!=this.lebelWinMoney&&0!=e&&(e>0?(this.lebelWinMoney.text="+"+r.GameTool.formatMoneyString(e,2),this.lebelWinMoney.color="#fbdd07",this.lebelWinMoney.strokeColor="#bd7803",this.lebelWinMoney.stroke=3):(this.lebelWinMoney.text=r.GameTool.formatMoneyString(e,2),this.lebelWinMoney.color="#07d7fb",this.lebelWinMoney.strokeColor="#0349bd",this.lebelWinMoney.stroke=3),this.lebelWinMoney.visible=!0,l.Laya.Tween.to(this.lebelWinMoney,{y:this.lebelWinMoney.y-50},2e3,l.Laya.Ease.backInOut,l.Laya.Handler.create(this,this.onPlayEnd)))},e.onPlayEnd=function(){this.lebelWinMoney.visible=!1,this.lebelWinMoney.y+=50},e.labelMyName=null,e.labelMyMoney=null,e.lebelWinMoney=null,e}();n.GameMyData=p;var h=function(){function e(){this.userinfo=null,this.spriteFace=null,this.labelMoney=null,this.winani=null,this.userInitPos=null,this.labelName=null,this.labelLevel=null,this.lebelWinMoney=null,this.money=0}return e.Release=function(){this.userList=[]},e.UpdateLuckyUser=function(e){this.LuckyUserDeskNO=e;var t=i.default.getUserByDeskNo(e);t&&t.dwUserID>0&&this.userList[0].UserSiteDown(t)},e.UpdateUserDesk=function(){this.userMoneyList=[];for(var e=0;e<i.default.userList.length;e++)if(null!=(r=i.default.userList[e])&&0!=r.dwUserID&&!(r.bDeskStation>=this.MAX_DESK_NO)&&r.bDeskStation!=this.LuckyUserDeskNO&&r.bDeskNO==i.default.myUserRoomInfo.pUserInfoStruct.bDeskNO){var t=r.bDeskStation,n=r.dwMoney.toNumber(),o=r.dwUserID;this.userMoneyList.push({deskno:t,money:n,userid:o})}this.userMoneyList.sort(function(e,t){return t.money-e.money});for(var a=0;a<this.userMoneyList.length&&!(a+1>=this.userList.length);a++){var r;null!=(r=i.default.getUser(this.userMoneyList[a].userid))&&r.dwUserID>0&&this.userList[a+1].UserSiteDown(r)}for(var s=this.userMoneyList.length;s<this.userList.length&&s>0;s++)this.userList[s].UserStandUp()},e.GetUserByIndex=function(e){return e<this.userList.length?this.userList[e]:null},e.GetUserByID=function(e){for(var t=0;t<this.userList.length;t++)if(null!=this.userList[t].userinfo&&this.userList[t].userinfo.dwUserID==e)return this.userList[t];return null},e.UserSiteDown=function(e){null!=e?u.setUserCount(++u.otherUserCount):a.LogBase.warn("UserSiteDown Error! userinfo == null ")},e.UserStandUp=function(){u.otherUserCount--,u.otherUserCount<0&&(u.otherUserCount=0),u.setUserCount(u.otherUserCount)},e.goBack=function(e){var t=this.GetUser(e);t&&t.goBack()},e.AddMoney=function(e,t){for(var n=0;n<this.userList.length;n++)null!=this.userList[n].userinfo&&this.userList[n].userinfo.bDeskNO==e&&this.userList[n].addMoney(t)},e.IsUserOnDesk=function(e){for(var t=0;t<this.userList.length;t++)if(null!=this.userList[t].userinfo&&this.userList[t].userinfo.bDeskStation==e)return!0;return!1},e.GetUser=function(e){for(var t=0;t<this.userList.length;t++)if(null!=this.userList[t].userinfo&&this.userList[t].userinfo.bDeskStation==e)return this.userList[t];return null},e.WinMoney=function(e,t){for(var n=0;n<this.userList.length;n++)null!=this.userList[n].userinfo&&this.userList[n].userinfo.bDeskStation==e&&this.userList[n].WinMoney(t)},e.prototype.goBack=function(){null!=this.spriteFace&&this.userInitPos&&this.spriteFace.pos(this.userInitPos.x,this.userInitPos.y)},Object.defineProperty(e.prototype,"x",{get:function(){return null!=this.spriteFace?this.spriteFace.x:-100},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return null!=this.spriteFace?this.spriteFace.y:-100},enumerable:!1,configurable:!0}),e.prototype.UpdateMoney=function(e){this.money=e,null!=this.labelMoney&&(this.labelMoney.text=r.GameTool.formatMoneyString(e,2,"M","K"))},e.prototype.addMoney=function(e){this.money+=e,null!=this.labelMoney&&(this.labelMoney.text=r.GameTool.formatMoneyString(this.money,2,"M","K"))},e.prototype.WinMoney=function(e){this.money+=e,e>0&&null!=this.winani&&(this.winani.visible=!0),this.PlayWinMoneyLabel(e)},e.prototype.PlayWinMoneyLabel=function(e){null!=this.lebelWinMoney&&0!=e&&(e>0?(this.lebelWinMoney.text="+"+r.GameTool.formatMoneyString(e,2),this.lebelWinMoney.color="#fbdd07",this.lebelWinMoney.strokeColor="#bd7803",this.lebelWinMoney.stroke=3):(this.lebelWinMoney.text=r.GameTool.formatMoneyString(e,2),this.lebelWinMoney.color="#07d7fb",this.lebelWinMoney.strokeColor="#0349bd",this.lebelWinMoney.stroke=3),this.lebelWinMoney.visible=!0,l.Laya.Tween.to(this.lebelWinMoney,{y:this.lebelWinMoney.y-50},2e3,l.Laya.Ease.backInOut,l.Laya.Handler.create(this,this.onPlayEnd)))},e.prototype.onPlayEnd=function(){this.lebelWinMoney.visible=!1,this.lebelWinMoney.y+=50},e.prototype.UserSiteDown=function(e){if(null!=e){this.userinfo=e,this.money=e.dwMoney.toNumber();var t=e.bLogoID;t>=s.GameLoading34200.faceList.length&&(t=0),this.spriteFace.loadImage(s.GameLoading34200.faceList[t]),this.spriteFace.visible=!0,this.labelName&&(this.labelName.text=e.nickName),this.labelLevel&&(this.labelLevel.text=e.iGameLevel.toString()),this.UpdateMoney(e.dwMoney.toNumber())}else a.LogBase.warn("UserSiteDown",e)},e.prototype.UserStandUp=function(){this.userinfo=null,this.money=0,null!=this.labelMoney&&(this.labelMoney.text=""),null!=this.labelName&&(this.labelName.text=""),null!=this.labelLevel&&(this.labelLevel.text=""),null!=this.winani&&(this.winani.visible=!1),null!=this.spriteFace&&(this.spriteFace.visible=!1)},e.userList=new Array,e.MAX_DESK_NO=180,e.userMoneyList=new Array,e.LuckyUserDeskNO=-1,e}();n.GameUser=h,function(e){e[e.FANG_KUAI=0]="FANG_KUAI",e[e.MEI_HUA=16]="MEI_HUA",e[e.HONG_TAO=32]="HONG_TAO",e[e.HEI_TAO=48]="HEI_TAO",e[e.JOKER=64]="JOKER"}(n.PokerType||(n.PokerType={}));var d=function(){function e(){}return e.getPokerType=function(e){return 240&e},e.getPokerPoint=function(e){var t=15&e;return t>=13?1:t>0?t+1:t},e}();n.Poker=d,function(e){e[e.GS_AGREE=0]="GS_AGREE",e[e.GS_XIAZHU=1]="GS_XIAZHU",e[e.GS_SENDCARD=2]="GS_SENDCARD",e[e.GS_ACCOUNT=3]="GS_ACCOUNT"}(n.GAME_STATE||(n.GAME_STATE={})),function(e){e[e.NOTEOBJECT_TIGER=0]="NOTEOBJECT_TIGER",e[e.NOTEOBJECT_DRAGON=1]="NOTEOBJECT_DRAGON",e[e.NOTEOBJECT_DRAW=2]="NOTEOBJECT_DRAW",e[e.NOTEOBJECT_MAX=3]="NOTEOBJECT_MAX"}(n.BET_AREA||(n.BET_AREA={})),function(e){e[e.ENUM_NOTEERROR_OK=0]="ENUM_NOTEERROR_OK",e[e.ENUM_NOTEERROR_CHIP=1]="ENUM_NOTEERROR_CHIP",e[e.ENUM_NOTEERROR_USERMONEY_NOENOUGH=2]="ENUM_NOTEERROR_USERMONEY_NOENOUGH",e[e.ENUM_NOTEERROR_NOTEOBJECT=3]="ENUM_NOTEERROR_NOTEOBJECT",e[e.ENUM_NOTEERROR_REDBLACK_BOTH=4]="ENUM_NOTEERROR_REDBLACK_BOTH",e[e.ENUM_NOTEERROR_REDBLACK_LIMIT=5]="ENUM_NOTEERROR_REDBLACK_LIMIT",e[e.ENUM_NOTEERROR_LUCK_LIMIT=6]="ENUM_NOTEERROR_LUCK_LIMIT",e[e.ENUM_NOTEERROR_NO=7]="ENUM_NOTEERROR_NO",e[e.ENUM_NOTEERROR_MAX=8]="ENUM_NOTEERROR_MAX"}(n.NOTE_RESULT_CODE||(n.NOTE_RESULT_CODE={}));var f=function(){function e(){}return e.PLAY_COUNT=180,e.MAX_RAND_CARD=72,e.PLAYCARD_COUNT=3,e.ONE_MAX_CARD_NUM=1,e.RECORD_COUNT=20,e.WINRECOURD_COUNT=19,e.CARDTYPE_COUNT=10,e}();n.MSG_CONFIG=f,function(e){e[e.ENUM_NOTEERROR_OK=0]="ENUM_NOTEERROR_OK",e[e.ENUM_NOTEERROR_CHIP=1]="ENUM_NOTEERROR_CHIP",e[e.ENUM_NOTEERROR_USERMONEY_NOENOUGH=2]="ENUM_NOTEERROR_USERMONEY_NOENOUGH",e[e.ENUM_NOTEERROR_NOTEOBJECT=3]="ENUM_NOTEERROR_NOTEOBJECT",e[e.ENUM_NOTEERROR_REDBLACK_BOTH=4]="ENUM_NOTEERROR_REDBLACK_BOTH",e[e.ENUM_NOTEERROR_REDBLACK_LIMIT=5]="ENUM_NOTEERROR_REDBLACK_LIMIT",e[e.ENUM_NOTEERROR_LUCK_LIMIT=6]="ENUM_NOTEERROR_LUCK_LIMIT",e[e.ENUM_NOTEERROR_NO=7]="ENUM_NOTEERROR_NO",e[e.ENUM_NOTEERROR_MAX=8]="ENUM_NOTEERROR_MAX"}(n.ENUM_NOTEERROR||(n.ENUM_NOTEERROR={})),cc._RF.pop()},{"../../halls/hall/BaseRoom":"BaseRoom","../../halls/halllib/common/LogBase":"LogBase","../../halls/halllib/core/RunData":"RunData","../../halls/halllib/laya/Laya":"Laya","./GameLoading34200":"GameLoading34200"}],GameData34700:[function(e,t,n){"use strict";cc._RF.push(t,"94aa0tqJcJEprE/wWWvXrAo","GameData34700");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.JackpotName=n.ChairInfo=n.GameData34700=void 0;var i=e("../../halls/halllib/laya/Laya"),a=i.Laya.regClass,r=(i.Laya.property,function(){function e(){}return e.Money=5e3,e.FlySpeed=.7,e.ChipArray=[10,20,30,40,50],e.seletedClip=-1,e.colorNum=6,e.AREA_YELLOW=0,e.AREA_WHITE=1,e.AREA_PINK=2,e.AREA_RED=3,e.AREA_BLUE=4,e.AREA_GREEN=5,e.ServerInvalidChairID=65535,e.JACKPOT_TYPE_MINI=0,e.JACKPOT_TYPE_MINOR=1,e.JACKPOT_TYPE_MAJOR=2,e.JACKPOT_TYPE_GRAND=3,e.JACKPOT_LEVEL_COUNT=4,e.E_JACKPOT_RATIO=0,e.E_JACKPOT_VALUES=1,e.SOUND_GameSceneBGM="resources/games/game34700/res/Audios/DragonTigerBattle_GameBGM.mp3",e.EFFECT_Countdown="resources/games/game34700/res/Audios/ClockRing.mp3",e.EFFECT_StartJetton="resources/games/game34700/res/Audios/StartJetton.mp3",e.EFFECT_StopJetton="resources/games/game34700/res/Audios/StopJetton.mp3",e.EFFECT_BEGIN_ROLL="resources/games/game34700/res/Audios/btn_roll.wav",e.EFFECT_CLEAR_UP="resources/games/game34700/res/Audios/GearUp.wav",e.EFFECT_WIN_MORE="resources/games/game34700/res/Audios/win_color_more.wav",e.EFFECT_WIN_ONE="resources/games/game34700/res/Audios/win_color_one.wav",e.EFFECT_CUBE_CRASH="resources/games/game34700/res/Audios/cube_crash.wav",e.EFFECT_YOUWIN="resources/games/game34700/res/Audios/youwin.wav",e.EFFECT_Bet="resources/games/game34700/res/Audios/SelfBet.wav",e.EFFECT_Popscore="resources/games/game34700/res/Audios/Popscore.wav",e.EFFECT_GetGold="resources/games/game34700/res/Audios/PlayerGetGold.mp3",o([a()],e)}());n.GameData34700=r;n.ChairInfo=function(){this.bLogoID=0,this.nickName="",this.bDeskStation=0},function(e){e[e["MINI JACKPOT"]=0]="MINI JACKPOT",e[e["MINOR JACKPOT"]=1]="MINOR JACKPOT",e[e["MAJOR JACKPOT"]=2]="MAJOR JACKPOT",e[e["GRAND JACKPOT"]=3]="GRAND JACKPOT"}(n.JackpotName||(n.JackpotName={})),cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya"}],GameData34800:[function(e,t,n){"use strict";cc._RF.push(t,"7dca8HC1wJPaKaW/cIFIv23","GameData34800"),Object.defineProperty(n,"__esModule",{value:!0}),n.GameData34800=void 0;var o=function(){function e(){}return e.MyMoney=0,e.GameState=0,e.UserList=[],e.Chips=[10,20,30,40,50,60],e}();n.GameData34800=o,cc._RF.pop()},{}],GameEvent:[function(e,t,n){"use strict";cc._RF.push(t,"897acmmRJBGFLWimMimv/wl","GameEvent"),Object.defineProperty(n,"__esModule",{value:!0}),n.GameEvent=void 0,function(e){e.OnAppPause="GameEvent.OnAppPause",e.OnAppResume="GameEvent.OnAppResume",e.OnAppRestart="GameEvent.OnAppRestart"}(n.GameEvent||(n.GameEvent={})),cc._RF.pop()},{}],GameFastInteractPanel:[function(e,t,n){"use strict";cc._RF.push(t,"03ba3mML19ISKYar+oFrUNh","GameFastInteractPanel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.OpenFastInteractType=void 0;var c,u=e("../../../configs/CommonPanelConfig"),p=l(e("../../../framework/components/dialogstyle/MoveStyleDialogPanelV1")),h=e("../../../framework/gg"),d=e("../../../framework/i18n/I18n"),f=e("../../../systems/interact/InteracSystemEvent"),g=e("../../../systems/interact/InteractProto"),m=e("../../../systems/interact/InteractSystem"),y=l(e("./InteractEmojiList")),_=l(e("./InteractMsgList")),v=cc._decorator,b=v.ccclass,S=v.property;(function(e){e[e.Baloot=0]="Baloot",e[e.Ludo=1]="Ludo"})(c=n.OpenFastInteractType||(n.OpenFastInteractType={}));var C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.emojiList=null,t.emojiContent=null,t.msgList=null,t.emojiChooseNode=null,t.msgChooseNode=null,t.classicChooseNode=null,t.roleChooseNode=null,t.titleNode=null,t.vipLab=null,t.emojiType=g.EmojiTypeEunm.Classic,t.interactType=g.InteractTypeEunm.Msg,t.fastInteractType=c.Baloot,t}return i(t,e),t.prototype.show=function(e){this.fastInteractType=e.data.fastInteractType,this.initInteractListUI(),this.getUpdataInteract(),this._playShowAnim(function(){e.onShowed()})},t.prototype.onLoad=function(){this.titleNode.active=!1},t.prototype.hide=function(e){this._playHideAnim(function(){e.onHided()})},t.prototype.onEnable=function(){h.gg.eventManager.on(f.InteracSystemEvent.InteractResponseEvent,this.onInteractResponse,this)},t.prototype.onDisable=function(){h.gg.eventManager.offTarget(this)},t.prototype.onInteractResponse=function(e){this.onClickClose(),1!==e.status&&h.gg.panelRouter.show({panel:u.CommonPanelConfig.toastPanel,data:{text:d.i18n.getText("common.operationFail")}})},t.prototype.onClickClose=function(){h.gg.panelRouter.hide({panel:u.CommonPanelConfig.gameFastInteractPanel})},t.prototype.onClickChooseMsg=function(){this.interactType!==g.InteractTypeEunm.Msg&&(this.interactType=g.InteractTypeEunm.Msg,this.getUpdataInteract())},t.prototype.onClickChooseEmoji=function(){this.interactType!==g.InteractTypeEunm.Emoji&&(this.interactType=g.InteractTypeEunm.Emoji,this.getUpdataInteract())},t.prototype.getUpdataInteract=function(){this.interactType===g.InteractTypeEunm.Emoji?(this.emojiContent.active=!0,this.msgList.node.active=!1,this.emojiChooseNode.active=!0,this.msgChooseNode.active=!1):(this.emojiContent.active=!1,this.msgList.node.active=!0,this.emojiChooseNode.active=!1,this.msgChooseNode.active=!0)},t.prototype.initInteractListUI=function(){this.showEmoji(),this.msgList.reset(),this.fastInteractType===c.Baloot?this.msgList.init(m.interactSystem.msgBalootInteractList):this.fastInteractType===c.Ludo&&this.msgList.init(m.interactSystem.msgLudoInteractList)},t.prototype.onClickRole=function(){return r(this,void 0,void 0,function(){return s(this,function(){return this.emojiType==g.EmojiTypeEunm.Role?[2]:(this.emojiType=g.EmojiTypeEunm.Role,this.classicChooseNode.stopAllActions(),this.roleChooseNode.stopAllActions(),cc.tween(this.roleChooseNode).to(.16,{opacity:255},{easing:"sineIn"}).start(),cc.tween(this.classicChooseNode).to(.16,{opacity:0},{easing:"sineOut"}).start(),this.titleNode.active=!0,this.showEmoji(),[2])})})},t.prototype.onClickClassic=function(){this.emojiType!=g.EmojiTypeEunm.Classic&&(this.emojiType=g.EmojiTypeEunm.Classic,cc.tween(this.classicChooseNode).to(.16,{opacity:255},{easing:"sineIn"}).start(),cc.tween(this.roleChooseNode).to(.16,{opacity:0},{easing:"sineOut"}).start(),this.titleNode.active=!1,this.showEmoji())},t.prototype.showEmoji=function(){this.emojiList.reset(),this.emojiList.init(m.interactSystem.emojiInteractMap.get(this.emojiType))},a([S({type:y.default,tooltip:"\u8868\u60c5\u5217\u8868"})],t.prototype,"emojiList",void 0),a([S({type:cc.Node,tooltip:"\u8868\u60c5\u5185\u5bb9\u8282\u70b9"})],t.prototype,"emojiContent",void 0),a([S({type:_.default,tooltip:"\u6d88\u606f\u5217\u8868"})],t.prototype,"msgList",void 0),a([S({type:cc.Node,tooltip:"\u8868\u60c5\u9009\u4e2d\u8282\u70b9"})],t.prototype,"emojiChooseNode",void 0),a([S({type:cc.Node,tooltip:"\u6587\u672c\u9009\u4e2d\u8282\u70b9"})],t.prototype,"msgChooseNode",void 0),a([S({type:cc.Node,tooltip:"\u7ecf\u5178\u8868\u60c5\u9009\u4e2d\u8282\u70b9"})],t.prototype,"classicChooseNode",void 0),a([S({type:cc.Node,tooltip:"\u89d2\u8272\u8868\u60c5\u9009\u4e2d\u8282\u70b9"})],t.prototype,"roleChooseNode",void 0),a([S({type:cc.Node,tooltip:"\u6682\u65f6\u514d\u8d39\u63d0\u793a\u8bed"})],t.prototype,"titleNode",void 0),a([S({type:cc.Label,tooltip:"\u514d\u8d39\u63d0\u793a\u8bed"})],t.prototype,"vipLab",void 0),a([b],t)}(p.default);n.default=C,cc._RF.pop()},{"../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../framework/components/dialogstyle/MoveStyleDialogPanelV1":"MoveStyleDialogPanelV1","../../../framework/gg":"gg","../../../framework/i18n/I18n":"I18n","../../../systems/interact/InteracSystemEvent":"InteracSystemEvent","../../../systems/interact/InteractProto":"InteractProto","../../../systems/interact/InteractSystem":"InteractSystem","./InteractEmojiList":"InteractEmojiList","./InteractMsgList":"InteractMsgList"}],GameFreePanel31800:[function(e,t,n){"use strict";cc._RF.push(t,"c74a8pQW/tDILpJkg/LPUrd","GameFreePanel31800");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameFreePanel31800=void 0;var r=e("../../halls/halllib/laya/Laya"),s=r.Laya.regClass,l=r.Laya.property,c=function(e){function t(){var t=e.call(this)||this;return t.GetFreeObj=null,t.FreeNumObj=null,t.LabelGetFree=null,t.LabelFreeNum=null,t}var n;return i(t,e),n=t,t.prototype.onAwake=function(){this.IsFreeType=!1,n.Instance=this},t.prototype.ShowGetFree=function(e){this.LabelGetFree.text=e>0?e.toString():"0",this.GetFreeObj.visible=!0,this.owner.timerOnce(2e3,this,this.HideGetFree),this.ShowFreeNum(e),this.IsFreeType=!0},t.prototype.HideGetFree=function(){this.GetFreeObj.visible=!1},t.prototype.ShowFreeNum=function(e){this.LabelFreeNum.text=e>0?e.toString():"0",this.FreeNumObj.visible=!0},t.prototype.HideFreeNum=function(){this.FreeNumObj.visible=!1,this.IsFreeType=!1},a([l(r.Laya.Sprite)],t.prototype,"GetFreeObj",void 0),a([l(r.Laya.Sprite)],t.prototype,"FreeNumObj",void 0),a([l(r.Laya.Label)],t.prototype,"LabelGetFree",void 0),a([l(r.Laya.Label)],t.prototype,"LabelFreeNum",void 0),n=a([s()],t)}(r.Laya.Script);n.GameFreePanel31800=c,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya"}],GameGiftAudioConfig:[function(e,t,n){"use strict";cc._RF.push(t,"3e3c97AwBJBzbh3I/yEhCt2","GameGiftAudioConfig"),Object.defineProperty(n,"__esModule",{value:!0}),n.GameGiftAudioConfig=void 0;var o=e("./BundleConfig");n.GameGiftAudioConfig={like:{path:o.BundleConfig.Resources+"/audios/gameGift/like"},rose:{path:o.BundleConfig.Resources+"/audios/gameGift/rose"},love:{path:o.BundleConfig.Resources+"/audios/gameGift/love"},bomb:{path:o.BundleConfig.Resources+"/audios/gameGift/bomb"},egg:{path:o.BundleConfig.Resources+"/audios/gameGift/egg"},spurn:{path:o.BundleConfig.Resources+"/audios/gameGift/spurn"},datepalm:{path:o.BundleConfig.Resources+"/audios/gameGift/datepalm"},coffee:{path:o.BundleConfig.Resources+"/audios/gameGift/coffee"}},cc._RF.pop()},{"./BundleConfig":"BundleConfig"}],GameGiftBonus:[function(e,t,n){"use strict";cc._RF.push(t,"bee0965eltDK6fuviEyX59E","GameGiftBonus");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=r.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.atlas=null,t.giftBonusIcon=null,t.giftBonusLabel=null,t}return i(t,e),t.prototype.updateUI=function(e,t){this.giftBonusIcon.spriteFrame=this.atlas.getSpriteFrame(e),this.giftBonusLabel.string="+"+t.toString()},a([l({type:cc.SpriteAtlas,tooltip:"\u793c\u7269\u56fe\u96c6"})],t.prototype,"atlas",void 0),a([l({type:cc.Sprite,tooltip:"\u5956\u52b1\u503c\u56fe\u6807"})],t.prototype,"giftBonusIcon",void 0),a([l({type:cc.Label,tooltip:"\u5956\u52b1\u503c"})],t.prototype,"giftBonusLabel",void 0),a([s],t)}(cc.Component);n.default=c,cc._RF.pop()},{}],GameGiftComponent:[function(e,t,n){"use strict";cc._RF.push(t,"eeaf60cDh1B7Kbf+Rkhw9pb","GameGiftComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../configs/CommonPanelConfig"),s=e("../framework/gg"),l=cc._decorator,c=l.ccclass,u=l.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.apertureNode=null,t._gameGiftPanelData=null,t.countdownAngle=0,t}return i(t,e),t.prototype.reset=function(){this.node.active=!1,this._gameGiftPanelData=null},t.prototype.init=function(e){this.node.active=!0,this._gameGiftPanelData=e,this.playAnim()},t.prototype.onGameGiftBtnClick=function(){s.gg.panelRouter.show({panel:r.CommonPanelConfig.gameGiftPanel,data:this._gameGiftPanelData})},t.prototype.playAnim=function(){this.apertureNode.angle=this.countdownAngle,cc.Tween.stopAllByTarget(this.apertureNode),this.apertureNode.opacity=0,cc.tween(this.apertureNode).target(this.apertureNode).repeatForever(cc.tween().to(1.024,{opacity:220}).to(1.024,{angle:this.countdownAngle-360},{easing:"sineOut"}).delay(.512).to(1.024,{opacity:0}).to(0,{angle:this.countdownAngle}).delay(1)).start(),this.node.stopAllActions(),cc.tween(this.node).repeatForever(cc.tween().delay(2.048).to(.256,{scale:1.1},{easing:"sineOut"}).to(.256,{scale:1},{easing:"sineIn"}).delay(2.024)).start()},a([u({type:cc.Node,tooltip:"\u5149\u6807"})],t.prototype,"apertureNode",void 0),a([c],t)}(cc.Component);n.default=p,cc._RF.pop()},{"../configs/CommonPanelConfig":"CommonPanelConfig","../framework/gg":"gg"}],GameGiftEffectShowPanel:[function(e,t,n){"use strict";cc._RF.push(t,"4b576vsME9DFbcf5ZYpFbE1","GameGiftEffectShowPanel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.GameGiftEffectShowPanel=n.morePlayerKey=void 0;var c=e("../../../configs/CommonPanelConfig"),u=e("../../../framework/gg"),p=e("../../../framework/i18n/I18n"),h=e("../../../framework/panelrouter/PanelComponent"),d=e("../../../systems/gameGift/GameGiftSystem"),f=e("../../../systems/gameGift/GameGiftUIEvent"),g=e("../../../systems/gift/GiftSystem"),m=l(e("../gameGift/GameGiftBonus")),y=l(e("../gameGift/GameGiftSpecialEffect")),_=e("../../../systems/gamews/WebSocketResponseCode"),v=e("../../../systems/room/RoomModels"),b=cc._decorator,S=b.ccclass,C=b.property;n.morePlayerKey="0_0";var I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dialogContent=null,t.SpecialEffectPrefab=null,t.GiftBonusPrefab=null,t.SpecialEffectNodePool=new cc.NodePool,t.GiftBonusNodePool=new cc.NodePool,t.moveTime=.5,t.gameId=0,t}return i(t,e),t.prototype.show=function(e){this.gameId=e.data,e.onShowed()},t.prototype.hide=function(e){e.onHided()},t.prototype.onEnable=function(){u.gg.eventManager.on(f.GameGiftUIEvent.onGameGiftEffectRecycle,this._onGameGiftEffectRecycle,this),u.gg.eventManager.on(f.GameGiftUIEvent.onSendGameGiftFail,this._onSendGameGiftFail,this),u.gg.eventManager.on(f.GameGiftUIEvent.GameGiftBroadCastModelEvent,this._onShowSpecialEffect,this)},t.prototype.onDisable=function(){u.gg.eventManager.offTarget(this)},t.prototype._onShowSpecialEffect=function(e){return r(this,void 0,void 0,function(){var t,o,i,a,r,l,c;return s(this,function(s){switch(s.label){case 0:return e?(t=e,o=cc.v3(),i=cc.v3(),this.gameId==v.GameId.Project?(a=t.from_player_id+"_"+t.from_player_pos,r=t.to_player_id+"_"+t.to_player_pos,o=d.gameGiftSystem.map.has(a)?this.dialogContent.convertToNodeSpaceAR(d.gameGiftSystem.map.get(a)):this.dialogContent.convertToNodeSpaceAR(d.gameGiftSystem.map.get(n.morePlayerKey)),i=d.gameGiftSystem.map.has(r)?this.dialogContent.convertToNodeSpaceAR(d.gameGiftSystem.map.get(r)):this.dialogContent.convertToNodeSpaceAR(d.gameGiftSystem.map.get(n.morePlayerKey))):(o=this.dialogContent.convertToNodeSpaceAR(d.gameGiftSystem.map.get(String(t.from_player_id))),i=this.dialogContent.convertToNodeSpaceAR(d.gameGiftSystem.map.get(String(t.to_player_id)))),[4,g.giftSystem.getItemIconInfo(t.gift_id)]):[3,2];case 1:l=s.sent(),(c=this.getSpecialEffectNode()).getComponent(y.default).updateUI(l,t),c.x=o.x,c.y=o.y,cc.Tween.stopAllByTarget(c),cc.tween(c).to(this.moveTime,{x:i.x,y:i.y},{easing:"sineOut"}).call(function(){c.getComponent(y.default).playAnim()}).start(),s.label=2;case 2:return[2]}})})},t.prototype.getSpecialEffectNode=function(){var e=this.SpecialEffectNodePool.get();return e||(e=cc.instantiate(this.SpecialEffectPrefab)),e.parent=null,this.node.addChild(e),e.active=!0,e},t.prototype.getGiftBonusNode=function(){var e=this.GiftBonusNodePool.get(this.GiftBonusPrefab);return e||(e=cc.instantiate(this.GiftBonusPrefab)),this.node.addChild(e),e.active=!0,e},t.prototype._onGameGiftEffectRecycle=function(e,t){var o=this;if(this.SpecialEffectNodePool.put(e),0!==t.sender_value){var i=this.getGiftBonusNode();i.getComponent(m.default).updateUI(t.sender_value_type,t.sender_value),i.active=!0,cc.Tween.stopAllByTarget(i);var a=cc.v3();if(this.gameId==v.GameId.Project){var r=t.from_player_id+"_"+t.from_player_pos;a=d.gameGiftSystem.map.has(r)?this.dialogContent.convertToNodeSpaceAR(d.gameGiftSystem.map.get(r)):this.dialogContent.convertToNodeSpaceAR(d.gameGiftSystem.map.get(n.morePlayerKey))}else a=this.dialogContent.convertToNodeSpaceAR(d.gameGiftSystem.map.get(String(t.from_player_id)));i.x=a.x,i.y=a.y-18,i.opacity=0,cc.tween(i).by(.3,{opacity:255,y:18}).by(.5,{y:30},{easing:"sineOut"}).by(.5,{opacity:-255,y:30},{easing:"sineOut"}).call(function(){o.GiftBonusNodePool.put(i)},this).start()}if(0!==t.receiver_value){var s=this.getGiftBonusNode();s.getComponent(m.default).updateUI(t.receiver_value_type,t.receiver_value);var l=cc.v3();if(this.gameId==v.GameId.Project){var c=t.to_player_id+"_"+t.to_player_pos;l=d.gameGiftSystem.map.has(c)?this.dialogContent.convertToNodeSpaceAR(d.gameGiftSystem.map.get(c)):this.dialogContent.convertToNodeSpaceAR(d.gameGiftSystem.map.get(n.morePlayerKey))}else l=this.dialogContent.convertToNodeSpaceAR(d.gameGiftSystem.map.get(String(t.to_player_id)));s.x=l.x,s.y=l.y-18,s.opacity=0,cc.tween(s).by(.3,{opacity:255,y:18}).by(.5,{y:30},{easing:"sineOut"}).by(.5,{opacity:-255,y:30},{easing:"sineOut"}).call(function(){o.GiftBonusNodePool.put(s)},this).start()}},t.prototype._onSendGameGiftFail=function(e){var t=p.i18n.getText("toast.bigGiftFail");e.status==_.WebSocketResponseCode.BalanceIsLowerThanMinFee&&(t=p.i18n.getText("toast.bigGiftBalanceFail")),u.gg.panelRouter.show({panel:c.CommonPanelConfig.toastPanel,data:{text:t}})},a([C({type:cc.Node,tooltip:"\u7279\u6548\u52a8\u753b\u7236\u8282\u70b9"})],t.prototype,"dialogContent",void 0),a([C({type:cc.Prefab,tooltip:"\u7279\u6548\u52a8\u753b\u9884\u5236\u4f53"})],t.prototype,"SpecialEffectPrefab",void 0),a([C({type:cc.Prefab,tooltip:"\u7279\u6548\u5956\u52b1\u503c\u9884\u5236\u4f53"})],t.prototype,"GiftBonusPrefab",void 0),a([S],t)}(h.PanelComponent);n.GameGiftEffectShowPanel=I,cc._RF.pop()},{"../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../framework/gg":"gg","../../../framework/i18n/I18n":"I18n","../../../framework/panelrouter/PanelComponent":"PanelComponent","../../../systems/gameGift/GameGiftSystem":"GameGiftSystem","../../../systems/gameGift/GameGiftUIEvent":"GameGiftUIEvent","../../../systems/gamews/WebSocketResponseCode":"WebSocketResponseCode","../../../systems/gift/GiftSystem":"GiftSystem","../../../systems/room/RoomModels":"RoomModels","../gameGift/GameGiftBonus":"GameGiftBonus","../gameGift/GameGiftSpecialEffect":"GameGiftSpecialEffect"}],GameGiftItem:[function(e,t,n){"use strict";cc._RF.push(t,"d6326i1FxFH3YIj71m00c25","GameGiftItem");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var l=e("../../../configs/CommonPanelConfig"),c=e("../../../framework/gg"),u=e("../../../framework/i18n/I18n"),p=e("../../../systems/gameGift/GiftProto"),h=e("../../../systems/gameGift/GameGiftSystem"),d=e("../../../systems/gamews/GameSocketSystem"),f=e("../../../systems/item/ItemSystem"),g=cc._decorator,m=g.ccclass,y=g.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.giftIcon=null,t.buyContent=null,t.price=null,t.haveContent=null,t.haveNum=null,t.gameGiftInfo=null,t}return i(t,e),t.prototype.onEnable=function(){this.node.on(cc.Node.EventType.TOUCH_END,this.onGiftBtnClick,this)},t.prototype.onDisable=function(){this.node.off(cc.Node.EventType.TOUCH_END,this.onGiftBtnClick,this)},t.prototype.updateUI=function(){return r(this,void 0,void 0,function(){var e;return s(this,function(t){switch(t.label){case 0:return 0===this.gameGiftInfo.count?(this.buyContent.active=!0,this.price.string=this.gameGiftInfo.price.toString(),this.haveContent.active=!1):(this.buyContent.active=!1,this.haveContent.active=!0,this.haveNum.string=this.gameGiftInfo.count.toString()),[4,f.itemSystem.getItemIconInfo(this.gameGiftInfo.gift_id)];case 1:return e=t.sent(),this.giftIcon.spriteFrame=e.spriteFrame,[2]}})})},t.prototype.onGiftBtnClick=function(){if(h.gameGiftSystem.isAllowSendGift){var e={gift_id:this.gameGiftInfo.gift_id,to_player_id:h.gameGiftSystem.receiverPlayerId,count:h.gameGiftSystem.sendGiftCount,from_player_pos:h.gameGiftSystem.fromPos,to_player_pos:h.gameGiftSystem.toPos};d.gameSocketSystem.send(p.GiftProtoMsg.SendGameGiftRequest,e),h.gameGiftSystem.oneSecondDelay()}else c.gg.panelRouter.show({panel:l.CommonPanelConfig.toastPanel,data:{text:u.i18n.getText("toast.clickTooOften")}})},a([y({type:cc.Sprite,tooltip:"\u793c\u7269\u56fe\u6807"})],t.prototype,"giftIcon",void 0),a([y({type:cc.Node,tooltip:"\u8d2d\u4e70content"})],t.prototype,"buyContent",void 0),a([y({type:cc.Label,tooltip:"\u8d2d\u4e70\u4ef7\u683c"})],t.prototype,"price",void 0),a([y({type:cc.Node,tooltip:"\u62e5\u6709content"})],t.prototype,"haveContent",void 0),a([y({type:cc.Label,tooltip:"\u62e5\u6709\u793c\u7269\u6570\u91cf"})],t.prototype,"haveNum",void 0),a([m],t)}(cc.Component);n.default=_,cc._RF.pop()},{"../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../framework/gg":"gg","../../../framework/i18n/I18n":"I18n","../../../systems/gameGift/GameGiftSystem":"GameGiftSystem","../../../systems/gameGift/GiftProto":"GiftProto","../../../systems/gamews/GameSocketSystem":"GameSocketSystem","../../../systems/item/ItemSystem":"ItemSystem"}],GameGiftList:[function(e,t,n){"use strict";cc._RF.push(t,"aab73+7VOJI/oon9vBDE/lS","GameGiftList");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../../systems/gameGift/GameGiftSystem"),l=r(e("./GameGiftItem")),c=cc._decorator,u=c.ccclass,p=c.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gameGiftScrollView=null,t.gameGiftParentNode=null,t.giftItem=null,t.spaceingX=10,t.paddingLeft=10,t.paddingRight=10,t.visableAreaMarginLeft=0,t.visableAreaMarginRight=0,t.gameGiftList=[],t._virtualNodes=[],t._gameGiftNodeAll=[],t}return i(t,e),t.prototype.getGameGiftNode=function(){var e=this._gameGiftNodeAll.pop();return e||((e=cc.instantiate(this.giftItem)).parent=this.gameGiftParentNode),e},t.prototype.reset=function(){this.gameGiftList=[],this._virtualNodes=[],this.gameGiftScrollView.stopAutoScroll(),this.gameGiftParentNode.position=cc.v3(),this._gameGiftNodeAll=[];for(var e=this.gameGiftParentNode.children.length-1;e>=0;--e)this._gameGiftNodeAll.push(this.gameGiftParentNode.children[e]),this.gameGiftParentNode.children[e].active=!1},t.prototype.init=function(){this.gameGiftList=s.gameGiftSystem.giftList,this.gameGiftList&&this.gameGiftList.length>0&&(this._virtualNodes=this.gameGiftList.map(function(){return null}),this._updateListWidth(),this.gameGiftParentNode.position=cc.v3(),this._updateList())},t.prototype._updateListWidth=function(){var e=Math.ceil(this.gameGiftList.length/2);this.gameGiftParentNode.width=this.paddingLeft+this.paddingRight+this.giftItem.width*e+this.spaceingX*e,this.gameGiftParentNode.width<this.gameGiftScrollView.node.width&&(this.gameGiftParentNode.width=this.gameGiftScrollView.node.width)},t.prototype.onEnable=function(){this.gameGiftParentNode.on(cc.Node.EventType.POSITION_CHANGED,this._onPositionChanged,this),this.gameGiftScrollView.node.on("scroll-ended",this._updateList,this)},t.prototype.onDisable=function(){this.gameGiftParentNode.off(cc.Node.EventType.POSITION_CHANGED,this._onPositionChanged,this),this.gameGiftScrollView.node.off("scroll-ended",this._updateList,this)},t.prototype._onPositionChanged=function(){this._updateList()},t.prototype._updateList=function(){for(var e=0;e<this._virtualNodes.length;++e){var t=this._virtualNodes[e];this._isVisable(e)?(null==t&&(t=this.getGameGiftNode(),this._virtualNodes[e]=t,t.getComponent(l.default).gameGiftInfo=this.gameGiftList[e],t.getComponent(l.default).updateUI(),t.active=!0),t.position=this._convertIndexToPosition(e)):(t&&(t.active=!1,this._gameGiftNodeAll.push(t)),this._virtualNodes[e]=null)}},t.prototype._isVisable=function(e){var t=this._convertIndexToPosition(e),n=this.visableAreaMarginRight,o=n-this.visableAreaMarginRight-this.gameGiftScrollView.node.width-this.visableAreaMarginLeft;return t.x+.5*this.giftItem.width<=n&&t.x-.5*this.giftItem.width>=o},t.prototype._convertIndexToPosition=function(e){var t=Math.floor(e/2),n=-this.giftItem.height*Math.floor(e%2)-10*(Math.floor(e%2)+1);return cc.v3(-this.giftItem.width*t-this.spaceingX*t-this.paddingRight,n)},a([p({type:cc.ScrollView,tooltip:"\u793c\u7269ScrollView"})],t.prototype,"gameGiftScrollView",void 0),a([p({type:cc.Node,tooltip:"\u724c\u684c\u7236\u8282\u70b9"})],t.prototype,"gameGiftParentNode",void 0),a([p({type:cc.Node,tooltip:"\u793c\u7269item"})],t.prototype,"giftItem",void 0),a([p({tooltip:"Item \u95f4\u9694\uff08px\uff09"})],t.prototype,"spaceingX",void 0),a([p({tooltip:"Item \u8ddd\u79bb\u5de6\u8fb9\uff08px\uff09"})],t.prototype,"paddingLeft",void 0),a([p({tooltip:"Item \u8ddd\u79bb\u53f3\u8fb9\uff08px\uff09"})],t.prototype,"paddingRight",void 0),a([p({tooltip:"\u53ef\u89c6\u533a\u57df margin, \u8d1f\u6570\u4e3a\u5f80\u5916\u6269\u5c55"})],t.prototype,"visableAreaMarginLeft",void 0),a([p({tooltip:"\u53ef\u89c6\u533a\u57df margin, \u8d1f\u6570\u4e3a\u5f80\u5916\u6269\u5c55"})],t.prototype,"visableAreaMarginRight",void 0),a([u],t)}(cc.Component);n.default=h,cc._RF.pop()},{"../../../systems/gameGift/GameGiftSystem":"GameGiftSystem","./GameGiftItem":"GameGiftItem"}],GameGiftPanel:[function(e,t,n){"use strict";cc._RF.push(t,"c9edbjI4tlHU4NBZ83NkMhH","GameGiftPanel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.GameGiftPanelDirectionHorizontal=n.GameGiftPanelDirectionVertical=void 0;var s,l,c=e("../../../configs/CommonAudioConfig"),u=e("../../../configs/CommonPanelConfig"),p=r(e("../../../framework/components/dialogstyle/MoveStyleDialogPanelV1")),h=e("../../../framework/gg"),d=e("../../../framework/i18n/I18n"),f=e("../../../systems/gameGift/GameGiftSystem"),g=e("../../../systems/gameGift/GameGiftUIEvent"),m=e("../../../systems/user/UserWalletEvent"),y=e("../../../systems/user/UserWalletSystem"),_=e("../../../utils/CurrencyUtil"),v=r(e("./GameGiftList")),b=cc._decorator,S=b.ccclass,C=b.property;(function(e){e[e.Centered=0]="Centered",e[e.Top=1]="Top",e[e.Bottom=2]="Bottom"})(s=n.GameGiftPanelDirectionVertical||(n.GameGiftPanelDirectionVertical={})),function(e){e[e.Centered=0]="Centered",e[e.Left=1]="Left",e[e.Right=2]="Right"}(l=n.GameGiftPanelDirectionHorizontal||(n.GameGiftPanelDirectionHorizontal={}));var I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.contentNode=null,t.coinBalanceLabel=null,t.giftView=null,t.sendSelect=null,t.checkNode=null,t.loadingNode=null,t.userInfoBtn=null,t.data=null,t.pos=null,t}return i(t,e),t.prototype.show=function(e){this.data=e.data,f.gameGiftSystem.receiverPlayerId=this.data.receiver_player_id,this.pos=this.node.convertToNodeSpaceAR(this.data.pos);var t=this.ContentPosCalculate();this.contentNode.x=t.x,this.contentNode.y=t.y,this.userInfoBtn.active=!1,this.data.isUserInfo&&(this.userInfoBtn.active=!0),this._playShowAnim(function(){e.onShowed()})},t.prototype.hide=function(e){this.data=null,this._playHideAnim(function(){e.onHided()})},t.prototype.onEnable=function(){this._updateBalance(),this._showLoading(),1===f.gameGiftSystem.sendGiftCount?this.checkNode.active=!1:this.checkNode.active=!0,h.gg.eventManager.on(m.UserWalletEvent.OnBalanceChanged,this._onBalanceChanged,this),h.gg.eventManager.on(g.GameGiftUIEvent.onGetGameGiftListResponse,this._onGetGameGiftListResponse,this),f.gameGiftSystem.getGameGiftList()},t.prototype.onDisable=function(){h.gg.eventManager.offTarget(this),f.gameGiftSystem.giftList=[],this.giftView.reset()},t.prototype._onBalanceChanged=function(){this._updateBalance()},t.prototype._updateBalance=function(){this.coinBalanceLabel.string=_.CurrencyUtil.toHumanReadable(y.userWalletSystem.coinBalance)},t.prototype._onGetGameGiftListResponse=function(e){this._hideLoading(),e?(this.giftView.reset(),this.giftView.init()):h.gg.panelRouter.show({panel:u.CommonPanelConfig.toastPanel,data:{text:d.i18n.getText("toast.gameGiftInitFailed")}})},t.prototype.ContentPosCalculate=function(){var e=this.contentNode.width/2,t=this.contentNode.height/2,n=this.pos;switch(this.data.directionVertical){case s.Centered:n.y=n.y+this.data.posDtY;break;case s.Top:n.y=n.y+t+this.data.posDtY;break;case s.Bottom:n.y=n.y-t+this.data.posDtY}switch(this.data.directionHorizontal){case l.Centered:n.x=n.x+this.data.posDtX;break;case l.Left:n.x=n.x-e+this.data.posDtX;break;case l.Right:n.x=n.x+e+this.data.posDtX}return n},t.prototype._showLoading=function(){cc.Tween.stopAllByTarget(this.loadingNode),cc.tween(this.loadingNode).set({opacity:0,scale:2}).to(.24,{opacity:255,scale:1},{easing:"sineOut"}).start(),cc.tween(this.loadingNode).repeatForever(cc.tween().by(.7,{angle:-360})).start(),this.giftView.node.opacity=0,this.giftView.node.active=!1},t.prototype._hideLoading=function(){cc.Tween.stopAllByTarget(this.loadingNode),cc.tween(this.loadingNode).to(.24,{scale:0,opacity:0},{easing:"sineOut"}).start(),this.giftView.node.active=!0,this.giftView.node.opacity=255,cc.tween(this.giftView.node).to(.24,{opacity:255},{easing:"sineOut"}).start()},t.prototype.onCloseBtnClick=function(){h.gg.panelRouter.hide({panel:u.CommonPanelConfig.gameGiftPanel}),h.gg.audio.playOneShot(c.CommonAudioConfig.btnClose)},t.prototype.onSelectNodeClick=function(){1===f.gameGiftSystem.sendGiftCount?(f.gameGiftSystem.sendGiftCount=10,this.checkNode.active=!0):(f.gameGiftSystem.sendGiftCount=1,this.checkNode.active=!1)},t.prototype.onUserinfoClick=function(){var e;(null===(e=this.data)||void 0===e?void 0:e.playerInfoType)&&h.gg.panelRouter.show({panel:u.CommonPanelConfig.userInfoPanel,data:this.data.playerInfoType})},a([C({type:cc.Node,tooltip:"\u793c\u7269content\u8282\u70b9"})],t.prototype,"contentNode",void 0),a([C({type:cc.Label,tooltip:"\u91d1\u5e01label"})],t.prototype,"coinBalanceLabel",void 0),a([C({type:v.default,tooltip:"GameGift\u811a\u672c"})],t.prototype,"giftView",void 0),a([C({type:cc.Node,tooltip:"\u9001\u793cselect\u6846"})],t.prototype,"sendSelect",void 0),a([C({type:cc.Node,tooltip:"\u9009\u62e9\u94a9\u5b50\u8282\u70b9"})],t.prototype,"checkNode",void 0),a([C({type:cc.Node,tooltip:"loading\u52a8\u753b"})],t.prototype,"loadingNode",void 0),a([C({type:cc.Node,tooltip:"\u67e5\u770b\u7528\u6237\u4fe1\u606f\u6309\u94ae"})],t.prototype,"userInfoBtn",void 0),a([S],t)}(p.default);n.default=I,cc._RF.pop()},{"../../../configs/CommonAudioConfig":"CommonAudioConfig","../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../framework/components/dialogstyle/MoveStyleDialogPanelV1":"MoveStyleDialogPanelV1","../../../framework/gg":"gg","../../../framework/i18n/I18n":"I18n","../../../systems/gameGift/GameGiftSystem":"GameGiftSystem","../../../systems/gameGift/GameGiftUIEvent":"GameGiftUIEvent","../../../systems/user/UserWalletEvent":"UserWalletEvent","../../../systems/user/UserWalletSystem":"UserWalletSystem","../../../utils/CurrencyUtil":"CurrencyUtil","./GameGiftList":"GameGiftList"}],GameGiftSpecialEffect:[function(e,t,n){"use strict";cc._RF.push(t,"2c5b9tt8B5E8plUdKU655XO","GameGiftSpecialEffect");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r,s=e("../../../configs/GameGiftAudioConfig"),l=e("../../../framework/gg"),c=e("../../../systems/gameGift/GameGiftUIEvent"),u=e("../../../systems/gift/CommonGiftConfig"),p=cc._decorator,h=p.ccclass,d=p.property;(function(e){e[e.spine=.6]="spine",e[e.dragon=.6]="dragon"})(r||(r={}));var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.icon=null,t.spine=null,t.dragon=null,t.countLabel=null,t._giftData=null,t._SendGameGiftBroadCastData=null,t}return i(t,e),t.prototype.onDisable=function(){this.spine.clearTracks(),this.spine.node.active=!1,this.dragon.node.active=!1},t.prototype.updateUI=function(e,t){switch(this._giftData=e,this._SendGameGiftBroadCastData=t,this.icon.spriteFrame=e.spriteFrame,0!==this._SendGameGiftBroadCastData.count&&1!==this._SendGameGiftBroadCastData.count?(this.countLabel.node.active=!0,this.countLabel.string="x"+this._SendGameGiftBroadCastData.count):this.countLabel.node.active=!1,e.giftType){case u.GiftEffectType.Spine:this.spine.skeletonData=e.spineData,this.spine.setToSetupPose(),this.spine.node.scale=r.spine;break;case u.GiftEffectType.Dragon:this.dragon.dragonAsset=e.dragonAsset,this.dragon.dragonAtlasAsset=e.dragonAtlasAsset,this.dragon.node.scale=r.dragon}this.icon.node.active=!0,this.spine.node.active=!1,this.dragon.node.active=!1;var n=this.node,o=this._SendGameGiftBroadCastData;this.spine.clearTracks(),this.spine.setCompleteListener(null),this.spine.setCompleteListener(function(){n.active=!1,l.gg.eventManager.emit(c.GameGiftUIEvent.onGameGiftEffectRecycle,n,o)}),this.dragon.on(dragonBones.EventObject.COMPLETE,function(){n.active=!1,l.gg.eventManager.emit(c.GameGiftUIEvent.onGameGiftEffectRecycle,n,o)},this)},t.prototype.playAnim=function(){var e=this;switch(this._giftData.giftType){case u.GiftEffectType.Spine:this.icon.node.active=!1,this.spine.node.active=!0,this.spine.setAnimation(0,"animation",!1);break;case u.GiftEffectType.Dragon:this.icon.node.active=!1,this.dragon.node.active=!0,this.dragon.armatureName="armatureName",this.dragon.playAnimation("animation",1)}"bomb"==this._giftData.giftSound?this.scheduleOnce(function(){l.gg.audio.playOneShot(s.GameGiftAudioConfig[e._giftData.giftSound])},.5):l.gg.audio.playOneShot(s.GameGiftAudioConfig[this._giftData.giftSound])},a([d({type:cc.Sprite,tooltip:"\u9053\u5177\u56fe\u6807"})],t.prototype,"icon",void 0),a([d({type:sp.Skeleton,tooltip:"\u9053\u5177spine"})],t.prototype,"spine",void 0),a([d({type:dragonBones.ArmatureDisplay,tooltip:"\u9053\u5177dragon"})],t.prototype,"dragon",void 0),a([d({type:cc.Label,tooltip:"\u9053\u5177\u6570\u91cf\uff0c\u9ed8\u8ba41\u4e0d\u663e\u793a"})],t.prototype,"countLabel",void 0),a([h],t)}(cc.Component);n.default=f,cc._RF.pop()},{"../../../configs/GameGiftAudioConfig":"GameGiftAudioConfig","../../../framework/gg":"gg","../../../systems/gameGift/GameGiftUIEvent":"GameGiftUIEvent","../../../systems/gift/CommonGiftConfig":"CommonGiftConfig"}],GameGiftSystem:[function(e,t,n){"use strict";cc._RF.push(t,"f35b5L7AcdIELoiqHU3m37F","GameGiftSystem"),Object.defineProperty(n,"__esModule",{value:!0}),n.gameGiftSystem=void 0;var o=e("../../framework/gg"),i=e("./GiftProto"),a=e("../gamews/GameSocketSystem"),r=e("./GameGiftUIEvent"),s=function(){function e(){this.giftList=[],this.receiverPlayerId=null,this.isAllowSendGift=!0,this.sendGiftCount=1,this.fromPos=-999,this.toPos=-999,this.map=new Map}return e.prototype.enable=function(){this.reset(),a.gameSocketSystem.on(i.GiftProtoMsg.GetGameGiftListResponse,this._GetGameGiftListResponse,this),a.gameSocketSystem.on(i.GiftProtoMsg.SendGameGiftResponse,this._SendGameGiftResponse,this),a.gameSocketSystem.on(i.GiftProtoMsg.SendGameGiftBroadCast,this._onGameGiftBroadCast,this)},e.prototype.reset=function(){this.receiverPlayerId=null,this.sendGiftCount=1,this.map.clear(),this.fromPos=-999,this.toPos=-999},e.prototype.disable=function(){a.gameSocketSystem.offTarget(this),this.reset(),this.giftList=[]},e.prototype._onGameGiftBroadCast=function(e){o.gg.eventManager.emit(r.GameGiftUIEvent.GameGiftBroadCastModelEvent,e)},e.prototype.getGameGiftList=function(){a.gameSocketSystem.send(i.GiftProtoMsg.GetGameGiftListRequest)},e.prototype._GetGameGiftListResponse=function(e){1===e.status?(this.giftList=e.game_gift_list,o.gg.eventManager.emit(r.GameGiftUIEvent.onGetGameGiftListResponse,!0)):(o.gg.logger.log("\u83b7\u53d6\u6e38\u620f\u793c\u7269\u5217\u8868\u5931\u8d25:",e.msg),o.gg.eventManager.emit(r.GameGiftUIEvent.onGetGameGiftListResponse,!1))},e.prototype._SendGameGiftResponse=function(e){1===e.status?(o.gg.logger.log("\u6e38\u620f\u793c\u7269\u53d1\u9001\u6210\u529f"),this.getGameGiftList()):(o.gg.logger.log("\u6e38\u620f\u793c\u7269\u53d1\u9001\u5931\u8d25:",e.msg),o.gg.eventManager.emit(r.GameGiftUIEvent.onSendGameGiftFail,e))},e.prototype.oneSecondDelay=function(){this.isAllowSendGift=!1,setTimeout(function(){this.isAllowSendGift=!0}.bind(this),1e3)},e._groupLen=8,e}();n.gameGiftSystem=new s,cc._RF.pop()},{"../../framework/gg":"gg","../gamews/GameSocketSystem":"GameSocketSystem","./GameGiftUIEvent":"GameGiftUIEvent","./GiftProto":"GiftProto"}],GameGiftUIEvent:[function(e,t,n){"use strict";cc._RF.push(t,"4a5ed5ljiFNbaP1QngTXrPs","GameGiftUIEvent"),Object.defineProperty(n,"__esModule",{value:!0}),n.GameGiftUIEvent=void 0,function(e){e.onGetGameGiftListResponse="GameGiftUIEvent.onGetGameGiftListResponse",e.onSendGameGiftFail="GameGiftUIEvent.onSendGameGiftFail",e.onGameGiftBroadCastResponse="GameGiftUIEvent.onGameGiftBroadCastResponse",e.onGameGiftClickOften="GameGiftUIEvent.onGameGiftClickOften",e.onGameGiftEffectRecycle="GameGiftUIEvent.onGameGiftEffectRecycle",e.GameGiftBroadCastModelEvent="GameGiftUIEvent.GameGiftBroadCastModelEvent"}(n.GameGiftUIEvent||(n.GameGiftUIEvent={})),cc._RF.pop()},{}],GameHallMessage:[function(e,t,n){"use strict";cc._RF.push(t,"8d4d9JLUCBKRLGM6hJxDLZ1","GameHallMessage");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.GameHallMessage=void 0;var r=e("./ICom"),s=e("./BaseMessage"),l=e("../common/ConfigMng"),c=e("../common/LogBase"),u=e("../common/Define"),p=a(e("long"));(function(e){(function(e){e[e.E_CODE_SUCC=0]="E_CODE_SUCC",e[e.E_ERROR_SYS=1]="E_ERROR_SYS",e[e.E_ERROR_REG_ACC_EXISTS=2]="E_ERROR_REG_ACC_EXISTS",e[e.E_ERROR_REG_ACC_OVER_COUNT=3]="E_ERROR_REG_ACC_OVER_COUNT",e[e.E_ERROR_REG_ACC_OVER_FREQUENCY=4]="E_ERROR_REG_ACC_OVER_FREQUENCY",e[e.E_ERROR_PARAM_ERROR=5]="E_ERROR_PARAM_ERROR",e[e.E_ERROR_USER_NO_FIND=6]="E_ERROR_USER_NO_FIND",e[e.E_ERROR_USER_LOCKED_BY_PWD=7]="E_ERROR_USER_LOCKED_BY_PWD",e[e.E_ERROR_PWD_ERR_WITH_CHANCE_CNT=8]="E_ERROR_PWD_ERR_WITH_CHANCE_CNT",e[e.E_ERROR_TOO_MANY_USER_BY_ONE_MAC=9]="E_ERROR_TOO_MANY_USER_BY_ONE_MAC",e[e.E_ERROR_USER_DISABLED=10]="E_ERROR_USER_DISABLED",e[e.E_ERROR_BIND_PW_HAS_SET=11]="E_ERROR_BIND_PW_HAS_SET",e[e.E_ERROR_BIND_CERTCODE_ERR=12]="E_ERROR_BIND_CERTCODE_ERR",e[e.E_ERROR_BIND_ACCHASBIND=13]="E_ERROR_BIND_ACCHASBIND",e[e.E_ERROR_BIND_PHONEHASBIND=14]="E_ERROR_BIND_PHONEHASBIND",e[e.E_ERROR_PASSWD_ERR=15]="E_ERROR_PASSWD_ERR",e[e.E_ERROR_BANKOUT_ERROR=16]="E_ERROR_BANKOUT_ERROR",e[e.E_ERROR_BANKOUT_PASSWORD_ERROR=17]="E_ERROR_BANKOUT_PASSWORD_ERROR",e[e.E_ERROR_BANKOUT_CANNOT_IN_GAME=18]="E_ERROR_BANKOUT_CANNOT_IN_GAME",e[e.E_ERROR_BANKOUT_BANK_NOT_MONEY=19]="E_ERROR_BANKOUT_BANK_NOT_MONEY",e[e.E_ERROR_BANKOUT_GAME_NOSUPPORT=20]="E_ERROR_BANKOUT_GAME_NOSUPPORT",e[e.E_ERROR_BANKIN_ERROR=21]="E_ERROR_BANKIN_ERROR",e[e.E_ERROR_BANKIN_GAME_PLAYING=22]="E_ERROR_BANKIN_GAME_PLAYING",e[e.E_ERROR_BANKIN_GAME_NOSUPPORT=23]="E_ERROR_BANKIN_GAME_NOSUPPORT",e[e.E_ERROR_BANKIN_GIVE_ERROR=24]="E_ERROR_BANKIN_GIVE_ERROR",e[e.E_ERROR_BANKIN_GIVE_NO_DEST=25]="E_ERROR_BANKIN_GIVE_NO_DEST",e[e.E_ERROR_BANKIN_GIVE_WRONG_PWD=26]="E_ERROR_BANKIN_GIVE_WRONG_PWD",e[e.E_ERROR_BANKIN_GIVE_NOT_ENOUGH_MONEY=27]="E_ERROR_BANKIN_GIVE_NOT_ENOUGH_MONEY",e[e.E_ERROR_BANKIN_GIVE_TOO_LESS=28]="E_ERROR_BANKIN_GIVE_TOO_LESS",e[e.E_ERROR_BANKIN_GIVE_CLOSED=29]="E_ERROR_BANKIN_GIVE_CLOSED",e[e.E_ERROR_BANKIN_GIVE_ACCOUNT_IS_LOCKED=30]="E_ERROR_BANKIN_GIVE_ACCOUNT_IS_LOCKED",e[e.E_ERROR_BANKIN_GIVE_CERTIFY_CODE_ERR=31]="E_ERROR_BANKIN_GIVE_CERTIFY_CODE_ERR",e[e.E_ERROR_BANKIN_GIVE_OVER_LIMIT=32]="E_ERROR_BANKIN_GIVE_OVER_LIMIT",e[e.E_ERROR_BANKIN_GIVE_OVER_DAY_LIMIT=33]="E_ERROR_BANKIN_GIVE_OVER_DAY_LIMIT",e[e.E_ERROR_BANKIN_GIVE_GAME_NOSUPPORT=34]="E_ERROR_BANKIN_GIVE_GAME_NOSUPPORT",e[e.E_ERROR_BANKIN_GIVE_NGAME_NUABLE=35]="E_ERROR_BANKIN_GIVE_NGAME_NUABLE",e[e.E_ERROR_SIGNIN_NOTOPEN=36]="E_ERROR_SIGNIN_NOTOPEN",e[e.E_ERROR_SIGNIN_HASSIGNED=37]="E_ERROR_SIGNIN_HASSIGNED",e[e.E_ERROR_PROP_BUY_ERROR=38]="E_ERROR_PROP_BUY_ERROR",e[e.E_ERROR_PROP_BUY_NOMONEY=39]="E_ERROR_PROP_BUY_NOMONEY",e[e.E_ERROR_PROP_USE_ERR_NOPROP=40]="E_ERROR_PROP_USE_ERR_NOPROP",e[e.E_ERROR_USER_NOT_ONLINE=41]="E_ERROR_USER_NOT_ONLINE",e[e.E_ERROR_BANKIN_WALLET_NOT_MONEY=42]="E_ERROR_BANKIN_WALLET_NOT_MONEY",e[e.E_ERROR_NOT_FIND_CONFIG=43]="E_ERROR_NOT_FIND_CONFIG",e[e.E_ERROR_ACC_HAS_EXISTS=44]="E_ERROR_ACC_HAS_EXISTS",e[e.E_ERROR_ACC_HAS_BIND=45]="E_ERROR_ACC_HAS_BIND",e[e.E_ERROR_GOODSDEFINE_NO=46]="E_ERROR_GOODSDEFINE_NO",e[e.E_ERROR_GOODSPRIZE_NO=47]="E_ERROR_GOODSPRIZE_NO",e[e.E_ERROR_PROP_NOT_ENOUGH=48]="E_ERROR_PROP_NOT_ENOUGH",e[e.E_ERROR_GOODS_NOT_ENOUGH=49]="E_ERROR_GOODS_NOT_ENOUGH",e[e.E_ERROR_BANK_MONEY_NOT_ENOUGH=50]="E_ERROR_BANK_MONEY_NOT_ENOUGH",e[e.E_ERROR_LOTTERY_DISABLED=51]="E_ERROR_LOTTERY_DISABLED",e[e.E_ERROR_LOTTERY_NOT_ENOUGH=52]="E_ERROR_LOTTERY_NOT_ENOUGH",e[e.E_ERROR_CONFIG_ERROR=53]="E_ERROR_CONFIG_ERROR",e[e.E_ERROR_DIAMOND_GB_NOT_ENOUGH=54]="E_ERROR_DIAMOND_GB_NOT_ENOUGH",e[e.E_ERROR_NOT_BIND_BANK=55]="E_ERROR_NOT_BIND_BANK",e[e.E_ERROR_REG_IP_OVER_COUNT=56]="E_ERROR_REG_IP_OVER_COUNT",e[e.E_ERROR_REG_IP_OVER_FREQUENCY=57]="E_ERROR_REG_IP_OVER_FREQUENCY",e[e.E_ERROR_HAS_PHONE_FRAME=58]="E_ERROR_HAS_PHONE_FRAME",e[e.E_ERROR_HAS_HEAD=59]="E_ERROR_HAS_HEAD",e[e.E_ERROR_GIVE_AIM_HAS_PHONE_FRAME=60]="E_ERROR_GIVE_AIM_HAS_PHONE_FRAME",e[e.E_ERROR_GIVE_AIM_HAS_HEAD=61]="E_ERROR_GIVE_AIM_HAS_HEAD",e[e.E_ERROR_BUY_COUNT_OVER=62]="E_ERROR_BUY_COUNT_OVER",e[e.E_ERROR_GIVE_COUNT_OVER=63]="E_ERROR_GIVE_COUNT_OVER",e[e.E_ERROR_GIFT_RECV_HAS_GETRECV=64]="E_ERROR_GIFT_RECV_HAS_GETRECV",e[e.E_ERROR_GIFT_RECV_HAS_BECANCEL=65]="E_ERROR_GIFT_RECV_HAS_BECANCEL",e[e.E_ERROR_GIFT_RECV_HAS_NORECORD=66]="E_ERROR_GIFT_RECV_HAS_NORECORD",e[e.E_ERROR_GIFT_CANCELSEND_HAS_BERECV=67]="E_ERROR_GIFT_CANCELSEND_HAS_BERECV",e[e.E_ERROR_GIFT_CANCELSEND_HAS_CANCEL=68]="E_ERROR_GIFT_CANCELSEND_HAS_CANCEL",e[e.E_ERROR_GIFT_CANCELSEND_NORECORD=69]="E_ERROR_GIFT_CANCELSEND_NORECORD",e[e.E_ERROR_WALLET_MONEY_NOT_ENOUGH=70]="E_ERROR_WALLET_MONEY_NOT_ENOUGH",e[e.E_ERROR_OP_INGAME_NOT_ENABLE=71]="E_ERROR_OP_INGAME_NOT_ENABLE",e[e.E_ERROR_RELIEFMONEY_HASRECV_COMPLETE=72]="E_ERROR_RELIEFMONEY_HASRECV_COMPLETE",e[e.E_ERROR_HASBIND_NEED_ACCOUNT_LOGIN=73]="E_ERROR_HASBIND_NEED_ACCOUNT_LOGIN",e[e.E_ERROR_RELIEFMONEY_NOT_CONDITION=74]="E_ERROR_RELIEFMONEY_NOT_CONDITION",e[e.E_ERROR_SMS_CODE_ERR=75]="E_ERROR_SMS_CODE_ERR",e[e.E_ERROR_SMS_CODE_EXPIRE=76]="E_ERROR_SMS_CODE_EXPIRE",e[e.E_ERROR_RELIEFMONEY_OVER_DAYTRANS_LI=77]="E_ERROR_RELIEFMONEY_OVER_DAYTRANS_LI",e[e.E_ERROR_ACTIVITY_HAS_AWARD=78]="E_ERROR_ACTIVITY_HAS_AWARD",e[e.E_ERROR_ACTIVITY_WAIT_AWARD=79]="E_ERROR_ACTIVITY_WAIT_AWARD",e[e.E_ERROR_ACTIVITY_EXPIRE=80]="E_ERROR_ACTIVITY_EXPIRE",e[e.E_ERROR_ACTIVITY_SHARE_OVERCOUNT=81]="E_ERROR_ACTIVITY_SHARE_OVERCOUNT",e[e.E_ERROR_NICK_HAS_EXISTS=82]="E_ERROR_NICK_HAS_EXISTS",e[e.E_ERROR_STR_INC_INVALID_CHAR=83]="E_ERROR_STR_INC_INVALID_CHAR",e[e.E_ERROR_ACC_NOT_BIND=84]="E_ERROR_ACC_NOT_BIND",e[e.SendMsgList_Part=101]="SendMsgList_Part",e[e.SendMsgList_Finish=102]="SendMsgList_Finish",e[e.SendMsgList_First=103]="SendMsgList_First",e[e.E_ERROR_GAME_LOGIN_IN_OTHER_ROOM=1e3]="E_ERROR_GAME_LOGIN_IN_OTHER_ROOM",e[e.E_ERROR_GAME_LOGIN_NOMONEY=1001]="E_ERROR_GAME_LOGIN_NOMONEY",e[e.E_ERROR_GAME_LOGIN_OVERMAXMOMEY=1002]="E_ERROR_GAME_LOGIN_OVERMAXMOMEY",e[e.E_ERROR_GAME_LOGIN_NOEXISTROOM=1003]="E_ERROR_GAME_LOGIN_NOEXISTROOM",e[e.E_ERROR_GAME_LOGIN_ACCOUNTS_IN_USE=1004]="E_ERROR_GAME_LOGIN_ACCOUNTS_IN_USE",e[e.E_ERROR_GAME_USER_NO_FIND=1005]="E_ERROR_GAME_USER_NO_FIND",e[e.E_ERROR_GAME_LIST_PART=1006]="E_ERROR_GAME_LIST_PART",e[e.E_ERROR_GAME_LIST_FINISH=1007]="E_ERROR_GAME_LIST_FINISH",e[e.E_ERROR_GAME_STOP_LOGON=1008]="E_ERROR_GAME_STOP_LOGON",e[e.E_ERROR_BEGIN_GAME=1009]="E_ERROR_BEGIN_GAME",e[e.E_ERROR_GAME_ALREAD_USER=1010]="E_ERROR_GAME_ALREAD_USER",e[e.E_ERROR_GAME_IP_SAME=1011]="E_ERROR_GAME_IP_SAME",e[e.E_ERROR_GAME_CUT_HIGH=1012]="E_ERROR_GAME_CUT_HIGH",e[e.E_ERROR_GAME_POINT_LOW=1013]="E_ERROR_GAME_POINT_LOW",e[e.E_ERROR_GAME_POINT_HIGH=1014]="E_ERROR_GAME_POINT_HIGH",e[e.E_ERROR_GAME_POINT_LIMIT=1015]="E_ERROR_GAME_POINT_LIMIT",e[e.E_ERROR_GAME_CAN_NOT_LEFT=1016]="E_ERROR_GAME_CAN_NOT_LEFT",e[e.E_ERROR_GAME_UNENABLE_WATCH=1017]="E_ERROR_GAME_UNENABLE_WATCH",e[e.E_ERROR_GAME_DESK_FULL=1018]="E_ERROR_GAME_DESK_FULL",e[e.E_ERROR_GAME_TESTROOM_TIMELIMIT=1019]="E_ERROR_GAME_TESTROOM_TIMELIMIT",e[e.E_ERROR_DB_EXEC_PROC_FAILED=1e4]="E_ERROR_DB_EXEC_PROC_FAILED",e[e.E_ERROR_DB_DIS_HANDLE_FAILED=10001]="E_ERROR_DB_DIS_HANDLE_FAILED",e[e.E_ERROR_DB_IN_PACEKT_ERR=10002]="E_ERROR_DB_IN_PACEKT_ERR",e[e.E_ERROR_DB_FUNC_ERROR=10003]="E_ERROR_DB_FUNC_ERROR",e[e.E_ERROR_DB_RETURN_ERROR=10004]="E_ERROR_DB_RETURN_ERROR",e[e.E_ERROR_NOT_CONN_CENTER_SRV=10005]="E_ERROR_NOT_CONN_CENTER_SRV",e[e.E_ERROR_SRV_CMD_OVERTIME=10006]="E_ERROR_SRV_CMD_OVERTIME",e[e.E_ERROR_UNKNOEW=10007]="E_ERROR_UNKNOEW"})(e.E_ERROR_CODE||(e.E_ERROR_CODE={}));var t=function(){function e(){}return e.getCodeMsg=function(e){return 0==e?"SUCCEED":l.ConfigMng.getTips(u.Define.TIPS.ERROR_CODE+e.toString())},e}();e.ERROR_CODE_MSG=t,function(e){e[e.GoodsCate_Prop=1]="GoodsCate_Prop",e[e.GoodsCate_Gb=2]="GoodsCate_Gb"}(e.E_GOODS_CATEGORY||(e.E_GOODS_CATEGORY={})),function(e){e[e.GOODS_PRIZETYPE_Gb=1]="GOODS_PRIZETYPE_Gb",e[e.GOODS_PRIZETYPE_Diamond=2]="GOODS_PRIZETYPE_Diamond",e[e.GOODS_PRIZETYPE_Prop=3]="GOODS_PRIZETYPE_Prop"}(e.E_GOODS_PRIZE_TYPE||(e.E_GOODS_PRIZE_TYPE={})),function(e){e[e.LOTTERY_AWARDTYPE_None=0]="LOTTERY_AWARDTYPE_None",e[e.LOTTERY_AWARDTYPE_Gb=1]="LOTTERY_AWARDTYPE_Gb",e[e.LOTTERY_AWARDTYPE_Diamond=2]="LOTTERY_AWARDTYPE_Diamond",e[e.LOTTERY_AWARDTYPE_Prop=3]="LOTTERY_AWARDTYPE_Prop"}(e.E_LOTTERY_AWARD_TYPE||(e.E_LOTTERY_AWARD_TYPE={})),function(e){e[e.CURRENCY_TYPE_MONEY=1]="CURRENCY_TYPE_MONEY",e[e.CURRENCY_TYPE_DIAMONDS=2]="CURRENCY_TYPE_DIAMONDS"}(e.E_CURRENCY_TYPE||(e.E_CURRENCY_TYPE={})),function(e){e[e.PROP_SWITCHATTR_Hot=1]="PROP_SWITCHATTR_Hot",e[e.PROP_SWITCHATTR_New=2]="PROP_SWITCHATTR_New",e[e.PROP_SWITCHATTR_Recome=4]="PROP_SWITCHATTR_Recome",e[e.PROP_SWITCHATTR_Transfer=8]="PROP_SWITCHATTR_Transfer",e[e.PROP_SWITCHATTR_BackpackShow=16]="PROP_SWITCHATTR_BackpackShow",e[e.PROP_SWITCHATTR_Use=32]="PROP_SWITCHATTR_Use"}(e.E_PROP_SWITCH_ATTRIBUTE_FLAG||(e.E_PROP_SWITCH_ATTRIBUTE_FLAG={})),function(e){e[e.PropCate_InteractAnimation=1]="PropCate_InteractAnimation",e[e.PropCate_Message=2]="PropCate_Message",e[e.PropCate_PhotoFrame=3]="PropCate_PhotoFrame"}(e.E_PROP_CATEGORY||(e.E_PROP_CATEGORY={})),function(e){e[e.GOODS_SWITCHATTR_Hot=1]="GOODS_SWITCHATTR_Hot",e[e.GOODS_SWITCHATTR_New=2]="GOODS_SWITCHATTR_New",e[e.GOODS_SWITCHATTR_Recome=4]="GOODS_SWITCHATTR_Recome",e[e.GOODS_SWITCHATTR_Transfer=8]="GOODS_SWITCHATTR_Transfer",e[e.GOODS_SWITCHATTR_BackpackShow=16]="GOODS_SWITCHATTR_BackpackShow",e[e.GOODS_SWITCHATTR_ShopBuy=32]="GOODS_SWITCHATTR_ShopBuy",e[e.GOODS_SWITCHATTR_Real=64]="GOODS_SWITCHATTR_Real",e[e.GOODS_SWITCHATTR_Use=128]="GOODS_SWITCHATTR_Use"}(e.E_GOODS_SWITCH_ATTRIBUTE_FLAG||(e.E_GOODS_SWITCH_ATTRIBUTE_FLAG={}));var n,o=function(){function e(){}return e.ROOM_RULE_MEMBER_ROOM=1,e.ROOM_RULE_IP_LIMITED=2,e.ROOM_RULE_VIP_ROOM=4,e.ROOM_RULE_UNENABLE_WATCH=8,e.ROOM_RULE_AUTO_SIT_DESK=16,e.ROOM_RULE_LIMIT_SAME_IP=32,e.ROOM_RULE_RECORD_GAME=64,e.ROOM_RULE_FORBID_ROOM_TALK=128,e.ROOM_RULE_VIDEO_ROOM=16384,e.ROOM_RULE_NOTFUFENG=32768,e.ROOM_RULE_SHOW_NAME=256,e.ROOM_RULE_ALL_NEED_TAX=512,e.ROOM_RULE_QUEUE_GAME=1024,e.ROOM_RULE_ROBOTAUTO_SIT=524288,e.ROOM_RULE_UNITY3D=1048576,e.ROOM_RULE_DRAWHAND=2097152,e.ROOM_RULE_WATCHROOM=2048,e.ROOM_RULE_SUN_SHINE=8388608,e.ROOM_RULE_ACTIVE_CHEST=16777216,e.ROOM_RULE_PK_OPEN_PLAY_METHOD=33554432,e.ROOM_RULE_PK_ROOM=67108864,e.ROOM_RULE_QUICK_ROOM=134217728,e.ROOM_RULE_EXPERCISE_ROOM=4096,e.ROOM_RULE_NO_TICK_ROOM=8192,e.ROOM_RULE_SHOW_POOL_FUN=16384,e.PwdLenMin=6,e.PwdLenMax=20,e}();e.ROOM_RULE=o,function(e){e[e.MAQST_CHAT=1]="MAQST_CHAT",e[e.MAQST_MAQ=2]="MAQST_MAQ",e[e.MAQST_CHATANDMAQ=3]="MAQST_CHATANDMAQ"}(e.E_MAQ_SHOW_TYPE||(e.E_MAQ_SHOW_TYPE={})),function(e){e[e.MAQSR_CUR_ROOM=1]="MAQSR_CUR_ROOM",e[e.MAQSR_CUR_GAME=2]="MAQSR_CUR_GAME",e[e.MAQSR_ALL_GAME=3]="MAQSR_ALL_GAME",e[e.MAQSR_ALL_PLAT=4]="MAQSR_ALL_PLAT",e[e.MAQSR_ONLY_HALL=5]="MAQSR_ONLY_HALL"}(n=e.E_MAQ_SHOW_RANGE||(e.E_MAQ_SHOW_RANGE={}));var a=function(){function e(){}return e.MDM_CONNECT=1,e.MDM_GH_LOGON=1000001,e.MDM_GH_LIST=1000002,e.MDM_GH_USERREFRESH=113,e.MDM_GH_MONEY=1000014,e.MDM_GH_MAQ_MSG=1000003,e.MDM_WEB_MAIN_ID=1000008,e.MDM_GH_PROP=1000011,e.MDM_GR_SOCKET_CLOSE=120,e}();e.MDM_ID=a;var h=function(){function e(){}return e.ASS_NET_TEST=1,e.ASS_CONNECT_SUCCESS=3,e}();e.SUB_CONNECT_ID=h;var d=function(){function e(){}return e.SUB_GH_LOGON_ACCOUNT=1,e.SUB_GH_LOGON_SUCCESS=2,e.SUB_GH_LOGON_ERROR=3,e.SUB_GH_LOGON_WEIXING=4,e.SUB_GH_LOGON_CHANNEL=5,e.SUB_GH_LOGON_QUICK=6,e.SUB_GH_LOGON_REG=11,e}();e.SUB_GH_LOGON_ID=d;var f=function(){function e(){}return e.RSP_GH_GAME_ROOM_LIST=3,e.SUB_GH_GAME_ROOM_LIST=4,e.SUB_GH_LIST_ONLINE_COUNT=5,e.SUB_GH_NEED_GET_ROOMLIST=8,e.SUB_GH_SERVER_TIME=9,e}();e.SUB_GH_LIST=f;var g=function(){function e(){}return e.SUB_GH_USERREFRESH=1,e.SUB_GH_USERINFO_SET_PHONE_BANK_PD=2,e.SUB_GH_USERINFO_SELF_UPDATE=4,e.SUB_GH_USERINFO_MODIFY_PASSWD=5,e.SUB_GH_USERINFO_BIND_QUICK_ACCOUNT=6,e.SUB_GH_USERINFO_VIP=7,e.SUB_GH_USERINFO_MAIL_NOTIFY=8,e.SUB_GH_USERINFO_DISABLE_NOTIFY=9,e.SUB_GH_USERINFO_PAYMENT_NOTIFY=10,e.SUB_USERINFO_RESET_PASSWORD_REQ=17,e.SUB_USERINFO_RESET_PASSWORD_RSP=18,e.SUB_USERINFO_CHANGE_BIND_ACCOUNT=27,e}();e.SUB_GH_USERREFRESH=g;var m=function(){function e(){}return e.SUB_GR_BANK_OUT=2,e.SUB_GR_BANK_IN=3,e}();e.SUB_GH_MONEY=m;var y=function(){function e(){}return e.SUB_GH_MAQ_MSG_NOTIFY=1,e.SUB_GH_MAQ_MSG_RANK_HAS_NOTIFY=3,e.SUB_GH_DAJIANG_MSG_NOTIFY=5,e}();e.SUB_GH_MAQ_MSG=y;var _=function(){function e(){}return e.ASS_WEB_RECHARGE=21,e.SUB_WEB_MAIL_CHANGE=1e3,e}();e.SUB_WEB_MAIN_ID=_;var v=function(){function e(){}return e.SUB_PROP_GETPROP=1,e.SUB_PROP_GIVE=2,e.SUB_PROP_USEPROP=3,e.SUB_PROP_BIG_BOARDCASE=4,e.SUB_GOODS_GET=5,e.SUB_GOODS_DATA=6,e.SUB_GOODSPRIZE_DATA=7,e.SUB_GOODS_BUY=8,e.SUB_GOODS_USE=9,e.SUB_GOODS_GIVE=10,e.SUB_LOTTERY_CONFIG_GET=113,e.SUB_LOTTERY_RESULT_GET=112,e.SUB_PROP_GIVE_FETCH=13,e.SUB_PROP_GIVE_CANCEL=14,e}();e.SUB_GH_PROP=v;var b=function(){function e(){}return e.ASS_GR_ZSERVER_RELOG_KICK=1,e.ASS_GR_QUIT_GAMEROOM=2,e.ASS_GR_ROOM_CLOSE=3,e.ASS_GR_ROOM_CONNECT=4,e.ASS_GR_ROOM_GWCLOSE=5,e}();e.SUB_GR_SOCKET_CLOSE=b;var S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iMsgTime=p.default.fromNumber(0),t.unUserID=0,t.szLoginState="",t.szMidInfo="",t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=76,t.ATTRIBUTES=[new s.MessageAttribute("iMsgTime","long",!1,""),new s.MessageAttribute("unUserID","uint32",!1,""),new s.MessageAttribute("szLoginState","string",!1,32),new s.MessageAttribute("szMidInfo","string",!1,32)],t}(s.BaseMessage);e.stCheckInfo=S;var C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dwMagic=0,t.uPackMsgLen=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=6+S.LENGTH,t.ATTRIBUTES=[new s.MessageAttribute("dwMagic","uint32",!1,""),new s.MessageAttribute("uPackMsgLen","uint16",!1,""),new s.MessageAttribute("sCheckData",S,!1,"")],t}(s.BaseMessage);e.CSEncryptHead=C;var I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dwVer1=0,t.dwRes1=0,t.dwVer2=0,t.dwRes2=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.dwVer1=e.getUint32(),this.dwRes1=e.getUint32(),this.dwVer2=e.getUint32(),this.dwRes2=e.getUint32()},t.prototype.writeTo=function(e){return void 0===e&&(e=null),null==e&&(e=s.ByteUtil.createByte()),e.writeUint32(this.dwVer1),e.writeUint32(this.dwRes1),e.writeUint32(this.dwVer2),e.writeUint32(this.dwRes2),e},t.LENGTH=16,t}(s.BaseMessage);e.Accept=I;var R=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.szName="",t.byLoginVersion=0,t.szReserve="",t.TML_SN="",t.szMD5Pass="",t.szMathineCode="",t.iAgencyID=0,t.iLoginType=0,t.byLoginPlatform=0,t.byVerifyType=0,t.szVerifyCode="",t.szVerifyToken="",t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=420,t.ATTRIBUTES=[new s.MessageAttribute("szName","string",!1,100),new s.MessageAttribute("byLoginVersion","byte",!1,""),new s.MessageAttribute("szReserve","string",!1,27),new s.MessageAttribute("TML_SN","string",!1,128),new s.MessageAttribute("szMD5Pass","string",!1,50),new s.MessageAttribute("szMathineCode","string",!1,64),new s.MessageAttribute("iAgencyID","int32",!1,""),new s.MessageAttribute("iLoginType","int32",!1,""),new s.MessageAttribute("byLoginPlatform","byte",!1,""),new s.MessageAttribute("byVerifyType","byte",!1,""),new s.MessageAttribute("szVerifyCode","string",!1,7),new s.MessageAttribute("szVerifyToken","string",!1,33)],t}(s.BaseMessage);e.CMD_Logon_Account=R;var L=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_llNextChangeTimeLimit=0,t}return i(t,e),t.m_llNextChangeTimeLimit=r.ICom.bit.long,t}(r.ICom.BaseMessage);e.SRV_CMD_CACHE_USERINFO_CHANGE_BIND_ACCOUNT_Rsp=L;var P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iUserID=0,t.szMD5Pass="",t.szName="",t.szVerifiCode="",t.szVerifyToken="",t}return i(t,e),t.iUserID=r.ICom.bit.uint,t.szMD5Pass=new r.ICom.String(50),t.szName=new r.ICom.String(50),t.szVerifiCode=new r.ICom.String(15),t.szVerifyToken=new r.ICom.String(33),t}(r.ICom.BaseMessage);e.CMD_C_UserInfo_ChangeBindAccount=P;var M=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.szName="",t.byLoginVersion=0,t.szReserve="",t.TML_SN="",t.szMD5Pass="",t.szMathineCode="",t.iAgencyID=0,t.iLoginType=0,t.byLoginPlatform=0,t.iPromoter=0,t}return i(t,e),t.szName=new r.ICom.String(100),t.byLoginVersion=new r.ICom.Bytes,t.szReserve=new r.ICom.String(27),t.TML_SN=new r.ICom.String(128),t.szMD5Pass=new r.ICom.String(50),t.szMathineCode=new r.ICom.String(64),t.iAgencyID=new r.ICom.Int32,t.iLoginType=new r.ICom.Int32,t.byLoginPlatform=new r.ICom.Bytes,t.iPromoter=new r.ICom.Int32,t}(r.ICom.BaseMessage);e.CMD_Logon_Quick=M;var T=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.szName="",t.TML_SN="",t.szMD5Pass="",t.szMathineCode="",t.iAgencyID=0,t.iLoginType=0,t.byLoginPlatform=0,t.iChannelID=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=383,t.ATTRIBUTES=[new s.MessageAttribute("szName","string",!1,128),new s.MessageAttribute("TML_SN","string",!1,128),new s.MessageAttribute("szMD5Pass","string",!1,50),new s.MessageAttribute("szMathineCode","string",!1,64),new s.MessageAttribute("iAgencyID","int32",!1,""),new s.MessageAttribute("iLoginType","int32",!1,""),new s.MessageAttribute("byLoginPlatform","byte",!1,""),new s.MessageAttribute("iChannelID","int32",!1,"")],t}(s.BaseMessage);e.CMD_Logon_Channel=T;var E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dwUserID=0,t.iIdentity=0,t.dwLastLogonIP=0,t.dwNowLogonIP=0,t.bLogoID=0,t.bBoy=!0,t.szName="",t.TML_SN="",t.szMD5Pass="",t.nickName="",t.dwMoney=0,t.dwBank=0,t.dwTreasure=0,t.iExchangeBill=0,t.iCardNum=0,t.iExperience=0,t.iGameLevel=0,t.cTitle="",t.iVipLevel=0,t.iVipExp=0,t.byCeritfiyFlag=0,t.tmServer=0,t.iCutRoomID=0,t.tmLastLoginTM=0,t.tmCurLoginTM=0,t.uAgencyID=0,t.iLoginType=0,t.byIsNeedBindBank=0,t.byIsNeedBindQuick=0,t.szGameSign="",t.iPhotoFrame=0,t.iCountry=0,t.iSign_CurDayIndex=0,t.bSign_HasSigned=!1,t.byShouC_IsNeedShow=0,t.byShouC_IsHasPayNotAward=0,t.byGuessBs_IsNeedShow=0,t.byGuessBs_IsHasPayNotAward=0,t.byCBMap_IsEnable=0,t.byCBMap_MapIndex=0,t.byCBMap_MapCurIsPay=0,t.szToken="",t.i64UpgradeSendGb=0,t.m_llNextChangeBindTimeLimit=0,t}return i(t,e),t.dwUserID=r.ICom.bit.int,t.iIdentity=r.ICom.bit.int,t.dwLastLogonIP=r.ICom.bit.int,t.dwNowLogonIP=r.ICom.bit.int,t.bLogoID=r.ICom.bit.int,t.bBoy=r.ICom.bit.byte,t.szName=new r.ICom.String(61),t.TML_SN=new r.ICom.String(128),t.szMD5Pass=new r.ICom.String(50),t.nickName=new r.ICom.String(32),t.dwMoney=r.ICom.bit.long,t.dwBank=r.ICom.bit.long,t.dwTreasure=r.ICom.bit.int,t.iExchangeBill=r.ICom.bit.int,t.iCardNum=r.ICom.bit.int,t.iExperience=r.ICom.bit.long,t.iGameLevel=r.ICom.bit.int,t.cTitle=new r.ICom.String(61),t.iVipLevel=r.ICom.bit.int,t.iVipExp=r.ICom.bit.long,t.byCeritfiyFlag=r.ICom.bit.byte,t.tmServer=r.ICom.bit.long,t.iCutRoomID=r.ICom.bit.int,t.tmLastLoginTM=r.ICom.bit.long,t.tmCurLoginTM=r.ICom.bit.long,t.uAgencyID=r.ICom.bit.int,t.iLoginType=r.ICom.bit.int,t.byIsNeedBindBank=r.ICom.bit.byte,t.byIsNeedBindQuick=r.ICom.bit.byte,t.szGameSign=new r.ICom.String(51),t.iPhotoFrame=r.ICom.bit.uint,t.iCountry=r.ICom.bit.short,t.iSign_CurDayIndex=r.ICom.bit.short,t.bSign_HasSigned=r.ICom.bit.byte,t.byShouC_IsNeedShow=r.ICom.bit.byte,t.byShouC_IsHasPayNotAward=r.ICom.bit.byte,t.byGuessBs_IsNeedShow=r.ICom.bit.byte,t.byGuessBs_IsHasPayNotAward=r.ICom.bit.byte,t.byCBMap_IsEnable=r.ICom.bit.byte,t.byCBMap_MapIndex=r.ICom.bit.byte,t.byCBMap_MapCurIsPay=r.ICom.bit.byte,t.szToken=new r.ICom.String(33),t.i64UpgradeSendGb=r.ICom.bit.long,t.m_llNextChangeBindTimeLimit=r.ICom.bit.long,t}(r.ICom.BaseMessage);e.CMD_GH_LogonResult=E;var A=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iPwdErrChance=0,t.szErrReason="",t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=104,t.ATTRIBUTES=[new s.MessageAttribute("iPwdErrChance","int32",!1,""),new s.MessageAttribute("szErrReason","string",!1,100)],t}(s.BaseMessage);e.CMD_GH_Logon_Failed=A;var w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.szNickName="",t.bSex=0,t.iPromoter=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH+R.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(n){e.prototype.readFrom.call(this,n),this.readAttribute(n,t.ATTRIBUTES)},t.prototype.writeTo=function(n){return void 0===n&&(n=null),n=e.prototype.writeTo.call(this,n),this.writeAttributeToBype(n,t.ATTRIBUTES)},t.LENGTH=37+R.LENGTH,t.ATTRIBUTES=[new s.MessageAttribute("szNickName","string",!1,32),new s.MessageAttribute("bSex","byte",!1,""),new s.MessageAttribute("iPromoter","int32",!1,"")],t}(R);e.CMD_Logon_WeiXing=w;var O=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bBoy=0,t.szName="",t.nickName="",t.szMD5Pass="",t.szToken="",t.byLoginPlatform=0,t.byLoginVersion=0,t.szReserve="",t.iAgencyID=0,t.iPromoter=0,t.iRegWay=0,t.byVerifyType=0,t.szVerifyCode="",t.szVerifyToken="",t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=272,t.ATTRIBUTES=[new s.MessageAttribute("bBoy","byte",!1,""),new s.MessageAttribute("szName","string",!1,"_len_user_name"),new s.MessageAttribute("nickName","string",!1,"_len_user_name"),new s.MessageAttribute("szMD5Pass","string",!1,"_len_pwd_"),new s.MessageAttribute("szToken","string",!1,100),new s.MessageAttribute("byLoginPlatform","byte",!1,""),new s.MessageAttribute("byLoginVersion","byte",!1,""),new s.MessageAttribute("szReserve","string",!1,26),new s.MessageAttribute("iAgencyID","int32",!1,""),new s.MessageAttribute("iPromoter","int32",!1,""),new s.MessageAttribute("iRegWay","int32",!1,""),new s.MessageAttribute("byVerifyType","byte",!1,""),new s.MessageAttribute("szVerifyCode","string",!1,7),new s.MessageAttribute("szVerifyToken","string",!1,33)],t}(s.BaseMessage);e.CMD_C_REG_QUICK=O;var G=function(e){function t(){var t=e.call(this)||this;return t.iAgentID=0,t.iCount=0,t.lsNameID=[],t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new s.MessageAttribute("iAgentID","int32",!1,""),new s.MessageAttribute("iCount","int32",!1,""),new s.MessageAttribute("lsNameID","uint32",!0,"iCount")],t}(s.BaseMessage);e.CMD_GH_RoomIdList=G;var N=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.uComType=0,t.uKindID=0,t.uNameID=0,t.uRoomID=0,t.uPeopleCount=0,t.uDeskPeople=0,t.uDeskCount=0,t.uServicePort=0,t.szGameRoomName="",t.uVirtualUser=0,t.dwRoomRule=0,t.iLessPoint=0,t.iBasePoint=0,t.iRoomTax=0,t.iLessMoney2Enter=p.default.fromNumber(0),t.iMaxMoney2Enter=p.default.fromNumber(0),t.iRoomLevel=0,t.byIsEnableBank=0,t.byIsEnableTrans=0,t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES),this.uDeskCount>=255&&c.LogBase.error("\u6b64\u623f\u95f4\u684c\u5b50\u6570\u4e3a"+this.uDeskCount+"\uff0c\u5927\u4e8e254"),this.uDeskPeople>=255&&c.LogBase.error("\u6b64\u623f\u95f4\u6bcf\u684c\u5ea7\u4f4d\u6570\u4e3a"+this.uDeskPeople+"\uff0c\u5927\u4e8e254")},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.prototype.checkRule=function(e){return 0!=(this.dwRoomRule&e)},t.prototype.reset=function(){this.uComType=0,this.uKindID=0,this.uNameID=0,this.uRoomID=0,this.uPeopleCount=0,this.uDeskPeople=0,this.uDeskCount=0,this.uServicePort=0,this.szGameRoomName="",this.uVirtualUser=0,this.dwRoomRule=0,this.iLessPoint=0,this.iBasePoint=0,this.iRoomTax=0,this.iLessMoney2Enter=p.default.fromNumber(0),this.iMaxMoney2Enter=p.default.fromNumber(0),this.iRoomLevel=0,this.byIsEnableBank=0,this.byIsEnableTrans=0},t.ATTRIBUTES=[new s.MessageAttribute("uComType","uint32",!1,""),new s.MessageAttribute("uKindID","uint32",!1,""),new s.MessageAttribute("uNameID","uint32",!1,""),new s.MessageAttribute("uRoomID","uint32",!1,""),new s.MessageAttribute("uPeopleCount","uint32",!1,""),new s.MessageAttribute("uDeskPeople","uint32",!1,""),new s.MessageAttribute("uDeskCount","uint32",!1,""),new s.MessageAttribute("uServicePort","uint32",!1,""),new s.MessageAttribute("szGameRoomName","string",!1,"NAME_STRING_LEN"),new s.MessageAttribute("uVirtualUser","int32",!1,""),new s.MessageAttribute("dwRoomRule","uint32",!1,""),new s.MessageAttribute("iLessPoint","int32",!1,""),new s.MessageAttribute("iBasePoint","int32",!1,""),new s.MessageAttribute("iRoomTax","int32",!1,""),new s.MessageAttribute("iLessMoney2Enter","long",!1,""),new s.MessageAttribute("iMaxMoney2Enter","long",!1,""),new s.MessageAttribute("iRoomLevel","int32",!1,""),new s.MessageAttribute("byIsEnableBank","byte",!1,""),new s.MessageAttribute("byIsEnableTrans","byte",!1,"")],t}(s.BaseMessage);e.CSRoomInfoItem=N;var D=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iCount=0,t.sItem=[],t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new s.MessageAttribute("iCount","int32",!1,""),new s.MessageAttribute("sItem",N,!0,"iCount")],t}(s.BaseMessage);e.CMD_GH_RoomInfoList=D;var B=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.uID=0,t.uOnLineCount=0,t.uVirtualUser=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=12,t.ATTRIBUTES=[new s.MessageAttribute("uID","uint32",!1,""),new s.MessageAttribute("uOnLineCount","uint32",!1,""),new s.MessageAttribute("uVirtualUser","int32",!1,"")],t}(s.BaseMessage);e.stOnlinePeopleItem=B;var U=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iCount=0,t.sItem=[],t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new s.MessageAttribute("iCount","int32",!1,""),new s.MessageAttribute("sItem",B,!0,"iCount")],t}(s.BaseMessage);e.CMD_GH_ListOnlinePeoples=U;var k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tmSrv=p.default.fromNumber(0),t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=8,t.ATTRIBUTES=[new s.MessageAttribute("tmSrv","long",!1,"")],t}(s.BaseMessage);e.CMD_S_ServerTime=k;var x=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iUserID=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=4,t.ATTRIBUTES=[new s.MessageAttribute("iUserID","int32",!1,"")],t}(s.BaseMessage);e.C_S_USERFRESH=x;var F=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dwUserID=0,t.iWalletGb=p.default.fromNumber(0),t.iBankGb=p.default.fromNumber(0),t.dwTreasure=0,t.iExchangeBill=0,t.iCardNum=0,t.iVipLevel=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=36,t.ATTRIBUTES=[new s.MessageAttribute("dwUserID","uint32",!1,""),new s.MessageAttribute("iWalletGb","long",!1,""),new s.MessageAttribute("iBankGb","long",!1,""),new s.MessageAttribute("dwTreasure","int32",!1,""),new s.MessageAttribute("iExchangeBill","int32",!1,""),new s.MessageAttribute("iCardNum","int32",!1,""),new s.MessageAttribute("iVipLevel","int32",!1,"")],t}(s.BaseMessage);e.CMD_GH_UserRefresh=F;var H=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.uUserID=0,t.szLoginMD5Pass="",t.szPhone="",t.szBankMD5Pass="",t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=119,t.ATTRIBUTES=[new s.MessageAttribute("uUserID","uint32",!1,""),new s.MessageAttribute("szLoginMD5Pass","string",!1,50),new s.MessageAttribute("szPhone","string",!1,15),new s.MessageAttribute("szBankMD5Pass","string",!1,50)],t}(s.BaseMessage);e.CMD_GH_Set_UserInfo_PhoneAndBank_Password=H;var j=function(e){function t(){var t=e.call(this)||this;return t.iUserID=0,t.bSex=!0,t.iImageNo=0,t.szNickName="",t.szGameSign="",t.iPhotoFrame=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=96,t.ATTRIBUTES=[new s.MessageAttribute("iUserID","uint32",!1,""),new s.MessageAttribute("bSex","boolean",!1,""),new s.MessageAttribute("iImageNo","int32",!1,""),new s.MessageAttribute("szNickName","string",!1,32),new s.MessageAttribute("szGameSign","string",!1,51),new s.MessageAttribute("iPhotoFrame","uint32",!1,"")],t}(s.BaseMessage);e.CMD_C_UserInfo_Self_Update=j;var W=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.szPhone="",t.szVerifiCode="",t.szPasswd="",t.szVerifyToken="",t.AgentID=0,t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new s.MessageAttribute("szPhone","string",!1,20),new s.MessageAttribute("szVerifiCode","string",!1,15),new s.MessageAttribute("szPasswd","string",!1,"_len_pwd_"),new s.MessageAttribute("szVerifyToken","string",!1,33),new s.MessageAttribute("AgentID","int32",!1,"")],t}(s.BaseMessage);e.CMD_C_UserInfo_ResetPassword=W;var V=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iUserID=0,t.szSrcMD5Pass="",t.szDesMD5Pass="",t.iModifyType=0,t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new s.MessageAttribute("iUserID","uint32",!1,""),new s.MessageAttribute("szSrcMD5Pass","string",!1,"_len_pwd_"),new s.MessageAttribute("szDesMD5Pass","string",!1,"_len_pwd_"),new s.MessageAttribute("iModifyType","int32",!1,"")],t}(s.BaseMessage);e.CMD_C_UserInfo_Modify_Password=V;var Y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iUserID=0,t.szQuickMD5Pass="",t.szName="",t.szMD5Pass="",t.szPhone="",t.szVerifiCode="",t.szVerifyToken="",t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new s.MessageAttribute("iUserID","uint32",!1,""),new s.MessageAttribute("szQuickMD5Pass","string",!1,"_len_pwd_"),new s.MessageAttribute("szName","string",!1,50),new s.MessageAttribute("szMD5Pass","string",!1,"_len_pwd_"),new s.MessageAttribute("szPhone","string",!1,15),new s.MessageAttribute("szVerifiCode","string",!1,15),new s.MessageAttribute("szVerifyToken","string",!1,33)],t}(s.BaseMessage);e.CMD_C_UserInfo_BindQuickAccount=Y;var z=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iUserID=0,t.iVipLevel=0,t.iVipExp=p.default.fromNumber(0),t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=16,t.ATTRIBUTES=[new s.MessageAttribute("iUserID","uint32",!1,""),new s.MessageAttribute("iVipLevel","int32",!1,""),new s.MessageAttribute("iVipExp","long",!1,"")],t}(s.BaseMessage);e.CMD_S_UserInfo_Vip=z;var K=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iUserID=0,t.iMailID=0,t.byDelFlag=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=9,t.ATTRIBUTES=[new s.MessageAttribute("iUserID","uint32",!1,""),new s.MessageAttribute("iMailID","int32",!1,""),new s.MessageAttribute("byDelFlag","byte",!1,"")],t}(s.BaseMessage);e.CMD_S_UserInfo_MailNotify=K;var q=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iUserID=0,t.szDisabledDes="",t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=104,t.ATTRIBUTES=[new s.MessageAttribute("iUserID","uint32",!1,""),new s.MessageAttribute("szDisabledDes","string",!1,100)],t}(s.BaseMessage);e.CMD_S_UserInfo_DisableNotify=q;var J=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iUserID=0,t.iChangeMoney=p.default.fromNumber(0),t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=12,t.ATTRIBUTES=[new s.MessageAttribute("iUserID","uint32",!1,""),new s.MessageAttribute("iChangeMoney","long",!1,"")],t}(s.BaseMessage);e.CMD_S_UserInfo_UserPaymentNotify=J;var X=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.uCount=p.default.fromNumber(0),t.UserID=0,t.szMD5Pass="",t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=58,t.ATTRIBUTES=[new s.MessageAttribute("uCount","long",!1,""),new s.MessageAttribute("UserID","uint32",!1,""),new s.MessageAttribute("szMD5Pass","string",!1,50)],t}(s.BaseMessage);e.CMD_GR_C_BankOutMoney=X;var Z=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dwUserID=0,t.dwCheckOut=p.default.fromNumber(0),t.dwMoneyInBank=p.default.fromNumber(0),t.dwMoneyInRoom=p.default.fromNumber(0),t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=24,t.ATTRIBUTES=[new s.MessageAttribute("dwUserID","uint32",!1,""),new s.MessageAttribute("dwCheckOut","long",!1,""),new s.MessageAttribute("dwMoneyInBank","long",!1,""),new s.MessageAttribute("dwMoneyInRoom","long",!1,"")],t}(s.BaseMessage);e.CMD_GR_S_BankOutMoney=Z;var Q=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.uCount=p.default.fromNumber(0),t.UserID=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=8,t.ATTRIBUTES=[new s.MessageAttribute("uCount","long",!1,""),new s.MessageAttribute("UserID","uint32",!1,"")],t}(s.BaseMessage);e.CMD_GR_S_BankInMoney=Q;var $=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iSortID=0,t.iShowType=0,t.iMaqShowRange=0,t.iGameID=0,t.iRoomID=0,t.szMsgContent="",t.iMaqType=0,t.szUserName="",t.iTalkShowStopTimes=0,t.iAgentID=0,t}return i(t,e),t.prototype.isGameMessage=function(){return this.iMaqShowRange!=n.MAQSR_ALL_PLAT&&this.iMaqShowRange!=n.MAQSR_ONLY_HALL},t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new s.MessageAttribute("iSortID","int32",!1,""),new s.MessageAttribute("iShowType","int32",!1,""),new s.MessageAttribute("iMaqShowRange","int32",!1,""),new s.MessageAttribute("iGameID","int32",!1,""),new s.MessageAttribute("iRoomID","int32",!1,""),new s.MessageAttribute("szMsgContent","string",!1,200),new s.MessageAttribute("iMaqType","int32",!1,""),new s.MessageAttribute("szUserName","string",!1,20),new s.MessageAttribute("iTalkShowStopTimes","int32",!1,""),new s.MessageAttribute("iAgentID","int32",!1,"")],t}(s.BaseMessage);e.CMD_MAQ_MSG_ITEM=$;var ee=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iCount=0,t.sItem=[],t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new s.MessageAttribute("iCount","int32",!1,""),new s.MessageAttribute("sItem",$,!0,"iCount")],t}(s.BaseMessage);e.CMD_MAQ_MSG=ee;var te=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iCount=0,t.info=[],t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new s.MessageAttribute("iCount","int32",!1,""),new s.MessageAttribute("info",ee,!0,"iCount")],t}(s.BaseMessage);e.CMD_S_MAQ_NOTIFY=te;var ne=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iUserID=0,t.iTreasureChange=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=8,t.ATTRIBUTES=[new s.MessageAttribute("iUserID","int32",!1,""),new s.MessageAttribute("iTreasureChange","int32",!1,"")],t}(s.BaseMessage);e.MSG_WEB_RECHARGE=ne;var oe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iMailID=0,t.iChangeFlag=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=8,t.ATTRIBUTES=[new s.MessageAttribute("iMailID","int32",!1,""),new s.MessageAttribute("iChangeFlag","int32",!1,"")],t}(s.BaseMessage);e.CMD_S_WEB_MAIL_CHANGE=oe;var ie=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dwUserID=0,t.iGoodId=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=8,t.ATTRIBUTES=[new s.MessageAttribute("dwUserID","int32",!1,""),new s.MessageAttribute("iGoodId","int32",!1,"")],t}(s.BaseMessage);e.CMD_PROP_C_GET=ie;var ae=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iPropID=0,t.szPropName="",t.szPropDesc="",t.iVersion=0,t.byIsEnabled=0,t.dwSwitchAttrFlag=0,t.iCategoryID=0,t.iAmount=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=271,t.ATTRIBUTES=[new s.MessageAttribute("iPropID","int32",!1,""),new s.MessageAttribute("szPropName","string",!1,50),new s.MessageAttribute("szPropDesc","string",!1,200),new s.MessageAttribute("iVersion","int32",!1,""),new s.MessageAttribute("byIsEnabled","byte",!1,""),new s.MessageAttribute("dwSwitchAttrFlag","uint32",!1,""),new s.MessageAttribute("iCategoryID","int32",!1,""),new s.MessageAttribute("iAmount","int32",!1,"")],t}(s.BaseMessage);e.CMD_PROP_S_PROP=ae;var re=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iSrcUserID=0,t.iDestUserID=0,t.iPropID=0,t.iSendAmount=0,t.szMD5Pass="",t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=66,t.ATTRIBUTES=[new s.MessageAttribute("iSrcUserID","uint32",!1,""),new s.MessageAttribute("iDestUserID","uint32",!1,""),new s.MessageAttribute("iPropID","int32",!1,""),new s.MessageAttribute("iSendAmount","int32",!1,""),new s.MessageAttribute("szMD5Pass","string",!1,50)],t}(s.BaseMessage);e.CMD_C_GiveProp=re;var se=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iSendUserID=0,t.iRecvUserID=0,t.iPropID=0,t.iSendAmount=0,t.iUserAmount=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=20,t.ATTRIBUTES=[new s.MessageAttribute("iSendUserID","uint32",!1,""),new s.MessageAttribute("iRecvUserID","uint32",!1,""),new s.MessageAttribute("iPropID","int32",!1,""),new s.MessageAttribute("iSendAmount","int32",!1,""),new s.MessageAttribute("iUserAmount","int32",!1,"")],t}(s.BaseMessage);e.CMD_S_GiveProp=se;var le=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iUserID=0,t.iPropID=0,t.iUseAmount=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=12,t.ATTRIBUTES=[new s.MessageAttribute("iUserID","uint32",!1,""),new s.MessageAttribute("iPropID","int32",!1,""),new s.MessageAttribute("iUseAmount","int32",!1,"")],t}(s.BaseMessage);e.CMD_C_UseProp=le;var ce=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iUserID=0,t.iPropID=0,t.iUseAmount=0,t.iCurAmount=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=16,t.ATTRIBUTES=[new s.MessageAttribute("iUserID","uint32",!1,""),new s.MessageAttribute("iPropID","int32",!1,""),new s.MessageAttribute("iUseAmount","int32",!1,""),new s.MessageAttribute("iCurAmount","int32",!1,"")],t}(s.BaseMessage);e.CMD_S_UseProp=ce;var ue=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nPropID=0,t.dwUserID=0,t.crColor=0,t.iLength=0,t.szUserName="",t.szMessage="",t.iAreaID=0,t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new s.MessageAttribute("nPropID","int32",!1,""),new s.MessageAttribute("dwUserID","int32",!1,""),new s.MessageAttribute("crColor","uint32",!1,""),new s.MessageAttribute("iLength","int16",!1,""),new s.MessageAttribute("szUserName","string",!1,32),new s.MessageAttribute("szMessage","string",!1,"BROADCAST_MESSAGE_MAX"),new s.MessageAttribute("iAreaID","int32",!1,"")],t}(s.BaseMessage);e.CMD_BIG_BOARDCAST=ue;var pe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iUserId=0,t.iGoodId=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=8,t.ATTRIBUTES=[new s.MessageAttribute("iUserId","int32",!1,""),new s.MessageAttribute("iGoodId","int32",!1,"")],t}(s.BaseMessage);e.CMD_C_Goods_Get=pe;var he=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iGoodsID=0,t.szGoodsName="",t.szGoodsDesc="",t.iCurrencyType=0,t.iPrice=p.default.fromNumber(0),t.iSortNum=0,t.byIsEnabled=0,t.dwSwitchAttrFlag=0,t.iCategoryID=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=275,t.ATTRIBUTES=[new s.MessageAttribute("iGoodsID","int32",!1,""),new s.MessageAttribute("szGoodsName","string",!1,50),new s.MessageAttribute("szGoodsDesc","string",!1,200),new s.MessageAttribute("iCurrencyType","int32",!1,""),new s.MessageAttribute("iPrice","long",!1,""),new s.MessageAttribute("iSortNum","int32",!1,""),new s.MessageAttribute("byIsEnabled","byte",!1,""),new s.MessageAttribute("dwSwitchAttrFlag","uint32",!1,""),new s.MessageAttribute("iCategoryID","int32",!1,"")],t}(s.BaseMessage);e.GoodsDefine=he;var de=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iGoodsID=0,t.iGoodsAmount=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=8,t.ATTRIBUTES=[new s.MessageAttribute("iGoodsID","int32",!1,""),new s.MessageAttribute("iGoodsAmount","int32",!1,"")],t}(s.BaseMessage);e.GoodsData=de;var fe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iID=0,t.iGoodsID=0,t.iPrizeType=0,t.szPrizeConfig="",t.iPrizeAmount=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=116,t.ATTRIBUTES=[new s.MessageAttribute("iID","int32",!1,""),new s.MessageAttribute("iGoodsID","int32",!1,""),new s.MessageAttribute("iPrizeType","int32",!1,""),new s.MessageAttribute("szPrizeConfig","string",!1,100),new s.MessageAttribute("iPrizeAmount","int32",!1,"")],t}(s.BaseMessage);e.GoodsPrizeData=fe;var ge=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iUserID=0,t.iGoodsID=0,t.iBuyAmount=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=12,t.ATTRIBUTES=[new s.MessageAttribute("iUserID","uint32",!1,""),new s.MessageAttribute("iGoodsID","int32",!1,""),new s.MessageAttribute("iBuyAmount","int32",!1,"")],t}(s.BaseMessage);e.CMD_C_Goods_Buy=ge;var me=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iUserID=0,t.iGoodsID=0,t.iBuyAmount=0,t.iGoodsAmount=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=16,t.ATTRIBUTES=[new s.MessageAttribute("iUserID","uint32",!1,""),new s.MessageAttribute("iGoodsID","int32",!1,""),new s.MessageAttribute("iBuyAmount","int32",!1,""),new s.MessageAttribute("iGoodsAmount","int32",!1,"")],t}(s.BaseMessage);e.CMD_S_Goods_Buy=me;var ye=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iUserID=0,t.iGoodsID=0,t.iUseAmount=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=12,t.ATTRIBUTES=[new s.MessageAttribute("iUserID","uint32",!1,""),new s.MessageAttribute("iGoodsID","int32",!1,""),new s.MessageAttribute("iUseAmount","int32",!1,"")],t}(s.BaseMessage);e.CMD_C_UseGoods=ye;var _e=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iUserID=0,t.iGoodsID=0,t.iUseAmount=0,t.iCurAmount=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=16,t.ATTRIBUTES=[new s.MessageAttribute("iUserID","uint32",!1,""),new s.MessageAttribute("iGoodsID","int32",!1,""),new s.MessageAttribute("iUseAmount","int32",!1,""),new s.MessageAttribute("iCurAmount","int32",!1,"")],t}(s.BaseMessage);e.CMD_S_UseGoods=_e;var ve=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iSrcUserID=0,t.iDestUserID=0,t.iGoodID=0,t.iSendAmount=0,t.szMD5Pass="",t.byIsUseMoneyBuy=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=67,t.ATTRIBUTES=[new s.MessageAttribute("iSrcUserID","uint32",!1,""),new s.MessageAttribute("iDestUserID","uint32",!1,""),new s.MessageAttribute("iGoodID","int32",!1,""),new s.MessageAttribute("iSendAmount","int32",!1,""),new s.MessageAttribute("szMD5Pass","string",!1,50),new s.MessageAttribute("byIsUseMoneyBuy","byte",!1,"")],t}(s.BaseMessage);e.CMD_C_GiveGoods=ve;var be=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iSendUserID=0,t.iRecvUserID=0,t.iGoodID=0,t.iSendAmount=0,t.iUserAmount=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=20,t.ATTRIBUTES=[new s.MessageAttribute("iSendUserID","uint32",!1,""),new s.MessageAttribute("iRecvUserID","uint32",!1,""),new s.MessageAttribute("iGoodID","int32",!1,""),new s.MessageAttribute("iSendAmount","int32",!1,""),new s.MessageAttribute("iUserAmount","int32",!1,"")],t}(s.BaseMessage);e.CMD_S_GiveGoods=be;var Se=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iUserId=0,t.iLotteryID=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=8,t.ATTRIBUTES=[new s.MessageAttribute("iUserId","int32",!1,""),new s.MessageAttribute("iLotteryID","int32",!1,"")],t}(s.BaseMessage);e.CMD_C_SrvDayLottery=Se;var Ce=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iID=0,t.iAwardType=0,t.iAmount=0,t.iSortNum=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=16,t.ATTRIBUTES=[new s.MessageAttribute("iID","int32",!1,""),new s.MessageAttribute("iAwardType","int32",!1,""),new s.MessageAttribute("iAmount","int32",!1,""),new s.MessageAttribute("iSortNum","int32",!1,"")],t}(s.BaseMessage);e.DayLotteryItem=Ce;var Ie=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=1,t.ATTRIBUTES=[new s.MessageAttribute("data","byte",!1,"")],t}(s.BaseMessage);e.SpceialJson=Ie;var Re=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iLotteryID=0,t.byIsEnabled=0,t.byIsSigned=0,t.iSpceialJsonCount=0,t.szSpceialJson="",t.ilsCount=0,t.lsData=[],t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new s.MessageAttribute("iLotteryID","int32",!1,""),new s.MessageAttribute("byIsEnabled","byte",!1,""),new s.MessageAttribute("byIsSigned","byte",!1,""),new s.MessageAttribute("iSpceialJsonCount","int32",!1,""),new s.MessageAttribute("szSpceialJson","string",!1,"iSpceialJsonCount"),new s.MessageAttribute("ilsCount","int32",!1,""),new s.MessageAttribute("lsData",Ce,!0,"ilsCount")],t}(s.BaseMessage);e.CMD_S_SrvDayLottery=Re;var Le=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iUserId=0,t.iLotteryID=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=8,t.ATTRIBUTES=[new s.MessageAttribute("iUserId","int32",!1,""),new s.MessageAttribute("iLotteryID","int32",!1,"")],t}(s.BaseMessage);e.CMD_C_SrvDayLottery_Result=Le;var Pe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iUserId=0,t.iLotteryID=0,t.iCurDayIndex=0,t.iWinningPrizeID=0,t.iSmallIndex=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=20,t.ATTRIBUTES=[new s.MessageAttribute("iUserId","int32",!1,""),new s.MessageAttribute("iLotteryID","int32",!1,""),new s.MessageAttribute("iCurDayIndex","int32",!1,""),new s.MessageAttribute("iWinningPrizeID","int32",!1,""),new s.MessageAttribute("iSmallIndex","int32",!1,"")],t}(s.BaseMessage);e.CMD_S_SrvDayLottery_Result=Pe;var Me=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iUserId=0,t.iRecordID=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=8,t.ATTRIBUTES=[new s.MessageAttribute("iUserId","int32",!1,""),new s.MessageAttribute("iRecordID","int32",!1,"")],t}(s.BaseMessage);e.CMD_C_PropGive_Fetch=Me;var Te=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iRecvUserID=0,t.iSendUserID=0,t.iRecordID=0,t.iExtTotal=p.default.fromNumber(0),t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=16,t.ATTRIBUTES=[new s.MessageAttribute("iRecvUserID","uint32",!1,""),new s.MessageAttribute("iSendUserID","uint32",!1,""),new s.MessageAttribute("iRecordID","int32",!1,""),new s.MessageAttribute("iExtTotal","long",!1,"")],t}(s.BaseMessage);e.CMD_S_PropGive_Fetch_Result=Te;var Ee=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iRecordID=0,t.iSendUserID=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=8,t.ATTRIBUTES=[new s.MessageAttribute("iRecordID","int32",!1,""),new s.MessageAttribute("iSendUserID","uint32",!1,"")],t}(s.BaseMessage);e.CMD_C_PropGive_Cancel=Ee;var Ae=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iRecordID=0,t.iRecvUserID=0,t.iSendUserID=0,t.iSendExtTotal=p.default.fromNumber(0),t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=20,t.ATTRIBUTES=[new s.MessageAttribute("iRecordID","int32",!1,""),new s.MessageAttribute("iRecvUserID","uint32",!1,""),new s.MessageAttribute("iSendUserID","uint32",!1,""),new s.MessageAttribute("iSendExtTotal","long",!1,"")],t}(s.BaseMessage);e.CMD_S_PropGive_Cancel_Result=Ae})(n.GameHallMessage||(n.GameHallMessage={})),cc._RF.pop()},{"../common/ConfigMng":"ConfigMng","../common/Define":"Define","../common/LogBase":"LogBase","./BaseMessage":"BaseMessage","./ICom":"ICom",long:43}],GameHandCard10100:[function(e,t,n){"use strict";cc._RF.push(t,"495a157Mq5KZoa2NejZxBbH","GameHandCard10100");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameHandCard10100=void 0;var r=e("./GameCardMg10100"),s=e("./GameCardRes10100"),l=e("../../halls/halllib/laya/Laya"),c=l.Laya.regClass,u=l.Laya.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bitCard=null,t.CardPoolBox=null,t}var n;return i(t,e),n=t,t.prototype.onAwake=function(){n.Instance=this,this.cardbox=this.owner,this.cardPool=[],this.activeCards=[]},t.prototype.ResetBoxWidth=function(){var e=this.activeCards.length;e>0&&(this.cardbox.width=75*(e-1)+130)},t.prototype.GetCardObj=function(){var e=null;return(e=this.cardPool.length>0?this.cardPool.pop():new h(this.bitCard.create())).SetParent(this.cardbox),this.activeCards.push(e),e},t.prototype.RecoveryCard=function(){for(var e=0;e<this.activeCards.length;e++)this.activeCards[e].Hide(),this.activeCards[e].SetParent(this.CardPoolBox),this.cardPool.push(this.activeCards[e]);this.activeCards=[]},t.prototype.InitSendCard=function(e,t){this.CardNum_1=0,this.CardNum_2=0;for(var n=0;n<e.length;n++){var o=this.GetCardObj();o.Index=n,o.ImageCard.pos(75*n,3),o.IsSelect=!1,o.Data=e[n],t?o.InitCard():o.Hide()}this.ResetBoxWidth()},t.prototype.AddNewCard=function(e){var t=this.GetCardObj();t.Index=this.activeCards.length-1,t.ImageCard.pos(75*t.Index,3),t.IsSelect=!1,t.Data=e,t.Hide(),this.CardNum_1=t.Index,this.CardNum_2=t.Index,this.ResetBoxWidth(),this.ResetSlect()},t.prototype.GetSendCardPos=function(){var e;if(this.activeCards.length>this.CardNum_2){var t=this.activeCards[this.CardNum_2];t.PosMove.setTo(0,0),t.PosMove=t.ImageCard.localToGlobal(t.PosMove,!1),t.PosMove=r.GameCardMg10100.Instance.GBox.globalToLocal(t.PosMove,!1),e=t.PosMove}return this.CardNum_2++,e},t.prototype.ShowSendCard=function(){this.activeCards.length>this.CardNum_1&&(this.activeCards[this.CardNum_1].InitCard(),this.CardNum_1++)},t.prototype.ShowAllHandCard=function(){for(var e=0;e<this.activeCards.length;e++)this.activeCards[e].InitCard()},t.prototype.ResetSlect=function(e){void 0===e&&(e=!0);for(var t=0;t<this.activeCards.length;t++)this.activeCards[t].Index=t,this.activeCards[t].ImageCard.x=75*t,this.activeCards[t].IsSelect=!1;e&&this.CheckSelectCards()},t.prototype.CheckLeftCardDrag=function(e){if(e.Index>0){var t=this.activeCards[e.Index-1];if(t&&e.ImageCard.x<t.ImageCard.x){var n=t.Index;t.Index=e.Index,e.Index=n,t.ImageCard.x+=75,this.activeCards[e.Index]=e,this.activeCards[t.Index]=t}}},t.prototype.CheckRightardDrag=function(e){if(e.Index<this.activeCards.length-1){var t=this.activeCards[e.Index+1];if(t&&e.ImageCard.x>t.ImageCard.x){var n=t.Index;t.Index=e.Index,e.Index=n,t.ImageCard.x-=75,this.activeCards[e.Index]=e,this.activeCards[t.Index]=t,this.CheckRightardDrag(e)}}},t.prototype.CheckSelectCards=function(){var e=this.GetSelectCards();r.GameCardMg10100.Instance.CheckSelectCards(e)},t.prototype.GetSelectCards=function(){for(var e=[],t=0;t<this.activeCards.length;t++)this.activeCards[t].IsSelect&&e.push(this.activeCards[t].Data);return e},t.prototype.AutoSort=function(){if(!r.GameCardMg10100.Instance.IsSendCard&&this.activeCards.length>1){for(var e=void 0,t=void 0,n=0;n<this.activeCards.length;n++){e=this.activeCards[n];for(var o=n+1;o<this.activeCards.length;o++)((t=this.activeCards[o]).CardPoin<e.CardPoin||t.CardPoin==e.CardPoin&&t.Data<e.Data)&&(this.activeCards[o]=e,this.activeCards[n]=t,e=t);e.ImageCard.pos(75*n,0),e.Index=n,e.IsSelect=!1}this.cardbox.updateZOrder(),this.cardbox.refresh()}},t.prototype.OutCardByData=function(e){for(var t=null,n=0;n<this.activeCards.length;n++)null==t?this.activeCards[n].Data==e&&(t=this.activeCards[n]):this.activeCards[n-1]=this.activeCards[n];return null!=t&&(this.activeCards.pop(),t.PosMove.setTo(0,0),t.PosMove=t.ImageCard.localToGlobal(t.PosMove,!1),t.PosMove=r.GameCardMg10100.Instance.GBox.globalToLocal(t.PosMove,!1),t.SetParent(this.CardPoolBox),t.Hide(),this.cardPool.push(t),this.ResetBoxWidth()),t},t.prototype.AutoSelectCard=function(e){for(var t=0;t<this.activeCards.length;t++)this.activeCards[t].Index=t,this.activeCards[t].ImageCard.x=75*t,this.activeCards[t].IsSelect=!1;var n={};n.Data=e,n.CardPoin=15&e,n.CardType=(240&e)/16+1;var o=[n],i=[n];for(t=0;t<this.activeCards.length;t++){var a=this.activeCards[t];n.CardPoin==a.CardPoin&&o.push(a),n.CardType==a.CardType&&i.push(a)}if(o.length>2)for(t=0;t<o.length;t++)o[t].Data!=n.Data&&(o[t].IsSelect=!0);else if(i.length>2){i.sort(function(e,t){return e.Data-t.Data});var r=0,s=0,l=i.length-1;for(t=0;t<i.length;t++){if(0!=r&&i[t].Data!=r+1){if(n.Data<i[t].Data){l=t-1;break}s=t}r=i[t].Data}for(t=s;t<=l;t++)i[t]!=n&&(i[t].IsSelect=!0)}},a([u(l.Laya.Prefab)],t.prototype,"bitCard",void 0),a([u(l.Laya.Box)],t.prototype,"CardPoolBox",void 0),n=a([c()],t)}(l.Laya.Script);n.GameHandCard10100=p;var h=function(){function e(e){this.index=0,this.isSelect=!1,this.PosMove=new l.Laya.Point,this.ImageCard=e,this.ImageTag=e.getChildAt(0),this.ImageCard.on(l.Laya.Event.CLICK,this,this.onCLICK),this.ImageCard.on(l.Laya.Event.MOUSE_DRAG,this,this.onMOUSEDRAG),this.ImageCard.on(l.Laya.Event.MOUSE_DRAG_END,this,this.onMOUSEDRAGEND)}return Object.defineProperty(e.prototype,"Index",{get:function(){return this.index},set:function(e){this.ImageCard.zOrder=2*e,this.ImageTag.zOrder=2*e+1,this.index=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Data",{get:function(){return this.data},set:function(e){this.CardPoin=15&e,this.CardType=(240&e)/16+1,this.data=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"IsSelect",{get:function(){return this.isSelect},set:function(e){this.isSelect=e,this.ImageCard.y=e?-30:3},enumerable:!1,configurable:!0}),e.prototype.InitCard=function(){this.ImageCard.skin=s.GameCardRes10100.Instance.GetCardRes(this.CardPoin,this.CardType),this.ImageTag.visible=1==this.CardPoin||13==this.CardPoin,this.ImageCard.visible=!0},e.prototype.Hide=function(){this.isSelect=!1,this.ImageCard.visible=!1,this.ImageTag.visible=!1,this.isDrag=!1},e.prototype.SetParent=function(e){e.addChild(this.ImageCard)},e.prototype.onCLICK=function(){this.isSelect=!this.isSelect,this.ImageCard.y=this.isSelect?-30:3,p.Instance.CheckSelectCards()},e.prototype.onMOUSEDRAG=function(){if(this.ImageCard.visible){if(this.isDrag){var e=l.Laya.InputManager.mouseX-this.PosMove.x;this.ImageCard.x+=e,this.ImageCard.y+=l.Laya.InputManager.mouseY-this.PosMove.y,this.ImageCard.y>-170&&(e>0?p.Instance.CheckRightardDrag(this):p.Instance.CheckLeftCardDrag(this))}this.PosMove.x=l.Laya.InputManager.mouseX,this.PosMove.y=l.Laya.InputManager.mouseY,this.isDrag=!0}},e.prototype.onMOUSEDRAGEND=function(){if(this.ImageCard.visible){this.isDrag=!1;var t=!1;this.ImageCard.y<-170&&Math.sqrt(this.ImageCard.x-e.OutPosX^this.ImageCard.y-e.OutPosY+2^2)<=200&&(t=r.GameCardMg10100.Instance.CheckOutCard(this.data)),t||p.Instance.ResetSlect()}},e.OutPosX=-26,e.OutPosY=-472,e}();cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya","./GameCardMg10100":"GameCardMg10100","./GameCardRes10100":"GameCardRes10100"}],GameHandCardOrther10100:[function(e,t,n){"use strict";cc._RF.push(t,"3b288SCSzFOGKUBwhK/Wq1Y","GameHandCardOrther10100");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameHandCardOrther10100=void 0;var r=e("./GameCardRes10100"),s=e("../../halls/halllib/laya/Laya"),l=s.Laya.regClass,c=s.Laya.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.LabelPoint=null,t.ImagePoint=null,t}return i(t,e),t.prototype.onAwake=function(){this.cardbox=this.owner,this.activeCards=[]},t.prototype.ResetBoxWidth=function(){var e=this.activeCards.length;e>0&&(this.cardbox.width=30*(e-1)+60),this.cardbox.updateZOrder(),this.cardbox.refresh()},t.prototype.Clear=function(){for(var e=0;e<this.activeCards.length;e++)r.GameCardRes10100.Instance.RecoveryCard(this.activeCards[e]);this.activeCards=[],this.ImagePoint.visible=!1},t.prototype.AddNewCard=function(e){var t=r.GameCardRes10100.Instance.GetSmallCard(e,this.cardbox,e>0);t.ImageCard.scale(1,1),t.Index=this.activeCards.length,this.activeCards.push(t)},t.prototype.InitHandCard=function(e,t){this.Clear();for(var n=0;n<e.length;n++)this.AddNewCard(e[n]);this.LabelPoint.text=t.toString(),this.ImagePoint.visible=!0,this.ResetBoxWidth()},a([c(s.Laya.Label)],t.prototype,"LabelPoint",void 0),a([c(s.Laya.Image)],t.prototype,"ImagePoint",void 0),a([l()],t)}(s.Laya.Script);n.GameHandCardOrther10100=u,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya","./GameCardRes10100":"GameCardRes10100"}],GameHelp10100:[function(e,t,n){"use strict";cc._RF.push(t,"d5c03IwydNBoYkrjJn6h8Gx","GameHelp10100");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameHelp10100=void 0;var r=e("../../halls/halllib/laya/Laya"),s=r.Laya.regClass,l=r.Laya.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.closeButton=null,t}var n;return i(t,e),n=t,t.prototype.onAwake=function(){n.Instance=this,this.isPlaying=!1,this.closeButton.on(r.Laya.Event.CLICK,this,this.Hide)},t.prototype.Hide=function(){var e=this;this.isPlaying||(this.isPlaying=!0,r.Laya.Tween.to(this.owner,{x:1480},200,null,new r.Laya.Handler(this,function(){e.isPlaying=!1,e.owner.visible=!1})))},t.prototype.Show=function(){var e=this;this.isPlaying||(this.isPlaying=!0,this.owner.visible=!0,r.Laya.Tween.to(this.owner,{x:455},200,null,new r.Laya.Handler(this,function(){e.isPlaying=!1})))},a([l(r.Laya.Button)],t.prototype,"closeButton",void 0),n=a([s()],t)}(r.Laya.Script);n.GameHelp10100=c,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya"}],GameHelpPanel30200:[function(e,t,n){"use strict";cc._RF.push(t,"ec059v1xYpLgo/cVVKESv8W","GameHelpPanel30200");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameHelpPanel30200=void 0;var r=e("./GameBasePanel30200"),s=e("../../halls/halllib/laya/Laya"),l=s.Laya.regClass,c=(s.Laya.property,function(e){function t(){return e.call(this)||this}var n;return i(t,e),n=t,t.prototype.onAwake=function(){e.prototype.onAwake.call(this),n.Instance=this,this.ButtonClose=this.owner.getChildByName("ButtonClose"),this.ButtonClose.on(s.Laya.Event.CLICK,this,this.onButtonClose)},t.prototype.onButtonClose=function(){this.Hide()},n=a([l()],t)}(r.GameBasePanel30200));n.GameHelpPanel30200=c,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya","./GameBasePanel30200":"GameBasePanel30200"}],GameHelpPanel30300:[function(e,t,n){"use strict";cc._RF.push(t,"ce685WLFzRA3Jv0U86mILqB","GameHelpPanel30300");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameHelpPanel30300=void 0;var r=e("./GameBasePanel30300"),s=e("../../halls/halllib/laya/Laya"),l=s.Laya.regClass,c=(s.Laya.property,function(e){function t(){return e.call(this)||this}var n;return i(t,e),n=t,t.prototype.onAwake=function(){e.prototype.onAwake.call(this),n.Instance=this,this.ButtonClose=this.owner.getChildByName("ButtonClose"),this.ButtonClose.on(s.Laya.Event.CLICK,this,this.onButtonClose)},t.prototype.onButtonClose=function(){this.Hide()},n=a([l()],t)}(r.GameBasePanel30300));n.GameHelpPanel30300=c,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya","./GameBasePanel30300":"GameBasePanel30300"}],GameHelpPanel30700:[function(e,t,n){"use strict";cc._RF.push(t,"ad362r6Q39LYKAmrbraAzUi","GameHelpPanel30700");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameHelpPanel30700=void 0;var r=e("./GameBasePanel30700"),s=e("../../halls/halllib/laya/Laya"),l=s.Laya.regClass,c=(s.Laya.property,function(e){function t(){return e.call(this)||this}var n;return i(t,e),n=t,t.prototype.onAwake=function(){e.prototype.onAwake.call(this),n.Instance=this,this.ButtonClose=this.owner.getChildByName("ButtonClose"),this.ButtonClose.on(s.Laya.Event.CLICK,this,this.onButtonClose)},t.prototype.onButtonClose=function(){this.Hide()},n=a([l()],t)}(r.GameBasePanel30700));n.GameHelpPanel30700=c,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya","./GameBasePanel30700":"GameBasePanel30700"}],GameHelpPanel34800:[function(e,t,n){"use strict";cc._RF.push(t,"aafaaT89+pNxIZxf+LQbwhK","GameHelpPanel34800");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameHelpPanel34800=void 0;var r=e("./GameBasePanel34800"),s=e("../../halls/halllib/laya/Laya"),l=s.Laya.regClass,c=(s.Laya.property,function(e){function t(){return e.call(this)||this}var n;return i(t,e),n=t,t.prototype.onAwake=function(){e.prototype.onAwake.call(this),n.Instance=this,this.ButtonClose=this.owner.getChildByName("ButtonClose"),this.ButtonClose.on(s.Laya.Event.CLICK,this,this.onButtonClose)},t.prototype.onButtonClose=function(){this.Hide()},n=a([l()],t)}(r.GameBasePanel34800));n.GameHelpPanel34800=c,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya","./GameBasePanel34800":"GameBasePanel34800"}],GameHistory30200:[function(e,t,n){"use strict";cc._RF.push(t,"29207J3fVVEirGYTXh+ekog","GameHistory30200");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameHistory30200=void 0;var r=e("../../halls/halllib/laya/Laya"),s=r.Laya.regClass,l=(r.Laya.property,function(e){function t(){return e.call(this)||this}var n;return i(t,e),n=t,t.prototype.onAwake=function(){this.hisLen=7,n.Instance=this,this.historyNum=[];var e=this.owner.getChildByName("VBox");this.hisArray=[];for(var t=0;t<this.hisLen;t++)this.hisArray[t]=new c(e.getChildAt(t));this.particleimg=this.owner.getChildByName("ImageRay")},t.GetAniMalsRes=function(e){return this.AniMalsRes[e]},t.GetColorRes=function(e){return this.ColorRes[e]},t.GetZHXRes=function(e){return this.ZHXRes[e]},t.prototype.AddNewChild=function(e){if(this.historyNum.length>=this.hisLen)for(var t=0;t<this.hisLen;t++)t==this.hisLen-1?this.historyNum[t]=e:this.historyNum[t]=this.historyNum[t+1];else this.historyNum[this.historyNum.length]=e;this.FlashHistory()},t.prototype.FlashHistory=function(){for(var e=0;e<this.hisArray.length;e++)e<this.historyNum.length?(this.hisArray[e].Node.visible=!0,this.hisArray[e].ColorImg.skin=n.GetColorRes(this.historyNum[e].colortype),this.hisArray[e].AniImag.skin=n.GetAniMalsRes(this.historyNum[e].animaltype),this.hisArray[e].TagImag.skin=n.GetZHXRes(this.historyNum[e].bettype)):this.hisArray[e].Node.visible=!1;this.setParticle()},t.prototype.InitHist=function(e,t){if(t>=0){this.historyNum=[];for(var n=t>this.hisArray.length?t-this.hisArray.length:0,o=n;o<=t;o++)this.historyNum[o-n]=e[o];this.FlashHistory()}},t.prototype.setParticle=function(){if(this.historyNum.length>0){var e=this.historyNum.length>this.hisArray.length?this.hisArray.length-1:this.historyNum.length-1;this.hisArray[e].Node.addChild(this.particleimg),this.particleimg.pos(45,45),this.particleimg.visible=!0}else this.particleimg.visible=!1},t.AniMalsRes=["resources/games/game30200/res/game/UI_Game_JS_Lion.png","resources/games/game30200/res/game/UI_Game_JS_Panda.png","resources/games/game30200/res/game/UI_Game_JS_Monkey.png","resources/games/game30200/res/game/UI_Game_JS_Rabit.png","resources/games/game30200/res/game/UI_Game_JS_DSXAnimal.png"],t.ColorRes=["resources/games/game30200/res/game/UI_ludan_red.png","resources/games/game30200/res/game/UI_ludan_green.png","resources/games/game30200/res/game/UI_ludan_yellow.png"],t.ZHXRes=["resources/games/game30200/res/game/txt_yazhu_zhuang.png","resources/games/game30200/res/game/txt_yazhu_he.png","resources/games/game30200/res/game/txt_yazhu_xian.png"],n=a([s()],t)}(r.Laya.Script));n.GameHistory30200=l;var c=function(e){this.Node=e,this.ColorImg=e.getChildByName("quan"),this.AniImag=e.getChildByName("ani"),this.TagImag=e.getChildByName("tag")};cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya"}],GameHistory30300:[function(e,t,n){"use strict";cc._RF.push(t,"afc65Ik46JMq43Gcgvje8i5","GameHistory30300");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameHistory30300=void 0;var r=e("./GameData30300"),s=e("../../halls/halllib/laya/Laya"),l=s.Laya.regClass,c=s.Laya.property,u=function(e){function t(){var t=e.call(this)||this;return t.Particle=null,t}var n;return i(t,e),n=t,t.prototype.onAwake=function(){n.Instance=this,this.loadIconImage(),this.historyNum=[],this.hisArray=[];for(var e=0;e<11;e++)this.hisArray[e]=this.owner.getChildAt(e);this.particleimg=this.Particle,this.particleani=this.Particle.getComponent(s.Laya.Animator2D)},t.prototype.AddNewChild=function(e){if(this.historyNum.length>=11)for(var t=0;t<11;t++)this.historyNum[t]=10==t?e:this.historyNum[t+1];else this.historyNum[this.historyNum.length]=e;this.FlashHistory()},t.prototype.InitHist=function(e,t){if(t>=0){this.historyNum=[];for(var n=t>11?t-11:0,o=n;o<=t;o++)255!=e[o]?this.historyNum[o-n]=e[o]:n--;this.FlashHistory()}},t.prototype.loadIconImage=function(){this.IconImage=new Array;for(var e=1;e<12;e++)this.IconImage[e]=3!=e?s.Laya.loader.getRes("resources/games/game30300/res/JieSuan/LD_"+e+".png"):null},t.prototype.FlashHistory=function(){for(var e=0;e<11;e++)e<this.historyNum.length?(this.hisArray[e].visible=!0,this.hisArray[e].texture=this.IconImage[r.GameData30300.viewIndex[this.historyNum[e]]]):this.hisArray[e].visible=!1;this.setParticle()},t.prototype.setParticle=function(){if(this.historyNum.length>0){var e=this.historyNum.length>11?10:this.historyNum.length-1;this.hisArray[e].addChild(this.Particle),this.particleimg.pos(33,33),this.particleimg.visible=!0,this.particleani.play()}else this.particleimg.visible=!1},a([c(s.Laya.Node)],t.prototype,"Particle",void 0),n=a([l()],t)}(s.Laya.Script);n.GameHistory30300=u,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya","./GameData30300":"GameData30300"}],GameHistory30700:[function(e,t,n){"use strict";cc._RF.push(t,"c3871J0Qi5MwoneHOXI9WGY","GameHistory30700");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameHistory30700=void 0;var r=e("../../halls/halllib/laya/Laya"),s=r.Laya.regClass,l=(r.Laya.property,function(e){function t(){return e.call(this)||this}var n;return i(t,e),n=t,t.prototype.onAwake=function(){n.Instance=this,this.IconImage=[],this.historyNum=[];var e=this.owner.getChildByName("VBox");this.hisArray=[];for(var t=0;t<7;t++)this.hisArray[t]=e.getChildAt(t);this.particleimg=this.owner.getChildByName("ImageRay")},t.prototype.GetIconById=function(e){return this.IconImage[e]||(this.IconImage[e]=r.Laya.loader.getRes("resources/games/game30700/res/game/Icon_Game_JS_"+(e+1)+".png")),this.IconImage[e]},t.prototype.AddNewChild=function(e){if(this.historyNum.length>=6)for(var t=0;t<7;t++)this.historyNum[t]=6==t?e:this.historyNum[t+1];else this.historyNum[this.historyNum.length]=e;this.FlashHistory()},t.prototype.FlashHistory=function(){for(var e=0;e<this.hisArray.length;e++)e<this.historyNum.length?(this.hisArray[e].visible=!0,this.hisArray[e].texture=this.GetIconById(this.historyNum[e])):this.hisArray[e].visible=!1;this.setParticle()},t.prototype.InitHist=function(e,t){if(t>=0){this.historyNum=[];for(var n=t>this.hisArray.length?t-this.hisArray.length:0,o=n;o<=t;o++)255!=e[o]?this.historyNum[o-n]=e[o]:n--;this.FlashHistory()}},t.prototype.setParticle=function(){if(this.historyNum.length>0){var e=this.historyNum.length>this.hisArray.length?this.hisArray.length-1:this.historyNum.length-1;this.hisArray[e].addChild(this.particleimg),this.particleimg.pos(-12,-12),this.particleimg.visible=!0}else this.particleimg.visible=!1},n=a([s()],t)}(r.Laya.Script));n.GameHistory30700=l,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya"}],GameIconObj31800:[function(e,t,n){"use strict";cc._RF.push(t,"2aa829NsTxGXZDDcqvMdmWd","GameIconObj31800");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameIconObj31800=void 0;var r=e("./ScrollViewContro31800"),s=e("../../halls/halllib/laya/Laya"),l=s.Laya.regClass,c=(s.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.playtimes=500,t}return i(t,e),Object.defineProperty(t.prototype,"y",{get:function(){return this.selfObj.y},set:function(e){this.selfObj.y=e},enumerable:!1,configurable:!0}),t.prototype.onAwake=function(){this.selfObj=this.owner,this.IconObj=this.owner.getChildByName("Sprite"),this.WinAnis1=this.owner.getChildByName("WinAni"),this.WinAnis2=this.WinAnis1.getChildAt(0)},t.prototype.onUpdate=function(){this.isplayAni2&&(this.timeout+=s.Laya.timer.delta,this.timeout>=this.playtimes?(this.IconObj.scaleX=1,this.isplayAni2=!1):this.timeout>=this.playtimes/2?(9==this.IconId&&(this.IconId=this.cbToIconIndex,this.SetIconByIndex()),this.IconObj.scaleX=this.timeout/this.playtimes-.5):this.IconObj.scaleX=1-this.timeout/this.playtimes)},t.prototype.ReSetAniPlay=function(){this.owner.clearTimer(this,this.timeBack),this.WinAnis1.visible=!1,this.IconObj.visible=!0},t.prototype.PlayIconAni=function(){this.WinAnis1.visible=!0,this.WinAnis2.texture=this.IconObj.texture,this.WinAnis2.width=this.IconObj.width,this.WinAnis2.height=this.IconObj.height,this.IconObj.visible=!1},t.prototype.SetIconByIndex=function(){this.IconId>=100?r.ScrollViewContro31800.Instance.SetIconByIndex(9,this.IconObj):r.ScrollViewContro31800.Instance.SetIconByIndex(this.IconId,this.IconObj)},t.prototype.SetIconByRandom=function(){r.ScrollViewContro31800.Instance.SetIconByRandom(this.IconObj)},t.prototype.PlayOpenRandom=function(e){return this.cbToIconIndex=e,9==this.IconId&&(this.owner.timerOnce(500,this,this.timeBack),!0)},t.prototype.timeBack=function(){this.timeout=0,this.isplayAni2=!0},a([l()],t)}(s.Laya.Script));n.GameIconObj31800=c,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya","./ScrollViewContro31800":"ScrollViewContro31800"}],GameInviteBalootCardStyle:[function(e,t,n){"use strict";cc._RF.push(t,"02baaZsuOND9oq55p55wwda","GameInviteBalootCardStyle");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../../../systems/item/CommonItemConfig"),s=e("../../../../systems/item/ItemSystem"),l=cc._decorator,c=l.ccclass,u=l.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cardLayout=null,t.sprite=[],t}return i(t,e),t.prototype.onLoad=function(){this.node.opacity=0},t.prototype.initCard=function(e){this.node.opacity=255,this.initSpirte(e);var t=this.cardLayout.children[0],n=this.cardLayout.children[2];cc.Tween.stopAllByTarget(t),t.angle=0,t.opacity=255,cc.tween(t).repeatForever(cc.tween().to(1,{angle:18,opacity:255},{easing:"backOut"}).delay(1).to(1,{angle:0,opacity:0},{easing:"backIn"})).start(),cc.Tween.stopAllByTarget(n),n.angle=0,n.opacity=255,cc.tween(n).repeatForever(cc.tween().to(1,{angle:-18,opacity:255},{easing:"backOut"}).delay(1).to(1,{angle:0,opacity:0},{easing:"backIn"})).start()},t.prototype.initSpirte=function(e){for(var t=this,n=0,o=this.sprite;n<o.length;n++)o[n].node.active=!1;s.itemSystem.getItemIconInfo(e).then(function(e){if(e&&e.iconType===r.IconType.Image)for(var n=0,o=t.sprite;n<o.length;n++){var i=o[n];i.node.active=!0,i.spriteFrame=e.spriteFrame}})},a([u({type:cc.Node,tooltip:"\u9053\u5177\u56fe\u6807\u7236\u8282\u70b9"})],t.prototype,"cardLayout",void 0),a([u({type:cc.Sprite,tooltip:"\u9053\u5177\u56fe\u6807"})],t.prototype,"sprite",void 0),a([c],t)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../../systems/item/CommonItemConfig":"CommonItemConfig","../../../../systems/item/ItemSystem":"ItemSystem"}],GameInviteLudoChessStyle:[function(e,t,n){"use strict";cc._RF.push(t,"842aewv4hRIG7PapR39IItO","GameInviteLudoChessStyle");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../../../systems/item/ItemSystem"),s=cc._decorator,l=s.ccclass,c=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.chessIcon=null,t.chessFrame=[],t.chessFrameStr={Prop_ludo_board_bg00:0,Prop_ludo_board_bg01:1,Prop_ludo_board_bg02:2},t}return i(t,e),t.prototype.onLoad=function(){this.node.opacity=0},t.prototype.initChess=function(e){this.node.opacity=255;var t="Prop_ludo_board_bg00",n=r.itemSystem.getItem(e);n&&(t=n.item_asset_name),this.chessIcon.spriteFrame=this.chessFrame[this.chessFrameStr[t]],this.chessIcon.node.stopAllActions(),cc.tween(this.chessIcon.node).repeatForever(cc.tween().to(.512,{anchorY:.4},{easing:"sineOut"}).to(.512,{anchorY:.5},{easing:"sineOut"}).delay(1)).start()},a([c({type:cc.Sprite,tooltip:"\u623f\u95f4\u68cb\u5b50\u6837\u5f0f\u56fe"})],t.prototype,"chessIcon",void 0),a([c({type:cc.SpriteFrame,tooltip:"\u623f\u95f4\u68cb\u5b50\u6837\u5f0f\u56fe\u96c6"})],t.prototype,"chessFrame",void 0),a([l],t)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../../systems/item/ItemSystem":"ItemSystem"}],GameInvitePanel:[function(e,t,n){"use strict";cc._RF.push(t,"8b6e1vTfWBH1bZx2+n8JMxv","GameInvitePanel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../../configs/CommonPanelConfig"),l=r(e("../../../framework/components/dialogstyle/MoveStyleDialogPanelV1")),c=e("../../../framework/gg"),u=e("../../../framework/i18n/I18n"),p=e("../../../systems/gamaInvite/GamaInviteProto"),h=e("../../../systems/gamaInvite/GamaInviteSystem"),d=e("../../../systems/gamaInvite/GamaInviteSystemEvent"),f=e("./FriendInvitePanel"),g=cc._decorator,m=g.ccclass,y=g.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gameInviteBtn=null,t.notGameInviteBtn=null,t.notGameInviteTimeLab=null,t.pos=-1,t.gameId=0,t.inviteType=p.InviteType.GameInvite,t.gameInviteTime=30,t.openTimer=!1,t.lastDate=0,t}return i(t,e),t.prototype.show=function(e){h.gameInviteSystem.isPostInvite=!1,this.gameId==e.data.gameId?this.checkGameInviteState():this.closeGameInviteTimer(),this.gameId=e.data.gameId,this.pos=e.data.pos,this._playShowAnim(function(){e.onShowed()})},t.prototype.hide=function(e){this._playHideAnim(function(){e.onHided()})},t.prototype.onEnable=function(){c.gg.eventManager.on(d.GamaInviteSystemEvent.InvitePlayerResponseEvent,this.onInvitePlayerResponse,this)},t.prototype.onDisable=function(){this.lastDate=Date.now(),c.gg.eventManager.offTarget(this),this.unschedule(this.gameInviteTimer)},t.prototype.onInvitePlayerResponse=function(e){if(this.inviteType===p.InviteType.GameInvite){var t="toast.inviteFail";1==(null==e?void 0:e.status)&&(t="toast.inviteSuccess",this.openGameInvite()),c.gg.panelRouter.show({panel:s.CommonPanelConfig.toastPanel,data:{text:u.i18n.getText(t)}})}},t.prototype.checkGameInviteState=function(){if(this.openTimer){var e=Math.floor((Date.now()-this.lastDate)/1e3);e>=this.gameInviteTime?this.closeGameInviteTimer():(this.gameInviteTime=this.gameInviteTime-e,this.openGameInvite(this.gameInviteTime))}},t.prototype.openGameInvite=function(e){void 0===e&&(e=30),this.gameInviteBtn.active=!1,this.notGameInviteBtn.active=!0,this.gameInviteTime=e,this.notGameInviteTimeLab.string=u.i18n.getText("invite.inviteGame",this.gameInviteTime),this.openTimer=!0,this.schedule(this.gameInviteTimer,1,this.gameInviteTime)},t.prototype.gameInviteTimer=function(){this.gameInviteTime--,this.notGameInviteTimeLab.string=u.i18n.getText("invite.inviteGame",this.gameInviteTime),this.gameInviteTime<=0&&this.closeGameInviteTimer()},t.prototype.closeGameInviteTimer=function(){this.unschedule(this.gameInviteTimer),this.gameInviteBtn.active=!0,this.notGameInviteBtn.active=!1,this.openTimer=!1},t.prototype.onClickClose=function(){h.gameInviteSystem.isPostInvite||c.gg.panelRouter.hide({panel:s.CommonPanelConfig.gameInvitePanel})},t.prototype.onClickGameInvite=function(){h.gameInviteSystem.isPostInvite||(this.inviteType=p.InviteType.GameInvite,h.gameInviteSystem.sendInvitePlayerRequest({invite_type:this.inviteType,pos:this.pos,uid:"0"}))},t.prototype.onClickFriendInvite=function(){h.gameInviteSystem.isPostInvite||(this.inviteType=p.InviteType.FriendInvite,c.gg.panelRouter.show({panel:s.CommonPanelConfig.friendInvitePanel,data:{pos:this.pos,gameInviteType:f.GameInviteType.Ordinary}}),c.gg.panelRouter.hide({panel:s.CommonPanelConfig.gameInvitePanel}))},a([y({type:cc.Node,tooltip:"\u6e38\u620f\u9080\u8bf7\u6309\u94ae"})],t.prototype,"gameInviteBtn",void 0),a([y({type:cc.Node,tooltip:"\u6e38\u620f\u9080\u8bf7\u6309\u94ae\u4e0d\u53ef\u70b9\u51fb\u8282\u70b9"})],t.prototype,"notGameInviteBtn",void 0),a([y({type:cc.Label,tooltip:"\u6e38\u620f\u9080\u8bf7\u6309\u94ae\u4e0d\u53ef\u70b9\u51fb\u5012\u8ba1\u65f6"})],t.prototype,"notGameInviteTimeLab",void 0),a([m],t)}(l.default);n.default=_,cc._RF.pop()},{"../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../framework/components/dialogstyle/MoveStyleDialogPanelV1":"MoveStyleDialogPanelV1","../../../framework/gg":"gg","../../../framework/i18n/I18n":"I18n","../../../systems/gamaInvite/GamaInviteProto":"GamaInviteProto","../../../systems/gamaInvite/GamaInviteSystem":"GamaInviteSystem","../../../systems/gamaInvite/GamaInviteSystemEvent":"GamaInviteSystemEvent","./FriendInvitePanel":"FriendInvitePanel"}],GameItem:[function(e,t,n){"use strict";cc._RF.push(t,"d412b0WOfJOrqFwAMhRkxv9","GameItem");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../halllib/net/InnerEvent"),l=r(e("./SpineEx")),c=e("../halllib/common/ConfigMng"),u=e("../halllib/common/LogBase"),p=e("../halllib/laya/Laya"),h=p.Laya.regClass,d=p.Laya.property,f=function(e){function t(){var t=e.call(this)||this;return t.bLoad=!1,t.gameurl=null,t.spineList=[null],t.icon=[null],t}return i(t,e),Object.defineProperty(t.prototype,"url",{get:function(){return this._url},set:function(e){this._url=e},enumerable:!1,configurable:!0}),t.prototype.onEnable=function(){},t.prototype.LoadItem=function(e){var t;if(console.log("LoadItem:",e),!this.bLoad){if(this.type=e.type,u.LogBase.log("itmedata",e.szData),"firstjson"==e.type&&e.szData.length>0){t=this.spineList[0];var n=e.szData[0];t.gameData=n,this.url=n.url,n.name&&(t.name=n.name),t.Load(this.url,n.x,n.y,n.sx,n.sy,n.width,n.height,n.scalex,n.scaley)}if("json"==e.type){if(e.szData.length>0){t=this.spineList[0];var o=e.szData[0];t.gameData=o,this.url=o.url,t.LoadSpine(this.url,o.x,o.y)}}else if("img"==e.type){if(e.szData.length>0){var i=this.icon[0];this.gameurl=e.szData[0].gameurl,this.url=e.szData[0].url,i.LoadImg(this.url,0,0,c.ConfigMng.gamelistJson.itemWidth,c.ConfigMng.gamelistJson.itemHeigth)}}else if("png"==e.type||"minispine"==e.type)for(var a=0;a<e.szData.length;a++){var r=e.szData[a];"png"==r.type?((t=this.icon[a]).gameData=r,0==a?t.LoadImg(r.url,0,115,c.ConfigMng.gamelistJson.itemWidth,c.ConfigMng.gamelistJson.itemHeigth/2):t.LoadImg(r.url,0,-115,c.ConfigMng.gamelistJson.itemWidth,c.ConfigMng.gamelistJson.itemHeigth/2)):"minispine"==r.type&&((t=this.spineList[a]).gameData=r,0==a?t.Load(r.url,0,115,0,0,c.ConfigMng.gamelistJson.itemWidth,c.ConfigMng.gamelistJson.itemHeigth/2-5):t.Load(r.url,0,-115,0,0,c.ConfigMng.gamelistJson.itemWidth,c.ConfigMng.gamelistJson.itemHeigth/2-5))}this.bLoad=!0}},t.prototype.LoadGame=function(e){u.LogBase.log("load game:"+e)},t.prototype.onClick=function(){this.gameurl,"promoter"==this.name&&s.HallEvent.dispatcher.event(s.HallEvent.SHOW_AGENT_DIALOG,"")},t.prototype.onSelect=function(){},t.prototype.onBigger=function(){},t.prototype.onSmaller=function(){},t.WID=200,t.HEI=300,a([d([l.default])],t.prototype,"spineList",void 0),a([d([l.default])],t.prototype,"icon",void 0),a([h()],t)}(p.Laya.Scene);n.default=f,cc._RF.pop()},{"../halllib/common/ConfigMng":"ConfigMng","../halllib/common/LogBase":"LogBase","../halllib/laya/Laya":"Laya","../halllib/net/InnerEvent":"InnerEvent","./SpineEx":"SpineEx"}],GameKickPeopleConfirmPanel:[function(e,t,n){"use strict";cc._RF.push(t,"3d54cD1BthBXJXyR/605kAJ","GameKickPeopleConfirmPanel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=r(e("../../../framework/components/dialogstyle/MoveStyleDialogPanelV1")),l=e("../../../framework/gg"),c=e("../../../framework/i18n/I18n"),u=e("../../../systems/gamesetting/GameSettingConst"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.titleLayout=null,t.titleLabel=null,t.msgLabel=null,t.checkedNode=null,t._showData=null,t.isChecked=!1,t}return i(t,e),t.prototype.onLoad=function(){this.titleLabel.string=""},t.prototype.show=function(e){var t=this;this._showData=e.data,this.titleLabel.string=c.i18n.getText("alert.title.tips"),this.msgLabel.string=c.i18n.getText("alert.msg.kickPeopleConfirm",this._showData.userName),this.scheduleOnce(function(){t.scheduleOnce(function(){t.titleLayout.updateLayout();var e=t.titleLayout.node.width+360;e<700&&(e=700),t.dialogContentNode.width=e,t._updaateWidget(t.dialogContentNode)})}),this._playShowAnim(function(){e.onShowed()})},t.prototype.hide=function(e){this._showData=null,this._playHideAnim(function(){e.onHided()})},t.prototype.onConfirmBtnClick=function(){this.isChecked&&l.gg.localStorage.setItem(u.GameSettingConst.LocalKickPeopleConfirm,"1"),this._showData.onConfirmBtnClick()},t.prototype.onCancelBtnClick=function(){this._showData.onCancelBtnClick()},t.prototype.onClickChecked=function(){this.isChecked=!this.isChecked,this._updateCheckedUI()},t.prototype._updaateWidget=function(e){var t=this;e.children.forEach(function(e){var n;null===(n=e.getComponent(cc.Widget))||void 0===n||n.updateAlignment(),t._updaateWidget(e)})},t.prototype._updateCheckedUI=function(){this.isChecked?this.checkedNode.active=!0:this.checkedNode.active=!1},a([d(cc.Layout)],t.prototype,"titleLayout",void 0),a([d(cc.Label)],t.prototype,"titleLabel",void 0),a([d(cc.Label)],t.prototype,"msgLabel",void 0),a([d(cc.Node)],t.prototype,"checkedNode",void 0),a([h],t)}(s.default);n.default=f,cc._RF.pop()},{"../../../framework/components/dialogstyle/MoveStyleDialogPanelV1":"MoveStyleDialogPanelV1","../../../framework/gg":"gg","../../../framework/i18n/I18n":"I18n","../../../systems/gamesetting/GameSettingConst":"GameSettingConst"}],GameLineRander34600:[function(e,t,n){"use strict";cc._RF.push(t,"8a3f1VyNftDq6sNWk18bOUA","GameLineRander34600");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameLineRander34600=void 0;var r=e("../../halls/halllib/laya/Laya"),s=r.Laya.regClass,l=(r.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.resultList=[],t}return i(t,e),t.prototype.onAwake=function(){this.lineRanderer=new r.Laya.Image,this.owner.addChild(this.lineRanderer)},t.prototype.ResetLine=function(){this.resultList.splice(2,this.resultList.length),this.lineRanderer.graphics.clear(!0)},t.prototype.ReDrawLineTimes=function(e,t,n,o,i){if(!(n>20&&this.resultList.length>10)){this.resultList.splice(2,this.resultList.length);var a=(2*t+e*n)*n/2;a=this.min_y-i*a;var r=o*n+this.min_x;r>this.max_x&&(o=this.pos_lenX/(r-this.min_x)*o),a<this.max_y&&(i=this.pos_lenY/(this.min_y-a)*i);for(var s=!0,l=n/100>.5?n/100:.5,c=0,u=0,p=0;s;)(c+=l)>=n&&(s=!1,c=n),u=o*c+this.min_x,p=(2*t+e*c)*c/2*(c/n),p=this.min_y-i*p,this.resultList.push(u),this.resultList.push(p);this.lineRanderer.graphics.drawCurves(0,0,this.resultList,"#015efa",5)}},t.prototype.SetPosiConfig=function(e,t,n,o){this.min_x=e,this.min_y=t,this.max_x=n,this.max_y=o,this.pos_lenX=this.max_x-this.min_x,this.pos_lenY=this.min_y-this.max_y,this.resultList.push(e),this.resultList.push(t)},a([s()],t)}(r.Laya.Script));n.GameLineRander34600=l,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya"}],GameList:[function(e,t,n){"use strict";cc._RF.push(t,"0b27e6Fik9Et6QKzr0RRvw5","GameList");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var u=e("../halllib/common/LogBase"),p=e("../halllib/common/ConfigMng"),h=c(e("./GameItem")),d=l(e("./ItemData")),f=e("../halllib/laya/Laya"),g=f.Laya.regClass,m=f.Laya.property,y=function(e){function t(){var t=e.call(this)||this;return t.intType=1e3,t.numType=1e3,t.strType="hello laya",t.boolType=!0,t.listdata=null,t.bRoot=!1,t.scrollView=null,t.contentLayout=null,t.array=[],t.itemTemplate=null,console.log("GameList constructor"),t}return i(t,e),t.prototype.onEnable=function(){},t.prototype.SetData=function(e){this.listdata=e},t.prototype.Load=function(){if(this.listdata){this.onLoad(),u.LogBase.debug("GameList Load() listdata",this.listdata),u.LogBase.log("GameList Load() gamelistJson",p.ConfigMng.gamelistJson),this.node.width=p.ConfigMng.gamelistJson.width,this.node.height=p.ConfigMng.gamelistJson.height,h.default.WID=p.ConfigMng.gamelistJson.itemWidth,h.default.HEI=p.ConfigMng.gamelistJson.itemHeigth,p.ConfigMng.gamelistJson.spaceX&&(this.contentLayout.spacingX=p.ConfigMng.gamelistJson.spaceX);var e=[],t=null;if(this.bRoot&&p.ConfigMng.gamelistJson.firstspine&&p.ConfigMng.gamelistJson.firstspine.length>0)for(var n=!0,o=0;o<p.ConfigMng.gamelistJson.firstspine.length;o++){null==t&&(t=new d.default,n=!1),t.type=p.ConfigMng.gamelistJson.firstspine[o].type;var i=new d.ItemInfo;i.x=p.ConfigMng.gamelistJson.firstspine[o].x,i.y=p.ConfigMng.gamelistJson.firstspine[o].y,i.url=p.ConfigMng.gamelistJson.firstspine[o].url,i.scalex=p.ConfigMng.gamelistJson.firstspine[o].scalex,i.scaley=p.ConfigMng.gamelistJson.firstspine[o].scalex,i.name=p.ConfigMng.gamelistJson.firstspine[o].name,i.gameid=p.ConfigMng.gamelistJson.firstspine[o].gameid,i.sy=p.ConfigMng.gamelistJson.firstspine[o].sy,i.sx=p.ConfigMng.gamelistJson.firstspine[o].sx,i.width=p.ConfigMng.gamelistJson.firstspine[o].width,i.height=p.ConfigMng.gamelistJson.firstspine[o].heigth,i.type=p.ConfigMng.gamelistJson.firstspine[o].type,i.data=p.ConfigMng.gamelistJson.firstspine[o],t.szData.push(i),"json"==p.ConfigMng.gamelistJson.firstspine[o].type?n=!0:t.szData.length>1&&(n=!0),n&&(e.push(t),t=new d.default,n=!1)}if(this.listdata){for(var a in this.listdata)if("json"==this.listdata[a].type){t.type=this.listdata[a].type;var r=new d.ItemInfo;r.x=0,r.y=0,r.url=this.listdata[a].url,r.scalex=1,r.scaley=1,r.gameid=this.listdata[a].GameID,r.data=this.listdata[a].data,this.listdata[a].isList&&(r.isList=this.listdata[a].isList,r.list=this.listdata[a].list),t.szData.push(r),e.push(t),t=new d.default}for(var s in this.listdata)if(("png"==this.listdata[s].type||"minispine"==this.listdata[s].type)&&34200!=this.listdata[s].GameID){if("png"==this.listdata[s].type){null!=t&&t.szData.length,null==t&&(t=new d.default);var l=new d.ItemInfo;t.type=this.listdata[s].type,l.x=0,l.y=0,l.type=this.listdata[s].type,l.url=this.listdata[s].url,l.scalex=1,l.scaley=1,l.gameid=this.listdata[s].GameID,l.data=this.listdata[s].data,this.listdata[s].isList&&(l.isList=this.listdata[s].isList,l.list=this.listdata[s].list),t.szData.push(l)}else if("minispine"==this.listdata[s].type){null!=t&&t.szData.length,null==t&&(t=new d.default);var c=new d.ItemInfo;t.type=this.listdata[s].type,c.x=0,c.y=0,c.type=this.listdata[s].type,c.url=this.listdata[s].url,c.scalex=1,c.scaley=1,c.gameid=this.listdata[s].GameID,c.data=this.listdata[s].data,this.listdata[s].isList&&(c.isList=this.listdata[s].isList,c.list=this.listdata[s].list),t.szData.push(c)}2==t.szData.length&&(e.push(t),t=new d.default)}if(null==t)return;t.szData.length>0&&e.push(t),this.array=e,this.contentLayout.spacingX=this.array.length,u.LogBase.log("gamelist this.array",this.array)}}else u.LogBase.error("halll config load error! gamelist not found!")},t.prototype.Reload=function(e){if(this.listdata){var t=[];for(var n in this.listdata)if("json"==this.listdata[n].type&&!(e.indexOf(this.listdata[n].url)<0)){var o=new d.default;o.type=this.listdata[n].type,(r=new d.ItemInfo).x=0,r.y=0,r.url=this.listdata[n].url,r.scalex=1,r.scaley=1,r.gameid=this.listdata[n].GameID,r.data=this.listdata[n].data,o.szData.push(r),t.push(o)}var i=0,a=void 0;for(var n in this.listdata)if("png"==this.listdata[n].type&&!(e.indexOf(this.listdata[n].url)<0)){0==i&&(a=new d.default);var r=new d.ItemInfo;a.type=this.listdata[n].type,r.x=0,r.y=0,r.type=this.listdata[n].type,r.url=this.listdata[n].url,r.scalex=1,r.scaley=1,r.gameid=this.listdata[n].GameID,r.data=this.listdata[n].data,a.szData.push(r),2==(i+=1)&&(t.push(a),i=0)}1==i&&t.push(a)}},t.prototype.onDisable=function(){},t.prototype.onClick=function(){},t.prototype.onDoubleClick=function(){},t.prototype.onMouseClick=function(){},t.prototype.onCellMouse=function(e){e.target&&(e.target,e.type)},t.prototype.StartRender=function(){var e=this;console.log("GameList StartRender:",this.array),this.array.forEach(function(t,n){if(n>0){var o=cc.instantiate(e.itemTemplate.node);e.scrollView.content.addChild(o),o.active=!0,o.getComponent(h.default).LoadItem(t)}else e.itemTemplate.LoadItem(t),e.itemTemplate.node.active=!0})},t.prototype.onLoad=function(){console.log("GameList onLoad"),this.scrollView=this.getComponent(cc.ScrollView),this.contentLayout=this.scrollView.content.getComponent(cc.Layout)},t.prototype.updateItem=function(e){u.LogBase.log("updateItem 1 :",e),e.LoadItem(e.dataSource),u.LogBase.log("updateItem 2 :",e)},t.prototype.onSelect=function(){},s([m(h.default)],t.prototype,"itemTemplate",void 0),s([g()],t)}(f.Laya.Scene);n.default=y,cc._RF.pop()},{"../halllib/common/ConfigMng":"ConfigMng","../halllib/common/LogBase":"LogBase","../halllib/laya/Laya":"Laya","./GameItem":"GameItem","./ItemData":"ItemData"}],"GameLoading30300.generated":[function(e,t,n){"use strict";cc._RF.push(t,"e739acbJ69AVqVuBv0qxvKb","GameLoading30300.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.GameLoadingBase30300=void 0;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ProgressBar=null,t}return i(t,e),t}(e("../../halls/halllib/laya/Laya").Laya.Scene);n.GameLoadingBase30300=a,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya"}],GameLoading30300:[function(e,t,n){"use strict";cc._RF.push(t,"6fc36MU44JGPaL/BXC4aJkP","GameLoading30300");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameLoading30300=void 0;var r=e("./GameLoading30300.generated"),s=e("../../halls/halllib/laya/Laya"),l=s.Laya.regClass,c=(s.Laya.property,function(e){function t(){return e.call(this)||this}var n;return i(t,e),n=t,t.prototype.onAwake=function(){this.LoadGameScene(),s.Laya.loader.on(s.Laya.Event.ERROR,this,this.onError)},t.prototype.LoadGameScene=function(){var e=this;s.Laya.Scene.load(n.resGameScene,s.Laya.Handler.create(this,this.onLoadFiniSh),s.Laya.Handler.create(this,this.onLoading,null,!1)).then(function(){e.ProgressBar.value=1})},t.prototype.onLoading=function(e){this.ProgressBar.value=e},t.prototype.onLoadFiniSh=function(e){this.parent.addChild(e),this.close()},t.prototype.onError=function(){},t.resRoot="resources/games/game30300/",t.resGameScene="resources/games/game30300/scenes/GameScene.ls",n=a([l()],t)}(r.GameLoadingBase30300));n.GameLoading30300=c,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya","./GameLoading30300.generated":"GameLoading30300.generated"}],"GameLoading30700.generated":[function(e,t,n){"use strict";cc._RF.push(t,"ece57FvalxIE5KyOeZmxKP7","GameLoading30700.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.GameLoadingBase30700=void 0;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ProgressBar=null,t}return i(t,e),t}(e("../../halls/halllib/laya/Laya").Laya.Scene);n.GameLoadingBase30700=a,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya"}],GameLoading30700:[function(e,t,n){"use strict";cc._RF.push(t,"12a22YobCBMAafNxtig1uv9","GameLoading30700");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameLoading30700=void 0;var r=e("./GameLoading30700.generated"),s=e("../../halls/halllib/laya/Laya"),l=s.Laya.regClass,c=(s.Laya.property,function(e){function t(){return e.call(this)||this}var n;return i(t,e),n=t,t.prototype.onAwake=function(){this.LoadGameScene(),s.Laya.loader.on(s.Laya.Event.ERROR,this,this.onError)},t.prototype.LoadGameScene=function(){var e=this;s.Laya.Scene.load(n.resGameScene,s.Laya.Handler.create(this,this.onLoadFiniSh),s.Laya.Handler.create(this,this.onLoading,null,!1)).then(function(){e.ProgressBar.value=1})},t.prototype.onLoading=function(e){this.ProgressBar.value=e},t.prototype.onLoadFiniSh=function(e){var t=this;e&&(this.parent.addChild(e),this.timerOnce(100,this,function(){t.close()}))},t.prototype.onError=function(){},t.resRoot="resources/games/game30700/",t.resGameScene="resources/games/game30700/scenes/GameScene.ls",n=a([l()],t)}(r.GameLoadingBase30700));n.GameLoading30700=c,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya","./GameLoading30700.generated":"GameLoading30700.generated"}],"GameLoading31800.generated":[function(e,t,n){"use strict";cc._RF.push(t,"a2585tz5elLhYGMiskqILlL","GameLoading31800.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.GameLoadingBase31800=void 0;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ProgressBar=null,t}return i(t,e),t}(e("../../halls/halllib/laya/Laya").Laya.Scene);n.GameLoadingBase31800=a,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya"}],GameLoading31800:[function(e,t,n){"use strict";cc._RF.push(t,"7b96dBj2t9HqrOeLC1hEskx","GameLoading31800");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameLoading31800=void 0;var r=e("./GameLoading31800.generated"),s=e("../../halls/halllib/laya/Laya"),l=s.Laya.regClass,c=(s.Laya.property,function(e){function t(){return e.call(this)||this}var n;return i(t,e),n=t,t.prototype.onAwake=function(){this.LoadGameScene(),s.Laya.loader.on(s.Laya.Event.ERROR,this,this.onError)},t.prototype.LoadGameScene=function(){var e=this;s.Laya.Scene.load(n.resGameScene,s.Laya.Handler.create(this,this.onLoadFiniSh),s.Laya.Handler.create(this,this.onLoading,null,!1)).then(function(){e.ProgressBar.value=1})},t.prototype.onLoading=function(e){this.ProgressBar.value=e},t.prototype.onLoadFiniSh=function(e){this.parent.addChild(e),this.close()},t.prototype.onError=function(){},t.resRoot="resources/games/game31800/",t.resGameScene="resources/games/game31800/scenes/GameScene.ls",n=a([l()],t)}(r.GameLoadingBase31800));n.GameLoading31800=c,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya","./GameLoading31800.generated":"GameLoading31800.generated"}],"GameLoading34200.generated":[function(e,t,n){"use strict";cc._RF.push(t,"0becd3IJ0BHw70/k6zbd76a","GameLoading34200.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.GameLoadingBase34200=void 0;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ProgressBar=null,t}return i(t,e),t}(e("../../halls/halllib/laya/Laya").Laya.Scene);n.GameLoadingBase34200=a,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya"}],GameLoading34200:[function(e,t,n){"use strict";cc._RF.push(t,"926f7PE/LNA+KdsGcnay0sN","GameLoading34200");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameLoading34200=void 0;var r=e("../../halls/halllib/laya/Laya"),s=r.Laya.regClass,l=(r.Laya.property,e("../../halls/halllib/common/LogBase")),c=function(e){function t(){var t=e.call(this)||this;return t.resLoading=["res/Image/loading.png","res/Image/progress.png"],t.resArr=["scenes/SceneGame.ls","res/Image/UI_Game_LHD/ico_chouma_1.png","res/Image/UI_Game_LHD/ico_chouma_2.png","res/Image/UI_Game_LHD/ico_chouma_3.png","res/Image/UI_Game_LHD/ico_chouma_4.png","res/Image/UI_Game_LHD/ico_chouma_5.png","res/Image/UI_Game_LHD/ico_chouma_6.png","res/Image/UI_Card_LHD/0_0.png","res/Image/UI_Card_LHD/1_2.png","res/Image/UI_Card_LHD/1_1.png","res/Image/UI_Card_LHD/1_3.png","res/Image/UI_Card_LHD/1_4.png","res/Image/UI_Card_LHD/1_5.png","res/Image/UI_Card_LHD/1_6.png","res/Image/UI_Card_LHD/1_7.png","res/Image/UI_Card_LHD/1_8.png","res/Image/UI_Card_LHD/1_9.png","res/Image/UI_Card_LHD/1_10.png","res/Image/UI_Card_LHD/1_11.png","res/Image/UI_Card_LHD/1_12.png","res/Image/UI_Card_LHD/1_13.png","res/Image/UI_Card_LHD/2_1.png","res/Image/UI_Card_LHD/2_2.png","res/Image/UI_Card_LHD/2_3.png","res/Image/UI_Card_LHD/2_4.png","res/Image/UI_Card_LHD/2_5.png","res/Image/UI_Card_LHD/2_6.png","res/Image/UI_Card_LHD/2_7.png","res/Image/UI_Card_LHD/2_8.png","res/Image/UI_Card_LHD/2_9.png","res/Image/UI_Card_LHD/2_10.png","res/Image/UI_Card_LHD/2_11.png","res/Image/UI_Card_LHD/2_12.png","res/Image/UI_Card_LHD/2_13.png","res/Image/UI_Card_LHD/3_1.png","res/Image/UI_Card_LHD/3_2.png","res/Image/UI_Card_LHD/3_3.png","res/Image/UI_Card_LHD/3_4.png","res/Image/UI_Card_LHD/3_5.png","res/Image/UI_Card_LHD/3_6.png","res/Image/UI_Card_LHD/3_7.png","res/Image/UI_Card_LHD/3_8.png","res/Image/UI_Card_LHD/3_9.png","res/Image/UI_Card_LHD/3_10.png","res/Image/UI_Card_LHD/3_11.png","res/Image/UI_Card_LHD/3_12.png","res/Image/UI_Card_LHD/3_13.png","res/Image/UI_Card_LHD/4_1.png","res/Image/UI_Card_LHD/4_2.png","res/Image/UI_Card_LHD/4_3.png","res/Image/UI_Card_LHD/4_4.png","res/Image/UI_Card_LHD/4_5.png","res/Image/UI_Card_LHD/4_6.png","res/Image/UI_Card_LHD/4_7.png","res/Image/UI_Card_LHD/4_8.png","res/Image/UI_Card_LHD/4_9.png","res/Image/UI_Card_LHD/4_10.png","res/Image/UI_Card_LHD/4_11.png","res/Image/UI_Card_LHD/4_12.png","res/Image/UI_Card_LHD/4_13.png","res/image_en/Icon_LD_Long.png","res/image_en/Icon_LD_Hu.png","res/image_en/Icon_LD_He.png","res/Audio/342BGM.mp3","res/Audio/342touzhichouma.mp3","res/Audio/342windragon.mp3","res/Audio/342winhe.mp3","res/Audio/342wintiger.mp3","res/Audio/342clockring.mp3","res/Audio/342countdown.mp3"],t}var n;return i(t,e),n=t,t.GetRes=function(e){return this.resRoot+e},t.prototype.onAwake=function(){for(var e=0;e<this.resLoading.length;e++)this.resLoading[e]=n.resRoot+this.resLoading[e];r.Laya.loader.load(this.resLoading,r.Laya.Handler.create(this,this.Loadres),null),r.Laya.loader.on(r.Laya.Event.ERROR,this,this.onError)},t.prototype.Loadres=function(){for(var e=this,t=0;t<this.resArr.length;t++)this.resArr[t]=n.resRoot+this.resArr[t];r.Laya.loader.load(this.resArr,null,r.Laya.Handler.create(this,this.onLoading,null,!1)).then(function(){e.ProgressBar.value=.98,e.LoadGameScene()})},t.prototype.LoadGameScene=function(){var e=this;r.Laya.Scene.load(n.resGameScene).then(function(t){e.parent.addChild(t),e.close()})},t.prototype.onLoading=function(e){this.ProgressBar.value=e>.92?.95:e},t.prototype.onError=function(e){l.LogBase.error("loading game error:",e)},t.resRoot="resources/games/game34200/",t.resGameScene="resources/games/game34200/scenes/SceneGame.ls",t.musiclist=["res/Audio/342BGM.mp3","res/Audio/342touzhichouma.mp3","res/Audio/342windragon.mp3","res/Audio/342winhe.mp3","res/Audio/342wintiger.mp3","res/Audio/342clockring.mp3","res/Audio/342countdown.mp3","res/Audio/342starteffect.mp3"],t.faceList=["resources/halls/hallph7/res/hallres/face/1.png","resources/halls/hallph7/res/hallres/face/2.png","resources/halls/hallph7/res/hallres/face/3.png","resources/halls/hallph7/res/hallres/face/4.png","resources/halls/hallph7/res/hallres/face/5.png","resources/halls/hallph7/res/hallres/face/6.png","resources/halls/hallph7/res/hallres/face/7.png","resources/halls/hallph7/res/hallres/face/8.png","resources/halls/hallph7/res/hallres/face/9.png","resources/halls/hallph7/res/hallres/face/10.png","resources/halls/hallph7/res/hallres/face/11.png","resources/halls/hallph7/res/hallres/face/12.png","resources/halls/hallph7/res/hallres/face/13.png","resources/halls/hallph7/res/hallres/face/14.png","resources/halls/hallph7/res/hallres/face/15.png","resources/halls/hallph7/res/hallres/face/16.png"],n=a([s()],t)}(e("./GameLoading34200.generated").GameLoadingBase34200);n.GameLoading34200=c,cc._RF.pop()},{"../../halls/halllib/common/LogBase":"LogBase","../../halls/halllib/laya/Laya":"Laya","./GameLoading34200.generated":"GameLoading34200.generated"}],"GameLoading34700.generated":[function(e,t,n){"use strict";cc._RF.push(t,"69daelFGO1OS6QUNG13zFDC","GameLoading34700.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.GameLoadingBase34700=void 0;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ProgressBar=null,t}return i(t,e),t}(e("../../halls/halllib/laya/Laya").Laya.Scene);n.GameLoadingBase34700=a,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya"}],GameLoading34700:[function(e,t,n){"use strict";cc._RF.push(t,"abee7qY07hIbZ7aNf5C8OgR","GameLoading34700");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameLoading34700=void 0;var r=e("../../halls/halllib/laya/Laya"),s=r.Laya.regClass,l=(r.Laya.property,e("../../halls/halllib/common/LogBase")),c=function(e){function t(){return e.call(this)||this}var n;return i(t,e),n=t,t.prototype.onAwake=function(){this.loadGameScene()},t.prototype.loadGameScene=function(){var e=this;r.Laya.Scene.open(n.resGameScene,null,r.Laya.Handler.create(this,this.onLoading,null,!1)).then(function(t){e.sceneGame=t,e.sceneGame.zOrder=2e3,r.Laya.stage.addChild(t)}),r.Laya.loader.on(r.Laya.Event.ERROR,this,this.onError)},t.prototype.onLoading=function(e){this.ProgressBar.value=e},t.prototype.onError=function(e){l.LogBase.error("loading game error:",e)},t.prototype.onClosed=function(){this.sceneGame&&this.sceneGame.close()},t.resGameScene="resources/games/game34700/scenes/GameScene.ls",t.faceList=["resources/halls/hallph7/res/hall/face/1.png","resources/halls/hallph7/res/hall/face/2.png","resources/halls/hallph7/res/hall/face/3.png","resources/halls/hallph7/res/hall/face/4.png","resources/halls/hallph7/res/hall/face/5.png","resources/halls/hallph7/res/hall/face/6.png","resources/halls/hallph7/res/hall/face/7.png","resources/halls/hallph7/res/hall/face/8.png","resources/halls/hallph7/res/hall/face/9.png","resources/halls/hallph7/res/hall/face/10.png","resources/halls/hallph7/res/hall/face/11.png","resources/halls/hallph7/res/hall/face/12.png","resources/halls/hallph7/res/hall/face/13.png","resources/halls/hallph7/res/hall/face/14.png","resources/halls/hallph7/res/hall/face/15.png","resources/halls/hallph7/res/hall/face/16.png"],n=a([s()],t)}(e("./GameLoading34700.generated").GameLoadingBase34700);n.GameLoading34700=c,cc._RF.pop()},{"../../halls/halllib/common/LogBase":"LogBase","../../halls/halllib/laya/Laya":"Laya","./GameLoading34700.generated":"GameLoading34700.generated"}],"GameLoading34800.generated":[function(e,t,n){"use strict";cc._RF.push(t,"cd8a64D1mZOP71LwwQuovcS","GameLoading34800.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.GameLoadingBase34800=void 0;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ProgressBar=null,t}return i(t,e),t}(e("../../halls/halllib/laya/Laya").Laya.Scene);n.GameLoadingBase34800=a,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya"}],GameLoading34800:[function(e,t,n){"use strict";cc._RF.push(t,"7d586bJpVFKw4PQxqC+dQzB","GameLoading34800");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameLoading34800=void 0;var r=e("./GameLoading34800.generated"),s=e("../../halls/halllib/laya/Laya"),l=s.Laya.regClass,c=(s.Laya.property,function(e){function t(){return e.call(this)||this}var n;return i(t,e),n=t,t.prototype.onAwake=function(){this.LoadGameScene(),s.Laya.loader.on(s.Laya.Event.ERROR,this,this.onError)},t.prototype.LoadGameScene=function(){var e=this;s.Laya.Scene.load(n.resGameScene,s.Laya.Handler.create(this,this.onLoadFiniSh),s.Laya.Handler.create(this,this.onLoading,null,!1)).then(function(){e.ProgressBar.value=1})},t.prototype.onLoading=function(e){this.ProgressBar.value=e},t.prototype.onLoadFiniSh=function(e){this.parent.addChild(e),this.close()},t.prototype.onError=function(){},t.resRoot="resources/games/game34800/",t.resGameScene="resources/games/game34800/scenes/GameScene.ls",n=a([l()],t)}(r.GameLoadingBase34800));n.GameLoading34800=c,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya","./GameLoading34800.generated":"GameLoading34800.generated"}],"GameMain10100.generated":[function(e,t,n){"use strict";cc._RF.push(t,"a780c5JoTVLZq75JjG6pW3U","GameMain10100.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.GameMainBase10100=void 0;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ButtonDrop=null,t.ButtonFight=null,t.ButtonGroup=null,t.ButtonDump=null,t.ButtonSort=null,t.ButtonMenu=null,t.ButtonHelp=null,t.ButtonRecord=null,t.ButtonSettle=null,t.PanelTop=null,t.SpriteRank_0=null,t.SpriteRank_1=null,t.SpriteRank_2=null,t.LabelPot=null,t.PanelTuoGuan=null,t.PanelStartTime=null,t.LabelTime=null,t.ButtonChange=null,t.ButtonQuit=null,t}return i(t,e),t}(e("../../halls/halllib/laya/Laya").Laya.Scene);n.GameMainBase10100=a,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya"}],GameMain10100:[function(e,t,n){"use strict";cc._RF.push(t,"4eac6iaVlBMq6K/yV4TXn0R","GameMain10100");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.GameMain10100=void 0;var s=e("../../halls/halllib/laya/Laya"),l=s.Laya.regClass,c=(s.Laya.property,e("./GameData10100")),u=s.Laya.Handler,p=e("./GameHandCard10100"),h=e("./GameHelp10100"),d=e("./GameMain10100.generated"),f=e("./GameMenu10100"),g=e("./GameMsgProxy10100"),m=e("./GameNetProto10100"),y=e("./GamePanelSpinShow10100"),_=e("../../halls/halllib/core/RunData"),v=e("../../halls/halllib/net/Client"),b=e("./GamePlayerMg10100"),S=r(e("../../halls/hall/BaseRoom")),C=e("./GameCardMg10100"),I=e("./GamePanelRecord10100"),R=e("./GamePanelFight10100"),L=r(e("../../halls/hall/Tips")),P=e("../../halls/halllib/net/InnerEvent"),M=e("./GamePanelSettle10100"),T=e("./GameAudioContro10100"),E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.timesDo=0,t}var n;return i(t,e),n=t,t.prototype.onAwake=function(){n.Instance=this,this.ButtonHelp.on(s.Laya.Event.CLICK,this,this.onHelp),this.ButtonMenu.on(s.Laya.Event.CLICK,this,this.onMenu),this.ButtonChange.on(s.Laya.Event.CLICK,this,this.onChange),this.ButtonQuit.on(s.Laya.Event.CLICK,this,this.onQuit),this.ButtonSort.on(s.Laya.Event.CLICK,this,this.onSort),this.ButtonRecord.on(s.Laya.Event.CLICK,this,this.onRecord),this.PanelTuoGuan.on(s.Laya.Event.CLICK,this,this.onTuoGuan),this.ButtonDrop.on(s.Laya.Event.CLICK,this,this.OnButtonDrop),this.ButtonFight.on(s.Laya.Event.CLICK,this,this.OnButtonFight),this.ButtonGroup.on(s.Laya.Event.CLICK,this,this.OnButtonGroup),this.ButtonDump.on(s.Laya.Event.CLICK,this,this.OnButtonDump),this.ButtonSettle.on(s.Laya.Event.CLICK,this,this.onButtonSettle),this.PanelStart=this.getChildByName("PanelStart").getComponent(y.GamePanelSpinShow10100),this.SpriteRank=[this.SpriteRank_0,this.SpriteRank_1,this.SpriteRank_2],this.initGameData(),T.GameAudioContro10100.Instance.PlayMusicById(0,0)},t.prototype.onHelp=function(){h.GameHelp10100.Instance.Show()},t.prototype.onMenu=function(){f.GameMenu10100.Instance.ShowOrHide()},t.prototype.onChange=function(){c.GameData10100.wSkipChairID!=c.GameData10100.MySeatNo&&c.GameData10100.byGameStatus!=m.GameNetProto10100.NOTIFY.GS_TONGITS_FREE?L.default.SetWarnText("The game has started and cannot be changed to a different room."):(M.GamePanelSettle10100.Instance.StopTimeDown(),this.ResetData(!0),v.Client.Instance.sendData(2000102,1),v.Client.Instance.sendData(2000102,11))},t.prototype.onQuit=function(){c.GameData10100.wSkipChairID==c.GameData10100.MySeatNo||c.GameData10100.byGameStatus==m.GameNetProto10100.NOTIFY.GS_TONGITS_FREE?(this.close(),this.destroy()):L.default.SetWarnText("The game has already started. Do not exit the game.")},t.prototype.onSort=function(){p.GameHandCard10100.Instance.AutoSort()},t.prototype.onRecord=function(){I.GamePanelRecord10100.Instance.Show()},t.prototype.onTuoGuan=function(){v.Client.Instance.sendData(2000180,m.GameNetProto10100.NOTIFY.SUB_C_CANCEL_TRUSTEE)},t.prototype.onButtonSettle=function(){M.GamePanelSettle10100.Instance.Show()},t.prototype.OnButtonDrop=function(){C.GameCardMg10100.Instance.OnButtonDrop()},t.prototype.OnButtonFight=function(){C.GameCardMg10100.Instance.OnButtonFight()},t.prototype.OnButtonGroup=function(){C.GameCardMg10100.Instance.OnButtonGroup()},t.prototype.OnButtonDump=function(){C.GameCardMg10100.Instance.OnButtonDump()},t.prototype.onClosed=function(){g.GameMsgProxy10100.Instance.Destroy(),s.Laya.timer.clearAll(this),s.Laya.timer.clearAll(C.GameCardMg10100.Instance),P.HallEvent.event(P.HallEvent.GO_BACK_TO_HALL)},t.prototype.ResetData=function(e){void 0===e&&(e=!1),c.GameData10100.wSkipChairID!=c.GameData10100.MySeatNo&&c.GameData10100.byGameStatus!=m.GameNetProto10100.NOTIFY.GS_TONGITS_FREE||(I.GamePanelRecord10100.Instance.Clear(),b.GamePlayerMg10100.Instance.InitStart(e),C.GameCardMg10100.Instance.ResetData(),R.GamePanelFight10100.Instance.Hide(),M.GamePanelSettle10100.Instance.Hide(),this.ButtonDrop.disabled=!0,this.ButtonFight.disabled=!0,this.ButtonGroup.disabled=!0,this.ButtonDump.disabled=!0)},t.prototype.InsertPlayer=function(e){if(e.dwUserID==_.RunData.myUserInfo.dwUserID){e.bDeskNO<255&&e.bDeskStation<255&&0<=e.bDeskNO&&0<=e.bDeskStation&&v.Client.Instance.sendData(2000180,1),c.GameData10100.MySeatNo=e.bDeskStation,c.GameData10100.MyDeskNO=e.bDeskNO,b.GamePlayerMg10100.Instance.UpDateUserInfo(e);for(var t=this.GetUserInfoList(c.GameData10100.MyDeskNO),n=0;n<t.length;n++)t[n].dwUserID!=_.RunData.myUserInfo.dwUserID&&b.GamePlayerMg10100.Instance.UpDateUserInfo(t[n])}else e.bDeskNO==c.GameData10100.MyDeskNO&&c.GameData10100.MySeatNo>=0&&c.GameData10100.MySeatNo<=2&&b.GamePlayerMg10100.Instance.UpDateUserInfo(e)},t.prototype.RemovePlayer=function(e){e.dwUserID!=_.RunData.myUserInfo.dwUserID&&b.GamePlayerMg10100.Instance.RemovePlayer(e)},t.prototype.UpDateUserInfo=function(e){e.bDeskNO==c.GameData10100.MyDeskNO&&c.GameData10100.MySeatNo>=0&&c.GameData10100.MySeatNo<=2&&b.GamePlayerMg10100.Instance.UpDateUserInfo(e)},t.prototype.FlashAllPlayer=function(){var e=this;this.timer.once(100,this,function(){for(var t=e.GetUserInfoList(c.GameData10100.MyDeskNO),n=0;n<t.length;n++)b.GamePlayerMg10100.Instance.UpDateUserInfo(t[n])})},t.prototype.OnUserAgree=function(e){console.log("============>>>>OnUserAgree"),e.bDeskNO==c.GameData10100.MyDeskNO&&e.bDeskStation>=0&&e.bDeskStation<=2&&b.GamePlayerMg10100.Instance.UserAgree(e.bDeskNO,e.bDeskStation,e.bAgreeGame)},t.prototype.GetUserInfoList=function(e){for(var t=[],n=0;n<S.default.userList.length;n++){var o=S.default.userList[n];e==o.bDeskNO&&o.bDeskStation<3&&o.bDeskStation>=0&&t.push(o)}return t},t.prototype.initGameData=function(){this.ButtonSettle.visible=!1,g.GameMsgProxy10100.Instance.Init(),g.GameMsgProxy10100.Instance.GameStationHandler=new u(this,this.ongameStation),g.GameMsgProxy10100.Instance.GameStartHandler=new u(this,this.ongameStart),g.GameMsgProxy10100.Instance.GamePlayerOperate=new u(this,this.onPlayerOperate),g.GameMsgProxy10100.Instance.GameHeapCardSuccess=new u(this,this.onHeapCardSuccess),g.GameMsgProxy10100.Instance.GameDumpCardSuccess=new u(this,this.onDumpCardSuccess),g.GameMsgProxy10100.Instance.GameWithOutCardSuccess=new u(this,this.onWithOutCardSuccess),g.GameMsgProxy10100.Instance.GamePutCardSuccess=new u(this,this.onPutCardSuccess),g.GameMsgProxy10100.Instance.GameDropCardSuccess=new u(this,this.onDropCardSuccess),g.GameMsgProxy10100.Instance.GameFightSuccess=new u(this,this.onFightSuccess),g.GameMsgProxy10100.Instance.GameFoldSuccess=new u(this,this.onFoldSuccess),g.GameMsgProxy10100.Instance.GameChallengeSuccess=new u(this,this.onChallengeSuccess),g.GameMsgProxy10100.Instance.GameEndHandler=new u(this,this.onGameEnd),g.GameMsgProxy10100.Instance.GamePlayerTrustee=new u(this,this.onPlayerTrustee),g.GameMsgProxy10100.Instance.GameStartCounter=new u(this,this.onStartCounter)},t.prototype.ongameStation=function(e){console.log("=========>>>>\u6e38\u620f\u72b6\u6001\uff1a ",e.m_byGameStatus),c.GameData10100.byGameStatus=e.m_byGameStatus,c.GameData10100.iCellScore=e.m_iCellScore,c.GameData10100.byFreeTime=e.m_byFreeTime,c.GameData10100.byOutCardTime=e.m_byOutCardTime,c.GameData10100.byFightTime=e.m_byFightTime,c.GameData10100.byAccountTime=e.m_byAccountTime,c.GameData10100.byHitpotMultiple=e.m_byHitpotMultiple,c.GameData10100.byNormalWinMultiple=e.m_byNormalWinMultiple,c.GameData10100.byTongitsMultiple=e.m_byTongitsMultiple,c.GameData10100.bySecretMeldMultiple=e.m_bySecretMeldMultiple,c.GameData10100.byBonusCardMultiple=e.m_byBonusCardMultiple,c.GameData10100.byBurnedPlayerMultiple=e.m_byBurnedPlayerMultiple,c.GameData10100.byFightNeedTurns=e.m_byFightNeedTurns,c.GameData10100.byTrustee=e.m_byTrustee,c.GameData10100.wSkipChairID=e.wSkipChairID,this.ButtonDrop.disabled=!0,this.ButtonFight.disabled=!0,this.ButtonGroup.disabled=!0,this.ButtonDump.disabled=!0,I.GamePanelRecord10100.Instance.AddRecords(e.m_nOutCardCount,e.m_arrOutCardList),this.PanelTop.visible=c.GameData10100.byHitpotMultiple>0,b.GamePlayerMg10100.Instance.InitStart(),this.PanelTuoGuan.visible=1==e.m_byTrustee,C.GameCardMg10100.Instance.ResetData(),e.m_byGameStatus==m.GameNetProto10100.NOTIFY.GS_TONGITS_FREE?(this.SetRoundNo(e.m_nGameRounds),R.GamePanelFight10100.Instance.Hide()):e.m_byGameStatus==m.GameNetProto10100.NOTIFY.GS_TONGITS_DEAL_CARDS?(this.SetRoundNo(e.m_nGameRounds-1),R.GamePanelFight10100.Instance.Hide(),C.GameCardMg10100.Instance.InitPlaying(e),b.GamePlayerMg10100.Instance.SetHitpot(e.m_nGameRounds>1?e.m_wBanker:-1)):e.m_byGameStatus==m.GameNetProto10100.NOTIFY.GS_TONGITS_PLAYING?(this.SetRoundNo(e.m_nGameRounds-1),R.GamePanelFight10100.Instance.Hide(),b.GamePlayerMg10100.Instance.OnPlayerOperate(e.m_wCurrentActionPlayer,c.GameData10100.byOutCardTime,e.m_byLeftTime),C.GameCardMg10100.Instance.InitPlaying(e),b.GamePlayerMg10100.Instance.SetHitpot(e.m_nGameRounds>1?e.m_wBanker:-1)):e.m_byGameStatus==m.GameNetProto10100.NOTIFY.GS_TONGITS_FIGHT?(this.SetRoundNo(e.m_nGameRounds-1),C.GameCardMg10100.Instance.InitPlaying(e),b.GamePlayerMg10100.Instance.SetHitpot(e.m_nGameRounds>1?e.m_wBanker:-1),R.GamePanelFight10100.Instance.InitPlaying(e)):e.m_byGameStatus==m.GameNetProto10100.NOTIFY.GS_TONGITS_ACCOUNT&&(this.SetRoundNo(e.m_nGameRounds),b.GamePlayerMg10100.Instance.SetHitpot(e.wWinner),R.GamePanelFight10100.Instance.Hide())},t.prototype.ongameStart=function(e){this.ButtonSettle.visible=!1,c.GameData10100.byGameStatus=m.GameNetProto10100.NOTIFY.GS_TONGITS_DEAL_CARDS,I.GamePanelRecord10100.Instance.Clear(),c.GameData10100.wSkipChairID=e.wSkipChairID,this.LabelPot.text=_.GameTool.formatMoneyString(e.dHitpot),this.SetRoundNo(e.nRoundNo-1),b.GamePlayerMg10100.Instance.InitStart(),b.GamePlayerMg10100.Instance.FlashPlayerMoney(c.GameData10100.MySeatNo,e.dPlayerScore),b.GamePlayerMg10100.Instance.SetHitpot(e.nRoundNo>1?e.wBankChairID:-1),C.GameCardMg10100.Instance.OnGameStart(e)},t.prototype.onPlayerOperate=function(e){c.GameData10100.byGameStatus=m.GameNetProto10100.NOTIFY.GS_TONGITS_PLAYING,b.GamePlayerMg10100.Instance.OnPlayerOperate(e.wActionPlayer,c.GameData10100.byOutCardTime),C.GameCardMg10100.Instance.OnPlayerOperate(e)},t.prototype.onHeapCardSuccess=function(e){b.GamePlayerMg10100.Instance.OnPlayerOperate(e.wActionPlayer,c.GameData10100.byOutCardTime),C.GameCardMg10100.Instance.OnHeapCardSuccess(e)},t.prototype.onDumpCardSuccess=function(e){this.ButtonDrop.disabled=!0,this.ButtonFight.disabled=!0,this.ButtonGroup.disabled=!0,this.ButtonDump.disabled=!0,b.GamePlayerMg10100.Instance.OnPlayerOperate(e.wDumpCardPlayer,c.GameData10100.byOutCardTime),I.GamePanelRecord10100.Instance.AddRecord(e.byCard),C.GameCardMg10100.Instance.OnDumpCardSuccess(e)},t.prototype.onWithOutCardSuccess=function(e){b.GamePlayerMg10100.Instance.OnPlayerOperate(e.wActionPlayer,c.GameData10100.byOutCardTime),I.GamePanelRecord10100.Instance.RemoveCard(),C.GameCardMg10100.Instance.OnWithOutCardSuccess(e)},t.prototype.onPutCardSuccess=function(e){b.GamePlayerMg10100.Instance.OnPlayerOperate(e.wActivePlayer,c.GameData10100.byOutCardTime),C.GameCardMg10100.Instance.OnPutCardSuccess(e)},t.prototype.onDropCardSuccess=function(e){b.GamePlayerMg10100.Instance.OnPlayerOperate(e.wDropCardPlayer,c.GameData10100.byOutCardTime),C.GameCardMg10100.Instance.OnDropCardSuccess(e)},t.prototype.onFightSuccess=function(e){M.GamePanelSettle10100.Instance.Hide(),c.GameData10100.byGameStatus=m.GameNetProto10100.NOTIFY.GS_TONGITS_FIGHT,c.GameData10100.wSkipChairID=e.wSkipChairID,b.GamePlayerMg10100.Instance.OnPlayerFight(e,c.GameData10100.byFightTime),b.GamePlayerMg10100.Instance.OnFightSuccess(e),R.GamePanelFight10100.Instance.OnFightSuccess(e),C.GameCardMg10100.Instance.OnFightSuccess(e)},t.prototype.onFoldSuccess=function(e){b.GamePlayerMg10100.Instance.CancelOperate(e.wFoldPlayer),R.GamePanelFight10100.Instance.OnFoldSuccess(e),b.GamePlayerMg10100.Instance.OnFoldSuccess(e)},t.prototype.onChallengeSuccess=function(e){b.GamePlayerMg10100.Instance.CancelOperate(e.wChallenger),R.GamePanelFight10100.Instance.OnChallengeSuccess(e),b.GamePlayerMg10100.Instance.OnChallengeSuccess(e)},t.prototype.onGameEnd=function(e){var t=this;c.GameData10100.byGameStatus=m.GameNetProto10100.NOTIFY.GS_TONGITS_FREE,this.timer.once(1e3,this,function(){c.GameData10100.wSkipChairID=e.wSkipChairID,t.LabelPot.text=_.GameTool.formatMoneyString(e.dHitpot),t.SetRoundNo(e.nRoundNo),t.PanelTuoGuan.visible=!1,b.GamePlayerMg10100.Instance.CancelOperate(-1),b.GamePlayerMg10100.Instance.OnGameEnd(e),C.GameCardMg10100.Instance.OnGameEnd(e),R.GamePanelFight10100.Instance.Hide(),t.ButtonDrop.disabled=!0,t.ButtonFight.disabled=!0,t.ButtonGroup.disabled=!0,t.ButtonDump.disabled=!0,t.timer.once(3e3,t,function(){t.ButtonSettle.visible=!0,M.GamePanelSettle10100.Instance.OnGameEnd(e)})})},t.prototype.SetRoundNo=function(e){for(var t=0;t<this.SpriteRank.length;t++)this.SpriteRank[t].skin=e>t?c.GameData10100.ResPath+"Game/Tongits_HuangGuan1.png":c.GameData10100.ResPath+"Game/Tongits_HuangGuan2.png"},t.prototype.onPlayerTrustee=function(e){e.m_wTrusteePlayer==c.GameData10100.MySeatNo&&(this.PanelTuoGuan.visible=1==e.m_byNotifyType)},t.prototype.onStartCounter=function(e){e.nTick>0?this.StartTimeDown(e.nTick):this.StopTimeDown()},t.prototype.StartTimeDown=function(e){this.timesDo=e,this.LabelTime.value=this.timesDo>=10?this.timesDo.toString():"0"+this.timesDo.toString(),this.PanelStartTime.visible=!0,this.clearTimer(this,this.TimeDownFunc),this.timerOnce(1e3,this,this.TimeDownFunc,[1])},t.prototype.TimeDownFunc=function(e){this.timesDo-=e,this.LabelTime.value=this.timesDo>=10?this.timesDo.toString():"0"+this.timesDo.toString(),this.timesDo<=0?this.PanelStartTime.visible=!1:this.timerOnce(1e3,this,this.TimeDownFunc,[1])},t.prototype.StopTimeDown=function(){this.timesDo=0,this.PanelStartTime.visible=!1,this.clearTimer(this,this.TimeDownFunc)},n=a([l()],t)}(d.GameMainBase10100);n.GameMain10100=E,cc._RF.pop()},{"../../halls/hall/BaseRoom":"BaseRoom","../../halls/hall/Tips":"Tips","../../halls/halllib/core/RunData":"RunData","../../halls/halllib/laya/Laya":"Laya","../../halls/halllib/net/Client":"Client","../../halls/halllib/net/InnerEvent":"InnerEvent","./GameAudioContro10100":"GameAudioContro10100","./GameCardMg10100":"GameCardMg10100","./GameData10100":"GameData10100","./GameHandCard10100":"GameHandCard10100","./GameHelp10100":"GameHelp10100","./GameMain10100.generated":"GameMain10100.generated","./GameMenu10100":"GameMenu10100","./GameMsgProxy10100":"GameMsgProxy10100","./GameNetProto10100":"GameNetProto10100","./GamePanelFight10100":"GamePanelFight10100","./GamePanelRecord10100":"GamePanelRecord10100","./GamePanelSettle10100":"GamePanelSettle10100","./GamePanelSpinShow10100":"GamePanelSpinShow10100","./GamePlayerMg10100":"GamePlayerMg10100"}],"GameMain11100.generated":[function(e,t,n){"use strict";cc._RF.push(t,"ca84csriAhLyo/5yc2Z4O/f","GameMain11100.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.GameMainBase11100=void 0;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.BlackBetArea=null,t.BlcakBetTotal=null,t.BlackWinLight=null,t.RedBetArea=null,t.RedBetTotal=null,t.RedWinLight=null,t.LuckBetArea=null,t.LuckBetTotalLabel=null,t.LuckWinlight=null,t.BtnRecord=null,t.RecordColorList=null,t.RecordCardList=null,t.SelfHead=null,t.SelfMoney=null,t.SelfName=null,t.SelfWin=null,t.SelfLose=null,t.SelectChipList=null,t.BtnRepeatBet=null,t.OtherPlayer=null,t.ChairList=null,t.BlackCardList=null,t.BlackResultBg=null,t.BlackResultImg=null,t.RedCardList=null,t.RedResultBg=null,t.RedResultImg=null,t.BtnExit=null,t.MenuPanel=null,t.BtnRule=null,t.BtnSetting=null,t.BtnMenu=null,t.Showdown=null,t.IdleOrBetTime=null,t.StateTimeLabel=null,t.ChipCachePool=null,t.BlackMoneyBg=null,t.BlackMoneyLabel=null,t.RedMoneyBg=null,t.RedMoneyLabel=null,t.LuckMoneyBg=null,t.LuckMoneyLabel=null,t.WaitingGameStart=null,t.WaitTimeLabel=null,t.StartBet_Anim=null,t.StopBet_Anim=null,t.RedVSBlack_Anim=null,t.Win_Anim=null,t.Win_Head=null,t.Win_Name=null,t.Win_Money=null,t.RecordPanel=null,t.RecordBlack=null,t.BlackWinLabel=null,t.RedWinLabel=null,t.Record20List=null,t.RecordList=null,t.RecordResultList=null,t.RulePanel=null,t.RuleBlack=null,t.SetingPanel=null,t.SetingBlack=null,t.MusicToggle=null,t.SoundToggle=null,t}return i(t,e),t}(e("../../halls/halllib/laya/Laya").Laya.Scene);n.GameMainBase11100=a,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya"}],GameMain11100:[function(e,t,n){"use strict";cc._RF.push(t,"e32168XwkJKNKhVyn/kg06j","GameMain11100");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.GameMain11100=n.GameRecordItem=void 0;var c=l(e("../../halls/hall/BaseRoom")),u=l(e("../../halls/hall/Tips")),p=e("../../halls/halllib/common/ConfigMng"),h=e("../../halls/halllib/common/Define"),d=e("../../halls/halllib/core/HallData"),f=e("../../halls/halllib/core/RunData"),g=e("../../halls/halllib/net/InnerEvent"),m=e("./GameConstant11100"),y=e("./GameMain11100.generated"),_=e("./GameMsgHandler11100"),v=e("../../halls/halllib/laya/Laya"),b=v.Laya.regClass,S=(v.Laya.property,function(){});n.GameRecordItem=S;var C=function(e){function t(){var t=e.call(this)||this;return t.roomUserList=[],t.selectChipIndex=-1,t.blackTotalBetScore=0,t.blackSelfBetScore=0,t.redTotalBetScore=0,t.redSelfBetScore=0,t.luckTotalBetScore=0,t.luckSelfBetScore=0,t.chairList=[],t.gameBetTime=0,t.gameOpenCardTime=0,t.gameEndTime=0,t.repeatCountTotal=0,t.chipList=[],t.nowGameState=m.GAME_STATUS_E.IDLE,t.selfMoney=0,t.isPlayEnd=!0,t.nowBetArea=-1,t.isPlacedBet=!1,t.blackCardResultList=[],t.redCardResultList=[],t.gameRecordList=[],t.previousBetTotal=0,t.cardInitPos=637,t.blackOneCardPos=256,t.redOneCardPos=1078,t.cardSpacing=57,t.ChipMoveToPlayer=function(e){for(var n=0;n<e.iWinMoney.length;n++)if(e.iWinMoney[n]>0){if(0==e.cbNoted[n])continue;n==c.default.myUserRoomInfo.pUserInfoStruct.bDeskStation&&e.iWinMoney[n]>0&&(t.ChipPool.GameEndMoveToPlayer(e.cbRedBlackOpenCard,t.SelfHead.localToGlobal(new v.Laya.Point(t.SelfHead.x,t.SelfHead.y)),e.iWinMoney[n]),e.cbLuckPrize>0&&(t.ChipPool.GameEndMoveToPlayer(2,t.SelfHead.localToGlobal(new v.Laya.Point(t.SelfHead.x,t.SelfHead.y)),e.iWinMoney[n]),t.selfBetAreaScore.get(2)),t.selfMoney=f.RunData.myUserInfo.dwMoney,t.Win_Money.text=f.GameTool.formatMoneyString(e.iWinMoney[n]),t.Win_Anim.visible=!0,t.Win_Anim.getComponent(v.Laya.Animator2D).play("WinAnim",0,0),t.UpdateMoney());var o=!1;if(n!=m.GameConstant11100.ServerInvalidChairID)for(var i=0;i<t.chairList.length;i++)if(n==t.chairList[i].DeskStation){var a=t.chairList[i].GetChipInitPos();t.ChipPool.GameEndMoveToPlayer(e.cbRedBlackOpenCard,a,e.iWinMoney[n]),e.cbLuckPrize>0&&t.ChipPool.GameEndMoveToPlayer(2,a,e.iWinMoney[n]),o=!0;break}0==o&&(t.ChipPool.GameEndMoveToPlayer(e.cbRedBlackOpenCard,t.OtherPlayer.localToGlobal(new v.Laya.Point(t.OtherPlayer.x,t.OtherPlayer.y)),e.iWinMoney[n]),e.cbLuckPrize>0&&t.ChipPool.GameEndMoveToPlayer(2,t.OtherPlayer.localToGlobal(new v.Laya.Point(t.OtherPlayer.x,t.OtherPlayer.y)),e.iWinMoney[n]))}return new Promise(function(n){v.Laya.timer.once(800,t,function(){for(var o=0;o<e.iWinMoney.length;o++)if(0!=e.cbNoted[o])for(var i=0;i<t.chairList.length;i++)o==t.chairList[i].DeskStation&&t.chairList[i].GameEnd(e.iWinMoney[o]);n()})})},t}return i(t,e),t.prototype.onAwake=function(){this.InitUI(),this.InitData(),this.AddButtonEvent(),_.GameMsgHandler11100.Instance.Init(this);for(var e=0;e<c.default.userList.length;e++)this.roomUserList.push(c.default.userList[e])},t.prototype.InitUI=function(){this.selfBetAreaScore=new Map,this.selfBetAreaScore.set(0,0),this.selfBetAreaScore.set(1,0),this.selfBetAreaScore.set(2,0),this.blackCardResultList=[],this.redCardResultList=[],this.SelfName.text=f.RunData.myUserInfo.nickName,this.selfMoney=f.RunData.myUserInfo.dwMoney,this.UpdateMoney();var e=f.RunData.myUserInfo.bLogoID;(e<0||e>p.ConfigMng.hallconfigJson.face.facelist.length)&&(e=0),this.SelfHead.loadImage(p.ConfigMng.hallconfigJson.face.facelist[e]),this.Win_Head.loadImage(p.ConfigMng.hallconfigJson.face.facelist[e]),this.Win_Name.text=f.RunData.myUserInfo.nickName,this.chairList=[];for(var t=1;t<=m.GameConstant11100.MAX_OCCUPY_SEAT_COUNT;t++){var n=this.ChairList.getChildByName(t.toString()).getComponent(v.Laya.Script);n.Init(t),this.chairList.push(n)}for(this.blackCardImg=[],this.redCardImg=[],t=0;t<3;t++){var o=this.BlackCardList.getChildByName("Card0"+(t+1).toString()),i=this.RedCardList.getChildByName("Card0"+(t+1).toString());this.blackCardImg.push(o),this.redCardImg.push(i)}for(this.roomUserList=this.roomUserList.sort(function(e,t){return e.dwMoney.toNumber()-t.dwMoney.toNumber()}),t=0;t<this.roomUserList.length&&t<m.GameConstant11100.MAX_OCCUPY_SEAT_COUNT-1;t++){var a=new m.ChairInfo;a.bDeskStation=this.roomUserList[t-1].bDeskStation,a.bLogoID=this.roomUserList[t-1].bLogoID,a.nickName=this.roomUserList[t-1].nickName,this.chairList[t].RefreshChair(a)}this.GameRecordPanel=this.RecordPanel.getComponent(v.Laya.Script),this.ChipPool=this.ChipCachePool.getComponent(v.Laya.Script)},t.prototype.InitData=function(){this.isPlacedBet=!1,this.nowBetArea=-1,this.blackTotalBetScore=0,this.blackSelfBetScore=0,this.redTotalBetScore=0,this.redSelfBetScore=0,this.luckTotalBetScore=0,this.luckSelfBetScore=0,this.BlackWinLight.visible=!1,this.RedWinLight.visible=!1,this.LuckWinlight.visible=!1,this.BlackMoneyBg.visible=!1,this.RedMoneyBg.visible=!1,this.LuckMoneyBg.visible=!1,this.BlcakBetTotal.text="",this.BlackMoneyLabel.text="",this.RedBetTotal.text="",this.RedMoneyLabel.text="",this.LuckBetTotalLabel.text="",this.LuckMoneyLabel.text="";for(var e=0;e<this.blackCardImg.length;e++)this.blackCardImg[e].x=this.cardInitPos,this.blackCardImg[e].skin="resources/games/game11100/res/Image/Card/0_0.png",this.redCardImg[e].x=this.cardInitPos,this.redCardImg[e].skin="resources/games/game11100/res/Image/Card/0_0.png";this.BlackResultBg.visible=!1,this.RedResultBg.visible=!1,this.WaitingGameStart.visible=!1,this.ChipPool.RecoverAllObj()},t.prototype.AddButtonEvent=function(){var e=this;this.BtnExit.on(v.Laya.Event.CLICK,this,this.OnClickExit),this.BtnMenu.on(v.Laya.Event.CLICK,this,this.OnClickMenu),this.BtnSetting.on(v.Laya.Event.CLICK,this,this.OnOpenSetPanel),this.SetingBlack.on(v.Laya.Event.CLICK,this,this.OnCloseSetPanel),this.MusicToggle.on(v.Laya.Event.CLICK,this,this.OnMusicAudio),this.SoundToggle.on(v.Laya.Event.CLICK,this,this.OnEffectAudio),d.LocalTempData.getMusicVolume()>0?d.LocalTempData.setSoundVolume(1):(d.LocalTempData.setSoundVolume(0),v.Laya.SoundManager.stopAllSound()),d.LocalTempData.getSoundVolume()>0?(v.Laya.SoundManager.playMusic(m.GameConstant11100.SOUND_GameSceneBGM,0),d.LocalTempData.setMusicVolume(1)):(d.LocalTempData.setMusicVolume(0),v.Laya.SoundManager.stopMusic()),this.MusicToggle.selected=d.LocalTempData.getMusicVolume()>0,this.SoundToggle.selected=d.LocalTempData.getSoundVolume()>0,this.BtnRule.on(v.Laya.Event.CLICK,this,this.OnOpenRulePanel),this.RuleBlack.on(v.Laya.Event.CLICK,this,this.OnCloseRulePanel),this.BtnRecord.on(v.Laya.Event.CLICK,this,this.OnOpenRecordPanel),this.RecordBlack.on(v.Laya.Event.CLICK,this,this.OnCloseRecordPanel),this.BlackBetArea.on(v.Laya.Event.CLICK,this,function(){e.OnClickAreaBet(m.GAME_BET_AREA.BLACK)}),this.RedBetArea.on(v.Laya.Event.CLICK,this,function(){e.OnClickAreaBet(m.GAME_BET_AREA.RED)}),this.LuckBetArea.on(v.Laya.Event.CLICK,this,function(){e.OnClickAreaBet(m.GAME_BET_AREA.LUCK)}),this.BtnRepeatBet.on(v.Laya.Event.CLICK,this,this.OnClickRepeatBet)},t.prototype.GameState=function(e){var t=this;this.gameRecordList=[];for(var n=0;n<e.iCardTypeRecordItemCount;n++){var o=new S;o.Result=e.tagCardTypeRecordItem[n].cbWinObject,o.CardType=e.tagCardTypeRecordItem[n].cbCardType,this.gameRecordList.push(o)}for(this.nowGameState=e.bStation,this.gameBetTime=e.iXiaZhuTime,this.gameOpenCardTime=e.iSendCardTime,this.gameEndTime=e.iAccountTick,this.chipList=[],n=0;n<e.iChouMa.length&&n<m.GameConstant11100.MAX_CHIP_COUNT;n++)this.chipList.push(e.iChouMa[n]);this.RefreshChipState();var i=function(e){var n=a.SelectChipList.getCell(e),o=e;n.on(v.Laya.Event.CLICK,a,function(){t.OnSelectChip(o)})},a=this;for(n=0;n<this.SelectChipList.array.length;n++)i(n);var r=-1;for(n=0;n<this.chipList.length;n++)this.selfMoney>=this.chipList[n]&&(r=n);if(-1!=r&&this.OnSelectChip(r),this.ChipPool.InitChipPool(e.iChouMa),this.Showdown.visible=e.bStation==m.GAME_STATUS_E.OPEN_CARD||e.bStation==m.GAME_STATUS_E.END,this.IdleOrBetTime.visible=e.bStation==m.GAME_STATUS_E.IDLE||e.bStation==m.GAME_STATUS_E.BET,e.bStation==m.GAME_STATUS_E.BET?this.BtnRepeatBet.skin="resources/games/game11100/res/Image/Game/UI_BT_Chongfutou_3_3.png":this.BtnRepeatBet.skin="resources/games/game11100/res/Image/Game/UI_BT_Chongfutou_1_1.png",e.bStation==m.GAME_STATUS_E.IDLE)this.IdleOrBetTime.skin="resources/games/game11100/res/Image/Game/UI_RedBlack_Station_Waiting.png";else if(e.bStation==m.GAME_STATUS_E.BET){var s=this.blackOneCardPos;for(this.IdleOrBetTime.skin="resources/games/game11100/res/Image/Game/UI_RedBlack_Station_Time.png",n=0;n<this.blackCardImg.length;n++)this.blackCardImg[n].skin="resources/games/game11100/res/Image/Card/0_0.png",this.blackCardImg[n].x=s,s+=this.cardSpacing;var l=this.redOneCardPos;for(n=0;n<this.redCardImg.length;n++)this.redCardImg[n].skin="resources/games/game11100/res/Image/Card/0_0.png",this.redCardImg[n].x=l,l-=this.cardSpacing}else if(e.bStation==m.GAME_STATUS_E.OPEN_CARD){this.blackCardResultList=e.bCardData[0],this.redCardResultList=e.bCardData[1].reverse();var c=this.blackOneCardPos;for(n=0;n<e.bCardData[0].length;n++){var u=this.GetCardSkin(e.bCardData[0][n]);this.blackCardImg[n].x=c,this.blackCardImg[n].skin="resources/games/game11100/res/Image/Card/"+u+".png",c+=this.cardSpacing}var p=this.redOneCardPos;for(n=0;n<e.bCardData[1].length;n++)u=this.GetCardSkin(e.bCardData[1][n]),this.redCardImg[n].x=p,this.redCardImg[n].skin="resources/games/game11100/res/Image/Card/"+u+".png",p-=this.cardSpacing}else if(e.bStation==m.GAME_STATUS_E.END){for(this.WaitingGameStart.visible=!0,c=this.blackOneCardPos,n=0;n<e.bCardData[0].length;n++)u=this.GetCardSkin(e.bCardData[0][n]),this.blackCardImg[n].x=c,this.blackCardImg[n].skin="resources/games/game11100/res/Image/Card/"+u+".png",c+=this.cardSpacing;for(p=this.redOneCardPos,n=0;n<e.bCardData[1].length;n++)u=this.GetCardSkin(e.bCardData[1][n]),this.redCardImg[n].x=p,this.redCardImg[n].skin="resources/games/game11100/res/Image/Card/"+u+".png",p-=this.cardSpacing;this.BlackResultBg.visible=!0,this.RedResultBg.visible=!0,this.BlackResultImg.skin=m.GameConstant11100.LoseCardType.get(e.cbRedBlackOpenCard[0]-1),this.RedResultImg.skin=m.GameConstant11100.LoseCardType.get(e.cbRedBlackOpenCard[1]-1),this.IdleOrBetTime.skin="resources/games/game11100/res/Image/Game/UI_RedBlack_Station_Waiting.png"}var h=Math.round(e.iLeftTick/1e3);this.StartCountdown(h),this.ChipPool.CreateAreaChip(0,e.NoteMoney[0]),this.ChipPool.CreateAreaChip(1,e.NoteMoney[1]),this.ChipPool.CreateAreaChip(2,e.NoteMoney[2]),this.blackTotalBetScore=e.NoteMoney[0],this.redTotalBetScore=e.NoteMoney[1],this.luckTotalBetScore=e.NoteMoney[2],this.BlcakBetTotal.text=f.GameTool.formatMoneyString(e.NoteMoney[0]),this.RedBetTotal.text=f.GameTool.formatMoneyString(e.NoteMoney[1]),this.LuckBetTotalLabel.text=f.GameTool.formatMoneyString(e.NoteMoney[2]),this.blackSelfBetScore=e.SelfNoteMoney[0],this.redSelfBetScore=e.SelfNoteMoney[1],this.luckSelfBetScore=e.SelfNoteMoney[2],this.BlackMoneyLabel.text=f.GameTool.formatMoneyString(e.SelfNoteMoney[0]),this.RedMoneyLabel.text=f.GameTool.formatMoneyString(e.SelfNoteMoney[1]),this.LuckMoneyLabel.text=f.GameTool.formatMoneyString(e.SelfNoteMoney[2])},t.prototype.GameStateUpdate=function(e){var t=this;if(this.nowGameState=e.iState,this.nowGameState==m.GAME_STATUS_E.BET?this.BtnRepeatBet.skin="resources/games/game11100/res/Image/Game/UI_BT_Chongfutou_3_3.png":this.BtnRepeatBet.skin="resources/games/game11100/res/Image/Game/UI_BT_Chongfutou_1_1.png",this.nowGameState==m.GAME_STATUS_E.BET){this.Win_Anim.visible=!1,this.SendCard(),this.RedVSBlack_Anim.visible=!0,this.RedVSBlack_Anim.getComponent(v.Laya.Animator2D).play("RedVSBlack",0,0),v.Laya.timer.once(1700,this,function(){t.RedVSBlack_Anim.visible=!1,t.StartBet_Anim.visible=!0,t.StartBet_Anim.getComponent(v.Laya.Animator2D).play("StartBetAnim",0,0),d.HallSoundManager.PlaySound(m.GameConstant11100.EFFECT_StartJetton,1),v.Laya.timer.once(1330,t,function(){t.StartBet_Anim.visible=!1,t.RefreshChipState()})}),this.SelfWin.text="",this.SelfLose.text="";for(var n=0;n<this.chairList.length;n++)this.chairList[n].GameStart();this.InitData(),this.StartCountdown(this.gameBetTime),this.Showdown.visible=!1,this.IdleOrBetTime.visible=!0,this.IdleOrBetTime.skin="resources/games/game11100/res/Image/Game/UI_RedBlack_Station_Time.png"}else this.nowGameState==m.GAME_STATUS_E.OPEN_CARD&&(this.StopBet_Anim.visible=!0,this.StopBet_Anim.getComponent(v.Laya.Animator2D).play("StopBetAnim",0,0),this.blackCardResultList=e.bCard[0],this.redCardResultList=e.bCard[1].reverse(),v.Laya.timer.once(1330,this,function(){t.StopBet_Anim.visible=!1,t.OpenCard()}),d.HallSoundManager.PlaySound(m.GameConstant11100.EFFECT_StopJetton,1),this.RefreshChipState(),this.StartCountdown(this.gameOpenCardTime),this.Showdown.visible=!0,this.IdleOrBetTime.visible=!1)},t.prototype.GameBetResponse=function(e){if(0==e.bErrorCode){d.HallSoundManager.PlaySound(m.GameConstant11100.EFFECT_JettonGold,1),e.bDeskStation==c.default.myUserRoomInfo.pUserInfoStruct.bDeskStation&&(this.isPlacedBet=!0,2!=e.bNoteObject&&(this.nowBetArea=e.bNoteObject),e.bNoteObject==m.GAME_BET_AREA.BLACK?(this.blackSelfBetScore+=this.chipList[e.bChipIndex],this.selfBetAreaScore.set(0,this.blackSelfBetScore),this.BlackMoneyBg.visible=!0):e.bNoteObject==m.GAME_BET_AREA.RED?(this.redSelfBetScore+=this.chipList[e.bChipIndex],this.selfBetAreaScore.set(1,this.redSelfBetScore),this.RedMoneyBg.visible=!0):e.bNoteObject==m.GAME_BET_AREA.LUCK&&(this.luckSelfBetScore+=this.chipList[e.bChipIndex],this.selfBetAreaScore.set(2,this.luckSelfBetScore),this.LuckMoneyBg.visible=!0),this.selfMoney-=this.chipList[e.bChipIndex],this.UpdateMoney()),e.bNoteObject==m.GAME_BET_AREA.BLACK?this.blackTotalBetScore+=this.chipList[e.bChipIndex]:e.bNoteObject==m.GAME_BET_AREA.RED?this.redTotalBetScore+=this.chipList[e.bChipIndex]:e.bNoteObject==m.GAME_BET_AREA.LUCK&&(this.luckTotalBetScore+=this.chipList[e.bChipIndex]),this.BlcakBetTotal.text=f.GameTool.formatMoneyString(this.blackTotalBetScore),this.BlackMoneyLabel.text=f.GameTool.formatMoneyString(this.blackSelfBetScore),this.RedBetTotal.text=f.GameTool.formatMoneyString(this.redTotalBetScore),this.RedMoneyLabel.text=f.GameTool.formatMoneyString(this.redSelfBetScore),this.LuckBetTotalLabel.text=f.GameTool.formatMoneyString(this.luckTotalBetScore),this.LuckMoneyLabel.text=f.GameTool.formatMoneyString(this.luckSelfBetScore);var t=this.GetBetInitPos(e.bDeskStation,e.bNoteObject);this.ChipPool.MoveToArea(t,e.bNoteObject,this.chipList[e.bChipIndex])}else u.default.SetText(p.ConfigMng.getTips("red_black"+e.bErrorCode.toString()))},t.prototype.GameRepeatBet=function(e){this.isPlacedBet=!0;for(var t=0,n=0;n<3;n++)e.AreaNoteMoney[n]>0&&(n==m.GAME_BET_AREA.BLACK?(this.blackSelfBetScore+=e.AreaNoteMoney[n],this.selfBetAreaScore.set(0,this.blackSelfBetScore),this.BlackMoneyBg.visible=!0,this.blackTotalBetScore+=e.AreaNoteMoney[n]):n==m.GAME_BET_AREA.RED?(this.redSelfBetScore+=e.AreaNoteMoney[n],this.selfBetAreaScore.set(1,this.redSelfBetScore),this.RedMoneyBg.visible=!0,this.redTotalBetScore+=e.AreaNoteMoney[n]):n==m.GAME_BET_AREA.LUCK&&(this.luckSelfBetScore+=e.AreaNoteMoney[n],this.selfBetAreaScore.set(2,this.luckSelfBetScore),this.LuckMoneyBg.visible=!0,this.luckTotalBetScore+=e.AreaNoteMoney[n]),t+=e.AreaNoteMoney[n]);this.selfMoney-=t,this.UpdateMoney(),this.ChipPool.GameEndMoveToWinningArea(this.selfBetAreaScore,this.SelfHead.localToGlobal(new v.Laya.Point(this.SelfHead.x,this.SelfHead.y)))},t.prototype.GameEnd=function(e){var t=this;this.StartCountdown(this.gameEndTime),this.Showdown.visible=!1,this.IdleOrBetTime.visible=!0,this.IdleOrBetTime.skin="resources/games/game11100/res/Image/Game/UI_RedBlack_Station_Waiting.png";var n=new S;n.Result=e.cbRedBlackOpenCard,n.CardType=e.cbCardType[e.cbRedBlackOpenCard],this.gameRecordList.push(n),this.RefreshRecord(),this.GameRecordPanel.RefreshRecord(this.gameRecordList),this.BlackResultBg.visible=!0,this.RedResultBg.visible=!0,this.BlackWinLight.visible=0==e.cbRedBlackOpenCard,this.RedWinLight.visible=1==e.cbRedBlackOpenCard,this.LuckWinlight.visible=1==e.cbLuckPrize,this.PlayAreaEndAnim(e.cbRedBlackOpenCard,1==e.cbLuckPrize),this.BlackResultImg.skin=m.GameConstant11100.LoseCardType.get(e.cbCardType[0]-1),this.RedResultImg.skin=m.GameConstant11100.LoseCardType.get(e.cbCardType[1]-1),e.cbRedBlackOpenCard==m.GAME_BET_AREA.BLACK?this.BlackResultImg.skin=m.GameConstant11100.WinCardType.get(e.cbCardType[0]-1):this.RedResultImg.skin=m.GameConstant11100.WinCardType.get(e.cbCardType[1]-1);var o=[],i=[],a=new Map;1==e.cbLuckPrize?(i.push(2),a.set(2,this.luckTotalBetScore)):o.push(2),0==e.cbRedBlackOpenCard?(o.push(1),i.push(0),a.set(0,this.blackTotalBetScore)):(o.push(0),i.push(1),a.set(1,this.redTotalBetScore)),this.previousBetTotal=this.blackSelfBetScore+this.redSelfBetScore+this.luckSelfBetScore,this.executeSequentiallyGameEnd([function(){return t.ChipPool.GameEndMoveToDealer(o)},function(){return t.ChipPool.GameEndMoveToWinningArea(a)},function(){return t.ChipMoveToPlayer(e)}])},t.prototype.executeSequentiallyGameEnd=function(e){return r(this,void 0,Promise,function(){var t,n;return s(this,function(o){switch(o.label){case 0:t=0,n=e,o.label=1;case 1:return t<n.length?[4,(0,n[t])()]:[3,4];case 2:o.sent(),o.label=3;case 3:return t++,[3,1];case 4:return[2]}})})},t.prototype.PlayAreaEndAnim=function(e,t){var n=this,o=0==e?this.BlackWinLight:this.RedWinLight;this.nowGameState==m.GAME_STATUS_E.END?1==o.alpha?(t&&v.Laya.Tween.to(this.LuckWinlight,{alpha:.2},300,v.Laya.Ease.linearIn,v.Laya.Handler.create(this,function(){o.alpha=.2})),v.Laya.Tween.to(o,{alpha:.2},300,v.Laya.Ease.linearIn,v.Laya.Handler.create(this,function(){o.alpha=.2,n.PlayAreaEndAnim(e,t)}))):(t&&v.Laya.Tween.to(this.LuckWinlight,{alpha:1},300,v.Laya.Ease.linearIn,v.Laya.Handler.create(this,function(){o.alpha=1})),v.Laya.Tween.to(o,{alpha:1},300,v.Laya.Ease.linearIn,v.Laya.Handler.create(this,function(){o.alpha=1,n.PlayAreaEndAnim(e,t)}))):(o.alpha=1,o.visible=!1)},t.prototype.RefreshRecord=function(){this.RecordColorList.array=[],this.RecordCardList.array=[];var e=this.gameRecordList.length;if(e>15){for(var t=e-15;t<this.gameRecordList.length;t++){var n=0==this.gameRecordList[t].Result?"resources/games/game11100/res/Image/Game/UI_RedBlack_HistoryBlack.png":"resources/games/game11100/res/Image/Game/UI_RedBlack_HistoryRed.png";this.RecordColorList.addItem({RecordItem:{skin:n}})}this.RecordColorList.repeatX=15}if(e>5){for(t=e-5;t<this.gameRecordList.length;t++)this.RecordCardList.addItem({RecordItem:{skin:"resources/games/game11100/res/Image/Game/UI_RedBlack_LDbox_Black.png"},Result:{skin:m.GameConstant11100.LoseCardType.get(this.gameRecordList[t].CardType-1)}});this.RecordCardList.repeatX=5}},t.prototype.RefreshDeskUser=function(e,t){if(void 0===t&&(t=!1),t)for(var n=0;n<this.roomUserList.length;n++)if(this.roomUserList[n].dwUserID==e.dwUserID){this.roomUserList.splice(n);break}for(n=0;n<this.roomUserList.length;n++)this.roomUserList[n].dwUserID==e.dwUserID&&(this.roomUserList[n]=e);for(this.roomUserList=this.roomUserList.sort(function(e,t){return e.dwMoney.toNumber()-t.dwMoney.toNumber()}),n=0;n<this.roomUserList.length&&n<m.GameConstant11100.MAX_OCCUPY_SEAT_COUNT;n++){var o=new m.ChairInfo;o.bDeskStation=this.roomUserList[n].bDeskStation,o.bLogoID=this.roomUserList[n].bLogoID,o.nickName=this.roomUserList[n].nickName,this.chairList[n].RefreshChair(o)}},t.prototype.GameAreaBetInfo=function(){},t.prototype.SendCard=function(){for(var e=0,t=this.blackOneCardPos,n=0;n<this.blackCardImg.length;n++){var o=this.blackCardImg[n];v.Laya.Tween.to(o,{x:t},200,v.Laya.Ease.linearInOut,null,e),e+=400,t+=this.cardSpacing}var i=200,a=this.redOneCardPos;for(n=0;n<this.redCardImg.length;n++){var r=this.redCardImg[n];v.Laya.Tween.to(r,{x:a},200,v.Laya.Ease.linearInOut,null,i),i+=400,a-=this.cardSpacing}},t.prototype.OpenCard=function(){for(var e=this,t=0,n=function(n){var i=o.blackCardImg[n],a=n;v.Laya.Tween.to(i,{scaleX:0},100,v.Laya.Ease.linearInOut,v.Laya.Handler.create(o,function(){var t=e.GetCardSkin(e.blackCardResultList[a]);i.skin="resources/games/game11100/res/Image/Card/"+t+".png",v.Laya.Tween.to(i,{scaleX:1},100,v.Laya.Ease.linearInOut)}),t),t+=400},o=this,i=0;i<this.blackCardImg.length;i++)n(i);var a=function(n){var o=r.redCardImg[n],i=n;v.Laya.Tween.to(o,{scaleX:0},100,v.Laya.Ease.linearInOut,v.Laya.Handler.create(r,function(){var t=e.GetCardSkin(e.redCardResultList[i]);o.skin="resources/games/game11100/res/Image/Card/"+t+".png",v.Laya.Tween.to(o,{scaleX:1},100,v.Laya.Ease.linearInOut)}),t),t+=400},r=this;for(i=0;i<this.redCardImg.length;i++)a(i)},t.prototype.UpdateMoney=function(){this.SelfMoney.text=f.GameTool.formatMoneyString(this.selfMoney)},t.prototype.RefreshChipState=function(){this.SelectChipList.array=[];for(var e=0;e<this.chipList.length;e++){var t=this.selectChipIndex==e?"resources/games/game11100/res/Image/Game/UI_BT_Xiazhu_3.png":"resources/games/game11100/res/Image/Game/UI_BT_Xiazhu_1.png";this.SelectChipList.addItem({ChipImg:{skin:t},ChipLabel:{text:f.GameTool.formatMoneyString2(this.chipList[e])}})}this.SelectChipList.repeatX=m.GameConstant11100.MAX_CHIP_COUNT},t.prototype.OnSelectChip=function(e){if(this.selectChipIndex!=e){for(var t=0;t<this.SelectChipList.length;t++){var n=this.SelectChipList.getCell(t).getChildByName("ChipImg");n.scale(1,1),n.skin="resources/games/game11100/res/Image/Game/UI_BT_Xiazhu_1.png"}var o=this.SelectChipList.getCell(e);this.selectChipIndex=e;var i=o.getChildByName("ChipImg");i.scale(1.05,1.05),i.skin="resources/games/game11100/res/Image/Game/UI_BT_Xiazhu_3.png"}},t.prototype.OnClickAreaBet=function(e){-1!=this.selectChipIndex?this.nowGameState==m.GAME_STATUS_E.BET?this.chipList[this.selectChipIndex]>this.selfMoney?g.HallEvent.event(g.HallEvent.SHOW_RECHARGE_TIP):_.GameMsgHandler11100.Instance.GameBetRequest(c.default.myUserRoomInfo.pUserInfoStruct.bDeskStation,this.selectChipIndex,e):u.default.SetText(p.ConfigMng.getTips(h.Define.TIPS.WAIT_BET_TIME)):u.default.SetText(p.ConfigMng.getTips(h.Define.TIPS.PLEASE_SELECT_CHIP))},t.prototype.OnClickRepeatBet=function(){this.previousBetTotal>this.selfMoney&&g.HallEvent.event(g.HallEvent.SHOW_RECHARGE_TIP),this.isPlacedBet||_.GameMsgHandler11100.Instance.GameRepeatBetRequest()},t.prototype.StartCountdown=function(e){e<=0||(this.repeatCountTotal=e-1,this.repeatCountTotal<=0&&(this.repeatCountTotal=0),this.WaitingGameStart.visible&&(this.WaitTimeLabel.text=this.repeatCountTotal.toString()),this.StateTimeLabel.text=this.repeatCountTotal.toString(),v.Laya.timer.loop(1e3,this,this.CountdownCallBack))},t.prototype.CountdownCallBack=function(){this.repeatCountTotal--,this.repeatCountTotal<=0&&(this.repeatCountTotal=0,this.WaitingGameStart.visible=!1,v.Laya.timer.clear(this,this.CountdownCallBack)),this.WaitingGameStart.visible&&(this.WaitTimeLabel.text=this.repeatCountTotal.toString()),this.StateTimeLabel.text=this.repeatCountTotal.toString()},t.prototype.GetCardSkin=function(e){if(e<=0)return"0_0";var t=240&e,n=15&e;return 14==(n+=1)&&(n=1),(t=t/16+1).toString()+"_"+n.toString()},t.prototype.GetBetInitPos=function(e){if(e==c.default.myUserRoomInfo.pUserInfoStruct.bDeskStation)return this.SelfHead.localToGlobal(new v.Laya.Point(this.SelfHead.x,this.SelfHead.y));for(var t=0;t<this.chairList.length;t++)if(this.chairList[t].DeskStation==e)return this.chairList[t].GetChipInitPos();return this.OtherPlayer.localToGlobal(new v.Laya.Point(this.OtherPlayer.x,this.OtherPlayer.y))},t.prototype.OnClickMenu=function(){this.isPlayEnd?(v.Laya.Tween.to(this.MenuPanel,{scaleY:1},100),this.isPlayEnd=!1):(v.Laya.Tween.to(this.MenuPanel,{scaleY:0},100),this.isPlayEnd=!0)},t.prototype.OnOpenSetPanel=function(){this.SetingPanel.visible=!0},t.prototype.OnCloseSetPanel=function(){this.SetingPanel.visible=!1},t.prototype.OnMusicAudio=function(){this.MusicToggle.selected?v.Laya.SoundManager.playMusic(m.GameConstant11100.SOUND_GameSceneBGM,0):v.Laya.SoundManager.stopMusic()},t.prototype.OnEffectAudio=function(){this.SoundToggle.selected?d.LocalTempData.setSoundVolume(1):(d.LocalTempData.setSoundVolume(0),v.Laya.SoundManager.stopAllSound())},t.prototype.OnOpenRulePanel=function(){this.RulePanel.visible=!0},t.prototype.OnCloseRulePanel=function(){this.RulePanel.visible=!1},t.prototype.OnOpenRecordPanel=function(){this.RecordPanel.visible=!0},t.prototype.OnCloseRecordPanel=function(){this.RecordPanel.visible=!1},t.prototype.OnClickExit=function(){this.blackSelfBetScore>0||this.redSelfBetScore>0||this.luckSelfBetScore>0?u.default.SetText(p.ConfigMng.getTips(h.Define.TIPS.CANNOT_EXIT_GAME)):(this.close(),this.destroy())},t.prototype.onClosed=function(){_.GameMsgHandler11100.Instance.Destroy(),v.Laya.timer.clearAll(this),v.Laya.Tween.clearAll(this),g.HallEvent.event(g.HallEvent.GO_BACK_TO_HALL),this.ChipPool.OnDestroy()},a([b()],t)}(y.GameMainBase11100);n.GameMain11100=C,cc._RF.pop()},{"../../halls/hall/BaseRoom":"BaseRoom","../../halls/hall/Tips":"Tips","../../halls/halllib/common/ConfigMng":"ConfigMng","../../halls/halllib/common/Define":"Define","../../halls/halllib/core/HallData":"HallData","../../halls/halllib/core/RunData":"RunData","../../halls/halllib/laya/Laya":"Laya","../../halls/halllib/net/InnerEvent":"InnerEvent","./GameConstant11100":"GameConstant11100","./GameMain11100.generated":"GameMain11100.generated","./GameMsgHandler11100":"GameMsgHandler11100"}],"GameMain30200.generated":[function(e,t,n){"use strict";cc._RF.push(t,"2730fUeTr1NdrlaCm0N+SW+","GameMain30200.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.GameMainBase30200=void 0;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ButtonBet=null,t.TimeObj=null,t.LabelTime=null,t.ButtonBack=null,t.ButtonSet=null,t.ButtonHelp=null,t.CheckBoxMenu=null,t.PanelChunYu=null,t.PanelDSY=null,t.PanelDSX=null,t.LabelLost=null,t.LabelWin=null,t}return i(t,e),t}(e("../../halls/halllib/laya/Laya").Laya.Scene);n.GameMainBase30200=a,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya"}],GameMain30200:[function(e,t,n){"use strict";cc._RF.push(t,"df6c0jw2cZF37KKuM4L8SaE","GameMain30200");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.GameMain30200=void 0;var c=e("../../halls/halllib/laya/Laya"),u=c.Laya.regClass,p=(c.Laya.property,e("./GameMain30200.generated")),h=e("./GameMsgProxy30200"),d=c.Laya.Handler,f=e("./GameNetProto30200"),g=e("./GameTowerMg30200"),m=e("./GameMenuPanel30200"),y=e("./GameBetPanel30200"),_=l(e("../../halls/hall/Tips")),v=e("../../halls/halllib/net/InnerEvent"),b=e("./GameData30200"),S=e("./GameHelpPanel30200"),C=e("./GameHistory30200"),I=e("./GameBasePanel30200"),R=e("./GameSettlement30200"),L=e("./SoundManager30200"),P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.timesDo=0,t}return i(t,e),t.prototype.onAwake=function(){this.PanelStartBet=this.getChildByName("PanelStartBet").getComponent(I.GameBasePanel30200),this.PanelStopBet=this.getChildByName("PanelStopBet").getComponent(I.GameBasePanel30200),this.CheckBoxMenu.on(c.Laya.Event.CLICK,this,this.onCheckBoxMenu),this.ButtonHelp.on(c.Laya.Event.CLICK,this,this.onButtonHelp),this.ButtonBet.on(c.Laya.Event.CLICK,this,this.onButtonBet),this.ButtonBack.on(c.Laya.Event.CLICK,this,this.onButtonBack),this.initGameData()},t.prototype.onCheckBoxMenu=function(){this.CheckBoxMenu.selected?m.GameMenuPanel30200.Instance.Show():m.GameMenuPanel30200.Instance.Hide()},t.prototype.onButtonHelp=function(){S.GameHelpPanel30200.Instance.Show()},t.prototype.onButtonBet=function(){y.GameBetPanel30200.Instance.IsShow?y.GameBetPanel30200.Instance.Hide():y.GameBetPanel30200.Instance.Show()},t.prototype.onButtonBack=function(){y.GameBetPanel30200.Instance.myTotalNote>0&&b.GameData30200.GameState==f.GameNetProto30200.GameState.STATE_NOTE?_.default.SetWarnText("You have already placed your bet,\n please do not exit the game!"):(this.close(),this.destroy())},t.prototype.onClosed=function(){h.GameMsgProxy30200.Instance.Destroy(),c.Laya.timer.clearAll(this),c.Laya.timer.clearAll(g.GameTowerMg30200.Instance),v.HallEvent.event(v.HallEvent.GO_BACK_TO_HALL)},t.prototype.initGameData=function(){h.GameMsgProxy30200.Instance.Init(),h.GameMsgProxy30200.Instance.GameStationHandler=new d(this,this.gameStation),h.GameMsgProxy30200.Instance.GameNoteHandler=new d(this,this.gameStartBet),h.GameMsgProxy30200.Instance.GameOpenPrizeHandler=new d(this,this.gameOpenPrize),h.GameMsgProxy30200.Instance.GameCurrOverHandler=new d(this,this.gameCurrOver)},t.prototype.gameStation=function(e,t){switch(b.GameData30200.Prizemultiple=e.Base,g.GameTowerMg30200.Instance.ResetAnimalAndColor(e.byAnimal,e.byColor),C.GameHistory30200.Instance.InitHist(e.stRecord,e.byRecordCount),R.GameSettlement30200.Instance.Hide(),e.bStation){case 20:L.SoundManager30200.Instance.PlayMusicById(10,0),this.StartTimeDown(e.iLeaveTime),b.GameData30200.GameState=f.GameNetProto30200.GameState.STATE_NOTE;var n=f.GameNetProto30200.CMD_GM_Station_Note.ReadFrom(t);y.GameBetPanel30200.Instance.InitData(e.Chips,e.Base,n.TotalBet,n.MyBet),y.GameBetPanel30200.Instance.Show();break;case 21:L.SoundManager30200.Instance.PlayMusicById(11,0),b.GameData30200.GameState=f.GameNetProto30200.GameState.STATE_OPENPRIZE,n=f.GameNetProto30200.CMD_GM_Station_Note.ReadFrom(t);var o=f.GameNetProto30200.CMD_GM_Station_OpenPrize.ReadFrom(t);y.GameBetPanel30200.Instance.InitData(e.Chips,e.Base,n.TotalBet,n.MyBet),g.GameTowerMg30200.Instance.GameOpenPrize(o),this.StopTimeDown();break;case 22:L.SoundManager30200.Instance.PlayMusicById(10,0),b.GameData30200.GameState=f.GameNetProto30200.GameState.STATE_ACCONT,n=f.GameNetProto30200.CMD_GM_Station_Note.ReadFrom(t);var i=f.GameNetProto30200.CMD_GM_Station_Account.ReadFrom(t);y.GameBetPanel30200.Instance.InitData(e.Chips,e.Base,n.TotalBet,n.MyBet),this.StopTimeDown(),R.GameSettlement30200.Instance.OpenPrize(i);break;default:L.SoundManager30200.Instance.PlayMusicById(10,0),b.GameData30200.GameState=f.GameNetProto30200.GameState.STATE_NONE,y.GameBetPanel30200.Instance.InitData(e.Chips,e.Base),this.StopTimeDown()}},t.prototype.gameStartBet=function(e){var t=this;L.SoundManager30200.Instance.PlaySoundById(12,1),L.SoundManager30200.Instance.PlayMusicById(10,0),b.GameData30200.Prizemultiple=e.Base,g.GameTowerMg30200.Instance.ResetAnimalAndColor(e.byAnimal,e.byColor),R.GameSettlement30200.Instance.Hide(),this.StartTimeDown(e.nLeave),this.PanelStartBet.Show(),y.GameBetPanel30200.Instance.ReSetStartBet(),this.timer.once(1500,this,function(){t.PanelStartBet.Hide(),y.GameBetPanel30200.Instance.Show()})},t.prototype.gameOpenPrize=function(e){return r(this,void 0,void 0,function(){var t,n,o;return s(this,function(i){switch(i.label){case 0:return y.GameBetPanel30200.Instance.Hide(),t=11,this.PanelStopBet.Show(),[4,this.waitTimes(1500)];case 1:i.sent(),e.iLeaveTime-=1500,this.PanelStopBet.Hide(),n=[],e.nChunYuBase>1&&(e.iLeaveTime-=1500,t=7,n.push(this.showBitPrize(this.PanelChunYu))),e.nAnimalLight>=0&&(e.iLeaveTime-=1500,t=8,n.push(this.showBitPrize(this.PanelDSY))),e.nColorLight>=0&&(e.iLeaveTime-=1500,t=9,n.push(this.showBitPrize(this.PanelDSX))),L.SoundManager30200.Instance.PlayMusicById(t,0),o=0,i.label=2;case 2:return o<n.length?[4,n[o]]:[3,5];case 3:i.sent(),i.label=4;case 4:return o++,[3,2];case 5:return g.GameTowerMg30200.Instance.GameOpenPrize(e),[2]}})})},t.prototype.showBitPrize=function(e){return r(this,void 0,Promise,function(){var t=this;return s(this,function(){return[2,new Promise(function(n){c.Laya.Tween.to(e,{alpha:1},200),t.timer.once(1e3,t,function(){c.Laya.Tween.to(e,{alpha:0},200,function(){n(!0)})})})]})})},t.prototype.waitTimes=function(e){return r(this,void 0,Promise,function(){var t=this;return s(this,function(){return[2,new Promise(function(n){t.timer.once(e,t,function(){n(!0)})})]})})},t.prototype.gameCurrOver=function(e){return r(this,void 0,void 0,function(){return s(this,function(){return b.GameData30200.MyMoney=e.nUserMoney,L.SoundManager30200.Instance.PlayMusicById(13,1),R.GameSettlement30200.Instance.OpenPrize(e),y.GameBetPanel30200.Instance.myTotalNote=0,y.GameBetPanel30200.Instance.FlashMyMoney(),[2]})})},t.prototype.StartTimeDown=function(e){this.timesDo=e;var t=Math.ceil(e/1e3);this.LabelTime.value=t>=10?t.toString():"0"+t.toString(),this.TimeObj.visible=!0,this.clearTimer(this,this.TimeDownFunc);var n=e/1e3;n=n>0?n:1e3,this.timerOnce(n,this,this.TimeDownFunc,[n])},t.prototype.TimeDownFunc=function(e){this.timesDo-=e;var t=Math.floor(this.timesDo/1e3);this.LabelTime.value=t>=10?t.toString():"0"+t.toString(),this.timesDo<=0?this.TimeObj.visible=!1:(this.timerOnce(1e3,this,this.TimeDownFunc,[1e3]),Math.floor(this.timesDo/1e3)<=3&&L.SoundManager30200.Instance.PlaySoundById(6,1))},t.prototype.StopTimeDown=function(){this.timesDo=0,this.TimeObj.visible=!1,this.clearTimer(this,this.TimeDownFunc)},a([u()],t)}(p.GameMainBase30200);n.GameMain30200=P,cc._RF.pop()},{"../../halls/hall/Tips":"Tips","../../halls/halllib/laya/Laya":"Laya","../../halls/halllib/net/InnerEvent":"InnerEvent","./GameBasePanel30200":"GameBasePanel30200","./GameBetPanel30200":"GameBetPanel30200","./GameData30200":"GameData30200","./GameHelpPanel30200":"GameHelpPanel30200","./GameHistory30200":"GameHistory30200","./GameMain30200.generated":"GameMain30200.generated","./GameMenuPanel30200":"GameMenuPanel30200","./GameMsgProxy30200":"GameMsgProxy30200","./GameNetProto30200":"GameNetProto30200","./GameSettlement30200":"GameSettlement30200","./GameTowerMg30200":"GameTowerMg30200","./SoundManager30200":"SoundManager30200"}],"GameMain30300.generated":[function(e,t,n){"use strict";cc._RF.push(t,"4d978HP6ZZLDZLclDsb8fyc","GameMain30300.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.GameMainBase30300=void 0;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ImageType1=null,t.ImageType2=null,t.ImageType3=null,t.PanelWait=null,t.TimeObj=null,t.LabelTime=null,t.ButtonQuit=null,t.TimeObj2=null,t.LabelTime2=null,t.ButtonBack=null,t.ButtonSet=null,t.ButtonHelp=null,t.ButtonBet=null,t.CheckBoxMenu=null,t}return i(t,e),t}(e("../../halls/halllib/laya/Laya").Laya.Scene);n.GameMainBase30300=a,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya"}],GameMain30300:[function(e,t,n){"use strict";cc._RF.push(t,"13f64uh56pDnJ2H541e7tpD","GameMain30300");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.GameMain30300=void 0;var s=e("../../halls/halllib/laya/Laya"),l=e("./GameBetPanel30300"),c=e("./GameHelpPanel30300"),u=e("./GameMain30300.generated"),p=e("./GameMsgProxy30300"),h=e("./GameMenuPanel30300"),d=e("./GameNetProto30300"),f=s.Laya.Handler,g=e("./GameRunPanel30300"),m=e("./GameSettlement30300"),y=e("./GameHistory30300"),_=e("../../halls/halllib/net/InnerEvent"),v=e("./GameData30300"),b=e("./SoundManager30300"),S=r(e("../../halls/hall/Tips")),C=e("../../halls/halllib/common/LogBase"),I=s.Laya.regClass,R=(s.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.timesDo=0,t}var n;return i(t,e),n=t,t.prototype.onAwake=function(){n.Instance=this,this.CheckBoxMenu.on(s.Laya.Event.CLICK,this,this.onCheckBoxMenu),this.ButtonHelp.on(s.Laya.Event.CLICK,this,this.onButtonHelp),this.ButtonBet.on(s.Laya.Event.CLICK,this,this.onButtonBet),this.ButtonBack.on(s.Laya.Event.CLICK,this,this.onButtonBack),this.ButtonQuit.on(s.Laya.Event.CLICK,this,this.onButtonBack),this.initGameData(),b.SoundManager30300.Instance.PlayMusicById(1,0)},t.prototype.onCheckBoxMenu=function(){this.CheckBoxMenu.selected?h.GameMenuPanel30300.Instance.Show():h.GameMenuPanel30300.Instance.Hide()},t.prototype.onButtonHelp=function(){c.GameHelpPanel30300.Instance.Show()},t.prototype.onButtonBet=function(){l.GameBetPanel30300.Instance.IsShow?l.GameBetPanel30300.Instance.Hide():l.GameBetPanel30300.Instance.Show()},t.prototype.onButtonBack=function(){l.GameBetPanel30300.Instance.myTotalNote>0&&(v.GameData30300.GameState==d.GameNetProto30300.GameState.STATE_NOTE||g.GameRunPanel30300.Instance.startRun)?S.default.SetWarnText("You have already placed your bet,\n please do not exit the game!"):(this.close(),this.destroy())},t.prototype.onClosed=function(){p.GameMsgProxy30300.Instance.Destroy(),s.Laya.timer.clearAll(this),_.HallEvent.event(_.HallEvent.GO_BACK_TO_HALL)},t.prototype.initGameData=function(){p.GameMsgProxy30300.Instance.Init(),p.GameMsgProxy30300.Instance.GameStationHandler=new f(this,this.gameStation),p.GameMsgProxy30300.Instance.GameStateUpdateHandler=new f(this,this.gameStateUpdate)},t.prototype.gameStation=function(e,t){var n,o=this;C.LogBase.log("====>>>>msg.iTick:"+e.iTick),C.LogBase.log("====>>>>msg.iLeftTick:"+e.iLeftTick),v.GameData30300.GameState=e.bStation,e.bStation==d.GameNetProto30300.GameState.STATE_NOTE?(n=d.GameNetProto30300.CMD_GM_Station_Note.ReadFrom(t),this.station_Note(e,n),l.GameBetPanel30300.Instance.InitData(e.iCanSelectNotes,e.iNotePoint,n.AreaNotes,n.SelfAreaNotes,n.SelfTotalNotes),m.GameSettlement30300.Instance.Hide(),y.GameHistory30300.Instance.InitHist(n.mRecordData,n.mCurRecordIndex),g.GameRunPanel30300.Instance.ShowOpenAni(n.PrePrizeIndex)):e.bStation==d.GameNetProto30300.GameState.STATE_OPENPRIZE?(n=d.GameNetProto30300.CMD_GM_Station_OpenPrize.ReadFrom(t),this.Station_OpenPrize(n),l.GameBetPanel30300.Instance.InitData(e.iCanSelectNotes,e.iNotePoint,n.AreaNotes,n.SelfAreaNotes,n.SelfTotalNotes),m.GameSettlement30300.Instance.OpenIndex=n.PrePrizeIndex,this.PanelWait.visible=!0,this.timerOnce(e.iLeftTick,this,function(){o.PanelWait.visible=!1}),y.GameHistory30300.Instance.InitHist(n.mRecordData,n.mCurRecordIndex)):e.bStation==d.GameNetProto30300.GameState.STATE_ACCONT?(n=d.GameNetProto30300.CMD_GM_Station_Settlement.ReadFrom(t),this.Station_Settlement(n),l.GameBetPanel30300.Instance.InitData(e.iCanSelectNotes,e.iNotePoint,n.AreaNotes,n.SelfAreaNotes,n.SelfTotalNotes),m.GameSettlement30300.Instance.ShowPrize(n.PrePrizeIndex,e.iWinLose),g.GameRunPanel30300.Instance.ShowOpenAni(n.PrePrizeIndex),y.GameHistory30300.Instance.InitHist(n.mRecordData,n.mCurRecordIndex)):(n=d.GameNetProto30300.CMD_GM_Station_Wait.ReadFrom(t),this.Station_Wait(n),l.GameBetPanel30300.Instance.InitData(e.iCanSelectNotes,e.iNotePoint),m.GameSettlement30300.Instance.Hide(),y.GameHistory30300.Instance.InitHist(n.mRecordData,n.mCurRecordIndex))},t.prototype.station_Note=function(e){l.GameBetPanel30300.Instance.IsShow||l.GameBetPanel30300.Instance.Show(),this.StartTimeDown(e.iLeftTick)},t.prototype.Station_OpenPrize=function(){l.GameBetPanel30300.Instance.IsShow&&l.GameBetPanel30300.Instance.Hide(),this.StopTimeDown()},t.prototype.Station_Settlement=function(){l.GameBetPanel30300.Instance.IsShow&&l.GameBetPanel30300.Instance.Hide(),this.StopTimeDown()},t.prototype.Station_Wait=function(){l.GameBetPanel30300.Instance.IsShow&&l.GameBetPanel30300.Instance.Hide(),this.StopTimeDown()},t.prototype.StartTimeDown=function(e){this.timesDo=e,this.LabelTime.text=Math.ceil(e/1e3).toString(),this.LabelTime2.text=Math.ceil(e/1e3).toString(),this.TimeObj.visible=!0,this.TimeObj2.visible=!0,this.clearTimer(this,this.TimeDownFunc);var t=e/1e3;t=t>0?t:1e3,this.timerOnce(t,this,this.TimeDownFunc,[t])},t.prototype.TimeDownFunc=function(e){this.timesDo-=e,this.LabelTime.text=Math.floor(this.timesDo/1e3).toString(),this.LabelTime2.text=Math.floor(this.timesDo/1e3).toString(),this.timesDo<=0?(this.TimeObj.visible=!1,this.TimeObj2.visible=!1):this.timerOnce(1e3,this,this.TimeDownFunc,[1e3])},t.prototype.StopTimeDown=function(){this.timesDo=0,this.TimeObj.visible=!1,this.TimeObj2.visible=!1,this.clearTimer(this,this.TimeDownFunc)},t.prototype.gameStateUpdate=function(e,t){if(v.GameData30300.GameState=e.iState,e.iState==d.GameNetProto30300.GameState.STATE_NOTE)l.GameBetPanel30300.Instance.IsShow||l.GameBetPanel30300.Instance.Show(),this.StartTimeDown(e.Tick),l.GameBetPanel30300.Instance.ReSetStartBet(),m.GameSettlement30300.Instance.Hide();else if(e.iState==d.GameNetProto30300.GameState.STATE_OPENPRIZE){l.GameBetPanel30300.Instance.IsShow&&l.GameBetPanel30300.Instance.Hide(),this.StopTimeDown();var n=d.GameNetProto30300.CMD_GM_StateUpdate_OpenPrize.ReadFrom(t);g.GameRunPanel30300.Instance.OnPlayRun(n.PrizeIndex)}else if(e.iState==d.GameNetProto30300.GameState.STATE_ACCONT){l.GameBetPanel30300.Instance.IsShow&&l.GameBetPanel30300.Instance.Hide(),this.StopTimeDown();var o=d.GameNetProto30300.CMD_GM_StateUpdate_Settlement.ReadFrom(t);m.GameSettlement30300.Instance.ShowWin(o.WinLoseMoney),l.GameBetPanel30300.Instance.FlashMyMoney()}},t.prototype.onDestroy=function(){},n=a([I()],t)}(u.GameMainBase30300));n.GameMain30300=R,cc._RF.pop()},{"../../halls/hall/Tips":"Tips","../../halls/halllib/common/LogBase":"LogBase","../../halls/halllib/laya/Laya":"Laya","../../halls/halllib/net/InnerEvent":"InnerEvent","./GameBetPanel30300":"GameBetPanel30300","./GameData30300":"GameData30300","./GameHelpPanel30300":"GameHelpPanel30300","./GameHistory30300":"GameHistory30300","./GameMain30300.generated":"GameMain30300.generated","./GameMenuPanel30300":"GameMenuPanel30300","./GameMsgProxy30300":"GameMsgProxy30300","./GameNetProto30300":"GameNetProto30300","./GameRunPanel30300":"GameRunPanel30300","./GameSettlement30300":"GameSettlement30300","./SoundManager30300":"SoundManager30300"}],"GameMain30700.generated":[function(e,t,n){"use strict";cc._RF.push(t,"30692ECWeJNXYPxGEMVbAsG","GameMain30700.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.GameMainBase30700=void 0;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.TimeObj=null,t.LabelTime=null,t.TimeObj_1=null,t.TimeObj_2=null,t.LabelAllBet=null,t.LabelMyBet=null,t.ButtonBack=null,t.CheckBoxMenu=null,t.PanelBelow=null,t.LabelName=null,t.LabelMoney=null,t.BtnContinueBet=null,t.PanelWait=null,t.PanelStartBet=null,t.PanelStopBet=null,t.ButtonHelp=null,t}return i(t,e),t}(e("../../halls/halllib/laya/Laya").Laya.Scene);n.GameMainBase30700=a,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya"}],GameMain30700:[function(e,t,n){"use strict";cc._RF.push(t,"44eb0H9hGFJLq0AYb/2p3cm","GameMain30700");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.GameMain30700=void 0;var s=e("../../halls/halllib/laya/Laya"),l=e("./GameMain30700.generated"),c=e("./GameMenuPanel30700"),u=e("./GameMsgProxy30700"),p=s.Laya.Handler,h=e("./SoundManager30700"),d=e("./GameData30700"),f=e("./GameNetProto30700"),g=e("./GameBetPanel30700"),m=e("./GameRunPanel30700"),y=e("./GameHistory30700"),_=r(e("../../halls/hall/Tips")),v=e("../../halls/halllib/net/InnerEvent"),b=e("./GameSettlement30700"),S=e("./GamePanelStopBet30700"),C=e("./GamePanelStartBet30700"),I=e("./SpriteChouMa30700"),R=s.Laya.regClass,L=(s.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.timesDo=0,t}var n;return i(t,e),n=t,t.prototype.onAwake=function(){n.Instance=this,this.CheckBoxMenu.on(s.Laya.Event.CLICK,this,this.onCheckBoxMenu),this.ButtonBack.on(s.Laya.Event.CLICK,this,this.onButtonBack),this.initGameData(),h.SoundManager30700.Instance.PlayMusicById(0,0)},t.prototype.onCheckBoxMenu=function(){this.CheckBoxMenu.selected?c.GameMenuPanel30700.Instance.Show():c.GameMenuPanel30700.Instance.Hide()},t.prototype.onButtonBack=function(){g.GameBetPanel30700.Instance.MyTotalNote>0&&(d.GameData30700.GameState==f.GameNetProto30700.GameState.STATE_NOTE||m.GameRunPanel30700.Instance.startRun)?_.default.SetWarnText("You have already placed your bet,\n please do not exit the game!"):(this.close(),this.destroy())},t.prototype.onClosed=function(){u.GameMsgProxy30700.Instance.Destroy(),s.Laya.timer.clearAll(this),I.SpriteChouMa30700.Destory(),v.HallEvent.event(v.HallEvent.GO_BACK_TO_HALL)},t.prototype.initGameData=function(){u.GameMsgProxy30700.Instance.Init(),u.GameMsgProxy30700.Instance.GameStationHandler=new p(this,this.gameStation),u.GameMsgProxy30700.Instance.GameStateUpdateHandler=new p(this,this.gameStateUpdate)},t.prototype.gameStation=function(e,t){var n,o=this;d.GameData30700.GameState=e.bStation,e.bStation==f.GameNetProto30700.GameState.STATE_NOTE?(n=f.GameNetProto30700.CMD_GM_Station_Note.ReadFrom(t),I.SpriteChouMa30700.Free(),this.station_Note(e,n),g.GameBetPanel30700.Instance.InitData(n.Chip,n.SelfAreaNotes,n.SelfTotalNotes),b.GameSettlement30700.Instance.Hide(),y.GameHistory30700.Instance.InitHist(n.ResultList,n.ResultCount),m.GameRunPanel30700.Instance.ShowOpenAni(n.PrizeIndex)):e.bStation==f.GameNetProto30700.GameState.STATE_OPENPRIZE?(n=f.GameNetProto30700.CMD_GM_Station_OpenPrize.ReadFrom(t),this.Station_OpenPrize(e,n),g.GameBetPanel30700.Instance.InitData(n.Chip,n.SelfAreaNotes,n.SelfTotalNotes),b.GameSettlement30700.Instance.SetOpenData(n),this.PanelWait.visible=!0,this.timerOnce(e.iLeftTick,this,function(){o.PanelWait.visible=!1}),y.GameHistory30700.Instance.InitHist(n.ResultList,n.ResultCount)):e.bStation==f.GameNetProto30700.GameState.STATE_ACCONT?(n=f.GameNetProto30700.CMD_GM_Station_OpenPrize.ReadFrom(t),this.Station_Settlement(e,n),g.GameBetPanel30700.Instance.InitData(n.Chip,n.SelfAreaNotes,n.SelfTotalNotes),y.GameHistory30700.Instance.InitHist(n.ResultList,n.ResultCount)):(n=f.GameNetProto30700.CMD_GM_Station_Wait.ReadFrom(t),this.Station_Wait(e,n),g.GameBetPanel30700.Instance.InitData(n.Chip),b.GameSettlement30700.Instance.Hide(),y.GameHistory30700.Instance.InitHist(n.ResultList,n.ResultCount))},t.prototype.station_Note=function(e){this.StartTimeDown(e.iLeftTick,!0)},t.prototype.Station_OpenPrize=function(e){this.StartTimeDown(e.iLeftTick,!1)},t.prototype.Station_Settlement=function(e){this.StartTimeDown(e.iLeftTick,!1)},t.prototype.Station_Wait=function(e){this.StartTimeDown(e.iLeftTick,!1)},t.prototype.StartTimeDown=function(e,t){this.TimeObj_1.visible=t,this.TimeObj_2.visible=!t,this.timesDo=e,this.LabelTime.text=Math.ceil(e/1e3).toString(),this.TimeObj.visible=!0,s.Laya.timer.clear(this,this.TimeDownFunc);var n=e%1e3;n=n>0?n:1e3,s.Laya.timer.once(n,this,this.TimeDownFunc,[n])},t.prototype.TimeDownFunc=function(e){this.timesDo-=e,this.LabelTime.text=Math.floor(this.timesDo/1e3).toString(),this.timesDo<=0||(s.Laya.timer.once(1e3,this,this.TimeDownFunc,[1e3]),Math.floor(this.timesDo/1e3)<=3&&h.SoundManager30700.Instance.PlaySoundById(4,1))},t.prototype.StopTimeDown=function(){this.timesDo=0,s.Laya.timer.clear(this,this.TimeDownFunc)},t.prototype.gameStateUpdate=function(e,t){if(d.GameData30700.GameState=e.iState,e.iState==f.GameNetProto30700.GameState.STATE_NOTE)this.PanelWait.visible=!1,C.GamePanelStartBet30700.Instance.Show(),s.Laya.timer.once(1e3,this,function(){C.GamePanelStartBet30700.Instance.Hide()}),this.StartTimeDown(e.Tick,!0),g.GameBetPanel30700.Instance.ReSetStartBet(),b.GameSettlement30700.Instance.Hide(),h.SoundManager30700.Instance.PlaySoundById(6,1),I.SpriteChouMa30700.Free();else if(e.iState==f.GameNetProto30700.GameState.STATE_OPENPRIZE){h.SoundManager30700.Instance.PlaySoundById(5,1),this.StartTimeDown(e.Tick,!1);var n=f.GameNetProto30700.CMD_GM_StateUpdate_OpenPrize.ReadFrom(t);d.GameData30700.MyMoney+=n.WinLoseMoney,b.GameSettlement30700.Instance.SetOpenData(n),S.GamePanelStopBet30700.Instance.Show(),s.Laya.timer.once(1e3,this,function(){S.GamePanelStopBet30700.Instance.Hide(),m.GameRunPanel30700.Instance.OnPlayRun(n.PrizeIndex,n.Prize)})}else e.iState==f.GameNetProto30700.GameState.STATE_ACCONT?(this.StartTimeDown(e.Tick,!1),b.GameSettlement30700.Instance.Show(),g.GameBetPanel30700.Instance.MyTotalNote=0,g.GameBetPanel30700.Instance.FlashMyMoney()):this.StartTimeDown(e.Tick,!1)},t.prototype.onDestroy=function(){},n=a([R()],t)}(l.GameMainBase30700));n.GameMain30700=L,cc._RF.pop()},{"../../halls/hall/Tips":"Tips","../../halls/halllib/laya/Laya":"Laya","../../halls/halllib/net/InnerEvent":"InnerEvent","./GameBetPanel30700":"GameBetPanel30700","./GameData30700":"GameData30700","./GameHistory30700":"GameHistory30700","./GameMain30700.generated":"GameMain30700.generated","./GameMenuPanel30700":"GameMenuPanel30700","./GameMsgProxy30700":"GameMsgProxy30700","./GameNetProto30700":"GameNetProto30700","./GamePanelStartBet30700":"GamePanelStartBet30700","./GamePanelStopBet30700":"GamePanelStopBet30700","./GameRunPanel30700":"GameRunPanel30700","./GameSettlement30700":"GameSettlement30700","./SoundManager30700":"SoundManager30700","./SpriteChouMa30700":"SpriteChouMa30700"}],"GameMain31800.generated":[function(e,t,n){"use strict";cc._RF.push(t,"f726ev2XgpMgqzmiRFu64c4","GameMain31800.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.GameMainBase31800=void 0;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ButtonBack=null,t.LabelCoin=null,t.ButtonMenu=null,t.ButtonHelp=null,t.ButtonPlay=null,t.ButtonStop=null,t.ButtonMaxBet=null,t.CheckFast=null,t.LabelWin=null,t.LabelBet=null,t.ButtonAdd=null,t.ButtonSub=null,t.ComboBox=null,t}return i(t,e),t}(e("../../halls/halllib/laya/Laya").Laya.Scene);n.GameMainBase31800=a,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya"}],GameMain31800:[function(e,t,n){"use strict";cc._RF.push(t,"a9607RWQnFK47WUiecoS0Ol","GameMain31800");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.GameMain31800=void 0;var s=e("../../halls/halllib/laya/Laya"),l=e("./GameData31800"),c=e("./HelpPanel31800"),u=e("./GameMain31800.generated"),p=e("./MenuPanel31800"),h=e("./ScrollViewContro31800"),d=e("./GameNetProxy31800"),f=s.Laya.Handler,g=e("./GameFreePanel31800"),m=e("./GameBonusPanel31800"),y=e("../../halls/halllib/core/RunData"),_=e("../../halls/halllib/net/InnerEvent"),v=r(e("../../halls/hall/Tips")),b=e("../../halls/halllib/common/LogBase"),S=s.Laya.regClass,C=(s.Laya.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return i(t,e),n=t,t.prototype.onAwake=function(){n.Instance=this,this.ButtonBack.on(s.Laya.Event.CLICK,this,this.onButtonBack),this.ButtonMenu.on(s.Laya.Event.CLICK,this,this.onButtonMenu),this.ButtonHelp.on(s.Laya.Event.CLICK,this,this.onButtonHelp),this.ButtonPlay.on(s.Laya.Event.MOUSE_DOWN,this,this.onButtonPlayDown),this.ButtonPlay.on(s.Laya.Event.CLICK,this,this.onButtonPlay),this.ButtonStop.on(s.Laya.Event.CLICK,this,this.onButtonStop),this.ButtonAdd.on(s.Laya.Event.CLICK,this,this.onButtonAdd),this.ButtonSub.on(s.Laya.Event.CLICK,this,this.onButtonSub),this.ButtonMaxBet.on(s.Laya.Event.CLICK,this,this.onButtonMaxBet),this.CheckFast.on(s.Laya.Event.CHANGE,this,this.onCheckFast),this.ComboBox.on(s.Laya.Event.CHANGE,this,this.onComboBox),this.ButtonPlay.visible=!0,this.ButtonStop.visible=!1,this.initGameData()},t.prototype.onStart=function(){b.LogBase.log("Game start")},t.prototype.onButtonBack=function(){h.ScrollViewContro31800.Instance.IsOnRun?v.default.SetWarnText("You have already placed your bet,\n please do not exit the game!"):(this.close(),this.destroy())},t.prototype.onClosed=function(){_.HallEvent.event(_.HallEvent.GO_BACK_TO_HALL),d.GameMsgProxy31800.Instance.Destroy()},t.prototype.onButtonMenu=function(){p.MenuPanel31800.Instance.Show()},t.prototype.onButtonHelp=function(){c.HelpPanel31800.Instance.Show()},t.prototype.onButtonAdd=function(){l.GameData31800.SelectChip++,l.GameData31800.SelectChip>=l.GameData31800.ChipArray.length&&(l.GameData31800.SelectChip=0),l.GameData31800.SingleBet=l.GameData31800.ChipArray[l.GameData31800.SelectChip],l.GameData31800.TotalBet=l.GameData31800.SingleBet*l.GameData31800.SelectLine,this.LabelBet.text=y.GameTool.formatMoneyString(l.GameData31800.TotalBet)},t.prototype.onButtonSub=function(){l.GameData31800.SelectChip--,l.GameData31800.SelectChip<0&&(l.GameData31800.SelectChip=l.GameData31800.ChipArray.length-1),l.GameData31800.SingleBet=l.GameData31800.ChipArray[l.GameData31800.SelectChip],l.GameData31800.TotalBet=l.GameData31800.SingleBet*l.GameData31800.SelectLine,this.LabelBet.text=y.GameTool.formatMoneyString(l.GameData31800.TotalBet)},t.prototype.onButtonMaxBet=function(){l.GameData31800.SelectLine=l.GameData31800.MaxLine,l.GameData31800.SelectChip=l.GameData31800.ChipArray.length-1,l.GameData31800.SingleBet=l.GameData31800.ChipArray[l.GameData31800.SelectChip],l.GameData31800.TotalBet=l.GameData31800.SingleBet*l.GameData31800.SelectLine,this.ComboBox.selectedIndex=l.GameData31800.SelectLine-1,this.LabelBet.text=y.GameTool.formatMoneyString(l.GameData31800.TotalBet)},t.prototype.onComboBox=function(){l.GameData31800.SelectLine=this.ComboBox.selectedIndex+1,l.GameData31800.TotalBet=l.GameData31800.SingleBet*l.GameData31800.SelectLine,this.LabelBet.text=y.GameTool.formatMoneyString(l.GameData31800.TotalBet),h.ScrollViewContro31800.Instance.ShowLineByNum(l.GameData31800.SelectLine)},t.prototype.onCheckFast=function(){h.ScrollViewContro31800.Instance.SetPlayFast(this.CheckFast.selected)},t.prototype.onButtonPlayDown=function(){this.timerOnce(2e3,this,this.onTimesPlayDown)},t.prototype.onTimesPlayDown=function(){l.GameData31800.Money>=l.GameData31800.TotalBet&&(this.ButtonPlay.gray=!1,this.ButtonPlay.disabled=!0,this.longClickPlay(),this.sendStartPlay())},t.prototype.onButtonPlay=function(){l.GameData31800.Money>=l.GameData31800.TotalBet?(this.clearTimer(this,this.onTimesPlayDown),this.sendStartPlay()):_.HallEvent.event(_.HallEvent.SHOW_RECHARGE_TIP)},t.prototype.onButtonStop=function(){h.ScrollViewContro31800.Instance.IsOnRun?(this.ButtonStop.disabled=!0,h.ScrollViewContro31800.Instance.OnStop()):(this.ButtonPlay.visible=!0,this.ButtonPlay.disabled=!1,this.ButtonStop.visible=!1,this.ButtonStop.gray=!0,this.ButtonMaxBet.disabled=!1,this.ButtonAdd.disabled=!1,this.ButtonSub.disabled=!1,this.ComboBox.disabled=!1),this.ButtonStop.disabled=!0,this.ButtonStop.filters=[],this.isLoopPay=!1,this.clearTimer(this,this.autoPlay)},t.prototype.setOnPlayBtn=function(){this.ButtonPlay.filters=[],this.ButtonPlay.visible=!1,this.ButtonStop.visible=!0,this.ButtonStop.gray=!1,this.ButtonStop.disabled=!1,this.ButtonMaxBet.disabled=!0,this.ButtonAdd.disabled=!0,this.ButtonSub.disabled=!0,this.ComboBox.disabled=!0},t.prototype.PlayEndReturn=function(){this.LabelWin.text=y.GameTool.formatMoneyString(l.GameData31800.WinMoney),this.LabelCoin.text=y.GameTool.formatMoneyString(l.GameData31800.Money),this.isLoopPay?this.timerOnce(2e3,this,this.autoPlay):(this.ButtonPlay.visible=!0,this.ButtonPlay.disabled=!1,this.ButtonStop.visible=!1,this.ButtonStop.gray=!1,this.ButtonMaxBet.disabled=!1,this.ButtonAdd.disabled=!1,this.ButtonSub.disabled=!1,this.ComboBox.disabled=!1,this.ButtonPlay.gray=!1)},t.prototype.autoPlay=function(){l.GameData31800.WinMoney=0,this.LabelWin.text=l.GameData31800.WinMoney.toString(),this.sendStartPlay()},t.prototype.sendStartPlay=function(){this.ButtonPlay.disabled=!0,this.ButtonPlay.gray=!0,this.timerOnce(2e3,this,this.senPlayTimeOut),d.GameMsgProxy31800.Instance.sendGameStartRequest(l.GameData31800.SelectLine,l.GameData31800.SingleBet)},t.prototype.senPlayTimeOut=function(){this.isLoopPay=!1,this.PlayEndReturn()},t.prototype.longClickPlay=function(){this.isLoopPay=!0;var e=new s.Laya.GlowFilter("#ff0000",10,0,0);this.ButtonStop.filters=[e]},t.prototype.initGameData=function(){d.GameMsgProxy31800.Instance.Init(),d.GameMsgProxy31800.Instance.GameStationHandler=new f(this,this.gameStation),d.GameMsgProxy31800.Instance.GameResultHandler=new f(this,this.gameResult),this.ComboBox.selectedIndex=l.GameData31800.SelectLine-1,l.GameData31800.TotalBet=l.GameData31800.SingleBet*l.GameData31800.SelectLine,this.LabelBet.text=y.GameTool.formatMoneyString(l.GameData31800.TotalBet),this.LabelCoin.text=y.GameTool.formatMoneyString(l.GameData31800.Money)},t.prototype.gameStation=function(e,t,n){l.GameData31800.Money=t.nPlayerMoney,l.GameData31800.ChipArray=t.NoteChip,l.GameData31800.SelectLine=t.nBetLineCount,l.GameData31800.SingleBet=t.nPlayerBet;for(var o=0;o<l.GameData31800.ChipArray.length;o++)l.GameData31800.ChipArray[o]==l.GameData31800.SingleBet&&(l.GameData31800.SelectChip=o);h.ScrollViewContro31800.Instance.ReSetIcon(t.byGameResult),this.ComboBox.selectedIndex=l.GameData31800.SelectLine-1,l.GameData31800.TotalBet=l.GameData31800.SingleBet*l.GameData31800.SelectLine,this.LabelBet.text=y.GameTool.formatMoneyString(l.GameData31800.TotalBet),this.LabelCoin.text=y.GameTool.formatMoneyString(l.GameData31800.Money),t.nFreeCount>0&&(g.GameFreePanel31800.Instance.IsFreeType=!0,g.GameFreePanel31800.Instance.ShowFreeNum(t.nFreeCount)),n&&m.GameBonusPanel31800.Instance.ReConnet(t.nCurBonusCount,t.nPlayerBonusScore,t.nBonusPoint)},t.prototype.gameResult=function(e,t){this.clearTimer(this,this.senPlayTimeOut),l.GameData31800.WinMoney=0,l.GameData31800.Money=t.nPlayerMoney-t.nTotalWinScore,this.LabelWin.text=y.GameTool.formatMoneyString(l.GameData31800.WinMoney),this.LabelCoin.text=y.GameTool.formatMoneyString(l.GameData31800.Money),this.setOnPlayBtn(),h.ScrollViewContro31800.Instance.OnPlay(t,this,this.PlayEndReturn)},t.prototype.onDestroy=function(){s.Laya.timer.clearAll(this)},n=a([S()],t)}(u.GameMainBase31800));n.GameMain31800=C,cc._RF.pop()},{"../../halls/hall/Tips":"Tips","../../halls/halllib/common/LogBase":"LogBase","../../halls/halllib/core/RunData":"RunData","../../halls/halllib/laya/Laya":"Laya","../../halls/halllib/net/InnerEvent":"InnerEvent","./GameBonusPanel31800":"GameBonusPanel31800","./GameData31800":"GameData31800","./GameFreePanel31800":"GameFreePanel31800","./GameMain31800.generated":"GameMain31800.generated","./GameNetProxy31800":"GameNetProxy31800","./HelpPanel31800":"HelpPanel31800","./MenuPanel31800":"MenuPanel31800","./ScrollViewContro31800":"ScrollViewContro31800"}],"GameMain34200.generated":[function(e,t,n){"use strict";cc._RF.push(t,"79ca8DIe/pMFrrZTnsZ1PkI","GameMain34200.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.GameMainBase34200=void 0;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.SpriteBg=null,t.btnPlay=null,t.Image_he=null,t.Prefab_tigerani=null,t.Sprite_vs_dragon=null,t.Sprite_userinfo=null,t.Label_userid=null,t.Label_money=null,t.Sprite_bet=null,t.Button_bet_0=null,t.Button_bet_1=null,t.Button_bet_2=null,t.Button_bet_3=null,t.Button_bet_4=null,t.Button_bet_5=null,t.Sprite_table=null,t.Image_btn_table=null,t.List_table=null,t.Label_clock=null,t.Label_state=null,t.Image_exit=null,t.Button_menu=null,t.Sprite_area_game=null,t.Sprite_area_dragon=null,t.Sprite_area_he=null,t.Sprite_area_tiger=null,t.Label_bet_dragon=null,t.Label_mybet_dragon=null,t.Label_mybet_he=null,t.Label_mybet_tiger=null,t.Label_bet_he=null,t.Label_bet_tiger=null,t.Label_lucky=null,t.LuckyProgress=null,t.ani_dragon=null,t.ani_he=null,t.ani_tiger=null,t.Sprite_facegroup=null,t.Sprite_1=null,t.winani_1=null,t.Label_name_1=null,t.Label_money_1=null,t.Label_win_1=null,t.Sprite_2=null,t.winani_2=null,t.Label_name_2=null,t.Label_win_2=null,t.Sprite_3=null,t.winani_3=null,t.Label_name_3=null,t.Label_win_3=null,t.Sprite_0=null,t.winani_0=null,t.Label_name_0=null,t.Label_money_0=null,t.Label_win_0=null,t.Sprite_5=null,t.winani_5=null,t.Label_name_5=null,t.Label_win_5=null,t.Sprite_4=null,t.winani_4=null,t.Label_name_4=null,t.Label_win_4=null,t.Image_others=null,t.Label_oters=null,t.Label_win_my=null,t.Sprite_card_dragon_group=null,t.ani_light_dragon=null,t.Sprite_card_dragon=null,t.ani_fire_dragon=null,t.Sprite_card_tiger_group=null,t.ani_light_tiger=null,t.Sprite_card_tiger=null,t.ani_fire_tiger=null,t.spGroupMenu=null,t.Button_music=null,t.Button_sound=null,t.Image_rule=null,t.Sprite_win_ani=null,t.Image_tiger_shadow=null,t.Image_dragon_shadow=null,t.Box_back=null,t.Image_tiger_bord=null,t.Image_dragon_bord=null,t.win_vs_tiger=null,t.win_vs_dragon=null,t.Image_s=null,t.Image_v=null,t.BoxRule=null,t.Image_group_rule=null,t.Image_rule_close=null,t.RoadPanel=null,t.RoadCloseBtn=null,t.Image_start_bet=null,t.Image_stop_bet=null,t}return i(t,e),t}(e("../../halls/halllib/laya/Laya").Laya.Scene);n.GameMainBase34200=a,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya"}],GameMain34200:[function(e,t,n){"use strict";cc._RF.push(t,"fc3abgVVxNJlokRjk5dWeM5","GameMain34200");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.GameMain34200=void 0;var s=e("../../halls/halllib/laya/Laya"),l=s.Laya.regClass,c=(s.Laya.property,r(e("../../halls/hall/BaseRoom"))),u=r(e("../../halls/hall/Tips")),p=e("../../halls/halllib/common/LogBase"),h=e("../../halls/halllib/common/ConfigMng"),d=e("../../halls/halllib/common/Define"),f=e("../../halls/halllib/core/HallData"),g=e("../../halls/halllib/core/RunData"),m=e("../../halls/halllib/net/InnerEvent"),y=r(e("../../halls/halllib/net/RoomMsgProxy")),_=e("./GameData34200"),v=e("./GameLoading34200"),b=e("./GameMain34200.generated"),S=e("./GameMsg34200"),C=e("./SpriteChouMa34200"),I=e("../../halls/hall/BaseDesk"),R=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.WARN_NOT_BET="Not at betting time!No betting!",t.itemIcon="res/Image/UI_Game_LHD/Icon_LD_",t.itemDragon="res/Image/UI_Game_LHD/Icon_LD_1.png",t.itemTiger="res/Image/UI_Game_LHD/Icon_LD_0.png",t.itemHe="res/Image/UI_Game_LHD/Icon_LD_2.png",t.itemFlag="res/Image/UI_Game_LHD/Icon_LD_New.png",t.betNumber=_.GameConfig34200.iChouMa[0],t.betDragonNumber=0,t.betHeNumber=0,t.betTigerNumber=0,t.betIndexSelect=0,t.mybetDragonNumber=0,t.mybetHeNumber=0,t.mybetTigerNumber=0,t.gameRecord=[],t.cardunKnown="res/Image/UI_Card_LHD/0_0.png",t.cardList=[["res/Image/UI_Card_LHD/0_0.png","res/Image/UI_Card_LHD/1_1.png","res/Image/UI_Card_LHD/1_2.png","res/Image/UI_Card_LHD/1_3.png","res/Image/UI_Card_LHD/1_4.png","res/Image/UI_Card_LHD/1_5.png","res/Image/UI_Card_LHD/1_6.png","res/Image/UI_Card_LHD/1_7.png","res/Image/UI_Card_LHD/1_8.png","res/Image/UI_Card_LHD/1_9.png","res/Image/UI_Card_LHD/1_10.png","res/Image/UI_Card_LHD/1_11.png","res/Image/UI_Card_LHD/1_12.png","res/Image/UI_Card_LHD/1_13.png"],["res/Image/UI_Card_LHD/0_0.png","res/Image/UI_Card_LHD/2_1.png","res/Image/UI_Card_LHD/2_2.png","res/Image/UI_Card_LHD/2_3.png","res/Image/UI_Card_LHD/2_4.png","res/Image/UI_Card_LHD/2_5.png","res/Image/UI_Card_LHD/2_6.png","res/Image/UI_Card_LHD/2_7.png","res/Image/UI_Card_LHD/2_8.png","res/Image/UI_Card_LHD/2_9.png","res/Image/UI_Card_LHD/2_10.png","res/Image/UI_Card_LHD/2_11.png","res/Image/UI_Card_LHD/2_12.png","res/Image/UI_Card_LHD/2_13.png"],["res/Image/UI_Card_LHD/0_0.png","res/Image/UI_Card_LHD/3_1.png","res/Image/UI_Card_LHD/3_2.png","res/Image/UI_Card_LHD/3_3.png","res/Image/UI_Card_LHD/3_4.png","res/Image/UI_Card_LHD/3_5.png","res/Image/UI_Card_LHD/3_6.png","res/Image/UI_Card_LHD/3_7.png","res/Image/UI_Card_LHD/3_8.png","res/Image/UI_Card_LHD/3_9.png","res/Image/UI_Card_LHD/3_10.png","res/Image/UI_Card_LHD/3_11.png","res/Image/UI_Card_LHD/3_12.png","res/Image/UI_Card_LHD/3_13.png"],["res/Image/UI_Card_LHD/0_0.png","res/Image/UI_Card_LHD/4_1.png","res/Image/UI_Card_LHD/4_2.png","res/Image/UI_Card_LHD/4_3.png","res/Image/UI_Card_LHD/4_4.png","res/Image/UI_Card_LHD/4_5.png","res/Image/UI_Card_LHD/4_6.png","res/Image/UI_Card_LHD/4_7.png","res/Image/UI_Card_LHD/4_8.png","res/Image/UI_Card_LHD/4_9.png","res/Image/UI_Card_LHD/4_10.png","res/Image/UI_Card_LHD/4_11.png","res/Image/UI_Card_LHD/4_12.png","res/Image/UI_Card_LHD/4_13.png"]],t.cardTypeDragon=0,t.cardTypeTiger=0,t.cardIndexDragon=0,t.cardIndexTiger=0,t.clock=15,t.TYPE_NONE=-1,t.TYPE_DRAGON=1,t.TYPE_TIGER=0,t.TYPE_HE=2,t.TYPE_NOW=t.TYPE_NONE,t.winstate=-1,t.mywin=0,t.userWinAni=new Array,t.myMoney=8e3,t.tweenDragon=new s.Laya.Tween,t.tweenTiger=new s.Laya.Tween,t}return i(t,e),t.prototype.onAwake=function(){this.List_table.array=[],this.List_table.repeatX=0,this.btnPlay.on(s.Laya.Event.CLICK,this,this.onReBet),this.SpriteBg.on(s.Laya.Event.CLICK,this,function(){}),this.Image_exit.on(s.Laya.Event.CLICK,this,this.onExitGame),this.Button_menu.on(s.Laya.Event.CLICK,this,this.onMenu),this.Button_music.on(s.Laya.Event.CLICK,this,this.onMusic),this.Button_sound.on(s.Laya.Event.CLICK,this,this.onSound),this.Image_rule.on(s.Laya.Event.CLICK,this,this.onOpenRule),this.Image_rule_close.on(s.Laya.Event.CLICK,this,this.onCloseRule),this.Image_group_rule.on(s.Laya.Event.CLICK,this,function(){}),this.Image_btn_table.on(s.Laya.Event.CLICK,this,this.ShowGameRoad),this.RoadCloseBtn.on(s.Laya.Event.CLICK,this,this.HideGameRoad),this.BoxRule.on(s.Laya.Event.CLICK,this,this.onCloseRule),this.BoxRule.visible=!1,this.Sprite_area_dragon.on(s.Laya.Event.CLICK,this,this.onMyNote,[this.TYPE_DRAGON]),this.Sprite_area_he.on(s.Laya.Event.CLICK,this,this.onMyNote,[this.TYPE_HE]),this.Sprite_area_tiger.on(s.Laya.Event.CLICK,this,this.onMyNote,[this.TYPE_TIGER]);for(var e=0;e<6;e++)this["Button_bet_"+e.toString()].on(s.Laya.Event.CLICK,this,this.onSelectBet,[e]);var t=f.LocalTempData.getMusicVolume();this.Button_music.selected=!(t>0);var n=f.LocalTempData.getSoundVolume();this.Button_sound.selected=!(n>0),this.onInit()},t.prototype.test=function(){},t.prototype.testUser=function(){p.LogBase.debug("34200test GameUser",_.GameUser.userList),p.LogBase.debug("34200test BaseRoom.userList",c.default.userList),p.LogBase.debug("34200test BaseDesk.myGameDesk.seatList",I.BaseDesk.myGameDesk.seatList)},t.prototype.onReBet=function(){S.GameMsg34200.c2sContinueNote()},t.prototype.onEnable=function(){},t.prototype.onDisable=function(){},t.prototype.onStart=function(){},t.prototype.onMenu=function(){this.Button_menu.selected?s.Laya.Tween.to(this.spGroupMenu,{y:123},200):s.Laya.Tween.to(this.spGroupMenu,{y:-400},200)},t.prototype.onMusic=function(){p.LogBase.log("this.Button_music.selected",this.Button_music.selected),this.Button_music.selected?(f.LocalTempData.setMusicVolume(0),s.Laya.SoundManager.stopMusic()):(f.LocalTempData.setMusicVolume(.5),s.Laya.SoundManager.playMusic(v.GameLoading34200.GetRes(v.GameLoading34200.musiclist[0]),0))},t.prototype.onSound=function(){p.LogBase.log("this.Button_sound.selected",this.Button_sound.selected),this.Button_sound.selected?(f.LocalTempData.setSoundVolume(0),s.Laya.SoundManager.stopAllSound()):f.LocalTempData.setSoundVolume(1)},t.prototype.onOpenRule=function(){this.BoxRule.visible=!0,this.BoxRule.zOrder=1e3,this.Image_group_rule.zOrder=1e3,s.Laya.Tween.to(this.Image_group_rule,{y:532},200),p.LogBase.log("onOpenRule",this.Image_group_rule,this.BoxRule)},t.prototype.onCloseRule=function(){p.LogBase.log("onCloseRule"),this.BoxRule.visible=!1,s.Laya.Tween.to(this.Image_group_rule,{y:-662},200)},t.prototype.ShowGameRoad=function(){this.RoadPanel.visible=!0},t.prototype.HideGameRoad=function(){this.RoadPanel.visible=!1},t.prototype.onExitGame=function(){this.mybetDragonNumber+this.mybetHeNumber+this.mybetTigerNumber>0&&(_.GameConfig34200.curStation==_.GAME_STATE.GS_XIAZHU||_.GameConfig34200.curStation==_.GAME_STATE.GS_SENDCARD)?u.default.SetWarnText(h.ConfigMng.getTips(d.Define.TIPS.CANNOT_EXIT_GAME)):this.close()},t.prototype.onClosed=function(){S.GameMsg34200.Release(),S.GameMsg34200.offGameMsg(S.SUB_GAME_MSG.GM_SUB_GAMESTATION,this,this.s2cGameStation),S.GameMsg34200.offGameMsg(S.SUB_GAME_MSG.GM_SUB_STATEUPDATE,this,this.s2cStateUpdate),S.GameMsg34200.offGameMsg(S.SUB_GAME_MSG.GM_SUB_NOTE,this,this.s2cNote),S.GameMsg34200.offGameMsg(S.SUB_GAME_MSG.GM_SUB_CONTINUE,this,this.s2cContinue),S.GameMsg34200.offGameMsg(S.SUB_GAME_MSG.GM_SUB_SETTLEMENT,this,this.s2cSettlement),this.onClearGame(),s.Laya.timer.clearAll(this),C.SpriteChouMa34200.Destory(),_.GameMyData.Release(),_.GameUser.Release(),m.HallEvent.event(m.HallEvent.GO_BACK_TO_HALL)},t.prototype.onInit=function(){this.onSelectBet(0),_.GameDesk.otherText=this.Label_oters,this.List_table.array=[],_.GameUser.userList=[];for(var e=0;e<6;e++){this["Button_bet_"+e.toString()].label=C.SpriteChouMa34200.formatMoney(_.GameConfig34200.iChouMa[e]);var t=this["Sprite_"+e.toString()].x,n=this["Sprite_"+e.toString()].y,o=new _.GameUser;o.spriteFace=this["Sprite_"+e.toString()],e<2&&(o.labelMoney=this["Label_money_"+e.toString()]),o.winani=this["winani_"+e.toString()],o.userInitPos=new s.Laya.Point(t,n),o.labelName=this["Label_name_"+e.toString()],o.labelLevel=this["Label_level_"+e.toString()],o.lebelWinMoney=this["Label_win_"+e.toString()],o.lebelWinMoney.visible=!1,_.GameUser.userList.push(o)}_.GameMyData.labelMyMoney=this.Label_money,_.GameMyData.lebelWinMoney=this.Label_win_my,this.Label_win_my.visible=!1,_.GameMyData.labelMyName=this.Label_userid,_.GameMyData.labelMyName.text=g.RunData.myUserInfo.nickName,_.GameMyData.updateMoney(g.RunData.myUserInfo.dwMoney),this.onReset(),S.GameMsg34200.Init(),S.GameMsg34200.onGameMsg(S.SUB_GAME_MSG.GM_SUB_GAMESTATION,this,this.s2cGameStation),S.GameMsg34200.onGameMsg(S.SUB_GAME_MSG.GM_SUB_STATEUPDATE,this,this.s2cStateUpdate),S.GameMsg34200.onGameMsg(S.SUB_GAME_MSG.GM_SUB_NOTE,this,this.s2cNote),S.GameMsg34200.onGameMsg(S.SUB_GAME_MSG.GM_SUB_CONTINUE,this,this.s2cContinue),S.GameMsg34200.onGameMsg(S.SUB_GAME_MSG.GM_SUB_SETTLEMENT,this,this.s2cSettlement),S.GameMsg34200.onGameMsg(S.SUB_GAME_MSG.GM_SUB_LUCKPLAYER,this,this.s2cLuckPlayer),y.default.sendQuickSitDown(),f.HallSoundManager.PlayMusic(v.GameLoading34200.GetRes(v.GameLoading34200.musiclist[0]),0),s.Laya.timer.loop(1e3,this,this.onClock)},t.prototype.s2cGameStation=function(e,t){this._updateCommonStation(e),this._updateNoteStation(t),_.GameUser.UpdateLuckyUser(e.cbLuckerDeskStation)},t.prototype.s2cSettlement=function(e){this.msgState_Account=e},t.prototype.s2cLuckPlayer=function(e){p.LogBase.debug("CMD_GM_LuckPlayer",e,e.cbDeskStation),this.Label_lucky.text=e.cbWinRate+"%",this.LuckyProgress.value=e.cbWinRate/100,_.GameUser.UpdateLuckyUser(e.cbDeskStation)},t.prototype.RecycleBetToUser=function(){_.GameMyData.myDeskStation>=0&&_.GameMyData.myDeskStation<this.msgState_Account.iWinMoney.length&&(this.onRecycleBetToUser(_.GameMyData.myDeskStation,this.msgState_Account.iWinMoney[_.GameMyData.myDeskStation]),_.GameMyData.PlayWinMoneyLabel(this.msgState_Account.iWinMoney[_.GameMyData.myDeskStation]));for(var e=0;e<this.msgState_Account.iWinMoney.length;e++)e!=_.GameMyData.myDeskStation&&this.onRecycleBetToUser(e,this.msgState_Account.iWinMoney[e]);for(e=0;e<_.GameDesk.listchouma.length;e++){var t=_.GameDesk.listchouma[e],n=this.Sprite_facegroup.x+this.Image_others.x,o=this.Sprite_facegroup.y+this.Image_others.y;t.FlashTo(n,o,0)}},t.prototype.s2cContinue=function(e){if(e.iNote.length==_.BET_AREA.NOTEOBJECT_MAX+1&&!(e.iNote[_.BET_AREA.NOTEOBJECT_MAX]<0))for(var t=0;t<_.BET_AREA.NOTEOBJECT_MAX;t++)for(var n=_.GameConfig34200.iChouMa.length-1;n>=0;n--)if(!(e.iNote[t]<_.GameConfig34200.iChouMa[n]))do{e.iNote[t]=e.iNote[t]-_.GameConfig34200.iChouMa[n],this.onUserAddCoin(e.cbDeskStation,t,n)}while(e.iNote[t]>=_.GameConfig34200.iChouMa[n])},t.prototype.s2cNote=function(e){0==e.bErrorCode?this.onUserAddCoin(e.bDeskStation,e.bNoteObject,e.bChipIndex):e.bDeskStation==c.default.myUserRoomInfo.pUserInfoStruct.bDeskStation&&e.bErrorCode<_.GameConfig34200.GAME_TIPS.length&&u.default.SetWarnText(_.GameConfig34200.GAME_TIPS[e.bErrorCode])},t.prototype.s2cStateUpdate=function(e,t,n){_.GameConfig34200.curStation=e.cbState,this._updateSendCardStation(n),this.onGameState(_.GameConfig34200.curStation)},t.prototype._updateCommonStation=function(e){_.GameConfig34200.curStation=e.bStation,_.GameConfig34200.iXiaZhuTime=e.iXiaZhuTime,_.GameConfig34200.iSendCardTime=e.iSendCardTime,_.GameConfig34200.iAccountTick=e.iAccountTick,this.onSetState(_.GameConfig34200.curStation),this.setClock(Math.floor(e.iLeftTick/1e3)+1),e.iChouMa.length>e.iChouMaNum&&(e.iChouMa.length=e.iChouMaNum),_.GameConfig34200.iChouMa=e.iChouMa,this.betNumber=_.GameConfig34200.iChouMa[0];for(var t=0;t<6;t++)this["Button_bet_"+t.toString()].label=C.SpriteChouMa34200.formatMoney(_.GameConfig34200.iChouMa[t]);for(e.tagCardTypeRecordItem.length>e.iCardTypeRecordItemCount&&(e.tagCardTypeRecordItem.length=e.iCardTypeRecordItemCount),t=0;t<e.tagCardTypeRecordItem.length;t++)this.onAddWinTable(e.tagCardTypeRecordItem[t].cbWinObject)},t.prototype._updateNoteStation=function(e){if(null!=e)for(var t=0;t<_.BET_AREA.NOTEOBJECT_MAX;t++)this.setAreaBetInfo(t,e.NoteMoney[t],e.SelfNoteMoney[t])},t.prototype._updateSendCardStation=function(e){null!=e&&null!=e&&(this.cardTypeDragon=_.Poker.getPokerType(e.cbOpenCard[1])>>4,this.cardIndexDragon=_.Poker.getPokerPoint(e.cbOpenCard[1]),this.cardTypeTiger=_.Poker.getPokerType(e.cbOpenCard[0])>>4,this.cardIndexTiger=_.Poker.getPokerPoint(e.cbOpenCard[0]))},t.prototype._updateAccountStation=function(){},t.prototype.onGameState=function(e){switch(p.LogBase.log("onGameState:",e),e){case _.GAME_STATE.GS_AGREE:break;case _.GAME_STATE.GS_XIAZHU:this.setClock(_.GameConfig34200.iXiaZhuTime+1),this.Label_state.text="betting",this.onGameStart();break;case _.GAME_STATE.GS_SENDCARD:this.setClock(_.GameConfig34200.iSendCardTime+_.GameConfig34200.iAccountTick+1),this.Label_state.text="VS time",this.onStopBet();break;case _.GAME_STATE.GS_ACCOUNT:this.Label_state.text="settlement"}},t.prototype.onSetState=function(e){switch(p.LogBase.log("onSetState:",e),e){case _.GAME_STATE.GS_AGREE:break;case _.GAME_STATE.GS_XIAZHU:this.Label_state.text="betting";break;case _.GAME_STATE.GS_SENDCARD:this.Label_state.text="VS time";break;case _.GAME_STATE.GS_ACCOUNT:this.Label_state.text="settlement"}},t.prototype.setAreaBetInfo=function(e,t,n){switch(t=Math.floor(t),n=Math.floor(n),e){case _.BET_AREA.NOTEOBJECT_TIGER:case _.BET_AREA.NOTEOBJECT_DRAGON:this.Label_bet_dragon.text=g.GameTool.formatMoneyString(t),this.Label_mybet_dragon.text=g.GameTool.formatMoneyString(n);break;case _.BET_AREA.NOTEOBJECT_DRAW:this.Label_bet_dragon.text=g.GameTool.formatMoneyString(t),this.Label_mybet_he.text=g.GameTool.formatMoneyString(n)}},t.prototype.onReset=function(){this.ani_dragon.visible=!1,this.ani_tiger.visible=!1,this.ani_he.visible=!1,this.Sprite_win_ani.visible=!1,this.Image_dragon_shadow.x=459,this.Image_dragon_shadow.y=-275,this.Image_dragon_shadow.width=533,this.Image_dragon_shadow.height=558,this.Image_dragon_shadow.alpha=0,this.Image_dragon_bord.x=-597,this.Image_dragon_bord.y=3,this.Image_v.x=-115,this.Image_v.y=7,this.win_vs_dragon.x=-360,this.win_vs_dragon.y=-361,this.Image_tiger_shadow.x=1222,this.Image_tiger_shadow.y=67,this.Image_tiger_shadow.width=806,this.Image_tiger_shadow.height=324,this.Image_tiger_shadow.alpha=0,this.Image_tiger_bord.x=2260,this.Image_tiger_bord.y=55,this.Image_s.x=2107,this.Image_s.y=105,this.win_vs_tiger.x=2052,this.win_vs_tiger.y=-108,this.winani_0.visible=!1,this.winani_1.visible=!1,this.winani_2.visible=!1,this.winani_3.visible=!1,this.winani_4.visible=!1,this.winani_5.visible=!1,this.userWinAni.push(this.winani_0),this.userWinAni.push(this.winani_1),this.userWinAni.push(this.winani_2),this.userWinAni.push(this.winani_3),this.userWinAni.push(this.winani_4),this.userWinAni.push(this.winani_5),this.winstate=this.TYPE_NONE,this.Label_bet_dragon.text=g.GameTool.formatMoneyString(this.betDragonNumber),this.Label_bet_tiger.text=g.GameTool.formatMoneyString(this.betTigerNumber),this.Label_bet_he.text=g.GameTool.formatMoneyString(this.betHeNumber),this.Label_mybet_dragon.text=g.GameTool.formatMoneyString(this.mybetDragonNumber),this.Label_mybet_tiger.text=g.GameTool.formatMoneyString(this.mybetTigerNumber),this.Label_mybet_he.text=g.GameTool.formatMoneyString(this.mybetHeNumber),this.Sprite_card_dragon.texture=s.Laya.loader.getRes(v.GameLoading34200.GetRes(this.cardunKnown)),this.Sprite_card_tiger.texture=s.Laya.loader.getRes(v.GameLoading34200.GetRes(this.cardunKnown))},t.prototype.onSelectBet=function(e){this.betIndexSelect=e,this.betNumber=_.GameConfig34200.iChouMa[e];for(var t=0;t<6;t++)this["Button_bet_"+t.toString()].selected=t==e},t.prototype.onMyNote=function(e){if(_.GameMyData.myDeskStation<0||255==_.GameMyData.myDeskStation)u.default.SetText("Waiting to sit down!");else{if(_.GameConfig34200.curStation==_.GAME_STATE.GS_XIAZHU)return _.GameMyData.myMoney<this.betNumber?(u.default.SetText("No enough money!"),void m.HallEvent.event(m.HallEvent.SHOW_RECHARGE_TIP)):void(_.GameMyData.myMoney<c.default.currentRoomInfo.iLessMoney2Enter.toNumber()?u.default.SetText("No enough money!"):this.TYPE_NOW==this.TYPE_NONE||e==this.TYPE_HE||e==this.TYPE_NOW?(e!=this.TYPE_HE&&(this.TYPE_NOW=e),S.GameMsg34200.c2sSendNote(c.default.myUserRoomInfo.pUserInfoStruct.bDeskStation,e,this.betIndexSelect)):u.default.SetText("Can't play dragon and tiger at same time!"));u.default.SetText(this.WARN_NOT_BET,this.zOrder+1)}},t.prototype.addCoin=function(e){var t;if(e==this.TYPE_TIGER)t=this.Sprite_area_tiger,this.betTigerNumber+=this.betNumber,this.Label_bet_tiger.text=g.GameTool.formatMoneyString(this.betTigerNumber,2,"M","K"),this.mybetTigerNumber+=this.betNumber,this.Label_mybet_tiger.text=g.GameTool.formatMoneyString(this.mybetTigerNumber,2,"M","K");else if(e==this.TYPE_DRAGON)t=this.Sprite_area_dragon,this.betDragonNumber+=this.betNumber,this.Label_bet_dragon.text=g.GameTool.formatMoneyString(this.betDragonNumber,2,"M","K"),this.mybetDragonNumber+=this.betNumber,this.Label_mybet_dragon.text=g.GameTool.formatMoneyString(this.mybetDragonNumber,2,"M","K");else{if(e!=this.TYPE_HE)return;t=this.Sprite_area_he,this.betHeNumber+=this.betNumber,this.Label_bet_he.text=g.GameTool.formatMoneyString(this.betHeNumber,2,"M","K"),this.mybetHeNumber+=this.betNumber,this.Label_mybet_he.text=g.GameTool.formatMoneyString(this.mybetHeNumber,2,"M","K")}_.GameMyData.addMoney(-1*this.betNumber);var n=C.SpriteChouMa34200.CreateNew(this,this.betIndexSelect);n.type=e,this.betIndexSelect;var o=this["Button_bet_"+this.betIndexSelect.toString()].x+this["Button_bet_"+this.betIndexSelect.toString()].width/2+this.Sprite_bet.x,i=this["Button_bet_"+this.betIndexSelect.toString()].y+this["Button_bet_"+this.betIndexSelect.toString()].height/2+this.Sprite_bet.y;n.pos(o,i);var a=this.Sprite_area_game.x+t.x+(.6*Math.random()+.1)*t.width,r=this.Sprite_area_game.y+t.y+(.3*Math.random()+.3)*t.height;n.FlashTo(a,r,1),_.GameDesk.listchouma.push(n),f.HallSoundManager.PlaySound(v.GameLoading34200.GetRes(v.GameLoading34200.musiclist[1]),1)},t.prototype.onUserAddCoin=function(e,t,n){if(e==c.default.myUserRoomInfo.pUserInfoStruct.bDeskStation)return this.onSelectBet(n),void this.addCoin(t);var o,i,a,r,l=n%6,u=C.SpriteChouMa34200.CreateNew(this,l);if(u.type=t,t==this.TYPE_DRAGON&&(this.betDragonNumber+=u.Money,this.Label_bet_dragon.text=g.GameTool.formatMoneyString(this.betDragonNumber),o=this.Sprite_area_dragon),t==this.TYPE_TIGER&&(this.betTigerNumber+=u.Money,this.Label_bet_tiger.text=g.GameTool.formatMoneyString(this.betTigerNumber),o=this.Sprite_area_tiger),t==this.TYPE_HE&&(this.betHeNumber+=u.Money,this.Label_bet_he.text=g.GameTool.formatMoneyString(this.betHeNumber),o=this.Sprite_area_he),i=this.Sprite_area_game.x+o.x+(.6*Math.random()+.1)*o.width,a=this.Sprite_area_game.y+o.y+(.3*Math.random()+.3)*o.height,_.GameUser.IsUserOnDesk(e)){_.GameUser.AddMoney(e,-1*u.Money);var p=_.GameUser.GetUser(e);r=p?p.spriteFace:this.Image_others}else r=this.Image_others;var h=this.Sprite_facegroup.x+r.x,d=this.Sprite_facegroup.y+r.y;u.pos(h,d,!0),_.GameUser.IsUserOnDesk(e)&&s.Laya.Tween.from(r,{x:r.x+20},100,s.Laya.Ease.backInOut,s.Laya.Handler.create(this,this.onUserAddOver,[e])),u.FlashTo(i,a,1),_.GameDesk.listchouma.push(u),f.HallSoundManager.PlaySound(v.GameLoading34200.GetRes(v.GameLoading34200.musiclist[1]),1)},t.prototype.onUserAddOver=function(e){_.GameUser.goBack(e)},t.prototype.onPlay=function(){},t.prototype.onGameStart=function(){_.GameUser.UpdateUserDesk(),this.onClearGame(),this.Sprite_card_dragon.texture=s.Laya.loader.getRes(v.GameLoading34200.GetRes(this.cardunKnown)),this.Sprite_card_tiger.texture=s.Laya.loader.getRes(v.GameLoading34200.GetRes(this.cardunKnown)),this.ani_fire_dragon.visible=!0,this.ani_fire_tiger.visible=!0,this.ani_light_dragon.visible=!1,this.ani_light_tiger.visible=!1,s.Laya.timer.once(200,this,this.onPlayVSAni),_.GameMyData.myLastMoney=_.GameMyData.myMoney},t.prototype.onPlayVSAni=function(){this.Sprite_win_ani.visible=!0,s.Laya.Tween.to(this.Image_dragon_bord,{x:116,y:3},500,s.Laya.Ease.circIn,null,0),s.Laya.Tween.to(this.Image_v,{x:851,y:7},500,s.Laya.Ease.circIn,null,0),s.Laya.Tween.to(this.win_vs_dragon,{x:419,y:-361},500,s.Laya.Ease.circIn,null,100),s.Laya.Tween.to(this.Image_dragon_shadow,{x:125,y:-425,width:1098,height:952,alpha:.45},200,s.Laya.Ease.circIn,null,600),s.Laya.Tween.to(this.Image_dragon_shadow,{alpha:0},200,s.Laya.Ease.circIn,null,800),s.Laya.Tween.to(this.Image_tiger_bord,{x:1068,y:103},500,s.Laya.Ease.circIn,null,0),s.Laya.Tween.to(this.Image_s,{x:986,y:28},500,s.Laya.Ease.circIn,null,0),s.Laya.Tween.to(this.win_vs_tiger,{x:1228,y:-108},500,s.Laya.Ease.circIn,null,100),s.Laya.Tween.to(this.Image_tiger_shadow,{x:1095,y:-220,width:1089,height:611,alpha:.45},200,s.Laya.Ease.circIn,null,600),s.Laya.Tween.to(this.Image_tiger_shadow,{alpha:0},200,s.Laya.Ease.circIn,null,800),s.Laya.timer.once(2e3,this,this.onEndVSAni),f.HallSoundManager.PlaySound(v.GameLoading34200.GetRes(v.GameLoading34200.musiclist[7]),1)},t.prototype.onEndVSAni=function(){s.Laya.Tween.to(this.Image_dragon_bord,{x:-597,y:3},200,s.Laya.Ease.circIn,null,0),s.Laya.Tween.to(this.Image_v,{x:-115,y:7},200,s.Laya.Ease.circIn,null,0),s.Laya.Tween.to(this.win_vs_dragon,{x:-360,y:-361},200,s.Laya.Ease.circIn,null,0),this.Image_dragon_shadow.x=459,this.Image_dragon_shadow.y=-275,this.Image_dragon_shadow.width=533,this.Image_dragon_shadow.height=558,this.Image_dragon_shadow.alpha=0,s.Laya.Tween.to(this.Image_tiger_bord,{x:2260,y:103},200,s.Laya.Ease.circIn,null,0),s.Laya.Tween.to(this.Image_s,{x:2107,y:28},200,s.Laya.Ease.circIn,null,0),s.Laya.Tween.to(this.win_vs_tiger,{x:2052,y:-108},200,s.Laya.Ease.circIn,null,0),this.Image_tiger_shadow.x=1222,this.Image_tiger_shadow.y=67,this.Image_tiger_shadow.width=806,this.Image_tiger_shadow.height=324,this.Image_tiger_shadow.alpha=0,s.Laya.timer.once(500,this,this.onStopVSAni)},t.prototype.onStopVSAni=function(){this.onReset(),this.onStartBet()},t.prototype.onStartBet=function(){this.Image_start_bet.x=-255,s.Laya.Tween.to(this.Image_start_bet,{x:1050},300,s.Laya.Ease.circIn),s.Laya.Tween.to(this.Image_start_bet,{x:3206},300,s.Laya.Ease.circIn,null,800)},t.prototype.setClock=function(e){this.clock=e,this.Label_clock.text=this.clock.toFixed(0)},t.prototype.onClock=function(){this.clock--,this.clock>0&&(this.Label_clock.text=this.clock.toFixed(0),f.HallSoundManager.PlaySound(v.GameLoading34200.GetRes(v.GameLoading34200.musiclist[6]),1))},t.prototype.onStopBet=function(){f.HallSoundManager.PlaySound(v.GameLoading34200.GetRes(v.GameLoading34200.musiclist[5]),1),this.Image_stop_bet.x=-255,s.Laya.Tween.to(this.Image_stop_bet,{x:1050},300,s.Laya.Ease.circIn),s.Laya.Tween.to(this.Image_stop_bet,{x:3206},300,s.Laya.Ease.circIn,null,800),s.Laya.timer.once(500,this,this.onShowCard)},t.prototype.onShowCard=function(){this.ShowCard(!0),s.Laya.timer.once(1500,this,this.ShowCard,[!1]),s.Laya.timer.once(2500,this,this.onVSCard)},t.prototype.ShowCard=function(e){e?(this.ani_fire_dragon.visible=!1,s.Laya.Tween.to(this.Sprite_card_dragon,{width:.1},200,null,s.Laya.Handler.create(this,this.changeDragonCard))):(this.ani_fire_tiger.visible=!1,s.Laya.Tween.to(this.Sprite_card_tiger,{width:.1},200,null,s.Laya.Handler.create(this,this.changeTigerCard)))},t.prototype.changeDragonCard=function(){this.Sprite_card_dragon.loadImage(v.GameLoading34200.GetRes(this.cardList[this.cardTypeDragon][this.cardIndexDragon])),s.Laya.Tween.to(this.Sprite_card_dragon,{width:102},200)},t.prototype.changeTigerCard=function(){this.Sprite_card_tiger.loadImage(v.GameLoading34200.GetRes(this.cardList[this.cardTypeTiger][this.cardIndexTiger])),s.Laya.Tween.to(this.Sprite_card_tiger,{width:102},200)},t.prototype.onVSCard=function(){this.cardIndexDragon>this.cardIndexTiger?(this.ani_dragon.zOrder=50,this.ani_dragon.visible=!0,this.ani_dragon.play(0,!1),this.ani_light_dragon.visible=!0,this.ani_light_dragon.play(0,!0),this.winstate=this.TYPE_DRAGON,this.Sprite_area_dragon.alpha=1,this.Sprite_card_dragon,_.GameDesk.MoveChouMaTo(this.winstate,this.Sprite_card_dragon_group.x,this.Sprite_card_dragon_group.y,this.Sprite_card_dragon_group.width,this.Sprite_card_dragon_group.height),f.HallSoundManager.PlaySound(v.GameLoading34200.GetRes(v.GameLoading34200.musiclist[2]),1)):this.cardIndexDragon<this.cardIndexTiger?(this.ani_tiger.zOrder=50,this.ani_tiger.visible=!0,this.ani_tiger.play(0,!1),this.ani_light_tiger.visible=!0,this.ani_light_tiger.play(0,!0),this.winstate=this.TYPE_TIGER,this.Sprite_area_tiger.alpha=1,this.Sprite_card_tiger,_.GameDesk.MoveChouMaTo(this.winstate,this.Sprite_card_tiger_group.x,this.Sprite_card_tiger_group.y,this.Sprite_card_tiger_group.width,this.Sprite_card_tiger_group.height),f.HallSoundManager.PlaySound(v.GameLoading34200.GetRes(v.GameLoading34200.musiclist[4]),1)):(this.ani_he.zOrder=50,this.ani_he.visible=!0,this.ani_he.play(0,!1),this.ani_light_dragon.visible=!0,this.ani_light_dragon.play(0,!0),this.ani_light_tiger.visible=!0,this.ani_light_tiger.play(0,!0),this.winstate=this.TYPE_HE,this.Sprite_area_he.alpha=1,this.Sprite_card_dragon,_.GameDesk.MoveChouMaTo(this.winstate,this.Sprite_card_dragon_group.x,this.Sprite_card_dragon_group.y,this.Sprite_card_dragon_group.width,this.Sprite_card_dragon_group.height),f.HallSoundManager.PlaySound(v.GameLoading34200.GetRes(v.GameLoading34200.musiclist[3]),1)),this.onAddWinTable(this.winstate),s.Laya.timer.once(1e3,this,this.FlyChouMa)},t.prototype.onLoopShine=function(){},t.prototype.FlyChouMa=function(){switch(this.winstate){case this.TYPE_DRAGON:this.Sprite_area_dragon,_.GameDesk.MoveChouMaTo(this.winstate,this.Sprite_area_game.x+this.Sprite_area_dragon.x,this.Sprite_area_game.y+this.Sprite_area_dragon.y,this.Sprite_area_dragon.width,this.Sprite_area_dragon.height);break;case this.TYPE_TIGER:this.Sprite_area_tiger,_.GameDesk.MoveChouMaTo(this.winstate,this.Sprite_area_game.x+this.Sprite_area_tiger.x,this.Sprite_area_game.y+this.Sprite_area_tiger.y,this.Sprite_area_tiger.width,this.Sprite_area_tiger.height);break;case this.TYPE_HE:this.Sprite_area_he,_.GameDesk.MoveChouMaTo(this.winstate,this.Sprite_area_game.x+this.Sprite_area_he.x,this.Sprite_area_game.y+this.Sprite_area_he.y,this.Sprite_area_he.width,this.Sprite_area_he.height)}s.Laya.timer.once(1e3,this,this.onVSCardOver)},t.prototype.onVSCardOver=function(){this.ani_dragon.visible=!1,this.ani_tiger.visible=!1,this.ani_he.visible=!1,this.winstate==this.TYPE_DRAGON?(this.Sprite_area_dragon.x,this.Sprite_area_dragon.width,this.Sprite_area_dragon.y,this.Sprite_area_dragon.height):this.winstate==this.TYPE_TIGER?(this.Sprite_area_tiger.x,this.Sprite_area_tiger.width,this.Sprite_area_tiger.y,this.Sprite_area_tiger.height):this.winstate==this.TYPE_HE&&(this.Sprite_area_he.x,this.Sprite_area_he.width,this.Sprite_area_he.y,this.Sprite_area_he.height),s.Laya.timer.once(1e3,this,this.RecycleBetToUser)},t.prototype.onRecycleBetToUser=function(e,t){for(var n=t;_.GameDesk.listchouma.length>0;){if(!(n>0)){0==t&&c.default.myUserRoomInfo.pUserInfoStruct.bDeskStation==e&&_.GameMyData.myLastMoney>0&&_.GameMyData.updateMoney(_.GameMyData.myLastMoney);break}var o=_.GameDesk.listchouma.pop();if(n-=o.Money,c.default.myUserRoomInfo.pUserInfoStruct.bDeskStation==e)o.FlashTo(10,900,0);else if(_.GameUser.IsUserOnDesk(e)){var i=_.GameUser.GetUser(e);if(i){var a=i.x+this.Sprite_facegroup.x,r=i.y+this.Sprite_facegroup.y;o.FlashTo(a,r,0)}}else a=this.Sprite_facegroup.x+this.Image_others.x,r=this.Sprite_facegroup.y+this.Image_others.y,o.FlashTo(a,r,0)}_.GameUser.IsUserOnDesk(e)&&_.GameUser.WinMoney(e,t)},t.prototype.onClearGame=function(){for(var e=0;e<_.GameUser.userList.length;e++)_.GameUser.goBack(e);C.SpriteChouMa34200.Free(),_.GameDesk.listchouma=[],this.Sprite_area_dragon.alpha=0,this.Sprite_area_tiger.alpha=0,this.Sprite_area_he.alpha=0,this.betDragonNumber=0,this.betHeNumber=0,this.betTigerNumber=0,this.mybetDragonNumber=0,this.mybetHeNumber=0,this.mybetTigerNumber=0,this.winstate=-1,this.mywin=0,this.TYPE_NOW=this.TYPE_NONE,this.Label_bet_dragon.text=g.GameTool.formatMoneyString(this.betDragonNumber),this.Label_bet_tiger.text=g.GameTool.formatMoneyString(this.betTigerNumber),this.Label_bet_he.text=g.GameTool.formatMoneyString(this.betHeNumber),this.Label_mybet_dragon.text=g.GameTool.formatMoneyString(this.mybetDragonNumber),this.Label_mybet_tiger.text=g.GameTool.formatMoneyString(this.mybetTigerNumber),this.Label_mybet_he.text=g.GameTool.formatMoneyString(this.mybetHeNumber),this.winani_0.visible=!1,this.winani_1.visible=!1,this.winani_2.visible=!1,this.winani_3.visible=!1,this.winani_4.visible=!1,this.winani_5.visible=!1,this.userWinAni=[]},t.prototype.onBetDragon=function(){_.GameMyData.myMoney<this.betNumber||this.TYPE_NOW!=this.TYPE_TIGER&&(this.TYPE_NOW=this.TYPE_DRAGON,this.addCoin(this.TYPE_TIGER),_.GameMyData.addMoney(-1*this.betNumber),this.betDragonNumber+=this.betNumber,this.Label_bet_dragon.text=g.GameTool.formatMoneyString(this.betDragonNumber),this.mybetDragonNumber+=this.betNumber,this.Label_mybet_dragon.text=g.GameTool.formatMoneyString(this.mybetDragonNumber))},t.prototype.onBetHe=function(){_.GameMyData.myMoney<this.betNumber||(this.addCoin(this.TYPE_HE),_.GameMyData.addMoney(-1*this.betNumber),this.betHeNumber+=this.betNumber,this.Label_bet_he.text=this.betHeNumber.toFixed(2),this.mybetHeNumber+=this.betNumber,this.Label_mybet_he.text=this.mybetHeNumber.toFixed(2))},t.prototype.onBetTiger=function(){_.GameMyData.myMoney<this.betNumber||this.TYPE_NOW!=this.TYPE_DRAGON&&(this.TYPE_NOW=this.TYPE_TIGER,this.addCoin(this.TYPE_TIGER),_.GameMyData.addMoney(-1*this.betNumber),this.betTigerNumber+=this.betNumber,this.Label_bet_tiger.text=this.betTigerNumber.toFixed(2),this.mybetTigerNumber+=this.betNumber,this.Label_mybet_tiger.text=this.mybetTigerNumber.toFixed(2))},t.prototype.onAddWinTable=function(e){this.List_table.array.length>100&&this.List_table.deleteItem(0),this.List_table.array.length>0&&this.List_table.changeItem(this.List_table.array.length-1,{Round:{skin:v.GameLoading34200.GetRes(this.itemIcon+this.gameRecord[this.gameRecord.length-1].toString()+".png")},flag:{skin:""}}),this.List_table.addItem({Round:{skin:v.GameLoading34200.GetRes(this.itemIcon+e.toString()+".png")},flag:{skin:v.GameLoading34200.GetRes(this.itemFlag)}}),this.gameRecord.push(e),this.List_table.scrollTo(this.List_table.array.length-1),m.HallEvent.event(S.GAME_EVENT.ROAD_EVENT,e)},t.prototype.updateItem=function(){},a([l()],t)}(b.GameMainBase34200);n.GameMain34200=R,cc._RF.pop()},{"../../halls/hall/BaseDesk":"BaseDesk","../../halls/hall/BaseRoom":"BaseRoom","../../halls/hall/Tips":"Tips","../../halls/halllib/common/ConfigMng":"ConfigMng","../../halls/halllib/common/Define":"Define","../../halls/halllib/common/LogBase":"LogBase","../../halls/halllib/core/HallData":"HallData","../../halls/halllib/core/RunData":"RunData","../../halls/halllib/laya/Laya":"Laya","../../halls/halllib/net/InnerEvent":"InnerEvent","../../halls/halllib/net/RoomMsgProxy":"RoomMsgProxy","./GameData34200":"GameData34200","./GameLoading34200":"GameLoading34200","./GameMain34200.generated":"GameMain34200.generated","./GameMsg34200":"GameMsg34200","./SpriteChouMa34200":"SpriteChouMa34200"}],"GameMain34400.generated":[function(e,t,n){"use strict";cc._RF.push(t,"2c9bedQo/tDFrW9aEYfJRwP","GameMain34400.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.GameMainBase34400=void 0;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.SelfName=null,t.SelfMoney=null,t.OtherImg=null,t.RoomPlayerCount=null,t.ChipCachePool=null,t.SICE_BIG=null,t.SICE_LEOPARD_ALL=null,t.SICE_SMALL=null,t.SICE_ONE=null,t.SICE_SINGLE=null,t.SICE_THREE=null,t.SICE_DOUBLE=null,t.SICE_TWO=null,t.SICE_SIX=null,t.SICE_FOUR=null,t.SICE_SAME_THREE=null,t.SICE_FIVE=null,t.SICE_SAME_ONE=null,t.SICE_SAME_FIVE=null,t.SICE_SAME_TWO=null,t.SICE_SAME_FOUR=null,t.SICE_LEOPARD_ONE=null,t.SICE_SAME_SIX=null,t.SICE_LEOPARD_FOUR=null,t.SICE_LEOPARD_TWO=null,t.SICE_LEOPARD_SIX=null,t.SICE_LEOPARD_THREE=null,t.SICE_LEOPARD_FIVE=null,t.ExitGameBtn=null,t.BLabel=null,t.SLabel=null,t.TLabel=null,t.RecordList=null,t.GameStateImg=null,t.GameStateTimer=null,t.BankerName=null,t.BankerMoney=null,t.BankerBtn=null,t.MenuBtn=null,t.MenuPanel=null,t.RuleBtn=null,t.MuiceBtn=null,t.SoundBtn=null,t.SelectChipList=null,t.RepeatBetBtn=null,t.WaitingGameStart=null,t.LotteryPanel=null,t.WinPanel=null,t.WinYWinMoney=null,t.WinConfirmBtn=null,t.LosePanel=null,t.LoseYLoseMoney=null,t.LoseConfirmBtn=null,t.BankerPanel=null,t.BankerCloseBtn=null,t.CarryoverMoney=null,t.RulePanel=null,t.RuleCloseBtn=null,t}return i(t,e),t}(e("../../halls/halllib/laya/Laya").Laya.Scene);n.GameMainBase34400=a,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya"}],GameMain34400:[function(e,t,n){"use strict";cc._RF.push(t,"721432Pr4NA3oOeb9cIzROf","GameMain34400");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.GameMain34400=void 0;var c=l(e("../../halls/hall/BaseRoom")),u=l(e("../../halls/hall/Tips")),p=e("../../halls/halllib/common/ConfigMng"),h=e("../../halls/halllib/common/Define"),d=e("../../halls/halllib/common/LogBase"),f=e("../../halls/halllib/core/HallData"),g=e("../../halls/halllib/core/RunData"),m=e("../../halls/halllib/net/InnerEvent"),y=e("./GameBetAreaInfo34400"),_=e("./GameConstant34400"),v=e("./GameMain34400.generated"),b=e("./GameMsgHandler34400"),S=e("../../halls/halllib/laya/Laya"),C=S.Laya.regClass,I=(S.Laya.property,S.Laya.Point),R=function(){},L=function(e){function t(){var t=e.call(this)||this;return t.ChipPool=null,t.selectChipIndex=-1,t.selfBetAreaScore=new Map,t.totalBetAreaScore=new Map,t.repeatCountTotal=0,t.selfMoney=0,t.isBet=!1,t.chipList=[],t.gameRecordList=[],t.recordLightIsExecute=!1,t.lastBetTotal=0,t.openPrize=null,t.winAreaList=[],t.selfWinMoney=0,t.isOpenMenu=!1,t.ChipMoveToPlayer=function(){for(var e=0;e<t.winAreaList.length;e++)t.winAreaList[e]>0&&(t.selfBetAreaScore.has(e)&&t.ChipPool.GameEndMoveToPlayer(e,t.selfChipPos,t.selfBetAreaScore.get(e)),t.ChipPool.GameEndMoveToPlayer(e,t.otherPos,t.totalBetAreaScore.get(e)));return new Promise(function(e){S.Laya.timer.once(800,t,function(){t.isBet&&(t.selfWinMoney>0?(t.WinPanel.visible=!0,t.WinYWinMoney.text="+"+g.GameTool.formatMoneyString(t.selfWinMoney)):t.selfWinMoney<0&&(t.LosePanel.visible=!0,t.LoseYLoseMoney.text=g.GameTool.formatMoneyString(t.selfWinMoney)),t.selfMoney=g.RunData.myUserInfo.dwMoney,t.UpdateMoney()),e()})})},t}return i(t,e),t.prototype.onAwake=function(){this.InitUI(),this.InitData(),this.AddBtnEvent(),b.GameMsgHandler34400.Instance.Init(this)},t.prototype.InitUI=function(){var e=this;this.otherPos=new I(46,691),this.selfChipPos=new I(130,660),this.selfBetAreaScore=new Map,this.totalBetAreaScore=new Map,this.betArea=new Map;for(var t=function(t){n.selfBetAreaScore.set(t,0),n.totalBetAreaScore.set(t,0);var o=_.BET_AREA[t],i=t,a=n.getChildByName("Panel01").getChildByName("BetArea").getChildByName(o);null!=a&&(n.betArea.set(i,new y.GameBetAreaInfo34400(a)),a.on(S.Laya.Event.CLICK,n,function(){e.OnBetClick(i)}))},n=this,o=0;o<_.BET_AREA.SICE_MAX;o++)t(o);this.SelfName.text=g.RunData.myUserInfo.nickName,this.selfMoney=g.RunData.myUserInfo.dwMoney,this.UpdateMoney(),this.ChipPool=this.ChipCachePool.getComponent(S.Laya.Script),this.openPrize=this.LotteryPanel.getComponent(S.Laya.Script)},t.prototype.InitData=function(){this.WinPanel.visible=!1,this.LosePanel.visible=!1,this.totalBetAreaScore.clear(),this.selfBetAreaScore.clear(),this.selfWinMoney=0,this.isBet=!1,this.WaitingGameStart.visible=!1,this.winAreaList=[],this.betArea.forEach(function(e){e.Reset()}),this.ChipPool.RecoverAllObj(),this.openPrize.StartBet()},t.prototype.AddBtnEvent=function(){var e=this;this.MenuBtn.on(S.Laya.Event.CLICK,this,this.OnOpenAndCloseMenu),this.ExitGameBtn.on(S.Laya.Event.CLICK,this,this.OnExitBtnClick),this.BankerBtn.on(S.Laya.Event.CLICK,this,this.OnOpenBankerPanel),this.BankerCloseBtn.on(S.Laya.Event.CLICK,this,this.OnCloseBankerPanel),this.RepeatBetBtn.on(S.Laya.Event.CLICK,this,this.OnRepeatBetClick),this.WinConfirmBtn.on(S.Laya.Event.CLICK,this,function(){e.WinPanel.visible=!1}),this.LoseConfirmBtn.on(S.Laya.Event.CLICK,this,function(){e.LosePanel.visible=!1}),this.MuiceBtn.on(S.Laya.Event.CLICK,this,this.OnMuiceToggle),this.SoundBtn.on(S.Laya.Event.CLICK,this,this.OnEffectToggle),f.LocalTempData.getMusicVolume()>0?f.LocalTempData.setSoundVolume(1):(f.LocalTempData.setSoundVolume(0),S.Laya.SoundManager.stopAllSound()),f.LocalTempData.getSoundVolume()>0?(S.Laya.SoundManager.playMusic(_.GameConstant34400.SOUND_GameSceneBGM,0),f.LocalTempData.setMusicVolume(1)):(f.LocalTempData.setMusicVolume(0),S.Laya.SoundManager.stopMusic()),this.MuiceBtn.selected=f.LocalTempData.getMusicVolume()>0,this.SoundBtn.selected=f.LocalTempData.getSoundVolume()>0,this.RuleBtn.on(S.Laya.Event.CLICK,this,this.OnOpenRulePanel),this.RuleCloseBtn.on(S.Laya.Event.CLICK,this,this.OnCloseRulePanel)},t.prototype.UpdateMoney=function(){this.SelfMoney.text=g.GameTool.formatMoneyString(this.selfMoney)},t.prototype.UpdateRoomPlayerCount=function(){},t.prototype.GameSceneData=function(e){var t=this;this.gameRecordList=[];for(var n=0;n<e.mRecordData.length;n++){var o=new R;o.Point1=e.mRecordData[n]>>16&255,o.Point2=e.mRecordData[n]>>8&255,o.Point3=255&e.mRecordData[n],o.TotalPoint=o.Point1+o.Point2+o.Point3,o.Point1==o.Point2&&o.Point1==o.Point3?o.DiceType=2:o.TotalPoint>=11?o.DiceType=0:o.DiceType=1,this.gameRecordList.push(o)}for(this.chipList=[],n=0;n<e.iCanSelectNotes.length&&n<_.GameConstant34400.NOTE_MONEY_COUNT;n++)this.chipList.push(e.iCanSelectNotes[n]);this.RefreshChipState();var i=function(e){var n=a.SelectChipList.getCell(e),o=e;n.on(S.Laya.Event.CLICK,a,function(){t.SelectChip(o)})},a=this;for(n=0;n<this.SelectChipList.array.length;n++)i(n);var r=-1;for(n=0;n<e.iCanSelectNotes.length;n++)this.selfMoney>=e.iCanSelectNotes[n]&&(r=n);-1!=r&&this.SelectChip(r),this.RefreshRecord();var s=Math.round(e.iLeftTick/1e3);if(this.StartCountdown(s),this.ChipPool.InitChipPool(e.iCanSelectNotes,this.betArea),e.bStation==_.GAME_STATE.Bet?this.GameStateImg.skin="resources/games/game34400/res/Image/Game/Txt_YZZ.png":(this.GameStateImg.skin="resources/games/game34400/res/Image/Game/Txt_Game_KJZ.png",this.WaitingGameStart.visible=!0,this.WaitingGameStart.getComponent(S.Laya.Animator2D).play("WaitingNextStart",0,0)),e.bStation==_.GAME_STATE.Bet||e.bStation==_.GAME_STATE.OpenPrize||e.bStation==_.GAME_STATE.End){for(n=0;n<e.SelfAreaNotes.length;n++)e.SelfAreaNotes[n]>0&&(this.isBet=!0,this.betArea.get(n).RefreshSelfBetMoney(e.SelfAreaNotes[n],!1),this.selfBetAreaScore.set(n,e.SelfAreaNotes[n]));for(n=0;n<e.AreaNotes.length;n++)e.AreaNotes[n]>0&&(this.betArea.get(n).RefreshTotalBetMoney(e.AreaNotes[n]),this.ChipPool.CreateAreaChip(n,e.AreaNotes[n]),this.totalBetAreaScore.set(n,e.AreaNotes[n]))}var l=this.GetPlayerInfoByChairId(e.BankerInfo.iNtStation);null!=l&&(this.BankerName.text=l.nickName,this.BankerMoney.text=g.GameTool.formatMoneyString(e.BankerInfo.CurMoney))},t.prototype.GameStateUpdate=function(e){e.iState==_.GAME_STATE.Bet?(f.HallSoundManager.PlaySound(_.GameConstant34400.EFFECT_StartBet,1),this.GameStateImg.skin="resources/games/game34400/res/Image/Game/Txt_YZZ.png",this.InitData()):e.iState==_.GAME_STATE.OpenPrize?(f.HallSoundManager.PlaySound(_.GameConstant34400.EFFECT_StopBet,1),this.GameStateImg.skin="resources/games/game34400/res/Image/Game/Txt_Game_KJZ.png",this.OpenPrize(e)):e.iState==_.GAME_STATE.End&&(this.GameStateImg.skin="resources/games/game34400/res/Image/Game/Txt_Game_KJZ.png",this.selfWinMoney=e.WinMoney,this.GameEnd());var t=Math.round(e.Tick/1e3);this.StartCountdown(t)},t.prototype.GameBankerListData=function(){},t.prototype.GameBet=function(e){if(0==e.State){f.HallSoundManager.PlaySound(_.GameConstant34400.EFFECT_Bet,1);var t=null;if(e.nDeskStation==c.default.myUserRoomInfo.pUserInfoStruct.bDeskStation){this.isBet=!0,this.betArea.get(e.AreaIndex).RefreshSelfBetMoney(e.NoteMoney),t=this.GetBetChipInitPos(this.selectChipIndex),this.ChipPool.MoveToArea(t,e.AreaIndex,e.NoteMoney);var n=this.selfBetAreaScore.get(e.AreaIndex);this.selfBetAreaScore.set(e.AreaIndex,n+e.NoteMoney),this.selfMoney-=e.NoteMoney,this.UpdateMoney()}else this.ChipPool.MoveToArea(this.otherPos,e.AreaIndex,e.NoteMoney),this.betArea.get(e.AreaIndex).RefreshTotalBetMoney(e.NoteMoney);if(this.totalBetAreaScore.has(e.AreaIndex)){var o=this.totalBetAreaScore.get(e.AreaIndex);this.totalBetAreaScore.set(e.AreaIndex,o+e.NoteMoney)}else this.totalBetAreaScore.set(e.AreaIndex,e.NoteMoney)}else u.default.SetText(p.ConfigMng.getTips("ERROR_CODE_GAME34400_Bet"+e.State.toString()))},t.prototype.GameRepeatBet=function(e){var t=this;if(0==e.mState)if(e.nDeskStation==c.default.myUserRoomInfo.pUserInfoStruct.bDeskStation){this.isBet=!0;for(var n=0,o=function(o){if(e.AreaNoteMoney[o]>0){i.betArea.get(o).RefreshSelfBetMoney(e.AreaNoteMoney[o]),i.ChipPool.GetChipLevelNum(e.AreaNoteMoney[o]).forEach(function(e,n){for(var i=t.GetBetChipInitPos(n),a=0;a<e;a++)t.ChipPool.MoveToArea(i,o,t.chipList[n])}),n+=e.AreaNoteMoney[o];var a=i.selfBetAreaScore.get(o);i.selfBetAreaScore.set(o,a+e.AreaNoteMoney[o])}},i=this,a=0;a<e.AreaNoteMoney.length;a++)o(a);this.selfMoney-=n,this.UpdateMoney()}else for(a=0;a<e.AreaNoteMoney.length;a++)e.AreaNoteMoney[a]>0&&this.betArea.get(a).RefreshTotalBetMoney(e.AreaNoteMoney[a]);else u.default.SetText(p.ConfigMng.getTips("ERROR_CODE_GAME34400_RepeatBet"+e.State.toString()))},t.prototype.GameUpBanker=function(e){0==e.State||u.default.SetText(p.ConfigMng.getTips("ERROR_CODE_GAME34400_UpBanker"+e.State.toString()))},t.prototype.GameUnderBanker=function(e){0==e.State||1==e.State||(2==e.State?u.default.SetText("Required to pay taxes according to the tax rate ("+e.nTaxRatio+")%"):u.default.SetText(p.ConfigMng.getTips("ERROR_CODE_GAME34400_UnderBanker"+e.State.toString())))},t.prototype.GameUpdateBankerInfo=function(){},t.prototype.GameEnd=function(){var e=this;this.RefreshRecord(),this.LotteryPanel.visible=!1;for(var t=[],n=new Map,o=0;o<this.winAreaList.length;o++)this.winAreaList[o]>0?(this.betArea.get(o).Lottery(),null!=this.totalBetAreaScore.get(o)&&this.totalBetAreaScore.get(o)>0&&n.set(o,this.totalBetAreaScore.get(o))):t.push(o);this.executeSequentiallyGameEnd([function(){return e.ChipPool.GameEndMoveToDealer(t)},function(){return e.ChipPool.GameEndMoveToWinningArea(n)},function(){return e.ChipMoveToPlayer()}])},t.prototype.executeSequentiallyGameEnd=function(e){return r(this,void 0,Promise,function(){var t,n;return s(this,function(o){switch(o.label){case 0:t=0,n=e,o.label=1;case 1:return t<n.length?[4,(0,n[t])()]:[3,4];case 2:o.sent(),o.label=3;case 3:return t++,[3,1];case 4:return[2]}})})},t.prototype.OpenPrize=function(e){this.LotteryPanel.visible=!0,this.openPrize.OpenPrize(e),this.winAreaList=e.bWinPrize;var t=new R;t.Point1=e.bSicePoint[0],t.Point2=e.bSicePoint[1],t.Point3=e.bSicePoint[2],t.TotalPoint=t.Point1+t.Point2+t.Point3,t.Point1==t.Point2&&t.Point1==t.Point3?t.DiceType=2:t.TotalPoint>=11?t.DiceType=0:t.DiceType=1,this.gameRecordList.push(t)},t.prototype.RefreshRecord=function(){this.RecordList.array=[];for(var e=0,t=0,n=0,o=this.gameRecordList.length>_.GameConstant34400.RECORD_COUNT?this.gameRecordList.length-_.GameConstant34400.RECORD_COUNT:0;o<this.gameRecordList.length;o++){var i=o==this.gameRecordList.length-1?"resources/games/game34400/res/Image/Game/Icon_LD_Ray0.png":"",a=_.GameConstant34400.RecordDicePoint.get(this.gameRecordList[o].Point1),r=_.GameConstant34400.RecordDicePoint.get(this.gameRecordList[o].Point2),s=_.GameConstant34400.RecordDicePoint.get(this.gameRecordList[o].Point3),l=_.GameConstant34400.RecordDiceType.get(this.gameRecordList[o].DiceType);0==this.gameRecordList[o].DiceType?e++:1==this.gameRecordList[o].DiceType?t++:n++,this.RecordList.addItem({LightEffect:{skin:i},Up:{skin:a},Left:{skin:r},Right:{skin:s},PointNum:{text:this.gameRecordList[o].TotalPoint.toString()},Result:{skin:l}})}this.BLabel.text=e.toString(),this.SLabel.text=t.toString(),this.TLabel.text=n.toString(),this.RecordList.repeatX=this.RecordList.array.length,this.RecordList.scrollTo(this.RecordList.length-1),0==this.recordLightIsExecute&&this.LoopPlayRecordAnim()},t.prototype.LoopPlayRecordAnim=function(){var e=this;if(this.RecordList.array.length>0){this.recordLightIsExecute=!0;var t=this.RecordList.getCell(this.RecordList.array.length-1).getChildByName("LightEffect");1==t.alpha?S.Laya.Tween.to(t,{alpha:.2},500,S.Laya.Ease.linearIn,S.Laya.Handler.create(this,function(){t.alpha=.2,e.LoopPlayRecordAnim()})):S.Laya.Tween.to(t,{alpha:1},500,S.Laya.Ease.linearIn,S.Laya.Handler.create(this,function(){t.alpha=1,e.LoopPlayRecordAnim()}))}},t.prototype.StartCountdown=function(e){e<=0||(this.repeatCountTotal=e,this.repeatCountTotal<=0&&(this.repeatCountTotal=0),this.GameStateTimer.text=this.repeatCountTotal.toString(),S.Laya.timer.loop(1e3,this,this.CountdownCallBack))},t.prototype.CountdownCallBack=function(){this.repeatCountTotal--,this.repeatCountTotal<=0&&(this.repeatCountTotal=0,S.Laya.timer.clear(this,this.CountdownCallBack)),this.GameStateTimer.text=this.repeatCountTotal.toString()},t.prototype.SelectChip=function(e){if(this.selectChipIndex!=e){for(var t=0;t<this.SelectChipList.length;t++){var n=this.SelectChipList.getCell(t);n.y=0,n.getChildByName("ChipLight").visible=!1}var o=this.SelectChipList.getCell(e);this.selectChipIndex=e,o.getChildByName("ChipLight").visible=!0,S.Laya.Tween.to(o,{y:-2},200,S.Laya.Ease.linearInOut)}},t.prototype.RefreshChipState=function(){this.SelectChipList.array=[];for(var e=0;e<this.chipList.length;e++){var t="resources/games/game34400/res/Image/Game/UI_Chips_"+(e+1).toString()+".png";this.SelectChipList.addItem({Chip:{skin:t},ChipAmount:{text:g.GameTool.formatMoneyString2(this.chipList[e])},ChipLight:{skin:"resources/games/game34400/res/Image/Game/Icon_ChouMaBox.png"}})}this.SelectChipList.repeatX=_.GameConstant34400.NOTE_MONEY_COUNT},t.prototype.OnBetClick=function(e){this.chipList[this.selectChipIndex]>this.selfMoney?m.HallEvent.event(m.HallEvent.SHOW_RECHARGE_TIP):b.GameMsgHandler34400.Instance.GameBetRequest(c.default.myUserRoomInfo.pUserInfoStruct.bDeskStation,e,this.selectChipIndex)},t.prototype.OnRepeatBetClick=function(){0==this.isBet&&b.GameMsgHandler34400.Instance.GameRepeatBetRequest()},t.prototype.OnOpenAndCloseMenu=function(){f.HallSoundManager.PlaySound(_.GameConstant34400.EFFECT_BtnClick,1),this.isOpenMenu?S.Laya.Tween.to(this.MenuPanel,{y:-231},10):S.Laya.Tween.to(this.MenuPanel,{y:85},10),this.isOpenMenu=!this.isOpenMenu},t.prototype.OnOpenBankerPanel=function(){this.BankerPanel.visible=!0},t.prototype.OnCloseBankerPanel=function(){this.BankerPanel.visible=!1},t.prototype.OnOpenRulePanel=function(){f.HallSoundManager.PlaySound(_.GameConstant34400.EFFECT_BtnClick,1),this.RulePanel.visible=!0},t.prototype.OnCloseRulePanel=function(){f.HallSoundManager.PlaySound(_.GameConstant34400.EFFECT_BtnClick,1),this.RulePanel.visible=!1},t.prototype.OnMuiceToggle=function(){f.HallSoundManager.PlaySound(_.GameConstant34400.EFFECT_BtnClick,1),this.MuiceBtn.selected?S.Laya.SoundManager.playMusic(_.GameConstant34400.SOUND_GameSceneBGM,0):S.Laya.SoundManager.stopMusic()},t.prototype.OnEffectToggle=function(){f.HallSoundManager.PlaySound(_.GameConstant34400.EFFECT_BtnClick,1),this.SoundBtn.selected?f.LocalTempData.setSoundVolume(1):(f.LocalTempData.setSoundVolume(0),S.Laya.SoundManager.stopAllSound())},t.prototype.GetBetChipInitPos=function(e){var t=new I;return 0==e?t=new I(410,660):1==e?t=new I(530,660):2==e?t=new I(650,660):3==e?t=new I(770,660):4==e?t=new I(890,660):5==e?t=new I(1010,660):d.LogBase.error("\u83b7\u53d6\u81ea\u5df1\u4e0b\u6ce8\u65f6\u7b79\u7801\u7684\u521d\u59cb\u4f4d\u7f6e\u9519\u8bef,\u9519\u8bef\u7684\u7b79\u7801\u7d22\u5f15: "+e),t},t.prototype.GetPlayerInfoByChairId=function(e){for(var t=0;t<c.default.userList.length;t++)if(c.default.userList[t].bDeskStation==e)return c.default.userList[t];return d.LogBase.error("\u672a\u83b7\u53d6\u5230\u73a9\u5bb6\u4fe1\u606f,\u6905\u5b50ID: "+e),null},t.prototype.OnExitBtnClick=function(){this.isBet?u.default.SetText(p.ConfigMng.getTips(h.Define.TIPS.CANNOT_EXIT_GAME)):(this.close(),this.destroy())},t.prototype.onClosed=function(){b.GameMsgHandler34400.Instance.Destroy(),S.Laya.timer.clearAll(this),S.Laya.Tween.clearAll(this),m.HallEvent.event(m.HallEvent.GO_BACK_TO_HALL),this.ChipPool.OnDestroy()},a([C()],t)}(v.GameMainBase34400);n.GameMain34400=L,cc._RF.pop()},{"../../halls/hall/BaseRoom":"BaseRoom","../../halls/hall/Tips":"Tips","../../halls/halllib/common/ConfigMng":"ConfigMng","../../halls/halllib/common/Define":"Define","../../halls/halllib/common/LogBase":"LogBase","../../halls/halllib/core/HallData":"HallData","../../halls/halllib/core/RunData":"RunData","../../halls/halllib/laya/Laya":"Laya","../../halls/halllib/net/InnerEvent":"InnerEvent","./GameBetAreaInfo34400":"GameBetAreaInfo34400","./GameConstant34400":"GameConstant34400","./GameMain34400.generated":"GameMain34400.generated","./GameMsgHandler34400":"GameMsgHandler34400"}],"GameMain34500.generated":[function(e,t,n){"use strict";cc._RF.push(t,"6c0af0TExdLDLqxj0mh6V9z","GameMain34500.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.GameMainBase34500=void 0;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.PaiList=null,t.PaiMask=null,t.BetToggle=null,t.AddBetBtn=null,t.SubBetBtn=null,t.BetInput=null,t.Bomb=null,t.NormalNode=null,t.StartBtn=null,t.AutomatlcChooseBtn=null,t.GrayAutomatlcChoose=null,t.AudoNode=null,t.StartAutoBtn=null,t.StopAutoBtn=null,t.Rounds=null,t.StopWinning=null,t.StopLoseing=null,t.WithdrawBtn=null,t.SetBtn=null,t.RuleBtn=null,t.Head=null,t.Money=null,t.RecordToggle=null,t.BetsText=null,t.RecordList=null,t.MultipleList=null,t.WinNode=null,t.WinLabel=null,t.SetPanel=null,t.SetCloseBtn=null,t.SoundTooggle=null,t.EffectToggle=null,t.ExitGameBtn=null,t.RulePanel=null,t.RuleCloseBtn=null,t}return i(t,e),t}(e("../../halls/halllib/laya/Laya").Laya.Scene);n.GameMainBase34500=a,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya"}],GameMain34500:[function(e,t,n){"use strict";cc._RF.push(t,"dc591uCrSlC2qwP4BW4jXK4","GameMain34500");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.GameMain34500=void 0;var s=r(e("../../halls/hall/Tips")),l=e("../../halls/halllib/common/ConfigMng"),c=e("../../halls/halllib/common/Define"),u=e("../../halls/halllib/common/LogBase"),p=e("../../halls/halllib/core/HallData"),h=e("../../halls/halllib/core/RunData"),d=e("../../halls/halllib/net/InnerEvent"),f=e("./GameConstant34500"),g=e("./GameMain34500.generated"),m=e("./GameMsgHandler34500"),y=e("../../halls/halllib/laya/Laya"),_=y.Laya.regClass,v=(y.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.PaiCount=25,t.minBet=0,t.maxBet=0,t.selectBombNum=1,t.treasureLevel=[],t.betScore=0,t.userScore=0,t.autoDigRounds=0,t.stopWin=0,t.stopLose=0,t.paiStateList=[],t.isDig=!1,t.isManualExit=!1,t.isNormalModel=!1,t}return i(t,e),t.prototype.onAwake=function(){this.InitUI(),this.AddBtnClick(),m.GameMsgHandler34500.Instance.Init(this),this.GameOverInitPanel(),y.Laya.timer.loop(f.GameConstant34500.OtherRecordRequestTimer,this,function(){m.GameMsgHandler34500.Instance.OtherRecordRequest()},null,!0)},t.prototype.InitUI=function(){var e=this;this.RecordList.array=[],this.PaiList.array=[];for(var t=0;t<this.PaiCount;t++)this.PaiList.addItem({Spine:{source:"resources/games/game34500/res/Spine/card/card_3Anim.json"}});this.PaiList.repeatX=5,this.PaiList.repeatY=5;var n=function(t){var n=o.PaiList.getCell(t),i=t;n.on(y.Laya.Event.CLICK,o,function(){e.paiStateList[i]==f.BOARD_SLOT_VALUE.SLOT_VALUE_COVERED&&e.isNormalModel&&m.GameMsgHandler34500.Instance.DigRequest(i)})},o=this;for(t=0;t<this.PaiList.array.length;t++)n(t);var i=this.GetBombNum(f.GameConstant34500.MAX_MINE_NUMBER);y.Laya.loader.load("resources/games/game34500/res/Prefabs/SelectBomb.lh").then(function(t){var n=t.create();e.comboList=n,e.comboList.array=i,e.comboList.repeatY=i.length,e.Bomb.list=e.comboList,e.Bomb.list.width=e.Bomb.width,e.Bomb.list.height=e.Bomb.height,e.Bomb.list.hScrollBarSkin="",e.Bomb.selectedIndex=0});var a=h.RunData.myUserInfo.bLogoID;(a<0||a>l.ConfigMng.hallconfigJson.face.facelist.length)&&(a=0),this.Head.skin=l.ConfigMng.hallconfigJson.face.facelist[a],this.OnGameModeToggle()},t.prototype.GetBombNum=function(e){for(var t=[],n=0;n<e;n++)t[n]={Label:n+1};var o=Array.from({length:e},function(e,t){return t+1}).join(",");return this.Bomb.labels=o,t},t.prototype.AddBtnClick=function(){this.SetBtn.on(y.Laya.Event.CLICK,this,this.OpenSetPanel),this.SetCloseBtn.on(y.Laya.Event.CLICK,this,this.CloseSetPanel),this.SoundTooggle.on(y.Laya.Event.CLICK,this,this.OnSoundTooggle),this.EffectToggle.on(y.Laya.Event.CLICK,this,this.OnEffectToggle),p.LocalTempData.getMusicVolume()>0?p.LocalTempData.setSoundVolume(1):(p.LocalTempData.setSoundVolume(0),y.Laya.SoundManager.stopAllSound()),p.LocalTempData.getSoundVolume()>0?(y.Laya.SoundManager.playMusic(f.GameConstant34500.SOUND_GameSceneBGM,0),p.LocalTempData.setMusicVolume(1)):(p.LocalTempData.setMusicVolume(0),y.Laya.SoundManager.stopMusic()),this.SoundTooggle.selected=p.LocalTempData.getMusicVolume()>0,this.EffectToggle.selected=p.LocalTempData.getSoundVolume()>0,this.RuleBtn.on(y.Laya.Event.CLICK,this,this.OpenRulePanel),this.RuleCloseBtn.on(y.Laya.Event.CLICK,this,this.CloseRulePanel),this.ExitGameBtn.on(y.Laya.Event.CLICK,this,this.ExitGame),this.RecordToggle.on(y.Laya.Event.CLICK,this,this.OnRecordToggle),this.BetToggle.on(y.Laya.Event.CLICK,this,this.OnGameModeToggle),this.AddBetBtn.on(y.Laya.Event.CLICK,this,this.OnBetAdd),this.SubBetBtn.on(y.Laya.Event.CLICK,this,this.OnBetSub),this.BetInput.on(y.Laya.Event.BLUR,this,this.OnBetInpue),this.Bomb.selectHandler=new y.Laya.Handler(this,this.OnSelectedBomb),this.WithdrawBtn.on(y.Laya.Event.CLICK,this,this.OnWithdrwa),this.StartBtn.on(y.Laya.Event.CLICK,this,this.OnNormalStartGame),this.AutomatlcChooseBtn.on(y.Laya.Event.CLICK,this,this.OnAutoChoose),this.StartAutoBtn.on(y.Laya.Event.CLICK,this,this.OnAutoStartGame),this.StopAutoBtn.on(y.Laya.Event.CLICK,this,this.AutoGameExitRequest),this.StopAutoBtn.visible=!1,this.Rounds.on(y.Laya.Event.INPUT,this,this.OnInputRound),this.StopWinning.on(y.Laya.Event.INPUT,this,this.OnInputStopWin),this.StopLoseing.on(y.Laya.Event.INPUT,this,this.OnInputStopLoss)},t.prototype.InitGameData=function(e){this.minBet=e.m_dMinBet,this.betScore=e.m_dMinBet,this.maxBet=e.m_dMaxBet,this.treasureLevel=e.m_arrTreasureLevel,this.userScore=e.m_dUserScore,this.UpdateUserInfo(),this.paiStateList=e.m_arrBoardInfo,this.BetInput.text=h.GameTool.formatMoneyString(e.m_dMinBet);for(var t=0,n=0;n<e.m_arrBoardInfo.length;n++){var o=this.GetSkeleton(n);0==e.m_arrBoardInfo[n]?o.play(f.GameConstant34500.SkeletonAnimationName_stand,!1):1==e.m_arrBoardInfo[n]?(o.play(f.GameConstant34500.SkeletonAnimationName_gold,!1),t+=1):3==e.m_arrBoardInfo[n]&&(o.play(f.GameConstant34500.SkeletonAnimationName_bomb,!1),t+=1)}e.m_byGameStatus==f.GAME_STATUS_E.E_GAME_STATUS_IDLE?(this.RefreshMultiple(0),this.BetToggle.selectedIndex=0,this.StopAutoBtn.visible=!1,this.BetInput.text=h.GameTool.formatMoneyString(e.m_dMinBet)):e.m_byGameStatus==f.GAME_STATUS_E.E_GAME_STATUS_PLAY&&(this.GameStart(e.m_byGameMode==f.GAME_MODE_E.E_GAME_MODE_NORMAL),this.RefreshMultiple(e.m_nMines-1,e.m_byTreasureLevelIndex),this.BetToggle.selectedIndex=e.m_byGameMode-1,this.BetInput.text=h.GameTool.formatMoneyString(e.m_dBetScore),this.Bomb.selectedIndex=e.m_nMines,this.Bomb.selectedLabel=e.m_nMines.toString(),this.selectBombNum=e.m_nMines,this.betScore=e.m_dBetScore,this.autoDigRounds=e.m_nDigTimes,this.stopWin=e.m_nWinGamesToStop,this.stopLose=e.m_nLoseGamesToStop,this.WithdrawBtn.label=h.GameTool.formatMoneyString(e.m_dCurrentEarnings),this.StopAutoBtn.visible=!0,this.isDig=e.m_dCurrentEarnings>0,this.isNormalModel=e.m_byGameMode==f.GAME_MODE_E.E_GAME_MODE_NORMAL,e.m_byGameMode==f.GAME_MODE_E.E_GAME_MODE_NORMAL?(this.AutomatlcChooseBtn.visible=!0,this.GrayAutomatlcChoose.visible=!1):e.m_byGameMode==f.GAME_MODE_E.E_GAME_MODE_AUTO&&(e.m_nWinGamesToStop>0&&(this.StopWinning.text=(e.m_nWinGamesToStop-e.m_nWinGamesFinished).toString()),e.m_nLoseGamesToStop>0&&(this.StopLoseing.text=(e.m_nLoseGamesToStop-e.m_nLoseGamesFinished).toString()),this.Rounds.text=(e.m_nDigTimes-t).toString(),this.WithdrawBtn.mouseEnabled=!1))},t.prototype.RefreshMultiple=function(e,t){void 0===t&&(t=-1);var n=this.treasureLevel[e];if(null!=n&&null!=n){this.MultipleList.array=[];for(var o=0,i=0;i<n.length;i++)n[i]>0&&(this.MultipleList.addItem({Image:{skin:"resources/games/game34500/res/Image/Atlas/Game/UI_MultiplyingBG.png"},Label:{text:n[i].toString()}}),o++);if(this.MultipleList.repeatX=o,t>=0){var a=0;a=t<5?2:t,this.MultipleList.tweenTo(a-2),this.MultipleList.selectedIndex=a}else this.MultipleList.tweenTo(a-2);""!=this.Rounds.text&&Number(this.Rounds.text)>f.GameConstant34500.SLOT_NUMBER-e&&(this.Rounds.text=(f.GameConstant34500.SLOT_NUMBER-e).toString(),this.autoDigRounds=f.GameConstant34500.SLOT_NUMBER-e)}},t.prototype.UpdateUserInfo=function(){this.Money.text=h.GameTool.formatMoneyString(this.userScore)},t.prototype.GameStart=function(e){for(var t=0;t<this.PaiList.length;t++)this.PaiList.getCell(t).mouseEnabled=e;this.PaiMask.visible=!1,this.Bomb.mouseEnabled=!1,this.StartBtn.visible=!1,this.GrayAutomatlcChoose.visible=!1,this.AutomatlcChooseBtn.visible=!0,this.WithdrawBtn.visible=!0,this.WithdrawBtn.label="0",this.userScore=this.userScore-this.betScore,this.UpdateUserInfo(),this.BetToggle.mouseEnabled=!1,this.BetInput.mouseEnabled=!1,this.AddBetBtn.mouseEnabled=!1,this.SubBetBtn.mouseEnabled=!1,this.Rounds.mouseEnabled=!1,this.StopWinning.mouseEnabled=!1,this.StopLoseing.mouseEnabled=!1,this.StartAutoBtn.mouseEnabled=!1},t.prototype.RefreshGameRecord=function(){var e=0==this.RecordToggle.selectedIndex?this.selfGameRecord:this.otherGameRecord;if(null!=e){this.RecordList.array=[];for(var t=0;t<e.m_wRecordCount;t++){var n;n=null!=e.m_arrRecord[t].m_szNickName?e.m_arrRecord[t].m_szNickName.toString():h.GameTool.formatMoneyString(e.m_arrRecord[t].m_dBetScore),this.RecordList.addItem({Image:{skin:"resources/games/game34500/res/Image/Atlas/Game/UI_Img7.png"},Label_Date:{text:e.m_arrRecord[t].m_byMonth.toString()+"|"+e.m_arrRecord[t].m_byDay.toString()},Label_Bets:{text:n},Label_Mines:{text:e.m_arrRecord[t].m_nMines.toString()},Label_Times:{text:e.m_arrRecord[t].m_nDigTimes.toString()},Label_Result:{text:h.GameTool.formatMoneyString(e.m_arrRecord[t].m_dResult)}})}this.RecordList.repeatY=e.m_wRecordCount}},t.prototype.DigResponse=function(e){this.isDig=!0,this.paiStateList=e.m_arrBoardInfo;var t=this.GetSkeleton(e.m_bySlotIndex);e.m_bySlotValue==f.BOARD_SLOT_VALUE.SLOT_VALUE_UNCOVERED_TREASURE?(t.play(f.GameConstant34500.SkeletonAnimationName_gold,!1),this.WithdrawBtn.label=h.GameTool.formatMoneyString(e.m_dCurrentEarnings)):e.m_bySlotValue==f.BOARD_SLOT_VALUE.SLOT_VALUE_UNCOVERED_MINE&&(t.play(f.GameConstant34500.SkeletonAnimationName_bomb,!1),this.WithdrawBtn.label="",this.EffectToggle.selected&&p.HallSoundManager.PlaySound(f.GameConstant34500.EFFECT_Blast,1));for(var n=0;n<this.MultipleList.array.length;n++)if(!(n-this.MultipleList.startIndex<0)){var o=this.MultipleList.getCell(n).getChildByName("Image");e.m_bySlotValue==f.BOARD_SLOT_VALUE.SLOT_VALUE_UNCOVERED_MINE&&0==e.m_byTreasureLevelIndex?o.skin="resources/games/game34500/res/Image/Atlas/Game/UI_MultiplyingBG.png":n==e.m_byTreasureLevelIndex?o.skin="resources/games/game34500/res/Image/Atlas/Game/UI_MultiplyingBG2.png":o.skin="resources/games/game34500/res/Image/Atlas/Game/UI_MultiplyingBG.png"}if(e.m_byTreasureLevelIndex<this.MultipleList.array.length){var i;i=e.m_byTreasureLevelIndex<5?2:e.m_byTreasureLevelIndex,this.MultipleList.tweenTo(i-2)}},t.prototype.GameOver=function(e,t,n){var o=this,i=0,a=2e3;t&&(i=500,a=2500),y.Laya.timer.once(i,this,function(){e.m_dUserPureWinScore>0&&(o.WinLabel.text="+"+h.GameTool.formatMoneyString(o.betScore+e.m_dUserPureWinScore),o.WinNode.visible=!0,y.Laya.Tween.to(o.WinNode,{x:181,y:53,scaleX:.1,scaleY:.1},1700,y.Laya.Ease.linearInOut,y.Laya.Handler.create(o,function(){o.WinNode.x=611,o.WinNode.y=339,o.WinNode.scaleX=1,o.WinNode.scaleY=1,o.WinNode.visible=!1}),300)),o.userScore=e.m_dUserScore,o.UpdateUserInfo();for(var t=0;t<e.m_arrBoardInfo.length;t++){var n=o.GetSkeleton(t);o.PaiMask.visible=!1,null!=n&&(e.m_arrBoardInfo[t]==f.BOARD_SLOT_VALUE.SLOT_VALUE_COVERED?n.play(f.GameConstant34500.SkeletonAnimationName_gold,!1):e.m_arrBoardInfo[t]==f.BOARD_SLOT_VALUE.SLOT_VALUE_COVERED_MINE&&n.play(f.GameConstant34500.SkeletonAnimationName_bomb,!1))}}),y.Laya.timer.once(a,this,function(){for(var t=0;t<o.PaiList.array.length;t++)o.GetSkeleton(t).play(f.GameConstant34500.SkeletonAnimationName_stand,!1);for(t=0;t<o.paiStateList.length;t++)o.paiStateList[t]=f.BOARD_SLOT_VALUE.SLOT_VALUE_COVERED;null==n||n.runWith(e)})},t.prototype.GameOverInitPanel=function(){m.GameMsgHandler34500.Instance.SlefRecordRequest(),this.PaiMask.visible=!0,this.Bomb.mouseEnabled=!0,this.StartBtn.visible=!0,this.GrayAutomatlcChoose.visible=!0,this.AutomatlcChooseBtn.visible=!1,this.WithdrawBtn.visible=!1,this.WithdrawBtn.label="",this.Bomb.selectedLabel=this.selectBombNum.toString(),this.RefreshMultiple(this.selectBombNum-1),this.BetToggle.mouseEnabled=!0,this.BetInput.mouseEnabled=!0,this.AddBetBtn.mouseEnabled=!0,this.SubBetBtn.mouseEnabled=!0,this.Bomb.mouseEnabled=!0,this.WithdrawBtn.mouseEnabled=!0,this.Rounds.mouseEnabled=!0,this.StopWinning.mouseEnabled=!0,this.StopLoseing.mouseEnabled=!0,this.StartAutoBtn.mouseEnabled=!0,this.Rounds.text="",this.StopWinning.text="",this.StopLoseing.text="",this.autoDigRounds=0,this.stopWin=0,this.stopLose=0,this.isDig=!1,this.isManualExit=!1},t.prototype.ExitGame=function(){this.isNormalModel?s.default.SetText(l.ConfigMng.getTips(c.Define.TIPS.CANNOT_EXIT_GAME)):(this.close(),this.destroy())},t.prototype.onClosed=function(){m.GameMsgHandler34500.Instance.Destroy(),y.Laya.timer.clearAll(this),d.HallEvent.event(d.HallEvent.GO_BACK_TO_HALL)},t.prototype.OnRecordToggle=function(){this.BetsText.text=0==this.RecordToggle.selectedIndex?"Bets":"Name",this.RefreshGameRecord()},t.prototype.OnGameModeToggle=function(){this.NormalNode.visible=0==this.BetToggle.selectedIndex,this.AudoNode.visible=1==this.BetToggle.selectedIndex},t.prototype.OnBetAdd=function(){var e=2*this.betScore;e>this.maxBet&&(e=this.maxBet),e>this.userScore&&(e=this.userScore<this.minBet?this.minBet:this.userScore),this.betScore=e,this.BetInput.text=h.GameTool.formatMoneyString(this.betScore)},t.prototype.OnBetSub=function(){var e=this.betScore/2;e<this.minBet&&(e=this.minBet),this.betScore=e,this.BetInput.text=h.GameTool.formatMoneyString(this.betScore)},t.prototype.OnSelectedBomb=function(){this.Bomb.selectedLabel=this.Bomb.selectedLabel,this.selectBombNum=Number(this.Bomb.selectedLabel),this.RefreshMultiple(this.selectBombNum-1)},t.prototype.OnBetInpue=function(){var e=this.BetInput.text;if(""==e)return this.betScore=this.minBet,void(this.BetInput.text=h.GameTool.formatMoneyString(this.betScore));var t=Number(e);if(null==t)return this.betScore=this.minBet,this.BetInput.text=h.GameTool.formatMoneyString(this.betScore),void(this.BetInput.text="");(t=h.GameTool.restoreMoney(t))>this.maxBet&&(t=this.maxBet),t>this.userScore&&(t=this.userScore),t<this.minBet&&(t=this.minBet),this.betScore=t,this.BetInput.text=h.GameTool.formatMoneyString(this.betScore)},t.prototype.OnInputRound=function(){var e=this.Rounds.text;if(""!=e){var t=Math.floor(Number(e));t>f.GameConstant34500.SLOT_NUMBER-this.selectBombNum&&(t=f.GameConstant34500.SLOT_NUMBER-this.selectBombNum),t<0&&(t=0),this.Rounds.text=t.toString(),this.autoDigRounds=t}},t.prototype.OnInputStopWin=function(){var e=this.StopWinning.text,t=Math.floor(Number(e));t<0&&(t=0),this.stopWin=t,this.StopWinning.text=t.toString()},t.prototype.OnInputStopLoss=function(){var e=this.StopLoseing.text,t=Math.floor(Number(e));t<0&&(t=0),this.stopLose=t,this.StopLoseing.text=t.toString()},t.prototype.OpenRulePanel=function(){this.RulePanel.visible=!0},t.prototype.CloseRulePanel=function(){this.RulePanel.visible=!1},t.prototype.OpenSetPanel=function(){this.SetPanel.visible=!0},t.prototype.CloseSetPanel=function(){this.SetPanel.visible=!1},t.prototype.OnSoundTooggle=function(){this.SoundTooggle.selected?y.Laya.SoundManager.playMusic(f.GameConstant34500.SOUND_GameSceneBGM,0):y.Laya.SoundManager.stopMusic()},t.prototype.OnEffectToggle=function(){this.EffectToggle.selected?p.LocalTempData.setSoundVolume(1):p.LocalTempData.setSoundVolume(0)},t.prototype.OnNormalStartGame=function(){this.userScore<this.minBet&&d.HallEvent.event(d.HallEvent.SHOW_RECHARGE_TIP),m.GameMsgHandler34500.Instance.NormalGameRequest(this.betScore,this.selectBombNum)},t.prototype.OnWithdrwa=function(){this.isDig?m.GameMsgHandler34500.Instance.WithdrwaRequest():s.default.SetText(l.ConfigMng.getTips(c.Define.TIPS.CONTINUING_GAME))},t.prototype.OnAutoChoose=function(){m.GameMsgHandler34500.Instance.AutoDigRequset()},t.prototype.OnAutoStartGame=function(){this.userScore<this.minBet&&d.HallEvent.event(d.HallEvent.SHOW_RECHARGE_TIP),0!=this.autoDigRounds?0!=this.stopWin||0!=this.stopLose?m.GameMsgHandler34500.Instance.AutoGameRequest(this.betScore,this.selectBombNum,this.autoDigRounds,this.stopWin,this.stopLose):s.default.SetText(l.ConfigMng.getTips(c.Define.TIPS.WINS_OR_LOSS)):s.default.SetText(l.ConfigMng.getTips(c.Define.TIPS.ROUND_CANNOT_BE_ZERO))},t.prototype.AutoGameExitRequest=function(){m.GameMsgHandler34500.Instance.AutoGameExitRequest()},t.prototype.selfRecordResponse=function(e){this.selfGameRecord=e,this.RefreshGameRecord()},t.prototype.OtherRecordResponse=function(e){this.otherGameRecord=e,this.RefreshGameRecord()},t.prototype.NormalGameResponse=function(){this.isNormalModel=!0,this.GameStart(!0)},t.prototype.NormalModeDigResponse=function(e){this.DigResponse(e)},t.prototype.WithdrawResponse=function(e){this.userScore=e.m_dUserScore,this.UpdateUserInfo(),this.WithdrawBtn.mouseEnabled=!1},t.prototype.NormalGameEndResponse=function(e){this.isNormalModel=!1,this.GameOver(e,!1,y.Laya.Handler.create(this,this.GameOverInitPanel))},t.prototype.AutoStartResponse=function(){this.GameStart(!1),this.StopAutoBtn.visible=!0,this.WithdrawBtn.mouseEnabled=!1},t.prototype.AutoModeDigResponse=function(e){this.DigResponse(e),this.Rounds.text=e.m_byLeftDigTimes.toString()},t.prototype.AutoModeOneEndResponse=function(e){var t=this;if(this.isManualExit)this.GameOver(e,!1,y.Laya.Handler.create(this,this.GameOverInitPanel));else{var n,o;n=0!=this.stopWin&&e.m_wWinGamesToStopFinished>=this.stopWin,o=0!=this.stopLose&&e.m_wLoseGamesToStopFinished>=this.stopLose;var i=0==n&&0==o&&this.userScore-this.betScore>0;this.GameOver(e,i,y.Laya.Handler.create(this,function(e){t.WithdrawBtn.label="0",0==t.stopWin&&0==t.stopLose?t.Rounds.text="":t.Rounds.text=t.autoDigRounds.toString(),0==t.stopWin?t.StopWinning.text="":t.StopWinning.text=(t.stopWin-e.m_wWinGamesToStopFinished).toString(),0==t.stopLose?t.StopLoseing.text="":t.StopLoseing.text=(t.stopLose-e.m_wLoseGamesToStopFinished).toString(),t.RefreshMultiple(t.selectBombNum-1),y.Laya.timer.once(1e3,t,function(){i&&((t.stopWin-e.m_wWinGamesToStopFinished>0||t.stopLose-e.m_wLoseGamesToStopFinished>0)&&(t.userScore=t.userScore-t.betScore),t.UpdateUserInfo())})}))}},t.prototype.AutoGameEndResponse=function(e){var t=this;this.isManualExit||(this.StopAutoBtn.visible=!1,e.m_byEndReason==f.AUTO_MODE_GAME_END_REASON.AUTO_MODE_GAME_END_PLAYER_EXIT_GAME?(this.StopAutoBtn.visible=!1,this.GameOver(e,!1,y.Laya.Handler.create(this,this.GameOverInitPanel))):(e.m_byEndReason==f.AUTO_MODE_GAME_END_REASON.AUTO_MODE_GAME_END_NOT_SUFFICIENT_FUNDS&&s.default.SetText(l.ConfigMng.getTips(c.Define.TIPS.INSUFFICIENT_GOLD_COINS)),y.Laya.timer.once(500,this,function(){t.GameOverInitPanel()})))},t.prototype.GameTimeoutResponse=function(){this.close(),this.destroy()},t.prototype.GameExitGameAuto=function(){this.isManualExit=!0},t.prototype.GameSyStemTip=function(e){s.default.SetText(e.szTip)},t.prototype.GetSkeleton=function(e){return e<0||e>this.PaiList.array.length?(u.LogBase.error("GetSkeleton\u51fd\u6570 \u7d22\u5f15\u9519\u8bef"),null):this.PaiList.getCell(e).getChildByName("SpineNode").getChildByName("Spine")},a([_()],t)}(g.GameMainBase34500));n.GameMain34500=v,cc._RF.pop()},{"../../halls/hall/Tips":"Tips","../../halls/halllib/common/ConfigMng":"ConfigMng","../../halls/halllib/common/Define":"Define","../../halls/halllib/common/LogBase":"LogBase","../../halls/halllib/core/HallData":"HallData","../../halls/halllib/core/RunData":"RunData","../../halls/halllib/laya/Laya":"Laya","../../halls/halllib/net/InnerEvent":"InnerEvent","./GameConstant34500":"GameConstant34500","./GameMain34500.generated":"GameMain34500.generated","./GameMsgHandler34500":"GameMsgHandler34500"}],"GameMain34600.generated":[function(e,t,n){"use strict";cc._RF.push(t,"caf15HY3cRCl5+U5bQ4HxLk","GameMain34600.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.GameMainBase34600=void 0;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.GameStateTimerPanel=null,t.RankPanel=null,t.RankList=null,t.GamePanel=null,t.Record10List=null,t.TrendBtn=null,t.MultipleNode=null,t.InputMultiple=null,t.InputBet=null,t.SubBetBtn=null,t.AddBetBtn=null,t.AutoToggle=null,t.StartBtn=null,t.StopBtn=null,t.AutoStartBtn=null,t.AutoStopBtn=null,t.SelectAutoNumberNode=null,t.AutoNum1=null,t.AutoNum2=null,t.AutoNum3=null,t.AutoNum4=null,t.AutoNum5=null,t.MenuGroud=null,t.SetBtn=null,t.HelpBtn=null,t.ExitBtn=null,t.MenuBtn=null,t.MenuUp=null,t.MenuDown=null,t.RecordPanel=null,t.Recordback=null,t.RecordBg=null,t.Record150List=null,t.SelfHead=null,t.SelfMoney=null,t.SelfName=null,t.SetPanel=null,t.ImageBg=null,t.MusicToggle=null,t.EffectToggle=null,t.SetCloseBtn=null,t.HelpPanel=null,t.HelpCloseBtn=null,t}return i(t,e),t}(e("../../halls/halllib/laya/Laya").Laya.Scene);n.GameMainBase34600=a,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya"}],GameMain34600:[function(e,t,n){"use strict";cc._RF.push(t,"23ae2DcJHJPLbrlMm6oiPTR","GameMain34600");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.GameMain34600=void 0;var s=r(e("../../halls/hall/Tips")),l=e("../../halls/halllib/common/ConfigMng"),c=e("../../halls/halllib/common/Define"),u=e("../../halls/halllib/core/HallData"),p=e("../../halls/halllib/core/RunData"),h=e("../../halls/halllib/net/InnerEvent"),d=e("./GameConstant34600"),f=e("./GameMain34600.generated"),g=e("./GameMsgHandler34600"),m=e("../../halls/halllib/laya/Laya"),y=m.Laya.regClass,_=(m.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.selfMoney=0,t.stationID=255,t.maxBet=0,t.minBet=0,t.maxMultiple=0,t.minMultiple=0,t.initMultiple=0,t.addSpeed=0,t.startSpeed=0,t.betTime=0,t.endTime=0,t.flyTimeRate=1,t.quitMultiple=0,t.betScore=0,t.gameNowState=0,t.isBet=!1,t.isStartFly=!1,t.rocketFly=null,t.stateTimePanel=null,t.isAutoStartPress=!1,t}return i(t,e),t.prototype.onAwake=function(){this.InitUI(),this.AddButtonClick(),g.GameMsgHandler34600.Instance.Init(this)},t.prototype.InitUI=function(){this.Record10List.array=[],this.RankList.array=[],this.Record150List.array=[];var e=p.RunData.myUserInfo.bLogoID;(e<0||e>l.ConfigMng.hallconfigJson.face.facelist.length)&&(e=0),this.SelfHead.loadImage(l.ConfigMng.hallconfigJson.face.facelist[e]),this.SelfName.text=p.RunData.myUserInfo.nickName,this.selfMoney=p.RunData.myUserInfo.dwMoney,this.rocketFly=this.GamePanel.getComponent(m.Laya.Script),this.stateTimePanel=this.GameStateTimerPanel.getComponent(m.Laya.Script),this.gameRecord=this.RecordPanel.getComponent(m.Laya.Script),this.rankPanel=this.RankPanel.getComponent(m.Laya.Script),this.UpdateMoney(0)},t.prototype.AddButtonClick=function(){var e=this;this.ExitBtn.on(m.Laya.Event.CLICK,this,this.OnExitGame),this.SetBtn.on(m.Laya.Event.CLICK,this,this.OnOpenSetPanel),this.SetCloseBtn.on(m.Laya.Event.CLICK,this,this.OnCloseSetPanel),this.MusicToggle.on(m.Laya.Event.CLICK,this,this.OnMusicAudio),this.EffectToggle.on(m.Laya.Event.CLICK,this,this.OnEffectAudio),this.MenuBtn.on(m.Laya.Event.CLICK,this,this.OnOpenAndCloseMenu),this.TrendBtn.on(m.Laya.Event.CLICK,this,this.OnOpenRecord),this.Recordback.on(m.Laya.Event.CLICK,this,this.OnCloseRecord),u.LocalTempData.getMusicVolume()>0?u.LocalTempData.setSoundVolume(1):(u.LocalTempData.setSoundVolume(0),m.Laya.SoundManager.stopAllSound()),u.LocalTempData.getSoundVolume()>0?(m.Laya.SoundManager.playMusic(d.GameConstant34600.SOUND_BG,0),u.LocalTempData.setMusicVolume(1)):(u.LocalTempData.setMusicVolume(0),m.Laya.SoundManager.stopMusic()),this.MusicToggle.selected=u.LocalTempData.getMusicVolume()>0,this.EffectToggle.selected=u.LocalTempData.getSoundVolume()>0,this.HelpBtn.on(m.Laya.Event.CLICK,this,this.OnOpenRulePanel),this.HelpCloseBtn.on(m.Laya.Event.CLICK,this,this.OnCloseRulePanel),this.AutoToggle.on(m.Laya.Event.CLICK,this,this.OnToggleAutoGameChange),this.InputMultiple.on(m.Laya.Event.BLUR,this,this.OnInputMultiple),this.AddBetBtn.on(m.Laya.Event.CLICK,this,this.OnClickBetAdd),this.SubBetBtn.on(m.Laya.Event.CLICK,this,this.OnClickBetSub),this.InputBet.on(m.Laya.Event.BLUR,this,this.OnInputBet),this.StartBtn.on(m.Laya.Event.CLICK,this,this.OnBtnBet),this.StopBtn.on(m.Laya.Event.CLICK,this,this.OnBtnStop),this.AutoStopBtn.on(m.Laya.Event.CLICK,this,this.OnBtnAutoStop),this.AutoStartBtn.on(m.Laya.Event.MOUSE_DOWN,this,function(){m.Laya.timer.once(1e3,e,e.OnAutoStartPress)}),this.AutoStartBtn.on(m.Laya.Event.MOUSE_UP,this,function(){1!=e.gameNowState&&2!=e.gameNowState||(0==e.isAutoStartPress&&(e.SelectAutoNumberNode.visible=!1,m.Laya.timer.clear(e,e.OnAutoStartPress),e.selfMoney<e.betScore&&h.HallEvent.event(h.HallEvent.SHOW_RECHARGE_TIP),g.GameMsgHandler34600.Instance.SendOpenAutoGame(e.betScore,e.quitMultiple,1)),e.isAutoStartPress=!1)}),this.AutoNum1.on(m.Laya.Event.CLICK,this,function(){e.OnBtnAutoNum(-1)}),this.AutoNum2.on(m.Laya.Event.CLICK,this,function(){e.OnBtnAutoNum(50)}),this.AutoNum3.on(m.Laya.Event.CLICK,this,function(){e.OnBtnAutoNum(20)}),this.AutoNum4.on(m.Laya.Event.CLICK,this,function(){e.OnBtnAutoNum(10)}),this.AutoNum5.on(m.Laya.Event.CLICK,this,function(){e.OnBtnAutoNum(5)})},t.prototype.GameState=function(e){this.maxBet=e.m_dMaxBet,this.minBet=e.m_dMinBet,this.minMultiple=e.m_dMinQuitMultiple,this.initMultiple=e.m_dInitialMultiple,this.maxMultiple=e.m_dMaxMultiple,this.quitMultiple=e.m_dMinQuitMultiple,this.startSpeed=e.m_dInitialSpeed,this.addSpeed=e.m_dAccelerate,this.betTime=e.m_dBetTime,this.endTime=e.m_dCutSceneTime,this.flyTimeRate=e.m_dFlyTimeCompressRate,this.betScore=e.m_dBetScore,this.isBet=e.m_dBetScore>0,this.isStartFly=!1,this.rocketFly.InitData(this.initMultiple,this.addSpeed,this.startSpeed,this.flyTimeRate),e.m_ucGameStatus==d.GAME_STATE.Bet?(this.GameStateTimerPanel.visible=!0,this.stateTimePanel.Show(!0,this.betTime,e.m_dLeftBetTime,this.initMultiple),this.rocketFly.Hide()):e.m_ucGameStatus==d.GAME_STATE.Play?(this.isStartFly=!0,this.GameStateTimerPanel.visible=!1,this.stateTimePanel.Hide(),this.rocketFly.StartFly(this.initMultiple,e.m_dPassedFlyTime,this.isBet,this.betScore)):e.m_ucGameStatus==d.GAME_STATE.End&&(this.GameStateTimerPanel.visible=!0,this.stateTimePanel.Show(!1,this.endTime,e.m_dLeftCutSceneTime,e.m_dLastMultiple),this.rocketFly.Hide()),this.InitBetData(e)},t.prototype.StartBet=function(e){this.isBet=!1,0!=e.m_dBetScore?this.AutoToggle.selected?0==e.m_iLeftGameRounds?this.gameNowState=2:(this.isBet=!0,this.gameNowState=6,this.UpdateMoney(this.betScore)):this.gameNowState=1:this.AutoToggle.selected?this.gameNowState=2:this.gameNowState=1,this.RefreshGameState(),this.SetBetData(e.m_dQuitMultiple,e.m_dBetScore,e.m_iLeftGameRounds),this.rankPanel.ResetRank(),this.stateTimePanel.Show(!0,this.betTime,this.betTime,this.initMultiple),this.rocketFly.Hide()},t.prototype.PLayerSit=function(e){this.stationID=e.bDeskStation},t.prototype.BetSuccess=function(e){this.isBet=!0,this.InputBet.text=p.GameTool.formatMoneyString(e.m_dTotalBetScore),this.UpdateMoney(e.m_dBetScore),this.gameNowState=3,this.RefreshGameState(),this.SetBetData(this.quitMultiple,e.m_dBetScore,this.selectAutoRounds)},t.prototype.QuitSuccess=function(e){4==this.gameNowState&&(this.gameNowState=5),this.UpdateMoney(e.m_dWinScore+this.betScore,!0),this.RefreshGameState()},t.prototype.GameRecord=function(e){this.Record10List.array=[];var t=0;e.m_wRecordCount>10&&(t=e.m_wRecordCount-10);for(var n=t;n<e.m_arrCrashMultiple.length;n++){var o=e.m_arrCrashMultiple[n]>=2?"resources/games/game34600/res/Image/Atlas/Game/fen_lv_1.png":"resources/games/game34600/res/Image/Atlas/Game/fen_hui_0.png",i=e.m_arrCrashMultiple[n]>=2?"resources/games/game34600/res/Image/Atlas/Game/fen_lv_di_1.png":"resources/games/game34600/res/Image/Atlas/Game/fen_hui_di_0.png";this.Record10List.addItem({Bg:{skin:i},Result:{skin:o},Multiple:{text:e.m_arrCrashMultiple[n].toFixed(2)+"x"},New:{skin:""}})}if(this.Record10List.array.length>0){var a=this.Record10List.getItem(this.Record10List.array.length-1);null!=a&&(a.New.skin="resources/games/game34600/res/Image/Atlas/Game/fen_new.png")}this.Record10List.repeatX=10,this.gameRecord.RefreshRoad(e)},t.prototype.RankPlayer=function(e){this.rankPanel.RefreshRank(e)},t.prototype.Fly=function(){1==this.gameNowState?this.gameNowState=9:3==this.gameNowState?this.gameNowState=4:2==this.gameNowState?this.gameNowState=9:6==this.gameNowState&&(this.gameNowState=7),this.RefreshGameState(),this.stateTimePanel.Hide(),this.GameStateTimerPanel.visible=!1,this.rocketFly.StartFly(this.initMultiple,0,this.isBet,this.betScore),this.isStartFly=!0,this.SelectAutoNumberNode.visible=!1},t.prototype.PlayerQuit=function(e){this.rankPanel.RefreshRank(e,!0),this.rocketFly.SetQuitPlayer(e,this.stationID)},t.prototype.AutoModeSetSuccess=function(e){this.gameNowState=6,this.isBet=!0,this.RefreshGameState(),this.SetBetData(e.m_dQuitMultiple,e.m_dBetScore,e.m_iGameRounds),this.UpdateMoney(e.m_dBetScore)},t.prototype.CancelAutoModeSuccess=function(){7==this.gameNowState?this.gameNowState=8:6==this.gameNowState&&(this.AutoToggle.selected?this.gameNowState=2:this.gameNowState=1),0==this.isStartFly&&(this.isBet=!1,this.UpdateMoney(this.betScore,!0)),this.RefreshGameState()},t.prototype.GameRankList=function(e){for(var t=[],n=e.m_arrRankPlayerInfo.length>d.GameConstant34600.RANK_MAX_PLAYER_COUNT?e.m_arrRankPlayerInfo.length-d.GameConstant34600.RANK_MAX_PLAYER_COUNT:0;n<e.m_arrRankPlayerInfo.length;n++)t.push(e.m_arrRankPlayerInfo[n]);this.rankPanel.InitRankInfo(t,this.isStartFly),this.rocketFly.InitPlayerQuitInfo(e.m_arrRankPlayerInfo)},t.prototype.Crash=function(e){this.isStartFly=!1,this.gameNowState=9,this.RefreshGameState(),this.rocketFly.OnGameCrash(e)},t.prototype.RemoveRankPlayer=function(e){0==this.isStartFly&&this.rankPanel.RemoveRankPlayer(e.m_dwGameID)},t.prototype.GameEnd=function(e){var t=this;this.rocketFly.ShowResult(function(n){t.GameStateTimerPanel.visible=!0,t.stateTimePanel.Show(!1,n,n,e.m_dCrashMultiple)},this.endTime)},t.prototype.InitBetData=function(e){e.m_ucGameStatus==d.GAME_STATE.Bet?0==e.m_byGameMode?e.m_dBetScore>0?(this.gameNowState=3,this.SetBetData(e.m_dMinQuitMultiple,e.m_dBetScore)):(this.gameNowState=1,this.SetBetData(e.m_dMinQuitMultiple,e.m_dMinBet)):e.m_dAutoModeBetScore>=e.m_dMinBet||e.m_dAutoModeQuitMultiple>=e.m_dMinQuitMultiple?(this.gameNowState=6,this.SetBetData(e.m_dAutoModeQuitMultiple,e.m_dAutoModeBetScore,e.m_iAutoModeLeftRounds)):(this.gameNowState=2,this.SetBetData(e.m_dMinQuitMultiple,e.m_dMinBet)):e.m_ucGameStatus==d.GAME_STATE.Play?0===e.m_byGameMode?(e.m_dBetScore>0?(0!==e.m_dUserQuitMultiple?this.gameNowState=5:this.gameNowState=4,this.SetBetData(e.m_dMinQuitMultiple,e.m_dBetScore)):(this.gameNowState=9,this.SetBetData(e.m_dMinQuitMultiple,e.m_dMinBet)),this.AutoToggle.selected=!1):(e.m_dAutoModeBetScore>0?(0!=e.m_dUserQuitMultiple&&(this.gameNowState=7),this.SetBetData(e.m_dAutoModeQuitMultiple,e.m_dAutoModeBetScore,e.m_iAutoModeLeftRounds)):(this.gameNowState=9,this.SetBetData(e.m_dMinQuitMultiple,e.m_dMinBet)),this.AutoToggle.selected=!0):(this.SetBetData(e.m_dMinQuitMultiple,e.m_dMinBet),this.gameNowState=9),this.RefreshGameState()},t.prototype.SetBetData=function(e,t,n){void 0===n&&(n=void 0),e<=0&&(e=this.quitMultiple),t<=0&&(t=this.minBet),this.betScore=t,this.quitMultiple=e,this.InputMultiple.text=e.toString(),this.InputBet.text=p.GameTool.formatMoneyString(t),null!=n&&null!=n&&(this.AutoStopBtn.label=-1==n?"\u221e":n.toString())},t.prototype.RefreshGameState=function(){1==this.gameNowState?(this.AutoToggle.mouseEnabled=!0,this.AutoToggle.selected=!1,this.AddBetBtn.disabled=!1,this.SubBetBtn.disabled=!1,this.InputBet.mouseEnabled=!0,this.StartBtn.disabled=!1,this.MultipleNode.visible=!1,this.StartBtn.visible=!0,this.StopBtn.visible=!1,this.AutoStartBtn.visible=!1,this.AutoStopBtn.visible=!1):2==this.gameNowState?(this.AutoToggle.mouseEnabled=!0,this.AutoToggle.selected=!0,this.AddBetBtn.disabled=!1,this.SubBetBtn.disabled=!1,this.InputBet.mouseEnabled=!0,this.InputMultiple.mouseEnabled=!0,this.AutoStartBtn.disabled=!1,this.MultipleNode.visible=!0,this.StartBtn.visible=!1,this.StopBtn.visible=!1,this.AutoStartBtn.visible=!0,this.AutoStopBtn.visible=!1):3==this.gameNowState?(this.AutoToggle.mouseEnabled=!1,this.AutoToggle.selected=!1,this.AddBetBtn.disabled=!0,this.SubBetBtn.disabled=!0,this.InputBet.mouseEnabled=!1,this.StartBtn.disabled=!0,this.MultipleNode.visible=!1,this.StartBtn.visible=!0,this.StopBtn.visible=!1,this.AutoStartBtn.visible=!1,this.AutoStopBtn.visible=!1):4==this.gameNowState?(this.AutoToggle.mouseEnabled=!1,this.AutoToggle.selected=!1,this.AddBetBtn.disabled=!0,this.SubBetBtn.disabled=!0,this.InputMultiple.mouseEnabled=!1,this.StopBtn.disabled=!1,this.MultipleNode.visible=!1,this.StartBtn.visible=!1,this.StopBtn.visible=!0,this.AutoStartBtn.visible=!1,this.AutoStopBtn.visible=!1):5==this.gameNowState?(this.AutoToggle.mouseEnabled=!1,this.AutoToggle.selected=!1,this.AddBetBtn.disabled=!0,this.SubBetBtn.disabled=!0,this.InputBet.mouseEnabled=!1,this.StopBtn.disabled=!0,this.MultipleNode.visible=!1,this.StartBtn.visible=!1,this.StopBtn.visible=!0,this.AutoStartBtn.visible=!1,this.AutoStopBtn.visible=!1):6==this.gameNowState?(this.AutoToggle.mouseEnabled=!0,this.AutoToggle.selected=!0,this.AddBetBtn.disabled=!1,this.SubBetBtn.disabled=!1,this.InputBet.mouseEnabled=!1,this.InputMultiple.mouseEnabled=!1,this.AutoStopBtn.disabled=!0,this.MultipleNode.visible=!0,this.StartBtn.visible=!1,this.StopBtn.visible=!1,this.AutoStartBtn.visible=!1,this.AutoStopBtn.visible=!0):7==this.gameNowState?(this.AutoToggle.mouseEnabled=!1,this.AutoToggle.selected=!0,this.AddBetBtn.disabled=!0,this.SubBetBtn.disabled=!0,this.InputBet.mouseEnabled=!1,this.InputMultiple.mouseEnabled=!1,this.AutoStopBtn.disabled=!1,this.MultipleNode.visible=!0,this.StartBtn.visible=!1,this.StopBtn.visible=!1,this.AutoStartBtn.visible=!1,this.AutoStopBtn.visible=!0):8==this.gameNowState?(this.AutoToggle.mouseEnabled=!1,this.AutoToggle.selected=!0,this.AddBetBtn.disabled=!0,this.SubBetBtn.disabled=!0,this.InputBet.mouseEnabled=!1,this.InputMultiple.mouseEnabled=!1,this.AutoStopBtn.disabled=!0,this.MultipleNode.visible=!0,this.StartBtn.visible=!1,this.StopBtn.visible=!1,this.AutoStartBtn.visible=!1,this.AutoStopBtn.visible=!0):9==this.gameNowState&&(this.AutoToggle.mouseEnabled=!1,this.AddBetBtn.disabled=!0,this.SubBetBtn.disabled=!0,this.InputBet.mouseEnabled=!1,this.StartBtn.disabled=!0,this.StopBtn.visible=!1,this.AutoStopBtn.visible=!1,this.AutoToggle.selected?(this.InputMultiple.mouseEnabled=!1,this.MultipleNode.visible=!0,this.StartBtn.visible=!1,this.AutoStartBtn.disabled=!0,this.AutoStartBtn.visible=!0):(this.MultipleNode.visible=!1,this.StartBtn.visible=!0,this.AutoStartBtn.visible=!1))},t.prototype.OnInputMultiple=function(){var e=Number(this.InputMultiple.text);e>this.maxMultiple&&(e=this.maxMultiple),e<this.minMultiple&&(e=this.minMultiple),this.quitMultiple=e,this.InputMultiple.text=e.toString()},t.prototype.OnInputBet=function(){var e=this.InputBet.text;if(""==e)return this.betScore=this.minBet,void(this.InputBet.text=p.GameTool.formatMoneyString(this.betScore));var t=Number(e);null!=t&&null!=t||(this.betScore=this.minBet,this.InputBet.text=p.GameTool.formatMoneyString(this.betScore)),(t=p.GameTool.restoreMoney(t))>this.maxBet&&(t=this.maxBet),t>this.selfMoney&&(t=this.selfMoney),t<this.minBet&&(t=this.minBet),this.betScore=t,this.InputBet.text=p.GameTool.formatMoneyString(this.betScore)},t.prototype.OnClickBetAdd=function(){var e=2*this.betScore;e>this.maxBet&&(e=this.maxBet),e>p.RunData.myUserInfo.dwMoney&&(e=p.RunData.myUserInfo.dwMoney),e<this.minBet&&(e=this.minBet),this.betScore=e,this.InputBet.text=p.GameTool.formatMoneyString(this.betScore)},t.prototype.OnClickBetSub=function(){var e=this.betScore/2;e<this.minBet&&(e=this.minBet),this.betScore=e,this.InputBet.text=p.GameTool.formatMoneyString(this.betScore)},t.prototype.OnBtnBet=function(){this.selfMoney<this.betScore&&h.HallEvent.event(h.HallEvent.SHOW_RECHARGE_TIP),g.GameMsgHandler34600.Instance.SendBet(this.stationID,this.betScore)},t.prototype.OnBtnStop=function(){g.GameMsgHandler34600.Instance.SendQuit(this.stationID,this.quitMultiple)},t.prototype.OnBtnAutoStop=function(){g.GameMsgHandler34600.Instance.SendCloseAutoGame(this.stationID)},t.prototype.OnAutoStartPress=function(){1!=this.gameNowState&&2!=this.gameNowState||(this.isAutoStartPress=!0,this.SelectAutoNumberNode.visible=!0)},t.prototype.OnBtnAutoNum=function(e){this.SelectAutoNumberNode.visible=!1,this.selfMoney<this.betScore&&h.HallEvent.event(h.HallEvent.SHOW_RECHARGE_TIP),g.GameMsgHandler34600.Instance.SendOpenAutoGame(this.betScore,this.quitMultiple,e)},t.prototype.OnToggleAutoGameChange=function(){this.AutoToggle.selected?this.gameNowState=2:(this.SelectAutoNumberNode.visible=!1,this.isBet&&g.GameMsgHandler34600.Instance.SendCloseAutoGame(this.stationID),this.gameNowState=1),this.RefreshGameState()},t.prototype.OnOpenRecord=function(){this.RecordPanel.visible=!0,m.Laya.Tween.to(this.RecordBg,{y:0},300)},t.prototype.OnCloseRecord=function(){var e=this;m.Laya.Tween.to(this.RecordBg,{y:-205},300,m.Laya.Ease.linearIn,m.Laya.Handler.create(this,function(){e.RecordPanel.visible=!1}))},t.prototype.OnOpenSetPanel=function(){this.SetPanel.visible=!0},t.prototype.OnCloseSetPanel=function(){this.SetPanel.visible=!1},t.prototype.OnMusicAudio=function(){this.MusicToggle.selected?m.Laya.SoundManager.playMusic(d.GameConstant34600.SOUND_BG,0):m.Laya.SoundManager.stopMusic()},t.prototype.OnEffectAudio=function(){this.EffectToggle.selected?u.LocalTempData.setSoundVolume(1):m.Laya.SoundManager.stopAllSound()},t.prototype.OnOpenAndCloseMenu=function(){this.isOpenMenu?(this.MenuUp.visible=!0,this.MenuDown.visible=!1,m.Laya.Tween.to(this.MenuGroud,{y:-400},300)):(this.MenuUp.visible=!1,this.MenuDown.visible=!0,m.Laya.Tween.to(this.MenuGroud,{y:0},300)),this.isOpenMenu=!this.isOpenMenu},t.prototype.OnOpenRulePanel=function(){this.HelpPanel.visible=!0},t.prototype.OnCloseRulePanel=function(){this.HelpPanel.visible=!1},t.prototype.UpdateMoney=function(e,t){void 0===t&&(t=!1),t?this.selfMoney+=e:this.selfMoney-=e,this.SelfMoney.text=p.GameTool.formatMoneyString(this.selfMoney)},t.prototype.OnExitGame=function(){this.isBet?s.default.SetText(l.ConfigMng.getTips(c.Define.TIPS.CANNOT_EXIT_GAME)):(this.close(),this.destroy())},t.prototype.onClosed=function(){g.GameMsgHandler34600.Instance.Destroy(),m.Laya.timer.clearAll(this),m.Laya.Tween.clearAll(this),h.HallEvent.event(h.HallEvent.GO_BACK_TO_HALL)},a([y()],t)}(f.GameMainBase34600));n.GameMain34600=_,cc._RF.pop()},{"../../halls/hall/Tips":"Tips","../../halls/halllib/common/ConfigMng":"ConfigMng","../../halls/halllib/common/Define":"Define","../../halls/halllib/core/HallData":"HallData","../../halls/halllib/core/RunData":"RunData","../../halls/halllib/laya/Laya":"Laya","../../halls/halllib/net/InnerEvent":"InnerEvent","./GameConstant34600":"GameConstant34600","./GameMain34600.generated":"GameMain34600.generated","./GameMsgHandler34600":"GameMsgHandler34600"}],"GameMain34700.generated":[function(e,t,n){"use strict";cc._RF.push(t,"33389bKC1NO2aNygOYPQLzr","GameMain34700.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.GameMainBase34700=void 0;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.SpriteBG=null,t.Sit1=null,t.head1=null,t.Label_name1=null,t.Sit2=null,t.head2=null,t.Label_name2=null,t.Sit3=null,t.head3=null,t.Label_name3=null,t.Sit4=null,t.head4=null,t.Label_name4=null,t.others=null,t.Label_others=null,t.selfSit=null,t.Label_name=null,t.Label_money=null,t.head=null,t.CMList=null,t.betArea=null,t.iconParent=null,t.labelAll=null,t.labelSelf=null,t.btnRule=null,t.gameColor1=null,t.gameColor2=null,t.gameColor3=null,t.lastRecord=null,t.lastColor1=null,t.lastColor2=null,t.lastColor3=null,t.Label_bonus=null,t.btnQuit=null,t.btnMenu=null,t.menu=null,t.btnRule2=null,t.btnSetting=null,t.stopAnim=null,t.stateTarget=null,t.lbCountTime=null,t.waiting=null,t.rulePanel=null,t.btnRuleClose=null,t.ruleTab=null,t.rulePage=null,t.item0=null,t.Label_Jackpot4=null,t.Label_Jackpot3=null,t.Label_Jackpot2=null,t.Label_Jackpot1=null,t.Label_EnableJackpot=null,t.item1=null,t.item2=null,t.setPanel=null,t.HSliderEffect=null,t.btnSetClose=null,t.HSliderSound=null,t.recordPanel=null,t.btnRecordClose=null,t.recordList=null,t.WinPanel=null,t.Winhead=null,t.LabelWinName=null,t.LabelWinScore=null,t.JackPotPanel=null,t.LabelJockpotType=null,t.btnJackpotClose=null,t.jackpotColor1=null,t.jackpotColor2=null,t.jackpotColor3=null,t.LabelJockpotBet=null,t.LabelJockpotTriple=null,t.LabelJockpot=null,t.LabelJockpotWin=null,t}return i(t,e),t}(e("../../halls/halllib/laya/Laya").Laya.Scene);n.GameMainBase34700=a,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya"}],GameMain34700:[function(e,t,n){"use strict";cc._RF.push(t,"7c679fxE3BGBYeNWsgWcOp5","GameMain34700");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.GameMain34700=void 0;var s=e("../../halls/halllib/laya/Laya"),l=s.Laya.regClass,c=(s.Laya.property,r(e("../../halls/hall/BaseRoom"))),u=r(e("../../halls/hall/Tips")),p=e("../../halls/halllib/common/ConfigMng"),h=e("../../halls/halllib/common/Define"),d=e("../../halls/halllib/common/LogBase"),f=e("../../halls/halllib/core/HallData"),g=e("../../halls/halllib/core/RunData"),m=e("../../halls/halllib/net/InnerEvent"),y=e("./CMObj34700"),_=e("./GameData34700"),v=e("./GameMain34700.generated"),b=e("./GameNetProto34700"),S=e("./GameNetProxy34700"),C=r(e("./ScrollLabelComonent34700")),I=function(e){function t(){var t=e.call(this)||this;return t.itemChips=new Array,t.betsBtn=new Array,t.betAnims=new Array,t.allBetsLab=new Array,t.myBetsLab=new Array,t.allBets=new Array(0,0,0,0,0,0),t.myBets=new Array(0,0,0,0,0,0),t.tablePlayerBets=[],t.tabelPlayers=new Array(1,2,3,4),t.iconPoolName="icon",t.roomPlayerNum=0,t.selfMoney=0,t.freeTimes=0,t.PlaceJettonTime=0,t.AccountTime=0,t.Bjackpot=!1,t.JackScore=0,t}return i(t,e),t.prototype.onAwake=function(){this.InitUI(),this.AddButtonClick(),this.ResetData(),S.GameNetProxy34700.Instance.Init(this),s.Laya.SoundManager.playMusic(_.GameData34700.SOUND_GameSceneBGM,0)},t.prototype.AddButtonClick=function(){var e=this;this.btnQuit.on(s.Laya.Event.CLICK,this,this.onBtnQuit),this.btnMenu.on(s.Laya.Event.CLICK,this,this.onMenu),this.btnRule.on(s.Laya.Event.CLICK,this,this.onRule),this.btnRule2.on(s.Laya.Event.CLICK,this,this.onRule),this.btnRuleClose.on(s.Laya.Event.CLICK,function(){e.rulePanel.visible=!1}),this.btnSetting.on(s.Laya.Event.CLICK,function(){e.setPanel.visible=!0}),this.btnSetClose.on(s.Laya.Event.CLICK,function(){e.setPanel.visible=!1}),this.lastRecord.on(s.Laya.Event.CLICK,function(){e.recordPanel.visible=!0}),this.btnRecordClose.on(s.Laya.Event.CLICK,function(){e.recordPanel.visible=!1}),this.others.on(s.Laya.Event.CLICK,this,this.onOthers);for(var t=function(t){n["Sit"+(t+1).toString()].on(s.Laya.Event.CLICK,n,function(){e.onOccupySeat(t)})},n=this,o=0;o<4;o++)t(o)},t.prototype.InitUI=function(){for(var e=this,t=0;t<_.GameData34700.colorNum;t++){var n=this.betArea.getChildByName("btn"+(t+1));this.betsBtn[t]=n,this.allBetsLab[t]=n.getChildByName("labelAll"),this.myBetsLab[t]=n.getChildByName("labelSelf"),this.betAnims[t]=n.getChildByName("labelAll").getComponent(s.Laya.Animator2D),this.betsBtn[t].on(s.Laya.Event.CLICK,this,this.onBet,[t])}this.ruleTab.selectHandler=new s.Laya.Handler(this,function(t){e.rulePage.selectedIndex=t}),this.HSliderEffect.changeHandler=new s.Laya.Handler(this,function(e){s.Laya.SoundManager.setSoundVolume(e/100),f.LocalTempData.setSoundVolume(e)}),this.HSliderSound.changeHandler=new s.Laya.Handler(this,function(e){s.Laya.SoundManager.setMusicVolume(e/100),f.LocalTempData.setMusicVolume(e)}),this.HSliderEffect.value=f.LocalTempData.getSoundVolume(),this.HSliderSound.value=f.LocalTempData.getMusicVolume(),this.Sprite3D_b1=this.scene3D.getChildByName("Sprite3D_b1").getComponent(s.Laya.Script),this.Sprite3D_b2=this.scene3D.getChildByName("Sprite3D_b2").getComponent(s.Laya.Script),this.Sprite3D_b3=this.scene3D.getChildByName("Sprite3D_b3").getComponent(s.Laya.Script),this.initCM(),this.Label_name.text=g.RunData.myUserInfo.nickName;var o=g.RunData.myUserInfo.bLogoID;(o<0||o>p.ConfigMng.hallconfigJson.face.facelist.length)&&(o=0),this.head.loadImage(p.ConfigMng.hallconfigJson.face.facelist[o]),this.recordList.renderHandler=new s.Laya.Handler(this,this.onRecordRender),this.Winhead.loadImage(p.ConfigMng.hallconfigJson.face.facelist[o]),this.LabelWinName.text=g.RunData.myUserInfo.nickName,this.LabelWinScore.text=""},t.prototype.ResetData=function(){this.allBets=new Array(0,0,0,0,0,0),this.myBets=new Array(0,0,0,0,0,0),this.tablePlayerBets=[];for(var e=0;e<4;e++)this.tablePlayerBets[e]=new Array(0,0,0,0,0,0);this.areaChlips=new Array(0,0,0,0,0,0),this.allChlips=new Array,this.selfMoney=g.RunData.myUserInfo.dwMoney,this.UpdateMoney(),this.Options={startVal:0,duration:2,useGrouping:!0,separator:",",decimal:".",decimalPlaces:0,prefix:"",suffix:"",smartEasingThreshold:999,smartEasingAmount:333,useEasing:!0}},t.prototype.UpdateMoney=function(e){void 0===e&&(e=null),console.log("selfMoney"+this.selfMoney),this.Label_money.text=null!=e?g.GameTool.formatMoneyString(e):g.GameTool.formatMoneyString(this.selfMoney)},t.prototype.SetClock=function(e){this.timeLeave=e,this.stateTarget.visible=!0,s.Laya.timer.loop(1e3,this,this.OnClock),s.Laya.SoundManager.playSound(_.GameData34700.EFFECT_StartJetton,1)},t.prototype.OnClock=function(){this.timeLeave--,this.gameState==b.GameNetProto34700.GameState.XIAZHU&&this.timeLeave>0?(this.lbCountTime.text=this.timeLeave.toString(),this.timeLeave<=3&&s.Laya.SoundManager.playSound(_.GameData34700.EFFECT_Countdown,1)):(this.stateTarget.visible=!1,s.Laya.timer.clear(this,this.OnClock))},t.prototype.onBtnQuit=function(){for(var e=0;e<this.myBets.length;e++)if(this.myBets[e]>0)return void u.default.SetText(p.ConfigMng.getTips(h.Define.TIPS.CANNOT_EXIT_GAME));this.close(),this.destroy()},t.prototype.onClosed=function(){S.GameNetProxy34700.Instance.Destroy(),s.Laya.timer.clearAll(this),s.Laya.Tween.clearAll(this),m.HallEvent.event(m.HallEvent.GO_BACK_TO_HALL),s.Laya.Pool.clearBySign(this.iconPoolName)},t.prototype.onMenu=function(){this.btnMenu.selected=!this.btnMenu.selected,this.btnMenu.selected?this.menu.visible=!0:this.menu.visible=!1},t.prototype.onBet=function(e){if(-1!=_.GameData34700.seletedClip){if(this.gameState==b.GameNetProto34700.GameState.XIAZHU)return _.GameData34700.seletedClip>this.selfMoney?(u.default.SetText(p.ConfigMng.getTips(h.Define.TIPS.INSUFFICIENT_GOLD_COINS)),void m.HallEvent.event(m.HallEvent.SHOW_RECHARGE_TIP)):void S.GameNetProxy34700.Instance.onPlaceJetton(e,_.GameData34700.seletedClip);u.default.SetText(p.ConfigMng.getTips(h.Define.TIPS.WAIT_BET_TIME))}else u.default.SetText(p.ConfigMng.getTips(h.Define.TIPS.PLEASE_SELECT_CHIP))},t.prototype.initCM=function(){this.CMList.array=[];for(var e=0;e<5;e++)this.CMList.addItem({index:e});this.CMList.renderHandler=new s.Laya.Handler(this,this.onCMRender),this.CMList.selectHandler=new s.Laya.Handler(this,this.onCMSelect);for(var t=-1,n=0;n<this.CMList.array.length;n++)this.selfMoney>=_.GameData34700.ChipArray[n]&&(t=n);-1!=t&&this.onCMSelect(t)},t.prototype.onCMRender=function(e,t){t>this.CMList.array.length||t<0||(e.getChildByName("Label").text=g.GameTool.formatMoneyString(_.GameData34700.ChipArray[t],2,"M","K"),this.itemChips[t]=e)},t.prototype.onCMSelect=function(e){if(!(e>this.CMList.array.length||e<0)){_.GameData34700.seletedClip=_.GameData34700.ChipArray[e];for(var t=0;t<this.CMList.array.length;t++){this.itemChips[t].getChildByName("backChe").visible=t==e}}},t.prototype.addBetIcon=function(e,t,n){this.allBets[e]=this.allBets[e]+t,n&&(this.myBetsLab[e].visible=!0,this.myBetsLab[e].text=g.GameTool.formatMoneyString(this.myBets[e])),0==this.allBetsLab[e].visible&&(this.allBetsLab[e].visible=!0),this.allBetsLab[e].text=g.GameTool.formatMoneyString(this.allBets[e]),this.betLabelJump(this.betAnims[e])},t.prototype.betLabelJump=function(e){e.play("TextJump")},t.prototype.onRule=function(){this.rulePanel.visible=!0,this.ruleTab.selectedIndex=0},t.prototype.onOthers=function(){},t.prototype.InitGameState=function(e){this.gameState=e.cbGameStatus,this.freeTimes=e.byFreeTime,this.PlaceJettonTime=e.byPlaceJettonTime,this.AccountTime=e.byAccountTime,this.areaLimit=e.lAreaLimitScore,this.userLimit=e.lUserLimitScore,_.GameData34700.ChipArray=e.lChipArray,this.jacketPotValue=e.lJacketPotValue,this.luckyColor=e.cbLucklyColor,this.tabelPlayers=e.wOccupySeatChairIDArray,this.Label_bonus.value=this.formatNumber(this.Options,Number(g.GameTool.formatMoneyString(this.jacketPotValue))),this.SetJackPotRule(e.stJackpotCfg,e.n64EnableJackpot),this.SetLuckyColor(e.cbLucklyColor),this.initCM(),this.gameState==b.GameNetProto34700.GameState.XIAZHU?(this.EnableBetBtn(!0),this.SetClock(Math.ceil(e.cbTimeLeave/1e3))):this.EnableBetBtn(!1),this.gameState!=b.GameNetProto34700.GameState.ACCOUNT&&this.gameState!=b.GameNetProto34700.GameState.SENDCARD||(this.waiting.visible=!0),this.RefreshChairInfo(e)},t.prototype.SetLuckyColor=function(e){e+=1,this.gameColor1.skin="resources/games/game34700/res/Texture/Game/Icon_GameColor_Icon"+e+".png",this.gameColor2.skin="resources/games/game34700/res/Texture/Game/Icon_GameColor_Icon"+e+".png",this.gameColor3.skin="resources/games/game34700/res/Texture/Game/Icon_GameColor_Icon"+e+".png",this.jackpotColor1.skin="resources/games/game34700/res/Texture/Game/Icon_GameColor_Icon"+e+".png",this.jackpotColor2.skin="resources/games/game34700/res/Texture/Game/Icon_GameColor_Icon"+e+".png",this.jackpotColor3.skin="resources/games/game34700/res/Texture/Game/Icon_GameColor_Icon"+e+".png"},t.prototype.SetJackPotRule=function(e,t){for(var n=0;n<4;n++){var o=this["Label_Jackpot"+(n+1).toString()],i=e[n];i.nDistributeType==_.GameData34700.E_JACKPOT_VALUES?(o.text=i.nMinDistributionValues+"Golds",o.color="#83390c"):i.nDistributeType==_.GameData34700.E_JACKPOT_RATIO&&(o.text=i.nMinDistributionValues+"%",o.color="#ce0f96"),this.Label_EnableJackpot.text=t.toString()}},t.prototype.GameFree=function(){this.EnableBetBtn(!1)},t.prototype.GameStart=function(e){this.gameState=b.GameNetProto34700.GameState.XIAZHU,this.ResetData(),this.WinPanel.visible=!1,this.stateTarget.visible=!1,this.EnableBetBtn(!0),this.SetClock(e.cbTimeLeave/1e3),this.Sprite3D_b1.ResetPos(),this.Sprite3D_b2.ResetPos(),this.Sprite3D_b3.ResetPos(),this.SetLuckyColor(e.cbLucklyColor)},t.prototype.SimpleChart=function(e){this.recordList.array=[];for(var t=0;t<e.cbCount;t++)this.recordList.addItem(e.ServerGameRecordArray[t]);var n=e.ServerGameRecordArray[e.cbCount-1].cbWinArea;this.lastColor1.skin="resources/games/game34700/res/Texture/Game/Icon_GameColor_Icon"+(n[0]+1)+".png",this.lastColor2.skin="resources/games/game34700/res/Texture/Game/Icon_GameColor_Icon"+(n[1]+1)+".png",this.lastColor3.skin="resources/games/game34700/res/Texture/Game/Icon_GameColor_Icon"+(n[2]+1)+".png"},t.prototype.onRecordRender=function(e,t){if(!(t>this.recordList.array.length||t<0)){var n=this.recordList.array[t].cbWinArea;e.getChildByName("1").skin="resources/games/game34700/res/Texture/Game/Icon_GameColor_Icon"+(n[0]+1)+".png",e.getChildByName("2").skin="resources/games/game34700/res/Texture/Game/Icon_GameColor_Icon"+(n[1]+1)+".png",e.getChildByName("3").skin="resources/games/game34700/res/Texture/Game/Icon_GameColor_Icon"+(n[2]+1)+".png",t==this.recordList.array.length-1?e.getChildByName("New").visible=!0:e.getChildByName("New").visible=!1}},t.prototype.PlayerJetton=function(e){var t=this.GetBetAreaPos(e.cbJettonArea),n=s.Laya.Point.create().setTo(0,0);if(e.wChairID==c.default.myUserRoomInfo.pUserInfoStruct.bDeskStation)this.myBets[e.cbJettonArea]=this.myBets[e.cbJettonArea]+e.lJettonScore,this.addBetIcon(e.cbJettonArea,e.lJettonScore,!0),n=this.head.localToGlobal(n),this.selfMoney-=e.lJettonScore,this.UpdateMoney();else if(this.tabelPlayers.some(function(t){return t==e.wChairID})){var o=this.tabelPlayers.indexOf(e.wChairID);this.tablePlayerBets[o][e.cbJettonArea]=this.tablePlayerBets[o][e.cbJettonArea]+e.lJettonScore,this.addBetIcon(e.cbJettonArea,e.lJettonScore,!1),n=this["head"+(o+1).toString()].localToGlobal(n),this.PlayBetAnim(this["Sit"+(o+1).toString()])}else this.addBetIcon(e.cbJettonArea,e.lJettonScore,!1),n=this.others.localToGlobal(n);var i=!1;this.areaChlips[e.cbJettonArea]+=1,this.areaChlips[e.cbJettonArea]>2&&(i=!0),this.FlyIcon(n,t,i,0),s.Laya.SoundManager.playSound(_.GameData34700.EFFECT_Bet,1)},t.prototype.FlyIcon=function(e,t,n,o){var i=s.Laya.Pool.getItemByClass(this.iconPoolName,y.CMObj34700),a=e.distance(t.x,t.y);i.visible=!0,this.iconParent.addChild(i),i.pos(e.x,e.y),i.FlashTo(t.x,t.y,1,n,o,a*_.GameData34700.FlySpeed),this.allChlips.push(i)},t.prototype.GetBetAreaPos=function(e){var t=s.Laya.Point.create().setTo(0,0);return(t=this.betsBtn[e].localToGlobal(t)).x=t.x+80*Math.random(),t.y=t.y+80*Math.random()+30,t},t.prototype.PlayerJettonFail=function(e){e.wPlaceUser==c.default.myUserRoomInfo.pUserInfoStruct.bDeskStation&&u.default.SetText("Failed to bet!")},t.prototype.ContinuJetton=function(){},t.prototype.ContinuJettonFail=function(){u.default.SetText("Failed to bet!")},t.prototype.OpenColor=function(e){var t=this;this.gameState=b.GameNetProto34700.GameState.SENDCARD,this.EnableBetBtn(!1),this.stopAnim.visible=!0,this.stopAnim.getComponent(s.Laya.Animator2D).play("stopAnim"),s.Laya.timer.once(3e3,this,function(){t.Sprite3D_b1.OnPlay(e.cbTableCardArray[0]),t.Sprite3D_b2.OnPlay(e.cbTableCardArray[1]),t.Sprite3D_b3.OnPlay(e.cbTableCardArray[2]),t.stopAnim.getComponent(s.Laya.Animator2D).play("defultAnim"),t.stopAnim.visible=!1,s.Laya.SoundManager.playSound(_.GameData34700.EFFECT_BEGIN_ROLL,1)}),s.Laya.SoundManager.playSound(_.GameData34700.EFFECT_StopJetton,1)},t.prototype.GameEnd=function(e){var t=this;this.Label_bonus.getComponent(C.default).setValue(g.GameTool.formatMoneyString(e.lJackPotScore),function(){});var n=1e3;s.Laya.timer.once(n,this,function(){t.ShowWinAreas(e.cbTableCardArray)}),n+=1e3,s.Laya.timer.once(n,this,function(){t.FlyIconToPlayer(e),t.ShowSocre(e)}),n+=200,s.Laya.timer.once(n+3200,this,function(){t.HintWins()})},t.prototype.EnableBetBtn=function(e){for(var t=0;t<this.betsBtn.length;t++)this.betsBtn[t].mouseEnabled=e;for(t=0;t<this.itemChips.length;t++)this.itemChips[t].mouseEnabled=e,this.itemChips[t].getChildByName("backGrad").visible=!e;this.waiting.visible=!1},t.prototype.ShowWinAreas=function(e){for(var t=0;t<this.betsBtn.length;t++)this.betsBtn[t].getChildByName("lost").visible=!0;for(t=0;t<e.length;t++){var n=e[t];this.betsBtn[n].getChildByName("lost").visible=!1,this.betsBtn[n].getChildByName("win").visible=!0}},t.prototype.HintWins=function(){for(var e=0;e<this.betsBtn.length;e++)this.betsBtn[e].getChildByName("lost").visible=!1,this.betsBtn[e].getChildByName("win").visible=!1,this.allBetsLab[e].visible=!1,this.myBetsLab[e].visible=!1;for(e=0;e<this.allChlips.length;e++)this.allChlips[e].Recover();for(this.allChlips=new Array,e=0;e<this.iconParent.numChildren;e++)this.iconParent.getChildAt(e).visible=!1;this.iconParent.numChildren},t.prototype.ShowJackPot=function(e){var t=this;this.JackPotPanel.visible=!0;for(var n=0,o=0;o<this.myBets.length;o++)n+=this.myBets[o];this.LabelJockpotBet.text=g.GameTool.formatMoneyString(n),this.LabelJockpotWin.text=g.GameTool.formatMoneyString(e),s.Laya.timer.once(2e3,this,function(){t.JackPotPanel.visible=!0,s.Laya.SoundManager.playSound(_.GameData34700.EFFECT_YOUWIN,1)})},t.prototype.ShowSocre=function(e){0!=e.lUserScore&&(this.ShowS(this.selfSit,e.lUserScore),e.lUserScore>0&&!this.Bjackpot&&this.ShowWinPanel(e.lUserScore),this.Bjackpot&&this.ShowJackPot(e.lUserScore));for(var t=0;t<e.lOccupySeatChairIDArray.length;t++)0!=e.lOccupySeatChairIDArray[t]&&this.ShowS(this["Sit"+(t+1).toString()],e.lOccupySeatChairIDArray[t])},t.prototype.ShowWinPanel=function(e){var t=this;s.Laya.timer.once(1e3,this,function(){t.WinPanel.visible=!0,t.LabelWinScore.text="+"+g.GameTool.formatMoneyString(e),s.Laya.SoundManager.playSound(_.GameData34700.EFFECT_YOUWIN,1)})},t.prototype.ShowS=function(e,t){var n,o;t>0?(n=e.getChildByName("Label_win"),(o=e.getChildByName("WinAnim")).visible=!0,o.getComponent(s.Laya.Animator2D).play("WinAnim",0,0)):n=e.getChildByName("Label_lose"),n.text=g.GameTool.formatMoneyString(t),n.pos(0,34),n.visible=!0,s.Laya.Tween.to(n,{x:0,y:-60,alpha:1},1500,s.Laya.Ease.elasticInOut,s.Laya.Handler.create(this,function(){n.visible=!1,o&&(o.getComponent(s.Laya.Animator2D).play("dfAnim",0,0),o.visible=!1)}),0)},t.prototype.FlyIconToPlayer=function(e){for(var t=0;t<this.allChlips.length;t++)this.allChlips[t].Recover();for(t=0;t<e.lUserWinScore.length;t++){if(e.lUserWinScore[t]>0){var n=s.Laya.Point.create().setTo(0,0);n=this.head.localToGlobal(n);for(var o=this.GetBetAreaPos(Math.ceil(5*Math.random())),i=0,a=0;a<2;a++)this.FlyIcon(o,n,!0,i),i+=100;this.selfMoney=g.RunData.myUserInfo.dwMoney}this.UpdateMoney()}for(t=0;t<e.lOccupySeatChairIDArray.length;t++)if(e.lOccupySeatChairIDArray[t]>0){n=s.Laya.Point.create().setTo(0,0),n=this["head"+(t+1).toString()].localToGlobal(n),o=this.GetBetAreaPos(Math.ceil(5*Math.random())),i=0;for(var r=0;r<5;r++)this.FlyIcon(o,n,!0,i),i+=100}var l=0;for(t=0;t<e.lOtherUserAreaWinScore.length;t++)e.lOtherUserAreaWinScore[t]>0&&(l+=e.lOtherUserAreaWinScore[t]);if(l>0)for(n=s.Laya.Point.create().setTo(0,0),n=this.others.localToGlobal(n),o=this.GetBetAreaPos(Math.ceil(5*Math.random())),i=0,t=0;t<5;t++)this.FlyIcon(o,n,!0,i),i+=100;s.Laya.SoundManager.playSound(_.GameData34700.EFFECT_Popscore,1)},t.prototype.PlayBetAnim=function(e){s.Laya.Tween.to(e,{x:e.x+10},100,s.Laya.Ease.backInOut,s.Laya.Handler.create(this,function(){e.x=e.x-10}))},t.prototype.UserSiteDown=function(e){d.LogBase.log("\u7528\u6237\u5750\u4e0b"+e.bDeskStation),this.roomPlayerNum++,this.updataPlayerNum(this.roomPlayerNum)},t.prototype.occupySeat=function(e){this.RefreshChairInfo(e)},t.prototype.UserStandUp=function(){this.roomPlayerNum--,this.updataPlayerNum(this.roomPlayerNum)},t.prototype.RefreshChairInfo=function(e){var t=this,n=new Map;this.tabelPlayers=e.wOccupySeatChairIDArray;for(var o=0;o<e.wOccupySeatChairIDArray.length;o++){var i=new _.ChairInfo;i.bDeskStation=e.wOccupySeatChairIDArray[o],i.bLogoID=-1,i.nickName="";for(var a=0;a<c.default.userList.length;a++)if(c.default.userList[a].bDeskStation==e.wOccupySeatChairIDArray[o]){(i=new _.ChairInfo).bLogoID=c.default.userList[a].bLogoID,i.nickName=c.default.userList[a].nickName,i.bDeskStation=c.default.userList[a].bDeskStation;break}n.set(o,i)}n.forEach(function(e,n){t.RefreshChair(n,e)})},t.prototype.RefreshChair=function(e,t){var n=this["head"+(e+1)],o=this["Label_name"+(e+1)];if(t.bDeskStation!=_.GameData34700.ServerInvalidChairID&&-1!=t.bLogoID){n.visible=!0;var i=t.bLogoID;(i<0||i>p.ConfigMng.hallconfigJson.face.facelist.length)&&(i=0),n.loadImage(p.ConfigMng.hallconfigJson.face.facelist[i]),o.text=t.nickName}else n.skin="",o.text="",n.visible=!1},t.prototype.updataPlayerNum=function(e){this.Label_others.text=e.toString()},t.prototype.onOccupySeat=function(e){S.GameNetProxy34700.Instance.onOccupySeat(e,c.default.myUserRoomInfo.pUserInfoStruct.bDeskStation)},t.prototype.LuckyPlayers=function(e){this.Bjackpot=!1,this.JackScore=0;for(var t=0;t<e.lucklyInfo.length;t++)e.lucklyInfo[t].wChairID==c.default.myUserRoomInfo.pUserInfoStruct.bDeskStation&&(this.Bjackpot=!0,this.JackScore=e.lucklyInfo[t].lScore);this.Bjackpot&&(this.LabelJockpotType.text=_.JackpotName[e.nJackPotLevel],this.LabelJockpotTriple.text="8",this.LabelJockpot.text=g.GameTool.formatMoneyString(this.JackScore))},t.prototype.formatNumber=function(e,t){var n,o,i,a,r,s=t<0?"-":"";if((n=Math.abs(t).toFixed(e.decimalPlaces)).indexOf(".")>0&&(n=(n=n.replace(/0+?$/,"")).replace(/[.]$/,"")),i=(o=(n+="").split("."))[0],a=o.length>1?e.decimal+o[1]:"",e.useGrouping){r="";for(var l=0,c=i.length;l<c;++l)0!==l&&l%3==0&&(r=e.separator+r),r=i[c-l-1]+r;i=r}return e.numerals&&e.numerals.length&&(i=i.replace(/[0-9]/g,function(t){return e.numerals[+t]}),a=a.replace(/[0-9]/g,function(t){return e.numerals[+t]})),s+e.prefix+i+a+e.suffix},a([l()],t)}(v.GameMainBase34700);n.GameMain34700=I,cc._RF.pop()},{"../../halls/hall/BaseRoom":"BaseRoom","../../halls/hall/Tips":"Tips","../../halls/halllib/common/ConfigMng":"ConfigMng","../../halls/halllib/common/Define":"Define","../../halls/halllib/common/LogBase":"LogBase","../../halls/halllib/core/HallData":"HallData","../../halls/halllib/core/RunData":"RunData","../../halls/halllib/laya/Laya":"Laya","../../halls/halllib/net/InnerEvent":"InnerEvent","./CMObj34700":"CMObj34700","./GameData34700":"GameData34700","./GameMain34700.generated":"GameMain34700.generated","./GameNetProto34700":"GameNetProto34700","./GameNetProxy34700":"GameNetProxy34700","./ScrollLabelComonent34700":"ScrollLabelComonent34700"}],"GameMain34800.generated":[function(e,t,n){"use strict";cc._RF.push(t,"ade43e5XZFKtJkB5F91Tc2D","GameMain34800.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.GameMainBase34800=void 0;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ButtonHelp=null,t.ButtonSet=null,t.ButtonRecord=null,t.TimeObj=null,t.LabelTime=null,t.ImageTitle_1=null,t.ImageTitle_2=null,t.PanelBelow=null,t.MyInfo=null,t.ImageHead=null,t.LabelName=null,t.LabelMoney=null,t.LabelWin=null,t.LabelLost=null,t}return i(t,e),t}(e("../../halls/halllib/laya/Laya").Laya.Scene);n.GameMainBase34800=a,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya"}],GameMain34800:[function(e,t,n){"use strict";cc._RF.push(t,"0ab20VYB0JDqqnLrQTuLgn3","GameMain34800");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.GameMain34800=void 0;var s=e("./GameBetPanel34800"),l=e("./GameHelpPanel34800"),c=e("./GameMain34800.generated"),u=e("./GameMsgProxy34800"),p=e("./SoundManager34800"),h=e("./SpriteChouMa34800"),d=e("../../halls/halllib/laya/Laya"),f=d.Laya.regClass,g=(d.Laya.property,d.Laya.Handler),m=e("./GameNetProto34800"),y=e("./GamePanelSpinShow34800"),_=e("./GameData34800"),v=e("./GamePlayerMg34800"),b=e("./GameCardMg34800"),S=e("../../halls/halllib/core/RunData"),C=e("../../halls/halllib/common/ConfigMng"),I=e("./GameSetPanel34800"),R=r(e("../../halls/hall/Tips")),L=e("../../halls/halllib/net/InnerEvent"),P=e("./GamePanelRoad34800"),M=e("../../halls/halllib/common/LogBase"),T=function(e){function t(){var t=e.call(this)||this;return t.timesDo=0,t}var n;return i(t,e),n=t,t.prototype.onAwake=function(){n.Instance=this,this.PanelStopBet=this.getChildByName("PanelStopBet").getComponent(y.GamePanelSpinShow34800),this.PanelStartBet=this.getChildByName("PanelStartBet").getComponent(y.GamePanelSpinShow34800),this.PanelTongSha=this.getChildByName("PanelTongSha").getComponent(y.GamePanelSpinShow34800),this.PanelTongPei=this.getChildByName("PanelTongPei").getComponent(y.GamePanelSpinShow34800),this.ButtonRecord.on(d.Laya.Event.CLICK,this,this.onButtonRecord),this.ButtonSet.on(d.Laya.Event.CLICK,this,this.onButtonSet),this.ButtonHelp.on(d.Laya.Event.CLICK,this,this.onButtonHelp),p.SoundManager34800.Instance.PlayMusicById(0,0),M.LogBase.log(" align: "+this.LabelName.align),this.initGameData()},t.prototype.onButtonHelp=function(){l.GameHelpPanel34800.Instance.Show()},t.prototype.onButtonSet=function(){I.GameSetPanel34800.Instance.Show()},t.prototype.onButtonRecord=function(){P.GamePanelRoad34800.Instance.Show()},t.prototype.OnExitGame=function(){s.GameBetPanel34800.Instance.MyTotalNote>0&&(_.GameData34800.GameState==m.GameNetProto34800.GameState.GS_XIAZHU||m.GameNetProto34800.GameState.GS_SENDCARD)?R.default.SetWarnText("You have already placed your bet,\n please do not exit the game!"):(this.close(),this.destroy())},t.prototype.onClosed=function(){u.GameMsgProxy34800.Instance.Destroy(),d.Laya.timer.clearAll(null),d.Laya.timer.clearAll(this),d.Laya.timer.clearAll(this.PanelStopBet),d.Laya.timer.clearAll(this.PanelStartBet),d.Laya.timer.clearAll(this.PanelTongSha),d.Laya.timer.clearAll(this.PanelTongPei),d.Laya.timer.clearAll(b.GameCardMg34800.Instance),v.GamePlayerMg34800.Instance.OnDestroys(),h.SpriteChouMa34800.Destory(),L.HallEvent.event(L.HallEvent.GO_BACK_TO_HALL)},t.prototype.initGameData=function(){var e=S.RunData.myUserInfo.bLogoID;(e<0||e>C.ConfigMng.hallconfigJson.face.facelist.length)&&(e=0),n.Instance.ImageHead.loadImage(C.ConfigMng.hallconfigJson.face.facelist[e]),n.Instance.LabelName.text=S.RunData.myUserInfo.nickName,u.GameMsgProxy34800.Instance.Init(),u.GameMsgProxy34800.Instance.GameStationHandler=new g(this,this.gameStation),u.GameMsgProxy34800.Instance.GameStartHandler=new g(this,this.gameStart),u.GameMsgProxy34800.Instance.GameUpdateUserHandler=new g(this,this.gameUpdateUser),u.GameMsgProxy34800.Instance.GameEndHandler=new g(this,this.gameEnd),u.GameMsgProxy34800.Instance.GameDealCardHandler=new g(this,this.gameDealCard),u.GameMsgProxy34800.Instance.GameSimpleChartHandler=new g(this,this.gameSimpleChart)},t.prototype.gameStation=function(e){h.SpriteChouMa34800.Free(),b.GameCardMg34800.Instance.ReSet(),M.LogBase.log("=======>>>>msg.cbGameStatus: "+e.cbGameStatus),_.GameData34800.GameState=e.cbGameStatus;for(var t=0;t<e.wOccupySeatChairIDArray.length;t++)v.GamePlayerMg34800.Instance.PlayerIn(e.wOccupySeatChairIDArray[t],t);e.cbGameStatus==m.GameNetProto34800.GameState.GS_XIAZHU?(s.GameBetPanel34800.Instance.InitData(e.lChipArray,e.lAreaInAllScore,e.lUserInAllScore),this.StartTimeDown(e.uTimeLeave,!0)):e.cbGameStatus==m.GameNetProto34800.GameState.GS_SENDCARD?(s.GameBetPanel34800.Instance.InitData(e.lChipArray,e.lAreaInAllScore,e.lUserInAllScore),b.GameCardMg34800.Instance.SendCard(),this.StartTimeDown(e.uTimeLeave,!1)):(s.GameBetPanel34800.Instance.InitData(e.lChipArray),this.StartTimeDown(e.uTimeLeave,!1))},t.prototype.gameStart=function(e){p.SoundManager34800.Instance.PlaySoundById(13,1),_.GameData34800.GameState=m.GameNetProto34800.GameState.GS_XIAZHU,this.StartTimeDown(e.cbTimeLeave,!0),h.SpriteChouMa34800.Free(),b.GameCardMg34800.Instance.ReSet(),s.GameBetPanel34800.Instance.ReSetStartBet(),this.PanelStartBet.Show()},t.prototype.gameDealCard=function(e){p.SoundManager34800.Instance.PlaySoundById(14,1),_.GameData34800.GameState=m.GameNetProto34800.GameState.GS_SENDCARD,this.StartTimeDown(e.uTimeLeave,!1),this.PanelStopBet.Show(),d.Laya.timer.once(2e3,b.GameCardMg34800.Instance,b.GameCardMg34800.Instance.SendCard)},t.prototype.gameEnd=function(e){var t=this;_.GameData34800.GameState=m.GameNetProto34800.GameState.GS_ACCOUNT,this.StartTimeDown(e.uTimeLeave,!1),b.GameCardMg34800.Instance.ShowCards(e.stGameCard),_.GameData34800.MyMoney+=e.lUserScore,d.Laya.timer.once(3e3,this,function(){for(var n=0;n<e.lOccupySeatChairIDArray.length;n++)v.GamePlayerMg34800.Instance.ShowWinMoney(e.lOccupySeatChairIDArray[n],n);var o;e.lUserScore>0?(o=t.LabelWin).text="+"+S.GameTool.formatMoneyString(e.lUserScore):e.lUserScore<0&&((o=t.LabelLost).text=S.GameTool.formatMoneyString(e.lUserScore)),o&&(o.pos(o.x,0),d.Laya.Tween.to(o,{y:-55},200),d.Laya.timer.once(1e3,t,function(){o.text=""})),s.GameBetPanel34800.Instance.FlashMyMoney()})},t.prototype.gameUpdateUser=function(e){for(var t=0;t<e.wOccupySeatChairIDArray.length;t++)v.GamePlayerMg34800.Instance.PlayerIn(e.wOccupySeatChairIDArray[t],t)},t.prototype.gameSimpleChart=function(e){for(var t=[],n=0;n<e.cbCount;n++){t[n]=new Array;for(var o=0;o<5;o++)t[n][o]=e.arrGameCard[5*n+o]}s.GameBetPanel34800.Instance.ShowHistorys(t),P.GamePanelRoad34800.Instance.ShowHistorys(t)},t.prototype.StartTimeDown=function(e,t){this.ImageTitle_1.visible=t,this.ImageTitle_2.visible=!t,this.timesDo=e,this.LabelTime.text=Math.ceil(e/1e3).toString(),this.TimeObj.visible=!0,d.Laya.timer.clear(this,this.TimeDownFunc);var n=e%1e3;n=n>0?n:1e3,d.Laya.timer.once(n,this,this.TimeDownFunc,[n])},t.prototype.TimeDownFunc=function(e){this.timesDo-=e,this.LabelTime.text=Math.floor(this.timesDo/1e3).toString(),this.timesDo<=0||(d.Laya.timer.once(1e3,this,this.TimeDownFunc,[1e3]),this.ImageTitle_1.visible&&Math.floor(this.timesDo/1e3)<=3&&p.SoundManager34800.Instance.PlaySoundById(2,1))},t.prototype.StopTimeDown=function(){this.timesDo=0,this.TimeObj.visible=!1,d.Laya.timer.clear(this,this.TimeDownFunc)},n=a([f()],t)}(c.GameMainBase34800);n.GameMain34800=T,cc._RF.pop()},{"../../halls/hall/Tips":"Tips","../../halls/halllib/common/ConfigMng":"ConfigMng","../../halls/halllib/common/LogBase":"LogBase","../../halls/halllib/core/RunData":"RunData","../../halls/halllib/laya/Laya":"Laya","../../halls/halllib/net/InnerEvent":"InnerEvent","./GameBetPanel34800":"GameBetPanel34800","./GameCardMg34800":"GameCardMg34800","./GameData34800":"GameData34800","./GameHelpPanel34800":"GameHelpPanel34800","./GameMain34800.generated":"GameMain34800.generated","./GameMsgProxy34800":"GameMsgProxy34800","./GameNetProto34800":"GameNetProto34800","./GamePanelRoad34800":"GamePanelRoad34800","./GamePanelSpinShow34800":"GamePanelSpinShow34800","./GamePlayerMg34800":"GamePlayerMg34800","./GameSetPanel34800":"GameSetPanel34800","./SoundManager34800":"SoundManager34800","./SpriteChouMa34800":"SpriteChouMa34800"}],"GameMain34900.generated":[function(e,t,n){"use strict";cc._RF.push(t,"c4dbdx3aT5Duqg7Wvi9tM03","GameMain34900.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.GameMainBase34900=void 0;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.TailBetBtn=null,t.HeadBetBtn=null,t.Texture_Tail=null,t.Texture_Head=null,t.Tail_TotalBet=null,t.Tail_SelfBet=null,t.Head_TotalBet=null,t.Head_SelfBet=null,t.SelfHead=null,t.PlayerMoney=null,t.PlayerName=null,t.PlayerWin=null,t.PlayerLose=null,t.ChairInfo=null,t.SelectChipsList=null,t.NotChairNode=null,t.SetBtn=null,t.RuleBtn=null,t.RoadBtn=null,t.RoadList=null,t.BetImage=null,t.EndImage=null,t.TimerLabel=null,t.ChipCachePool=null,t.Sun=null,t.Star=null,t.GamePopup=null,t.RoadPanel=null,t.RoadCloseBtn=null,t.SetPanel=null,t.SetCloseBtn=null,t.MusicToggle=null,t.EffectToggle=null,t.ExitGameBtn=null,t.RulePanel=null,t.RuleCloseBtn=null,t}return i(t,e),t}(e("../../halls/halllib/laya/Laya").Laya.Scene);n.GameMainBase34900=a,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya"}],GameMain34900:[function(e,t,n){"use strict";cc._RF.push(t,"1c9d7nDlrtGaLNeCWukpuSL","GameMain34900");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.GameMain34900=void 0;var c=l(e("../../halls/hall/BaseRoom")),u=l(e("../../halls/hall/Tips")),p=e("../../halls/halllib/common/ConfigMng"),h=e("../../halls/halllib/common/Define"),d=e("../../halls/halllib/core/HallData"),f=e("../../halls/halllib/core/RunData"),g=e("../../halls/halllib/net/InnerEvent"),m=e("./GameConstant34900"),y=e("./GameMain34900.generated"),_=e("./GameMsgHandler34900"),v=e("../../halls/halllib/laya/Laya"),b=v.Laya.regClass,S=function(e){function t(){var t=e.call(this)||this;return t.selectChipIndex=-1,t.tailTotalBetScore=0,t.tailSelfBetScore=0,t.headTotalBetScore=0,t.headSelfBetScore=0,t.chairList=[],t.gameIdleTime=0,t.gameBetTime=0,t.gameEndTime=0,t.repeatCountTotal=0,t.chipList=[],t.nowGameState=m.GAME_STATUS_E.IDLE,t.selfMoney=0,t.areaMinBetLimit=0,t.ChipMoveToPlayer=function(e,n){t.Texture_Tail.visible=1==e.nCoinResult,t.Texture_Head.visible=0==e.nCoinResult,d.HallSoundManager.PlaySound(m.GameConstant34900.EFFECT_Bet,1),t.PlayAreaEndAnim(e.nCoinResult),n>0&&(v.Laya.Tween.to(t.PlayerWin,{y:-25},300),t.ChipPool.GameEndMoveToPlayer(t.SelfHead.localToGlobal(new v.Laya.Point(t.SelfHead.x,t.SelfHead.y)),n)),t.ChipPool.GameEndMoveToPlayer(new v.Laya.Point(t.NotChairNode.x,t.NotChairNode.y),e.lOtherUserAreaWinScore[e.nCoinResult]);for(var o=0;o<e.lOccupySeatChairIDArray.length;o++)if(t.chairList[o].GameEnd(e.lOccupySeatChairIDArray[o]),e.lOccupySeatChairIDArray[o]>0){var i=t.chairList[o].GetChipInitPos();t.ChipPool.GameEndMoveToPlayer(i,e.lOccupySeatChairIDArray[o])}return new Promise(function(e){t.selfMoney=f.RunData.myUserInfo.dwMoney,t.UpdateMoney(),v.Laya.timer.once(2e3,t,function(){e()})})},t}return i(t,e),t.prototype.onAwake=function(){this.InitUI(),this.AddButtonClick(),this.InitData(),_.GameMsgHandler34900.Instance.Init(this)},t.prototype.InitUI=function(){this.Tail_TotalBet.text="0",this.Tail_SelfBet.text="0",this.Head_TotalBet.text="0",this.Head_SelfBet.text="0",this.PlayerName.text=f.RunData.myUserInfo.nickName,this.selfMoney=f.RunData.myUserInfo.dwMoney,this.UpdateMoney();var e=f.RunData.myUserInfo.bLogoID;(e<0||e>p.ConfigMng.hallconfigJson.face.facelist.length)&&(e=0),this.SelfHead.loadImage(p.ConfigMng.hallconfigJson.face.facelist[e]),this.PlayerWin.text="",this.PlayerLose.text="",this.chairList=[];for(var t=1;t<=m.GameConstant34900.MAX_OCCUPY_SEAT_COUNT;t++){var n=this.ChairInfo.getChildByName(t.toString()),o=n.getComponent(v.Laya.Script),i=null;1==t?i=this.Star:2==t&&(i=this.Sun),o.Init(t,i,n),this.chairList.push(o)}this.RoadList.array=[],this.TimerLabel.text="",this.SetPanel.cacheAs="bitmap",this.RulePanel.cacheAs="bitmap",this.gamePopupPanel=this.GamePopup.getComponent(v.Laya.Script),this.gamePopupPanel.Init(f.RunData.myUserInfo.nickName,p.ConfigMng.hallconfigJson.face.facelist[e]),this.gameRoad=this.RoadPanel.getComponent(v.Laya.Script),this.ChipPool=this.ChipCachePool.getComponent(v.Laya.Script)},t.prototype.InitData=function(){this.tailTotalBetScore=0,this.tailSelfBetScore=0,this.headTotalBetScore=0,this.headSelfBetScore=0},t.prototype.AddButtonClick=function(){this.SetBtn.on(v.Laya.Event.CLICK,this,this.OnOpenSetPanel),this.SetCloseBtn.on(v.Laya.Event.CLICK,this,this.OnCloseSetPanel),this.MusicToggle.on(v.Laya.Event.CLICK,this,this.OnMusicAudio),this.EffectToggle.on(v.Laya.Event.CLICK,this,this.OnEffectAudio),this.ExitGameBtn.on(v.Laya.Event.CLICK,this,this.OnExitGame),d.LocalTempData.getMusicVolume()>0?d.LocalTempData.setSoundVolume(1):(d.LocalTempData.setSoundVolume(0),v.Laya.SoundManager.stopAllSound()),d.LocalTempData.getSoundVolume()>0?(v.Laya.SoundManager.playMusic(m.GameConstant34900.SOUND_GameSceneBGM,0),d.LocalTempData.setMusicVolume(1)):(d.LocalTempData.setMusicVolume(0),v.Laya.SoundManager.stopMusic()),this.MusicToggle.selected=d.LocalTempData.getMusicVolume()>0,this.EffectToggle.selected=d.LocalTempData.getSoundVolume()>0,this.RuleBtn.on(v.Laya.Event.CLICK,this,this.OnOpenRulePanel),this.RuleCloseBtn.on(v.Laya.Event.CLICK,this,this.OnCloseRulePanel),this.TailBetBtn.on(v.Laya.Event.CLICK,this,this.OnTailAreaBet),this.HeadBetBtn.on(v.Laya.Event.CLICK,this,this.OnHeadAreaBet),this.RoadBtn.on(v.Laya.Event.CLICK,this,this.OnOpenRoadPanel),this.RoadCloseBtn.on(v.Laya.Event.CLICK,this,this.OnCloseRoadPanel)},t.prototype.GameSceneData=function(e){var t=this;this.gameIdleTime=e.byFreeTime,this.gameBetTime=e.byPlaceJettonTime,this.gameEndTime=e.byAccountTime,this.chipList=e.lChipArray,this.areaMinBetLimit=this.chipList[0],this.RefreshChipState(e.byGameStatus==m.GAME_STATUS_E.BET);for(var n=function(e){var n=o.SelectChipsList.getCell(e),i=e;n.on(v.Laya.Event.CLICK,o,function(){t.SelectChip(i)})},o=this,i=0;i<this.SelectChipsList.array.length;i++)n(i);var a=-1;for(i=0;i<e.lChipArray.length;i++)this.selfMoney>=e.lChipArray[i]&&(a=i);for(-1!=a&&this.SelectChip(a),this.TimerLabel.text=e.byTimeLeft.toString(),this.StartCountdown(e.byTimeLeft),e.byGameStatus==m.GAME_STATUS_E.IDLE?(this.EndImage.alpha=1,this.BetImage.alpha=.01,this.nowGameState=m.GAME_STATUS_E.IDLE):e.byGameStatus==m.GAME_STATUS_E.BET?(this.EndImage.alpha=.01,this.BetImage.alpha=1,this.nowGameState=m.GAME_STATUS_E.BET):e.byGameStatus==m.GAME_STATUS_E.END&&(this.EndImage.alpha=1,this.BetImage.alpha=.01,this.nowGameState=m.GAME_STATUS_E.END),e.lAreaInAllBetScore.length>=2&&(this.tailTotalBetScore=e.lAreaInAllBetScore[0],this.headTotalBetScore=e.lAreaInAllBetScore[1],this.Head_TotalBet.text=f.GameTool.formatMoneyString(e.lAreaInAllBetScore[0]),this.Tail_TotalBet.text=f.GameTool.formatMoneyString(e.lAreaInAllBetScore[1])),e.lUserBetScore.length>=2&&(this.tailSelfBetScore=e.lUserBetScore[0],this.headSelfBetScore=e.lUserBetScore[1],this.Head_SelfBet.text=f.GameTool.formatMoneyString(e.lUserBetScore[0]),this.Tail_SelfBet.text=f.GameTool.formatMoneyString(e.lUserBetScore[1])),this.ChipPool.CreateAreaChip(0,e.lAreaInAllBetScore[0]),this.ChipPool.CreateAreaChip(1,e.lAreaInAllBetScore[1]),i=0;i<this.chairList.length;i++)this.chairList[i].GameStart();this.ChipPool.InitChipPool(e.lChipArray)},t.prototype.GameIdle=function(){this.RefreshChipState(!1),this.nowGameState=m.GAME_STATUS_E.IDLE,this.StartCountdown(this.gameIdleTime);for(var e=0;e<this.chairList.length;e++)this.chairList[e].GameStart();this.InitData(),this.Tail_TotalBet.text=f.GameTool.formatMoneyString(this.tailTotalBetScore),this.Tail_SelfBet.text=f.GameTool.formatMoneyString(this.tailSelfBetScore),this.Head_TotalBet.text=f.GameTool.formatMoneyString(this.headTotalBetScore),this.Head_SelfBet.text=f.GameTool.formatMoneyString(this.headSelfBetScore),this.EndImage.alpha=1,this.BetImage.alpha=.01},t.prototype.GameStartBet=function(){this.ChipPool.RecoverAllObj(),this.PlayerWin.text="",this.PlayerLose.text="",d.HallSoundManager.PlaySound(m.GameConstant34900.EFFECT_StartBet,1),this.RefreshChipState(!0),this.nowGameState=m.GAME_STATUS_E.BET,this.StartCountdown(this.gameBetTime),this.EndImage.alpha=.01,this.BetImage.alpha=1,this.gamePopupPanel.ShowStartBet()},t.prototype.GameEnd=function(e){var t=this;d.HallSoundManager.PlaySound(m.GameConstant34900.EFFECT_StopBet,1),this.RefreshChipState(!1),this.nowGameState=m.GAME_STATUS_E.END,this.StartCountdown(this.gameEndTime),this.EndImage.alpha=1,this.BetImage.alpha=.01;for(var n=0,o=0;o<e.lUserWinScore.length;o++)if(0!=e.lUserWinScore[o]){n=e.lUserWinScore[o];break}this.executeSequentiallyGameEnd([function(){return t.gamePopupPanel.ShowStopSpine(e.nCoinResult)},function(){return t.ChipPool.GameEndMoveToDealer()},function(){return t.ChipMoveToPlayer(e,n)},function(){return t.gamePopupPanel.ShowWinOrLose(n)}])},t.prototype.BetResponse=function(e){d.HallSoundManager.PlaySound(m.GameConstant34900.EFFECT_PassBet,1),e.wPlaceUser==c.default.myUserRoomInfo.pUserInfoStruct.bDeskStation&&(e.cbJettonArea==m.TossCoinResult.AREA_HEAD?this.headSelfBetScore+=e.lJettonScore:e.cbJettonArea==m.TossCoinResult.AREA_TAIL&&(this.tailSelfBetScore+=e.lJettonScore),this.selfMoney-=e.lJettonScore,this.UpdateMoney()),e.cbJettonArea==m.TossCoinResult.AREA_HEAD?this.headTotalBetScore+=e.lJettonScore:e.cbJettonArea==m.TossCoinResult.AREA_TAIL&&(this.tailTotalBetScore+=e.lJettonScore),this.Tail_TotalBet.text=f.GameTool.formatMoneyString(this.tailTotalBetScore),this.Tail_SelfBet.text=f.GameTool.formatMoneyString(this.tailSelfBetScore),this.Head_TotalBet.text=f.GameTool.formatMoneyString(this.headTotalBetScore),this.Head_SelfBet.text=f.GameTool.formatMoneyString(this.headSelfBetScore);var t=this.GetBetInitPos(e.wPlaceUser,e.cbJettonArea);this.ChipPool.MoveToArea(t,e.cbJettonArea,e.lJettonScore)},t.prototype.BetFailResponse=function(e){u.default.SetText(e.szFailTip)},t.prototype.RefreshRoad=function(e){var t=e.cbCount>m.GameConstant34900.MAX_CHAIR_ROAD_COUNT?e.cbCount-m.GameConstant34900.MAX_CHAIR_ROAD_COUNT:e.cbCount;this.RoadList.array=[];for(var n=t;n<e.cbCount;n++)this.RoadList.addItem({Road_DL:{skin:"resources/games/game34900/res/Image/Game/UI_Road_DL_"+e.cbGameRecordArray[n].toString()+".png"},New:{skin:"resources/games/game34900/res/Image/Game/Empty.png"}});if(this.RoadList.array.length>0){var o=this.RoadList.getItem(this.RoadList.array.length-1);null!=o&&(o.New.skin="resources/games/game34900/res/Image/Game/UI_Road_New.png")}this.RoadList.repeatX=e.cbCount>m.GameConstant34900.MAX_CHAIR_ROAD_COUNT?m.GameConstant34900.MAX_CHAIR_ROAD_COUNT:e.cbCount,this.gameRoad.RefreshRoad(e)},t.prototype.RefreshPlayerSit=function(){},t.prototype.RefreshChairInfo=function(e){for(var t=0;t<e.wOccupySeatChairIDArray.length;t++){var n=this.GetUserBySit(e.wOccupySeatChairIDArray[t]);this.chairList[t].RefreshChair(n)}},t.prototype.GetUserBySit=function(e){for(var t=0;t<c.default.userList.length;t++)if(e==c.default.userList[t].bDeskStation)return c.default.userList[t];return null},t.prototype.OnTailAreaBet=function(){-1!=this.selectChipIndex?this.nowGameState==m.GAME_STATUS_E.BET?this.headSelfBetScore>0?u.default.SetText(p.ConfigMng.getTips(h.Define.TIPS.CANNOT_SELECT_TWO_AREAS)):this.chipList[this.selectChipIndex]>this.selfMoney?g.HallEvent.event(g.HallEvent.SHOW_RECHARGE_TIP):_.GameMsgHandler34900.Instance.PlayerJeetonRequest(1,this.chipList[this.selectChipIndex]):u.default.SetText(p.ConfigMng.getTips(h.Define.TIPS.WAIT_BET_TIME)):u.default.SetText(p.ConfigMng.getTips(h.Define.TIPS.PLEASE_SELECT_CHIP))},t.prototype.OnHeadAreaBet=function(){-1!=this.selectChipIndex?this.nowGameState==m.GAME_STATUS_E.BET?this.tailSelfBetScore>0?u.default.SetText(p.ConfigMng.getTips(h.Define.TIPS.CANNOT_SELECT_TWO_AREAS)):this.chipList[this.selectChipIndex]>f.RunData.myUserInfo.dwMoney?g.HallEvent.event(g.HallEvent.SHOW_RECHARGE_TIP):_.GameMsgHandler34900.Instance.PlayerJeetonRequest(0,this.chipList[this.selectChipIndex]):u.default.SetText(p.ConfigMng.getTips(h.Define.TIPS.WAIT_BET_TIME)):u.default.SetText(p.ConfigMng.getTips(h.Define.TIPS.PLEASE_SELECT_CHIP))},t.prototype.GameUserEnter=function(){},t.prototype.GameUserLeave=function(){},t.prototype.RefreshChipState=function(e){this.SelectChipsList.array=[];for(var t=0;t<this.chipList.length;t++){var n=e?"resources/games/game34900/res/Image/Game/UI_Chips_"+(t+1).toString()+".png":"resources/games/game34900/res/Image/Game/UI_Chips_Grey.png";this.SelectChipsList.addItem({Chip:{skin:n},ChipLight:{skin:"resources/games/game34900/res/Image/Game/UI_Coin_Select.png"},ChipLabel:{text:f.GameTool.formatMoneyString2(this.chipList[t])}})}this.SelectChipsList.repeatX=m.GameConstant34900.MAX_CHIP_COUNT},t.prototype.UpdateMoney=function(){this.selfMoney<=0&&(this.selfMoney=0),this.PlayerMoney.text=f.GameTool.formatMoneyString(this.selfMoney)},t.prototype.StartCountdown=function(e){e<=0||(this.repeatCountTotal=e-1,this.repeatCountTotal<=0&&(this.repeatCountTotal=0),this.TimerLabel.text=this.repeatCountTotal.toString(),v.Laya.timer.loop(1e3,this,this.CountdownCallBack))},t.prototype.CountdownCallBack=function(){this.repeatCountTotal--,this.repeatCountTotal<=0&&(this.repeatCountTotal=0,v.Laya.timer.clear(this,this.CountdownCallBack)),this.TimerLabel.text=this.repeatCountTotal.toString()},t.prototype.executeSequentiallyGameEnd=function(e){return r(this,void 0,Promise,function(){var t,n;return s(this,function(o){switch(o.label){case 0:t=0,n=e,o.label=1;case 1:return t<n.length?[4,(0,n[t])()]:[3,4];case 2:o.sent(),o.label=3;case 3:return t++,[3,1];case 4:return[2]}})})},t.prototype.PlayAreaEndAnim=function(e){var t=this,n=0==e?this.Texture_Head:this.Texture_Tail;this.nowGameState==m.GAME_STATUS_E.END?1==n.alpha?v.Laya.Tween.to(n,{alpha:.2},300,v.Laya.Ease.linearIn,v.Laya.Handler.create(this,function(){n.alpha=.2,t.PlayAreaEndAnim(e)})):v.Laya.Tween.to(n,{alpha:1},300,v.Laya.Ease.linearIn,v.Laya.Handler.create(this,function(){n.alpha=1,t.PlayAreaEndAnim(e)})):(n.alpha=1,n.visible=!1)},t.prototype.GetBetInitPos=function(e,t){if(e==c.default.myUserRoomInfo.pUserInfoStruct.bDeskStation)return this.SelfHead.localToGlobal(new v.Laya.Point(this.SelfHead.x,this.SelfHead.y));for(var n=0;n<this.chairList.length;n++)if(this.chairList[n].DeskStation==e)return n<2&&this.chairList[n].StartBet(t),this.chairList[n].PlayBetAnim(),this.chairList[n].GetChipInitPos();return new v.Laya.Point(this.NotChairNode.x,this.NotChairNode.y)},t.prototype.SelectChip=function(e){if(this.selectChipIndex!=e){for(var t=0;t<this.SelectChipsList.length;t++){var n=this.SelectChipsList.getCell(t);n.y=0,n.getChildByName("ChipLight").visible=!1}var o=this.SelectChipsList.getCell(e);this.selectChipIndex=e,o.getChildByName("ChipLight").visible=!0,v.Laya.Tween.to(o,{y:-10},200,v.Laya.Ease.linearInOut)}},t.prototype.OnOpenSetPanel=function(){this.SetPanel.visible=!0},t.prototype.OnCloseSetPanel=function(){this.SetPanel.visible=!1},t.prototype.OnMusicAudio=function(){this.MusicToggle.selected?v.Laya.SoundManager.playMusic(m.GameConstant34900.SOUND_GameSceneBGM,0):v.Laya.SoundManager.stopMusic()},t.prototype.OnEffectAudio=function(){this.EffectToggle.selected?d.LocalTempData.setSoundVolume(1):(d.LocalTempData.setSoundVolume(0),v.Laya.SoundManager.stopAllSound())},t.prototype.OnOpenRulePanel=function(){this.RulePanel.visible=!0},t.prototype.OnCloseRulePanel=function(){this.RulePanel.visible=!1},t.prototype.OnOpenRoadPanel=function(){this.RoadPanel.visible=!0},t.prototype.OnCloseRoadPanel=function(){this.RoadPanel.visible=!1},t.prototype.OnExitGame=function(){0==this.tailSelfBetScore&&0==this.headSelfBetScore?(this.close(),this.destroy()):u.default.SetText(p.ConfigMng.getTips(h.Define.TIPS.CANNOT_EXIT_GAME))},t.prototype.onClosed=function(){_.GameMsgHandler34900.Instance.Destroy(),this.gamePopupPanel.OnDestroy(),v.Laya.timer.clearAll(this),v.Laya.Tween.clearAll(this),g.HallEvent.event(g.HallEvent.GO_BACK_TO_HALL),this.ChipPool.OnDestroy()},a([b()],t)}(y.GameMainBase34900);n.GameMain34900=S,cc._RF.pop()},{"../../halls/hall/BaseRoom":"BaseRoom","../../halls/hall/Tips":"Tips","../../halls/halllib/common/ConfigMng":"ConfigMng","../../halls/halllib/common/Define":"Define","../../halls/halllib/core/HallData":"HallData","../../halls/halllib/core/RunData":"RunData","../../halls/halllib/laya/Laya":"Laya","../../halls/halllib/net/InnerEvent":"InnerEvent","./GameConstant34900":"GameConstant34900","./GameMain34900.generated":"GameMain34900.generated","./GameMsgHandler34900":"GameMsgHandler34900"}],GameMenu10100:[function(e,t,n){"use strict";cc._RF.push(t,"2713bJxjhZLcZOIcTQ2e/U+","GameMenu10100");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameMenu10100=void 0;var r=e("../../halls/halllib/laya/Laya"),s=r.Laya.regClass,l=(r.Laya.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return i(t,e),n=t,t.prototype.onAwake=function(){n.Instance=this,this.isPlaying=!1,this.isShow=!1},t.prototype.Hide=function(){var e=this;this.isPlaying||(this.isPlaying=!0,r.Laya.Tween.to(this.owner,{x:-250},200,null,new r.Laya.Handler(this,function(){e.isPlaying=!1,e.owner.visible=!1,e.isShow=!1})))},t.prototype.Show=function(){var e=this;this.isPlaying||(this.isPlaying=!0,this.owner.visible=!0,r.Laya.Tween.to(this.owner,{x:0},200,null,new r.Laya.Handler(this,function(){e.isPlaying=!1,e.isShow=!0})))},t.prototype.ShowOrHide=function(){this.isShow?this.Hide():this.Show()},n=a([s()],t)}(r.Laya.Script));n.GameMenu10100=l,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya"}],GameMenuPanel30200:[function(e,t,n){"use strict";cc._RF.push(t,"619aeZTba5EtKhr5yzik+Bi","GameMenuPanel30200");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameMenuPanel30200=void 0;var r=e("./GameBasePanel30200"),s=e("../../halls/halllib/laya/Laya"),l=s.Laya.regClass,c=(s.Laya.property,function(e){function t(){return e.call(this)||this}var n;return i(t,e),n=t,t.prototype.onAwake=function(){e.prototype.onAwake.call(this),n.Instance=this},t.prototype.onClosePanel=function(){e.prototype.Hide.call(this)},t.prototype.Show=function(){this.IsShow?e.prototype.Hide.call(this):e.prototype.Show.call(this)},n=a([l()],t)}(r.GameBasePanel30200));n.GameMenuPanel30200=c,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya","./GameBasePanel30200":"GameBasePanel30200"}],GameMenuPanel30300:[function(e,t,n){"use strict";cc._RF.push(t,"70c63Ya3zNDgqYRISuOY6Bx","GameMenuPanel30300");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameMenuPanel30300=void 0;var r=e("./GameBasePanel30300"),s=e("../../halls/halllib/laya/Laya"),l=s.Laya.regClass,c=(s.Laya.property,function(e){function t(){return e.call(this)||this}var n;return i(t,e),n=t,t.prototype.onAwake=function(){e.prototype.onAwake.call(this),n.Instance=this},t.prototype.onClosePanel=function(){e.prototype.Hide.call(this)},t.prototype.Show=function(){this.IsShow?e.prototype.Hide.call(this):e.prototype.Show.call(this)},n=a([l()],t)}(r.GameBasePanel30300));n.GameMenuPanel30300=c,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya","./GameBasePanel30300":"GameBasePanel30300"}],GameMenuPanel30700:[function(e,t,n){"use strict";cc._RF.push(t,"46331+F/WBNYLqndspxiEF3","GameMenuPanel30700");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameMenuPanel30700=void 0;var r=e("./GameBasePanel30700"),s=e("./GameHelpPanel30700"),l=e("./SoundManager30700"),c=e("../../halls/halllib/laya/Laya"),u=c.Laya.regClass,p=(c.Laya.property,function(e){function t(){return e.call(this)||this}var n;return i(t,e),n=t,t.prototype.onAwake=function(){e.prototype.onAwake.call(this),n.Instance=this;var t=this.owner.getChildByName("VBox");this.CheckMusic=t.getChildByName("CheckBoxMusic"),this.CheckSound=t.getChildByName("CheckBoxSound"),this.ButtonHelp=t.getChildByName("ButtonHelp"),this.CheckMusic.on(c.Laya.Event.CHANGE,this,this.onCheckMusic),this.CheckSound.on(c.Laya.Event.CHANGE,this,this.onCheckSound),this.ButtonHelp.on(c.Laya.Event.CLICK,this,this.onButtonHelp),this.CheckMusic.selected=l.SoundManager30700.Instance.IsPlayMusic,this.CheckSound.selected=l.SoundManager30700.Instance.IsPlaySound},t.prototype.onCheckMusic=function(){l.SoundManager30700.Instance.IsPlayMusic=this.CheckMusic.selected},t.prototype.onCheckSound=function(){l.SoundManager30700.Instance.IsPlaySound=this.CheckSound.selected},t.prototype.onButtonHelp=function(){s.GameHelpPanel30700.Instance.Show()},t.prototype.onClosePanel=function(){e.prototype.Hide.call(this)},t.prototype.Show=function(){this.IsShow?e.prototype.Hide.call(this):e.prototype.Show.call(this)},n=a([u()],t)}(r.GameBasePanel30700));n.GameMenuPanel30700=p,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya","./GameBasePanel30700":"GameBasePanel30700","./GameHelpPanel30700":"GameHelpPanel30700","./SoundManager30700":"SoundManager30700"}],GameMsg11100:[function(e,t,n){"use strict";cc._RF.push(t,"e2fb0G8ZvJDv5nZVkN6jl4P","GameMsg11100");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.GameMsg11100=void 0;var a=e("../../halls/halllib/net/BaseMessage");(function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cbWinObject=0,t.cbCardType=0,t.cbCardValue=0,t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new a.MessageAttribute("cbWinObject","byte"),new a.MessageAttribute("cbCardType","byte"),new a.MessageAttribute("cbCardValue","byte")],t}(a.BaseMessage);e.CardTypeRecordItem=t,function(e){e[e.GM_SUB_GAMESTATION=1001]="GM_SUB_GAMESTATION",e[e.GM_SUB_STATEUPDATE=1002]="GM_SUB_STATEUPDATE",e[e.GM_SUB_NOTE=1003]="GM_SUB_NOTE",e[e.GM_SUB_CONTINUE=1004]="GM_SUB_CONTINUE",e[e.GM_SUB_SETTLEMENT=1005]="GM_SUB_SETTLEMENT",e[e.GM_SUB_LUCKPLAYER=1006]="GM_SUB_LUCKPLAYER",e[e.GM_SUB_PLAYERNOTEINFO=1007]="GM_SUB_PLAYERNOTEINFO"}(e.GAME_MESSAGE_ID||(e.GAME_MESSAGE_ID={}));var n=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.bStation=0,t.iVersion=0,t.iVersion2=0,t.iLeftTick=0,t.iXiaZhuTime=0,t.iSendCardTime=0,t.iOpenCardTime=0,t.iAccountTick=0,t.iChouMaNum=0,t.iChouMa=[],t.iCardTypeRecordItemCount=0,t.tagCardTypeRecordItem=[],t.cbLuckerDeskStation=0,t}return i(n,e),n.prototype.readFrom=function(e){this.readAttribute(e,n.ATTRIBUTES)},n.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,n.ATTRIBUTES)},n.ATTRIBUTES=[new a.MessageAttribute("bStation","byte"),new a.MessageAttribute("iVersion","byte"),new a.MessageAttribute("iVersion2","byte"),new a.MessageAttribute("iLeftTick","int32"),new a.MessageAttribute("iXiaZhuTime","int32"),new a.MessageAttribute("iSendCardTime","int32"),new a.MessageAttribute("iOpenCardTime","int32"),new a.MessageAttribute("iAccountTick","int32"),new a.MessageAttribute("iChouMaNum","int32"),new a.MessageAttribute("iChouMa","int32",!0,10),new a.MessageAttribute("iCardTypeRecordItemCount","byte"),new a.MessageAttribute("tagCardTypeRecordItem",t,!0,30),new a.MessageAttribute("cbLuckerDeskStation","byte")],n}(a.BaseMessage);e.CMD_GM_Station_Base=n;var o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.NoteMoney=[],t.SelfNoteMoney=[],t.cbNoted=[],t}return i(t,e),t.prototype.readFrom=function(e){var o=n.ATTRIBUTES.concat(t.ATTRIBUTES);this.readAttribute(e,o)},t.prototype.writeTo=function(e){void 0===e&&(e=null);var o=n.ATTRIBUTES.concat(t.ATTRIBUTES);return this.writeAttributeToBype(e,o)},t.ATTRIBUTES=[new a.MessageAttribute("NoteMoney","long2number",!0,3),new a.MessageAttribute("SelfNoteMoney","long2number",!0,3),new a.MessageAttribute("cbNoted","byte",!0,180)],t}(n);e.CMD_GM_Station_Note=o;var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bCardData=[],t}return i(t,e),t.prototype.readFrom=function(e){var i=n.ATTRIBUTES.concat(o.ATTRIBUTES).concat(t.ATTRIBUTES);this.readAttribute(e,i)},t.prototype.writeTo=function(e){void 0===e&&(e=null);var i=n.ATTRIBUTES.concat(o.ATTRIBUTES).concat(t.ATTRIBUTES);return this.writeAttributeToBype(e,i)},t.ATTRIBUTES=[new a.MessageAttribute("bCardData","byte",!0,[2,3])],t}(o);e.CMD_GM_Station_OpenCard=r;var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iWinMoney=0,t.cbRedBlackOpenCard=[],t}return i(t,e),t.prototype.readFrom=function(e){var i=n.ATTRIBUTES.concat(o.ATTRIBUTES).concat(r.ATTRIBUTES).concat(t.ATTRIBUTES);this.readAttribute(e,i)},t.prototype.writeTo=function(e){void 0===e&&(e=null);var i=n.ATTRIBUTES.concat(o.ATTRIBUTES).concat(r.ATTRIBUTES).concat(t.ATTRIBUTES);return this.writeAttributeToBype(e,i)},t.ATTRIBUTES=[new a.MessageAttribute("cbRedBlackOpenCard","byte",!0,2),new a.MessageAttribute("iWinMoney","byte")],t}(r);e.CMD_GM_Station_Account=s;var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cbDeskStation=0,t.iNote=[],t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new a.MessageAttribute("cbDeskStation","byte"),new a.MessageAttribute("iNote","long2number",!0,3)],t}(a.BaseMessage);e.stPlayerNoteInfo=l;var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iState=0,t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new a.MessageAttribute("iState","byte")],t}(a.BaseMessage);e.CMD_GM_State=c;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.readFrom=function(e){var n=c.ATTRIBUTES.concat(t.ATTRIBUTES);this.readAttribute(e,n)},t.prototype.writeTo=function(e){void 0===e&&(e=null);var n=c.ATTRIBUTES.concat(t.ATTRIBUTES);return this.writeAttributeToBype(e,n)},t.ATTRIBUTES=[],t}(c);e.CMD_GM_State_Note=u;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bDeskStation=0,t.bFirstSendCard=0,t.bCard=[],t.cbCardType=[],t}return i(t,e),t.prototype.readFrom=function(e){var n=c.ATTRIBUTES.concat(t.ATTRIBUTES);this.readAttribute(e,n)},t.prototype.writeTo=function(e){void 0===e&&(e=null);var n=c.ATTRIBUTES.concat(t.ATTRIBUTES);return this.writeAttributeToBype(e,n)},t.ATTRIBUTES=[new a.MessageAttribute("bDeskStation","byte"),new a.MessageAttribute("bFirstSendCard","byte"),new a.MessageAttribute("bCard","byte",!0,[2,3]),new a.MessageAttribute("cbCardType","byte",!0,2)],t}(c);e.CMD_GM_State_SendCard=p;var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cbRedBlackOpenCard=[],t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new a.MessageAttribute("cbRedBlackOpenCard","byte"),new a.MessageAttribute("cbLuckPrize","byte"),new a.MessageAttribute("cbCardType","byte",!0,2),new a.MessageAttribute("iWinMoney","long2number",!0,180),new a.MessageAttribute("cbNoted","byte",!0,180)],t}(c);e.CMD_GM_State_Account=h;var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bDeskStation=0,t.bChipIndex=0,t.bNoteObject=0,t.bErrorCode=0,t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new a.MessageAttribute("bDeskStation","byte"),new a.MessageAttribute("bChipIndex","byte"),new a.MessageAttribute("bNoteObject","byte"),new a.MessageAttribute("bErrorCode","byte")],t}(a.BaseMessage);e.CMD_GM_Note=d;var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nDeskStation=0,t.AreaNoteMoney=[],t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new a.MessageAttribute("nDeskStation","byte"),new a.MessageAttribute("AreaNoteMoney","long2number",!0,4)],t}(a.BaseMessage);e.CMD_GM_ContinueNote=f;var g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cbDeskStation=0,t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new a.MessageAttribute("cbDeskStation","byte")],t}(a.BaseMessage);e.stLuckPlayer=g;var m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.uRoomId=0,t.iPoolMoney=0,t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new a.MessageAttribute("uRoomId","int32"),new a.MessageAttribute("iPoolMoney","long2number")],t}(a.BaseMessage);e.CMD_GR_PoolData_Fresh=m;var y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.uRoomId=0,t.uDeskId=0,t.uUserId=0,t.uCardType=0,t.uPoolMoney=0,t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new a.MessageAttribute("uRoomId","uint32"),new a.MessageAttribute("uDeskId","uint32"),new a.MessageAttribute("uUserId","uint32"),new a.MessageAttribute("uCardType","uint32"),new a.MessageAttribute("uPoolMoney","uint32")],t}(a.BaseMessage);e.CMD_GR_PoolData_Distrubute=y;var _=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.CardTypePro=[],t.CardTypeProCount=0,t.cbPoolSwitch=0,t.TaxKind=0,t.Tax=0,t.iFetchPercent=0,t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new a.MessageAttribute("CardTypePro","int32",!0,10),new a.MessageAttribute("CardTypeProCount","byte"),new a.MessageAttribute("cbPoolSwitch","byte"),new a.MessageAttribute("TaxKind","byte"),new a.MessageAttribute("Tax","int32"),new a.MessageAttribute("iFetchPercent","int32")],t}(a.BaseMessage);e.CMD_GR_PoolConfig=_;var v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sName=[],t.sTime=[],t.bCardType=0,t.cbFace=0,t.iPoolMoney=0,t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new a.MessageAttribute("sName","byte",!0,80),new a.MessageAttribute("sTime","byte",!0,19),new a.MessageAttribute("bCardType","byte"),new a.MessageAttribute("cbFace","uint32"),new a.MessageAttribute("iPoolMoney","int32")],t}(a.BaseMessage);e.SUB_GM_PoolRecord=v;var b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iLimitVlue=0,t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new a.MessageAttribute("iLimitVlue","long2number")],t}(a.BaseMessage);e.SUB_GM_Limit=b})(n.GameMsg11100||(n.GameMsg11100={})),cc._RF.pop()},{"../../halls/halllib/net/BaseMessage":"BaseMessage"}],GameMsg34200:[function(e,t,n){"use strict";cc._RF.push(t,"78453CEFr1F77Ip+lMhs8xS","GameMsg34200");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.CMD_S_SimpleChart=n.CMD_GM_LuckPlayer=n.CMD_GM_ContinueNote=n.CMD_GM_Note=n.CMD_GM_State_SendCard=n.CMD_GM_State_Note=n.CMD_GM_State=n.CMD_GM_State_Account=n.CMD_GM_Station_Account=n.CMD_GM_Station_SendCard=n.CMD_GM_Station_Note_Old=n.CMD_GM_Station_Note=n.CMD_GM_Station_Base=n.WinTypeRecordItem=n.CardTypeRecordItem=n.GameMsg34200=n.SUB_GAME_MSG=n.GAME_EVENT=void 0;var r,s=a(e("../../halls/hall/BaseRoom")),l=e("../../halls/halllib/common/LogBase"),c=e("../../halls/halllib/core/RunData"),u=e("../../halls/halllib/net/BaseMessage"),p=e("../../halls/halllib/net/Client"),h=e("../../halls/halllib/net/GameHallMessage"),d=e("../../halls/halllib/net/InnerEvent"),f=e("../../halls/halllib/net/RoomMessage"),g=e("./GameData34200");(n.GAME_EVENT||(n.GAME_EVENT={})).ROAD_EVENT="ROAD_EVENT",function(e){e[e.GM_SUB_GAMESTATION=1001]="GM_SUB_GAMESTATION",e[e.GM_SUB_STATEUPDATE=1002]="GM_SUB_STATEUPDATE",e[e.GM_SUB_NOTE=1003]="GM_SUB_NOTE",e[e.GM_SUB_CONTINUE=1004]="GM_SUB_CONTINUE",e[e.GM_SUB_SETTLEMENT=1005]="GM_SUB_SETTLEMENT",e[e.GM_SUB_LUCKPLAYER=1006]="GM_SUB_LUCKPLAYER",e[e.GM_SUB_PLAYERNOTEINFO=1007]="GM_SUB_PLAYERNOTEINFO",e[e.SUB_S_SEND_SIMPLE_CHART=106]="SUB_S_SEND_SIMPLE_CHART",e[e.SUB_GM_POOLDATA_FRESH=2]="SUB_GM_POOLDATA_FRESH",e[e.SUB_GM_POOL_DISTRIBUTE=3]="SUB_GM_POOL_DISTRIBUTE",e[e.SUB_GM_POOL_CONFIG=4]="SUB_GM_POOL_CONFIG",e[e.SUB_GM_POOL_RECORD=5]="SUB_GM_POOL_RECORD",e[e.SUB_GM_GAME_CONFIG=7]="SUB_GM_GAME_CONFIG"}(r=n.SUB_GAME_MSG||(n.SUB_GAME_MSG={}));var m=function(){function e(){}return e.Init=function(){this.addRoomListener(r.GM_SUB_GAMESTATION,this,this.s2cGameStation),this.addRoomListener(r.GM_SUB_STATEUPDATE,this,this.s2cStateUpdate),this.addRoomListener(r.GM_SUB_NOTE,this,this.s2cNote),this.addRoomListener(r.GM_SUB_CONTINUE,this,this.s2cContinue),this.addRoomListener(r.GM_SUB_SETTLEMENT,this,this.s2cSettlement),this.addRoomListener(r.GM_SUB_LUCKPLAYER,this,this.s2cLuckPlayer),this.addRoomListener(r.SUB_S_SEND_SIMPLE_CHART,this,this.s2SimpleChart),d.HallEvent.on(d.HallEvent.getEventString(h.GameHallMessage.MDM_ID.MDM_GH_USERREFRESH,h.GameHallMessage.SUB_GH_USERREFRESH.SUB_GH_USERREFRESH),this,this.onUserFresh),d.HallEvent.on(d.HallEvent.getEventString(f.roommsg.ROOM_MDM_ID.MDM_GR_USER_ACTION,f.roommsg.SUB_GR_USER_ACTION.SUB_GR_USER_SITDOWN),this,this.onUserSiteDown),d.HallEvent.on(d.HallEvent.getEventString(f.roommsg.ROOM_MDM_ID.MDM_GR_USER_ACTION,f.roommsg.SUB_GR_USER_ACTION.SUB_GR_WATCH_SITDOWN),this,this.onUserFresh),d.HallEvent.on(d.HallEvent.USER_SIT_DOWN,this,this.onEventUserSiteDown),d.HallEvent.on(d.HallEvent.USER_STAND_UP,this,this.onEventUserStandUp),d.HallEvent.on(d.HallEvent.USER_UPDATE,this,this.onUserUpdate),p.Client.Instance.setProtocolIDDisableLog(f.roommsg.ROOM_MDM_ID.MDM_GM_GAME_NOTIFY,r.GM_SUB_NOTE)},e.Release=function(){this.removeCallerListener(this),d.HallEvent.off(d.HallEvent.USER_SIT_DOWN,this,this.onEventUserSiteDown),d.HallEvent.off(d.HallEvent.USER_STAND_UP,this,this.onEventUserStandUp),d.HallEvent.off(d.HallEvent.USER_UPDATE,this,this.onUserUpdate),d.HallEvent.off(d.HallEvent.getEventString(h.GameHallMessage.MDM_ID.MDM_GH_USERREFRESH,h.GameHallMessage.SUB_GH_USERREFRESH.SUB_GH_USERREFRESH),this,this.onUserFresh),d.HallEvent.off(d.HallEvent.getEventString(f.roommsg.ROOM_MDM_ID.MDM_GR_USER_ACTION,f.roommsg.SUB_GR_USER_ACTION.SUB_GR_USER_SITDOWN),this,this.onUserSiteDown),d.HallEvent.off(d.HallEvent.getEventString(f.roommsg.ROOM_MDM_ID.MDM_GR_USER_ACTION,f.roommsg.SUB_GR_USER_ACTION.SUB_GR_WATCH_SITDOWN),this,this.onUserFresh)},e.onGameMsg=function(e,t,n,o){var i=d.HallEvent.getEventString(f.roommsg.ROOM_MDM_ID.MDM_GM_GAME_NOTIFY,e);return d.HallEvent.on(i,t,n,o)},e.offGameMsg=function(e,t,n){var o=d.HallEvent.getEventString(f.roommsg.ROOM_MDM_ID.MDM_GM_GAME_NOTIFY,e);return d.HallEvent.off(o,t,n)},e.addRoomListener=function(e,t,n,o){p.Client.Instance.addMsgListener(f.roommsg.ROOM_MDM_ID.MDM_GM_GAME_NOTIFY,e,t,n,o)},e.removeMsgListener=function(e,t){p.Client.Instance.removeMsgListener(f.roommsg.ROOM_MDM_ID.MDM_GM_GAME_NOTIFY,e,t)},e.removeCallerListener=function(e){p.Client.Instance.removeCallerListener(e)},e.sendData=function(e,t){p.Client.Instance.sendData(f.roommsg.ROOM_MDM_ID.MDM_GM_GAME_NOTIFY,e,t)},e.onUserFresh=function(e){var t=g.GameUser.GetUserByID(e.dwUserID);null!=t&&t.UpdateMoney(e.iWalletGb.toNumber()),e.dwUserID==c.RunData.myUserInfo.dwUserID&&(g.GameMyData.myLastMoney=e.iWalletGb.toNumber(),g.GameMyData.updateMoney(e.iWalletGb.toNumber()))},e.onUserUpdate=function(e){var t=g.GameUser.GetUserByID(e.dwUserID);null!=t?e.dwUserID==c.RunData.myUserInfo.dwUserID?g.GameMyData.updateMoney(e.dwMoney.toNumber()):t.UpdateMoney(e.dwMoney.toNumber()):e.bDeskStation<g.GameUser.userList.length&&g.GameUser.UserSiteDown(e)},e.onUserSiteDown=function(e){e.dwUserID==c.RunData.myUserInfo.dwUserID&&this.onUpdateUserList(e)},e.onUpdateUserList=function(e){g.GameDesk.otherUserCount=0;for(var t=0;t<s.default.userList.length;t++)e.bDeskIndex==s.default.userList[t].bDeskNO&&g.GameUser.UserSiteDown(s.default.userList[t]);g.GameUser.UpdateUserDesk()},e.onEventUserSiteDown=function(e,t,n){e.dwUserID==c.RunData.myUserInfo.dwUserID?(g.GameDesk.deskNO=t,g.GameMyData.myDeskStation=n,g.GameUser.UserSiteDown(e)):t==s.default.myUserRoomInfo.pUserInfoStruct.bDeskNO&&g.GameUser.UserSiteDown(e)},e.onEventUserStandUp=function(e,t){t==s.default.myUserRoomInfo.pUserInfoStruct.bDeskNO&&g.GameUser.UserStandUp(e.bDeskStation)},e.s2cGameStation=function(e,t){var n,o,i,a=new v;a.readFrom(t),l.LogBase.s2cDebug("\u6e38\u620f\u521d\u59cb\u4fe1\u606f CMD_GM_Station_Base:",a),a.bStation>=g.GAME_STATE.GS_XIAZHU&&(n=g.GameConfig34200.isNewVersion?new b:new S).readFrom(t),a.bStation>=g.GAME_STATE.GS_SENDCARD&&(o=new C).readFrom(t),a.bStation>=g.GAME_STATE.GS_ACCOUNT&&(i=new I).readFrom(t),d.HallEvent.eventByHead(e,[a,n,o,i])},e.s2cStateUpdate=function(e,t){var n,o,i=new L;i.readFrom(t),l.LogBase.s2cDebug("\u72b6\u6001\u5207\u6362:",i.cbState),g.GameConfig34200.isNewVersion&&i.cbState==g.GAME_STATE.GS_XIAZHU&&(n=new P).readFrom(t),i.cbState==g.GAME_STATE.GS_SENDCARD&&(o=new M).readFrom(t),d.HallEvent.eventByHead(e,[i,n,o])},e.s2cNote=function(e,t){var n=new T;n.readFrom(t),d.HallEvent.eventByHead(e,n)},e.c2sSendNote=function(e,t,n){var o=new T;o.bChipIndex=n,o.bDeskStation=e,o.bNoteObject=t,p.Client.Instance.sendData(f.roommsg.ROOM_MDM_ID.MDM_GM_GAME_NOTIFY,r.GM_SUB_NOTE,o.writeTo())},e.s2cContinue=function(e,t){var n=new E;n.readFrom(t),l.LogBase.s2cDebug("\u7eed\u538b",n),d.HallEvent.eventByHead(e,n)},e.s2cSettlement=function(e,t){var n=new R;n.readFrom(t),l.LogBase.s2cDebug("\u7ed3\u7b97 data.length:",t.length,n),d.HallEvent.eventByHead(e,n)},e.c2sNote=function(e,t,n){var o=new T;o.bChipIndex=n,o.bDeskStation=e,o.bNoteObject=t,this.sendData(r.GM_SUB_NOTE,o.writeTo())},e.c2sContinueNote=function(){this.sendData(r.GM_SUB_CONTINUE)},e.s2cLuckPlayer=function(e,t){var n=new A;n.readFrom(t),d.HallEvent.eventByHead(e,n)},e.s2SimpleChart=function(e,t){var n=new w;n.readFrom(t),l.LogBase.debug("GameRoad34200 CMD_S_SimpleChart",n),d.HallEvent.eventByHead(e,n)},e}();n.GameMsg34200=m;var y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cbWinObject=0,t.cbCardValue=[],t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.LENGTH=3,t.ATTRIBUTES=[new u.MessageAttribute("cbWinObject","byte",!1,""),new u.MessageAttribute("cbCardValue","byte",!0,2)],t}(u.BaseMessage);n.CardTypeRecordItem=y;var _=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cbWinObject=0,t.uWinCount=0,t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.LENGTH=5,t.ATTRIBUTES=[new u.MessageAttribute("cbWinObject","byte",!1,""),new u.MessageAttribute("uWinCount","uint32",!1,"")],t}(u.BaseMessage);n.WinTypeRecordItem=_;var v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bStation=0,t.iVersion=0,t.iVersion2=0,t.iLeftTick=0,t.iXiaZhuTime=0,t.iSendCardTime=0,t.iAccountTick=0,t.iChouMaNum=0,t.iChouMa=[],t.cbCurGames=0,t.iCardTypeRecordItemCount=0,t.tagCardTypeRecordItem=[],t.cbLuckerDeskStation=0,t.cbLuckerWinRate=0,t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES,g.MSG_CONFIG)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES,g.MSG_CONFIG)},t.ATTRIBUTES=[new u.MessageAttribute("bStation","byte",!1,""),new u.MessageAttribute("iVersion","byte",!1,""),new u.MessageAttribute("iVersion2","byte",!1,""),new u.MessageAttribute("iLeftTick","int32",!1,""),new u.MessageAttribute("iXiaZhuTime","int32",!1,""),new u.MessageAttribute("iSendCardTime","int32",!1,""),new u.MessageAttribute("iAccountTick","int32",!1,""),new u.MessageAttribute("iChouMaNum","int32",!1,""),new u.MessageAttribute("iChouMa","int32",!0,10),new u.MessageAttribute("cbCurGames","byte",!1,""),new u.MessageAttribute("iCardTypeRecordItemCount","byte",!1,""),new u.MessageAttribute("tagCardTypeRecordItem",y,!0,"RECORD_COUNT"),new u.MessageAttribute("cbLuckerDeskStation","byte",!1,""),new u.MessageAttribute("cbLuckerWinRate","byte",!1,"")],t}(u.BaseMessage);n.CMD_GM_Station_Base=v;var b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.NoteMoney=[],t.SelfNoteMoney=[],t.nCanNoteMinMoney=0,t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES,g.MSG_CONFIG)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES,g.MSG_CONFIG)},t.ATTRIBUTES=[new u.MessageAttribute("NoteMoney","long2number",!0,g.BET_AREA.NOTEOBJECT_MAX),new u.MessageAttribute("SelfNoteMoney","long2number",!0,g.BET_AREA.NOTEOBJECT_MAX),new u.MessageAttribute("nCanNoteMinMoney","long2number",!1,"")],t}(u.BaseMessage);n.CMD_GM_Station_Note=b;var S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES,g.MSG_CONFIG)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES,g.MSG_CONFIG)},t.ATTRIBUTES=[new u.MessageAttribute("NoteMoney","long2number",!0,g.BET_AREA.NOTEOBJECT_MAX),new u.MessageAttribute("SelfNoteMoney","long2number",!0,g.BET_AREA.NOTEOBJECT_MAX)],t}(b);n.CMD_GM_Station_Note_Old=S;var C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bDeskStation=0,t.cbOpenCard=[],t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.LENGTH=3,t.ATTRIBUTES=[new u.MessageAttribute("bDeskStation","byte",!1,""),new u.MessageAttribute("cbOpenCard","byte",!0,2)],t}(u.BaseMessage);n.CMD_GM_Station_SendCard=C;var I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iWinMoney=0,t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.LENGTH=8,t.ATTRIBUTES=[new u.MessageAttribute("iWinMoney","long2number",!1,"")],t}(u.BaseMessage);n.CMD_GM_Station_Account=I;var R=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cbPrizeIndex=0,t.iWinMoney=[],t.cbNoted=[],t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new u.MessageAttribute("cbPrizeIndex","byte",!1,""),new u.MessageAttribute("iWinMoney","long2number",!0,g.MSG_CONFIG.PLAY_COUNT),new u.MessageAttribute("cbNoted","byte",!0,g.MSG_CONFIG.PLAY_COUNT)],t}(u.BaseMessage);n.CMD_GM_State_Account=R;var L=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cbState=0,t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.LENGTH=1,t.ATTRIBUTES=[new u.MessageAttribute("cbState","byte",!1,"")],t}(u.BaseMessage);n.CMD_GM_State=L;var P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nCanNoteMinMoney=0,t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.LENGTH=8,t.ATTRIBUTES=[new u.MessageAttribute("nCanNoteMinMoney","long2number",!1,"")],t}(u.BaseMessage);n.CMD_GM_State_Note=P;var M=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bDeskStation=0,t.cbOpenCard=[],t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.LENGTH=3,t.ATTRIBUTES=[new u.MessageAttribute("bDeskStation","byte",!1,""),new u.MessageAttribute("cbOpenCard","byte",!0,2)],t}(u.BaseMessage);n.CMD_GM_State_SendCard=M;var T=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bDeskStation=0,t.bChipIndex=0,t.bNoteObject=0,t.bErrorCode=0,t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.LENGTH=4,t.ATTRIBUTES=[new u.MessageAttribute("bDeskStation","byte",!1,""),new u.MessageAttribute("bChipIndex","byte",!1,""),new u.MessageAttribute("bNoteObject","byte",!1,""),new u.MessageAttribute("bErrorCode","byte",!1,"")],t}(u.BaseMessage);n.CMD_GM_Note=T;var E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cbDeskStation=0,t.iNote=[],t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES,g.MSG_CONFIG)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES,g.MSG_CONFIG)},t.ATTRIBUTES=[new u.MessageAttribute("cbDeskStation","byte",!1,""),new u.MessageAttribute("iNote","long2number",!0,g.BET_AREA.NOTEOBJECT_MAX+1)],t}(u.BaseMessage);n.CMD_GM_ContinueNote=E;var A=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cbDeskStation=0,t.cbWinRate=0,t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES,g.MSG_CONFIG)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES,g.MSG_CONFIG)},t.ATTRIBUTES=[new u.MessageAttribute("cbDeskStation","byte",!1,""),new u.MessageAttribute("cbWinRate","byte",!1,"")],t}(u.BaseMessage);n.CMD_GM_LuckPlayer=A;var w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cbGameStatus=0,t.cbCount=0,t.cbGameRecordArray=[],t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new u.MessageAttribute("cbGameStatus","byte"),new u.MessageAttribute("cbCount","byte"),new u.MessageAttribute("cbGameRecordArray","byte",!0,100)],t}(u.BaseMessage);n.CMD_S_SimpleChart=w,cc._RF.pop()},{"../../halls/hall/BaseRoom":"BaseRoom","../../halls/halllib/common/LogBase":"LogBase","../../halls/halllib/core/RunData":"RunData","../../halls/halllib/net/BaseMessage":"BaseMessage","../../halls/halllib/net/Client":"Client","../../halls/halllib/net/GameHallMessage":"GameHallMessage","../../halls/halllib/net/InnerEvent":"InnerEvent","../../halls/halllib/net/RoomMessage":"RoomMessage","./GameData34200":"GameData34200"}],GameMsg34400:[function(e,t,n){"use strict";cc._RF.push(t,"ac169gJrTRHAqFbiDpcRluY","GameMsg34400");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.GameMsg34400=void 0;var a=e("../../halls/halllib/net/ICom"),r=e("./GameConstant34400");(function(e){(function(e){e[e.GM_SUB_STATION=1001]="GM_SUB_STATION",e[e.GM_SUB_STATE_SWITCH=1002]="GM_SUB_STATE_SWITCH",e[e.GM_SUB_NOTE=1003]="GM_SUB_NOTE",e[e.GM_SUB_CONTINUE_NOTE=1004]="GM_SUB_CONTINUE_NOTE",e[e.GM_SUB_NT_LIST=1011]="GM_SUB_NT_LIST",e[e.GM_SUB_UP_NT=1012]="GM_SUB_UP_NT",e[e.GM_SUB_UNDER_NT=1013]="GM_SUB_UNDER_NT",e[e.GM_SUB_NTINFO=1014]="GM_SUB_NTINFO",e[e.GM_SUB_ACCOUNT_START=1016]="GM_SUB_ACCOUNT_START"})(e.GAME_MESSAGE_ID||(e.GAME_MESSAGE_ID={}));var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iNtStation=0,t.iNtGames=0,t.CurMoney=0,t.iNtTotalWinMoney=0,t.iTotalIntoMoney=0,t}return i(t,e),t.iNtStation=a.ICom.bit.int,t.iNtGames=a.ICom.bit.int,t.CurMoney=a.ICom.bit.long,t.iNtTotalWinMoney=a.ICom.bit.long,t.iTotalIntoMoney=a.ICom.bit.long,t}(a.ICom.BaseMessage);e.tagSendBankerInfo=t;var n=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bDeskStation=0,t.UserCurMoney=0,t}return i(t,e),t.bDeskStation=a.ICom.bit.byte,t.UserCurMoney=a.ICom.bit.long,t}(a.ICom.BaseMessage);e.tagUserInfo=n;var o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iState=0,t.Tick=0,t}return i(t,e),t.iState=a.ICom.bit.byte,t.Tick=a.ICom.bit.int,t}(a.ICom.BaseMessage);e.CMD_GM_StateSwitch=o;var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iState=0,t.Tick=0,t}return i(t,e),t.iState=a.ICom.bit.byte,t.Tick=a.ICom.bit.int,t}(a.ICom.BaseMessage);e.CMD_GM_StateSwitch_Note=s;var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iState=0,t.Tick=0,t.bSicePoint=[],t.bWinPrize=[],t.RankingCount=0,t.RankingStation=[],t.RankingMoney=[],t}return i(t,e),t.iState=a.ICom.bit.byte,t.Tick=a.ICom.bit.int,t.bSicePoint=new a.ICom.ArrayNumber(a.ICom.Bytes,3),t.bWinPrize=new a.ICom.ArrayNumber(a.ICom.Bytes,r.BET_AREA.SICE_MAX),t.RankingCount=a.ICom.bit.byte,t.RankingStation=new a.ICom.ArrayNumber(a.ICom.Bytes,r.GameConstant34400.RANKING_COUNT),t.RankingMoney=new a.ICom.ArrayNumber(a.ICom.Int64,r.GameConstant34400.RANKING_COUNT),t}(a.ICom.BaseMessage);e.CMD_GM_StateSwitch_Open=l;var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iState=0,t.Tick=0,t.BankerWinMoney=0,t.WinMoney=0,t}return i(t,e),t.iState=a.ICom.bit.byte,t.Tick=a.ICom.bit.int,t.BankerWinMoney=a.ICom.bit.long,t.WinMoney=a.ICom.bit.long,t}(a.ICom.BaseMessage);e.CMD_GM_StateSwitch_Settlement=c;var u=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.bStation=0,t.iVersion=0,t.iVersion2=0,t.bDeskStation=0,t.iLeftTick=0,t.iTick=0,t.iNtLeastMoney=0,t.NtLeastGames=0,t.NtMaxGames=0,t.BankerInfo=null,t}return i(n,e),n.bStation=a.ICom.bit.byte,n.iVersion=a.ICom.bit.byte,n.iVersion2=a.ICom.bit.byte,n.bDeskStation=a.ICom.bit.byte,n.iLeftTick=a.ICom.bit.int,n.iTick=a.ICom.bit.int,n.iNtLeastMoney=a.ICom.bit.long,n.NtLeastGames=a.ICom.bit.int,n.NtMaxGames=a.ICom.bit.int,n.BankerInfo=new a.ICom.ClassTb(t),n}(a.ICom.BaseMessage);e.CMD_GM_Station_Base=u;var p=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.bStation=0,t.iVersion=0,t.iVersion2=0,t.bDeskStation=0,t.iLeftTick=0,t.iTick=0,t.iNtLeastMoney=0,t.NtLeastGames=0,t.NtMaxGames=0,t.BankerInfo=null,t.SelfAreaNotes=[],t.SelfTotalNotes=0,t.AreaNotes=[],t.TotalNotes=0,t.mRecordData=[],t.mRecordCount=0,t.iCanSelectNotes=[],t}return i(n,e),n.bStation=a.ICom.bit.byte,n.iVersion=a.ICom.bit.byte,n.iVersion2=a.ICom.bit.byte,n.bDeskStation=a.ICom.bit.byte,n.iLeftTick=a.ICom.bit.int,n.iTick=a.ICom.bit.int,n.iNtLeastMoney=a.ICom.bit.long,n.NtLeastGames=a.ICom.bit.int,n.NtMaxGames=a.ICom.bit.int,n.BankerInfo=new a.ICom.ClassTb(t),n.SelfAreaNotes=new a.ICom.ArrayNumber(a.ICom.Int64,r.GameConstant34400.NOTE_AREA_COUNT),n.SelfTotalNotes=a.ICom.bit.long,n.AreaNotes=new a.ICom.ArrayNumber(a.ICom.Int64,r.GameConstant34400.NOTE_AREA_COUNT),n.TotalNotes=a.ICom.bit.long,n.mRecordData=new a.ICom.ArrayNumber(a.ICom.Uint32,r.GameConstant34400.RECORD_COUNT),n.mRecordCount=a.ICom.bit.int,n.iCanSelectNotes=new a.ICom.ArrayNumber(a.ICom.Int32,r.GameConstant34400.NOTE_MONEY_COUNT),n}(a.ICom.BaseMessage);e.CMD_GM_Station_Note=p;var h=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.bStation=0,t.iVersion=0,t.iVersion2=0,t.bDeskStation=0,t.iLeftTick=0,t.iTick=0,t.iNtLeastMoney=0,t.NtLeastGames=0,t.NtMaxGames=0,t.BankerInfo=null,t.SelfAreaNotes=[],t.SelfTotalNotes=0,t.AreaNotes=[],t.TotalNotes=0,t.mRecordData=[],t.mRecordCount=0,t.iCanSelectNotes=[],t.bSicePoint=[],t.bWinPrize=[],t.mWinMoney=0,t.mBankerWinMoney=0,t.RankingCount=0,t.RankingStation=[],t.RankingMoney=[],t}return i(n,e),n.bStation=a.ICom.bit.byte,n.iVersion=a.ICom.bit.byte,n.iVersion2=a.ICom.bit.byte,n.bDeskStation=a.ICom.bit.byte,n.iLeftTick=a.ICom.bit.int,n.iTick=a.ICom.bit.int,n.iNtLeastMoney=a.ICom.bit.long,n.NtLeastGames=a.ICom.bit.int,n.NtMaxGames=a.ICom.bit.int,n.BankerInfo=new a.ICom.ClassTb(t),n.SelfAreaNotes=new a.ICom.ArrayNumber(a.ICom.Int64,r.GameConstant34400.NOTE_AREA_COUNT),n.SelfTotalNotes=a.ICom.bit.long,n.AreaNotes=new a.ICom.ArrayNumber(a.ICom.Int64,r.GameConstant34400.NOTE_AREA_COUNT),n.TotalNotes=a.ICom.bit.long,n.mRecordData=new a.ICom.ArrayNumber(a.ICom.Uint32,r.GameConstant34400.RECORD_COUNT),n.mRecordCount=a.ICom.bit.int,n.iCanSelectNotes=new a.ICom.ArrayNumber(a.ICom.Int32,r.GameConstant34400.NOTE_MONEY_COUNT),n.bSicePoint=new a.ICom.ArrayNumber(a.ICom.Bytes,3),n.bWinPrize=new a.ICom.ArrayNumber(a.ICom.Bytes,r.BET_AREA.SICE_MAX),n.mWinMoney=a.ICom.bit.long,n.mBankerWinMoney=a.ICom.bit.long,n.RankingCount=a.ICom.bit.byte,n.RankingStation=new a.ICom.ArrayNumber(a.ICom.Bytes,r.GameConstant34400.RANKING_COUNT),n.RankingMoney=new a.ICom.ArrayNumber(a.ICom.Int64,r.GameConstant34400.RANKING_COUNT),n}(a.ICom.BaseMessage);e.CMD_GM_Station_Open=h;var d=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.bStation=0,t.iVersion=0,t.iVersion2=0,t.bDeskStation=0,t.iLeftTick=0,t.iTick=0,t.iNtLeastMoney=0,t.NtLeastGames=0,t.NtMaxGames=0,t.BankerInfo=null,t.SelfAreaNotes=[],t.SelfTotalNotes=0,t.AreaNotes=[],t.TotalNotes=0,t.mRecordData=[],t.mRecordCount=0,t.iCanSelectNotes=[],t.bSicePoint=[],t.bWinPrize=[],t.mWinMoney=0,t.mBankerWinMoney=0,t.RankingCount=0,t.RankingStation=[],t.RankingMoney=[],t}return i(n,e),n.bStation=a.ICom.bit.byte,n.iVersion=a.ICom.bit.byte,n.iVersion2=a.ICom.bit.byte,n.bDeskStation=a.ICom.bit.byte,n.iLeftTick=a.ICom.bit.int,n.iTick=a.ICom.bit.int,n.iNtLeastMoney=a.ICom.bit.long,n.NtLeastGames=a.ICom.bit.int,n.NtMaxGames=a.ICom.bit.int,n.BankerInfo=new a.ICom.ClassTb(t),n.SelfAreaNotes=new a.ICom.ArrayNumber(a.ICom.Int64,r.GameConstant34400.NOTE_AREA_COUNT),n.SelfTotalNotes=a.ICom.bit.long,n.AreaNotes=new a.ICom.ArrayNumber(a.ICom.Int64,r.GameConstant34400.NOTE_AREA_COUNT),n.TotalNotes=a.ICom.bit.long,n.mRecordData=new a.ICom.ArrayNumber(a.ICom.Uint32,r.GameConstant34400.RECORD_COUNT),n.mRecordCount=a.ICom.bit.int,n.iCanSelectNotes=new a.ICom.ArrayNumber(a.ICom.Int32,r.GameConstant34400.NOTE_MONEY_COUNT),n.bSicePoint=new a.ICom.ArrayNumber(a.ICom.Bytes,3),n.bWinPrize=new a.ICom.ArrayNumber(a.ICom.Bytes,r.BET_AREA.SICE_MAX),n.mWinMoney=a.ICom.bit.long,n.mBankerWinMoney=a.ICom.bit.long,n.RankingCount=a.ICom.bit.byte,n.RankingStation=new a.ICom.ArrayNumber(a.ICom.Bytes,r.GameConstant34400.RANKING_COUNT),n.RankingMoney=new a.ICom.ArrayNumber(a.ICom.Int64,r.GameConstant34400.RANKING_COUNT),n}(a.ICom.BaseMessage);e.CMD_GM_Station_Settlement=d;var f=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.bStation=0,t.iVersion=0,t.iVersion2=0,t.bDeskStation=0,t.iLeftTick=0,t.iTick=0,t.iNtLeastMoney=0,t.NtLeastGames=0,t.NtMaxGames=0,t.BankerInfo=null,t.mRecordData=[],t.mRecordCount=0,t.iCanSelectNotes=[],t}return i(n,e),n.bStation=a.ICom.bit.byte,n.iVersion=a.ICom.bit.byte,n.iVersion2=a.ICom.bit.byte,n.bDeskStation=a.ICom.bit.byte,n.iLeftTick=a.ICom.bit.int,n.iTick=a.ICom.bit.int,n.iNtLeastMoney=a.ICom.bit.long,n.NtLeastGames=a.ICom.bit.int,n.NtMaxGames=a.ICom.bit.int,n.BankerInfo=new a.ICom.ClassTb(t),n.mRecordData=new a.ICom.ArrayNumber(a.ICom.Uint32,r.GameConstant34400.RECORD_COUNT),n.mRecordCount=a.ICom.bit.int,n.iCanSelectNotes=new a.ICom.ArrayNumber(a.ICom.Int32,r.GameConstant34400.NOTE_MONEY_COUNT),n}(a.ICom.BaseMessage);e.CMD_GM_Station_Next=f;var g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nDeskStation=0,t.AreaIndex=0,t.NoteKind=0,t.NoteMoney=0,t.State=0,t}return i(t,e),t.nDeskStation=a.ICom.bit.int,t.AreaIndex=a.ICom.bit.int,t.NoteKind=a.ICom.bit.int,t.NoteMoney=a.ICom.bit.int,t.State=a.ICom.bit.int,t}(a.ICom.BaseMessage);e.CMD_GM_CurNoteData=g;var m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nDeskStation=0,t.mState=0,t.AreaNoteMoney=[],t}return i(t,e),t.nDeskStation=a.ICom.bit.int,t.mState=a.ICom.bit.int,t.AreaNoteMoney=new a.ICom.ArrayNumber(a.ICom.Int64,r.GameConstant34400.NOTE_AREA_COUNT),t}(a.ICom.BaseMessage);e.CMD_GM_ContinueLastNote=m;var y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bAutoFill=0,t.UpBankerMoney=0,t}return i(t,e),t.bAutoFill=a.ICom.bit.byte,t.UpBankerMoney=a.ICom.bit.long,t}(a.ICom.BaseMessage);e.CMD_GM_UpNt=y;var _=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nDeskStation=0,t.State=0,t}return i(t,e),t.nDeskStation=a.ICom.bit.int,t.State=a.ICom.bit.byte,t}(a.ICom.BaseMessage);e.CMD_GM_UpNtResult=_;var v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bCompelUnderNt=0,t}return i(t,e),t.bCompelUnderNt=a.ICom.bit.byte,t}(a.ICom.BaseMessage);e.CMD_GM_UnderNt=v;var b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nDeskStation=0,t.State=0,t.nTaxRatio=0,t.nTax=0,t}return i(t,e),t.nDeskStation=a.ICom.bit.byte,t.State=a.ICom.bit.byte,t.nTaxRatio=a.ICom.bit.byte,t.nTax=a.ICom.bit.byte,t}(a.ICom.BaseMessage);e.CMD_GM_UnderNtResult=b;var S=function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t.BankerInfo=null,t.UserInfo=null,t}return i(o,e),o.BankerInfo=new a.ICom.ClassTb(t),o.UserInfo=new a.ICom.ClassTb(n),o}(a.ICom.BaseMessage);e.CMD_GM_UpdateNtInfo=S;var C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.UserInfo=null,t}return i(t,e),t.UserInfo=new a.ICom.ArrayTable(n,0,a.ICom.Bytes),t}(a.ICom.BaseMessage);e.CMD_GM_NtList=C})(n.GameMsg34400||(n.GameMsg34400={})),cc._RF.pop()},{"../../halls/halllib/net/ICom":"ICom","./GameConstant34400":"GameConstant34400"}],GameMsg34500:[function(e,t,n){"use strict";cc._RF.push(t,"fd5c3LZOr9MXY80TolgbBGt","GameMsg34500");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.GameMsg34500=void 0;var a=e("../../halls/halllib/net/BaseMessage"),r=e("./GameConstant34500");(function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_byMonth=0,t.m_byDay=0,t.m_dBetScore=0,t.m_nMines=0,t.m_nDigTimes=0,t.m_dResult=0,t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new a.MessageAttribute("m_byMonth","byte"),new a.MessageAttribute("m_byDay","byte"),new a.MessageAttribute("m_dBetScore","long2number"),new a.MessageAttribute("m_nMines","int32"),new a.MessageAttribute("m_nDigTimes","int32"),new a.MessageAttribute("m_dResult","long2number")],t}(a.BaseMessage);e.SelfGameRecord=t;var n=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_byMonth=0,t.m_byDay=0,t.m_szNickName="",t.m_dBetScore=0,t.m_nMines=0,t.m_nDigTimes=0,t.m_dResult=0,t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new a.MessageAttribute("m_byMonth","byte"),new a.MessageAttribute("m_byDay","byte"),new a.MessageAttribute("m_szNickName","string",!1,61),new a.MessageAttribute("m_dBetScore","long2number"),new a.MessageAttribute("m_nMines","int32"),new a.MessageAttribute("m_nDigTimes","int32"),new a.MessageAttribute("m_dResult","long2number")],t}(a.BaseMessage);e.OtherGameRecord=n,function(e){e[e.SUB_GAME_C_GAME_RECORD_PERSONAL_REQ=1002]="SUB_GAME_C_GAME_RECORD_PERSONAL_REQ",e[e.SUB_GAME_C_GAME_RECORD_OTHERS_REQ=1003]="SUB_GAME_C_GAME_RECORD_OTHERS_REQ",e[e.SUB_GAME_C_START_GAME_NORMAL=1004]="SUB_GAME_C_START_GAME_NORMAL",e[e.SUB_GAME_C_DIG=1005]="SUB_GAME_C_DIG",e[e.SUB_GAME_C_DIG_AUTO_CHOOSE=1006]="SUB_GAME_C_DIG_AUTO_CHOOSE",e[e.SUB_GAME_C_WITHDRAW=1007]="SUB_GAME_C_WITHDRAW",e[e.SUB_GAME_C_START_GAME_AUTO=1008]="SUB_GAME_C_START_GAME_AUTO",e[e.SUB_GAME_C_Exit_GAME_AUTO=1009]="SUB_GAME_C_Exit_GAME_AUTO",e[e.SUB_S_GAME_SCENE=1001]="SUB_S_GAME_SCENE",e[e.SUB_GAME_S_SEND_GAME_RECORD_PERSONAL=1101]="SUB_GAME_S_SEND_GAME_RECORD_PERSONAL",e[e.SUB_GAME_S_SEND_GAME_RECORD_OTHERS=1102]="SUB_GAME_S_SEND_GAME_RECORD_OTHERS",e[e.SUB_GAME_S_START_GAME_NORMAL=1103]="SUB_GAME_S_START_GAME_NORMAL",e[e.SUB_GAME_S_DIG_RSP=1104]="SUB_GAME_S_DIG_RSP",e[e.SUB_GAME_S_WITHDRAW_RSP=1105]="SUB_GAME_S_WITHDRAW_RSP",e[e.SUB_GAME_S_START_GAME_AUTO=1106]="SUB_GAME_S_START_GAME_AUTO",e[e.SUB_GAME_S_AUTO_MODE_DIG_RESULT=1107]="SUB_GAME_S_AUTO_MODE_DIG_RESULT",e[e.SUB_GAME_S_AUTO_MODE_ONE_GAME_END=1108]="SUB_GAME_S_AUTO_MODE_ONE_GAME_END",e[e.SUB_GAME_S_NORMAL_MODE_GAME_END=1109]="SUB_GAME_S_NORMAL_MODE_GAME_END",e[e.SUB_GAME_S_AUTO_MODE_GAME_END=1110]="SUB_GAME_S_AUTO_MODE_GAME_END",e[e.SUB_GAME_S_GAME_TIME_RUN_OUT=1111]="SUB_GAME_S_GAME_TIME_RUN_OUT",e[e.SUB_GAME_S_Exit_GAME_AUTO=1112]="SUB_GAME_S_Exit_GAME_AUTO",e[e.SUB_GAME_S_SYS_TIP=1120]="SUB_GAME_S_SYS_TIP"}(e.GAME_MESSAGE_ID||(e.GAME_MESSAGE_ID={}));var o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_dMinBet=0,t.m_dMaxBet=0,t.m_arrTreasureLevel=[],t.m_byGameStatus=0,t.m_byGameMode=0,t.m_dBetScore=0,t.m_nMines=0,t.m_nDigTimes=0,t.m_nWinGamesToStop=0,t.m_nWinGamesFinished=0,t.m_nLoseGamesToStop=0,t.m_nLoseGamesFinished=0,t.m_arrBoardInfo=[],t.m_byTreasureLevelIndex=0,t.m_dCurrentEarnings=0,t.m_dUserScore=0,t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new a.MessageAttribute("m_dMinBet","long2number"),new a.MessageAttribute("m_dMaxBet","long2number"),new a.MessageAttribute("m_arrTreasureLevel","float64",!0,[r.GameConstant34500.MAX_MINE_NUMBER,r.GameConstant34500.MAX_PRIZE_MULTI_NUM]),new a.MessageAttribute("m_byGameStatus","byte"),new a.MessageAttribute("m_byGameMode","byte"),new a.MessageAttribute("m_dBetScore","long2number"),new a.MessageAttribute("m_nMines","int32"),new a.MessageAttribute("m_nDigTimes","int32"),new a.MessageAttribute("m_nWinGamesToStop","int32"),new a.MessageAttribute("m_nWinGamesFinished","int32"),new a.MessageAttribute("m_nLoseGamesToStop","int32"),new a.MessageAttribute("m_nLoseGamesFinished","int32"),new a.MessageAttribute("m_arrBoardInfo","byte",!0,r.GameConstant34500.SLOT_NUMBER),new a.MessageAttribute("m_byTreasureLevelIndex","byte"),new a.MessageAttribute("m_dCurrentEarnings","long2number"),new a.MessageAttribute("m_dUserScore","long2number")],t}(a.BaseMessage);e.CMD_S_GAME_SCENE=o;var s=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_wRecordCount=0,t.m_arrRecord=[],t}return i(n,e),n.prototype.readFrom=function(e){this.readAttribute(e,n.ATTRIBUTES)},n.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,n.ATTRIBUTES)},n.ATTRIBUTES=[new a.MessageAttribute("m_wRecordCount","uint16"),new a.MessageAttribute("m_arrRecord",t,!0,r.GameConstant34500.GAME_RECORD_MAX_NUM_PERSONAL)],n}(a.BaseMessage);e.CMD_GAME_S_SEND_GAME_RECORD_PERSONAL=s;var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_wRecordCount=0,t.m_arrRecord=[],t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new a.MessageAttribute("m_wRecordCount","uint16"),new a.MessageAttribute("m_arrRecord",n,!0,r.GameConstant34500.GAME_RECORD_MAX_NUM_OTHERS)],t}(a.BaseMessage);e.CMD_GAME_S_SEND_GAME_RECORD_OTHERS=l;var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_dBetScore=0,t.m_byMines=0,t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new a.MessageAttribute("m_dBetScore","long2number"),new a.MessageAttribute("m_byMines","byte")],t}(a.BaseMessage);e.CMD_GAME_S_START_GAME_NORMAL_RSP=c;var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_bySlotIndex=0,t.m_bySlotValue=0,t.m_arrBoardInfo=[],t.m_byTreasureLevelIndex=0,t.m_dCurrentEarnings=0,t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new a.MessageAttribute("m_bySlotIndex","byte"),new a.MessageAttribute("m_bySlotValue","byte"),new a.MessageAttribute("m_arrBoardInfo","byte",!0,r.GameConstant34500.SLOT_NUMBER),new a.MessageAttribute("m_byTreasureLevelIndex","byte"),new a.MessageAttribute("m_dCurrentEarnings","long2number")],t}(a.BaseMessage);e.CMD_GAME_S_DIG_RSP=u;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_arrBoardInfo=[],t.m_dUserWinScore=0,t.m_dUserScore=0,t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new a.MessageAttribute("m_arrBoardInfo","byte",!0,r.GameConstant34500.SLOT_NUMBER),new a.MessageAttribute("m_dUserWinScore","long2number"),new a.MessageAttribute("m_dUserScore","long2number")],t}(a.BaseMessage);e.CMD_GAME_S_WITHDRAW_RSP=p;var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_dBetScore=0,t.m_byMines=0,t.m_wWinGamesToStop=0,t.m_wLossGamesToStop=0,t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new a.MessageAttribute("m_dBetScore","long2number"),new a.MessageAttribute("m_byMines","byte"),new a.MessageAttribute("m_wWinGamesToStop","uint16"),new a.MessageAttribute("m_wLossGamesToStop","uint16")],t}(a.BaseMessage);e.CMD_GAME_S_START_GAME_AUTO_RSP=h;var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_bySlotIndex=0,t.m_bySlotValue=0,t.m_byTreasureLevelIndex=0,t.m_dCurrentEarnings=0,t.m_byLeftDigTimes=0,t.m_arrBoardInfo=[],t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new a.MessageAttribute("m_bySlotIndex","byte"),new a.MessageAttribute("m_bySlotValue","byte"),new a.MessageAttribute("m_byTreasureLevelIndex","byte"),new a.MessageAttribute("m_dCurrentEarnings","long2number"),new a.MessageAttribute("m_byLeftDigTimes","byte"),new a.MessageAttribute("m_arrBoardInfo","byte",!0,r.GameConstant34500.SLOT_NUMBER)],t}(a.BaseMessage);e.CMD_GAME_S_AUTO_MODE_DIG_RESULT=d;var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_arrBoardInfo=[],t.m_dUserPureWinScore=0,t.m_dUserScore=0,t.m_wWinGamesToStopFinished=0,t.m_wLoseGamesToStopFinished=0,t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new a.MessageAttribute("m_arrBoardInfo","byte",!0,r.GameConstant34500.SLOT_NUMBER),new a.MessageAttribute("m_dUserPureWinScore","long2number"),new a.MessageAttribute("m_dUserScore","long2number"),new a.MessageAttribute("m_wWinGamesToStopFinished","uint16"),new a.MessageAttribute("m_wLoseGamesToStopFinished","uint16")],t}(a.BaseMessage);e.CMD_GAME_S_AUTO_MODE_ONE_GAME_END=f;var g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_byEndReason=0,t.m_arrBoardInfo=[],t.m_dUserPureWinScore=0,t.m_dUserScore=0,t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new a.MessageAttribute("m_byEndReason","byte"),new a.MessageAttribute("m_arrBoardInfo","byte",!0,r.GameConstant34500.SLOT_NUMBER),new a.MessageAttribute("m_dUserPureWinScore","long2number"),new a.MessageAttribute("m_dUserScore","long2number")],t}(a.BaseMessage);e.CMD_GAME_S_NORMAL_MODE_GAME_END=g;var m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_byEndReason=0,t.m_arrBoardInfo=[],t.m_wWinGamesFinished=0,t.m_wLoseGamesFinished=0,t.m_dUserPureWinScore=0,t.m_dUserScore=0,t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new a.MessageAttribute("m_byEndReason","byte"),new a.MessageAttribute("m_arrBoardInfo","byte",!0,r.GameConstant34500.SLOT_NUMBER),new a.MessageAttribute("m_wWinGamesFinished","uint16"),new a.MessageAttribute("m_wLoseGamesFinished","uint16"),new a.MessageAttribute("m_dUserPureWinScore","long2number"),new a.MessageAttribute("m_dUserScore","long2number")],t}(a.BaseMessage);e.CMD_GAME_S_AUTO_MODE_GAME_END=m;var y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[],t}(a.BaseMessage);e.CMD_GAME_S_GAME_TIME_RUN_OUT=y;var _=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.szTip="",t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new a.MessageAttribute("szTip","string",!1,512)],t}(a.BaseMessage);e.CMD_GAME_S_SYS_TIP=_;var v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_dBetScore=0,t.m_byMines=0,t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new a.MessageAttribute("m_dBetScore","long2number"),new a.MessageAttribute("m_byMines","byte")],t}(a.BaseMessage);e.CMD_GAME_C_START_GAME_NORMAL=v;var b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_bySlotIndex=0,t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new a.MessageAttribute("m_bySlotIndex","byte")],t}(a.BaseMessage);e.CMD_GAME_C_DIG=b;var S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_dBetScore=0,t.m_byMines=0,t.m_byDigTimes=0,t.m_wWinGamesToStop=0,t.m_wLossGamesToStop=0,t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new a.MessageAttribute("m_dBetScore","long2number"),new a.MessageAttribute("m_byMines","byte"),new a.MessageAttribute("m_byDigTimes","byte"),new a.MessageAttribute("m_wWinGamesToStop","uint16"),new a.MessageAttribute("m_wLossGamesToStop","uint16")],t}(a.BaseMessage);e.CMD_GAME_C_START_GAME_AUTO=S})(n.GameMsg34500||(n.GameMsg34500={})),cc._RF.pop()},{"../../halls/halllib/net/BaseMessage":"BaseMessage","./GameConstant34500":"GameConstant34500"}],GameMsg34600:[function(e,t,n){"use strict";cc._RF.push(t,"9929bwTWNlPPKZntfv56KWS","GameMsg34600");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.GameMsg34600=void 0;var a=e("./GameConstant34600"),r=e("../../halls/halllib/net/BaseMessage");(function(e){(function(e){e[e.SUB_C_GAME_BET=1002]="SUB_C_GAME_BET",e[e.SUB_C_GAME_PLAYER_MANUAL_QUIT=1003]="SUB_C_GAME_PLAYER_MANUAL_QUIT",e[e.SUB_C_GAME_RECORD=1004]="SUB_C_GAME_RECORD",e[e.SUB_C_GAME_SET_AUTO_MODE=1005]="SUB_C_GAME_SET_AUTO_MODE",e[e.SUB_C_GAME_PLAYER_CANCEL_AUTO_MODE=1006]="SUB_C_GAME_PLAYER_CANCEL_AUTO_MODE",e[e.SUB_S_GAME_SCENE=1001]="SUB_S_GAME_SCENE",e[e.SUB_S_GAME_START_BET=1101]="SUB_S_GAME_START_BET",e[e.SUB_S_GAME_BET=1102]="SUB_S_GAME_BET",e[e.SUB_S_GAME_BET_FAIL=1103]="SUB_S_GAME_BET_FAIL",e[e.SUB_S_GAME_PLAYER_MANUAL_QUIT=1104]="SUB_S_GAME_PLAYER_MANUAL_QUIT",e[e.SUB_S_GAME_PLAYER_MANUAL_QUIT_FAIL=1105]="SUB_S_GAME_PLAYER_MANUAL_QUIT_FAIL",e[e.SUB_S_GAME_RECORD=1106]="SUB_S_GAME_RECORD",e[e.SUB_S_GAME_BROADCAST_RANK_PLAYER_INFO=1107]="SUB_S_GAME_BROADCAST_RANK_PLAYER_INFO",e[e.SUB_S_GAME_FLY=1108]="SUB_S_GAME_FLY",e[e.SUB_S_GAME_NOTIFY_CUT_SCENE=1109]="SUB_S_GAME_NOTIFY_CUT_SCENE",e[e.SUB_S_GAME_BROADCAST_QUIT_PLAYER=1110]="SUB_S_GAME_BROADCAST_QUIT_PLAYER",e[e.SUB_S_GAME_SET_AUTO_MODE=1111]="SUB_S_GAME_SET_AUTO_MODE",e[e.SUB_S_GAME_SET_AUTO_MODE_FAIL=1112]="SUB_S_GAME_SET_AUTO_MODE_FAIL",e[e.SUB_S_GAME_PLAYER_CANCEL_AUTO_MODE=1113]="SUB_S_GAME_PLAYER_CANCEL_AUTO_MODE",e[e.SUB_S_GAME_PLAYER_CANCEL_AUTO_MODE_FAIL=1114]="SUB_S_GAME_PLAYER_CANCEL_AUTO_MODE_FAIL",e[e.SUB_S_GAME_RANK_LIST=1115]="SUB_S_GAME_RANK_LIST",e[e.SUB_S_GAME_CRASH=1116]="SUB_S_GAME_CRASH",e[e.SUB_S_GAME_REMOVE_PLAYER_FROM_RANK=1117]="SUB_S_GAME_REMOVE_PLAYER_FROM_RANK"})(e.GAME_MESSAGE_ID||(e.GAME_MESSAGE_ID={})),function(e){e[e.E_GAME_STATUS_BET=1]="E_GAME_STATUS_BET",e[e.E_GAME_STATUS_PLAY=2]="E_GAME_STATUS_PLAY",e[e.E_GAME_STATUS_CUT_SCENE=3]="E_GAME_STATUS_CUT_SCENE"}(e.GAME_STATUS_E||(e.GAME_STATUS_E={}));var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_dwGameID=0,t.m_szNickName="",t.m_dBetScore=0,t.m_dQuitMultiple=0,t.m_dWinScore=0,t.m_dFliedTimeWhenQuit=0,t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new r.MessageAttribute("m_dwGameID","uint32"),new r.MessageAttribute("m_szNickName","string",!1,a.GameConstant34600.LEN_NICKNAME),new r.MessageAttribute("m_dBetScore","long2number"),new r.MessageAttribute("m_dQuitMultiple","int32"),new r.MessageAttribute("m_dWinScore","long2number"),new r.MessageAttribute("m_dFliedTimeWhenQuit","int32")],t}(r.BaseMessage);e.TagRankPlayer=t;var n=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_dMaxBet=0,t.m_dMinBet=0,t.m_dMinQuitMultiple=0,t.m_dInitialMultiple=0,t.m_dMaxMultiple=0,t.m_dInitialSpeed=0,t.m_dAccelerate=0,t.m_dBetTime=0,t.m_dCutSceneTime=0,t.m_ucGameStatus=0,t.m_dLeftBetTime=0,t.m_dPassedFlyTime=0,t.m_dLeftCutSceneTime=0,t.m_dLastMultiple=0,t.m_dFlyTimeCompressRate=0,t.m_byGameMode=0,t.m_dAutoModeBetScore=0,t.m_dAutoModeQuitMultiple=0,t.m_iAutoModeLeftRounds=0,t.m_dBetScore=0,t.m_dUserQuitMultiple=0,t.m_dWinScore=0,t.m_dPlayerScore=0,t.m_dCrashMultiple=0,t.m_dWholeFlyTime=0,t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new r.MessageAttribute("m_dMaxBet","long2number"),new r.MessageAttribute("m_dMinBet","long2number"),new r.MessageAttribute("m_dMinQuitMultiple","float64"),new r.MessageAttribute("m_dInitialMultiple","float64"),new r.MessageAttribute("m_dMaxMultiple","float64"),new r.MessageAttribute("m_dInitialSpeed","float64"),new r.MessageAttribute("m_dAccelerate","float64"),new r.MessageAttribute("m_dBetTime","float64"),new r.MessageAttribute("m_dCutSceneTime","float64"),new r.MessageAttribute("m_ucGameStatus","byte"),new r.MessageAttribute("m_dLeftBetTime","float64"),new r.MessageAttribute("m_dPassedFlyTime","float64"),new r.MessageAttribute("m_dLeftCutSceneTime","float64"),new r.MessageAttribute("m_dLastMultiple","float64"),new r.MessageAttribute("m_dFlyTimeCompressRate","float64"),new r.MessageAttribute("m_byGameMode","byte"),new r.MessageAttribute("m_dAutoModeBetScore","long2number"),new r.MessageAttribute("m_dAutoModeQuitMultiple","float64"),new r.MessageAttribute("m_iAutoModeLeftRounds","int32"),new r.MessageAttribute("m_dBetScore","long2number"),new r.MessageAttribute("m_dUserQuitMultiple","float64"),new r.MessageAttribute("m_dWinScore","long2number"),new r.MessageAttribute("m_dPlayerScore","long2number"),new r.MessageAttribute("m_dCrashMultiple","float64"),new r.MessageAttribute("m_dWholeFlyTime","float64")],t}(r.BaseMessage);e.CMD_S_GAME_SCENE=n;var o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_byGameMode=0,t.m_dBetScore=0,t.m_dQuitMultiple=0,t.m_iLeftGameRounds=0,t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new r.MessageAttribute("m_byGameMode","byte"),new r.MessageAttribute("m_dBetScore","long2number"),new r.MessageAttribute("m_dQuitMultiple","float64"),new r.MessageAttribute("m_iLeftGameRounds","int32")],t}(r.BaseMessage);e.CMD_S_GAME_START_BET=o;var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_dBetScore=0,t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new r.MessageAttribute("m_dBetScore","long2number")],t}(r.BaseMessage);e.CMD_S_GAME_BET=s;var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_szFailReason="",t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new r.MessageAttribute("m_szFailReason","string",!1,256)],t}(r.BaseMessage);e.CMD_S_GAME_BET_FAIL=l;var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_dBetScore=0,t.m_dQuitMultiple=0,t.m_dWinScore=0,t.m_dUserScore=0,t.m_dFliedTimeWhenQuit=0,t.m_szNickName="",t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new r.MessageAttribute("m_dBetScore","long2number"),new r.MessageAttribute("m_dQuitMultiple","float64"),new r.MessageAttribute("m_dWinScore","long2number"),new r.MessageAttribute("m_dUserScore","long2number"),new r.MessageAttribute("m_dFliedTimeWhenQuit","float64"),new r.MessageAttribute("m_szNickName","string",!1,a.GameConstant34600.LEN_NICKNAME)],t}(r.BaseMessage);e.CMD_S_GAME_PLAYER_QUIT=c;var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_szFailReason="",t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new r.MessageAttribute("m_szFailReason","string",!1,256)],t}(r.BaseMessage);e.CMD_S_GAME_PLAYER_QUIT_FAIL=u;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_wRecordCount=0,t.m_arrCrashMultiple=[],t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new r.MessageAttribute("m_wRecordCount","uint16"),new r.MessageAttribute("m_arrCrashMultiple","float64",!0,a.GameConstant34600.GAME_RECORD_MAX_NUM)],t}(r.BaseMessage);e.CMD_S_GAME_RECORD=p;var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_dwGameID=0,t.m_szNickName="",t.m_dBetScore=0,t.m_dQuitMultiple=0,t.m_dWinScore=0,t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new r.MessageAttribute("m_dwGameID","uint32"),new r.MessageAttribute("m_szNickName","string",!1,a.GameConstant34600.LEN_NICKNAME),new r.MessageAttribute("m_dBetScore","long2number")],t}(r.BaseMessage);e.CMD_S_GAME_BROADCAST_RANK_PLAYER_INFO=h;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(r.BaseMessage);e.CMD_S_GAME_FLY=d;var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_dCrashMultiple=0,t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new r.MessageAttribute("m_dCrashMultiple","float64")],t}(r.BaseMessage);e.CMD_S_GAME_NOTIFY_CUT_SCENE=f;var g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_dwGameID=0,t.m_dBetScore=0,t.m_dQuitMultiple=0,t.m_dWinScore=0,t.m_dFliedTimeWhenQuit=0,t.m_szNickName="",t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new r.MessageAttribute("m_dwGameID","uint32"),new r.MessageAttribute("m_dBetScore","long2number"),new r.MessageAttribute("m_dQuitMultiple","float64"),new r.MessageAttribute("m_dWinScore","long2number"),new r.MessageAttribute("m_dFliedTimeWhenQuit","float64"),new r.MessageAttribute("m_szNickName","string",!1,a.GameConstant34600.LEN_NICKNAME)],t}(r.BaseMessage);e.CMD_S_GAME_BROADCAST_QUIT_PLAYER=g;var m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_dBetScore=0,t.m_dQuitMultiple=0,t.m_iGameRounds=0,t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new r.MessageAttribute("m_dBetScore","long2number"),new r.MessageAttribute("m_dQuitMultiple","float64"),new r.MessageAttribute("m_iGameRounds","int32")],t}(r.BaseMessage);e.CMD_S_GAME_SET_AUTO_MODE=m;var y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_szFailReason="",t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new r.MessageAttribute("m_szFailReason","string",!1,256)],t}(r.BaseMessage);e.CMD_S_GAME_SET_AUTO_MODE_FAIL=y;var _=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[],t}(r.BaseMessage);e.CMD_S_GAME_PLAYER_CANCEL_AUTO_MODE=_;var v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_szFailReason="",t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new r.MessageAttribute("m_szFailReason","string",!1,256)],t}(r.BaseMessage);e.CMD_S_GAME_PLAYER_CANCEL_AUTO_MODE_FAIL=v;var b=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_wRankPlayerCount=0,t.m_arrRankPlayerInfo=[],t}return i(n,e),n.prototype.readFrom=function(e){this.readAttribute(e,n.ATTRIBUTES)},n.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,n.ATTRIBUTES)},n.ATTRIBUTES=[new r.MessageAttribute("m_wRankPlayerCount","uint16"),new r.MessageAttribute("m_arrRankPlayerInfo",t,!0,"m_wRankPlayerCount")],n}(r.BaseMessage);e.CMD_S_GAME_RANK_LIST=b;var S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_dCrashMultiple=0,t.m_dFlyTime=0,t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new r.MessageAttribute("m_dCrashMultiple","float64"),new r.MessageAttribute("m_dFlyTime","float64")],t}(r.BaseMessage);e.CMD_S_GAME_CRASH=S;var C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_dwGameID=0,t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new r.MessageAttribute("m_dwGameID","uint32")],t}(r.BaseMessage);e.CMD_S_GAME_REMOVE_PLAYER_FROM_RANK=C;var I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_wChairID=0,t.m_dBetScore=0,t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new r.MessageAttribute("m_wChairID","uint16"),new r.MessageAttribute("m_dBetScore","long2number")],t}(r.BaseMessage);e.CMD_C_GAME_BET=I;var R=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_wChairID=0,t.m_dQuitMultiple=0,t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new r.MessageAttribute("m_wChairID","uint16"),new r.MessageAttribute("m_dQuitMultiple","float64")],t}(r.BaseMessage);e.CMD_C_GAME_PLAYER_MANUAL_QUIT=R;var L=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_wChairID=0,t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new r.MessageAttribute("m_wChairID","uint16")],t}(r.BaseMessage);e.CMD_C_GAME_RECORD=L;var P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_dBetScore=0,t.m_dQuitMultiple=0,t.m_iGameRounds=0,t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new r.MessageAttribute("m_dBetScore","long2number"),new r.MessageAttribute("m_dQuitMultiple","float64"),new r.MessageAttribute("m_iGameRounds","int32")],t}(r.BaseMessage);e.CMD_C_GAME_SET_AUTO_MODE=P;var M=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_wChairID=0,t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new r.MessageAttribute("m_wChairID","uint16")],t}(r.BaseMessage);e.CMD_C_GAME_PLAYER_CANCEL_AUTO_MODE=M})(n.GameMsg34600||(n.GameMsg34600={})),cc._RF.pop()},{"../../halls/halllib/net/BaseMessage":"BaseMessage","./GameConstant34600":"GameConstant34600"}],GameMsg34900:[function(e,t,n){"use strict";cc._RF.push(t,"d3f5eeNN4VD3IO8SC1869PG","GameMsg34900");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.GameMsg34900=void 0;var a=e("../../halls/halllib/net/BaseMessage"),r=e("./GameConstant34900");(function(e){(function(e){e[e.SUB_C_PLACE_JETTON=1001]="SUB_C_PLACE_JETTON",e[e.SUB_S_GAME_STATUS=50]="SUB_S_GAME_STATUS",e[e.SUB_S_GAME_FREE=99]="SUB_S_GAME_FREE",e[e.SUB_S_GAME_START=100]="SUB_S_GAME_START",e[e.SUB_S_PLACE_JETTON=101]="SUB_S_PLACE_JETTON",e[e.SUB_S_PLACE_JETTON_FAIL=102]="SUB_S_PLACE_JETTON_FAIL",e[e.SUB_S_CONTINU_JETTON=103]="SUB_S_CONTINU_JETTON",e[e.SUB_S_CONTINUE_JETTON_FAIL=104]="SUB_S_CONTINUE_JETTON_FAIL",e[e.SUB_S_GAME_END=105]="SUB_S_GAME_END",e[e.SUB_S_SEND_SIMPLE_CHART=106]="SUB_S_SEND_SIMPLE_CHART",e[e.SUB_S_UPDATE_OCCUPYSEAT=110]="SUB_S_UPDATE_OCCUPYSEAT"})(e.GAME_MESSAGE_ID||(e.GAME_MESSAGE_ID={}));var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.byGameStatus=0,t.byFreeTime=0,t.byPlaceJettonTime=0,t.byAccountTime=0,t.iAreaAllLimitScore=0,t.iAreaUserLimitScore=0,t.lChipArray=[],t.wOccupySeatChairIDArray=[],t.byTimeLeft=0,t.nCoinResult=0,t.lAreaInAllBetScore=[],t.lUserBetScore=[],t.lOccupySeatBetScore=[],t.lBankerWinScore=0,t.lUserWinScore=[],t.lOccupySeatWinScore=[],t.lOtherUserAreaWinScore=[],t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new a.MessageAttribute("byGameStatus","byte"),new a.MessageAttribute("byFreeTime","byte"),new a.MessageAttribute("byPlaceJettonTime","byte"),new a.MessageAttribute("byAccountTime","byte"),new a.MessageAttribute("iAreaAllLimitScore","long2number"),new a.MessageAttribute("iAreaUserLimitScore","long2number"),new a.MessageAttribute("lChipArray","long2number",!0,r.GameConstant34900.MAX_CHIP_COUNT),new a.MessageAttribute("wOccupySeatChairIDArray","uint16",!0,r.GameConstant34900.MAX_OCCUPY_SEAT_COUNT),new a.MessageAttribute("byTimeLeft","byte"),new a.MessageAttribute("nCoinResult","int32"),new a.MessageAttribute("lAreaInAllBetScore","long2number",!0,r.GameConstant34900.AREA_MAX),new a.MessageAttribute("lUserBetScore","long2number",!0,r.GameConstant34900.AREA_MAX),new a.MessageAttribute("lOccupySeatBetScore","long2number",!0,[r.GameConstant34900.MAX_OCCUPY_SEAT_COUNT,r.GameConstant34900.AREA_MAX]),new a.MessageAttribute("lBankerWinScore","long2number"),new a.MessageAttribute("lUserWinScore","long2number",!0,r.GameConstant34900.AREA_MAX),new a.MessageAttribute("lOccupySeatWinScore","long2number",!0,[r.GameConstant34900.MAX_OCCUPY_SEAT_COUNT,r.GameConstant34900.AREA_MAX]),new a.MessageAttribute("lOtherUserAreaWinScore","long2number",!0,r.GameConstant34900.AREA_MAX)],t}(a.BaseMessage);e.CMD_S_GAME_SCENE=t;var n=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wPlaceUser=0,t.cbJettonArea=0,t.lJettonScore=0,t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new a.MessageAttribute("wPlaceUser","uint16"),new a.MessageAttribute("cbJettonArea","byte"),new a.MessageAttribute("lJettonScore","long2number")],t}(a.BaseMessage);e.CMD_S_PlaceJetton=n;var o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lJettonArea=0,t.lPlaceScore=0,t.szFailTip="",t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new a.MessageAttribute("lJettonArea","byte"),new a.MessageAttribute("lPlaceScore","long2number"),new a.MessageAttribute("szFailTip","string",!1,512)],t}(a.BaseMessage);e.CMD_S_PlaceJettonFail=o;var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nCoinResult=0,t.lUserScore=0,t.lUserWinScore=[],t.lOtherUserInAllScore=[],t.lOtherUserAreaWinScore=[],t.lOccupySeatChairIDArray=[],t.lOccupySeatChairAreaWinScore=[],t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new a.MessageAttribute("nCoinResult","int32"),new a.MessageAttribute("lUserScore","long2number"),new a.MessageAttribute("lUserWinScore","long2number",!0,r.GameConstant34900.AREA_MAX),new a.MessageAttribute("lOtherUserInAllScore","long2number",!0,r.GameConstant34900.AREA_MAX),new a.MessageAttribute("lOtherUserAreaWinScore","long2number",!0,r.GameConstant34900.AREA_MAX),new a.MessageAttribute("lOccupySeatChairIDArray","long2number",!0,r.GameConstant34900.MAX_OCCUPY_SEAT_COUNT),new a.MessageAttribute("lOccupySeatChairAreaWinScore","long2number",!0,[r.GameConstant34900.MAX_OCCUPY_SEAT_COUNT,r.GameConstant34900.AREA_MAX])],t}(a.BaseMessage);e.CMD_S_GameEnd=s;var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wOccupySeatChairIDArray=[],t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new a.MessageAttribute("wOccupySeatChairIDArray","uint16",!0,r.GameConstant34900.MAX_OCCUPY_SEAT_COUNT)],t}(a.BaseMessage);e.CMD_S_UpdateOccupySeat=l;var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cbGameStatus=0,t.cbCount=0,t.cbGameRecordArray=[],t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new a.MessageAttribute("cbGameStatus","byte"),new a.MessageAttribute("cbCount","byte"),new a.MessageAttribute("cbGameRecordArray","byte",!0,r.GameConstant34900.MAX_SIMPLE_CHART_COUNT)],t}(a.BaseMessage);e.CMD_S_SimpleChart=c;var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cbJettonArea=0,t.lJettonScore=0,t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new a.MessageAttribute("cbJettonArea","byte"),new a.MessageAttribute("lJettonScore","long2number")],t}(a.BaseMessage);e.CMD_C_PlaceJetton=u})(n.GameMsg34900||(n.GameMsg34900={})),cc._RF.pop()},{"../../halls/halllib/net/BaseMessage":"BaseMessage","./GameConstant34900":"GameConstant34900"}],GameMsgHandler11100:[function(e,t,n){"use strict";cc._RF.push(t,"08136f6+x5MfaPHzvZSYaBZ","GameMsgHandler11100");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.GameMsgHandler11100=void 0;var i=e("../../halls/halllib/net/Client"),a=o(e("../../halls/halllib/net/RoomMsgProxy")),r=e("../../halls/halllib/net/RoomMessage"),s=e("../../halls/halllib/net/InnerEvent"),l=e("./GameMsg11100"),c=e("../../halls/halllib/core/RunData"),u=e("./GameConstant11100"),p=function(){function e(){this.msgMainId=2000180}return Object.defineProperty(e,"Instance",{get:function(){return null==this._instance&&(this._instance=new e),this._instance},enumerable:!1,configurable:!0}),e.prototype.Init=function(e){this.GameMain=e,a.default.sendQuickSitDown(),s.HallEvent.on(s.HallEvent.USER_ENTER,this,this.GameUserEnter),s.HallEvent.on(s.HallEvent.USER_LEFT,this,this.GameUserLeave),s.HallEvent.on(s.HallEvent.USER_SIT_DOWN,this,this.onEventUserSiteDown),i.Client.Instance.addMsgListener(this.msgMainId,l.GameMsg11100.GAME_MESSAGE_ID.GM_SUB_GAMESTATION,this,this.GameStation),i.Client.Instance.addMsgListener(this.msgMainId,l.GameMsg11100.GAME_MESSAGE_ID.GM_SUB_STATEUPDATE,this,this.GameStationUpdate),i.Client.Instance.addMsgListener(this.msgMainId,l.GameMsg11100.GAME_MESSAGE_ID.GM_SUB_NOTE,this,this.GameBet),i.Client.Instance.addMsgListener(this.msgMainId,l.GameMsg11100.GAME_MESSAGE_ID.GM_SUB_CONTINUE,this,this.GameRepeatBet),i.Client.Instance.addMsgListener(this.msgMainId,l.GameMsg11100.GAME_MESSAGE_ID.GM_SUB_LUCKPLAYER,this,this.GameLuckPlayer),i.Client.Instance.addMsgListener(this.msgMainId,l.GameMsg11100.GAME_MESSAGE_ID.GM_SUB_SETTLEMENT,this,this.GameEnd),i.Client.Instance.addMsgListener(this.msgMainId,l.GameMsg11100.GAME_MESSAGE_ID.GM_SUB_PLAYERNOTEINFO,this,this.GameAreaBetInfo)},e.prototype.Destroy=function(){var t;null===(t=i.Client.Instance)||void 0===t||t.removeCallerListener(this),s.HallEvent.off(s.HallEvent.USER_ENTER,this,this.GameUserEnter),s.HallEvent.off(s.HallEvent.USER_LEFT,this,this.GameUserLeave),s.HallEvent.off(s.HallEvent.USER_SIT_DOWN,this,this.onEventUserSiteDown),e._instance=null},e.prototype.onEventUserSiteDown=function(e,t,n){e.dwUserID==c.RunData.myUserInfo.dwUserID&&t<255&&n<255&&0<=t&&0<=n&&(i.Client.Instance.sendData(2000150,1),i.Client.Instance.sendData(2000180,1)),this.GameMain.RefreshDeskUser(e)},e.prototype.GameUserEnter=function(e){e.dwUserID!=c.RunData.myUserInfo.dwUserID&&this.GameMain.RefreshDeskUser(e)},e.prototype.GameUserLeave=function(e){this.GameMain.RefreshDeskUser(e,!0)},e.prototype.GameStation=function(e,t){var n,o=t.readByte();t.pos-=1,o==u.GAME_STATUS_E.IDLE?n=new l.GameMsg11100.CMD_GM_Station_Base:o==u.GAME_STATUS_E.BET?n=new l.GameMsg11100.CMD_GM_Station_Note:o==u.GAME_STATUS_E.OPEN_CARD?n=new l.GameMsg11100.CMD_GM_Station_OpenCard:o==u.GAME_STATUS_E.END&&(n=new l.GameMsg11100.CMD_GM_Station_Account),n.readFrom(t),this.GameMain.GameState(n)},e.prototype.GameStationUpdate=function(e,t){var n=t.readByte();t.pos-=1;var o=new l.GameMsg11100.CMD_GM_State;n==u.GAME_STATUS_E.IDLE?o=new l.GameMsg11100.CMD_GM_State:n==u.GAME_STATUS_E.BET?o=new l.GameMsg11100.CMD_GM_State_Note:n==u.GAME_STATUS_E.OPEN_CARD?o=new l.GameMsg11100.CMD_GM_State_SendCard:u.GAME_STATUS_E.END,o.readFrom(t),this.GameMain.GameStateUpdate(o)},e.prototype.GameBet=function(e,t){var n=new l.GameMsg11100.CMD_GM_Note;n.readFrom(t),this.GameMain.GameBetResponse(n)},e.prototype.GameRepeatBet=function(e,t){var n=new l.GameMsg11100.CMD_GM_ContinueNote;n.readFrom(t),this.GameMain.GameRepeatBet(n)},e.prototype.GameLuckPlayer=function(){},e.prototype.GameEnd=function(e,t){var n=new l.GameMsg11100.CMD_GM_State_Account;n.readFrom(t),this.GameMain.GameEnd(n)},e.prototype.GameAreaBetInfo=function(){},e.prototype.GameBetRequest=function(e,t,n){var o=new l.GameMsg11100.CMD_GM_Note;o.bDeskStation=e,o.bChipIndex=t,o.bNoteObject=n,i.Client.Instance.sendData(r.roommsg.ROOM_MDM_ID.MDM_GM_GAME_NOTIFY,l.GameMsg11100.GAME_MESSAGE_ID.GM_SUB_NOTE,o.writeTo())},e.prototype.GameRepeatBetRequest=function(){i.Client.Instance.sendData(r.roommsg.ROOM_MDM_ID.MDM_GM_GAME_NOTIFY,l.GameMsg11100.GAME_MESSAGE_ID.GM_SUB_CONTINUE)},e}();n.GameMsgHandler11100=p,cc._RF.pop()},{"../../halls/halllib/core/RunData":"RunData","../../halls/halllib/net/Client":"Client","../../halls/halllib/net/InnerEvent":"InnerEvent","../../halls/halllib/net/RoomMessage":"RoomMessage","../../halls/halllib/net/RoomMsgProxy":"RoomMsgProxy","./GameConstant11100":"GameConstant11100","./GameMsg11100":"GameMsg11100"}],GameMsgHandler34400:[function(e,t,n){"use strict";cc._RF.push(t,"e4951WtQe5M8Lz0C7dc5ih2","GameMsgHandler34400");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.GameMsgHandler34400=void 0;var i=e("../../halls/halllib/net/Client"),a=o(e("../../halls/halllib/net/RoomMsgProxy")),r=e("../../halls/halllib/net/RoomMessage"),s=e("../../halls/halllib/net/InnerEvent"),l=e("./GameMsg34400"),c=e("../../halls/halllib/core/RunData"),u=e("./GameConstant34400"),p=e("../../halls/halllib/common/LogBase"),h=function(){function e(){this.msgMainId=2000180}return Object.defineProperty(e,"Instance",{get:function(){return null==this._instance&&(this._instance=new e),this._instance},enumerable:!1,configurable:!0}),e.prototype.Init=function(e){this.GameMain=e,a.default.sendQuickSitDown(),s.HallEvent.on(s.HallEvent.USER_ENTER,this,this.GameUserEnter),s.HallEvent.on(s.HallEvent.USER_LEFT,this,this.GameUserLeave),s.HallEvent.on(s.HallEvent.USER_SIT_DOWN,this,this.onEventUserSiteDown),i.Client.Instance.addMsgListener(this.msgMainId,l.GameMsg34400.GAME_MESSAGE_ID.GM_SUB_STATION,this,this.GameStation),i.Client.Instance.addMsgListener(this.msgMainId,l.GameMsg34400.GAME_MESSAGE_ID.GM_SUB_STATE_SWITCH,this,this.GameStationUpdate),i.Client.Instance.addMsgListener(this.msgMainId,l.GameMsg34400.GAME_MESSAGE_ID.GM_SUB_NOTE,this,this.GameBet),i.Client.Instance.addMsgListener(this.msgMainId,l.GameMsg34400.GAME_MESSAGE_ID.GM_SUB_CONTINUE_NOTE,this,this.GameRepeatBet),i.Client.Instance.addMsgListener(this.msgMainId,l.GameMsg34400.GAME_MESSAGE_ID.GM_SUB_NT_LIST,this,this.BankerListData),i.Client.Instance.addMsgListener(this.msgMainId,l.GameMsg34400.GAME_MESSAGE_ID.GM_SUB_UP_NT,this,this.UpBanker),i.Client.Instance.addMsgListener(this.msgMainId,l.GameMsg34400.GAME_MESSAGE_ID.GM_SUB_UNDER_NT,this,this.UnderBanker),i.Client.Instance.addMsgListener(this.msgMainId,l.GameMsg34400.GAME_MESSAGE_ID.GM_SUB_NTINFO,this,this.BankerInfo),i.Client.Instance.addMsgListener(this.msgMainId,l.GameMsg34400.GAME_MESSAGE_ID.GM_SUB_ACCOUNT_START,this,this.GameEnd)},e.prototype.Destroy=function(){var t;s.HallEvent.off(s.HallEvent.USER_ENTER,this,this.GameUserEnter),s.HallEvent.off(s.HallEvent.USER_LEFT,this,this.GameUserLeave),s.HallEvent.off(s.HallEvent.USER_SIT_DOWN,this,this.onEventUserSiteDown),null===(t=i.Client.Instance)||void 0===t||t.removeCallerListener(this),e._instance=null},e.prototype.onEventUserSiteDown=function(e,t,n){e.dwUserID==c.RunData.myUserInfo.dwUserID&&t<255&&n<255&&0<=t&&0<=n&&(i.Client.Instance.sendData(2000150,1),i.Client.Instance.sendData(2000180,1))},e.prototype.GameUserEnter=function(){this.GameMain.UpdateRoomPlayerCount()},e.prototype.GameUserLeave=function(){this.GameMain.UpdateRoomPlayerCount()},e.prototype.GameStation=function(e,t){var n,o=t.readByte();t.pos-=1,o==u.GAME_STATE.Bet?n=l.GameMsg34400.CMD_GM_Station_Note.ReadFrom(t):o==u.GAME_STATE.OpenPrize?n=l.GameMsg34400.CMD_GM_Station_Open.ReadFrom(t):o==u.GAME_STATE.End?n=l.GameMsg34400.CMD_GM_Station_Settlement.ReadFrom(t):o==u.GAME_STATE.WaitNext?(p.LogBase.error("\u7b49\u5f85\u4e0b\u4e00\u5c40"),n=l.GameMsg34400.CMD_GM_Station_Next.ReadFrom(t)):n=l.GameMsg34400.CMD_GM_Station_Base.ReadFrom(t),this.GameMain.GameSceneData(n)},e.prototype.GameStationUpdate=function(e,t){var n,o=t.readByte();t.pos-=1,n=o==u.GAME_STATE.Bet?l.GameMsg34400.CMD_GM_StateSwitch_Note.ReadFrom(t):o==u.GAME_STATE.OpenPrize?l.GameMsg34400.CMD_GM_StateSwitch_Open.ReadFrom(t):o==u.GAME_STATE.End?l.GameMsg34400.CMD_GM_StateSwitch_Settlement.ReadFrom(t):l.GameMsg34400.CMD_GM_StateSwitch.ReadFrom(t),this.GameMain.GameStateUpdate(n)},e.prototype.GameBet=function(e,t){var n=l.GameMsg34400.CMD_GM_CurNoteData.ReadFrom(t);this.GameMain.GameBet(n)},e.prototype.GameRepeatBet=function(e,t){var n=l.GameMsg34400.CMD_GM_ContinueLastNote.ReadFrom(t);this.GameMain.GameRepeatBet(n)},e.prototype.BankerListData=function(){},e.prototype.UpBanker=function(){},e.prototype.UnderBanker=function(){},e.prototype.BankerInfo=function(){},e.prototype.GameEnd=function(){},e.prototype.GameBetRequest=function(e,t,n){var o=new l.GameMsg34400.CMD_GM_CurNoteData;o.nDeskStation=e,o.AreaIndex=t,o.NoteKind=n,i.Client.Instance.sendData(this.msgMainId,l.GameMsg34400.GAME_MESSAGE_ID.GM_SUB_NOTE,l.GameMsg34400.CMD_GM_CurNoteData.WriteFrom(o))},e.prototype.GameRepeatBetRequest=function(){i.Client.Instance.sendData(this.msgMainId,l.GameMsg34400.GAME_MESSAGE_ID.GM_SUB_CONTINUE_NOTE)},e.prototype.GameUpBankerRequest=function(e,t){var n=new l.GameMsg34400.CMD_GM_UpNt;n.bAutoFill=e,n.UpBankerMoney=t,i.Client.Instance.sendData(r.roommsg.ROOM_MDM_ID.MDM_GM_GAME_NOTIFY,l.GameMsg34400.GAME_MESSAGE_ID.GM_SUB_UP_NT,l.GameMsg34400.CMD_GM_UpNt.WriteFrom(n))},e.prototype.GameUnderBankerRequest=function(){i.Client.Instance.sendData(this.msgMainId,l.GameMsg34400.GAME_MESSAGE_ID.GM_SUB_UNDER_NT)},e}();n.GameMsgHandler34400=h,cc._RF.pop()},{"../../halls/halllib/common/LogBase":"LogBase","../../halls/halllib/core/RunData":"RunData","../../halls/halllib/net/Client":"Client","../../halls/halllib/net/InnerEvent":"InnerEvent","../../halls/halllib/net/RoomMessage":"RoomMessage","../../halls/halllib/net/RoomMsgProxy":"RoomMsgProxy","./GameConstant34400":"GameConstant34400","./GameMsg34400":"GameMsg34400"}],GameMsgHandler34500:[function(e,t,n){"use strict";cc._RF.push(t,"b2529HLgVdA9JegxPHNRP6x","GameMsgHandler34500");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.GameMsgHandler34500=void 0;var i=e("../../halls/halllib/net/Client"),a=o(e("../../halls/halllib/net/RoomMsgProxy")),r=e("./GameMsg34500"),s=e("../../halls/halllib/net/RoomMessage"),l=e("../../halls/halllib/net/InnerEvent"),c=e("../../halls/halllib/core/RunData"),u=function(){function e(){this.msgMainId=2000180}return Object.defineProperty(e,"Instance",{get:function(){return null==this._instance&&(this._instance=new e),this._instance},enumerable:!1,configurable:!0}),e.prototype.Init=function(e){this.GameMain=e,a.default.sendQuickSitDown(),l.HallEvent.on(l.HallEvent.USER_ENTER,this,this.GameUserEnter),l.HallEvent.on(l.HallEvent.USER_LEFT,this,this.GameUserLeave),l.HallEvent.on(l.HallEvent.USER_SIT_DOWN,this,this.onEventUserSiteDown),i.Client.Instance.addMsgListener(this.msgMainId,r.GameMsg34500.GAME_MESSAGE_ID.SUB_S_GAME_SCENE,this,this.GameScene),i.Client.Instance.addMsgListener(this.msgMainId,r.GameMsg34500.GAME_MESSAGE_ID.SUB_GAME_S_SEND_GAME_RECORD_PERSONAL,this,this.SelfGameRecord),i.Client.Instance.addMsgListener(this.msgMainId,r.GameMsg34500.GAME_MESSAGE_ID.SUB_GAME_S_SEND_GAME_RECORD_OTHERS,this,this.OtherGameRecord),i.Client.Instance.addMsgListener(this.msgMainId,r.GameMsg34500.GAME_MESSAGE_ID.SUB_GAME_S_START_GAME_NORMAL,this,this.NormalGame),i.Client.Instance.addMsgListener(this.msgMainId,r.GameMsg34500.GAME_MESSAGE_ID.SUB_GAME_S_DIG_RSP,this,this.NormalModeDig),i.Client.Instance.addMsgListener(this.msgMainId,r.GameMsg34500.GAME_MESSAGE_ID.SUB_GAME_S_WITHDRAW_RSP,this,this.Withdraw),i.Client.Instance.addMsgListener(this.msgMainId,r.GameMsg34500.GAME_MESSAGE_ID.SUB_GAME_S_START_GAME_AUTO,this,this.AutoStart),i.Client.Instance.addMsgListener(this.msgMainId,r.GameMsg34500.GAME_MESSAGE_ID.SUB_GAME_S_AUTO_MODE_DIG_RESULT,this,this.AutoModeDig),i.Client.Instance.addMsgListener(this.msgMainId,r.GameMsg34500.GAME_MESSAGE_ID.SUB_GAME_S_AUTO_MODE_ONE_GAME_END,this,this.AutoModeOneEnd),i.Client.Instance.addMsgListener(this.msgMainId,r.GameMsg34500.GAME_MESSAGE_ID.SUB_GAME_S_NORMAL_MODE_GAME_END,this,this.NormalGameEnd),i.Client.Instance.addMsgListener(this.msgMainId,r.GameMsg34500.GAME_MESSAGE_ID.SUB_GAME_S_AUTO_MODE_GAME_END,this,this.AutoGameEnd),i.Client.Instance.addMsgListener(this.msgMainId,r.GameMsg34500.GAME_MESSAGE_ID.SUB_GAME_S_GAME_TIME_RUN_OUT,this,this.GameTimeout),i.Client.Instance.addMsgListener(this.msgMainId,r.GameMsg34500.GAME_MESSAGE_ID.SUB_GAME_S_Exit_GAME_AUTO,this,this.GameExitGameAuto),i.Client.Instance.addMsgListener(this.msgMainId,r.GameMsg34500.GAME_MESSAGE_ID.SUB_GAME_S_SYS_TIP,this,this.GameSystemTip)},e.prototype.Destroy=function(){var t;l.HallEvent.off(l.HallEvent.USER_ENTER,this,this.GameUserEnter),l.HallEvent.off(l.HallEvent.USER_LEFT,this,this.GameUserLeave),l.HallEvent.off(l.HallEvent.USER_SIT_DOWN,this,this.onEventUserSiteDown),null===(t=i.Client.Instance)||void 0===t||t.removeCallerListener(this),e._instance=null},e.prototype.onEventUserSiteDown=function(e,t,n){e.dwUserID==c.RunData.myUserInfo.dwUserID&&t<255&&n<255&&0<=t&&0<=n&&(i.Client.Instance.sendData(2000150,1),i.Client.Instance.sendData(2000180,1))},e.prototype.GameUserEnter=function(){},e.prototype.GameUserLeave=function(){},e.prototype.GameScene=function(e,t){var n=new r.GameMsg34500.CMD_S_GAME_SCENE;n.readFrom(t),this.GameMain.InitGameData(n)},e.prototype.SelfGameRecord=function(e,t){var n=new r.GameMsg34500.CMD_GAME_S_SEND_GAME_RECORD_PERSONAL;n.readFrom(t),this.GameMain.selfRecordResponse(n)},e.prototype.OtherGameRecord=function(e,t){var n=new r.GameMsg34500.CMD_GAME_S_SEND_GAME_RECORD_OTHERS;n.readFrom(t),this.GameMain.OtherRecordResponse(n)},e.prototype.NormalGame=function(e,t){var n=new r.GameMsg34500.CMD_GAME_S_START_GAME_NORMAL_RSP;n.readFrom(t),this.GameMain.NormalGameResponse(n)},e.prototype.NormalModeDig=function(e,t){var n=new r.GameMsg34500.CMD_GAME_S_DIG_RSP;n.readFrom(t),this.GameMain.NormalModeDigResponse(n)},e.prototype.Withdraw=function(e,t){var n=new r.GameMsg34500.CMD_GAME_S_WITHDRAW_RSP;n.readFrom(t),this.GameMain.WithdrawResponse(n)},e.prototype.AutoStart=function(e,t){var n=new r.GameMsg34500.CMD_GAME_S_START_GAME_AUTO_RSP;n.readFrom(t),this.GameMain.AutoStartResponse(n)},e.prototype.AutoModeDig=function(e,t){var n=new r.GameMsg34500.CMD_GAME_S_AUTO_MODE_DIG_RESULT;n.readFrom(t),this.GameMain.AutoModeDigResponse(n)},e.prototype.AutoModeOneEnd=function(e,t){var n=new r.GameMsg34500.CMD_GAME_S_AUTO_MODE_ONE_GAME_END;n.readFrom(t),this.GameMain.AutoModeOneEndResponse(n)},e.prototype.NormalGameEnd=function(e,t){var n=new r.GameMsg34500.CMD_GAME_S_NORMAL_MODE_GAME_END;n.readFrom(t),this.GameMain.NormalGameEndResponse(n)},e.prototype.AutoGameEnd=function(e,t){var n=new r.GameMsg34500.CMD_GAME_S_AUTO_MODE_GAME_END;n.readFrom(t),this.GameMain.AutoGameEndResponse(n)},e.prototype.GameTimeout=function(){this.GameMain.GameTimeoutResponse()},e.prototype.GameExitGameAuto=function(){this.GameMain.GameExitGameAuto()},e.prototype.GameSystemTip=function(e,t){var n=new r.GameMsg34500.CMD_GAME_S_SYS_TIP;n.readFrom(t),this.GameMain.GameSyStemTip(n)},e.prototype.SlefRecordRequest=function(){i.Client.Instance.sendData(s.roommsg.ROOM_MDM_ID.MDM_GM_GAME_NOTIFY,r.GameMsg34500.GAME_MESSAGE_ID.SUB_GAME_C_GAME_RECORD_PERSONAL_REQ)},e.prototype.OtherRecordRequest=function(){i.Client.Instance.sendData(s.roommsg.ROOM_MDM_ID.MDM_GM_GAME_NOTIFY,r.GameMsg34500.GAME_MESSAGE_ID.SUB_GAME_C_GAME_RECORD_OTHERS_REQ)},e.prototype.NormalGameRequest=function(e,t){var n=new r.GameMsg34500.CMD_GAME_S_START_GAME_NORMAL_RSP;n.m_dBetScore=e,n.m_byMines=t,i.Client.Instance.sendData(s.roommsg.ROOM_MDM_ID.MDM_GM_GAME_NOTIFY,r.GameMsg34500.GAME_MESSAGE_ID.SUB_GAME_C_START_GAME_NORMAL,n.writeTo())},e.prototype.DigRequest=function(e){var t=new r.GameMsg34500.CMD_GAME_C_DIG;t.m_bySlotIndex=e,i.Client.Instance.sendData(s.roommsg.ROOM_MDM_ID.MDM_GM_GAME_NOTIFY,r.GameMsg34500.GAME_MESSAGE_ID.SUB_GAME_C_DIG,t.writeTo())},e.prototype.AutoDigRequset=function(){i.Client.Instance.sendData(s.roommsg.ROOM_MDM_ID.MDM_GM_GAME_NOTIFY,r.GameMsg34500.GAME_MESSAGE_ID.SUB_GAME_C_DIG_AUTO_CHOOSE)},e.prototype.WithdrwaRequest=function(){i.Client.Instance.sendData(s.roommsg.ROOM_MDM_ID.MDM_GM_GAME_NOTIFY,r.GameMsg34500.GAME_MESSAGE_ID.SUB_GAME_C_WITHDRAW)},e.prototype.AutoGameRequest=function(e,t,n,o,a){var l=new r.GameMsg34500.CMD_GAME_C_START_GAME_AUTO;l.m_dBetScore=e,l.m_byMines=t,l.m_byDigTimes=n,l.m_wWinGamesToStop=o,l.m_wLossGamesToStop=a,i.Client.Instance.sendData(s.roommsg.ROOM_MDM_ID.MDM_GM_GAME_NOTIFY,r.GameMsg34500.GAME_MESSAGE_ID.SUB_GAME_C_START_GAME_AUTO,l.writeTo())},e.prototype.AutoGameExitRequest=function(){i.Client.Instance.sendData(s.roommsg.ROOM_MDM_ID.MDM_GM_GAME_NOTIFY,r.GameMsg34500.GAME_MESSAGE_ID.SUB_GAME_C_Exit_GAME_AUTO)},e}();n.GameMsgHandler34500=u,cc._RF.pop()},{"../../halls/halllib/core/RunData":"RunData","../../halls/halllib/net/Client":"Client","../../halls/halllib/net/InnerEvent":"InnerEvent","../../halls/halllib/net/RoomMessage":"RoomMessage","../../halls/halllib/net/RoomMsgProxy":"RoomMsgProxy","./GameMsg34500":"GameMsg34500"}],GameMsgHandler34600:[function(e,t,n){"use strict";cc._RF.push(t,"1ac57yb8/tEeID93BL2D4Ie","GameMsgHandler34600");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.GameMsgHandler34600=void 0;var i=e("../../halls/halllib/net/Client"),a=o(e("../../halls/halllib/net/RoomMsgProxy")),r=e("./GameMsg34600"),s=e("../../halls/halllib/net/InnerEvent"),l=e("../../halls/halllib/net/RoomMessage"),c=e("../../halls/halllib/core/RunData"),u=o(e("../../halls/hall/Tips")),p=function(){function e(){this.msgMainId=2000180}return Object.defineProperty(e,"Instance",{get:function(){return null==this._instance&&(this._instance=new e),this._instance},enumerable:!1,configurable:!0}),e.prototype.Init=function(e){this.GameMain=e,a.default.sendQuickSitDown(),s.HallEvent.on(s.HallEvent.USER_ENTER,this,this.GameUserEnter),s.HallEvent.on(s.HallEvent.USER_LEFT,this,this.GameUserLeave),s.HallEvent.on(s.HallEvent.USER_SIT_DOWN,this,this.onEventUserSiteDown),i.Client.Instance.addMsgListener(this.msgMainId,r.GameMsg34600.GAME_MESSAGE_ID.SUB_S_GAME_SCENE,this,this.SceneData),i.Client.Instance.addMsgListener(this.msgMainId,r.GameMsg34600.GAME_MESSAGE_ID.SUB_S_GAME_START_BET,this,this.StartBet),i.Client.Instance.addMsgListener(this.msgMainId,r.GameMsg34600.GAME_MESSAGE_ID.SUB_S_GAME_BET,this,this.BetSuccess),i.Client.Instance.addMsgListener(this.msgMainId,r.GameMsg34600.GAME_MESSAGE_ID.SUB_S_GAME_BET_FAIL,this,this.GameBetFail),i.Client.Instance.addMsgListener(this.msgMainId,r.GameMsg34600.GAME_MESSAGE_ID.SUB_S_GAME_PLAYER_MANUAL_QUIT,this,this.QuitSuccess),i.Client.Instance.addMsgListener(this.msgMainId,r.GameMsg34600.GAME_MESSAGE_ID.SUB_S_GAME_PLAYER_MANUAL_QUIT_FAIL,this,this.QuitFail),i.Client.Instance.addMsgListener(this.msgMainId,r.GameMsg34600.GAME_MESSAGE_ID.SUB_S_GAME_RECORD,this,this.Record),i.Client.Instance.addMsgListener(this.msgMainId,r.GameMsg34600.GAME_MESSAGE_ID.SUB_S_GAME_BROADCAST_RANK_PLAYER_INFO,this,this.RankPlayer),i.Client.Instance.addMsgListener(this.msgMainId,r.GameMsg34600.GAME_MESSAGE_ID.SUB_S_GAME_FLY,this,this.Fly),i.Client.Instance.addMsgListener(this.msgMainId,r.GameMsg34600.GAME_MESSAGE_ID.SUB_S_GAME_NOTIFY_CUT_SCENE,this,this.CutScene),i.Client.Instance.addMsgListener(this.msgMainId,r.GameMsg34600.GAME_MESSAGE_ID.SUB_S_GAME_BROADCAST_QUIT_PLAYER,this,this.PlayerQuit),i.Client.Instance.addMsgListener(this.msgMainId,r.GameMsg34600.GAME_MESSAGE_ID.SUB_S_GAME_SET_AUTO_MODE,this,this.AutoModeSetSuccess),i.Client.Instance.addMsgListener(this.msgMainId,r.GameMsg34600.GAME_MESSAGE_ID.SUB_S_GAME_SET_AUTO_MODE_FAIL,this,this.AutoModeSetFail),i.Client.Instance.addMsgListener(this.msgMainId,r.GameMsg34600.GAME_MESSAGE_ID.SUB_S_GAME_PLAYER_CANCEL_AUTO_MODE,this,this.CancelAutoModeSuccess),i.Client.Instance.addMsgListener(this.msgMainId,r.GameMsg34600.GAME_MESSAGE_ID.SUB_S_GAME_PLAYER_CANCEL_AUTO_MODE_FAIL,this,this.CancelAutoModeFail),i.Client.Instance.addMsgListener(this.msgMainId,r.GameMsg34600.GAME_MESSAGE_ID.SUB_S_GAME_RANK_LIST,this,this.RankList),i.Client.Instance.addMsgListener(this.msgMainId,r.GameMsg34600.GAME_MESSAGE_ID.SUB_S_GAME_CRASH,this,this.Crash),i.Client.Instance.addMsgListener(this.msgMainId,r.GameMsg34600.GAME_MESSAGE_ID.SUB_S_GAME_REMOVE_PLAYER_FROM_RANK,this,this.RemoveRankPlayer),i.Client.Instance.addMsgListener(2000103,l.roommsg.SUB_GR_ROOM_INFO.SUB_GR_GAME_FINISH,this,this.GameOver)},e.prototype.Destroy=function(){var t;null===(t=i.Client.Instance)||void 0===t||t.removeCallerListener(this),s.HallEvent.off(s.HallEvent.USER_ENTER,this,this.GameUserEnter),s.HallEvent.off(s.HallEvent.USER_LEFT,this,this.GameUserLeave),s.HallEvent.off(s.HallEvent.USER_SIT_DOWN,this,this.onEventUserSiteDown),e._instance=null},e.prototype.onEventUserSiteDown=function(e,t,n){e.dwUserID==c.RunData.myUserInfo.dwUserID&&t<255&&n<255&&0<=t&&0<=n&&(i.Client.Instance.sendData(2000150,1),i.Client.Instance.sendData(2000180,1),this.GameMain.PLayerSit(e))},e.prototype.GameUserEnter=function(e){e.dwUserID,c.RunData.myUserInfo.dwUserID},e.prototype.GameUserLeave=function(){},e.prototype.SceneData=function(e,t){var n=new r.GameMsg34600.CMD_S_GAME_SCENE;n.readFrom(t),this.GameMain.GameState(n)},e.prototype.StartBet=function(e,t){var n=new r.GameMsg34600.CMD_S_GAME_START_BET;n.readFrom(t),this.GameMain.StartBet(n)},e.prototype.BetSuccess=function(e,t){var n=new r.GameMsg34600.CMD_S_GAME_BET;n.readFrom(t),this.GameMain.BetSuccess(n)},e.prototype.GameBetFail=function(e,t){var n=new r.GameMsg34600.CMD_S_GAME_BET_FAIL;n.readFrom(t),u.default.SetText(n.m_szFailReason)},e.prototype.QuitSuccess=function(e,t){var n=new r.GameMsg34600.CMD_S_GAME_PLAYER_QUIT;n.readFrom(t),this.GameMain.QuitSuccess(n)},e.prototype.QuitFail=function(e,t){var n=new r.GameMsg34600.CMD_S_GAME_PLAYER_QUIT_FAIL;n.readFrom(t),u.default.SetText(n.m_szFailReason)},e.prototype.Record=function(e,t){var n=new r.GameMsg34600.CMD_S_GAME_RECORD;n.readFrom(t),this.GameMain.GameRecord(n)},e.prototype.RankPlayer=function(e,t){var n=new r.GameMsg34600.CMD_S_GAME_BROADCAST_RANK_PLAYER_INFO;n.readFrom(t),this.GameMain.RankPlayer(n)},e.prototype.Fly=function(){this.GameMain.Fly()},e.prototype.CutScene=function(e,t){var n=new r.GameMsg34600.CMD_S_GAME_NOTIFY_CUT_SCENE;n.readFrom(t),this.GameMain.GameEnd(n)},e.prototype.PlayerQuit=function(e,t){var n=new r.GameMsg34600.CMD_S_GAME_BROADCAST_QUIT_PLAYER;n.readFrom(t),this.GameMain.PlayerQuit(n)},e.prototype.AutoModeSetSuccess=function(e,t){var n=new r.GameMsg34600.CMD_S_GAME_SET_AUTO_MODE;n.readFrom(t),this.GameMain.AutoModeSetSuccess(n)},e.prototype.AutoModeSetFail=function(e,t){var n=new r.GameMsg34600.CMD_S_GAME_SET_AUTO_MODE_FAIL;n.readFrom(t),u.default.SetText(n.m_szFailReason)},e.prototype.CancelAutoModeSuccess=function(){this.GameMain.CancelAutoModeSuccess()},e.prototype.CancelAutoModeFail=function(e,t){var n=new r.GameMsg34600.CMD_S_GAME_PLAYER_CANCEL_AUTO_MODE_FAIL;n.readFrom(t),u.default.SetText(n.m_szFailReason)},e.prototype.RankList=function(e,t){var n=new r.GameMsg34600.CMD_S_GAME_RANK_LIST;n.readFrom(t);for(var o=0;o<n.m_arrRankPlayerInfo.length;o++)n.m_arrRankPlayerInfo[o].m_dQuitMultiple=n.m_arrRankPlayerInfo[o].m_dQuitMultiple/100,n.m_arrRankPlayerInfo[o].m_dFliedTimeWhenQuit=n.m_arrRankPlayerInfo[o].m_dFliedTimeWhenQuit/100;this.GameMain.GameRankList(n)},e.prototype.Crash=function(e,t){var n=new r.GameMsg34600.CMD_S_GAME_CRASH;n.readFrom(t),this.GameMain.Crash(n)},e.prototype.RemoveRankPlayer=function(e,t){var n=new r.GameMsg34600.CMD_S_GAME_REMOVE_PLAYER_FROM_RANK;n.readFrom(t),this.GameMain.RemoveRankPlayer(n)},e.prototype.SendBet=function(e,t){var n=new r.GameMsg34600.CMD_C_GAME_BET;n.m_wChairID=e,n.m_dBetScore=t,i.Client.Instance.sendData(this.msgMainId,r.GameMsg34600.GAME_MESSAGE_ID.SUB_C_GAME_BET,n.writeTo())},e.prototype.SendQuit=function(e,t){var n=new r.GameMsg34600.CMD_C_GAME_PLAYER_MANUAL_QUIT;n.m_wChairID=e,n.m_dQuitMultiple=t,i.Client.Instance.sendData(this.msgMainId,r.GameMsg34600.GAME_MESSAGE_ID.SUB_C_GAME_PLAYER_MANUAL_QUIT,n.writeTo())},e.prototype.SendOpenAutoGame=function(e,t,n){var o=new r.GameMsg34600.CMD_C_GAME_SET_AUTO_MODE;o.m_dBetScore=e,o.m_dQuitMultiple=t,o.m_iGameRounds=n,i.Client.Instance.sendData(this.msgMainId,r.GameMsg34600.GAME_MESSAGE_ID.SUB_C_GAME_SET_AUTO_MODE,o.writeTo())},e.prototype.SendCloseAutoGame=function(e){var t=new r.GameMsg34600.CMD_C_GAME_PLAYER_CANCEL_AUTO_MODE;t.m_wChairID=e,i.Client.Instance.sendData(this.msgMainId,r.GameMsg34600.GAME_MESSAGE_ID.SUB_C_GAME_PLAYER_CANCEL_AUTO_MODE,t.writeTo())},e.prototype.GameOver=function(){i.Client.Instance.sendData(l.roommsg.ROOM_MDM_ID.MDM_GM_GAME_NOTIFY,l.roommsg.SUB_GM_GAME_NOTIFY.SUB_GM_AGREE_INGAME)},e}();n.GameMsgHandler34600=p,cc._RF.pop()},{"../../halls/hall/Tips":"Tips","../../halls/halllib/core/RunData":"RunData","../../halls/halllib/net/Client":"Client","../../halls/halllib/net/InnerEvent":"InnerEvent","../../halls/halllib/net/RoomMessage":"RoomMessage","../../halls/halllib/net/RoomMsgProxy":"RoomMsgProxy","./GameMsg34600":"GameMsg34600"}],GameMsgHandler34900:[function(e,t,n){"use strict";cc._RF.push(t,"ce6c2c2vuhFObjOYZjd5lnS","GameMsgHandler34900");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.GameMsgHandler34900=void 0;var i=e("../../halls/halllib/net/Client"),a=o(e("../../halls/halllib/net/RoomMsgProxy")),r=e("../../halls/halllib/net/RoomMessage"),s=e("../../halls/halllib/net/InnerEvent"),l=e("./GameMsg34900"),c=e("../../halls/halllib/core/RunData"),u=function(){function e(){this.msgMainId=2000180}return Object.defineProperty(e,"Instance",{get:function(){return null==this._instance&&(this._instance=new e),this._instance},enumerable:!1,configurable:!0}),e.prototype.Init=function(e){this.GameMain=e,a.default.sendQuickSitDown(),s.HallEvent.on(s.HallEvent.USER_ENTER,this,this.GameUserEnter),s.HallEvent.on(s.HallEvent.USER_LEFT,this,this.GameUserLeave),s.HallEvent.on(s.HallEvent.USER_SIT_DOWN,this,this.onEventUserSiteDown),i.Client.Instance.addMsgListener(this.msgMainId,l.GameMsg34900.GAME_MESSAGE_ID.SUB_S_GAME_STATUS,this,this.GameScene),i.Client.Instance.addMsgListener(this.msgMainId,l.GameMsg34900.GAME_MESSAGE_ID.SUB_S_GAME_FREE,this,this.GameFree),i.Client.Instance.addMsgListener(this.msgMainId,l.GameMsg34900.GAME_MESSAGE_ID.SUB_S_GAME_START,this,this.GameStart),i.Client.Instance.addMsgListener(this.msgMainId,l.GameMsg34900.GAME_MESSAGE_ID.SUB_S_PLACE_JETTON,this,this.PlayerJettonSuccess),i.Client.Instance.addMsgListener(this.msgMainId,l.GameMsg34900.GAME_MESSAGE_ID.SUB_S_PLACE_JETTON_FAIL,this,this.PlayerJettonFail),i.Client.Instance.addMsgListener(this.msgMainId,l.GameMsg34900.GAME_MESSAGE_ID.SUB_S_CONTINU_JETTON,this,this.PlayerJettonSuccess),i.Client.Instance.addMsgListener(this.msgMainId,l.GameMsg34900.GAME_MESSAGE_ID.SUB_S_CONTINUE_JETTON_FAIL,this,this.PlayerJettonFail),i.Client.Instance.addMsgListener(this.msgMainId,l.GameMsg34900.GAME_MESSAGE_ID.SUB_S_GAME_END,this,this.GameEnd),i.Client.Instance.addMsgListener(this.msgMainId,l.GameMsg34900.GAME_MESSAGE_ID.SUB_S_SEND_SIMPLE_CHART,this,this.SimpleChart),i.Client.Instance.addMsgListener(this.msgMainId,l.GameMsg34900.GAME_MESSAGE_ID.SUB_S_UPDATE_OCCUPYSEAT,this,this.UpdateOccuPlayer),i.Client.Instance.addMsgListener(2000103,r.roommsg.SUB_GR_ROOM_INFO.SUB_GR_GAME_FINISH,this,this.GameOver)},e.prototype.Destroy=function(){var t;null===(t=i.Client.Instance)||void 0===t||t.removeCallerListener(this),s.HallEvent.off(s.HallEvent.USER_ENTER,this,this.GameUserEnter),s.HallEvent.off(s.HallEvent.USER_LEFT,this,this.GameUserLeave),s.HallEvent.off(s.HallEvent.USER_SIT_DOWN,this,this.onEventUserSiteDown),e._instance=null},e.prototype.onEventUserSiteDown=function(e,t,n){e.dwUserID==c.RunData.myUserInfo.dwUserID&&t<255&&n<255&&0<=t&&0<=n&&(i.Client.Instance.sendData(2000150,1),i.Client.Instance.sendData(2000180,1)),this.GameMain.RefreshPlayerSit(e)},e.prototype.GameUserEnter=function(e){this.GameMain.GameUserEnter(e)},e.prototype.GameUserLeave=function(e){this.GameMain.GameUserLeave(e)},e.prototype.GameScene=function(e,t){var n=new l.GameMsg34900.CMD_S_GAME_SCENE;n.readFrom(t),this.GameMain.GameSceneData(n)},e.prototype.GameFree=function(){this.GameMain.GameIdle()},e.prototype.GameStart=function(){this.GameMain.GameStartBet()},e.prototype.PlayerJettonSuccess=function(e,t){var n=new l.GameMsg34900.CMD_S_PlaceJetton;n.readFrom(t),this.GameMain.BetResponse(n)},e.prototype.PlayerJettonFail=function(e,t){var n=new l.GameMsg34900.CMD_S_PlaceJettonFail;n.readFrom(t),this.GameMain.BetFailResponse(n)},e.prototype.GameEnd=function(e,t){var n=new l.GameMsg34900.CMD_S_GameEnd;n.readFrom(t),this.GameMain.GameEnd(n)},e.prototype.SimpleChart=function(e,t){var n=new l.GameMsg34900.CMD_S_SimpleChart;n.readFrom(t),this.GameMain.RefreshRoad(n)},e.prototype.UpdateOccuPlayer=function(e,t){var n=new l.GameMsg34900.CMD_S_UpdateOccupySeat;n.readFrom(t),this.GameMain.RefreshChairInfo(n)},e.prototype.GameOver=function(){i.Client.Instance.sendData(r.roommsg.ROOM_MDM_ID.MDM_GM_GAME_NOTIFY,r.roommsg.SUB_GM_GAME_NOTIFY.SUB_GM_AGREE_INGAME)},e.prototype.PlayerJeetonRequest=function(e,t){var n=new l.GameMsg34900.CMD_C_PlaceJetton;n.cbJettonArea=e,n.lJettonScore=t,i.Client.Instance.sendData(r.roommsg.ROOM_MDM_ID.MDM_GM_GAME_NOTIFY,l.GameMsg34900.GAME_MESSAGE_ID.SUB_C_PLACE_JETTON,n.writeTo())},e}();n.GameMsgHandler34900=u,cc._RF.pop()},{"../../halls/halllib/core/RunData":"RunData","../../halls/halllib/net/Client":"Client","../../halls/halllib/net/InnerEvent":"InnerEvent","../../halls/halllib/net/RoomMessage":"RoomMessage","../../halls/halllib/net/RoomMsgProxy":"RoomMsgProxy","./GameMsg34900":"GameMsg34900"}],GameMsgProxy10100:[function(e,t,n){"use strict";cc._RF.push(t,"ff339W1kiJJppfeeT8m+6py","GameMsgProxy10100");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.GameMsgProxy10100=void 0;var a=e("../../halls/halllib/laya/Laya"),r=a.Laya.regClass,s=(a.Laya.property,i(e("../../halls/hall/BaseRoom"))),l=e("./GameNetProto10100"),c=i(e("../../halls/halllib/net/RoomMsgProxy")),u=e("../../halls/halllib/net/InnerEvent"),p=e("../../halls/halllib/core/RunData"),h=e("../../halls/halllib/net/Client"),d=e("./GameData10100"),f=e("./GameMain10100"),g=i(e("../../halls/hall/Tips")),m=e("../../halls/halllib/net/GameHallMessage"),y=m.GameHallMessage.MDM_ID,_=m.GameHallMessage.SUB_GH_USERREFRESH,v=function(){function e(){this.bDeskStation=0,this.isStation=!1}var t;return t=e,Object.defineProperty(e,"Instance",{get:function(){return null==this._inc&&(this._inc=new t),this._inc},enumerable:!1,configurable:!0}),e.prototype.Init=function(){this.isStation=!1;var e=s.default.myUserRoomInfo.pUserInfoStruct;d.GameData10100.MySeatNo=e.bDeskStation,d.GameData10100.MyDeskNO=e.bDeskNO,e.bDeskNO>=255||e.bDeskStation>=255||e.bDeskNO<0||e.bDeskStation<0?c.default.sendQuickSitDown():f.GameMain10100.Instance.FlashAllPlayer(),u.HallEvent.on(u.HallEvent.getEventString(y.MDM_GH_USERREFRESH,_.SUB_GH_USERREFRESH),this,this.onUserFresh),u.HallEvent.on(u.HallEvent.USER_SIT_DOWN,this,this.onEventUserSiteDown),u.HallEvent.on(u.HallEvent.USER_STAND_UP,this,this.onEventUserStandUp),u.HallEvent.on(u.HallEvent.USER_UPDATE,this,this.onUserUpdate),u.HallEvent.on("2000103_3",this,this.onUserAgree),h.Client.Instance.addMsgListener(t.mainNetId,l.GameNetProto10100.NOTIFY.SUB_S_GAME_GameScene,this,this.onGameScene),h.Client.Instance.addMsgListener(t.mainNetId,l.GameNetProto10100.NOTIFY.SUB_S_GAME_START,this,this.onGameStarts),h.Client.Instance.addMsgListener(t.mainNetId,l.GameNetProto10100.NOTIFY.SUB_S_GAME_NOTIFY_PLAYER_OPERATE,this,this.onPLAYER_OPERATE),h.Client.Instance.addMsgListener(t.mainNetId,l.GameNetProto10100.NOTIFY.SUB_S_GET_ONE_CARD_FROM_HEAP_SUCCESS,this,this.onHEAP_CARD_SUCCESS),h.Client.Instance.addMsgListener(t.mainNetId,l.GameNetProto10100.NOTIFY.SUB_S_GET_ONE_CARD_FROM_HEAP_FAILURE,this,this.OnServerErro),h.Client.Instance.addMsgListener(t.mainNetId,l.GameNetProto10100.NOTIFY.SUB_S_DUMP_ONE_CARD_SUCCESS,this,this.onDUMP_CARD_SUCCESS),h.Client.Instance.addMsgListener(t.mainNetId,l.GameNetProto10100.NOTIFY.SUB_S_DUMP_ONE_CARD_FAILURE,this,this.OnServerErro),h.Client.Instance.addMsgListener(t.mainNetId,l.GameNetProto10100.NOTIFY.SUB_S_GROUP_CARD_WITH_OWN_CARD_SUCCESS,this,this.onWITH_OWN_CARD_SUCCESS),h.Client.Instance.addMsgListener(t.mainNetId,l.GameNetProto10100.NOTIFY.SUB_S_GROUP_CARD_WITH_OWN_CARD_FAILURE,this,this.OnServerErro),h.Client.Instance.addMsgListener(t.mainNetId,l.GameNetProto10100.NOTIFY.SUB_S_GROUP_CARD_WITH_OUT_CARD_SUCCESS,this,this.onWITH_OUT_CARD_SUCCESS),h.Client.Instance.addMsgListener(t.mainNetId,l.GameNetProto10100.NOTIFY.SUB_S_GROUP_CARD_WITH_OUT_CARD_FAILURE,this,this.OnServerErro),h.Client.Instance.addMsgListener(t.mainNetId,l.GameNetProto10100.NOTIFY.SUB_S_PUT_CARD_SUCCESS,this,this.onPUT_CARD_SUCCESS),h.Client.Instance.addMsgListener(t.mainNetId,l.GameNetProto10100.NOTIFY.SUB_S_PUT_CARD_FAILURE,this,this.OnServerErro),h.Client.Instance.addMsgListener(t.mainNetId,l.GameNetProto10100.NOTIFY.SUB_S_DROP_CARD_SUCCESS,this,this.onDROP_CARD_SUCCESS),h.Client.Instance.addMsgListener(t.mainNetId,l.GameNetProto10100.NOTIFY.SUB_S_C_CAN_DROP_ACTION,this,this.OnServerErro),h.Client.Instance.addMsgListener(t.mainNetId,l.GameNetProto10100.NOTIFY.SUB_S_FIGHT_SUCCESS,this,this.onFIGHT_SUCCESS),h.Client.Instance.addMsgListener(t.mainNetId,l.GameNetProto10100.NOTIFY.SUB_S_FIGHT_FAILURE,this,this.OnServerErro),h.Client.Instance.addMsgListener(t.mainNetId,l.GameNetProto10100.NOTIFY.SUB_S_FOLD_SUCCESS,this,this.onFOLD_SUCCESS),h.Client.Instance.addMsgListener(t.mainNetId,l.GameNetProto10100.NOTIFY.SUB_S_FOLD_FAILURE,this,this.OnServerErro),h.Client.Instance.addMsgListener(t.mainNetId,l.GameNetProto10100.NOTIFY.SUB_S_CHALLENGE_SUCCESS,this,this.onCHALLENGE_SUCCESS),h.Client.Instance.addMsgListener(t.mainNetId,l.GameNetProto10100.NOTIFY.SUB_S_CHALLENGE_FAILURE,this,this.OnServerErro),h.Client.Instance.addMsgListener(t.mainNetId,l.GameNetProto10100.NOTIFY.SUB_S_GAME_END,this,this.onGameEnd),h.Client.Instance.addMsgListener(t.mainNetId,l.GameNetProto10100.NOTIFY.SUB_S_NOTIFY_TRUSTEE_STATUS,this,this.onPlayerTrustee),h.Client.Instance.addMsgListener(t.mainNetId,l.GameNetProto10100.NOTIFY.GM_SUB_START_COUNTER,this,this.onStartCounter)},e.prototype.Destroy=function(){var e;null===(e=h.Client.Instance)||void 0===e||e.removeCallerListener(this),u.HallEvent.off(u.HallEvent.getEventString(y.MDM_GH_USERREFRESH,_.SUB_GH_USERREFRESH),this,this.onUserFresh),u.HallEvent.off(u.HallEvent.USER_SIT_DOWN,this,this.onEventUserSiteDown),u.HallEvent.off(u.HallEvent.USER_STAND_UP,this,this.onEventUserStandUp),u.HallEvent.off(u.HallEvent.USER_UPDATE,this,this.onUserUpdate),t._inc=null},e.prototype.onEventUserSiteDown=function(e){f.GameMain10100.Instance.InsertPlayer(e)},e.prototype.onEventUserStandUp=function(e){f.GameMain10100.Instance.RemovePlayer(e)},e.prototype.onUserUpdate=function(e){f.GameMain10100.Instance.UpDateUserInfo(e)},e.prototype.onUserFresh=function(e){e.dwUserID==p.RunData.myUserInfo.dwUserID&&(d.GameData10100.MyMoney=e.iWalletGb.toNumber())},e.prototype.onUserAgree=function(e){f.GameMain10100.Instance.OnUserAgree(e)},e.prototype.onGameScene=function(e,t){var n;this.isStation=!0;var o=l.GameNetProto10100.CMD_GAME_SCENE.ReadFrom(t);null===(n=this.GameStationHandler)||void 0===n||n.runWith([o])},e.prototype.onGameStarts=function(e,t){var n,o=l.GameNetProto10100.CMD_S_GameStart.ReadFrom(t);null===(n=this.GameStartHandler)||void 0===n||n.runWith([o])},e.prototype.OnServerErro=function(e,t){var n,o=l.GameNetProto10100.CMD_GAME_S_DUMP_ONE_CARD_FAILURE.ReadFrom(t);g.default.SetWarnText(o.szFailReason),null===(n=this.GameServerErro)||void 0===n||n.runWith([o])},e.prototype.onPLAYER_OPERATE=function(e,t){var n,o=l.GameNetProto10100.CMD_GAME_S_NOTIFY_PLAYER_OPERATE.ReadFrom(t);null===(n=this.GamePlayerOperate)||void 0===n||n.runWith([o])},e.prototype.onHEAP_CARD_SUCCESS=function(e,t){var n,o=l.GameNetProto10100.CMD_GAME_S_GET_ONE_CARD_FROM_HEAP_CARD_SUCCESS.ReadFrom(t);null===(n=this.GameHeapCardSuccess)||void 0===n||n.runWith([o])},e.prototype.onDUMP_CARD_SUCCESS=function(e,t){var n,o=l.GameNetProto10100.CMD_GAME_S_DUMP_ONE_CARD_SUCCESS.ReadFrom(t);null===(n=this.GameDumpCardSuccess)||void 0===n||n.runWith([o])},e.prototype.onWITH_OWN_CARD_SUCCESS=function(){},e.prototype.onWITH_OUT_CARD_SUCCESS=function(e,t){var n,o=l.GameNetProto10100.CMD_GAME_S_GROUP_CARD_WITH_OUT_CARD_SUCCESS.ReadFrom(t);null===(n=this.GameWithOutCardSuccess)||void 0===n||n.runWith([o])},e.prototype.onPUT_CARD_SUCCESS=function(e,t){var n,o=l.GameNetProto10100.CMD_GAME_S_PUT_CARD_2_GROUP_CARD_SUCCESS.ReadFrom(t);null===(n=this.GamePutCardSuccess)||void 0===n||n.runWith([o])},e.prototype.onDROP_CARD_SUCCESS=function(e,t){var n,o=l.GameNetProto10100.CMD_GAME_S_DROP_CARD_SUCCESS.ReadFrom(t);null===(n=this.GameDropCardSuccess)||void 0===n||n.runWith([o])},e.prototype.onFIGHT_SUCCESS=function(e,t){var n;console.log("====>>>\u6210\u529f\u53eb\u5f00\u724c data:",t);var o=l.GameNetProto10100.CMD_GAME_S_FIGHT_SUCCESS.ReadFrom(t);null===(n=this.GameFightSuccess)||void 0===n||n.runWith([o])},e.prototype.onFOLD_SUCCESS=function(e,t){var n,o=l.GameNetProto10100.CMD_GAME_S_FOLD_SUCCESS.ReadFrom(t);null===(n=this.GameFoldSuccess)||void 0===n||n.runWith([o])},e.prototype.onCHALLENGE_SUCCESS=function(e,t){var n,o=l.GameNetProto10100.CMD_GAME_S_CHALLENGE_SUCCESS.ReadFrom(t);null===(n=this.GameChallengeSuccess)||void 0===n||n.runWith([o])},e.prototype.onGameEnd=function(e,t){var n,o=l.GameNetProto10100.CMD_S_GameEnd.ReadFrom(t);null===(n=this.GameEndHandler)||void 0===n||n.runWith([o])},e.prototype.onPlayerTrustee=function(e,t){var n,o=l.GameNetProto10100.CMD_GAME_S_NOTIFY_PLAY_TRUSTEE.ReadFrom(t);null===(n=this.GamePlayerTrustee)||void 0===n||n.runWith([o])},e.prototype.onStartCounter=function(e,t){var n,o=l.GameNetProto10100.CMD_GM_StartCounter.ReadFrom(t);null===(n=this.GameStartCounter)||void 0===n||n.runWith([o])},e.mainNetId=2000180,t=o([r()],e)}();n.GameMsgProxy10100=v,cc._RF.pop()},{"../../halls/hall/BaseRoom":"BaseRoom","../../halls/hall/Tips":"Tips","../../halls/halllib/core/RunData":"RunData","../../halls/halllib/laya/Laya":"Laya","../../halls/halllib/net/Client":"Client","../../halls/halllib/net/GameHallMessage":"GameHallMessage","../../halls/halllib/net/InnerEvent":"InnerEvent","../../halls/halllib/net/RoomMsgProxy":"RoomMsgProxy","./GameData10100":"GameData10100","./GameMain10100":"GameMain10100","./GameNetProto10100":"GameNetProto10100"}],GameMsgProxy30200:[function(e,t,n){"use strict";cc._RF.push(t,"289a3DKXS1I/Z+0vX1qm90w","GameMsgProxy30200");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.GameMsgProxy30200=void 0;var i=e("../../halls/halllib/net/Client"),a=e("./GameNetProto30200"),r=e("../../halls/halllib/net/GameHallMessage"),s=e("../../halls/halllib/net/InnerEvent"),l=o(e("../../halls/halllib/net/RoomMsgProxy")),c=o(e("../../halls/hall/BaseRoom")),u=e("../../halls/halllib/core/RunData"),p=e("../../halls/halllib/common/LogBase"),h=function(){function e(){this.bDeskStation=0,this.isStation=!1}return Object.defineProperty(e,"Instance",{get:function(){return null==this._inc&&(this._inc=new e),this._inc},enumerable:!1,configurable:!0}),e.prototype.Init=function(){this.isStation=!1;var t=c.default.myUserRoomInfo.pUserInfoStruct;(t.bDeskNO>=255||t.bDeskStation>=255||t.bDeskNO<0||t.bDeskStation<0)&&l.default.sendQuickSitDown(),this.bDeskStation=t.bDeskStation,s.HallEvent.on(s.HallEvent.getEventString(r.GameHallMessage.MDM_ID.MDM_GH_USERREFRESH,r.GameHallMessage.SUB_GH_USERREFRESH.SUB_GH_USERREFRESH),this,this.onUserFresh),s.HallEvent.on(s.HallEvent.USER_SIT_DOWN,this,this.onEventUserSiteDown),s.HallEvent.on(s.HallEvent.USER_STAND_UP,this,this.onEventUserStandUp),s.HallEvent.on(s.HallEvent.USER_UPDATE,this,this.onUserUpdate),i.Client.Instance.addMsgListener(e.mainNetId,a.GameNetProto30200.NOTIFY.GM_SUB_GAMESTATION,this,this.GameStation),i.Client.Instance.addMsgListener(e.mainNetId,a.GameNetProto30200.NOTIFY.GM_SUB_STATE_NOTE,this,this.GameNoteBet),i.Client.Instance.addMsgListener(e.mainNetId,a.GameNetProto30200.NOTIFY.GM_SUB_CHANGE_NOTE,this,this.UpdateUserBetRsp),i.Client.Instance.addMsgListener(e.mainNetId,a.GameNetProto30200.NOTIFY.GM_SUB_STATE_OPENPRISE,this,this.GameOpenPrize),i.Client.Instance.addMsgListener(e.mainNetId,a.GameNetProto30200.NOTIFY.GM_SUB_STATE_SETTLEMENT,this,this.GameCurrOver),i.Client.Instance.addMsgListener(e.mainNetId,a.GameNetProto30200.NOTIFY.GM_SUB_STATION_STATISTICS,this,this.GameStatistics)},e.prototype.Destroy=function(){var t;null===(t=i.Client.Instance)||void 0===t||t.removeCallerListener(this),s.HallEvent.off(s.HallEvent.getEventString(r.GameHallMessage.MDM_ID.MDM_GH_USERREFRESH,r.GameHallMessage.SUB_GH_USERREFRESH.SUB_GH_USERREFRESH),this,this.onUserFresh),s.HallEvent.off(s.HallEvent.USER_SIT_DOWN,this,this.onEventUserSiteDown),s.HallEvent.off(s.HallEvent.USER_STAND_UP,this,this.onEventUserStandUp),s.HallEvent.off(s.HallEvent.USER_UPDATE,this,this.onUserUpdate),e._inc=null},e.prototype.onEventUserSiteDown=function(e,t,n){e.dwUserID==u.RunData.myUserInfo.dwUserID&&(p.LogBase.log("===========>>>>\u83b7\u53d6\u7528\u6237\u7684\u72b6\u6001"),t<255&&n<255&&0<=t&&0<=n&&(i.Client.Instance.sendData(2000150,1),i.Client.Instance.sendData(2000180,1)),this.bDeskStation=n)},e.prototype.onEventUserStandUp=function(){},e.prototype.onUserUpdate=function(e){e.dwUserID,u.RunData.myUserInfo.dwUserID},e.prototype.onUserFresh=function(e){e.dwUserID,u.RunData.myUserInfo.dwUserID},e.prototype.GameStation=function(e,t){var n;this.isStation=!0;var o=a.GameNetProto30200.CMD_GM_Station_Base.ReadFrom(t);null===(n=this.GameStationHandler)||void 0===n||n.runWith([o,t])},e.prototype.GameNoteBet=function(e,t){var n;this.isStation=!0;var o=a.GameNetProto30200.CMD_GM_State_Note.ReadFrom(t);null===(n=this.GameNoteHandler)||void 0===n||n.runWith([o])},e.prototype.UpdateUserBetRsp=function(e,t){var n;this.isStation=!0;var o=a.GameNetProto30200.CMD_GM_PlayerNoteResult.ReadFrom(t);null===(n=this.GameChangeNoteHandler)||void 0===n||n.runWith([o])},e.prototype.GameOpenPrize=function(e,t){var n;this.isStation=!0;var o=a.GameNetProto30200.CMD_GM_State_Open.ReadFrom(t);null===(n=this.GameOpenPrizeHandler)||void 0===n||n.runWith([o])},e.prototype.GameCurrOver=function(e,t){var n;this.isStation=!0;var o=a.GameNetProto30200.CMD_GM_Settlement.ReadFrom(t);null===(n=this.GameCurrOverHandler)||void 0===n||n.runWith([o])},e.prototype.GameStatistics=function(e,t){var n;this.isStation=!0;var o=a.GameNetProto30200.CMD_GM_Station_Statistics.ReadFrom(t);null===(n=this.GameStatisticsHandler)||void 0===n||n.runWith([o])},e.prototype.SendNoteBet=function(t,n){var o=new a.GameNetProto30200.CMD_GM_PlayerNote;o.nDeskStation=this.bDeskStation,o.nBetIndex=t,o.nMoney=n,i.Client.Instance.sendData(e.mainNetId,a.GameNetProto30200.NOTIFY.GM_SUB_PLAYER_NOTE,a.GameNetProto30200.CMD_GM_PlayerNote.WriteFrom(o))},e.prototype.SendContinueNoteBet=function(t){var n=new a.GameNetProto30200.CMD_GM_PlayerContinuePreNote;n.nDeskStation=this.bDeskStation,n.MyBet=t,i.Client.Instance.sendData(e.mainNetId,a.GameNetProto30200.NOTIFY.GM_SUB_CONTINUE_PRE_NOTE,a.GameNetProto30200.CMD_GM_PlayerContinuePreNote.WriteFrom(n))},e.prototype.SendCancelNoteBet=function(){i.Client.Instance.sendData(e.mainNetId,a.GameNetProto30200.NOTIFY.GM_SUB_CANCELCURNOTE)},e.mainNetId=2000180,e}();n.GameMsgProxy30200=h,cc._RF.pop()},{"../../halls/hall/BaseRoom":"BaseRoom","../../halls/halllib/common/LogBase":"LogBase","../../halls/halllib/core/RunData":"RunData","../../halls/halllib/net/Client":"Client","../../halls/halllib/net/GameHallMessage":"GameHallMessage","../../halls/halllib/net/InnerEvent":"InnerEvent","../../halls/halllib/net/RoomMsgProxy":"RoomMsgProxy","./GameNetProto30200":"GameNetProto30200"}],GameMsgProxy30300:[function(e,t,n){"use strict";cc._RF.push(t,"6db70jnh6dEeJqiIC3ICu0+","GameMsgProxy30300");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.GameMsgProxy30300=void 0;var i=e("../../halls/halllib/net/Client"),a=e("./GameNetProto30300"),r=e("../../halls/halllib/net/InnerEvent"),s=o(e("../../halls/halllib/net/RoomMsgProxy")),l=o(e("../../halls/hall/BaseRoom")),c=e("../../halls/halllib/core/RunData"),u=e("./GameData30300"),p=e("./GameBetPanel30300"),h=e("../../halls/halllib/common/LogBase"),d=o(e("../../halls/hall/Tips")),f=function(){function e(){this.bDeskStation=0}return Object.defineProperty(e,"Instance",{get:function(){return null==this._inc&&(this._inc=new e),this._inc},enumerable:!1,configurable:!0}),e.prototype.Init=function(){var t=l.default.myUserRoomInfo.pUserInfoStruct;(t.bDeskNO>=255||t.bDeskStation>=255||t.bDeskNO<0||t.bDeskStation<0)&&s.default.sendQuickSitDown(),r.HallEvent.on(r.HallEvent.USER_SIT_DOWN,this,this.onEventUserSiteDown),r.HallEvent.on(r.HallEvent.USER_STAND_UP,this,this.onEventUserStandUp),r.HallEvent.on(r.HallEvent.USER_UPDATE,this,this.onUserUpdate),i.Client.Instance.addMsgListener(e.mainNetId,a.GameNetProto30300.NOTIFY.GM_SUB_GAMESTATION,this,this.GameStation),i.Client.Instance.addMsgListener(e.mainNetId,a.GameNetProto30300.NOTIFY.GM_SUB_STATEUPDATE,this,this.GameStateUpdate),i.Client.Instance.addMsgListener(e.mainNetId,a.GameNetProto30300.NOTIFY.GM_SUB_NOTE,this,this.GameNote),i.Client.Instance.addMsgListener(e.mainNetId,a.GameNetProto30300.NOTIFY.GM_SUB_KEYNOTE,this,this.GameKeyNote),i.Client.Instance.addMsgListener(e.mainNetId,a.GameNetProto30300.NOTIFY.GM_SUB_CONTINUEPRENOTE,this,this.GameContiuePreNote),i.Client.Instance.addMsgListener(e.mainNetId,a.GameNetProto30300.NOTIFY.GM_SUB_CANCELCURNOTE,this,this.GameCancelCurNote),i.Client.Instance.addMsgListener(e.mainNetId,a.GameNetProto30300.NOTIFY.GM_SUB_PLAYER_NOTEINFO,this,this.GamePlayerNoteInfo),i.Client.Instance.addMsgListener(e.mainNetId,a.GameNetProto30300.NOTIFY.GM_SUB_SETTLEMENT,this,this.GameSettlement),i.Client.Instance.addMsgListener(e.mainNetId,a.GameNetProto30300.NOTIFY.GM_SUB_STATISTICS,this,this.GameStatitice),i.Client.Instance.addMsgListener(e.mainNetId,a.GameNetProto30300.NOTIFY.GM_SUB_USERNOTEINFO,this,this.GameUserNoteInfo),i.Client.Instance.addMsgListener(e.mainNetId,a.GameNetProto30300.NOTIFY.SUB_GM_GAME_CONFIG,this,this.GameConfigs),h.LogBase.log("============>>>>>GameMsgProxy30300.Init")},e.prototype.Destroy=function(){var t;null===(t=i.Client.Instance)||void 0===t||t.removeCallerListener(this),r.HallEvent.off(r.HallEvent.USER_SIT_DOWN,this,this.onEventUserSiteDown),r.HallEvent.off(r.HallEvent.USER_STAND_UP,this,this.onEventUserStandUp),r.HallEvent.off(r.HallEvent.USER_UPDATE,this,this.onUserUpdate),e._inc=null},e.prototype.onEventUserSiteDown=function(e,t,n){e.dwUserID==c.RunData.myUserInfo.dwUserID&&t<255&&n<255&&0<=t&&0<=n&&(h.LogBase.log("===========>>>>\u83b7\u53d6\u7528\u6237\u7684\u72b6\u6001"),i.Client.Instance.sendData(2000150,1),i.Client.Instance.sendData(2000180,1))},e.prototype.onEventUserStandUp=function(){l.default.myUserRoomInfo.pUserInfoStruct.bDeskNO},e.prototype.onUserUpdate=function(e){e.dwUserID==c.RunData.myUserInfo.dwUserID&&(u.GameData30300.MyMoney=e.dwMoney.toNumber(),p.GameBetPanel30300.Instance.FlashMyMoney())},e.prototype.GameStation=function(e,t){var n;h.LogBase.log("========>>>\u6e38\u620f\u72b6\u6001 1001");var o=a.GameNetProto30300.CMD_GM_Station_Head.ReadFrom(t);this.bDeskStation=o.bDeskStation,null===(n=this.GameStationHandler)||void 0===n||n.runWith([o,t])},e.prototype.GameStateUpdate=function(e,t){var n;h.LogBase.log("========>>>\u6e38\u620f\u72b6\u6001\u66f4\u65b0 1002");var o=a.GameNetProto30300.CMD_GM_StateUpdate.ReadFrom(t);null===(n=this.GameStateUpdateHandler)||void 0===n||n.runWith([o,t])},e.prototype.GameNote=function(e,t){var n,o=a.GameNetProto30300.CMD_GM_NoteData.ReadFrom(t);-1<=o.NoteMoney&&o.NoteMoney<=0?o.nDeskStation==this.bDeskStation&&(o.NoteMoney<0?d.default.SetText("Bet failed and exceeded game limits!"):d.default.SetText("Bet failed, game coin isn't enough!")):null===(n=this.GameNoteHandler)||void 0===n||n.runWith([o])},e.prototype.GameKeyNote=function(){},e.prototype.GameContiuePreNote=function(e,t){var n,o=a.GameNetProto30300.CMD_GM_ContinuePreNote.ReadFrom(t);null===(n=this.GameContinueNoteHandler)||void 0===n||n.runWith([o])},e.prototype.GameCancelCurNote=function(e,t){var n,o=a.GameNetProto30300.CMD_GM_CancelCurrentNote.ReadFrom(t);null===(n=this.GameCancelNoteHandler)||void 0===n||n.runWith([o])},e.prototype.GamePlayerNoteInfo=function(e,t){var n,o=a.GameNetProto30300.CMD_GM_PlayerNoteInfo.ReadFrom(t);null===(n=this.GamePlayerNoteHandler)||void 0===n||n.runWith([o])},e.prototype.GameSettlement=function(){},e.prototype.GameStatitice=function(e,t){var n,o=a.GameNetProto30300.GameStateDataStatistics.ReadFrom(t);null===(n=this.GameStatisticsHandler)||void 0===n||n.runWith([o])},e.prototype.GameUserNoteInfo=function(e,t){var n,o=a.GameNetProto30300.CMD_GM_PlayerNoteInfoList.ReadFrom(t);null===(n=this.GamePlayerNoteListHandler)||void 0===n||n.runWith([o])},e.prototype.GameConfigs=function(e,t){var n=a.GameNetProto30300.SUB_GM_Limit.ReadFrom(t);u.GameData30300.iLimitVlue=n.iLimitVlue},e.prototype.SendNoteBet=function(t,n,o){var r=new a.GameNetProto30300.CMD_GM_NoteData;r.nDeskStation=this.bDeskStation,r.AreaIndex=t,r.NoteKind=n,r.NoteMoney=o,i.Client.Instance.sendData(e.mainNetId,a.GameNetProto30300.NOTIFY.GM_SUB_NOTE,a.GameNetProto30300.CMD_GM_NoteData.WriteFrom(r))},e.prototype.SendContinueNoteBet=function(){i.Client.Instance.sendData(e.mainNetId,a.GameNetProto30300.NOTIFY.GM_SUB_CONTINUEPRENOTE)},e.prototype.SendCancelNoteBet=function(){i.Client.Instance.sendData(e.mainNetId,a.GameNetProto30300.NOTIFY.GM_SUB_CANCELCURNOTE)},e.mainNetId=2000180,e}();n.GameMsgProxy30300=f,cc._RF.pop()},{"../../halls/hall/BaseRoom":"BaseRoom","../../halls/hall/Tips":"Tips","../../halls/halllib/common/LogBase":"LogBase","../../halls/halllib/core/RunData":"RunData","../../halls/halllib/net/Client":"Client","../../halls/halllib/net/InnerEvent":"InnerEvent","../../halls/halllib/net/RoomMsgProxy":"RoomMsgProxy","./GameBetPanel30300":"GameBetPanel30300","./GameData30300":"GameData30300","./GameNetProto30300":"GameNetProto30300"}],GameMsgProxy30700:[function(e,t,n){"use strict";cc._RF.push(t,"4b723+FedxJF6dDHKPommpg","GameMsgProxy30700");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.GameMsgProxy30700=void 0;var i=e("../../halls/halllib/net/Client"),a=e("./GameNetProto30700"),r=e("../../halls/halllib/net/GameHallMessage"),s=e("../../halls/halllib/net/InnerEvent"),l=o(e("../../halls/halllib/net/RoomMsgProxy")),c=o(e("../../halls/hall/BaseRoom")),u=e("../../halls/halllib/core/RunData"),p=e("./GameData30700"),h=e("./GameBetPanel30700"),d=e("../../halls/halllib/common/LogBase"),f=function(){function e(){this.bDeskStation=0}return Object.defineProperty(e,"Instance",{get:function(){return null==this._inc&&(this._inc=new e),this._inc},enumerable:!1,configurable:!0}),e.prototype.Init=function(){var t=c.default.myUserRoomInfo.pUserInfoStruct;(t.bDeskNO>=255||t.bDeskStation>=255||t.bDeskNO<0||t.bDeskStation<0)&&l.default.sendQuickSitDown(),p.GameData30700.UserNames=[],s.HallEvent.on(s.HallEvent.getEventString(r.GameHallMessage.MDM_ID.MDM_GH_USERREFRESH,r.GameHallMessage.SUB_GH_USERREFRESH.SUB_GH_USERREFRESH),this,this.onUserFresh),s.HallEvent.on(s.HallEvent.USER_SIT_DOWN,this,this.onEventUserSiteDown),s.HallEvent.on(s.HallEvent.USER_STAND_UP,this,this.onEventUserStandUp),s.HallEvent.on(s.HallEvent.USER_UPDATE,this,this.onUserUpdate),i.Client.Instance.addMsgListener(e.mainNetId,a.GameNetProto30700.NOTIFY.GM_SUB_STATION,this,this.GameStation),i.Client.Instance.addMsgListener(e.mainNetId,a.GameNetProto30700.NOTIFY.GM_SUB_STATE_SWITCH,this,this.GameStateUpdate),i.Client.Instance.addMsgListener(e.mainNetId,a.GameNetProto30700.NOTIFY.GM_SUB_NOTE,this,this.GameNote),i.Client.Instance.addMsgListener(e.mainNetId,a.GameNetProto30700.NOTIFY.GM_SUB_CONTINUE_NOTE,this,this.GameContiuePreNote),i.Client.Instance.addMsgListener(e.mainNetId,a.GameNetProto30700.NOTIFY.GM_SUB_CANCEL_ALLNOTE,this,this.GameCancelCurNote),i.Client.Instance.addMsgListener(e.mainNetId,a.GameNetProto30700.NOTIFY.GM_SUB_START_ACCOUNT,this,this.GameSettlement),i.Client.Instance.addMsgListener(e.mainNetId,a.GameNetProto30700.NOTIFY.GM_SUB_STATISTICS,this,this.GameStatitice),d.LogBase.log("============>>>>>GameMsgProxy30700.Init")},e.prototype.Destroy=function(){var t;null===(t=i.Client.Instance)||void 0===t||t.removeCallerListener(this),s.HallEvent.off(s.HallEvent.getEventString(r.GameHallMessage.MDM_ID.MDM_GH_USERREFRESH,r.GameHallMessage.SUB_GH_USERREFRESH.SUB_GH_USERREFRESH),this,this.onUserFresh),s.HallEvent.off(s.HallEvent.USER_SIT_DOWN,this,this.onEventUserSiteDown),s.HallEvent.off(s.HallEvent.USER_STAND_UP,this,this.onEventUserStandUp),s.HallEvent.off(s.HallEvent.USER_UPDATE,this,this.onUserUpdate),e._inc=null},e.prototype.onEventUserSiteDown=function(e,t,n){if(e.dwUserID==u.RunData.myUserInfo.dwUserID&&t<255&&n<255&&0<=t&&0<=n){d.LogBase.log("===========>>>>\u83b7\u53d6\u7528\u6237\u7684\u72b6\u6001"),i.Client.Instance.sendData(2000150,1),i.Client.Instance.sendData(2000180,1);for(var o=0;o<c.default.userList.length;o++){var a=c.default.userList[o];a&&a.bDeskNO==t&&0<=a.bDeskStation&&(p.GameData30700.UserNames[a.bDeskStation]=a.nickName)}}n>=0&&(p.GameData30700.UserNames[n]=e.nickName)},e.prototype.onEventUserStandUp=function(){c.default.myUserRoomInfo.pUserInfoStruct.bDeskNO},e.prototype.onUserUpdate=function(e){e.dwUserID==u.RunData.myUserInfo.dwUserID&&(p.GameData30700.MyMoney=e.dwMoney.toNumber(),h.GameBetPanel30700.Instance.FlashMyMoney()),e.bDeskStation>=0&&(p.GameData30700.UserNames[e.bDeskStation]=e.nickName)},e.prototype.onUserFresh=function(e){e.dwUserID==u.RunData.myUserInfo.dwUserID&&(p.GameData30700.MyMoney=e.iWalletGb.toNumber(),h.GameBetPanel30700.Instance.FlashMyMoney())},e.prototype.GameStation=function(e,t){var n,o=a.GameNetProto30700.CMD_GM_Station_Head.ReadFrom(t);this.bDeskStation=o.bDeskStation,null===(n=this.GameStationHandler)||void 0===n||n.runWith([o,t])},e.prototype.GameStateUpdate=function(e,t){var n,o=a.GameNetProto30700.CMD_GM_StateUpdate.ReadFrom(t);null===(n=this.GameStateUpdateHandler)||void 0===n||n.runWith([o,t])},e.prototype.GameNote=function(e,t){var n,o=a.GameNetProto30700.CMD_GM_NoteData.ReadFrom(t);null===(n=this.GameNoteHandler)||void 0===n||n.runWith([o])},e.prototype.GameContiuePreNote=function(e,t){var n,o=a.GameNetProto30700.CMD_GM_ContinuePreNote.ReadFrom(t);null===(n=this.GameContinueNoteHandler)||void 0===n||n.runWith([o])},e.prototype.GameCancelCurNote=function(e,t){var n,o=a.GameNetProto30700.CMD_GM_CancelCurrentNote.ReadFrom(t);null===(n=this.GameCancelNoteHandler)||void 0===n||n.runWith([o])},e.prototype.GameSettlement=function(){},e.prototype.GameStatitice=function(e,t){var n,o=a.GameNetProto30700.CMD_GM_Station_PrizeCounter.ReadFrom(t);null===(n=this.GameStatisticsHandler)||void 0===n||n.runWith([o])},e.prototype.SendNoteBet=function(t,n,o){var r=new a.GameNetProto30700.CMD_GM_NoteData;r.nDeskStation=this.bDeskStation,r.AreaIndex=t,r.NoteKind=n,r.NoteMoney=o,i.Client.Instance.sendData(e.mainNetId,a.GameNetProto30700.NOTIFY.GM_SUB_NOTE,a.GameNetProto30700.CMD_GM_NoteData.WriteFrom(r))},e.prototype.SendContinueNoteBet=function(){i.Client.Instance.sendData(e.mainNetId,a.GameNetProto30700.NOTIFY.GM_SUB_CONTINUE_NOTE)},e.prototype.SendCancelNoteBet=function(){i.Client.Instance.sendData(e.mainNetId,a.GameNetProto30700.NOTIFY.GM_SUB_CANCEL_ALLNOTE)},e.mainNetId=2000180,e}();n.GameMsgProxy30700=f,cc._RF.pop()},{"../../halls/hall/BaseRoom":"BaseRoom","../../halls/halllib/common/LogBase":"LogBase","../../halls/halllib/core/RunData":"RunData","../../halls/halllib/net/Client":"Client","../../halls/halllib/net/GameHallMessage":"GameHallMessage","../../halls/halllib/net/InnerEvent":"InnerEvent","../../halls/halllib/net/RoomMsgProxy":"RoomMsgProxy","./GameBetPanel30700":"GameBetPanel30700","./GameData30700":"GameData30700","./GameNetProto30700":"GameNetProto30700"}],GameMsgProxy34800:[function(e,t,n){"use strict";cc._RF.push(t,"47d4aVcBK9GH7tMG2D94vid","GameMsgProxy34800");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.GameMsgProxy34800=void 0;var i=e("../../halls/halllib/net/Client"),a=e("./GameNetProto34800"),r=e("../../halls/halllib/net/GameHallMessage"),s=e("../../halls/halllib/net/InnerEvent"),l=o(e("../../halls/halllib/net/RoomMsgProxy")),c=o(e("../../halls/hall/BaseRoom")),u=e("../../halls/halllib/core/RunData"),p=e("./GameData34800"),h=e("../../halls/halllib/common/LogBase"),d=o(e("../../halls/hall/Tips")),f=function(){function e(){this.bDeskStation=0,this.isStation=!1}return Object.defineProperty(e,"Instance",{get:function(){return null==this._inc&&(this._inc=new e),this._inc},enumerable:!1,configurable:!0}),e.prototype.Init=function(){this.isStation=!1;var t=c.default.myUserRoomInfo.pUserInfoStruct;(t.bDeskNO>=255||t.bDeskStation>=255||t.bDeskNO<0||t.bDeskStation<0)&&l.default.sendQuickSitDown(),this.bDeskStation=t.bDeskStation,s.HallEvent.on(s.HallEvent.getEventString(r.GameHallMessage.MDM_ID.MDM_GH_USERREFRESH,r.GameHallMessage.SUB_GH_USERREFRESH.SUB_GH_USERREFRESH),this,this.onUserFresh),s.HallEvent.on(s.HallEvent.USER_SIT_DOWN,this,this.onEventUserSiteDown),s.HallEvent.on(s.HallEvent.USER_STAND_UP,this,this.onEventUserStandUp),s.HallEvent.on(s.HallEvent.USER_UPDATE,this,this.onUserUpdate),i.Client.Instance.addMsgListener(e.mainNetId,a.GameNetProto34800.NOTIFY.SUB_S_GAME_STATUS,this,this.GameStation),i.Client.Instance.addMsgListener(e.mainNetId,a.GameNetProto34800.NOTIFY.SUB_S_GAME_START,this,this.GameStart),i.Client.Instance.addMsgListener(e.mainNetId,a.GameNetProto34800.NOTIFY.SUB_S_PLACE_JETTON,this,this.GameJetton),i.Client.Instance.addMsgListener(e.mainNetId,a.GameNetProto34800.NOTIFY.SUB_S_PLACE_JETTON_FAIL,this,this.GameJettonFail),i.Client.Instance.addMsgListener(e.mainNetId,a.GameNetProto34800.NOTIFY.SUB_S_CONTINU_JETTON,this,this.GameContinu),i.Client.Instance.addMsgListener(e.mainNetId,a.GameNetProto34800.NOTIFY.SUB_S_CONTINUE_JETTON_FAIL,this,this.GameContinuFail),i.Client.Instance.addMsgListener(e.mainNetId,a.GameNetProto34800.NOTIFY.SUB_S_DEAL_CARD,this,this.GameDealCard),i.Client.Instance.addMsgListener(e.mainNetId,a.GameNetProto34800.NOTIFY.SUB_S_GAME_END,this,this.GameEnd),i.Client.Instance.addMsgListener(e.mainNetId,a.GameNetProto34800.NOTIFY.SUB_S_UPDATE_OCCUPYSEAT,this,this.GameUpdateUser),i.Client.Instance.addMsgListener(e.mainNetId,a.GameNetProto34800.NOTIFY.SUB_S_SEND_SIMPLE_CHART,this,this.GameSimpleChart)},e.prototype.Destroy=function(){var t;null===(t=i.Client.Instance)||void 0===t||t.removeCallerListener(this),s.HallEvent.off(s.HallEvent.getEventString(r.GameHallMessage.MDM_ID.MDM_GH_USERREFRESH,r.GameHallMessage.SUB_GH_USERREFRESH.SUB_GH_USERREFRESH),this,this.onUserFresh),s.HallEvent.off(s.HallEvent.USER_SIT_DOWN,this,this.onEventUserSiteDown),s.HallEvent.off(s.HallEvent.USER_STAND_UP,this,this.onEventUserStandUp),s.HallEvent.off(s.HallEvent.USER_UPDATE,this,this.onUserUpdate),e._inc=null},e.prototype.onEventUserSiteDown=function(e,t,n){e.dwUserID==u.RunData.myUserInfo.dwUserID&&(h.LogBase.log("===========>>>>\u83b7\u53d6\u7528\u6237\u7684\u72b6\u6001"),t<255&&n<255&&0<=t&&0<=n&&(i.Client.Instance.sendData(2000150,1),i.Client.Instance.sendData(2000180,1)),this.bDeskStation=n)},e.prototype.onEventUserStandUp=function(){c.default.myUserRoomInfo.pUserInfoStruct.bDeskNO},e.prototype.onUserUpdate=function(e){e.dwUserID==u.RunData.myUserInfo.dwUserID&&(p.GameData34800.MyMoney=e.dwMoney.toNumber())},e.prototype.onUserFresh=function(e){e.dwUserID==u.RunData.myUserInfo.dwUserID&&(p.GameData34800.MyMoney=e.iWalletGb.toNumber())},e.prototype.GameStation=function(e,t){var n;this.isStation=!0;var o=a.GameNetProto34800.CMD_S_GAME_SCENE.ReadFrom(t);null===(n=this.GameStationHandler)||void 0===n||n.runWith([o])},e.prototype.GameStart=function(e,t){var n,o,i=a.GameNetProto34800.CMD_S_GameStart.ReadFrom(t);null===(n=this.GameStartHandler)||void 0===n||n.runWith([i]),null===(o=this.GameUpdateUserHandler)||void 0===o||o.runWith([i])},e.prototype.GameJetton=function(e,t){var n;if(this.isStation){var o=a.GameNetProto34800.CMD_S_PlaceJetton.ReadFrom(t);null===(n=this.GameJettonHandler)||void 0===n||n.runWith([o])}},e.prototype.GameJettonFail=function(e,t){var n,o=a.GameNetProto34800.CMD_S_PlaceJettonFail.ReadFrom(t);null===(n=this.GameJettonFailHandler)||void 0===n||n.runWith([o]),o.wPlaceUser==this.bDeskStation&&this.showErroBetTip(o.bErrorCode)},e.prototype.GameContinu=function(e,t){var n;if(this.isStation){var o=a.GameNetProto34800.CMD_S_ContiueJetton.ReadFrom(t);null===(n=this.GameContinuHandler)||void 0===n||n.runWith([o])}},e.prototype.GameContinuFail=function(){d.default.SetWarnText("Betting failed!")},e.prototype.GameDealCard=function(e,t){var n,o=a.GameNetProto34800.CMD_S_DealCard.ReadFrom(t);null===(n=this.GameDealCardHandler)||void 0===n||n.runWith([o])},e.prototype.GameEnd=function(e,t){var n,o=a.GameNetProto34800.CMD_S_GameEnd.ReadFrom(t);null===(n=this.GameEndHandler)||void 0===n||n.runWith([o])},e.prototype.GameUpdateUser=function(e,t){var n,o=a.GameNetProto34800.CMD_S_UpdateOccupySeat.ReadFrom(t);null===(n=this.GameUpdateUserHandler)||void 0===n||n.runWith([o])},e.prototype.GameSimpleChart=function(e,t){var n,o=a.GameNetProto34800.CMD_S_SimpleChart.ReadFrom(t);null===(n=this.GameSimpleChartHandler)||void 0===n||n.runWith([o])},e.prototype.SendNoteBet=function(t,n){var o=new a.GameNetProto34800.CMD_C_PlaceJetton;o.cbJettonArea=t,o.lJettonScore=n,i.Client.Instance.sendData(e.mainNetId,a.GameNetProto34800.NOTIFY.SUB_C_PLACE_JETTON,a.GameNetProto34800.CMD_C_PlaceJetton.WriteFrom(o))},e.prototype.showErroBetTip=function(e){switch(e){case 1:d.default.SetText("You don't have enough coins to pay the max multiplier (13x)");break;case 2:case 3:case 4:d.default.SetText("Betting limit bonus.");break;case 5:d.default.SetText("Wrong betting chip type.");break;case 6:d.default.SetText("Betting failed.");break;case 7:d.default.SetText("It's not a betting time.");break;default:d.default.SetText("Betting failed.")}},e.mainNetId=2000180,e}();n.GameMsgProxy34800=f,cc._RF.pop()},{"../../halls/hall/BaseRoom":"BaseRoom","../../halls/hall/Tips":"Tips","../../halls/halllib/common/LogBase":"LogBase","../../halls/halllib/core/RunData":"RunData","../../halls/halllib/net/Client":"Client","../../halls/halllib/net/GameHallMessage":"GameHallMessage","../../halls/halllib/net/InnerEvent":"InnerEvent","../../halls/halllib/net/RoomMsgProxy":"RoomMsgProxy","./GameData34800":"GameData34800","./GameNetProto34800":"GameNetProto34800"}],GameNetProto10100:[function(e,t,n){"use strict";cc._RF.push(t,"00c40bSXvFMso/ksmhISU3d","GameNetProto10100");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.GameNetProto10100=void 0;var a=e("../../halls/halllib/net/ICom");(function(e){(function(e){e[e.SUB_S_GAME_GameScene=50]="SUB_S_GAME_GameScene",e[e.SUB_S_GAME_START=100]="SUB_S_GAME_START",e[e.SUB_S_GAME_NOTIFY_PLAYER_OPERATE=101]="SUB_S_GAME_NOTIFY_PLAYER_OPERATE",e[e.SUB_S_GET_ONE_CARD_FROM_HEAP_SUCCESS=102]="SUB_S_GET_ONE_CARD_FROM_HEAP_SUCCESS",e[e.SUB_S_GET_ONE_CARD_FROM_HEAP_FAILURE=103]="SUB_S_GET_ONE_CARD_FROM_HEAP_FAILURE",e[e.SUB_S_DUMP_ONE_CARD_SUCCESS=104]="SUB_S_DUMP_ONE_CARD_SUCCESS",e[e.SUB_S_DUMP_ONE_CARD_FAILURE=105]="SUB_S_DUMP_ONE_CARD_FAILURE",e[e.SUB_S_GROUP_CARD_WITH_OWN_CARD_SUCCESS=106]="SUB_S_GROUP_CARD_WITH_OWN_CARD_SUCCESS",e[e.SUB_S_GROUP_CARD_WITH_OWN_CARD_FAILURE=107]="SUB_S_GROUP_CARD_WITH_OWN_CARD_FAILURE",e[e.SUB_S_GROUP_CARD_WITH_OUT_CARD_SUCCESS=108]="SUB_S_GROUP_CARD_WITH_OUT_CARD_SUCCESS",e[e.SUB_S_GROUP_CARD_WITH_OUT_CARD_FAILURE=109]="SUB_S_GROUP_CARD_WITH_OUT_CARD_FAILURE",e[e.SUB_S_PUT_CARD_SUCCESS=110]="SUB_S_PUT_CARD_SUCCESS",e[e.SUB_S_PUT_CARD_FAILURE=111]="SUB_S_PUT_CARD_FAILURE",e[e.SUB_S_DROP_CARD_SUCCESS=112]="SUB_S_DROP_CARD_SUCCESS",e[e.SUB_S_C_CAN_DROP_ACTION=113]="SUB_S_C_CAN_DROP_ACTION",e[e.SUB_S_FIGHT_SUCCESS=114]="SUB_S_FIGHT_SUCCESS",e[e.SUB_S_FIGHT_FAILURE=115]="SUB_S_FIGHT_FAILURE",e[e.SUB_S_FOLD_SUCCESS=116]="SUB_S_FOLD_SUCCESS",e[e.SUB_S_FOLD_FAILURE=117]="SUB_S_FOLD_FAILURE",e[e.SUB_S_CHALLENGE_SUCCESS=118]="SUB_S_CHALLENGE_SUCCESS",e[e.SUB_S_CHALLENGE_FAILURE=119]="SUB_S_CHALLENGE_FAILURE",e[e.SUB_S_GAME_END=120]="SUB_S_GAME_END",e[e.SUB_S_NOTIFY_TRUSTEE_STATUS=121]="SUB_S_NOTIFY_TRUSTEE_STATUS",e[e.GM_SUB_START_COUNTER=1020]="GM_SUB_START_COUNTER",e[e.SUB_C_GET_ONE_CARD_FROM_HEAP=1001]="SUB_C_GET_ONE_CARD_FROM_HEAP",e[e.SUB_C_DUMP_ONE_CARD=1002]="SUB_C_DUMP_ONE_CARD",e[e.SUB_C_GROUP_CARD_WITH_OWN_CARD=1003]="SUB_C_GROUP_CARD_WITH_OWN_CARD",e[e.SUB_C_GROUP_CARD_WITH_OUT_CARD=1004]="SUB_C_GROUP_CARD_WITH_OUT_CARD",e[e.SUB_C_PUT_CARD_2_GROUP_CARD=1005]="SUB_C_PUT_CARD_2_GROUP_CARD",e[e.SUB_C_DROP_GROUP_CARD=1006]="SUB_C_DROP_GROUP_CARD",e[e.SUB_C_FIGH=1007]="SUB_C_FIGH",e[e.SUB_C_FOLD=1008]="SUB_C_FOLD",e[e.SUB_C_CHALLENGE=1009]="SUB_C_CHALLENGE",e[e.SUB_C_CANCEL_TRUSTEE=1010]="SUB_C_CANCEL_TRUSTEE",e[e.GS_TONGITS_FREE=0]="GS_TONGITS_FREE",e[e.GS_TONGITS_DEAL_CARDS=100]="GS_TONGITS_DEAL_CARDS",e[e.GS_TONGITS_PLAYING=101]="GS_TONGITS_PLAYING",e[e.GS_TONGITS_FIGHT=102]="GS_TONGITS_FIGHT",e[e.GS_TONGITS_ACCOUNT=103]="GS_TONGITS_ACCOUNT"})(e.NOTIFY||(e.NOTIFY={})),function(e){e[e.NONE=0]="NONE",e[e.RUN=1]="RUN",e[e.SET=2]="SET",e[e.SECRET_SET=3]="SECRET_SET",e[e.SECRET_RUN=4]="SECRET_RUN"}(e.GroupType||(e.GroupType={})),function(e){e[e.OWN_CARDS=2]="OWN_CARDS",e[e.OUT_CARD=4]="OUT_CARD",e[e.HEAP_CARD=8]="HEAP_CARD",e[e.DROP_CARDS=16]="DROP_CARDS",e[e.GROUP_CARD=32]="GROUP_CARD",e[e.HIGH_CARD=64]="HIGH_CARD",e[e.DUMP_CARD=128]="DUMP_CARD",e[e.FIGHT=256]="FIGHT"}(e.TongitsOperType||(e.TongitsOperType={})),function(e){e[e.E_GAME_END_BY_TONGITS=1]="E_GAME_END_BY_TONGITS",e[e.E_GAME_END_BY_NORMAL=2]="E_GAME_END_BY_NORMAL",e[e.E_GAME_END_BY_FIGHT=3]="E_GAME_END_BY_FIGHT",e[e.E_GAME_END_BY_MAX=4]="E_GAME_END_BY_MAX"}(e.GameEndReason||(e.GameEndReason={}));var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nGroupCount=0,t.byGroupKind=[],t.nGroupCardCount=[],t.arrGroupCard=[],t}return i(t,e),t.nGroupCount=a.ICom.bit.int,t.byGroupKind=new a.ICom.ArrayNumber(a.ICom.Bytes,4),t.nGroupCardCount=new a.ICom.ArrayNumber(a.ICom.Int32,4),t.arrGroupCard=new a.ICom.ArrayNumber(a.ICom.Bytes,52),t}(a.ICom.BaseMessage);e.tagCardGroup=t;var n=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.wSkipChairID=0,t.m_byGameStatus=0,t.m_byLeftTime=0,t.m_iCellScore=0,t.m_byFreeTime=0,t.m_byOutCardTime=0,t.m_byFightTime=0,t.m_byAccountTime=0,t.m_byHitpotMultiple=0,t.m_byNormalWinMultiple=0,t.m_byTongitsMultiple=0,t.m_bySecretMeldMultiple=0,t.m_byBonusCardMultiple=0,t.m_byBurnedPlayerMultiple=0,t.m_byFightNeedTurns=0,t.m_byTrustee=0,t.m_dHitpot=0,t.m_nGameRounds=0,t.m_wBanker=0,t.m_wCurrentActionPlayer=0,t.m_uEnabledAction=0,t.m_nHeapCardCount=0,t.m_nOutCardCount=0,t.m_arrOutCardList=[],t.m_arrHandCardCount=[],t.m_arrHighCardCount=[],t.m_arrHighCard=[],t.m_arrHighCardScore=[],t.m_arrCardGroup=[],t.m_arrDropCardGroup=[],t.m_arrFightResponse=[],t.byEndReason=0,t.wWinner=0,t.m_arrTotalWin=[],t.m_arrNormalWin=[],t.m_arrTongitsWin=[],t.m_arrChallengeWin=[],t.m_arrSecretMeldWin=[],t.m_arrBonusCardWin=[],t.m_arrBurnedWin=[],t.m_arrHitpotWin=[],t.m_arrPlayerScore=[],t}return i(n,e),n.wSkipChairID=a.ICom.bit.ushort,n.m_byGameStatus=a.ICom.bit.byte,n.m_byLeftTime=a.ICom.bit.byte,n.m_iCellScore=a.ICom.bit.long,n.m_byFreeTime=a.ICom.bit.byte,n.m_byOutCardTime=a.ICom.bit.byte,n.m_byFightTime=a.ICom.bit.byte,n.m_byAccountTime=a.ICom.bit.byte,n.m_byHitpotMultiple=a.ICom.bit.byte,n.m_byNormalWinMultiple=a.ICom.bit.byte,n.m_byTongitsMultiple=a.ICom.bit.byte,n.m_bySecretMeldMultiple=a.ICom.bit.byte,n.m_byBonusCardMultiple=a.ICom.bit.byte,n.m_byBurnedPlayerMultiple=a.ICom.bit.byte,n.m_byFightNeedTurns=a.ICom.bit.byte,n.m_byTrustee=a.ICom.bit.byte,n.m_dHitpot=a.ICom.bit.double,n.m_nGameRounds=a.ICom.bit.int,n.m_wBanker=a.ICom.bit.ushort,n.m_wCurrentActionPlayer=a.ICom.bit.ushort,n.m_uEnabledAction=a.ICom.bit.uint,n.m_nHeapCardCount=a.ICom.bit.int,n.m_nOutCardCount=a.ICom.bit.int,n.m_arrOutCardList=new a.ICom.ArrayNumber(a.ICom.Bytes,52),n.m_arrHandCardCount=new a.ICom.ArrayNumber(a.ICom.Int32,3),n.m_arrHighCardCount=new a.ICom.ArrayNumber(a.ICom.Int32,3),n.m_arrHighCard=new a.ICom.ArrayNumber(a.ICom.Bytes,39),n.m_arrHighCardScore=new a.ICom.ArrayNumber(a.ICom.Int32,3),n.m_arrCardGroup=new a.ICom.ArrayTable(t,3),n.m_arrDropCardGroup=new a.ICom.ArrayTable(t,3),n.m_arrFightResponse=new a.ICom.ArrayNumber(a.ICom.Bytes,3),n.byEndReason=a.ICom.bit.byte,n.wWinner=a.ICom.bit.ushort,n.m_arrTotalWin=new a.ICom.ArrayNumber(a.ICom.Float64,3),n.m_arrNormalWin=new a.ICom.ArrayNumber(a.ICom.Float64,3),n.m_arrTongitsWin=new a.ICom.ArrayNumber(a.ICom.Float64,3),n.m_arrChallengeWin=new a.ICom.ArrayNumber(a.ICom.Float64,3),n.m_arrSecretMeldWin=new a.ICom.ArrayNumber(a.ICom.Float64,3),n.m_arrBonusCardWin=new a.ICom.ArrayNumber(a.ICom.Float64,3),n.m_arrBurnedWin=new a.ICom.ArrayNumber(a.ICom.Float64,3),n.m_arrHitpotWin=new a.ICom.ArrayNumber(a.ICom.Float64,3),n.m_arrPlayerScore=new a.ICom.ArrayNumber(a.ICom.Float64,3),n}(a.ICom.BaseMessage);e.CMD_GAME_SCENE=n;var o=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.wSkipChairID=0,t.wBankChairID=0,t.arrInitHandCard=[],t.nHighCardCount=0,t.arrHighCard=[],t.nHighCardScore=0,t.arrHandCardCount=[],t.nHeapCardCount=0,t.dHitpot=0,t.nRoundNo=0,t.dPlayerScore=0,t}return i(n,e),n.wSkipChairID=a.ICom.bit.ushort,n.wBankChairID=a.ICom.bit.ushort,n.arrInitHandCard=new a.ICom.ArrayNumber(a.ICom.Bytes,13),n.stCardGroup=new a.ICom.ClassTb(t),n.nHighCardCount=a.ICom.bit.int,n.arrHighCard=new a.ICom.ArrayNumber(a.ICom.Bytes,13),n.nHighCardScore=a.ICom.bit.int,n.arrHandCardCount=new a.ICom.ArrayNumber(a.ICom.Int32,3),n.nHeapCardCount=a.ICom.bit.int,n.dHitpot=a.ICom.bit.double,n.nRoundNo=a.ICom.bit.int,n.dPlayerScore=a.ICom.bit.double,n}(a.ICom.BaseMessage);e.CMD_S_GameStart=o;var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wActionPlayer=0,t.uEnabledAction=0,t}return i(t,e),t.wActionPlayer=a.ICom.bit.ushort,t.uEnabledAction=a.ICom.bit.uint,t}(a.ICom.BaseMessage);e.CMD_GAME_S_NOTIFY_PLAYER_OPERATE=r;var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wActionPlayer=0,t.nPlayerHandCardCount=0,t.nHeapCardCount=0,t.byCard=0,t.nHighCardScore=0,t.uEnabledAction=0,t}return i(t,e),t.wActionPlayer=a.ICom.bit.ushort,t.nPlayerHandCardCount=a.ICom.bit.int,t.nHeapCardCount=a.ICom.bit.int,t.byCard=a.ICom.bit.byte,t.nHighCardScore=a.ICom.bit.int,t.uEnabledAction=a.ICom.bit.uint,t}(a.ICom.BaseMessage);e.CMD_GAME_S_GET_ONE_CARD_FROM_HEAP_CARD_SUCCESS=s;var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.szFailReason="",t}return i(t,e),t.szFailReason=new a.ICom.String(128),t}(a.ICom.BaseMessage);e.CMD_GAME_S_GET_ONE_CARD_FROM_HEAP_CARD_FAILURE=l;var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.byCard=0,t}return i(t,e),t.byCard=a.ICom.bit.byte,t}(a.ICom.BaseMessage);e.CMD_GAME_C_DUMP_ONE_CARD=c;var u=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.wDumpCardPlayer=0,t.byCard=0,t.nDumpCardPlayerLeftCardCount=0,t.nOutCardCount=0,t.arrOutCardList=[],t.nHighCardCount=0,t.arrHighCard=[],t.nHighCardScore=0,t}return i(n,e),n.wDumpCardPlayer=a.ICom.bit.ushort,n.byCard=a.ICom.bit.byte,n.nDumpCardPlayerLeftCardCount=a.ICom.bit.int,n.nOutCardCount=a.ICom.bit.int,n.arrOutCardList=new a.ICom.ArrayNumber(a.ICom.Bytes,27),n.stCardGroup=new a.ICom.ClassTb(t),n.nHighCardCount=a.ICom.bit.int,n.arrHighCard=new a.ICom.ArrayNumber(a.ICom.Bytes,13),n.nHighCardScore=a.ICom.bit.int,n}(a.ICom.BaseMessage);e.CMD_GAME_S_DUMP_ONE_CARD_SUCCESS=u;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.szFailReason="",t}return i(t,e),t.szFailReason=new a.ICom.String(128),t}(a.ICom.BaseMessage);e.CMD_GAME_S_DUMP_ONE_CARD_FAILURE=p;var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nCardCount=0,t.arrCardList=[],t}return i(t,e),t.nCardCount=a.ICom.bit.int,t.arrCardList=new a.ICom.ArrayNumber(a.ICom.Bytes,13),t}(a.ICom.BaseMessage);e.CMD_GAME_C_GROUP_CARD_WITH_OWN_CARD=h;var d=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.nHighCardCount=0,t.arrHighCard=[],t.nHighCardScore=0,t.uEnabledAction=0,t}return i(n,e),n.stCardGroup=new a.ICom.ClassTb(t),n.nHighCardCount=a.ICom.bit.int,n.arrHighCard=new a.ICom.ArrayNumber(a.ICom.Bytes,13),n.nHighCardScore=a.ICom.bit.int,n.uEnabledAction=a.ICom.bit.uint,n}(a.ICom.BaseMessage);e.CMD_GAME_S_GROUP_CARD_WITH_OWN_CARD_SUCCESS=d;var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.szFailReason="",t}return i(t,e),t.szFailReason=new a.ICom.String(128),t}(a.ICom.BaseMessage);e.CMD_GAME_S_GROUP_CARD_WITH_OWN_CARD_FAILURE=f;var g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nCardCount=0,t.arrCardList=[],t}return i(t,e),t.nCardCount=a.ICom.bit.int,t.arrCardList=new a.ICom.ArrayNumber(a.ICom.Bytes,13),t}(a.ICom.BaseMessage);e.CMD_GAME_C_GROUP_CARD_WITH_OUT_CARD=g;var m=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.wActionPlayer=0,t.byGetCard=0,t.nDropCardGroupIndex=0,t.nGroupCardCount=0,t.byGroupKind=0,t.arrGroupCard=[],t.nPlayerLeftCardCount=0,t.nHighCardCount=0,t.arrHighCard=[],t.nHighCardScore=0,t.uEnabledAction=0,t}return i(n,e),n.wActionPlayer=a.ICom.bit.ushort,n.byGetCard=a.ICom.bit.byte,n.nDropCardGroupIndex=a.ICom.bit.int,n.nGroupCardCount=a.ICom.bit.int,n.byGroupKind=a.ICom.bit.byte,n.arrGroupCard=new a.ICom.ArrayNumber(a.ICom.Bytes,13),n.nPlayerLeftCardCount=a.ICom.bit.int,n.stCardGroup=new a.ICom.ClassTb(t),n.nHighCardCount=a.ICom.bit.int,n.arrHighCard=new a.ICom.ArrayNumber(a.ICom.Bytes,13),n.nHighCardScore=a.ICom.bit.int,n.uEnabledAction=a.ICom.bit.uint,n}(a.ICom.BaseMessage);e.CMD_GAME_S_GROUP_CARD_WITH_OUT_CARD_SUCCESS=m;var y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.szFailReason="",t}return i(t,e),t.szFailReason=new a.ICom.String(128),t}(a.ICom.BaseMessage);e.CMD_GAME_S_GROUP_CARD_WITH_OUT_CARD_FAILURE=y;var _=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wBePutCardPlayer=0,t.nCardCount=0,t.arrCardList=[],t.nDropCardGroupIndex=0,t}return i(t,e),t.wBePutCardPlayer=a.ICom.bit.ushort,t.nCardCount=a.ICom.bit.int,t.arrCardList=new a.ICom.ArrayNumber(a.ICom.Bytes,13),t.nDropCardGroupIndex=a.ICom.bit.int,t}(a.ICom.BaseMessage);e.CMD_GAME_C_PUT_CARD_2_GROUP_CARD=_;var v=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.wActivePlayer=0,t.wPassivePlayer=0,t.nPutCardCount=0,t.arrPutCardList=[],t.nDropCardGroupIndex=0,t.nActivePlayeerLeftCardCount=0,t.nDropCardGroupCardCount=0,t.byDropCardGroupType=0,t.arrCardList=[],t.nHighCardCount=0,t.arrHighCard=[],t.nHighCardScore=0,t.uEnabledAction=0,t}return i(n,e),n.wActivePlayer=a.ICom.bit.ushort,n.wPassivePlayer=a.ICom.bit.ushort,n.nPutCardCount=a.ICom.bit.int,n.arrPutCardList=new a.ICom.ArrayNumber(a.ICom.Bytes,13),n.nDropCardGroupIndex=a.ICom.bit.int,n.nActivePlayeerLeftCardCount=a.ICom.bit.int,n.nDropCardGroupCardCount=a.ICom.bit.int,n.byDropCardGroupType=a.ICom.bit.byte,n.arrCardList=new a.ICom.ArrayNumber(a.ICom.Bytes,13),n.stCardGroup=new a.ICom.ClassTb(t),n.nHighCardCount=a.ICom.bit.int,n.arrHighCard=new a.ICom.ArrayNumber(a.ICom.Bytes,13),n.nHighCardScore=a.ICom.bit.int,n.uEnabledAction=a.ICom.bit.uint,n}(a.ICom.BaseMessage);e.CMD_GAME_S_PUT_CARD_2_GROUP_CARD_SUCCESS=v;var b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.szFailReason="",t}return i(t,e),t.szFailReason=new a.ICom.String(128),t}(a.ICom.BaseMessage);e.CMD_GAME_S_PUT_CARD_2_GROUP_CARD_FAILURE=b;var S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.arrCardList=[],t}return i(t,e),t.nCardCount=a.ICom.bit.int,t.arrCardList=new a.ICom.ArrayNumber(a.ICom.Bytes,13),t}(a.ICom.BaseMessage);e.CMD_GAME_C_DROP_CARD=S;var C=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.wDropCardPlayer=0,t.nDropIndex=0,t.nCardCount=0,t.byGroupKind=0,t.arrCardList=[],t.nLeftCardCount=0,t.nHighCardCount=0,t.arrHighCard=[],t.nHighCardScore=0,t.uEnabledAction=0,t}return i(n,e),n.wDropCardPlayer=a.ICom.bit.ushort,n.nDropIndex=a.ICom.bit.int,n.nCardCount=a.ICom.bit.int,n.byGroupKind=a.ICom.bit.byte,n.arrCardList=new a.ICom.ArrayNumber(a.ICom.Bytes,13),n.nLeftCardCount=a.ICom.bit.int,n.stCardGroup=new a.ICom.ClassTb(t),n.nHighCardCount=a.ICom.bit.int,n.arrHighCard=new a.ICom.ArrayNumber(a.ICom.Bytes,13),n.nHighCardScore=a.ICom.bit.int,n.uEnabledAction=a.ICom.bit.uint,n}(a.ICom.BaseMessage);e.CMD_GAME_S_DROP_CARD_SUCCESS=C;var I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.szFailReason="",t}return i(t,e),t.szFailReason=new a.ICom.String(128),t}(a.ICom.BaseMessage);e.CMD_GAME_S_DROP_CARD_FAILURE=I;var R=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wSkipChairID=0,t.wFightPlayer=0,t.arrFightResponse=[],t}return i(t,e),t.wSkipChairID=a.ICom.bit.ushort,t.wFightPlayer=a.ICom.bit.ushort,t.arrFightResponse=new a.ICom.ArrayNumber(a.ICom.Bytes,3),t}(a.ICom.BaseMessage);e.CMD_GAME_S_FIGHT_SUCCESS=R;var L=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.szFailReason="",t}return i(t,e),t.szFailReason=new a.ICom.String(128),t}(a.ICom.BaseMessage);e.CMD_GAME_S_FIGHT_FAILURE=L;var P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wFoldPlayer=0,t}return i(t,e),t.wFoldPlayer=a.ICom.bit.ushort,t}(a.ICom.BaseMessage);e.CMD_GAME_S_FOLD_SUCCESS=P;var M=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.szFailReason="",t}return i(t,e),t.szFailReason=new a.ICom.String(128),t}(a.ICom.BaseMessage);e.CMD_GAME_S_FOLD_FAILURE=M;var T=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wChallenger=0,t}return i(t,e),t.wChallenger=a.ICom.bit.ushort,t}(a.ICom.BaseMessage);e.CMD_GAME_S_CHALLENGE_SUCCESS=T;var E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.szFailReason="",t}return i(t,e),t.szFailReason=new a.ICom.String(128),t}(a.ICom.BaseMessage);e.CMD_GAME_S_CHALLENGE_FAILURE=E;var A=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.wSkipChairID=0,t.byEndReason=0,t.wWinner=0,t.dHitpot=0,t.nRoundNo=0,t.nHighCardCount=[],t.arrHighCardList=[],t.m_arrHighCardScore=[],t.m_arrCardGroup=[],t.m_arrDropCardGroup=[],t.m_arrTotalWin=[],t.m_arrNormalWin=[],t.m_arrTongitsWin=[],t.m_arrChallengeWin=[],t.m_arrSecretMeldWin=[],t.m_arrBonusCardWin=[],t.m_arrBurnedWin=[],t.m_arrHitpotWin=[],t.m_arrPlayerScore=[],t}return i(n,e),n.wSkipChairID=a.ICom.bit.ushort,n.byEndReason=a.ICom.bit.byte,n.wWinner=a.ICom.bit.ushort,n.dHitpot=a.ICom.bit.double,n.nRoundNo=a.ICom.bit.int,n.nHighCardCount=new a.ICom.ArrayNumber(a.ICom.Int32,3),n.arrHighCardList=new a.ICom.ArrayNumber(a.ICom.Bytes,39),n.m_arrHighCardScore=new a.ICom.ArrayNumber(a.ICom.Int32,3),n.m_arrCardGroup=new a.ICom.ArrayTable(t,3),n.m_arrDropCardGroup=new a.ICom.ArrayTable(t,3),n.m_arrTotalWin=new a.ICom.ArrayNumber(a.ICom.Float64,3),n.m_arrNormalWin=new a.ICom.ArrayNumber(a.ICom.Float64,3),n.m_arrTongitsWin=new a.ICom.ArrayNumber(a.ICom.Float64,3),n.m_arrChallengeWin=new a.ICom.ArrayNumber(a.ICom.Float64,3),n.m_arrSecretMeldWin=new a.ICom.ArrayNumber(a.ICom.Float64,3),n.m_arrBonusCardWin=new a.ICom.ArrayNumber(a.ICom.Float64,3),n.m_arrBurnedWin=new a.ICom.ArrayNumber(a.ICom.Float64,3),n.m_arrHitpotWin=new a.ICom.ArrayNumber(a.ICom.Float64,3),n.m_arrPlayerScore=new a.ICom.ArrayNumber(a.ICom.Float64,3),n}(a.ICom.BaseMessage);e.CMD_S_GameEnd=A;var w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_byNotifyType=0,t.m_wTrusteePlayer=0,t}return i(t,e),t.m_byNotifyType=a.ICom.bit.byte,t.m_wTrusteePlayer=a.ICom.bit.ushort,t}(a.ICom.BaseMessage);e.CMD_GAME_S_NOTIFY_PLAY_TRUSTEE=w;var O=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nTick=0,t}return i(t,e),t.nTick=a.ICom.bit.int,t}(a.ICom.BaseMessage);e.CMD_GM_StartCounter=O})(n.GameNetProto10100||(n.GameNetProto10100={})),cc._RF.pop()},{"../../halls/halllib/net/ICom":"ICom"}],GameNetProto30200:[function(e,t,n){"use strict";cc._RF.push(t,"7e7a6A1pjtDLpy/LhKkn88W","GameNetProto30200");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.GameNetProto30200=void 0;var a=e("../../halls/halllib/net/ICom");(function(e){(function(e){e[e.GM_SUB_GAMESTATION=1001]="GM_SUB_GAMESTATION",e[e.GM_SUB_STATE_NOTE=1002]="GM_SUB_STATE_NOTE",e[e.GM_SUB_PLAYER_NOTE=1003]="GM_SUB_PLAYER_NOTE",e[e.GM_SUB_CONTINUE_PRE_NOTE=1004]="GM_SUB_CONTINUE_PRE_NOTE",e[e.GM_SUB_CANCELCURNOTE=1005]="GM_SUB_CANCELCURNOTE",e[e.GM_SUB_CHANGE_NOTE=1006]="GM_SUB_CHANGE_NOTE",e[e.GM_SUB_STATE_OPENPRISE=1007]="GM_SUB_STATE_OPENPRISE",e[e.GM_SUB_STATE_SETTLEMENT=1008]="GM_SUB_STATE_SETTLEMENT",e[e.GM_SUB_STATION_STATISTICS=1009]="GM_SUB_STATION_STATISTICS",e[e.GM_SUB_USERS_BET=1010]="GM_SUB_USERS_BET",e[e.GM_SUB_USER_NOTEINFO=1011]="GM_SUB_USER_NOTEINFO",e[e.SUB_GM_POOLDATA_FRESH=2]="SUB_GM_POOLDATA_FRESH",e[e.SUB_GM_POOL_DISTRIBUTE=3]="SUB_GM_POOL_DISTRIBUTE",e[e.SUB_GM_POOL_CONFIG=4]="SUB_GM_POOL_CONFIG",e[e.SUB_GM_POOL_RECORD=5]="SUB_GM_POOL_RECORD",e[e.SUB_GM_GAME_CONFIG=7]="SUB_GM_GAME_CONFIG"})(e.NOTIFY||(e.NOTIFY={})),function(e){e[e.STATE_NONE=0]="STATE_NONE",e[e.STATE_NOTE=1]="STATE_NOTE",e[e.STATE_OPENPRIZE=2]="STATE_OPENPRIZE",e[e.STATE_ACCONT=3]="STATE_ACCONT"}(e.GameState||(e.GameState={}));var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.animaltype=0,t.colortype=0,t.bettype=0,t.special=0,t}return i(t,e),t.animaltype=a.ICom.bit.byte,t.colortype=a.ICom.bit.byte,t.bettype=a.ICom.bit.byte,t.special=a.ICom.bit.byte,t}(a.ICom.BaseMessage);e.RecordIterm=t;var n=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bStation=0,t.nLeave=0,t.Base=[],t.Chips=[],t.byColor=[],t.byAnimal=[],t}return i(t,e),t.bStation=a.ICom.bit.byte,t.nLeave=a.ICom.bit.int,t.Base=new a.ICom.ArrayNumber(a.ICom.Bytes,15),t.Chips=new a.ICom.ArrayNumber(a.ICom.Int32,6),t.byColor=new a.ICom.ArrayNumber(a.ICom.Bytes,24),t.byAnimal=new a.ICom.ArrayNumber(a.ICom.Bytes,24),t}(a.ICom.BaseMessage);e.CMD_GM_State_Note=n;var o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nDeskStation=0,t.nBetIndex=0,t.nMoney=0,t}return i(t,e),t.nDeskStation=a.ICom.bit.int,t.nBetIndex=a.ICom.bit.int,t.nMoney=a.ICom.bit.int,t}(a.ICom.BaseMessage);e.CMD_GM_PlayerNote=o;var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nDeskStation=0,t.MyBet=[],t}return i(t,e),t.nDeskStation=a.ICom.bit.int,t.MyBet=new a.ICom.ArrayNumber(a.ICom.Int64,15),t}(a.ICom.BaseMessage);e.CMD_GM_PlayerContinuePreNote=r;var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nResult=0,t.nType=0,t.nDeskStation=0,t.nUserCurMoney=0,t.nUserID=0,t.MyBet=[],t.TotalBet=[],t}return i(t,e),t.nResult=a.ICom.bit.int,t.nType=a.ICom.bit.int,t.nDeskStation=a.ICom.bit.int,t.nUserCurMoney=a.ICom.bit.long,t.nUserID=a.ICom.bit.int,t.MyBet=new a.ICom.ArrayNumber(a.ICom.Int64,15),t.TotalBet=new a.ICom.ArrayNumber(a.ICom.Int64,15),t}(a.ICom.BaseMessage);e.CMD_GM_PlayerNoteResult=s;var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bStation=0,t.iLeaveTime=0,t.chZXHIndex=0,t.chPriseIndex=0,t.chAnimalIndex=0,t.chColorIndex=0,t.nChunYuBase=0,t.nAnimalLight=0,t.nColorLight=0,t}return i(t,e),t.bStation=a.ICom.bit.byte,t.iLeaveTime=a.ICom.bit.int,t.chZXHIndex=a.ICom.bit.byte,t.chPriseIndex=a.ICom.bit.byte,t.chAnimalIndex=a.ICom.bit.byte,t.chColorIndex=a.ICom.bit.byte,t.nChunYuBase=a.ICom.bit.int,t.nAnimalLight=a.ICom.bit.int,t.nColorLight=a.ICom.bit.int,t}(a.ICom.BaseMessage);e.CMD_GM_State_Open=l;var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bStation=0,t.iLeaveTime=0,t.chZXHIndex=0,t.chPriseIndex=0,t.chAnimalIndex=0,t.chColorIndex=0,t.nChunYuBase=0,t.nAnimalLight=0,t.nColorLight=0,t.nDeskStation=0,t.nPoint=0,t.nUserMoney=0,t.nUserWinMoney=0,t}return i(t,e),t.bStation=a.ICom.bit.byte,t.iLeaveTime=a.ICom.bit.int,t.chZXHIndex=a.ICom.bit.byte,t.chPriseIndex=a.ICom.bit.byte,t.chAnimalIndex=a.ICom.bit.byte,t.chColorIndex=a.ICom.bit.byte,t.nChunYuBase=a.ICom.bit.int,t.nAnimalLight=a.ICom.bit.int,t.nColorLight=a.ICom.bit.int,t.nDeskStation=a.ICom.bit.int,t.nPoint=a.ICom.bit.int,t.nUserMoney=a.ICom.bit.long,t.nUserWinMoney=a.ICom.bit.long,t}(a.ICom.BaseMessage);e.CMD_GM_Settlement=c;var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_PrizesCount=[],t}return i(t,e),t.m_PrizesCount=new a.ICom.ArrayNumber(a.ICom.Int32,12),t.m_CurGameCount=a.ICom.bit.int,t}(a.ICom.BaseMessage);e.CMD_GM_Station_Statistics=u;var p=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.bStation=0,t.iVersion=0,t.iVersion2=0,t.iBeginTime=0,t.iLeaveTime=0,t.Base=[],t.byColor=[],t.byAnimal=[],t.Chips=[],t.byRecordCount=0,t.stRecord=[],t}return i(n,e),n.bStation=a.ICom.bit.byte,n.iVersion=a.ICom.bit.byte,n.iVersion2=a.ICom.bit.byte,n.iBeginTime=a.ICom.bit.int,n.iLeaveTime=a.ICom.bit.int,n.Base=new a.ICom.ArrayNumber(a.ICom.Bytes,15),n.byColor=new a.ICom.ArrayNumber(a.ICom.Bytes,24),n.byAnimal=new a.ICom.ArrayNumber(a.ICom.Bytes,24),n.Chips=new a.ICom.ArrayNumber(a.ICom.Int32,6),n.byRecordCount=a.ICom.bit.byte,n.stRecord=new a.ICom.ArrayTable(t,20),n}(a.ICom.BaseMessage);e.CMD_GM_Station_Base=p;var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nResult=0,t.nType=0,t.nDeskStation=0,t.nUserCurMoney=0,t.nUserID=0,t.MyBet=[],t.TotalBet=[],t}return i(t,e),t.nResult=a.ICom.bit.int,t.nType=a.ICom.bit.int,t.nDeskStation=a.ICom.bit.int,t.nUserCurMoney=a.ICom.bit.long,t.nUserID=a.ICom.bit.int,t.MyBet=new a.ICom.ArrayNumber(a.ICom.Int64,15),t.TotalBet=new a.ICom.ArrayNumber(a.ICom.Int64,15),t}(a.ICom.BaseMessage);e.CMD_GM_Station_Note=h;var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bStation=0,t.iLeaveTime=0,t.chZXHIndex=0,t.chPriseIndex=0,t.chAnimalIndex=0,t.chColorIndex=0,t.nChunYuBase=0,t.nAnimalLight=0,t.nColorLight=0,t}return i(t,e),t.bStation=a.ICom.bit.byte,t.iLeaveTime=a.ICom.bit.int,t.chZXHIndex=a.ICom.bit.byte,t.chPriseIndex=a.ICom.bit.byte,t.chAnimalIndex=a.ICom.bit.byte,t.chColorIndex=a.ICom.bit.byte,t.nChunYuBase=a.ICom.bit.int,t.nAnimalLight=a.ICom.bit.int,t.nColorLight=a.ICom.bit.int,t}(a.ICom.BaseMessage);e.CMD_GM_Station_OpenPrize=d;var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bStation=0,t.iLeaveTime=0,t.chZXHIndex=0,t.chPriseIndex=0,t.chAnimalIndex=0,t.chColorIndex=0,t.nChunYuBase=0,t.nAnimalLight=0,t.nColorLight=0,t.nDeskStation=0,t.nPoint=0,t.nUserMoney=0,t.nUserWinMoney=0,t}return i(t,e),t.bStation=a.ICom.bit.byte,t.iLeaveTime=a.ICom.bit.int,t.chZXHIndex=a.ICom.bit.byte,t.chPriseIndex=a.ICom.bit.byte,t.chAnimalIndex=a.ICom.bit.byte,t.chColorIndex=a.ICom.bit.byte,t.nChunYuBase=a.ICom.bit.int,t.nAnimalLight=a.ICom.bit.int,t.nColorLight=a.ICom.bit.int,t.nDeskStation=a.ICom.bit.int,t.nPoint=a.ICom.bit.int,t.nUserMoney=a.ICom.bit.long,t.nUserWinMoney=a.ICom.bit.long,t}(a.ICom.BaseMessage);e.CMD_GM_Station_Account=f})(n.GameNetProto30200||(n.GameNetProto30200={})),cc._RF.pop()},{"../../halls/halllib/net/ICom":"ICom"}],GameNetProto30300:[function(e,t,n){"use strict";cc._RF.push(t,"b759dc27+pO/oFJXd/vPYU5","GameNetProto30300");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.GameNetProto30300=void 0;var a=e("../../halls/halllib/net/ICom");(function(e){(function(e){e[e.GM_SUB_GAMESTATION=1001]="GM_SUB_GAMESTATION",e[e.GM_SUB_STATEUPDATE=1002]="GM_SUB_STATEUPDATE",e[e.GM_SUB_NOTE=1003]="GM_SUB_NOTE",e[e.GM_SUB_KEYNOTE=1004]="GM_SUB_KEYNOTE",e[e.GM_SUB_CONTINUEPRENOTE=1005]="GM_SUB_CONTINUEPRENOTE",e[e.GM_SUB_CANCELCURNOTE=1006]="GM_SUB_CANCELCURNOTE",e[e.GM_SUB_PLAYER_NOTEINFO=1007]="GM_SUB_PLAYER_NOTEINFO",e[e.GM_SUB_SETTLEMENT=1008]="GM_SUB_SETTLEMENT",e[e.GM_SUB_STATISTICS=1009]="GM_SUB_STATISTICS",e[e.GM_SUB_USERNOTEINFO=1010]="GM_SUB_USERNOTEINFO",e[e.SUB_GM_POOLDATA_FRESH=2]="SUB_GM_POOLDATA_FRESH",e[e.SUB_GM_POOL_DISTRIBUTE=3]="SUB_GM_POOL_DISTRIBUTE",e[e.SUB_GM_POOL_CONFIG=4]="SUB_GM_POOL_CONFIG",e[e.SUB_GM_POOL_RECORD=5]="SUB_GM_POOL_RECORD",e[e.SUB_GM_GAME_CONFIG=7]="SUB_GM_GAME_CONFIG"})(e.NOTIFY||(e.NOTIFY={})),function(e){e[e.STATE_NONE=0]="STATE_NONE",e[e.STATE_NOTE=1]="STATE_NOTE",e[e.STATE_OPENPRIZE=2]="STATE_OPENPRIZE",e[e.STATE_ACCONT=3]="STATE_ACCONT",e[e.STATE_WAIT=4]="STATE_WAIT",e[e.STATE_MAX=5]="STATE_MAX"}(e.GameState||(e.GameState={}));var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iState=0,t.Tick=0,t}return i(t,e),t.iState=a.ICom.bit.int,t.Tick=a.ICom.bit.int,t}(a.ICom.BaseMessage);e.CMD_GM_StateUpdate=t;var n=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.BasePoint=[],t.RecordData=[],t.mCurRecord=0,t.mControlPrize=0,t.mNoteLimit=0,t.mHandselData=[],t.mHandselCount=0,t.mLastHandsel=0,t}return i(t,e),t.BasePoint=new a.ICom.ArrayNumber(a.ICom.Bytes,12),t.RecordData=new a.ICom.ArrayNumber(a.ICom.Bytes,18),t.mCurRecord=a.ICom.bit.int,t.mControlPrize=a.ICom.bit.byte,t.mNoteLimit=a.ICom.bit.long,t.mHandselData=new a.ICom.ArrayNumber(a.ICom.Int64,20),t.mHandselCount=a.ICom.bit.int,t.mLastHandsel=a.ICom.bit.long,t}(a.ICom.BaseMessage);e.CMD_GM_StateUpdate_Note=n;var o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.PrizeIndex=[],t.StartIndex=0,t.mCaiJinPoint=0,t}return i(t,e),t.PrizeIndex=new a.ICom.ArrayNumber(a.ICom.Int32,2),t.StartIndex=a.ICom.bit.int,t.mCaiJinPoint=a.ICom.bit.int,t}(a.ICom.BaseMessage);e.CMD_GM_StateUpdate_OpenPrize=o;var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.WinLoseMoney=0,t}return i(t,e),t.WinLoseMoney=a.ICom.bit.long,t}(a.ICom.BaseMessage);e.CMD_GM_StateUpdate_Settlement=r;var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iCanSelectNotes=[],t.iNotePoint=[],t.iWinLose=0,t.bStation=0,t.iVersion=0,t.iVersion2=0,t.bDeskStation=0,t.iLeftTick=0,t.iTick=0,t}return i(t,e),t.iCanSelectNotes=new a.ICom.ArrayNumber(a.ICom.Int32,6),t.iNotePoint=new a.ICom.ArrayNumber(a.ICom.Bytes,12),t.iWinLose=a.ICom.bit.long,t.bStation=a.ICom.bit.uint,t.iVersion=a.ICom.bit.byte,t.iVersion2=a.ICom.bit.byte,t.bDeskStation=a.ICom.bit.byte,t.iLeftTick=a.ICom.bit.int,t.iTick=a.ICom.bit.int,t}(a.ICom.BaseMessage);e.CMD_GM_Station_Head=s;var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.SelfAreaNotes=[],t.SelfTotalNotes=0,t.AreaNotes=[],t.TotalNotes=0,t.PreNote=[],t.PreTotalNote=0,t.PrePrizeIndex=0,t.mRecordData=[],t.mCurRecordIndex=0,t.mConrolPrize=0,t.mNoteLimit=0,t.mHandselData=[],t.mHandselCount=0,t.mLastHandsel=0,t}return i(t,e),t.SelfAreaNotes=new a.ICom.ArrayNumber(a.ICom.Int32,12),t.SelfTotalNotes=a.ICom.bit.int,t.AreaNotes=new a.ICom.ArrayNumber(a.ICom.Int32,12),t.TotalNotes=a.ICom.bit.int,t.PreNote=new a.ICom.ArrayNumber(a.ICom.Int32,12),t.PreTotalNote=a.ICom.bit.int,t.PrePrizeIndex=a.ICom.bit.int,t.mRecordData=new a.ICom.ArrayNumber(a.ICom.Bytes,18),t.mCurRecordIndex=a.ICom.bit.int,t.mConrolPrize=a.ICom.bit.byte,t.mNoteLimit=a.ICom.bit.long,t.mHandselData=new a.ICom.ArrayNumber(a.ICom.Int64,20),t.mHandselCount=a.ICom.bit.int,t.mLastHandsel=a.ICom.bit.long,t}(a.ICom.BaseMessage);e.CMD_GM_Station_Note=l;var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.SelfAreaNotes=[],t.SelfTotalNotes=0,t.AreaNotes=[],t.TotalNotes=0,t.PreNote=[],t.PreTotalNote=0,t.PrePrizeIndex=0,t.mRecordData=[],t.mCurRecordIndex=0,t.mConrolPrize=0,t.mNoteLimit=0,t.mHandselData=[],t.mHandselCount=0,t.mLastHandsel=0,t.mSpecialPrize=0,t}return i(t,e),t.SelfAreaNotes=new a.ICom.ArrayNumber(a.ICom.Int32,12),t.SelfTotalNotes=a.ICom.bit.int,t.AreaNotes=new a.ICom.ArrayNumber(a.ICom.Int32,12),t.TotalNotes=a.ICom.bit.int,t.PreNote=new a.ICom.ArrayNumber(a.ICom.Int32,12),t.PreTotalNote=a.ICom.bit.int,t.PrePrizeIndex=a.ICom.bit.int,t.mRecordData=new a.ICom.ArrayNumber(a.ICom.Bytes,18),t.mCurRecordIndex=a.ICom.bit.int,t.mConrolPrize=a.ICom.bit.byte,t.mNoteLimit=a.ICom.bit.long,t.mHandselData=new a.ICom.ArrayNumber(a.ICom.Int64,20),t.mHandselCount=a.ICom.bit.int,t.mLastHandsel=a.ICom.bit.long,t.mSpecialPrize=a.ICom.bit.byte,t}(a.ICom.BaseMessage);e.CMD_GM_Station_OpenPrize=c;var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.SelfAreaNotes=[],t.SelfTotalNotes=0,t.AreaNotes=[],t.TotalNotes=0,t.PreNote=[],t.PreTotalNote=0,t.PrePrizeIndex=0,t.mRecordData=[],t.mCurRecordIndex=0,t.mConrolPrize=0,t.mNoteLimit=0,t.mHandselData=[],t.mHandselCount=0,t.mLastHandsel=0,t.mSpecialPrize=0,t}return i(t,e),t.SelfAreaNotes=new a.ICom.ArrayNumber(a.ICom.Int32,12),t.SelfTotalNotes=a.ICom.bit.int,t.AreaNotes=new a.ICom.ArrayNumber(a.ICom.Int32,12),t.TotalNotes=a.ICom.bit.int,t.PreNote=new a.ICom.ArrayNumber(a.ICom.Int32,12),t.PreTotalNote=a.ICom.bit.int,t.PrePrizeIndex=a.ICom.bit.int,t.mRecordData=new a.ICom.ArrayNumber(a.ICom.Bytes,18),t.mCurRecordIndex=a.ICom.bit.int,t.mConrolPrize=a.ICom.bit.byte,t.mNoteLimit=a.ICom.bit.long,t.mHandselData=new a.ICom.ArrayNumber(a.ICom.Int64,20),t.mHandselCount=a.ICom.bit.int,t.mLastHandsel=a.ICom.bit.long,t.mSpecialPrize=a.ICom.bit.byte,t}(a.ICom.BaseMessage);e.CMD_GM_Station_Settlement=u;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mRecordData=[],t.mCurRecordIndex=0,t}return i(t,e),t.mRecordData=new a.ICom.ArrayNumber(a.ICom.Bytes,18),t.mCurRecordIndex=a.ICom.bit.int,t}(a.ICom.BaseMessage);e.CMD_GM_Station_Wait=p;var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nDeskStation=0,t.AreaIndex=0,t.NoteKind=0,t.NoteMoney=0,t}return i(t,e),t.nDeskStation=a.ICom.bit.int,t.AreaIndex=a.ICom.bit.int,t.NoteKind=a.ICom.bit.int,t.NoteMoney=a.ICom.bit.int,t}(a.ICom.BaseMessage);e.CMD_GM_NoteData=h;var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.NoteMoney=[],t.nDeskStation=0,t}return i(t,e),t.NoteMoney=new a.ICom.ArrayNumber(a.ICom.Int64,12),t.nDeskStation=a.ICom.bit.int,t}(a.ICom.BaseMessage);e.CMD_GM_CancelCurrentNote=d;var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nDeskStation=0,t.AreaNoteMoney=[],t.cbErrorMask=0,t}return i(t,e),t.nDeskStation=a.ICom.bit.int,t.AreaNoteMoney=new a.ICom.ArrayNumber(a.ICom.Int64,12),t.cbErrorMask=a.ICom.bit.byte,t}(a.ICom.BaseMessage);e.CMD_GM_ContinuePreNote=f;var g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nDeskStation=0,t.mPrize=0,t.WinLoseMoney=0,t}return i(t,e),t.nDeskStation=a.ICom.bit.int,t.mPrize=a.ICom.bit.int,t.WinLoseMoney=a.ICom.bit.int,t}(a.ICom.BaseMessage);e.SecondPrizeData=g;var m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mUserCount=0,t}return i(t,e),t.mUserCount=a.ICom.bit.int,t}(a.ICom.BaseMessage);e.CMD_GM_PlayerNoteInfoList=m;var y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mUserID=0,t.mDeskStation=0,t.mUserMoney=0,t.mWinMoney=0,t.mNote=[],t}return i(t,e),t.mUserID=a.ICom.bit.int,t.mDeskStation=a.ICom.bit.int,t.mUserMoney=a.ICom.bit.long,t.mWinMoney=a.ICom.bit.long,t.mNote=new a.ICom.ArrayNumber(a.ICom.Int64,12),t}(a.ICom.BaseMessage);e.CMD_GM_PlayerNoteInfo=y;var _=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.AreaNotes=[],t.TotalNotes=0,t.mPrizePro=[],t.mTotalGames=0,t}return i(t,e),t.AreaNotes=new a.ICom.ArrayNumber(a.ICom.Int32,12),t.TotalNotes=a.ICom.bit.int,t.mPrizePro=new a.ICom.ArrayNumber(a.ICom.Int32,12),t.mTotalGames=a.ICom.bit.int,t}(a.ICom.BaseMessage);e.GameStateDataStatistics=_;var v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iLimitVlue=0,t}return i(t,e),t.iLimitVlue=a.ICom.bit.long,t}(a.ICom.BaseMessage);e.SUB_GM_Limit=v})(n.GameNetProto30300||(n.GameNetProto30300={})),cc._RF.pop()},{"../../halls/halllib/net/ICom":"ICom"}],GameNetProto30700:[function(e,t,n){"use strict";cc._RF.push(t,"4f040PSyZRJJ6Mv+knzEkJz","GameNetProto30700");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.GameNetProto30700=void 0;var a=e("../../halls/halllib/net/ICom");(function(e){(function(e){e[e.GM_SUB_STATION=1001]="GM_SUB_STATION",e[e.GM_SUB_STATE_SWITCH=1002]="GM_SUB_STATE_SWITCH",e[e.GM_SUB_NOTE=1003]="GM_SUB_NOTE",e[e.GM_SUB_CONTINUE_NOTE=1004]="GM_SUB_CONTINUE_NOTE",e[e.GM_SUB_CANCEL_NOTE=1005]="GM_SUB_CANCEL_NOTE",e[e.GM_SUB_CANCEL_ALLNOTE=1006]="GM_SUB_CANCEL_ALLNOTE",e[e.GM_SUB_STATISTICS=1010]="GM_SUB_STATISTICS",e[e.GM_SUB_NT_LIST=1011]="GM_SUB_NT_LIST",e[e.GM_SUB_NT_INFO=1012]="GM_SUB_NT_INFO",e[e.GM_SUB_USERATTRI=1013]="GM_SUB_USERATTRI",e[e.GM_SUB_START_ACCOUNT=1015]="GM_SUB_START_ACCOUNT",e[e.SUB_GM_POOLDATA_FRESH=2]="SUB_GM_POOLDATA_FRESH",e[e.SUB_GM_POOL_DISTRIBUTE=3]="SUB_GM_POOL_DISTRIBUTE",e[e.SUB_GM_POOL_CONFIG=4]="SUB_GM_POOL_CONFIG",e[e.SUB_GM_POOL_RECORD=5]="SUB_GM_POOL_RECORD",e[e.SUB_GM_GAME_CONFIG=7]="SUB_GM_GAME_CONFIG"})(e.NOTIFY||(e.NOTIFY={})),function(e){e[e.STATE_NONE=0]="STATE_NONE",e[e.STATE_NOTE=1]="STATE_NOTE",e[e.STATE_OPENPRIZE=2]="STATE_OPENPRIZE",e[e.STATE_ACCONT=3]="STATE_ACCONT",e[e.STATE_WAIT=4]="STATE_WAIT",e[e.STATE_MAX=5]="STATE_MAX"}(e.GameState||(e.GameState={}));var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iState=0,t.Tick=0,t}return i(t,e),t.iState=a.ICom.bit.byte,t.Tick=a.ICom.bit.int,t}(a.ICom.BaseMessage);e.CMD_GM_StateUpdate=t;var n=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.BasePoint=[],t.iNtGames=0,t}return i(t,e),t.BasePoint=new a.ICom.ArrayNumber(a.ICom.Bytes,8),t.iNtGames=a.ICom.bit.int,t}(a.ICom.BaseMessage);e.CMD_GM_StateUpdate_Note=n;var o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Prize=0,t.PrizeIndex=0,t.RankingCount=0,t.RankingStation=[],t.RankingMoney=[],t.BankerWinMoney=0,t.WinLoseMoney=0,t.PrizeCounts=[],t.iCurGameCount=0,t}return i(t,e),t.Prize=a.ICom.bit.byte,t.PrizeIndex=a.ICom.bit.byte,t.RankingCount=a.ICom.bit.byte,t.RankingStation=new a.ICom.ArrayNumber(a.ICom.Bytes,5),t.RankingMoney=new a.ICom.ArrayNumber(a.ICom.Int64,5),t.BankerWinMoney=a.ICom.bit.long,t.WinLoseMoney=a.ICom.bit.long,t.PrizeCounts=new a.ICom.ArrayNumber(a.ICom.Bytes,8),t.iCurGameCount=a.ICom.bit.int,t}(a.ICom.BaseMessage);e.CMD_GM_StateUpdate_OpenPrize=o;var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bStation=0,t.iVersion=0,t.iVersion2=0,t.bDeskStation=0,t.iLeftTick=0,t.iTick=0,t.iNtLeastMoney=0,t.NtLeastGames=0,t.MaxNtGames=0,t.iNtStation=0,t.iNtCount=0,t}return i(t,e),t.bStation=a.ICom.bit.byte,t.iVersion=a.ICom.bit.byte,t.iVersion2=a.ICom.bit.byte,t.bDeskStation=a.ICom.bit.byte,t.iLeftTick=a.ICom.bit.int,t.iTick=a.ICom.bit.int,t.iNtLeastMoney=a.ICom.bit.long,t.NtLeastGames=a.ICom.bit.int,t.MaxNtGames=a.ICom.bit.int,t.iNtStation=a.ICom.bit.int,t.iNtCount=a.ICom.bit.int,t}(a.ICom.BaseMessage);e.CMD_GM_Station_Head=r;var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.SelfAreaNotes=[],t.SelfTotalNotes=0,t.Chip=[],t.Base=[],t.ResultList=[],t.ResultCount=0,t}return i(t,e),t.SelfAreaNotes=new a.ICom.ArrayNumber(a.ICom.Int64,8),t.SelfTotalNotes=a.ICom.bit.long,t.Chip=new a.ICom.ArrayNumber(a.ICom.Int32,6),t.Base=new a.ICom.ArrayNumber(a.ICom.Bytes,8),t.ResultList=new a.ICom.ArrayNumber(a.ICom.Bytes,20),t.ResultCount=a.ICom.bit.int,t}(a.ICom.BaseMessage);e.CMD_GM_Station_Note=s;var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.SelfAreaNotes=[],t.SelfTotalNotes=0,t.Chip=[],t.Base=[],t.ResultList=[],t.ResultCount=0,t.Prize=0,t.PrizeIndex=0,t.WinLoseMoney=0,t.mBankerWinMoney=0,t.RankingCount=0,t.RankingStation=[],t.RankingMoney=[],t}return i(t,e),t.SelfAreaNotes=new a.ICom.ArrayNumber(a.ICom.Int64,8),t.SelfTotalNotes=a.ICom.bit.long,t.Chip=new a.ICom.ArrayNumber(a.ICom.Int32,6),t.Base=new a.ICom.ArrayNumber(a.ICom.Bytes,8),t.ResultList=new a.ICom.ArrayNumber(a.ICom.Bytes,20),t.ResultCount=a.ICom.bit.int,t.Prize=a.ICom.bit.byte,t.PrizeIndex=a.ICom.bit.byte,t.WinLoseMoney=a.ICom.bit.long,t.mBankerWinMoney=a.ICom.bit.long,t.RankingCount=a.ICom.bit.byte,t.RankingStation=new a.ICom.ArrayNumber(a.ICom.Bytes,5),t.RankingMoney=new a.ICom.ArrayNumber(a.ICom.Int64,5),t}(a.ICom.BaseMessage);e.CMD_GM_Station_OpenPrize=l;var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Chip=[],t.Base=[],t.ResultList=[],t.ResultCount=0,t}return i(t,e),t.Chip=new a.ICom.ArrayNumber(a.ICom.Int32,6),t.Base=new a.ICom.ArrayNumber(a.ICom.Bytes,8),t.ResultList=new a.ICom.ArrayNumber(a.ICom.Bytes,20),t.ResultCount=a.ICom.bit.int,t}(a.ICom.BaseMessage);e.CMD_GM_Station_Wait=c;var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nDeskStation=0,t.AreaIndex=0,t.NoteKind=0,t.NoteMoney=0,t.State=0,t}return i(t,e),t.nDeskStation=a.ICom.bit.int,t.AreaIndex=a.ICom.bit.int,t.NoteKind=a.ICom.bit.int,t.NoteMoney=a.ICom.bit.long,t.State=a.ICom.bit.int,t}(a.ICom.BaseMessage);e.CMD_GM_NoteData=u;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nDeskStation=0,t.mState=0,t.AreaNoteMoney=[],t}return i(t,e),t.nDeskStation=a.ICom.bit.int,t.mState=a.ICom.bit.int,t.AreaNoteMoney=new a.ICom.ArrayNumber(a.ICom.Int64,8),t}(a.ICom.BaseMessage);e.CMD_GM_ContinuePreNote=p;var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nDeskStation=0,t.mIndex=0,t.mMoney=0,t}return i(t,e),t.nDeskStation=a.ICom.bit.byte,t.mIndex=a.ICom.bit.byte,t.NoteMoney=a.ICom.bit.long,t}(a.ICom.BaseMessage);e.CMD_GM_CancelCurNote=h;var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nDeskStation=0,t.mIndex=0,t.NoteMoney=[],t}return i(t,e),t.nDeskStation=a.ICom.bit.byte,t.mIndex=a.ICom.bit.byte,t.NoteMoney=new a.ICom.ArrayNumber(a.ICom.Int64,8),t}(a.ICom.BaseMessage);e.CMD_GM_CancelCurrentNote=d;var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.AreaNotes=[],t.TotalNotes=0,t}return i(t,e),t.AreaNotes=new a.ICom.ArrayNumber(a.ICom.Int64,8),t.TotalNotes=a.ICom.bit.long,t}(a.ICom.BaseMessage);e.CMD_GM_Station_PrizeCounter=f})(n.GameNetProto30700||(n.GameNetProto30700={})),cc._RF.pop()},{"../../halls/halllib/net/ICom":"ICom"}],GameNetProto31800:[function(e,t,n){"use strict";cc._RF.push(t,"5983aXqO7ZBh78B05u+Ngpp","GameNetProto31800");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.GameNetProto31800=void 0;var a=e("../../halls/halllib/net/ICom");(function(e){(function(e){e[e.ENUM_STATE_PLAY=1]="ENUM_STATE_PLAY",e[e.ENUM_STATE_BONUS=2]="ENUM_STATE_BONUS"})(e.MainGameState||(e.MainGameState={})),function(e){e[e.ANIMATION_KIND_CARROT=0]="ANIMATION_KIND_CARROT",e[e.ANIMATION_KIND_TOMATOES=1]="ANIMATION_KIND_TOMATOES",e[e.ANIMATION_KIND_ONION=2]="ANIMATION_KIND_ONION",e[e.ANIMATION_KIND_GRAPE=3]="ANIMATION_KIND_GRAPE",e[e.ANIMATION_KIND_STRAWBERRY=4]="ANIMATION_KIND_STRAWBERRY",e[e.ANIMATION_KIND_GREENAPPLE=5]="ANIMATION_KIND_GREENAPPLE",e[e.ANIMATION_KIND_CHERRY=6]="ANIMATION_KIND_CHERRY",e[e.ANIMATION_KIND_LEMON=7]="ANIMATION_KIND_LEMON",e[e.ANIMATION_KIND_PEACH=8]="ANIMATION_KIND_PEACH",e[e.ANIMATION_KIND_QUESTION=9]="ANIMATION_KIND_QUESTION",e[e.ANIMATION_KIND_ORANGE=10]="ANIMATION_KIND_ORANGE",e[e.ANIMATION_KIND_KIWIFRUIT=11]="ANIMATION_KIND_KIWIFRUIT",e[e.ANIMATION_KIND_MAX=12]="ANIMATION_KIND_MAX"}(e.Icon||(e.Icon={})),function(e){e[e.ASS_GM_GAME_STATION=1001]="ASS_GM_GAME_STATION",e[e.GM_SUB_GAMERESULT=1002]="GM_SUB_GAMERESULT",e[e.GM_SUB_BONUS=1003]="GM_SUB_BONUS",e[e.GM_SUB_BIGWIN=1021]="GM_SUB_BIGWIN",e[e.GM_SUB_ERROR=1004]="GM_SUB_ERROR",e[e.GM_SUB_C_PLAY=1010]="GM_SUB_C_PLAY",e[e.GM_SUB_C_BONUS=1011]="GM_SUB_C_BONUS",e[e.GM_SUB_C_HAND_EXITGAME=1012]="GM_SUB_C_HAND_EXITGAME"}(e.SUB_GM_GAME_NOTIFY||(e.SUB_GM_GAME_NOTIFY={}));var t=function(){function e(){}return e.CHIP_COUNT=10,e.POSITION_COUNT=15,e.GAMBLE_HISTORY_COUNT=30,e.ANIMATION_COUNT=11,e.OBJECT_COUNT=15,e.LINE_COUNT=9,e.ITEM_COL=5,e.ITEM_ROW=3,e}();e.MSG_CONFIG=t;var n=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bStation=0,t.iVersion=0,t.iVersion2=0,t.bDeskStation=0,t.NoteChip=[],t.NoteChipCount=0,t.byGameResult=[],t.nBetLineCount=0,t.nPlayerBet=0,t.nPlayerMoney=0,t}return i(t,e),t.bStation=a.ICom.bit.byte,t.iVersion=a.ICom.bit.byte,t.iVersion2=a.ICom.bit.byte,t.bDeskStation=a.ICom.bit.byte,t.NoteChip=new a.ICom.ArrayNumber(a.ICom.Int32,10),t.NoteChipCount=a.ICom.bit.int,t.byGameResult=new a.ICom.ArrayNumber(a.ICom.Bytes,15),t.nBetLineCount=a.ICom.bit.int,t.nPlayerBet=a.ICom.bit.int,t.nPlayerMoney=a.ICom.bit.long,t}(a.ICom.BaseMessage);e.CMD_GM_Station_Base=n;var o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bStation=0,t.iVersion=0,t.iVersion2=0,t.bDeskStation=0,t.NoteChip=[],t.NoteChipCount=0,t.byGameResult=[],t.nBetLineCount=0,t.nPlayerBet=0,t.nPlayerMoney=0,t.nWinScore=0,t.nFreeCount=0,t.nFreeMoney=0,t}return i(t,e),t.bStation=a.ICom.bit.byte,t.iVersion=a.ICom.bit.byte,t.iVersion2=a.ICom.bit.byte,t.bDeskStation=a.ICom.bit.byte,t.NoteChip=new a.ICom.ArrayNumber(a.ICom.Int32,10),t.NoteChipCount=a.ICom.bit.int,t.byGameResult=new a.ICom.ArrayNumber(a.ICom.Bytes,15),t.nBetLineCount=a.ICom.bit.int,t.nPlayerBet=a.ICom.bit.int,t.nPlayerMoney=a.ICom.bit.long,t.nWinScore=a.ICom.bit.long,t.nFreeCount=a.ICom.bit.int,t.nFreeMoney=a.ICom.bit.long,t}(a.ICom.BaseMessage);e.CMD_GM_Station_Play=o;var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bStation=0,t.iVersion=0,t.iVersion2=0,t.bDeskStation=0,t.NoteChip=[],t.NoteChipCount=0,t.byGameResult=[],t.nBetLineCount=0,t.nPlayerBet=0,t.nPlayerMoney=0,t.nPlayerBonusScore=0,t.nPreBonusWinMoney=0,t.nCurBonusCount=0,t.nBonusPoint=[],t.nWinScore=0,t.nFreeCount=0,t.nFreeMoney=0,t}return i(t,e),t.bStation=a.ICom.bit.byte,t.iVersion=a.ICom.bit.byte,t.iVersion2=a.ICom.bit.byte,t.bDeskStation=a.ICom.bit.byte,t.NoteChip=new a.ICom.ArrayNumber(a.ICom.Int32,10),t.NoteChipCount=a.ICom.bit.int,t.byGameResult=new a.ICom.ArrayNumber(a.ICom.Bytes,15),t.nBetLineCount=a.ICom.bit.int,t.nPlayerBet=a.ICom.bit.int,t.nPlayerMoney=a.ICom.bit.long,t.nPlayerBonusScore=a.ICom.bit.long,t.nPreBonusWinMoney=a.ICom.bit.long,t.nCurBonusCount=a.ICom.bit.int,t.nBonusPoint=new a.ICom.ArrayNumber(a.ICom.Int32,20),t.nWinScore=a.ICom.bit.long,t.nFreeCount=a.ICom.bit.int,t.nFreeMoney=a.ICom.bit.long,t}(a.ICom.BaseMessage);e.CMD_GM_Station_Bonus=r;var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nDeskStation=0,t.nPlayerMoney=0,t.nTotalWinScore=0,t.iFreeCount=0,t.iFreeWinMoney=0,t.nLineWinScore=[],t.byGameResult=[],t.byWinLine=[],t.byLineData=[],t.byPrizeIndex=[],t.byPrizePoint=[],t.cbFree=0,t.cbBonus=0,t.cbQuestionMarkCount=0,t.cbToIconIndex=0,t}return i(t,e),t.nDeskStation=a.ICom.bit.int,t.nPlayerMoney=a.ICom.bit.long,t.nTotalWinScore=a.ICom.bit.long,t.iFreeCount=a.ICom.bit.int,t.iFreeWinMoney=a.ICom.bit.long,t.nLineWinScore=new a.ICom.ArrayNumber(a.ICom.Int32,9),t.byGameResult=new a.ICom.ArrayNumber(a.ICom.Bytes,15),t.byWinLine=new a.ICom.ArrayNumber(a.ICom.Bytes,9),t.byLineData=new a.ICom.ArrayNumber(a.ICom.Bytes,90),t.byPrizeIndex=new a.ICom.ArrayNumber(a.ICom.Bytes,9),t.byPrizePoint=new a.ICom.ArrayNumber(a.ICom.Bytes,9),t.cbFree=a.ICom.bit.byte,t.cbBonus=a.ICom.bit.byte,t.cbQuestionMarkCount=a.ICom.bit.byte,t.cbToIconIndex=a.ICom.bit.byte,t}(a.ICom.BaseMessage);e.CMD_GM_PlayRollResult=s;var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nDeskStation=0,t.nWinMoney=0,t.nBonusCount=0,t.nBonusPoint=[],t.nIndex=0,t}return i(t,e),t.nDeskStation=a.ICom.bit.int,t.nWinMoney=a.ICom.bit.long,t.nBonusCount=a.ICom.bit.int,t.nBonusPoint=new a.ICom.ArrayNumber(a.ICom.Int32,5),t.nIndex=a.ICom.bit.byte,t}(a.ICom.BaseMessage);e.CMD_GM_Bonus=l;var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.uUserId=0,t.iPlayerMoney=0,t.iWinMoney=0,t.cbBigPrize=0,t}return i(t,e),t.uUserId=a.ICom.bit.int,t.iPlayerMoney=a.ICom.bit.long,t.iWinMoney=a.ICom.bit.long,t.cbBigPrize=a.ICom.bit.byte,t}(a.ICom.BaseMessage);e.CMD_GM_BigWin_Board=c;var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nDeskStation=0,t.nLineCount=0,t.nPlayerBet=0,t}return i(t,e),t.nDeskStation=a.ICom.bit.int,t.nLineCount=a.ICom.bit.int,t.nPlayerBet=a.ICom.bit.int,t}(a.ICom.BaseMessage);e.CMD_GM_PlayGame=u;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nDeskStation=0,t.nSelectIndex=0,t}return i(t,e),t.nDeskStation=a.ICom.bit.int,t.nSelectIndex=a.ICom.bit.byte,t}(a.ICom.BaseMessage);e.CMD_GM_Client_Bonus=p;var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nUSerID=0,t.nDeskStation=0,t}return i(t,e),t.nUSerID=a.ICom.bit.int,t.nDeskStation=a.ICom.bit.int,t}(a.ICom.BaseMessage);e.CMD_GM_Client_Exit=h;var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.uErrorId=0,t.uSubMsgId=0,t}return i(t,e),t.uErrorId=a.ICom.bit.uint,t.uSubMsgId=a.ICom.bit.uint,t}(a.ICom.BaseMessage);e.ErrorCode=d})(n.GameNetProto31800||(n.GameNetProto31800={})),cc._RF.pop()},{"../../halls/halllib/net/ICom":"ICom"}],GameNetProto34700:[function(e,t,n){"use strict";cc._RF.push(t,"d83ab+b2OdJy6OfYCT+BRHO","GameNetProto34700");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.GameNetProto34700=void 0;var a=e("../../halls/halllib/net/BaseMessage"),r=e("../../halls/halllib/net/ICom");(function(e){(function(e){e[e.SUB_S_GAME_SCENE=1020]="SUB_S_GAME_SCENE",e[e.SUB_S_GAME_START=1010]="SUB_S_GAME_START",e[e.SUB_S_PLACE_JETTON=1002]="SUB_S_PLACE_JETTON",e[e.SUB_S_PLACE_JETTON_FAIL=1003]="SUB_S_PLACE_JETTON_FAIL",e[e.SUB_S_CONTINU_JETTON=1005]="SUB_S_CONTINU_JETTON",e[e.SUB_S_CONTINUE_JETTON_FAIL=1006]="SUB_S_CONTINUE_JETTON_FAIL",e[e.SUB_S_DEAL_CARD=1011]="SUB_S_DEAL_CARD",e[e.SUB_S_GAME_END=1012]="SUB_S_GAME_END",e[e.SUB_S_SEND_SIMPLE_CHART=1013]="SUB_S_SEND_SIMPLE_CHART",e[e.SUB_S_OCCUPYSEAT=1015]="SUB_S_OCCUPYSEAT",e[e.SUB_S_OCCUPYSEAT_FAIL=1016]="SUB_S_OCCUPYSEAT_FAIL",e[e.SUB_S_UPDATE_OCCUPYSEAT=1017]="SUB_S_UPDATE_OCCUPYSEAT",e[e.SUB_S_OCCUPYSEAT_STANDUP=1018]="SUB_S_OCCUPYSEAT_STANDUP",e[e.SUB_S_LUCKLY_PLAYER_LIST=1019]="SUB_S_LUCKLY_PLAYER_LIST"})(e.SUB_GAME_MSG||(e.SUB_GAME_MSG={})),function(e){e[e.E_NOTEERROR_OK=0]="E_NOTEERROR_OK",e[e.E_NOTEERROR_USERMONEY_NOENOUGH=1]="E_NOTEERROR_USERMONEY_NOENOUGH",e[e.E_MAX_ALL_LIMIT=2]="E_MAX_ALL_LIMIT",e[e.E_AREA_LIMIT=3]="E_AREA_LIMIT",e[e.E_USER_LIMIT=4]="E_USER_LIMIT",e[e.E_NOTEERROR_CHIP=5]="E_NOTEERROR_CHIP",e[e.E_NOTEERROR_NOTEOBJECT=6]="E_NOTEERROR_NOTEOBJECT",e[e.E_NOTEERROR_NO=7]="E_NOTEERROR_NO",e[e.E_NOTEERROR_MAX=8]="E_NOTEERROR_MAX"}(e.JettonResponse||(e.JettonResponse={})),function(e){e[e.FREE=0]="FREE",e[e.XIAZHU=1]="XIAZHU",e[e.SENDCARD=2]="SENDCARD",e[e.ACCOUNT=3]="ACCOUNT"}(e.GameState||(e.GameState={}));var t=function(){function e(){}return e.MAX_CHIP_COUNT=6,e.MAX_OCCUPY_SEAT_COUNT=4,e.JACKPOT_LEVEL_COUNT=4,e.CARD_MAX=3,e.AREA_MAX=6,e.MAX_SIMPLE_CHART_COUNT=15,e}();e.MSG_CONFIG=t;var n=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.cbWinArea=[],t}return i(n,e),n.prototype.readFrom=function(e){this.readAttribute(e,n.ATTRIBUTES)},n.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,n.ATTRIBUTES)},n.ATTRIBUTES=[new a.MessageAttribute("cbWinArea","byte",!0,t.CARD_MAX)],n}(a.BaseMessage);e.tagServerGameRecord=n;var o=function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t.cbGameStatus=0,t.cbCount=0,t.ServerGameRecordArray=[],t}return i(o,e),o.prototype.readFrom=function(e){this.readAttribute(e,o.ATTRIBUTES)},o.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,o.ATTRIBUTES)},o.ATTRIBUTES=[new a.MessageAttribute("cbGameStatus","byte",!1,""),new a.MessageAttribute("cbCount","byte",!1,""),new a.MessageAttribute("ServerGameRecordArray",n,!0,t.MAX_SIMPLE_CHART_COUNT)],o}(a.BaseMessage);e.CMD_S_SimpleChart=o;var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nJackPotLevel=0,t.nDistributeType=0,t.nMinDistributionValues=0,t.nMaxDistributionValues=0,t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.LENGTH=16,t.ATTRIBUTES=[new a.MessageAttribute("nJackPotLevel","int32",!1,""),new a.MessageAttribute("nDistributeType","int32",!1,""),new a.MessageAttribute("nMinDistributionValues","int32",!1,""),new a.MessageAttribute("nMaxDistributionValues","int32",!1,"")],t}(a.BaseMessage);e.ColorGameJackPotCfg=s;var l=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.cbGameStatus=0,t.cbTimeLeave=0,t.byFreeTime=0,t.byPlaceJettonTime=0,t.byAccountTime=0,t.lUserMaxScore=0,t.lAreaLimitScore=0,t.lUserLimitScore=0,t.lChipArray=[],t.lOccupySeatFree=0,t.wOccupySeatChairIDArray=[],t.cbLucklyColor=0,t.lJacketPotValue=0,t.n64EnableJackpot=0,t.stJackpotCfg=[],t.cbTableCardArray=[],t.lAreaInAllScore=[],t.lUserInAllScore=[],t.lOccupySeatBetScore=[[],[]],t.lEndUserScore=0,t.lOtherUserInAllScore=[],t.lOtherUserAreaWinScore=[],t}return i(n,e),n.prototype.readFrom=function(e){this.readAttribute(e,n.ATTRIBUTES,t)},n.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,n.ATTRIBUTES,t)},n.ATTRIBUTES=[new a.MessageAttribute("cbGameStatus","byte",!1,""),new a.MessageAttribute("cbTimeLeave","uint32",!1,""),new a.MessageAttribute("byFreeTime","byte",!1,""),new a.MessageAttribute("byPlaceJettonTime","byte",!1,""),new a.MessageAttribute("byAccountTime","byte",!1,""),new a.MessageAttribute("lUserMaxScore","long2number",!1,""),new a.MessageAttribute("lAreaLimitScore","long2number",!1,""),new a.MessageAttribute("lUserLimitScore","long2number",!1,""),new a.MessageAttribute("lChipArray","long2number",!0,t.MAX_CHIP_COUNT),new a.MessageAttribute("lOccupySeatFree","long2number",!1,""),new a.MessageAttribute("wOccupySeatChairIDArray","uint16",!0,t.MAX_OCCUPY_SEAT_COUNT),new a.MessageAttribute("cbLucklyColor","byte",!1,""),new a.MessageAttribute("lJacketPotValue","long2number",!1,""),new a.MessageAttribute("n64EnableJackpot","long2number",!1,""),new a.MessageAttribute("stJackpotCfg",s,!0,t.JACKPOT_LEVEL_COUNT),new a.MessageAttribute("cbTableCardArray","byte",!0,t.CARD_MAX),new a.MessageAttribute("lAreaInAllScore","long2number",!0,t.AREA_MAX),new a.MessageAttribute("lUserInAllScore","long2number",!0,t.AREA_MAX),new a.MessageAttribute("lOccupySeatBetScore","long2number",!0,[t.MAX_OCCUPY_SEAT_COUNT,t.AREA_MAX]),new a.MessageAttribute("lEndUserScore","long2number",!1,""),new a.MessageAttribute("lOtherUserInAllScore","long2number",!0,t.AREA_MAX),new a.MessageAttribute("lOtherUserAreaWinScore","long2number",!0,t.AREA_MAX)],n}(a.BaseMessage);e.CMD_S_GAME_SCENE=l;var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lUserMaxScore=0,t.cbTimeLeave=0,t.cbLucklyColor=0,t.nChipRobotCount=0,t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new a.MessageAttribute("lUserMaxScore","long2number",!1,""),new a.MessageAttribute("cbTimeLeave","uint32",!1,""),new a.MessageAttribute("cbLucklyColor","byte",!1,""),new a.MessageAttribute("nChipRobotCount","int32",!1,"")],t}(a.BaseMessage);e.CMD_S_GameStart=c;var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wChairID=0,t.cbJettonArea=0,t.lJettonScore=0,t.cbAndroid=0,t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new a.MessageAttribute("wChairID","uint16",!1,""),new a.MessageAttribute("cbJettonArea","byte",!1,""),new a.MessageAttribute("lJettonScore","long2number",!1,""),new a.MessageAttribute("cbAndroid","byte",!1,"")],t}(a.BaseMessage);e.CMD_S_PlaceJetton=u;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wPlaceUser=0,t.lJettonArea=0,t.lPlaceScore=0,t.bErrorCode=0,t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new a.MessageAttribute("wPlaceUser","uint16",!1,""),new a.MessageAttribute("lJettonArea","byte",!1,""),new a.MessageAttribute("lPlaceScore","long2number",!1,""),new a.MessageAttribute("bErrorCode","byte",!1,"")],t}(a.BaseMessage);e.CMD_S_PlaceJettonFail=p;var h=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.wPlaceUser=0,t.lAreaInAllScore=[],t.lCurUserInAllScore=[],t}return i(n,e),n.prototype.readFrom=function(e){this.readAttribute(e,n.ATTRIBUTES,t)},n.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,n.ATTRIBUTES,t)},n.ATTRIBUTES=[new a.MessageAttribute("wPlaceUser","uint16",!1,""),new a.MessageAttribute("lAreaInAllScore","long2number",!0,"AREA_MAX"),new a.MessageAttribute("lCurUserInAllScore","long2number",!0,"AREA_MAX")],n}(a.BaseMessage);e.CMD_S_ContiueJetton=h;var d=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.uTimeLeave=0,t.cbTableCardArray=[],t}return i(n,e),n.prototype.readFrom=function(e){this.readAttribute(e,n.ATTRIBUTES,t)},n.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,n.ATTRIBUTES,t)},n.ATTRIBUTES=[new a.MessageAttribute("uTimeLeave","uint32",!1,""),new a.MessageAttribute("cbTableCardArray","byte",!0,t.CARD_MAX)],n}(a.BaseMessage);e.CMD_S_DealCard=d;var f=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.uTimeLeave=0,t.cbTableCardArray=[],t.lOtherUserInAllScore=[],t.lOtherUserAreaWinScore=[],t.lOccupySeatChairIDArray=[],t.lUserWinScore=[],t.lUserScore=0,t.lOccupySeatChairAreaWinScore=[[],[]],t.lJackPotScore=0,t}return i(n,e),n.prototype.readFrom=function(e){this.readAttribute(e,n.ATTRIBUTES,t)},n.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,n.ATTRIBUTES,t)},n.ATTRIBUTES=[new a.MessageAttribute("uTimeLeave","uint32",!1,""),new a.MessageAttribute("cbTableCardArray","byte",!0,"CARD_MAX"),new a.MessageAttribute("lOtherUserInAllScore","long2number",!0,"AREA_MAX"),new a.MessageAttribute("lOtherUserAreaWinScore","long2number",!0,"AREA_MAX"),new a.MessageAttribute("lOccupySeatChairIDArray","long2number",!0,"MAX_OCCUPY_SEAT_COUNT"),new a.MessageAttribute("lUserWinScore","long2number",!0,"AREA_MAX"),new a.MessageAttribute("lUserScore","long2number",!1,""),new a.MessageAttribute("lOccupySeatChairAreaWinScore","long2number",!0,["MAX_OCCUPY_SEAT_COUNT","AREA_MAX"]),new a.MessageAttribute("lJackPotScore","long2number",!1,"")],n}(a.BaseMessage);e.CMD_S_GameEnd=f;var g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wChairID=0,t.lRecordInAllScore=0,t.lWinCount=0,t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new a.MessageAttribute("wChairID","uint16",!1,""),new a.MessageAttribute("lRecordInAllScore","long2number",!1,""),new a.MessageAttribute("lWinCount","long2number",!1,"")],t}(a.BaseMessage);e.CMD_S_StatisticsRecord=g;var m=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.wOccupySeatChairID=0,t.cbOccupySeatIndex=0,t.wOccupySeatChairIDArray=[],t}return i(n,e),n.prototype.readFrom=function(e){this.readAttribute(e,n.ATTRIBUTES,t)},n.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,n.ATTRIBUTES,t)},n.ATTRIBUTES=[new a.MessageAttribute("wOccupySeatChairID","uint16",!1,""),new a.MessageAttribute("cbOccupySeatIndex","byte",!1,""),new a.MessageAttribute("wOccupySeatChairIDArray","uint16",!0,"MAX_OCCUPY_SEAT_COUNT")],n}(a.BaseMessage);e.CMD_S_OccupySeat=m;var y=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.bSeatBusy=!1,t.wAlreadyOccupySeatChairID=0,t.cbAlreadyOccupySeatIndex=0,t.wOccupySeatChairIDArray=[],t}return i(n,e),n.prototype.readFrom=function(e){this.readAttribute(e,n.ATTRIBUTES,t)},n.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,n.ATTRIBUTES,t)},n.ATTRIBUTES=[new a.MessageAttribute("bSeatBusy","boolean",!1,""),new a.MessageAttribute("wAlreadyOccupySeatChairID","uint16",!1,""),new a.MessageAttribute("cbAlreadyOccupySeatIndex","byte",!1,""),new a.MessageAttribute("wOccupySeatChairIDArray","uint16",!0,"MAX_OCCUPY_SEAT_COUNT")],n}(a.BaseMessage);e.CMD_S_OccupySeat_Fail=y;var _=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.wOccupySeatChairIDArray=[],t.wQuitOccupySeatChairID=0,t}return i(n,e),n.prototype.readFrom=function(e){this.readAttribute(e,n.ATTRIBUTES,t)},n.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,n.ATTRIBUTES,t)},n.ATTRIBUTES=[new a.MessageAttribute("wOccupySeatChairIDArray","uint16",!0,"MAX_OCCUPY_SEAT_COUNT"),new a.MessageAttribute("wQuitOccupySeatChairID","uint16",!1,"")],n}(a.BaseMessage);e.CMD_S_UpdateOccupySeat=_;var v=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.wOccupySeatChairIDArray=[],t.wStandUpOccupySeatChairID=0,t}return i(n,e),n.prototype.readFrom=function(e){this.readAttribute(e,n.ATTRIBUTES,t)},n.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,n.ATTRIBUTES,t)},n.ATTRIBUTES=[new a.MessageAttribute("wOccupySeatChairIDArray","uint16",!0,"MAX_OCCUPY_SEAT_COUNT"),new a.MessageAttribute("wStandUpOccupySeatChairID","uint16",!1,"")],n}(a.BaseMessage);e.CMD_S_OccupySeatStandUp=v;var b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wChairID=0,t.lScore=0,t}return i(t,e),t.wChairID=r.ICom.bit.ushort,t.lScore=r.ICom.bit.long,t}(r.ICom.BaseMessage);e.CMD_S_Luckly_Play=b;var S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nJackPotLevel=0,t.lJackpotValue=0,t.lucklyInfo=[],t}return i(t,e),t.nJackPotLevel=r.ICom.bit.int,t.lJackpotValue=r.ICom.bit.long,t.lucklyInfo=new r.ICom.ArrayNumber(b,0,r.ICom.Int32),t}(r.ICom.BaseMessage);e.CMD_S_Luckly_Head=S,function(e){e[e.SUB_C_PLACE_JETTON=1001]="SUB_C_PLACE_JETTON",e[e.SUB_C_CONTINUE_JETTON=1004]="SUB_C_CONTINUE_JETTON",e[e.SUB_C_OCCUPYSEAT=1007]="SUB_C_OCCUPYSEAT",e[e.SUB_C_QUIT_OCCUPYSEAT=1008]="SUB_C_QUIT_OCCUPYSEAT",e[e.SUB_C_REQUEST_STATISTICS_RECORD=1009]="SUB_C_REQUEST_STATISTICS_RECORD",e[e.SUB_C_REFRESH_RULE=21]="SUB_C_REFRESH_RULE",e[e.SUB_S_DEBUG_REFRESH_RULE=22]="SUB_S_DEBUG_REFRESH_RULE"}(e.SUB_GAME_MSG_CLIENT||(e.SUB_GAME_MSG_CLIENT={}));var C=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.cbJettonArea=0,t.lJettonScore=0,t}return i(n,e),n.prototype.readFrom=function(e){this.readAttribute(e,n.ATTRIBUTES,t)},n.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,n.ATTRIBUTES,t)},n.ATTRIBUTES=[new a.MessageAttribute("cbJettonArea","byte",!1,""),new a.MessageAttribute("lJettonScore","long2number",!1,"")],n}(a.BaseMessage);e.CMD_C_PlaceJetton=C;var I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wOccupySeatChairID=0,t.cbOccupySeatIndex=0,t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new a.MessageAttribute("wOccupySeatChairID","uint16",!1,""),new a.MessageAttribute("cbOccupySeatIndex","byte",!1,"")],t}(a.BaseMessage);e.CMD_C_OccupySeat=I})(n.GameNetProto34700||(n.GameNetProto34700={})),cc._RF.pop()},{"../../halls/halllib/net/BaseMessage":"BaseMessage","../../halls/halllib/net/ICom":"ICom"}],GameNetProto34800:[function(e,t,n){"use strict";cc._RF.push(t,"5e263w36htH2YeGL9GZAFfG","GameNetProto34800");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.GameNetProto34800=void 0;var a=e("../../halls/halllib/net/ICom");(function(e){(function(e){e[e.SUB_S_PLACE_JETTON=1002]="SUB_S_PLACE_JETTON",e[e.SUB_S_PLACE_JETTON_FAIL=1003]="SUB_S_PLACE_JETTON_FAIL",e[e.SUB_S_CONTINU_JETTON=1005]="SUB_S_CONTINU_JETTON",e[e.SUB_S_CONTINUE_JETTON_FAIL=1006]="SUB_S_CONTINUE_JETTON_FAIL",e[e.SUB_S_GAME_STATUS=1007]="SUB_S_GAME_STATUS",e[e.SUB_S_GAME_START=1009]="SUB_S_GAME_START",e[e.SUB_S_DEAL_CARD=1010]="SUB_S_DEAL_CARD",e[e.SUB_S_GAME_END=1011]="SUB_S_GAME_END",e[e.SUB_S_SEND_SIMPLE_CHART=1012]="SUB_S_SEND_SIMPLE_CHART",e[e.SUB_S_UPDATE_OCCUPYSEAT=1013]="SUB_S_UPDATE_OCCUPYSEAT",e[e.SUB_C_PLACE_JETTON=1001]="SUB_C_PLACE_JETTON",e[e.SUB_C_CONTINUE_JETTON=1004]="SUB_C_CONTINUE_JETTON"})(e.NOTIFY||(e.NOTIFY={})),function(e){e[e.GS_AGREE=0]="GS_AGREE",e[e.GS_XIAZHU=1]="GS_XIAZHU",e[e.GS_SENDCARD=2]="GS_SENDCARD",e[e.GS_ACCOUNT=3]="GS_ACCOUNT"}(e.GameState||(e.GameState={}));var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cbGameStatus=0,t.cbCount=0,t.arrGameCard=[],t}return i(t,e),t.cbGameStatus=a.ICom.bit.byte,t.cbCount=a.ICom.bit.byte,t.arrGameCard=new a.ICom.ArrayNumber(a.ICom.Bytes,50),t}(a.ICom.BaseMessage);e.CMD_S_SimpleChart=t;var n=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cbGameStatus=0,t.uTimeLeave=0,t.byFreeTime=0,t.byPlaceJettonTime=0,t.byAccountTime=0,t.lUserMaxScore=0,t.lAreaLimitScore=0,t.lUserLimitScore=0,t.lChipArray=[],t.wOccupySeatChairIDArray=[],t.stGameCard=[],t.lAreaInAllScore=[],t.lUserInAllScore=[],t.lOccupySeatBetScore=[],t.lOtherUserInAllScore=[],t.lOtherUserAreaWinScore=[],t}return i(t,e),t.cbGameStatus=a.ICom.bit.byte,t.uTimeLeave=a.ICom.bit.uint,t.byFreeTime=a.ICom.bit.byte,t.byPlaceJettonTime=a.ICom.bit.byte,t.byAccountTime=a.ICom.bit.byte,t.lUserMaxScore=a.ICom.bit.long,t.lAreaLimitScore=a.ICom.bit.long,t.lUserLimitScore=a.ICom.bit.long,t.lChipArray=new a.ICom.ArrayNumber(a.ICom.Int64,6),t.wOccupySeatChairIDArray=new a.ICom.ArrayNumber(a.ICom.Uint16,6),t.stGameCard=new a.ICom.ArrayNumber(a.ICom.Bytes,5),t.lAreaInAllScore=new a.ICom.ArrayNumber(a.ICom.Int64,4),t.lUserInAllScore=new a.ICom.ArrayNumber(a.ICom.Int64,4),t.lOccupySeatBetScore=new a.ICom.ArrayNumber(a.ICom.Int64,24),t.lEndUserScore=a.ICom.bit.long,t.lOtherUserInAllScore=a.ICom.bit.long,t.lOtherUserAreaWinScore=a.ICom.bit.long,t}(a.ICom.BaseMessage);e.CMD_S_GAME_SCENE=n;var o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lUserMaxScore=0,t.cbTimeLeave=0,t.wOccupySeatChairIDArray=[],t}return i(t,e),t.lUserMaxScore=a.ICom.bit.long,t.cbTimeLeave=a.ICom.bit.uint,t.wOccupySeatChairIDArray=new a.ICom.ArrayNumber(a.ICom.Uint16,6),t.nChipRobotCount=a.ICom.bit.int,t}(a.ICom.BaseMessage);e.CMD_S_GameStart=o;var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wChairID=0,t.cbJettonArea=0,t.lJettonScore=0,t}return i(t,e),t.wChairID=a.ICom.bit.ushort,t.cbJettonArea=a.ICom.bit.byte,t.lJettonScore=a.ICom.bit.long,t}(a.ICom.BaseMessage);e.CMD_S_PlaceJetton=r;var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wPlaceUser=0,t.cbJettonArea=0,t.lPlaceScore=0,t.bErrorCode=0,t}return i(t,e),t.wPlaceUser=a.ICom.bit.ushort,t.cbJettonArea=a.ICom.bit.byte,t.lPlaceScore=a.ICom.bit.long,t.bErrorCode=a.ICom.bit.byte,t}(a.ICom.BaseMessage);e.CMD_S_PlaceJettonFail=s;var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wPlaceUser=0,t.lAreaInAllScore=0,t.lCurUserInAllScore=0,t}return i(t,e),t.wPlaceUser=a.ICom.bit.ushort,t.lAreaInAllScore=new a.ICom.ArrayNumber(a.ICom.Int64,4),t.lCurUserInAllScore=new a.ICom.ArrayNumber(a.ICom.Int64,4),t}(a.ICom.BaseMessage);e.CMD_S_ContiueJetton=l;var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.uTimeLeave=0,t.stGameCard=[],t}return i(t,e),t.uTimeLeave=a.ICom.bit.uint,t.stGameCard=new a.ICom.ArrayNumber(a.ICom.Bytes,5),t}(a.ICom.BaseMessage);e.CMD_S_DealCard=c;var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.uTimeLeave=0,t.stGameCard=[],t.lUserScore=0,t.lOtherUserAreaWinScore=[],t.lOccupySeatChairIDArray=[],t.lUserWinScore=[],t.lOccupySeatChairAreaWinScore=[],t}return i(t,e),t.uTimeLeave=a.ICom.bit.uint,t.stGameCard=new a.ICom.ArrayNumber(a.ICom.Bytes,5),t.lUserScore=a.ICom.bit.long,t.lOtherUserAreaWinScore=new a.ICom.ArrayNumber(a.ICom.Int64,4),t.lOccupySeatChairIDArray=new a.ICom.ArrayNumber(a.ICom.Int64,6),t.lUserWinScore=new a.ICom.ArrayNumber(a.ICom.Int64,4),t.lOccupySeatChairAreaWinScore=new a.ICom.ArrayNumber(a.ICom.Int64,24),t}(a.ICom.BaseMessage);e.CMD_S_GameEnd=u;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wOccupySeatChairIDArray=[],t}return i(t,e),t.wOccupySeatChairIDArray=new a.ICom.ArrayNumber(a.ICom.Uint16,6),t}(a.ICom.BaseMessage);e.CMD_S_UpdateOccupySeat=p;var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cbJettonArea=0,t.lJettonScore=0,t}return i(t,e),t.cbJettonArea=a.ICom.bit.byte,t.lJettonScore=a.ICom.bit.long,t}(a.ICom.BaseMessage);e.CMD_C_PlaceJetton=h})(n.GameNetProto34800||(n.GameNetProto34800={})),cc._RF.pop()},{"../../halls/halllib/net/ICom":"ICom"}],GameNetProxy31800:[function(e,t,n){"use strict";cc._RF.push(t,"0e0fcBxSCpL6LunM4XlZKG0","GameNetProxy31800");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.GameMsgProxy31800=void 0;var i=e("../../halls/halllib/net/Client"),a=e("./GameNetProto31800"),r=e("../../halls/halllib/net/InnerEvent"),s=o(e("../../halls/halllib/net/RoomMsgProxy")),l=e("./GameData31800"),c=e("../../halls/halllib/core/RunData"),u=o(e("../../halls/hall/BaseRoom")),p=e("../../halls/halllib/common/LogBase"),h=function(){function e(){this.bDeskStation=0}return Object.defineProperty(e,"Instance",{get:function(){return null==this._inc&&(this._inc=new e),this._inc},enumerable:!1,configurable:!0}),e.prototype.Init=function(){var t=u.default.myUserRoomInfo.pUserInfoStruct;(t.bDeskNO>=255||t.bDeskStation>=255||t.bDeskNO<0||t.bDeskStation<0)&&s.default.sendQuickSitDown(),r.HallEvent.on(r.HallEvent.USER_SIT_DOWN,this,this.onEventUserSiteDown),r.HallEvent.on(r.HallEvent.USER_STAND_UP,this,this.onEventUserStandUp),r.HallEvent.on(r.HallEvent.USER_UPDATE,this,this.onUserUpdate),i.Client.Instance.addMsgListener(e.mainNetId,a.GameNetProto31800.SUB_GM_GAME_NOTIFY.ASS_GM_GAME_STATION,this,this.assGmGameStation),i.Client.Instance.addMsgListener(e.mainNetId,a.GameNetProto31800.SUB_GM_GAME_NOTIFY.GM_SUB_GAMERESULT,this,this.gmSubGameResult),i.Client.Instance.addMsgListener(e.mainNetId,a.GameNetProto31800.SUB_GM_GAME_NOTIFY.GM_SUB_BONUS,this,this.gmSubBonus),i.Client.Instance.addMsgListener(e.mainNetId,a.GameNetProto31800.SUB_GM_GAME_NOTIFY.GM_SUB_BIGWIN,this,this.gmSubBigWin),i.Client.Instance.addMsgListener(e.mainNetId,a.GameNetProto31800.SUB_GM_GAME_NOTIFY.GM_SUB_ERROR,this,this.gmError),i.Client.Instance.sendData(2000150,1),i.Client.Instance.sendData(2000180,1)},e.prototype.Destroy=function(){var t;null===(t=i.Client.Instance)||void 0===t||t.removeCallerListener(this),r.HallEvent.off(r.HallEvent.USER_SIT_DOWN,this,this.onEventUserSiteDown),r.HallEvent.off(r.HallEvent.USER_STAND_UP,this,this.onEventUserStandUp),r.HallEvent.off(r.HallEvent.USER_UPDATE,this,this.onUserUpdate),e._inc=null},e.prototype.onEventUserSiteDown=function(e,t,n){e.dwUserID==c.RunData.myUserInfo.dwUserID&&t<255&&n<255&&0<=t&&0<=n&&(p.LogBase.log("===========>>>>\u83b7\u53d6\u7528\u6237\u7684\u72b6\u6001"),i.Client.Instance.sendData(2000150,1),i.Client.Instance.sendData(2000180,1))},e.prototype.onEventUserStandUp=function(){u.default.myUserRoomInfo.pUserInfoStruct.bDeskNO},e.prototype.onUserUpdate=function(e){e.dwUserID==c.RunData.myUserInfo.dwUserID&&(l.GameData31800.Money=e.dwMoney.toNumber())},e.prototype.assGmGameStation=function(e,t){var n,o,i,r=t.readByte();switch(t.pos-=1,p.LogBase.log("\u6e38\u620f\u72b6\u6001",r),r){case a.GameNetProto31800.MainGameState.ENUM_STATE_PLAY:i=this._gameStatePlay(t),this.bDeskStation=i.bDeskStation,null===(n=this.GameStationHandler)||void 0===n||n.runWith([e,i,!1]);break;case a.GameNetProto31800.MainGameState.ENUM_STATE_BONUS:i=this._gameStateBonus(t),this.bDeskStation=i.bDeskStation,null===(o=this.GameStationHandler)||void 0===o||o.runWith([e,i,!0]);break;default:return void p.LogBase.log("\u672a\u77e5\u6e38\u620f\u72b6\u6001:"+r)}},e.prototype._gameStatePlay=function(e){return a.GameNetProto31800.CMD_GM_Station_Play.ReadFrom(e)},e.prototype._gameStateBonus=function(e){return a.GameNetProto31800.CMD_GM_Station_Bonus.ReadFrom(e)},e.prototype.gmSubGameResult=function(e,t){var n,o=a.GameNetProto31800.CMD_GM_PlayRollResult.ReadFrom(t);null===(n=this.GameResultHandler)||void 0===n||n.runWith([e,o])},e.prototype.gmSubBonus=function(e,t){var n;p.LogBase.log("bonus");var o=a.GameNetProto31800.CMD_GM_Bonus.ReadFrom(t);null===(n=this.GameBonusHandler)||void 0===n||n.runWith([e,o])},e.prototype.gmSubBigWin=function(e,t){var n;p.LogBase.log("\u5927\u5956\u5e7f\u64ad");var o=a.GameNetProto31800.CMD_GM_BigWin_Board.ReadFrom(t);null===(n=this.GameBigWinHandler)||void 0===n||n.runWith([e,o])},e.prototype.gmError=function(e,t){var n;p.LogBase.log("\u9519\u8bef\u7801");var o=a.GameNetProto31800.ErrorCode.ReadFrom(t);null===(n=this.GameErrorHandler)||void 0===n||n.runWith([e,o])},e.prototype.sendGameStartRequest=function(t,n){p.LogBase.log("\u5f00\u59cb\u6e38\u620f");var o=new a.GameNetProto31800.CMD_GM_PlayGame;o.nDeskStation=this.bDeskStation,o.nLineCount=t,o.nPlayerBet=n,i.Client.Instance.sendData(e.mainNetId,a.GameNetProto31800.SUB_GM_GAME_NOTIFY.GM_SUB_C_PLAY,a.GameNetProto31800.CMD_GM_PlayGame.WriteFrom(o))},e.prototype.sendBonusGameRequest=function(t){p.LogBase.log("\u5f00\u59cbBonus\u6e38\u620f");var n=new a.GameNetProto31800.CMD_GM_Client_Bonus;n.nDeskStation=this.bDeskStation,n.nSelectIndex=t,i.Client.Instance.sendData(e.mainNetId,a.GameNetProto31800.SUB_GM_GAME_NOTIFY.GM_SUB_C_BONUS,a.GameNetProto31800.CMD_GM_Client_Bonus.WriteFrom(n))},e.prototype.sendExitGame=function(){p.LogBase.log("\u9000\u51fa\u6e38\u620f");var t=new a.GameNetProto31800.CMD_GM_Client_Exit;t.nDeskStation=this.bDeskStation,t.nUSerID=c.RunData.myUserInfo.dwUserID,i.Client.Instance.sendData(e.mainNetId,a.GameNetProto31800.SUB_GM_GAME_NOTIFY.GM_SUB_C_HAND_EXITGAME,a.GameNetProto31800.CMD_GM_Client_Exit.WriteFrom(t))},e.mainNetId=2000180,e}();n.GameMsgProxy31800=h,cc._RF.pop()},{"../../halls/hall/BaseRoom":"BaseRoom","../../halls/halllib/common/LogBase":"LogBase","../../halls/halllib/core/RunData":"RunData","../../halls/halllib/net/Client":"Client","../../halls/halllib/net/InnerEvent":"InnerEvent","../../halls/halllib/net/RoomMsgProxy":"RoomMsgProxy","./GameData31800":"GameData31800","./GameNetProto31800":"GameNetProto31800"}],GameNetProxy34700:[function(e,t,n){"use strict";cc._RF.push(t,"4166e4z4EpK9YqiaVyS6zbK","GameNetProxy34700");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.GameNetProxy34700=void 0;var i=e("../../halls/halllib/net/Client"),a=e("./GameNetProto34700"),r=e("../../halls/halllib/net/GameHallMessage"),s=o(e("../../halls/halllib/net/RoomMsgProxy")),l=e("../../halls/halllib/core/RunData"),c=e("../../halls/halllib/net/InnerEvent"),u=o(e("../../halls/hall/BaseRoom")),p=e("../../halls/halllib/common/LogBase"),h=function(){function e(){this.mainNetId=2000180,this.bDeskStation=0}return Object.defineProperty(e,"Instance",{get:function(){return null==this._inc&&(this._inc=new e),this._inc},enumerable:!1,configurable:!0}),e.prototype.Init=function(e){this.gameMain=e,s.default.sendQuickSitDown(),i.Client.Instance.addMsgListener(this.mainNetId,a.GameNetProto34700.SUB_GAME_MSG.SUB_S_GAME_SCENE,this,this.GameStation),i.Client.Instance.addMsgListener(this.mainNetId,a.GameNetProto34700.SUB_GAME_MSG.SUB_S_GAME_START,this,this.GameStart),i.Client.Instance.addMsgListener(this.mainNetId,a.GameNetProto34700.SUB_GAME_MSG.SUB_S_DEAL_CARD,this,this.OpenColor),i.Client.Instance.addMsgListener(this.mainNetId,a.GameNetProto34700.SUB_GAME_MSG.SUB_S_PLACE_JETTON,this,this.PlayerJetton),i.Client.Instance.addMsgListener(this.mainNetId,a.GameNetProto34700.SUB_GAME_MSG.SUB_S_SEND_SIMPLE_CHART,this,this.SimpleChart),i.Client.Instance.addMsgListener(this.mainNetId,a.GameNetProto34700.SUB_GAME_MSG.SUB_S_OCCUPYSEAT,this,this.occupySeat),i.Client.Instance.addMsgListener(this.mainNetId,a.GameNetProto34700.SUB_GAME_MSG.SUB_S_OCCUPYSEAT_FAIL,this,this.occupySeatFail),i.Client.Instance.addMsgListener(this.mainNetId,a.GameNetProto34700.SUB_GAME_MSG.SUB_S_UPDATE_OCCUPYSEAT,this,this.occupyUpdate),i.Client.Instance.addMsgListener(this.mainNetId,a.GameNetProto34700.SUB_GAME_MSG.SUB_S_OCCUPYSEAT_STANDUP,this,this.occupySendUp),i.Client.Instance.addMsgListener(this.mainNetId,a.GameNetProto34700.SUB_GAME_MSG.SUB_S_PLACE_JETTON_FAIL,this,this.PlayerJettonFail),i.Client.Instance.addMsgListener(this.mainNetId,a.GameNetProto34700.SUB_GAME_MSG.SUB_S_CONTINU_JETTON,this,this.ContinuJetton),i.Client.Instance.addMsgListener(this.mainNetId,a.GameNetProto34700.SUB_GAME_MSG.SUB_S_CONTINUE_JETTON_FAIL,this,this.ContinuJettonFail),i.Client.Instance.addMsgListener(this.mainNetId,a.GameNetProto34700.SUB_GAME_MSG.SUB_S_GAME_END,this,this.GameEnd),i.Client.Instance.addMsgListener(this.mainNetId,a.GameNetProto34700.SUB_GAME_MSG.SUB_S_LUCKLY_PLAYER_LIST,this,this.LuckyPlayers),i.Client.Instance.sendData(2000150,1),c.HallEvent.on(c.HallEvent.getEventString(r.GameHallMessage.MDM_ID.MDM_GH_USERREFRESH,r.GameHallMessage.SUB_GH_USERREFRESH.SUB_GH_USERREFRESH),this,this.onUserFresh),c.HallEvent.on(c.HallEvent.USER_SIT_DOWN,this,this.onEventUserSiteDown),c.HallEvent.on(c.HallEvent.USER_STAND_UP,this,this.onEventUserStandUp),c.HallEvent.on(c.HallEvent.USER_UPDATE,this,this.onUserUpdate)},e.prototype.Destroy=function(){var t;null===(t=i.Client.Instance)||void 0===t||t.removeCallerListener(this),e._inc=null},e.prototype.LuckyPlayers=function(e,t){var n=a.GameNetProto34700.CMD_S_Luckly_Head.ReadFrom(t);p.LogBase.log("\u5e78\u8fd0\u73a9\u5bb6\u5217\u8868",n.lJackpotValue),this.gameMain.LuckyPlayers(n)},e.prototype.occupySeat=function(e,t){var n=new a.GameNetProto34700.CMD_S_OccupySeat;n.readFrom(t),p.LogBase.log("\u5360\u4f4d\u7ed3\u679c",n.wOccupySeatChairID),this.gameMain.occupySeat(n)},e.prototype.occupySeatFail=function(e,t){var n=new a.GameNetProto34700.CMD_S_OccupySeat_Fail;n.readFrom(t),p.LogBase.log("\u5360\u4f4d\u5931\u8d25",n.wAlreadyOccupySeatChairID),this.gameMain.occupySeat(n)},e.prototype.occupyUpdate=function(e,t){var n=new a.GameNetProto34700.CMD_S_UpdateOccupySeat;n.readFrom(t),p.LogBase.log("\u5360\u4f4d\u66f4\u65b0",n.wQuitOccupySeatChairID),this.gameMain.occupySeat(n)},e.prototype.occupySendUp=function(e,t){var n=new a.GameNetProto34700.CMD_S_OccupySeatStandUp;n.readFrom(t),p.LogBase.log("\u5360\u4f4d\u8d77\u7acb",n.wStandUpOccupySeatChairID),this.gameMain.occupySeat(n)},e.prototype.GameStation=function(e,t){var n=new a.GameNetProto34700.CMD_S_GAME_SCENE;n.readFrom(t),p.LogBase.log("\u6e38\u620f\u72b6\u6001",n.cbGameStatus),this.gameMain.InitGameState(n)},e.prototype.SimpleChart=function(e,t){var n=new a.GameNetProto34700.CMD_S_SimpleChart;n.readFrom(t),p.LogBase.log("\u7b80\u6d01\u8def\u5355",n.cbCount),this.gameMain.SimpleChart(n)},e.prototype.OpenColor=function(e,t){var n=new a.GameNetProto34700.CMD_S_DealCard;n.readFrom(t),p.LogBase.log("\u53d1\u724c",n.cbTableCardArray[0]),this.gameMain.OpenColor(n)},e.prototype.GameStart=function(e,t){var n=new a.GameNetProto34700.CMD_S_GameStart;n.readFrom(t),p.LogBase.log("\u6e38\u620f\u5f00\u59cb",n.cbLucklyColor),this.gameMain.GameStart(n)},e.prototype.PlayerJetton=function(e,t){var n=new a.GameNetProto34700.CMD_S_PlaceJetton;n.readFrom(t),this.gameMain.PlayerJetton(n)},e.prototype.PlayerJettonFail=function(e,t){p.LogBase.log("\u4e0b\u6ce8\u5931\u8d25");var n=new a.GameNetProto34700.CMD_S_PlaceJettonFail;n.readFrom(t),this.gameMain.PlayerJettonFail(n)},e.prototype.ContinuJetton=function(e,t){p.LogBase.log("\u7eed\u6295");var n=new a.GameNetProto34700.CMD_S_ContiueJetton;n.readFrom(t),this.gameMain.ContinuJetton(n)},e.prototype.ContinuJettonFail=function(){p.LogBase.log("\u7eed\u6295\u5931\u8d25"),this.gameMain.ContinuJettonFail()},e.prototype.GameEnd=function(e,t){p.LogBase.log("\u6e38\u620f\u7ed3\u675f");var n=new a.GameNetProto34700.CMD_S_GameEnd;n.readFrom(t),this.gameMain.GameEnd(n)},e.prototype.sendExitGame=function(){},e.prototype.onUserFresh=function(e){e.dwUserID==l.RunData.myUserInfo.dwUserID&&this.gameMain.UpdateMoney(e.iWalletGb.toNumber())},e.prototype.onUserUpdate=function(){},e.prototype.onEventUserSiteDown=function(e,t){if(e.dwUserID==l.RunData.myUserInfo.dwUserID)for(var n=0;n<u.default.userList.length;n++){var o=u.default.userList[n];o.bDeskNO==u.default.myUserRoomInfo.pUserInfoStruct.bDeskNO&&this.gameMain.UserSiteDown(o)}else t==u.default.myUserRoomInfo.pUserInfoStruct.bDeskNO&&this.gameMain.UserSiteDown(e)},e.prototype.onEventUserStandUp=function(e,t){t==u.default.myUserRoomInfo.pUserInfoStruct.bDeskNO&&this.gameMain.UserStandUp(e.bDeskStation)},e.prototype.onPlaceJetton=function(e,t){var n=new a.GameNetProto34700.CMD_C_PlaceJetton;n.cbJettonArea=e,n.lJettonScore=t,i.Client.Instance.sendData(this.mainNetId,a.GameNetProto34700.SUB_GAME_MSG_CLIENT.SUB_C_PLACE_JETTON,n.writeTo())},e.prototype.onOccupySeat=function(e,t){var n=new a.GameNetProto34700.CMD_C_OccupySeat;n.wOccupySeatChairID=t,n.cbOccupySeatIndex=e,p.LogBase.log("\u5360\u4f4d\uff1a"+t+":"+e),i.Client.Instance.sendData(this.mainNetId,a.GameNetProto34700.SUB_GAME_MSG_CLIENT.SUB_C_OCCUPYSEAT,n.writeTo())},e}();n.GameNetProxy34700=h,cc._RF.pop()},{"../../halls/hall/BaseRoom":"BaseRoom","../../halls/halllib/common/LogBase":"LogBase","../../halls/halllib/core/RunData":"RunData","../../halls/halllib/net/Client":"Client","../../halls/halllib/net/GameHallMessage":"GameHallMessage","../../halls/halllib/net/InnerEvent":"InnerEvent","../../halls/halllib/net/RoomMsgProxy":"RoomMsgProxy","./GameNetProto34700":"GameNetProto34700"}],GamePanelFight10100:[function(e,t,n){"use strict";cc._RF.push(t,"cf834VxunVOpoDEjqakA/Nc","GamePanelFight10100");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GamePanelFight10100=void 0;var r=e("../../halls/halllib/net/Client"),s=e("./GameAudioContro10100"),l=e("./GameBasePanel10100"),c=e("./GameData10100"),u=e("./GameNetProto10100"),p=e("../../halls/halllib/laya/Laya"),h=p.Laya.regClass,d=p.Laya.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ButtonFold=null,t.ButtonChallenge=null,t.Image_1=null,t.Image_2=null,t.Image_3=null,t.ImageState_1=null,t.ImageState_2=null,t.ImageState_3=null,t.Animation_1=null,t.Animation_2=null,t.Animation_3=null,t.PlayerBg=null,t.PlayerState=null,t.PlayerAnis=null,t}var n;return i(t,e),n=t,t.prototype.onAwake=function(){e.prototype.onAwake.call(this),n.Instance=this,this.PlayerBg=[this.Image_1,this.Image_2,this.Image_3],this.PlayerState=[this.ImageState_1,this.ImageState_2,this.ImageState_3],this.ButtonFold.on(p.Laya.Event.CLICK,this,this.onButtonFold),this.ButtonChallenge.on(p.Laya.Event.CLICK,this,this.onButtonChallenge),this.PlayerAnis=[this.Animation_1,this.Animation_2,this.Animation_3]},t.prototype.onButtonFold=function(){r.Client.Instance.sendData(2000180,u.GameNetProto10100.NOTIFY.SUB_C_FOLD)},t.prototype.onButtonChallenge=function(){r.Client.Instance.sendData(2000180,u.GameNetProto10100.NOTIFY.SUB_C_CHALLENGE)},t.prototype.OnFightSuccess=function(e){s.GameAudioContro10100.Instance.PlaySoundById(9);var t=c.GameData10100.LogiNoToUiNo(e.wFightPlayer);if(this.PlayerBg[0].skin=0==t?this.GetBgRes("Tongits_FightBG_0"):this.GetBgRes("Tongits_FightBG_2"),this.PlayerBg[1].skin=1==t?this.GetBgRes("Tongits_FightBG1_0"):this.GetBgRes("Tongits_FightBG1_2"),this.PlayerBg[2].skin=2==t?this.GetBgRes("Tongits_FightBG1_0"):this.GetBgRes("Tongits_FightBG1_2"),this.PlayerBg[0].visible=0==t,this.PlayerBg[1].visible=1==t,this.PlayerBg[2].visible=2==t,this.PlayerState[0].skin=0==t?this.GetBgRes("Tongits_Fight_0"):null,this.PlayerState[1].skin=1==t?this.GetBgRes("Tongits_Fight_0"):null,this.PlayerState[2].skin=2==t?this.GetBgRes("Tongits_Fight_0"):null,this.PlayerAnis[t].play("fightstate"+(t+1),0,0),e.wSkipChairID<=2){var n=c.GameData10100.LogiNoToUiNo(e.wSkipChairID);this.PlayerBg[n].visible=!1}e.wSkipChairID!=c.GameData10100.MySeatNo?(this.ButtonFold.visible=0!=t,this.ButtonChallenge.visible=0!=t):(this.ButtonFold.visible=!1,this.ButtonChallenge.visible=!1);for(var o=0;o<e.arrFightResponse.length;o++)if(0==e.arrFightResponse[o]){var i=c.GameData10100.LogiNoToUiNo(o);this.PlayerBg[i].skin=0==i?this.GetBgRes("Tongits_FightBG_1"):this.GetBgRes("Tongits_FightBG1_1"),this.PlayerBg[i].visible=!0,this.PlayerState[i].skin=this.GetBgRes("Tongits_Fight_3"),o==c.GameData10100.MySeatNo&&(this.ButtonFold.visible=!1,this.ButtonChallenge.visible=!1)}this.Show()},t.prototype.OnFoldSuccess=function(e){var t=c.GameData10100.LogiNoToUiNo(e.wFoldPlayer);this.PlayerBg[t].skin=0==t?this.GetBgRes("Tongits_FightBG_1"):this.GetBgRes("Tongits_FightBG1_1"),this.PlayerBg[t].visible=!0,this.PlayerState[t].skin=this.GetBgRes("Tongits_Fight_1"),this.PlayerAnis[t].play("fightstate"+(t+1),0,0),0==t&&(s.GameAudioContro10100.Instance.PlaySoundById(10),this.ButtonFold.visible=!1,this.ButtonChallenge.visible=!1)},t.prototype.OnChallengeSuccess=function(e){var t=c.GameData10100.LogiNoToUiNo(e.wChallenger);this.PlayerBg[t].skin=0==t?this.GetBgRes("Tongits_FightBG_2"):this.GetBgRes("Tongits_FightBG1_2"),this.PlayerBg[t].visible=!0,this.PlayerState[t].skin=this.GetBgRes("Tongits_Fight_2"),this.PlayerAnis[t].play("fightstate"+(t+1),0,0),0==t&&(s.GameAudioContro10100.Instance.PlaySoundById(15),this.ButtonFold.visible=!1,this.ButtonChallenge.visible=!1)},t.prototype.InitPlaying=function(e){for(var t=0;t<e.m_arrFightResponse.length;t++){var n=c.GameData10100.LogiNoToUiNo(t);if(e.wSkipChairID!=t){var o=e.m_arrFightResponse[t],i=void 0,a=null;0==o?(i=0==n?"Tongits_FightBG_0":"Tongits_FightBG1_0",a="Tongits_Fight_0"):1==o?i=0==n?"Tongits_FightBG_2":"Tongits_FightBG1_2":2==o?(i=0==n?"Tongits_FightBG_1":"Tongits_FightBG1_1",a="Tongits_Fight_1"):3==o&&(i=0==n?"Tongits_FightBG_0":"Tongits_FightBG1_0",a="Tongits_Fight_2"),this.PlayerBg[n].skin=this.GetBgRes(i),this.PlayerBg[n].visible=1!=o,this.PlayerState[n].skin=this.GetBgRes(a),0==n&&(this.ButtonFold.visible=1==o,this.ButtonChallenge.visible=1==o)}else this.PlayerBg[n].visible=!1}this.Show()},t.prototype.GetBgRes=function(e){return c.GameData10100.ResPath+"fight/"+e+".png"},a([d(p.Laya.Button)],t.prototype,"ButtonFold",void 0),a([d(p.Laya.Button)],t.prototype,"ButtonChallenge",void 0),a([d(p.Laya.Image)],t.prototype,"Image_1",void 0),a([d(p.Laya.Image)],t.prototype,"Image_2",void 0),a([d(p.Laya.Image)],t.prototype,"Image_3",void 0),a([d(p.Laya.Image)],t.prototype,"ImageState_1",void 0),a([d(p.Laya.Image)],t.prototype,"ImageState_2",void 0),a([d(p.Laya.Image)],t.prototype,"ImageState_3",void 0),a([d(p.Laya.Animator2D)],t.prototype,"Animation_1",void 0),a([d(p.Laya.Animator2D)],t.prototype,"Animation_2",void 0),a([d(p.Laya.Animator2D)],t.prototype,"Animation_3",void 0),n=a([h()],t)}(l.GameBasePanel10100);n.GamePanelFight10100=f,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya","../../halls/halllib/net/Client":"Client","./GameAudioContro10100":"GameAudioContro10100","./GameBasePanel10100":"GameBasePanel10100","./GameData10100":"GameData10100","./GameNetProto10100":"GameNetProto10100"}],GamePanelRecord10100:[function(e,t,n){"use strict";cc._RF.push(t,"d2f11PU/kBCzoyBKIx8oEzL","GamePanelRecord10100");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GamePanelRecord10100=void 0;var r=e("./GameBasePanel10100"),s=e("./GameCardRes10100"),l=e("../../halls/halllib/laya/Laya"),c=l.Laya.regClass,u=l.Laya.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ButtonClose=null,t.HBox=null,t}var n;return i(t,e),n=t,t.prototype.onAwake=function(){n.Instance=this,e.prototype.onAwake.call(this),this.activeCards=[],this.ButtonClose.on(l.Laya.Event.CLICK,this,this.Hide)},t.prototype.AddRecord=function(e){var t=s.GameCardRes10100.Instance.GetSmallCard(e,this.HBox,!0);t.ImageCard.scale(1,1),t.Index=this.activeCards.length,this.activeCards.push(t)},t.prototype.AddRecords=function(e,t){if(this.Clear(),e>0)for(var n=0;n<e;n++)this.AddRecord(t[n])},t.prototype.RemoveCard=function(){if(this.activeCards.length>0){var e=this.activeCards.pop();s.GameCardRes10100.Instance.RecoveryCard(e)}},t.prototype.Clear=function(){for(var e=0;e<this.activeCards.length;e++)s.GameCardRes10100.Instance.RecoveryCard(this.activeCards[e]);this.activeCards=[]},a([u(l.Laya.Button)],t.prototype,"ButtonClose",void 0),a([u(l.Laya.HBox)],t.prototype,"HBox",void 0),n=a([c()],t)}(r.GameBasePanel10100);n.GamePanelRecord10100=p,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya","./GameBasePanel10100":"GameBasePanel10100","./GameCardRes10100":"GameCardRes10100"}],GamePanelRoad34800:[function(e,t,n){"use strict";cc._RF.push(t,"8cdcd2L3SZOQYHK9U08YgWy","GamePanelRoad34800");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GamePanelRoad34800=void 0;var r=e("./GameBasePanel34800"),s=e("../../halls/halllib/laya/Laya"),l=s.Laya.regClass,c=(s.Laya.property,function(e){function t(){return e.call(this)||this}var n;return i(t,e),n=t,t.prototype.onAwake=function(){n.Instance=this,e.prototype.onAwake.call(this),this.CloseBtn=this.owner.getChildByName("CloseBtn"),this.CloseBtn.on(s.Laya.Event.CLICK,this,this.Hide),this.WinNumber=[0,0,0,0],this.LabelWins=[];for(var t=0;t<4;t++){var o=this.owner.getChildByName("ImageObj_"+(t+1).toString());this.LabelWins[t]=o.getChildByName("LabelWin")}this.CardItems=[];var i=this.owner.getChildByName("HBoxRoads");for(t=0;t<10;t++)this.CardItems[t]=new u(i.getChildAt(t))},t.prototype.ShowHistorys=function(e){this.WinNumber=[0,0,0,0];for(var t=0;t<this.CardItems.length;t++)this.CardItems[t].ShowHistory(e[t]);for(t=0;t<4;t++)this.LabelWins[t].text=e.length>0?Math.floor(100*this.WinNumber[t]/e.length).toString()+"%":"0%"},n=a([l()],t)}(r.GameBasePanel34800));n.GamePanelRoad34800=c;var u=function(){function e(e){this.imageBg=e,this.imageCard=[],this.imageLost=[],this.imageWin=[],this.labelNum=[];for(var t=0;t<5;t++)this.imageCard[t]=e.getChildByName("Card_"+(t+1).toString()),this.imageLost[t]=this.imageCard[t].getChildByName("Lost"),this.imageWin[t]=this.imageCard[t].getChildByName("Win"),this.labelNum[t]=this.imageCard[t].getChildByName("Label");this.imageBg.visible=!1}return e.prototype.IsWin=function(e,t){var n=e%16,o=t%16;return n>o||n==o&&e>t},e.prototype.ShowHistory=function(e){if(e){this.imageBg.visible=!0,this.imageCard[4].loadImage("resources/games/game34800/res/cards/"+e[4]+".png"),this.labelNum[4].text="X"+(e[0]%16).toString();for(var t=0;t<4;t++){this.imageCard[t].loadImage("resources/games/game34800/res/cards/"+e[t]+".png"),this.labelNum[t].text="X"+(e[t]%16).toString();var n=this.IsWin(e[t],e[4]);this.imageWin[t].visible=n,this.imageLost[t].visible=!n,n&&c.Instance.WinNumber[t]++}}else this.imageBg.visible=!1},e}();cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya","./GameBasePanel34800":"GameBasePanel34800"}],GamePanelSettle10100:[function(e,t,n){"use strict";cc._RF.push(t,"e19f8X5KvNDh4Q+GhyKPvrX","GamePanelSettle10100");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GamePanelSettle10100=void 0;var r=e("../../halls/halllib/common/ConfigMng"),s=e("../../halls/halllib/core/RunData"),l=e("../../halls/halllib/net/Client"),c=e("./GameAudioContro10100"),u=e("./GameBasePanel10100"),p=e("./GameData10100"),h=e("./GameMain10100"),d=e("./GameMenu10100"),f=e("./GamePlayerMg10100"),g=e("../../halls/halllib/laya/Laya"),m=g.Laya.regClass,y=g.Laya.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ButtonChange=null,t.ButtonContinue=null,t.ButtonQuit=null,t.ButtonHide=null,t.LabelTime=null,t.ImageWin=null,t.ImageLost=null,t.PlayerGroud=null,t.timesDo=null,t}var n;return i(t,e),n=t,t.prototype.onAwake=function(){e.prototype.onAwake.call(this),n.Instance=this,this.ButtonChange.on(g.Laya.Event.CLICK,this,this.onButtonChange),this.ButtonContinue.on(g.Laya.Event.CLICK,this,this.onButtonContinue),this.ButtonQuit.on(g.Laya.Event.CLICK,this,this.onButtonQuit),this.ButtonHide.on(g.Laya.Event.CLICK,this,this.Hide),this.PlayerGroud=[];for(var t=0;t<3;t++)this.PlayerGroud[t]=new v(this.owner.getChildByName("Player_"+t))},t.prototype.onButtonChange=function(){this.StopTimeDown(),this.ButtonChange.visible=!1,this.ButtonContinue.visible=!1,this.Hide(),h.GameMain10100.Instance.ResetData(!0),l.Client.Instance.sendData(2000102,1),l.Client.Instance.sendData(2000102,11)},t.prototype.onButtonContinue=function(){this.StopTimeDown(),this.ButtonChange.visible=!1,this.ButtonContinue.visible=!1,this.Hide(),h.GameMain10100.Instance.ResetData(),l.Client.Instance.sendData(2000180,1)},t.prototype.onButtonQuit=function(){d.GameMenu10100.Instance.ShowOrHide()},t.prototype.onEventGameRestart=function(){this.ButtonChange.visible=!0,this.ButtonContinue.visible=!0,this.StartTimeDown(p.GameData10100.byFreeTime)},t.prototype.StopTimeDown=function(){this.timesDo=0,this.LabelTime.text="",this.owner.clearTimer(this,this.TimeDownFunc)},t.prototype.OnGameEnd=function(e){for(var t=0,n=0;n<3;n++)if(n!=e.wSkipChairID){var o=this.PlayerGroud[t],i=f.GamePlayerMg10100.Instance.GetUserInfo(n),a=e.m_arrTotalWin[n];o.LostTag.visible=a<0,o.WinTag.visible=a>0,p.GameData10100.MySeatNo==n?(o.LabelName.text="You",this.ImageWin.visible=a>=0,this.ImageLost.visible=a<0,c.GameAudioContro10100.Instance.PlaySoundById(a>=0?1:2),o.winselect.visible=a>=0,o.lostselect.visible=a<0):(o.LabelName.text=null!=i?i.nickName:"Player "+t,o.winselect.visible=!1,o.lostselect.visible=!1),this.LoadHeadImage(o.ImageHead,null!=i?i.bLogoID:0),this.SetWinLebels(o.LabelWins[0],e.m_arrNormalWin[n]),this.SetWinLebels(o.LabelWins[1],e.m_arrTongitsWin[n]),this.SetWinLebels(o.LabelWins[2],e.m_arrSecretMeldWin[n]),this.SetWinLebels(o.LabelWins[3],e.m_arrBonusCardWin[n]),this.SetWinLebels(o.LabelWins[4],e.m_arrBurnedWin[n]),this.SetWinLebels(o.LabelWins[5],e.m_arrChallengeWin[n]),this.SetWinLebels(o.LabelWins[6],e.m_arrHitpotWin[n]),this.SetWinLebels(o.LabelWins[7],e.m_arrTotalWin[n]),o.Pobject.visible=!0,t++}else this.PlayerGroud[2].Pobject.visible=!1;this.Show(),this.onEventGameRestart()},t.prototype.SetWinLebels=function(e,t){e.text=t>0?"+"+s.GameTool.formatMoneyString(t):t<0?s.GameTool.formatMoneyString(t):""},t.prototype.StartTimeDown=function(e){this.timesDo=e,this.LabelTime.text=this.timesDo>=10?this.timesDo.toString():"0"+this.timesDo.toString(),this.owner.clearTimer(this,this.TimeDownFunc),this.owner.timerOnce(1e3,this,this.TimeDownFunc,[1])},t.prototype.TimeDownFunc=function(e){this.timesDo-=e,this.timesDo<=0?(this.LabelTime.text="",this.onButtonContinue()):(this.LabelTime.text=this.timesDo>=10?this.timesDo.toString():"0"+this.timesDo.toString(),this.owner.timerOnce(1e3,this,this.TimeDownFunc,[1]))},t.prototype.LoadHeadImage=function(e,t){(t<0||t>r.ConfigMng.hallconfigJson.face.facelist.length)&&(t=0),e.loadImage(r.ConfigMng.hallconfigJson.face.facelist[t])},a([y(g.Laya.Button)],t.prototype,"ButtonChange",void 0),a([y(g.Laya.Button)],t.prototype,"ButtonContinue",void 0),a([y(g.Laya.Button)],t.prototype,"ButtonQuit",void 0),a([y(g.Laya.Button)],t.prototype,"ButtonHide",void 0),a([y(g.Laya.Label)],t.prototype,"LabelTime",void 0),a([y(g.Laya.Image)],t.prototype,"ImageWin",void 0),a([y(g.Laya.Image)],t.prototype,"ImageLost",void 0),n=a([m()],t)}(u.GameBasePanel10100);n.GamePanelSettle10100=_;var v=function(e){this.Pobject=e,this.WinTag=e.getChildByName("WinTag"),this.LostTag=e.getChildByName("LostTag"),this.ImageHead=e.getChildByName("ImageHead"),this.winselect=e.getChildByName("winselect"),this.lostselect=e.getChildByName("lostselect"),this.LabelName=e.getChildByName("LabelName");var t=e.getChildByName("VBox");this.LabelWins=[];for(var n=0;n<8;n++)this.LabelWins[n]=t.getChildAt(n)};cc._RF.pop()},{"../../halls/halllib/common/ConfigMng":"ConfigMng","../../halls/halllib/core/RunData":"RunData","../../halls/halllib/laya/Laya":"Laya","../../halls/halllib/net/Client":"Client","./GameAudioContro10100":"GameAudioContro10100","./GameBasePanel10100":"GameBasePanel10100","./GameData10100":"GameData10100","./GameMain10100":"GameMain10100","./GameMenu10100":"GameMenu10100","./GamePlayerMg10100":"GamePlayerMg10100"}],GamePanelSpinShow10100:[function(e,t,n){"use strict";cc._RF.push(t,"73e2dasZFREDaOz8sFFC20G","GamePanelSpinShow10100");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GamePanelSpinShow10100=void 0;var r=e("../../halls/halllib/laya/Laya"),s=r.Laya.regClass,l=r.Laya.property,c=function(e){function t(){var t=e.call(this)||this;return t.showtimes=2500,t}return i(t,e),t.prototype.onAwake=function(){this.panelObj=this.owner,this.spineObj=this.owner.getChildAt(0),this.panelObj.visible=!1},t.prototype.Show=function(){this.panelObj.visible=!0,this.spineObj.play("animation",!1),r.Laya.timer.once(this.showtimes,this,this.Hide)},t.prototype.Hide=function(){this.panelObj.visible=!1},a([l()],t.prototype,"showtimes",void 0),a([s()],t)}(r.Laya.Script);n.GamePanelSpinShow10100=c,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya"}],GamePanelSpinShow34800:[function(e,t,n){"use strict";cc._RF.push(t,"b1d33P+CnpHyrBWILz6E3WF","GamePanelSpinShow34800");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GamePanelSpinShow34800=void 0;var r=e("../../halls/halllib/laya/Laya"),s=r.Laya.regClass,l=(r.Laya.property,function(e){function t(){return e.call(this)||this}return i(t,e),t.prototype.onAwake=function(){this.panelObj=this.owner,this.spineObj=this.owner.getChildAt(0),this.panelObj.alpha=.01},t.prototype.Show=function(){this.panelObj.alpha=1,this.spineObj.play("animation",!1),r.Laya.timer.once(2500,this,this.Hide)},t.prototype.Hide=function(){this.panelObj.alpha=.01},a([s()],t)}(r.Laya.Script));n.GamePanelSpinShow34800=l,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya"}],GamePanelStartBet30700:[function(e,t,n){"use strict";cc._RF.push(t,"88fd04vxclKprhc2QiESGe9","GamePanelStartBet30700");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GamePanelStartBet30700=void 0;var r=e("./GameBasePanel30700"),s=e("../../halls/halllib/laya/Laya"),l=s.Laya.regClass,c=(s.Laya.property,function(e){function t(){return e.call(this)||this}var n;return i(t,e),n=t,t.prototype.onAwake=function(){n.Instance=this,e.prototype.onAwake.call(this)},n=a([l()],t)}(r.GameBasePanel30700));n.GamePanelStartBet30700=c,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya","./GameBasePanel30700":"GameBasePanel30700"}],GamePanelStopBet30700:[function(e,t,n){"use strict";cc._RF.push(t,"1af2afUzd1Ki5cXB1EG9K6f","GamePanelStopBet30700");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GamePanelStopBet30700=void 0;var r=e("./GameBasePanel30700"),s=e("../../halls/halllib/laya/Laya"),l=s.Laya.regClass,c=(s.Laya.property,function(e){function t(){return e.call(this)||this}var n;return i(t,e),n=t,t.prototype.onAwake=function(){n.Instance=this,e.prototype.onAwake.call(this)},n=a([l()],t)}(r.GameBasePanel30700));n.GamePanelStopBet30700=c,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya","./GameBasePanel30700":"GameBasePanel30700"}],GamePanelSystem:[function(e,t,n){"use strict";cc._RF.push(t,"cee93mkI9tN36Rv8RBJMTFS","GamePanelSystem"),Object.defineProperty(n,"__esModule",{value:!0}),n.gameAnimSystem=void 0;var o=e("../systems/user/VipSystem"),i=function(){function e(){this.isShowReceiveFeaturesPanel=!1}return e.prototype.reset=function(){this.isShowReceiveFeaturesPanel=!1},e.prototype.setShowReceiveFeaturesPanel=function(){this.isShowReceiveFeaturesPanel=!0},e.prototype.setHideReceiveFeaturesPanel=function(){this.isShowReceiveFeaturesPanel=!1,o.vipSystem.checkVipInfoUpdateAnimPlay()},e.prototype.getAnimPlaying=function(){return!!this.isShowReceiveFeaturesPanel},e}();n.gameAnimSystem=new i,cc._RF.pop()},{"../systems/user/VipSystem":"VipSystem"}],GamePlayerCard10100:[function(e,t,n){"use strict";cc._RF.push(t,"8cedeuB2yBO5413b3XZhU6l","GamePlayerCard10100");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GamePlayerCard10100=void 0;var r=e("./GameCardMg10100"),s=e("./GameCardRes10100"),l=e("../../halls/halllib/laya/Laya"),c=l.Laya.regClass,u=l.Laya.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.DropBox1=null,t.DropBox2=null,t.DropBox3=null,t.DropBox4=null,t.DropBg=null,t.DropBoxs=null,t.dcardData=null,t.LabelCard=null,t.ImageCard=null,t.DropBoxRoot_1=null,t.DropBoxRoot_2=null,t.DropBoxRoot=null,t.sendCardPos=null,t.cardNum=null,t}return i(t,e),t.prototype.onAwake=function(){this.cardNum=0,this.DropBoxs=[this.DropBox1,this.DropBox2,this.DropBox3,this.DropBox4],this.dcardData=[[],[],[],[]],this.ImageCard.visible=!1},t.prototype.GetSendCardPos=function(){return null!=this.sendCardPos&&null!=this.sendCardPos||(this.sendCardPos=new l.Laya.Point(0,0),this.sendCardPos=this.ImageCard.localToGlobal(this.sendCardPos,!1),this.sendCardPos=r.GameCardMg10100.Instance.GBox.globalToLocal(this.sendCardPos,!1)),this.sendCardPos},t.prototype.Init=function(){this.Clear()},t.prototype.Clear=function(){this.cardNum=0;for(var e=0;e<this.dcardData.length;e++)if(this.dcardData.length>0)for(var t=0;t<this.dcardData[e].length;t++)s.GameCardRes10100.Instance.RecoveryCard(this.dcardData[e][t]);this.dcardData=[[],[],[],[]]},t.prototype.ResetBoxWidth=function(e){var t=this.dcardData[e].length,n=this.DropBoxs[e];t>0&&(n.width=30*(t-1)+60),!this.DropBoxRoot_1||0!=e&&2!=e||(this.DropBoxRoot_1.width=this.DropBoxs[0].width+this.DropBoxs[2].width+6),!this.DropBoxRoot_2||1!=e&&3!=e||(this.DropBoxRoot_2.width=this.DropBoxs[1].width+this.DropBoxs[3].width+6),this.DropBoxRoot&&(this.DropBoxRoot.width=this.DropBoxRoot_1.width>this.DropBoxRoot_2.width?this.DropBoxRoot_1.width:this.DropBoxRoot_2.width),n.refresh()},t.prototype.AddCardToGroud=function(e,t,n){void 0===n&&(n=!0);var o=this.DropBoxs[t],i=s.GameCardRes10100.Instance.GetSmallCard(e,o,n);i.ImageCard.scale(1,1);var a=this.dcardData[t];return i.Index=a.length,a.push(i),i},t.prototype.AddGroudCard=function(e,t,n,o){return void 0===n&&(n=!0),void 0===o&&(o=!1),this.AddCardToGroud(e,t,n)},t.prototype.AddNewGroud=function(e,t){if(this.dcardData.length>t){e.sort(function(e,t){return e-t});for(var n=0;n<e.length;n++)this.AddCardToGroud(e[n],t);this.ResetBoxWidth(t)}},t.prototype.IsCanGroudCard=function(e){for(var t=[],n=0;n<this.dcardData.length;n++){var o=this.dcardData[n];o.length>2&&(o[0].CardPoin==o[1].CardPoin?this.isSamPoin(o[0].CardPoin,e)&&t.push(n):this.isStraight(o,e)&&t.push(n))}return t},t.prototype.isSamPoin=function(e,t){for(var n=!0,o=0;o<t.length;o++)if((15&t[o])!=e){n=!1;break}return n},t.prototype.isStraight=function(e,t){for(var n=!0,o=[],i=0;i<e.length;i++)o.push(e[i].Data);for(i=0;i<t.length;i++)o.push(t[i]);for(o.sort(function(e,t){return e-t}),i=1;i<o.length;i++)if(o[i]!=o[i-1]+1){n=!1;break}return n},t.prototype.GetGroudPos=function(e){var t=this.DropBoxs[e],n=new l.Laya.Point(t.width/2,t.height/2);return n=t.localToGlobal(n,!1),r.GameCardMg10100.Instance.GBox.globalToLocal(n,!1)},t.prototype.GetGroudWidth=function(e){return this.DropBoxs[e].width+42},t.prototype.SetCardNum=function(e){this.cardNum=e,this.LabelCard.text=e.toString(),this.ImageCard.visible=e>0},t.prototype.AutoSortGroud=function(e){var t=this.dcardData[e];if(t&&t.length>0){t.sort(function(e,t){return e.Data-t.Data});for(var n=0;n<t.length;n++)t[n].Index=n}},a([u(l.Laya.HBox)],t.prototype,"DropBox1",void 0),a([u(l.Laya.HBox)],t.prototype,"DropBox2",void 0),a([u(l.Laya.HBox)],t.prototype,"DropBox3",void 0),a([u(l.Laya.HBox)],t.prototype,"DropBox4",void 0),a([u(l.Laya.Image)],t.prototype,"DropBg",void 0),a([u(l.Laya.Label)],t.prototype,"LabelCard",void 0),a([u(l.Laya.Image)],t.prototype,"ImageCard",void 0),a([u(l.Laya.HBox)],t.prototype,"DropBoxRoot_1",void 0),a([u(l.Laya.HBox)],t.prototype,"DropBoxRoot_2",void 0),a([u(l.Laya.VBox)],t.prototype,"DropBoxRoot",void 0),a([c()],t)}(l.Laya.Script);n.GamePlayerCard10100=p,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya","./GameCardMg10100":"GameCardMg10100","./GameCardRes10100":"GameCardRes10100"}],GamePlayerInfo10100:[function(e,t,n){"use strict";cc._RF.push(t,"38d5frVGn1OzZzKoSrmE/fu","GamePlayerInfo10100");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GamePlayerInfo10100=void 0;var r=e("../../halls/halllib/common/ConfigMng"),s=e("../../halls/halllib/core/RunData"),l=e("./GamePlayerTime10100"),c=e("./GameData10100"),u=e("../../halls/halllib/laya/Laya"),p=u.Laya.regClass,h=u.Laya.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ImageHitpot=null,t.SpineTongits=null,t.SpineWin=null,t.userInfo=null,t.LabelName=null,t.LabelMoney=null,t.ImageHead=null,t.ImageReady=null,t.ImageRay=null,t.ImageState=null,t.timesDown=null,t}return i(t,e),t.prototype.onAwake=function(){this.LabelName.text="",this.LabelMoney.text="",this.ImageRay.visible=!1,this.ImageReady.visible=!1,this.ImageState.visible=!1,this.timesDown=this.owner.getChildByName("ImageTime").getComponent(l.GamePlayerTime10100)},t.prototype.InitStart=function(e){void 0===e&&(e=!1),e?this.RemovePlayer():(this.ImageReady.visible=!1,this.SpineTongits.visible=!1,this.SpineWin.visible=!1,this.ImageState.visible=!1)},t.prototype.RemovePlayer=function(){this.userInfo=null,this.LabelName.text="",this.LabelMoney.text="",this.ImageHead.visible=!1,this.ImageRay.visible=!1,this.ImageReady.visible=!1,this.ImageHitpot.visible=!1,this.ImageState.visible=!1,this.SpineTongits.visible=!1,this.SpineWin.visible=!1},t.prototype.UpDateUserInfo=function(e){this.userInfo=e,this.LabelName.text=this.userInfo.nickName,this.LabelMoney.text=e.dwUserID==s.RunData.myUserInfo.dwUserID?s.GameTool.formatMoneyString(this.userInfo.dwMoney.toNumber()):"***",this.LoadHeadImage(this.ImageHead,this.userInfo.bLogoID),this.ImageHead.visible=!0},t.prototype.UserAgree=function(){this.userInfo?this.userInfo.bUserState:this.ImageReady.visible=!1},t.prototype.FlashPlayerMoney=function(e){this.userInfo&&(this.LabelMoney.text=this.userInfo.dwUserID==s.RunData.myUserInfo.dwUserID?s.GameTool.formatMoneyString(e):"***")},t.prototype.OnPlayerOperate=function(e,t,n){void 0===n&&(n=0),e?(this.ImageRay.visible=e,this.timesDown.StartTime(1e3*t,1e3*n)):(this.timesDown.StopTime(),this.ImageRay.visible=!1)},t.prototype.CancelOperate=function(){this.timesDown.StopTime(),this.ImageRay.visible=!1},t.prototype.FightState=function(e){this.ImageState.skin=c.GameData10100.ResPath+"Game/Tongits_FightStatus_"+e+".png",this.ImageState.visible=!0},t.prototype.LoadHeadImage=function(e,t){(t<0||t>r.ConfigMng.hallconfigJson.face.facelist.length)&&(t=0),e.skin=r.ConfigMng.hallconfigJson.face.facelist[t]},a([h(u.Laya.Image)],t.prototype,"ImageHitpot",void 0),a([h(u.Laya.SpineSkeleton)],t.prototype,"SpineTongits",void 0),a([h(u.Laya.SpineSkeleton)],t.prototype,"SpineWin",void 0),a([h(u.Laya.Label)],t.prototype,"LabelName",void 0),a([h(u.Laya.Label)],t.prototype,"LabelMoney",void 0),a([h(u.Laya.Image)],t.prototype,"ImageHead",void 0),a([h(u.Laya.Image)],t.prototype,"ImageReady",void 0),a([h(u.Laya.Image)],t.prototype,"ImageRay",void 0),a([h(u.Laya.Image)],t.prototype,"ImageState",void 0),a([p()],t)}(u.Laya.Script);n.GamePlayerInfo10100=d,cc._RF.pop()},{"../../halls/halllib/common/ConfigMng":"ConfigMng","../../halls/halllib/core/RunData":"RunData","../../halls/halllib/laya/Laya":"Laya","./GameData10100":"GameData10100","./GamePlayerTime10100":"GamePlayerTime10100"}],GamePlayerMg10100:[function(e,t,n){"use strict";cc._RF.push(t,"f5604Q3/MtDVLJEj14677K6","GamePlayerMg10100");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GamePlayerMg10100=void 0;var r=e("./GamePlayerInfo10100"),s=e("./GameData10100"),l=e("./GameNetProto10100"),c=e("../../halls/halllib/laya/Laya"),u=c.Laya.regClass,p=c.Laya.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.playerDatas=null,t.playerData_1=null,t.playerData_2=null,t.playerData_3=null,t}var n;return i(t,e),n=t,t.prototype.onAwake=function(){n.Instance=this,this.playerDatas=[this.playerData_1,this.playerData_2,this.playerData_3]},t.prototype.RemovePlayer=function(e){for(var t=0;t<this.playerDatas.length;t++){var n=this.playerDatas[t];n.userInfo&&n.userInfo.dwUserID==e.dwUserID&&n.RemovePlayer()}},t.prototype.UpDateUserInfo=function(e){if(e.bDeskStation>2||e.bDeskStation<0)this.RemovePlayer(e);else{var t=s.GameData10100.LogiNoToUiNo(e.bDeskStation);this.playerDatas[t].UpDateUserInfo(e)}},t.prototype.FlashPlayerMoney=function(e,t){var n=s.GameData10100.LogiNoToUiNo(e);this.playerDatas[n].FlashPlayerMoney(t)},t.prototype.OnPlayerOperate=function(e,t,n){void 0===n&&(n=0);for(var o=s.GameData10100.LogiNoToUiNo(e),i=0;i<this.playerDatas.length;i++)this.playerDatas[i].OnPlayerOperate(i==o,t,n)},t.prototype.OnPlayerFight=function(e,t){var n=s.GameData10100.LogiNoToUiNo(e.wFightPlayer),o=0;e.wSkipChairID<=2&&(o=s.GameData10100.LogiNoToUiNo(e.wSkipChairID));for(var i=0;i<this.playerDatas.length;i++)this.playerDatas[i].OnPlayerOperate(i!=n&&i!=o,t)},t.prototype.CancelOperate=function(e){if(e>=0){var t=s.GameData10100.LogiNoToUiNo(e);this.playerDatas[t].CancelOperate()}else for(var n=0;n<this.playerDatas.length;n++)this.playerDatas[n].CancelOperate()},t.prototype.InitStart=function(e){void 0===e&&(e=!1);for(var t=0;t<this.playerDatas.length;t++)this.playerDatas[t].InitStart(e&&0!=t)},t.prototype.OnFightSuccess=function(e){var t=s.GameData10100.LogiNoToUiNo(e.wFightPlayer);this.playerDatas[t].FightState(0);for(var n=0;n<e.arrFightResponse.length;n++)if(0==e.arrFightResponse[n]){var o=s.GameData10100.LogiNoToUiNo(n);this.playerDatas[o].FightState(3)}},t.prototype.OnFoldSuccess=function(e){var t=s.GameData10100.LogiNoToUiNo(e.wFoldPlayer);this.playerDatas[t].FightState(1)},t.prototype.OnChallengeSuccess=function(e){var t=s.GameData10100.LogiNoToUiNo(e.wChallenger);this.playerDatas[t].FightState(2)},t.prototype.OnGameEnd=function(e){var t=s.GameData10100.LogiNoToUiNo(e.wWinner);e.byEndReason==l.GameNetProto10100.GameEndReason.E_GAME_END_BY_TONGITS?(this.playerDatas[t].SpineTongits.visible=!0,this.playerDatas[t].SpineTongits.play(0,!1)):(this.playerDatas[t].SpineWin.visible=!0,this.playerDatas[t].SpineWin.play(0,!1));for(var n=0;n<this.playerDatas.length;n++){var o=s.GameData10100.LogiNoToUiNo(n);this.playerDatas[o].FlashPlayerMoney(e.m_arrPlayerScore[n]),this.playerDatas[o].ImageHitpot.visible=e.wWinner==n}},t.prototype.SetHitpot=function(e){for(var t=0;t<this.playerDatas.length;t++){var n=s.GameData10100.LogiNoToUiNo(t);this.playerDatas[n].ImageHitpot.visible=e==t}},t.prototype.UserAgree=function(e,t,n){var o=s.GameData10100.LogiNoToUiNo(t);this.playerDatas[o].UserAgree(1==n)},t.prototype.GetUserInfo=function(e){var t=s.GameData10100.LogiNoToUiNo(e);return this.playerDatas[t].userInfo},a([p({type:r.GamePlayerInfo10100})],t.prototype,"playerData_1",void 0),a([p({type:r.GamePlayerInfo10100})],t.prototype,"playerData_2",void 0),a([p({type:r.GamePlayerInfo10100})],t.prototype,"playerData_3",void 0),n=a([u()],t)}(c.Laya.Script);n.GamePlayerMg10100=h,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya","./GameData10100":"GameData10100","./GameNetProto10100":"GameNetProto10100","./GamePlayerInfo10100":"GamePlayerInfo10100"}],GamePlayerMg34800:[function(e,t,n){"use strict";cc._RF.push(t,"82eb3ekesZJq6GtE7XW1nHv","GamePlayerMg34800");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.GamePlayerMg34800=void 0;var s=r(e("../../halls/hall/BaseRoom")),l=e("../../halls/halllib/common/ConfigMng"),c=e("../../halls/halllib/core/RunData"),u=e("../../halls/halllib/laya/Laya"),p=u.Laya.regClass,h=(u.Laya.property,function(e){function t(){return e.call(this)||this}var n;return i(t,e),n=t,t.prototype.onAwake=function(){n.Instance=this,this.PlayerObjs=[];for(var e=0;e<6;e++)this.PlayerObjs[e]=new d(this.owner.getChildAt(e))},t.prototype.OnDestroys=function(){u.Laya.timer.clearAll(this)},t.prototype.PlayerIn=function(e,t){var n=this.GetUserBySit(e);n?(this.PlayerObjs[t].ChairId=e,this.PlayerObjs[t].LabelName.text=n.nickName,this.LoadHeadImage(this.PlayerObjs[t].ImageHead,n.bLogoID),this.PlayerObjs[t].LabelWin.text="",this.PlayerObjs[t].LabelLost.text=""):this.PlayerLeave(t)},t.prototype.LoadHeadImage=function(e,t){(t<0||t>l.ConfigMng.hallconfigJson.face.facelist.length)&&(t=0),e.loadImage(l.ConfigMng.hallconfigJson.face.facelist[t])},t.prototype.PlayerLeave=function(e){this.PlayerObjs[e]&&(this.PlayerObjs[e].ChairId=-1,this.PlayerObjs[e].ImageHead.texture=null,this.PlayerObjs[e].LabelName.text="",this.PlayerObjs[e].LabelWin.text="",this.PlayerObjs[e].LabelLost.text="")},t.prototype.ShowWinMoney=function(e,t){var n,o=this.PlayerObjs[t];e>0?(o.LabelWin.text="+"+c.GameTool.formatMoneyString(e),n=o.LabelWin,o.LabelLost.text=""):e<0&&(o.LabelLost.text=c.GameTool.formatMoneyString(e),n=o.LabelLost,o.LabelWin.text=""),n&&(n.pos(n.x,70),u.Laya.Tween.to(n,{y:36},200),u.Laya.timer.once(1e3,this,function(){n.text=""}))},t.prototype.GetPlayerByIndex=function(e){return this.PlayerObjs[e]},t.prototype.GetPlayerByChairId=function(e){for(var t=0;t<this.PlayerObjs.length;t++)if(this.PlayerObjs[t].ChairId==e)return this.PlayerObjs[t];return null},t.prototype.GetUserBySit=function(e){for(var t=0;t<s.default.userList.length;t++)if(e==s.default.userList[t].bDeskStation)return s.default.userList[t];return null},n=a([p()],t)}(u.Laya.Script));n.GamePlayerMg34800=h;var d=function(){function e(e){this.MainObj=e,this.ImageHead=e.getChildByName("ImageHead"),this.LabelName=e.getChildByName("LabelName"),this.LabelWin=e.getChildByName("LabelWin"),this.LabelLost=e.getChildByName("LabelLost"),this.X=this.MainObj.x,this.Y=this.MainObj.y}return e.prototype.GoBackPos=function(){this.MainObj.pos(this.X,this.Y)},e}();cc._RF.pop()},{"../../halls/hall/BaseRoom":"BaseRoom","../../halls/halllib/common/ConfigMng":"ConfigMng","../../halls/halllib/core/RunData":"RunData","../../halls/halllib/laya/Laya":"Laya"}],GamePlayerTime10100:[function(e,t,n){"use strict";cc._RF.push(t,"2e36dEm8tBFGYdOpGxLOPTX","GamePlayerTime10100");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GamePlayerTime10100=void 0;var r=e("../../halls/halllib/laya/Laya"),s=r.Laya.regClass,l=r.Laya.property,c=function(e){function t(){var t=e.call(this)||this;return t.LineRanderer=null,t.countdownTimer=0,t.currentAngle=0,t.startTimer=0,t}return i(t,e),t.prototype.StartTime=function(e,t){void 0===t&&(t=0),this.countdownTimer=e,this.startTimer=r.Laya.Browser.now()-t,r.Laya.timer.frameLoop(1,this,this.StartDrawCountdown)},t.prototype.StopTime=function(){this.LineRanderer.graphics.clear(),r.Laya.timer.clear(this,this.StartDrawCountdown)},t.prototype.StartDrawCountdown=function(){var e=r.Laya.Browser.now();this.currentAngle=(e-this.startTimer)/this.countdownTimer*360,this.currentAngle>=360?this.StopTime():(this.LineRanderer.graphics.clear(),this.LineRanderer.graphics.drawPie(60,60,60,-90,-90-this.currentAngle,"#00ff00"))},a([l({type:r.Laya.Image})],t.prototype,"LineRanderer",void 0),a([s()],t)}(r.Laya.Script);n.GamePlayerTime10100=c,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya"}],GamePopup34900:[function(e,t,n){"use strict";cc._RF.push(t,"4a5b11xQj1DAIcYcKRhI9a3","GamePopup34900");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GamePopup34900=void 0;var r=e("../../halls/halllib/core/HallData"),s=e("../../halls/halllib/core/RunData"),l=e("./GameConstant34900"),c=e("../../halls/halllib/laya/Laya"),u=c.Laya.regClass,p=c.Laya.property,h=function(e){function t(){var t=e.call(this)||this;return t.TossNode=null,t.TossSpine=null,t.StartBetNode=null,t.StartBetSpine=null,t.StopBetNode=null,t.StopBetSpine=null,t.WinNode=null,t.WinHead=null,t.WinName=null,t.WinMoney=null,t.LoseNode=null,t.LoseHead=null,t.LoseName=null,t.LoseMoney=null,t.ShowStopSpine=function(e){return t.gameResult=e,t.StopBetNode.visible=!0,t.StopBetSpine.play(0,!1,!0),new Promise(function(e){c.Laya.timer.once(2667,t,function(){t.StopBetNode.visible=!1,t.TossNode.visible=!0;var n=0==t.gameResult?"zheng":"fan";t.TossSpine.play(n,!1,!0),c.Laya.timer.once(2667,t,function(){t.TossNode.visible=!1,e()})})})},t.ShowWinOrLose=function(e){return e>0?(r.HallSoundManager.PlaySound(l.GameConstant34900.EFFECT_Win,1),t.WinNode.visible=!0,t.WinMoney.text="+"+s.GameTool.formatMoneyString(e)):e<0&&(t.LoseNode.visible=!0,t.LoseMoney.text=s.GameTool.formatMoneyString(e)),new Promise(function(e){c.Laya.timer.once(2e3,t,function(){t.WinNode.visible=!1,t.LoseNode.visible=!1,e()})})},t}return i(t,e),t.prototype.Init=function(e,t){this.gameResult=0,this.WinHead.loadImage(t),this.WinName.text=e,this.LoseHead.loadImage(t),this.LoseName.text=e},t.prototype.ShowStartBet=function(){var e=this;this.gameResult=0,this.StartBetNode.visible=!0,this.StartBetSpine.play(0,!1,!0),c.Laya.timer.once(2667,this,function(){e.StartBetNode.visible=!1})},t.prototype.OnDestroy=function(){c.Laya.Tween.clearAll(this)},a([p({type:c.Laya.Image})],t.prototype,"TossNode",void 0),a([p({type:c.Laya.SpineSkeleton})],t.prototype,"TossSpine",void 0),a([p({type:c.Laya.Image})],t.prototype,"StartBetNode",void 0),a([p({type:c.Laya.SpineSkeleton})],t.prototype,"StartBetSpine",void 0),a([p({type:c.Laya.Image})],t.prototype,"StopBetNode",void 0),a([p({type:c.Laya.SpineSkeleton})],t.prototype,"StopBetSpine",void 0),a([p({type:c.Laya.Image})],t.prototype,"WinNode",void 0),a([p({type:c.Laya.Image})],t.prototype,"WinHead",void 0),a([p({type:c.Laya.Label})],t.prototype,"WinName",void 0),a([p({type:c.Laya.Label})],t.prototype,"WinMoney",void 0),a([p({type:c.Laya.Image})],t.prototype,"LoseNode",void 0),a([p({type:c.Laya.Image})],t.prototype,"LoseHead",void 0),a([p({type:c.Laya.Label})],t.prototype,"LoseName",void 0),a([p({type:c.Laya.Label})],t.prototype,"LoseMoney",void 0),a([u()],t)}(c.Laya.Script);n.GamePopup34900=h,cc._RF.pop()},{"../../halls/halllib/core/HallData":"HallData","../../halls/halllib/core/RunData":"RunData","../../halls/halllib/laya/Laya":"Laya","./GameConstant34900":"GameConstant34900"}],GameQuickMatchSystem:[function(e,t,n){"use strict";cc._RF.push(t,"72372TTe65FEb2LbuzO6TRS","GameQuickMatchSystem"),Object.defineProperty(n,"__esModule",{value:!0}),n.gameQuickMatchSystem=void 0;n.gameQuickMatchSystem=new function(){},cc._RF.pop()},{}],GameRank34600:[function(e,t,n){"use strict";cc._RF.push(t,"0dd2d/A709MDIr5LmmYxXTh","GameRank34600");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameRank34600=void 0;var r=e("../../halls/halllib/core/RunData"),s=e("../../halls/halllib/laya/Laya"),l=s.Laya.regClass,c=s.Laya.property,u=function(e){function t(){var t=e.call(this)||this;return t.RankList=null,t}return i(t,e),t.prototype.ResetRank=function(){this.RankList.array=[],this.rankDataList=[]},t.prototype.InitRankInfo=function(e,t){this.rankDataList=[],this.RankList.array=[],t?e.sort(function(e,t){return e.m_dWinScore>0==t.m_dWinScore>0?t.m_dWinScore+t.m_dBetScore-(e.m_dWinScore+e.m_dBetScore):e.m_dWinScore>0?-1:1}):e.sort(function(e,t){return t.m_dBetScore-e.m_dBetScore});for(var n=0;n<e.length;n++){e[n].m_dWinScore>0&&(e[n].m_dWinScore+=e[n].m_dBetScore),this.labelColor=e[n].m_dWinScore>0?"#16fd05":"#fde905";var o,i,a="",s="";o=r.GameTool.formatMoneyString(e[n].m_dBetScore),i=e[n].m_szNickName.length>4?"**"+e[n].m_szNickName.substring(e[n].m_szNickName.length-4):e[n].m_szNickName,e[n].m_dWinScore>0?(a=e[n].m_dQuitMultiple.toFixed(2)+"x",s=r.GameTool.formatMoneyString(e[n].m_dWinScore+e[n].m_dBetScore)):(a="-",s="-");var l=e[n].m_dWinScore>0?"resources/games/game34600/res/Image/Atlas/Game/di.png":"";this.RankList.addItem({RankItem:{skin:l},Name:{text:i,color:this.labelColor},Bet:{text:o,color:this.labelColor},Multiple:{text:a,color:this.labelColor},Win:{text:s,color:this.labelColor}}),this.rankDataList.push(e[n])}this.RankList.vScrollBarSkin="",this.RankList.repeatX=1,this.RankList.repeatY=e.length},t.prototype.RefreshRank=function(e,t){void 0===t&&(t=!1);var n=!1;null!=this.rankDataList&&null!=this.rankDataList||(this.rankDataList=[]);for(var o=0;o<this.rankDataList.length;o++)if(this.rankDataList[o].m_dwGameID==e.m_dwGameID){this.rankDataList[o].m_szNickName=e.m_szNickName,this.rankDataList[o].m_dBetScore=e.m_dBetScore,this.rankDataList[o].m_dQuitMultiple=e.m_dQuitMultiple,this.rankDataList[o].m_dWinScore=e.m_dWinScore,n=!0;break}0==n&&this.rankDataList.push(e),t?this.rankDataList.sort(function(e,t){return e.m_dWinScore>0==t.m_dWinScore>0?t.m_dWinScore+t.m_dBetScore-(e.m_dWinScore+e.m_dBetScore):e.m_dWinScore>0?-1:1}):this.rankDataList.sort(function(e,t){return t.m_dBetScore-e.m_dBetScore});var i=0;for(o=0;o<this.rankDataList.length;o++)this.rankDataList[o].m_dwGameID==e.m_dwGameID&&(i=o);var a,s,l="",c="";a=r.GameTool.formatMoneyString(e.m_dBetScore),s=e.m_szNickName.length>4?"**"+e.m_szNickName.substring(e.m_szNickName.length-4):e.m_szNickName,e.m_dWinScore>0?(l=e.m_dQuitMultiple.toFixed(2)+"x",c=r.GameTool.formatMoneyString(e.m_dWinScore+e.m_dBetScore)):(l="-",c="-");var u=e.m_dWinScore>0?"resources/games/game34600/res/Image/Atlas/Game/di.png":"";this.rankDataList.length>50&&(this.rankDataList.pop(),this.RankList.deleteItem(this.RankList.array.length-1)),this.labelColor=e.m_dWinScore>0?"#16fd05":"#fde905",this.RankList.addItemAt({RankItem:{skin:u},Name:{text:s,color:this.labelColor},Bet:{text:a,color:this.labelColor},Multiple:{text:l,color:this.labelColor},Win:{text:c,color:this.labelColor}},i),this.RankList.vScrollBarSkin="",this.RankList.repeatX=1,this.RankList.repeatY=this.RankList.array.length},t.prototype.RemoveRankPlayer=function(e){for(var t=-1,n=0;n<this.rankDataList.length;n++)if(this.rankDataList[n].m_dwGameID==e){t=n,this.rankDataList.splice(n,1);break}this.RankList.deleteItem(t)},a([c({type:s.Laya.List})],t.prototype,"RankList",void 0),a([l()],t)}(s.Laya.Script);n.GameRank34600=u,cc._RF.pop()},{"../../halls/halllib/core/RunData":"RunData","../../halls/halllib/laya/Laya":"Laya"}],GameRecord11100:[function(e,t,n){"use strict";cc._RF.push(t,"5dad4ddk7FG3roakkNOSIJ8","GameRecord11100");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameRecord11100=void 0;var r=e("./GameConstant11100"),s=e("../../halls/halllib/laya/Laya"),l=s.Laya.regClass,c=s.Laya.property,u=function(e){function t(){var t=e.call(this)||this;return t.BlackProgress=null,t.RedProgress=null,t.Record20List=null,t.RecordList=null,t.RecordResultList=null,t.gameRecordList=[],t}return i(t,e),t.prototype.RefreshRecord=function(e){this.gameRecordList=e,this.Record20List.array=[],this.RecordList.array=[],this.RecordResultList.array=[];var t=0,n=0,o=0,i=0;e.length>20&&(o=e.length-20),e.length>10&&(i=e.length-10);for(var a=o;a<e.length;a++){var s=0==e[a].Result?"resources/games/game11100/res/Image/Game/UI_RedBlack_HistoryBlack.png":"resources/games/game11100/res/Image/Game/UI_RedBlack_HistoryRed.png";this.Record20List.addItem({Item:{skin:s}})}for(this.Record20List.repeatX=e.length>20?20:e.length,this.Record20List.repeatY=1,a=i;a<e.length;a++){var l=a==e.length-1?"resources/games/game11100/res/Image/Game/UI_RedBlack_New.png":"";this.RecordResultList.addItem({ItemCard:{skin:"resources/games/game11100/res/Image/Game/UI_RedBlack_LDbox_Black.png"},ItemFont:{skin:r.GameConstant11100.LoseCardType.get(e[a].CardType-1)},New:{skin:l}})}for(this.RecordResultList.hScrollBarSkin="",this.RecordResultList.repeatY=2,this.RecordResultList.repeatX=e.length>5?5:e.length,a=0;a<e.length;a++)0==e[a].Result&&t++,1==e[a].Result&&n++,s=0==e[a].Result?"resources/games/game11100/res/Image/Game/UI_RedBlack_HistoryBlack.png":"resources/games/game11100/res/Image/Game/UI_RedBlack_HistoryRed.png",this.RecordList.addItem({Item:{skin:s}});this.RecordList.repeatX=Math.ceil(e.length/6),this.RecordList.repeatY=6,this.BlackProgress.text=Math.round(t/e.length*100).toString()+"%",this.RedProgress.text=Math.round(n/e.length*100).toString()+"%"},a([c({type:s.Laya.Label})],t.prototype,"BlackProgress",void 0),a([c({type:s.Laya.Label})],t.prototype,"RedProgress",void 0),a([c({type:s.Laya.List})],t.prototype,"Record20List",void 0),a([c({type:s.Laya.List})],t.prototype,"RecordList",void 0),a([c({type:s.Laya.List})],t.prototype,"RecordResultList",void 0),a([l()],t)}(s.Laya.Script);n.GameRecord11100=u,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya","./GameConstant11100":"GameConstant11100"}],GameRoad34200:[function(e,t,n){"use strict";cc._RF.push(t,"254d5+SHYVEVq1WL5Nf0gEJ","GameRoad34200");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameRoad34200=n.GameConstant=n.ROAD_TYPE=n.GAME_RESULT=n.TossCoinResult=n.RoadItemInfo=void 0;var r,s,l,c=e("../../halls/halllib/net/InnerEvent"),u=e("./GameData34200"),p=e("./GameMsg34200"),h=e("../../halls/halllib/laya/Laya"),d=h.Laya.regClass,f=h.Laya.property,g=function(){};n.RoadItemInfo=g,function(e){e[e.AREA_HEAD=0]="AREA_HEAD",e[e.AREA_TAIL=1]="AREA_TAIL"}(r=n.TossCoinResult||(n.TossCoinResult={})),function(e){e[e.Zhuang=0]="Zhuang",e[e.Xian=1]="Xian",e[e.He=2]="He"}(s=n.GAME_RESULT||(n.GAME_RESULT={})),function(e){e[e.ZhuPanLu=0]="ZhuPanLu",e[e.DaLu=1]="DaLu",e[e.DaYanZaiLu=2]="DaYanZaiLu",e[e.Xiaolu=3]="Xiaolu",e[e.ZhangLangLu=4]="ZhangLangLu"}(l=n.ROAD_TYPE||(n.ROAD_TYPE={}));var m=function(){function e(){}return e.MAX_SIMPLE_CHART_COUNT=100,e.MAX_CHAIR_ROAD_COUNT=13,e.MAX_OCCUPY_SEAT_COUNT=6,e.GAME_STATUS_FREE=0,e.GAME_STATUS_PLACE_JETTON=1,e.GAME_STATUS_ACCOUNT=2,e.ServerInvalidChairID=65535,e.HistoryNoneSprite="Empty",e.ChipBetRange=new Map([[r.AREA_HEAD,{minX:778,minY:290,maxX:1065,maxY:438}],[r.AREA_TAIL,{minX:260,minY:290,maxX:550,maxY:438}]]),e.ZPTrendValueSprite=new Map([[r.AREA_HEAD,"UI_Road_Z_0"],[r.AREA_TAIL,"UI_Road_Z_1"]]),e.DaLuTrendValueSprite=new Map([[r.AREA_HEAD,"UI_Road_D_0"],[r.AREA_TAIL,"UI_Road_D_1"]]),e.DYZLuTrendValueSprite=new Map([[r.AREA_HEAD,"UI_Road_Y_0"],[r.AREA_TAIL,"UI_Road_Y_1"]]),e.XiaoLuTrendValueSprite=new Map([[r.AREA_HEAD,"UI_Road_X_0"],[r.AREA_TAIL,"UI_Road_X_1"]]),e.JiaYouLuTrendValueSprite=new Map([[r.AREA_HEAD,"UI_Road_ZL_0"],[r.AREA_TAIL,"UI_Road_ZL_1"]]),e.DYZLu=new Map([[r.AREA_HEAD,"UI_Road_Y_0"],[r.AREA_TAIL,"UI_Road_Y_1"]]),e.XiaoLu=new Map([[r.AREA_HEAD,"UI_Road_X_0"],[r.AREA_TAIL,"UI_Road_X_1"]]),e.JiaYouLu=new Map([[r.AREA_HEAD,"UI_Road_ZL_0"],[r.AREA_TAIL,"UI_Road_ZL_1"]]),e}();n.GameConstant=m;var y=function(e){function t(){var t=e.call(this)||this;return t.TailProgressLabel=null,t.HeadProgressLabel=null,t.RoadProgress=null,t.Grid20Rounds=null,t.ScrollZPL=null,t.ScrollDL=null,t.ScrollDYZL=null,t.ScrollXL=null,t.ScrollZLL=null,t.Rounds=null,t.Head=null,t.Tail=null,t.Tie=null,t.PredictTail1=null,t.PredictTail2=null,t.PredictTail3=null,t.PredictHead1=null,t.PredictHead2=null,t.PredictHead3=null,t.gameRecord=[],t.bigHeRoadList=[],t}return i(t,e),t.prototype.onEnable=function(){c.HallEvent.on(p.GAME_EVENT.ROAD_EVENT,this,this.AddRoadAndFresh)},t.prototype.onDisable=function(){c.HallEvent.off(p.GAME_EVENT.ROAD_EVENT,this,this.AddRoadAndFresh)},t.prototype.onStart=function(){this.gameRecord=[],this.bigHeRoadList=[],this.Grid20Rounds.array=[],this.ScrollZPL.array=[],this.ScrollDL.array=[],this.ScrollDYZL.array=[],this.ScrollXL.array=[],this.ScrollZLL.array=[]},t.prototype.RefreshRoad=function(e){this.gameRecord=[],this.bigHeRoadList=[];for(var t=0;t<e.iCardTypeRecordItemCount;t++)this.gameRecord.push(e.tagCardTypeRecordItem[t].cbWinObject);this.RefreshUI(),this.Refresh20Rounds(),this.RefreshBeadPlateRoad(),this.RefreshBigRoad(),this.RefreshBigEyeRoad(),this.RefreshSmallRoad(),this.RefreshCockroachRoad(),this.ScrollZPL.selectedIndex=this.ScrollZPL.array.length-1,this.ScrollDL.selectedIndex=this.ScrollDL.array.length-1,this.ScrollDYZL.selectedIndex=this.ScrollDYZL.array.length-1,this.ScrollXL.selectedIndex=this.ScrollXL.array.length-1,this.ScrollXL.selectedIndex=this.ScrollXL.array.length-1},t.prototype.AddRoadAndFresh=function(e){this.gameRecord.push(e),this.RefreshUI(),this.Refresh20Rounds(),this.RefreshBeadPlateRoad(),this.RefreshBigRoad(),this.RefreshBigEyeRoad(),this.RefreshSmallRoad(),this.RefreshCockroachRoad(),this.ScrollZPL.selectedIndex=this.ScrollZPL.array.length-1,this.ScrollDL.selectedIndex=this.ScrollDL.array.length-1,this.ScrollDYZL.selectedIndex=this.ScrollDYZL.array.length-1,this.ScrollXL.selectedIndex=this.ScrollXL.array.length-1,this.ScrollXL.selectedIndex=this.ScrollXL.array.length-1},t.prototype.RefreshUI=function(){this.Rounds.text=this.gameRecord.length>=m.MAX_SIMPLE_CHART_COUNT?m.MAX_SIMPLE_CHART_COUNT.toString()+" Rounds":this.gameRecord.length.toString()+" Rounds";for(var e=0,t=0,n=0,o=0;o<this.gameRecord.length;o++)this.gameRecord[o]==u.BET_AREA.NOTEOBJECT_DRAGON?e++:this.gameRecord[o]==u.BET_AREA.NOTEOBJECT_TIGER?t++:this.gameRecord[o]==u.BET_AREA.NOTEOBJECT_DRAW&&n++;this.Head.text="Dragon: "+e.toString(),this.Tail.text="Tiger: "+t.toString(),this.Tie.text="Tie: "+n.toString(),this.HeadProgressLabel.text=Math.round(t/this.gameRecord.length*100).toString()+"%",this.TailProgressLabel.text=Math.round(e/this.gameRecord.length*100).toString()+"%",this.RoadProgress.value=e/this.gameRecord.length},t.prototype.Refresh20Rounds=function(){if(this.Grid20Rounds.array=[],this.gameRecord.length>=20)for(var e=this.gameRecord.length-20;e<this.gameRecord.length;e++)this.Grid20Rounds.addItem({Round:{skin:"resources/games/game34200/res/Image/UI_Game_LHD/Icon_LD_"+this.gameRecord[e].toString()+".png"},New:{skin:""}});else for(e=0;e<this.gameRecord.length;e++)this.Grid20Rounds.addItem({Round:{skin:"resources/games/game34200/res/Image/UI_Game_LHD/Icon_LD_"+this.gameRecord[e].toString()+".png"},New:{skin:""}});this.Grid20Rounds.repeatX=20;var t=this.Grid20Rounds.getItem(this.Grid20Rounds.array.length-1);null!=t&&(t.New.skin="resources/games/game34200/res/Image/UI_Game_LHD/Icon_LD_New.png")},t.prototype.RefreshBeadPlateRoad=function(){this.ScrollZPL.array=[];for(var e=0;e<this.gameRecord.length;e++)this.ScrollZPL.addItem({ZPL:{skin:"resources/games/game34200/res/Image/UI_Game_LHD/Icon_LD_"+this.gameRecord[e]+".png"}});this.ScrollZPL.repeatY=6,this.ScrollZPL.repeatX=Math.ceil(this.gameRecord.length/6),this.ScrollZPL.tweenTo(this.ScrollZPL.length-1)},t.prototype.RefreshBigRoad=function(){this.ScrollDL.array=[];for(var e=this.GetRoadTrend(this.gameRecord,!0),t=0,n=0;n<e.length;n++)e[n].Column>t&&(t=e[n].Column);for(n=0;n<=t;n++)for(var o=0;o<6;o++)this.ScrollDL.addItem({DLItem:{skin:"resources/games/game34200/res/Image/UI_Game_LHD/Empty.png"}});for(n=0;n<e.length;n++)null!=(i=this.ScrollDL.getItem(e[n].Row+6*e[n].Column))&&(i.DLItem.skin="resources/games/game34200/res/Image/UI_Game_LHD/UI_Road_D_"+e[n].Result.toString()+".png");for(n=0;n<this.bigHeRoadList.length;n++){var i;null!=(i=this.ScrollDL.getItem(this.bigHeRoadList[n].Row+6*this.bigHeRoadList[n].Column))&&(i.DLItem.skin="resources/games/game34200/res/Image/UI_Game_LHD/UI_Road_D_"+this.bigHeRoadList[n].Result.toString()+".png")}this.ScrollDL.repeatX=t+1,this.ScrollDL.repeatY=6,this.ScrollDL.tweenTo(this.ScrollDL.length-1)},t.prototype.RefreshBigEyeRoad=function(){var e=this.SetDownThreeRoad(l.DaYanZaiLu);if(this.ScrollDYZL.array=[],0!=e.length){var t=-1,n=-1;this.gameRecord.push(r.AREA_HEAD);var o=this.SetDownThreeRoad(l.DaYanZaiLu);o.length>0&&(t=o[o.length-1].Result),this.gameRecord.pop(),this.gameRecord.push(r.AREA_TAIL);var i=this.SetDownThreeRoad(l.DaYanZaiLu);i.length>0&&(n=i[i.length-1].Result),this.gameRecord.pop(),this.PredictHead1.visible=-1!=t,-1!=t&&(this.PredictHead1.skin="resources/games/game34200/res/Image/UI_Game_LHD/UI_Road_Y_"+t.toString()+".png"),this.PredictTail1.visible=-1!=t,-1!=n&&(this.PredictTail1.skin="resources/games/game34200/res/Image/UI_Game_LHD/UI_Road_Y_"+n.toString()+".png");for(var a=0,s=0;s<e.length;s++)e[s].Column>a&&(a=e[s].Column);for(s=0;s<=a;s++)for(var c=0;c<6;c++)this.ScrollDYZL.addItem({DYZItem:{skin:"resources/games/game34200/res/Image/UI_Game_LHD/Empty.png"}});for(s=0;s<e.length;s++){var u=this.ScrollDYZL.getItem(e[s].Row+6*e[s].Column);null!=u&&(u.DYZItem.skin="resources/games/game34200/res/Image/UI_Game_LHD/UI_Road_Y_"+e[s].Result.toString()+".png")}this.ScrollDYZL.repeatX=a+1,this.ScrollDYZL.repeatY=6,this.ScrollDYZL.tweenTo(this.ScrollDYZL.length-1)}},t.prototype.RefreshSmallRoad=function(){var e=this.SetDownThreeRoad(l.Xiaolu);if(this.ScrollXL.array=[],0!=e.length){var t=-1,n=-1;this.gameRecord.push(r.AREA_HEAD);var o=this.SetDownThreeRoad(l.Xiaolu);o.length>0&&(t=o[o.length-1].Result),this.gameRecord.pop(),this.gameRecord.push(r.AREA_TAIL);var i=this.SetDownThreeRoad(l.Xiaolu);i.length>0&&(n=i[i.length-1].Result),this.gameRecord.pop(),this.PredictHead2.visible=-1!=t,-1!=t&&(this.PredictHead2.skin="resources/games/game34200/res/Image/UI_Game_LHD/UI_Road_X_"+t.toString()+".png"),this.PredictTail2.visible=-1!=t,-1!=n&&(this.PredictTail2.skin="resources/games/game34200/res/Image/UI_Game_LHD/UI_Road_X_"+n.toString()+".png");for(var a=0,s=0;s<e.length;s++)e[s].Column>a&&(a=e[s].Column);for(s=0;s<=a;s++)for(var c=0;c<6;c++)this.ScrollXL.addItem({XLItem:{skin:"resources/games/game34200/res/Image/UI_Game_LHD/Empty.png"}});for(s=0;s<e.length;s++){var u=this.ScrollXL.getItem(e[s].Row+6*e[s].Column);null!=u&&(u.XLItem.skin="resources/games/game34200/res/Image/UI_Game_LHD/UI_Road_X_"+e[s].Result.toString()+".png")}this.ScrollXL.repeatX=a+1,this.ScrollXL.repeatY=6,this.ScrollXL.tweenTo(this.ScrollXL.length-1)}},t.prototype.RefreshCockroachRoad=function(){var e=this.SetDownThreeRoad(l.ZhangLangLu);if(this.ScrollZLL.array=[],0!=e.length){var t=-1,n=-1;this.gameRecord.push(r.AREA_HEAD);var o=this.SetDownThreeRoad(l.ZhangLangLu);o.length>0&&(t=o[o.length-1].Result),this.gameRecord.pop(),this.gameRecord.push(r.AREA_TAIL);var i=this.SetDownThreeRoad(l.ZhangLangLu);i.length>0&&(n=i[i.length-1].Result),this.gameRecord.pop(),this.PredictHead3.visible=-1!=t,-1!=t&&(this.PredictHead3.skin="resources/games/game34200/res/Image/UI_Game_LHD/UI_Road_ZL_"+t.toString()+".png"),this.PredictTail3.visible=-1!=t,-1!=n&&(this.PredictTail3.skin="resources/games/game34200/res/Image/UI_Game_LHD/UI_Road_ZL_"+n.toString()+".png");for(var a=0,s=0;s<e.length;s++)e[s].Column>a&&(a=e[s].Column);for(s=0;s<=a;s++)for(var c=0;c<6;c++)this.ScrollZLL.addItem({ZLL:{skin:"resources/games/game34200/res/Image/UI_Game_LHD/Empty.png"}});for(s=0;s<e.length;s++){var u=this.ScrollZLL.getItem(e[s].Row+6*e[s].Column);null!=u&&(u.ZLL.skin="resources/games/game34200/res/Image/UI_Game_LHD/UI_Road_ZL_"+e[s].Result.toString()+".png")}this.ScrollZLL.repeatX=a+1,this.ScrollZLL.repeatY=6,this.ScrollZLL.tweenTo(this.ScrollZLL.length-1)}},t.prototype.SetDownThreeRoad=function(e){var t=-1;e==l.DaYanZaiLu?t=1:e==l.Xiaolu?t=2:e==l.ZhangLangLu&&(t=3);for(var n=new Map,o=[],i=-1,a=0,r=0;r<this.gameRecord.length;r++)this.gameRecord[r]!=s.He&&(-1!=i&&i!=this.gameRecord[r]&&a++,n.has(a)?n.get(a).push(this.gameRecord[r]):n.set(a,[this.gameRecord[r]]),i=this.gameRecord[r]);return n.forEach(function(e,i){if(i>=t)for(var a=0;a<e.length;a++)i==t&&0==a||(0==a?n.get(i-1).length==n.get(i-t-1).length?o.push(0):o.push(1):a+1-n.get(i-t).length>1?o.push(0):a+1<=n.get(i-t).length?o.push(0):o.push(1))}),this.GetRoadTrend(o,!1)},t.prototype.GetRoadTrend=function(e,t){void 0===t&&(t=!1);for(var n=0,o=0,i=0,a=null,r=[],l=0;l<e.length;l++){var c=new g;if(t&&e[l]==s.He)null==a?(l+1<e.length?c.Result=0==e[l]?2:3:c.Result=2,c.Row=n,c.Column=o,c.Belong=i):(c.Result=0==a.Result?2:3,c.Row=a.Row,c.Column=a.Column,c.Belong=a.Belong),this.bigHeRoadList.push(c);else{if(c.Result=e[l],null!=a&&a.Result!=e[l]){n=0,i++,c.Row=n,c.Column=o,o=i;for(var u=0;u<r.length;u++)r[u].Column==o&&r[u].Row==n&&o++}else{var p=this.CheckRoadItem(r,n,o,i,e[l]);null!=p&&(o=p.Column,n=p.Row)}c.Row=n,c.Column=o,c.Belong=i,r.push(c),a=c,++n>5&&(n=5,o++)}}return r},t.prototype.CheckRoadItem=function(e,t,n,o,i){for(var a=0;a<e.length;a++)if(e[a].Belong!=o&&e[a].Result==i){if(e[a].Column==n&&e[a].Row==t+1||e[a].Column==n-1&&e[a].Row==t)return(r=new g).Belong=o,r.Result=i,r.Row=t-1,r.Column=n+1,r}else if(e[a].Result!=i){var r;if(e[a].Column==n&&e[a].Row==t)return(r=new g).Belong=o,r.Result=i,r.Row=t-1,r.Column=n+1,r}return null},a([f({type:h.Laya.Label})],t.prototype,"TailProgressLabel",void 0),a([f({type:h.Laya.Label})],t.prototype,"HeadProgressLabel",void 0),a([f({type:h.Laya.ProgressBar})],t.prototype,"RoadProgress",void 0),a([f({type:h.Laya.List})],t.prototype,"Grid20Rounds",void 0),a([f({type:h.Laya.List})],t.prototype,"ScrollZPL",void 0),a([f({type:h.Laya.List})],t.prototype,"ScrollDL",void 0),a([f({type:h.Laya.List})],t.prototype,"ScrollDYZL",void 0),a([f({type:h.Laya.List})],t.prototype,"ScrollXL",void 0),a([f({type:h.Laya.List})],t.prototype,"ScrollZLL",void 0),a([f({type:h.Laya.Label})],t.prototype,"Rounds",void 0),a([f({type:h.Laya.Label})],t.prototype,"Head",void 0),a([f({type:h.Laya.Label})],t.prototype,"Tail",void 0),a([f({type:h.Laya.Label})],t.prototype,"Tie",void 0),a([f({type:h.Laya.Image})],t.prototype,"PredictTail1",void 0),a([f({type:h.Laya.Image})],t.prototype,"PredictTail2",void 0),a([f({type:h.Laya.Image})],t.prototype,"PredictTail3",void 0),a([f({type:h.Laya.Image})],t.prototype,"PredictHead1",void 0),a([f({type:h.Laya.Image})],t.prototype,"PredictHead2",void 0),a([f({type:h.Laya.Image})],t.prototype,"PredictHead3",void 0),a([d()],t)}(h.Laya.Script);n.GameRoad34200=y,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya","../../halls/halllib/net/InnerEvent":"InnerEvent","./GameData34200":"GameData34200","./GameMsg34200":"GameMsg34200"}],GameRoad34600:[function(e,t,n){"use strict";cc._RF.push(t,"0aaf7m6pQRBRovTeq8A2Ed/","GameRoad34600");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameRoad34600=n.RoadItemInfo=void 0;var r=e("../../halls/halllib/laya/Laya"),s=r.Laya.regClass,l=r.Laya.property,c=function(){};n.RoadItemInfo=c;var u=function(e){function t(){var t=e.call(this)||this;return t.GameRoadRecord=null,t.gameRecord=[],t}return i(t,e),t.prototype.RefreshRoad=function(e){this.gameRecord=[],this.GameRoadRecord.array=[];for(var t=e.m_arrCrashMultiple.length>62?e.m_arrCrashMultiple.length-62:0;t<e.m_arrCrashMultiple.length;t++)e.m_arrCrashMultiple[t]>=2?this.gameRecord.push(0):this.gameRecord.push(1);var n=this.GetRoadTrend(this.gameRecord),o=0;for(t=0;t<n.length;t++)n[t].Column>o&&(o=n[t].Column);for(t=0;t<=o;t++)for(var i=0;i<5;i++)this.GameRoadRecord.addItem({RecordItem:{skin:"resources/games/game34600/res/Image/Atlas/Game/Empty.png"}});for(t=0;t<n.length;t++){var a=this.GameRoadRecord.getItem(n[t].Row+5*n[t].Column);null!=a&&(a.RecordItem.skin="resources/games/game34600/res/Image/Atlas/Game/zoushi_"+n[t].Result.toString()+".png")}this.GameRoadRecord.repeatX=o+1,this.GameRoadRecord.repeatY=5,this.GameRoadRecord.scrollTo(this.GameRoadRecord.array.length-1),this.GameRoadRecord.selectedIndex=this.GameRoadRecord.array.length-1},t.prototype.GetRoadTrend=function(e){for(var t=0,n=0,o=0,i=null,a=[],r=0;r<e.length;r++){var s=new c;if(s.Result=e[r],null!=i&&i.Result!=e[r]){t=0,o++,s.Row=t,s.Column=n,n=o;for(var l=0;l<a.length;l++)a[l].Column==n&&a[l].Row==t&&n++}else{var u=this.CheckRoadItem(a,t,n,o,e[r]);null!=u&&(n=u.Column,t=u.Row)}s.Row=t,s.Column=n,s.Belong=o,a.push(s),i=s,++t>4&&(t=4,n++)}return a},t.prototype.CheckRoadItem=function(e,t,n,o,i){for(var a=0;a<e.length;a++)if(e[a].Belong!=o&&e[a].Result==i){if(e[a].Column==n&&e[a].Row==t+1||e[a].Column==n-1&&e[a].Row==t)return(r=new c).Belong=o,r.Result=i,r.Row=t-1,r.Column=n+1,r}else if(e[a].Result!=i){var r;if(e[a].Column==n&&e[a].Row==t)return(r=new c).Belong=o,r.Result=i,r.Row=t-1,r.Column=n+1,r}return null},a([l({type:r.Laya.List})],t.prototype,"GameRoadRecord",void 0),a([s()],t)}(r.Laya.Script);n.GameRoad34600=u,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya"}],GameRoad34900:[function(e,t,n){"use strict";cc._RF.push(t,"34b1539GW9DbJUR2uA7LEhd","GameRoad34900");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameRoad34900=n.RoadItemInfo=void 0;var r=e("./GameConstant34900"),s=e("../../halls/halllib/laya/Laya"),l=s.Laya.regClass,c=s.Laya.property,u=function(){};n.RoadItemInfo=u;var p=function(e){function t(){var t=e.call(this)||this;return t.TailProgressLabel=null,t.HeadProgressLabel=null,t.RoadProgress=null,t.Grid20Rounds=null,t.ScrollZPL=null,t.ScrollDL=null,t.ScrollDYZL=null,t.ScrollXL=null,t.ScrollZLL=null,t.Rounds=null,t.Head=null,t.Tail=null,t.PredictTail1=null,t.PredictTail2=null,t.PredictTail3=null,t.PredictHead1=null,t.PredictHead2=null,t.PredictHead3=null,t.gameRecord=[],t.bigHeRoadList=[],t}return i(t,e),t.prototype.onStart=function(){this.Grid20Rounds.array=[],this.ScrollZPL.array=[],this.ScrollDL.array=[],this.ScrollDYZL.array=[],this.ScrollXL.array=[],this.ScrollZLL.array=[]},t.prototype.RefreshRoad=function(e){this.gameRecord=[],this.bigHeRoadList=[];for(var t=0;t<e.cbCount;t++)this.gameRecord.push(e.cbGameRecordArray[t]);this.RefreshUI(),this.Refresh20Rounds(),this.RefreshBeadPlateRoad(),this.RefreshBigRoad(),this.RefreshBigEyeRoad(),this.RefreshSmallRoad(),this.RefreshCockroachRoad(),this.ScrollZPL.selectedIndex=this.ScrollZPL.array.length-1,this.ScrollDL.selectedIndex=this.ScrollDL.array.length-1,this.ScrollDYZL.selectedIndex=this.ScrollDYZL.array.length-1,this.ScrollXL.selectedIndex=this.ScrollXL.array.length-1,this.ScrollXL.selectedIndex=this.ScrollXL.array.length-1},t.prototype.RefreshUI=function(){this.Rounds.text=this.gameRecord.length>=r.GameConstant34900.MAX_SIMPLE_CHART_COUNT?r.GameConstant34900.MAX_SIMPLE_CHART_COUNT.toString()+" Rounds":this.gameRecord.length.toString()+" Rounds";for(var e=0,t=0,n=0;n<this.gameRecord.length;n++)this.gameRecord[n]==r.TossCoinResult.AREA_HEAD?e++:this.gameRecord[n]==r.TossCoinResult.AREA_TAIL&&t++;this.Head.text="Head: "+e.toString(),this.Tail.text="Tail: "+t.toString(),this.HeadProgressLabel.text=Math.round(e/this.gameRecord.length*100).toString()+"%",this.TailProgressLabel.text=Math.round(t/this.gameRecord.length*100).toString()+"%",this.RoadProgress.value=t/this.gameRecord.length},t.prototype.Refresh20Rounds=function(){if(this.Grid20Rounds.array=[],this.gameRecord.length>=20)for(var e=this.gameRecord.length-20;e<this.gameRecord.length;e++)this.Grid20Rounds.addItem({Round:{skin:"resources/games/game34900/res/Image/Game/UI_Road_DL_"+this.gameRecord[e].toString()+".png"},New:{skin:"resources/games/game34900/res/Image/Game/Empty.png"}});else for(e=0;e<this.gameRecord.length;e++)this.Grid20Rounds.addItem({Round:{skin:"resources/games/game34900/res/Image/Game/UI_Road_DL_"+this.gameRecord[e].toString()+".png"},New:{skin:"resources/games/game34900/res/Image/Game/Empty.png"}});this.Grid20Rounds.repeatX=20;var t=this.Grid20Rounds.getItem(this.Grid20Rounds.array.length-1);null!=t&&(t.New.skin="resources/games/game34900/res/Image/Game/UI_Road_New.png")},t.prototype.RefreshBeadPlateRoad=function(){this.ScrollZPL.array=[];for(var e=0;e<this.gameRecord.length;e++)this.ScrollZPL.addItem({ZPL:{skin:"resources/games/game34900/res/Image/Game/UI_Road_Z_"+this.gameRecord[e]+".png"}});this.ScrollZPL.repeatY=6,this.ScrollZPL.repeatX=Math.ceil(this.gameRecord.length/6),this.ScrollZPL.tweenTo(this.ScrollZPL.length-1)},t.prototype.RefreshBigRoad=function(){this.ScrollDL.array=[];for(var e=this.GetRoadTrend(this.gameRecord,!0),t=0,n=0;n<e.length;n++)e[n].Column>t&&(t=e[n].Column);for(n=0;n<=t;n++)for(var o=0;o<6;o++)this.ScrollDL.addItem({DLItem:{skin:"resources/games/game34900/res/Image/Game/Empty.png"}});for(n=0;n<e.length;n++)null!=(i=this.ScrollDL.getItem(e[n].Row+6*e[n].Column))&&(i.DLItem.skin="resources/games/game34900/res/Image/Game/UI_Road_D_"+e[n].Result.toString()+".png");for(n=0;n<this.bigHeRoadList.length;n++){var i;null!=(i=this.ScrollDL.getItem(this.bigHeRoadList[n].Row+6*this.bigHeRoadList[n].Column))&&(i.DLItem.skin="resources/games/game34900/res/Image/Game/UI_Road_D_"+this.bigHeRoadList[n].Result.toString()+".png")}this.ScrollDL.repeatX=t+1,this.ScrollDL.repeatY=6,this.ScrollDL.tweenTo(this.ScrollDL.length-1)},t.prototype.RefreshBigEyeRoad=function(){var e=this.SetDownThreeRoad(r.ROAD_TYPE.DaYanZaiLu);if(this.ScrollDYZL.array=[],0!=e.length){var t=-1,n=-1;this.gameRecord.push(r.TossCoinResult.AREA_HEAD);var o=this.SetDownThreeRoad(r.ROAD_TYPE.DaYanZaiLu);o.length>0&&(t=o[o.length-1].Result),this.gameRecord.pop(),this.gameRecord.push(r.TossCoinResult.AREA_TAIL);var i=this.SetDownThreeRoad(r.ROAD_TYPE.DaYanZaiLu);i.length>0&&(n=i[i.length-1].Result),this.gameRecord.pop(),this.PredictHead1.visible=-1!=t,-1!=t&&(this.PredictHead1.skin="resources/games/game34900/res/Image/Game/UI_Road_Y_"+t.toString()+".png"),this.PredictTail1.visible=-1!=t,-1!=n&&(this.PredictTail1.skin="resources/games/game34900/res/Image/Game/UI_Road_Y_"+n.toString()+".png");for(var a=0,s=0;s<e.length;s++)e[s].Column>a&&(a=e[s].Column);for(s=0;s<=a;s++)for(var l=0;l<6;l++)this.ScrollDYZL.addItem({DYZItem:{skin:"resources/games/game34900/res/Image/Game/Empty.png"}});for(s=0;s<e.length;s++){var c=this.ScrollDYZL.getItem(e[s].Row+6*e[s].Column);null!=c&&(c.DYZItem.skin="resources/games/game34900/res/Image/Game/UI_Road_Y_"+e[s].Result.toString()+".png")}this.ScrollDYZL.repeatX=a+1,this.ScrollDYZL.repeatY=6,this.ScrollDYZL.tweenTo(this.ScrollDYZL.length-1)}},t.prototype.RefreshSmallRoad=function(){var e=this.SetDownThreeRoad(r.ROAD_TYPE.Xiaolu);if(this.ScrollXL.array=[],0!=e.length){var t=-1,n=-1;this.gameRecord.push(r.TossCoinResult.AREA_HEAD);var o=this.SetDownThreeRoad(r.ROAD_TYPE.Xiaolu);o.length>0&&(t=o[o.length-1].Result),this.gameRecord.pop(),this.gameRecord.push(r.TossCoinResult.AREA_TAIL);var i=this.SetDownThreeRoad(r.ROAD_TYPE.Xiaolu);i.length>0&&(n=i[i.length-1].Result),this.gameRecord.pop(),this.PredictHead2.visible=-1!=t,-1!=t&&(this.PredictHead2.skin="resources/games/game34900/res/Image/Game/UI_Road_X_"+t.toString()+".png"),this.PredictTail2.visible=-1!=t,-1!=n&&(this.PredictTail2.skin="resources/games/game34900/res/Image/Game/UI_Road_X_"+n.toString()+".png");for(var a=0,s=0;s<e.length;s++)e[s].Column>a&&(a=e[s].Column);for(s=0;s<=a;s++)for(var l=0;l<6;l++)this.ScrollXL.addItem({XLItem:{skin:"resources/games/game34900/res/Image/Game/Empty.png"}});for(s=0;s<e.length;s++){var c=this.ScrollXL.getItem(e[s].Row+6*e[s].Column);null!=c&&(c.XLItem.skin="resources/games/game34900/res/Image/Game/UI_Road_X_"+e[s].Result.toString()+".png")}this.ScrollXL.repeatX=a+1,this.ScrollXL.repeatY=6,this.ScrollXL.tweenTo(this.ScrollXL.length-1)}},t.prototype.RefreshCockroachRoad=function(){var e=this.SetDownThreeRoad(r.ROAD_TYPE.ZhangLangLu);if(this.ScrollZLL.array=[],0!=e.length){var t=-1,n=-1;this.gameRecord.push(r.TossCoinResult.AREA_HEAD);var o=this.SetDownThreeRoad(r.ROAD_TYPE.ZhangLangLu);o.length>0&&(t=o[o.length-1].Result),this.gameRecord.pop(),this.gameRecord.push(r.TossCoinResult.AREA_TAIL);var i=this.SetDownThreeRoad(r.ROAD_TYPE.ZhangLangLu);i.length>0&&(n=i[i.length-1].Result),this.gameRecord.pop(),this.PredictHead3.visible=-1!=t,-1!=t&&(this.PredictHead3.skin="resources/games/game34900/res/Image/Game/UI_Road_ZL_"+t.toString()+".png"),this.PredictTail3.visible=-1!=t,-1!=n&&(this.PredictTail3.skin="resources/games/game34900/res/Image/Game/UI_Road_ZL_"+n.toString()+".png");for(var a=0,s=0;s<e.length;s++)e[s].Column>a&&(a=e[s].Column);for(s=0;s<=a;s++)for(var l=0;l<6;l++)this.ScrollZLL.addItem({ZLL:{skin:"resources/games/game34900/res/Image/Game/Empty.png"}});for(s=0;s<e.length;s++){var c=this.ScrollZLL.getItem(e[s].Row+6*e[s].Column);null!=c&&(c.ZLL.skin="resources/games/game34900/res/Image/Game/UI_Road_ZL_"+e[s].Result.toString()+".png")}this.ScrollZLL.repeatX=a+1,this.ScrollZLL.repeatY=6,this.ScrollZLL.tweenTo(this.ScrollZLL.length-1)}},t.prototype.SetDownThreeRoad=function(e){var t=-1;e==r.ROAD_TYPE.DaYanZaiLu?t=1:e==r.ROAD_TYPE.Xiaolu?t=2:e==r.ROAD_TYPE.ZhangLangLu&&(t=3);for(var n=new Map,o=[],i=-1,a=0,s=0;s<this.gameRecord.length;s++)this.gameRecord[s]!=r.GAME_RESULT.He&&(-1!=i&&i!=this.gameRecord[s]&&a++,n.has(a)?n.get(a).push(this.gameRecord[s]):n.set(a,[this.gameRecord[s]]),i=this.gameRecord[s]);return n.forEach(function(e,i){if(i>=t)for(var a=0;a<e.length;a++)i==t&&0==a||(0==a?n.get(i-1).length==n.get(i-t-1).length?o.push(0):o.push(1):a+1-n.get(i-t).length>1?o.push(0):a+1<=n.get(i-t).length?o.push(0):o.push(1))}),this.GetRoadTrend(o)},t.prototype.GetRoadTrend=function(e,t){void 0===t&&(t=!1);for(var n=0,o=0,i=0,a=null,s=[],l=0;l<e.length;l++){var c=new u;if(t&&e[l]==r.GAME_RESULT.He)null==a?(l+1<e.length?c.Result=0==e[l]?2:3:c.Result=2,c.Row=n,c.Column=o,c.Belong=i):(c.Result=0==a.Result?2:3,c.Row=a.Row,c.Column=a.Column,c.Belong=a.Belong),this.bigHeRoadList.push(c);else{if(c.Result=e[l],null!=a&&a.Result!=e[l]){n=0,i++,c.Row=n,c.Column=o,o=i;for(var p=0;p<s.length;p++)s[p].Column==o&&s[p].Row==n&&o++}else{var h=this.CheckRoadItem(s,n,o,i,e[l]);null!=h&&(o=h.Column,n=h.Row)}c.Row=n,c.Column=o,c.Belong=i,s.push(c),a=c,++n>5&&(n=5,o++)}}return s},t.prototype.CheckRoadItem=function(e,t,n,o,i){for(var a=0;a<e.length;a++)if(e[a].Belong!=o&&e[a].Result==i){if(e[a].Column==n&&e[a].Row==t+1||e[a].Column==n-1&&e[a].Row==t)return(r=new u).Belong=o,r.Result=i,r.Row=t-1,r.Column=n+1,r}else if(e[a].Result!=i){var r;if(e[a].Column==n&&e[a].Row==t)return(r=new u).Belong=o,r.Result=i,r.Row=t-1,r.Column=n+1,r}return null},a([c({type:s.Laya.Label})],t.prototype,"TailProgressLabel",void 0),a([c({type:s.Laya.Label})],t.prototype,"HeadProgressLabel",void 0),a([c({type:s.Laya.ProgressBar})],t.prototype,"RoadProgress",void 0),a([c({type:s.Laya.List})],t.prototype,"Grid20Rounds",void 0),a([c({type:s.Laya.List})],t.prototype,"ScrollZPL",void 0),a([c({type:s.Laya.List})],t.prototype,"ScrollDL",void 0),a([c({type:s.Laya.List})],t.prototype,"ScrollDYZL",void 0),a([c({type:s.Laya.List})],t.prototype,"ScrollXL",void 0),a([c({type:s.Laya.List})],t.prototype,"ScrollZLL",void 0),a([c({type:s.Laya.Label})],t.prototype,"Rounds",void 0),a([c({type:s.Laya.Label})],t.prototype,"Head",void 0),a([c({type:s.Laya.Label})],t.prototype,"Tail",void 0),a([c({type:s.Laya.Image})],t.prototype,"PredictTail1",void 0),a([c({type:s.Laya.Image})],t.prototype,"PredictTail2",void 0),a([c({type:s.Laya.Image})],t.prototype,"PredictTail3",void 0),a([c({type:s.Laya.Image})],t.prototype,"PredictHead1",void 0),a([c({type:s.Laya.Image})],t.prototype,"PredictHead2",void 0),a([c({type:s.Laya.Image})],t.prototype,"PredictHead3",void 0),a([l()],t)}(s.Laya.Script);n.GameRoad34900=p,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya","./GameConstant34900":"GameConstant34900"}],GameRockFly34600:[function(e,t,n){"use strict";cc._RF.push(t,"3aabeRgxJVH6qGTy98ZYfTM","GameRockFly34600");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameRockFly34600=n.SanInfo=void 0;var r=e("../../halls/halllib/core/HallData"),s=e("../../halls/halllib/core/RunData"),l=e("./GameConstant34600"),c=e("../../halls/halllib/laya/Laya"),u=function(){};n.SanInfo=u;var p=c.Laya.regClass,h=c.Laya.property,d=function(e){function t(){var t=e.call(this)||this;return t.GameGround=null,t.SanGroud=null,t.SanObj_1=null,t.SanObj_2=null,t.RocketObj=null,t.SpineAni_1=null,t.SpineAni_2=null,t.SpineAni_3=null,t.StartPoint=null,t.EndPoint=null,t.SpriteBg=null,t.LabelMultiple=null,t.MyGetLabel=null,t.WinLabel=null,t.GameLine=null,t.LineObject_X=null,t.LineObject_Y=null,t}return i(t,e),t.prototype.onAwake=function(){this.lineXPos=new c.Laya.Point(this.LineObject_X.x,this.LineObject_X.y),this.lineYPos=new c.Laya.Point(this.LineObject_Y.x,this.LineObject_Y.y),this.lineScaleX=(this.EndPoint.x-this.StartPoint.x)/5,this.lineScaleY=(this.StartPoint.y-this.EndPoint.y)/2.5,this.time_X=[],this.time_Y=[],this.time_X_Speed=1,this.time_X_WidthMax=850,this.time_X_WidthMin=85,this.time_X_MoveCount=5,this.time_X_cellWidth=this.time_X_WidthMax/this.time_X_MoveCount,this.time_X_MoveTarget=this.time_X_WidthMax/(this.time_X_MoveCount-1),this.time_X_MoveTimer=0;for(var e=1;e<=7;e++){var t=this.LineObject_Y.getChildByName("Multiple_Y_"+toString());this.time_Y.push(t)}for(e=1;e<=11;e++){var n=this.LineObject_X.getChildByName("Time_X_"+e.toString());this.time_X.push(n)}this.lineScaleYW=85,this.lineScaleYNum=.5,this.lineYInit=this.LineObject_Y.y,this.isStartFly=!1,this.timeout=0,this.richUserObj=[],this.richUSerObjPool=[],this.myWinMoney=0,this.gameLineRander=this.GameLine.getComponent(c.Laya.Script),this.gameLineRander.SetPosiConfig(this.StartPoint.x,this.StartPoint.y,this.EndPoint.x,this.EndPoint.y)},t.prototype.InitData=function(e,t,n,o){this.minMultiple=e,this.addSpeed=t,this.startSpeed=n,this.flyTimeRate=o},t.prototype.StartFly=function(e,t,n,o){this.isShowMyWin=n,this.startMultiple=e,this.LabelMultiple.text=e.toFixed(2)+"x",this.betMoney=o,this.MyGetLabel.text="",this.SpriteBg.visible=!0,this.SpineAni_1.visible=!0,this.GameLine.visible=!0,this.SpineAni_2.visible=!1,this.SpineAni_3.visible=!1,this.RocketObj.pos(this.StartPoint.x,this.StartPoint.y),this.LineObject_X.pos(this.lineXPos.x,this.lineXPos.y),this.LineObject_Y.pos(this.lineYPos.x,this.lineYPos.y),this.GameGround.visible=!0,this.MyGetLabel.visible=n,this.timeout=t*this.flyTimeRate,this.isFlashLine=!0,this.isInShowGame=!0,this.isStartFly=!0,t>0&&this.SetTime_X(this.timeout)},t.prototype.Hide=function(){this.gameLineRander.ResetLine(),this.time_X_MoveCount=5,this.GameGround.visible=!1,this.isStartFly=!1,this.isInShowGame=!1,this.time_X_Speed=1,this.time_X_cellWidth=this.time_X_WidthMax/this.time_X_MoveCount,this.time_X_MoveTarget=this.time_X_WidthMax/(this.time_X_MoveCount+1),this.time_X_MoveTimer=0;for(var e=0;e<this.time_X.length;e++)this.time_X[e].pos(e*this.time_X_cellWidth,this.time_X[e].y),this.time_X[e].text=Math.ceil(e*this.time_X_Speed).toString()+"s";for(this.LineObject_Y.pos(this.lineYPos.x,this.lineYPos.y),e=0;e<this.richUserObj.length;e++)this.richUserObj[e].GoldObj.visible=!1,this.richUSerObjPool.push(this.richUserObj[e]);this.richUserObj.splice(0,this.richUserObj.length)},t.prototype.onUpdate=function(){if(this.isStartFly){this.timeout=this.timeout+c.Laya.timer.delta/1e3*this.flyTimeRate;var e=(2*this.startSpeed+this.addSpeed*this.timeout)*this.timeout/2,t=e+this.startMultiple;if(this.LabelMultiple.text=t.toFixed(2)+"x",this.SetMyGetLabel(e),this.timeout>=5&&this.AddTime_X(),this.gameLineRander.ReDrawLineTimes(this.addSpeed,this.startSpeed,this.timeout,this.lineScaleX,this.lineScaleY),this.isFlashLine){var n=this.lineScaleX*this.timeout+this.StartPoint.x,o=this.StartPoint.y-this.lineScaleY*e;n>this.EndPoint.x&&o<this.EndPoint.y&&(this.isFlashLine=!1),n=n>this.EndPoint.x?this.EndPoint.x:n,o=o<this.EndPoint.y?this.EndPoint.y:o,this.RocketObj.pos(n,o)}this.SpineAni_1.rotation=20*e<50?-20*e:-50,t>3.5&&this.LineObject_Y.pos(7,this.lineYInit+(t-3.5)*(this.lineScaleYW/this.lineScaleYNum)),this.AddTime_Y(t),this.RefreshPlayerQuitPos()}},t.prototype.InitPlayerQuitInfo=function(e){if(null!=e)for(var t=0;t<e.length;t++)if(e[t].m_dFliedTimeWhenQuit>0){var n=this.GetTiaoSanObjForPool(e[t]);this.richUserObj.push(n)}},t.prototype.ShowResult=function(e,t){this.isInShowGame?(this.tipBackFunc=e,this.totalCutSceneTime=t,this.timenow=this.timeout):e(t)},t.prototype.Settlement=function(){var e=this;r.HallSoundManager.PlaySound(l.GameConstant34600.EFFECT_BLAST,1),this.SpineAni_1.visible=!1,this.SpineAni_2.visible=!0,this.SpineAni_2.play(0,!1,!0),c.Laya.timer.once(500,this,function(){e.myWinMoney<=0&&(e.MyGetLabel.text=""),e.SpineAni_3.visible=!0,e.SpineAni_3.play(0,!1,!0)}),c.Laya.timer.once(1500,this,function(){e.GameGround.visible=!1,e.MyGetLabel.visible=!1,e.WinLabel.visible=!1,null!=e.tipBackFunc&&e.tipBackFunc(e.totalCutSceneTime-e.timeout+e.timenow),e.isInShowGame=!1})},t.prototype.SetQuitPlayer=function(e,t){t==e.m_dwGameID&&(this.isShowMyWin=!1,this.myWinMoney=e.m_dWinScore,this.ShowMyGetWin(),this.gameMain.UpdateMoney(0));var n=this.GetTiaoSanObjForPool(e);this.richUserObj.push(n)},t.prototype.OnGameCrash=function(e){this.isStartFly=!1,this.LabelMultiple.text=e.m_dCrashMultiple.toFixed(2)+"x",this.Settlement()},t.prototype.OnDestory=function(){for(var e=0;e<this.richUserObj.length;e++)this.richUserObj[e].GoldObj.destroy(),this.richUserObj[e].SanObj.destroy(),this.richUserObj[e].WinLabel.destroy();for(this.richUserObj=null,e=0;e<this.richUSerObjPool.length;e++)this.richUSerObjPool[e].GoldObj.destroy(),this.richUSerObjPool[e].SanObj.destroy(),this.richUSerObjPool[e].WinLabel.destroy();this.richUSerObjPool=null,this.isStartFly=!1,this.isFlashLine=!1,c.Laya.Tween.clearAll(this),c.Laya.timer.clearAll(this)},t.prototype.SetTime_X=function(e){var t=100;if(e>50){this.time_X_Speed=10;for(var n=e;n>100;)n/=2,this.time_X_Speed=2*this.time_X_Speed,t*=2}else e<=10?(this.time_X_Speed=1,t=10):(this.time_X_Speed=5,t=50);this.time_X_MoveCount=Math.ceil(e/t*11),this.time_X_MoveTarget=this.time_X_WidthMax/this.time_X_MoveCount,this.time_X_cellWidth=this.time_X_WidthMax/(e/this.time_X_Speed),this.time_X_MoveTimer=(e-(this.time_X_MoveCount-1)*this.time_X_Speed)/this.time_X_Speed},t.prototype.SetMyGetLabel=function(e){this.isShowMyWin&&this.betMoney>0&&(this.MyGetLabel.text=s.GameTool.formatMoneyString(e*this.betMoney+this.betMoney))},t.prototype.AddTime_X=function(){this.time_X_MoveTimer=this.time_X_MoveTimer+c.Laya.timer.delta/1e3/(this.time_X_Speed/this.flyTimeRate);for(var e=c.Laya.MathUtil.lerp(this.time_X_cellWidth,this.time_X_MoveTarget,this.time_X_MoveTimer),t=0,n=0;n<this.time_X.length;n++){var o=this.time_X[n],i=new c.Laya.Point(this.time_X[n].x,this.time_X[n].y);o.pos(e*t,i.y),t+=1,this.time_X[n].text=Math.ceil(n*this.time_X_Speed)+"s"}if(e<=this.time_X_MoveTarget&&(this.time_X_MoveCount=this.time_X_MoveCount+1,this.time_X_MoveTarget=this.time_X_WidthMax/this.time_X_MoveCount,e>this.time_X_WidthMin&&(this.time_X_cellWidth=e),this.time_X_MoveTimer=0),e<=this.time_X_WidthMin)for(1==this.time_X_Speed?(this.time_X_Speed=5,this.time_X_cellWidth=425,this.time_X_MoveCount=3):(this.time_X_Speed=2*this.time_X_Speed,this.time_X_MoveCount=6,this.time_X_cellWidth=212.5),this.time_X_MoveTarget=this.time_X_WidthMax/this.time_X_MoveCount,n=0;n<this.time_X.length;n++)this.time_X[n].pos(n*this.time_X_MoveTarget,this.time_X[n].y)},t.prototype.AddTime_Y=function(e){if(e>.5*this.time_Y.length){var t=this.time_Y.length*this.lineScaleYW,n=new c.Laya.Label;n.color="#00f7f9",n.fontSize=20,this.LineObject_Y.addChild(n),n.pos(0,-t),n.text=(this.lineScaleYNum*this.time_Y.length+this.startMultiple).toString()+"x";var o=new c.Laya.Image;o.skin="resources/games/game34600/res/Image/Atlas/Game/line2.png",n.addChild(o),o.pos(-6,22),o.size(20,5),this.time_Y.push(n)}},t.prototype.RefreshPlayerQuitPos=function(){if(this.richUserObj.length>0)for(var e=this.richUserObj.length-1;e>=0;e--){var t=this.lineScaleY,n=this.lineScaleX,o=this.StartPoint.y-this.EndPoint.y,i=this.EndPoint.x-this.StartPoint.x,a=(2*this.startSpeed+this.addSpeed*this.timeout)*this.timeout/2;a=this.StartPoint.y-t*a;var r=n*this.timeout+this.StartPoint.x;r>this.EndPoint.x&&(n=i/(r-this.StartPoint.x)*n),a<this.EndPoint.y&&(t=o/(this.StartPoint.y-a)*t);var s=this.isFlashLine?this.richUserObj[e].timeout:this.timeout*(this.richUserObj[e].timeout/this.timeout),l=(2*this.startSpeed+this.addSpeed*s)*s/2*(this.richUserObj[e].timeout/this.timeout),c=this.StartPoint.y-t*l,u=n*s+this.StartPoint.x;this.richUserObj[e].GoldObj.pos(u,c)}},t.prototype.GetTiaoSanObjForPool=function(e){var t=null;this.richUSerObjPool.length>0&&(t=this.richUSerObjPool.pop()),null==t&&((t=new u).GoldObj=new c.Laya.Image,t.GoldObj.skin="resources/games/game34600/res/Image/Atlas/Game/stop_gold.png",t.GoldObj.useSourceSize=!0,t.GoldObj.anchorX=.5,t.GoldObj.anchorY=1,this.SanGroud.addChild(t.GoldObj),t.WinLabel=new c.Laya.Label,t.WinLabel.fontSize=16,t.WinLabel.bold=!0,t.WinLabel.color="#ffffff",t.WinLabel.pos(-14,-21),t.WinLabel.size(58,25),t.WinLabel.align="center",t.GoldObj.addChild(t.WinLabel),t.SanObj=new c.Laya.Image,t.SanObj.skin="resources/games/game34600/res/Image/Atlas/Game/people.png",t.SanObj.useSourceSize=!0,t.SanObj.anchorX=.5,t.SanObj.anchorY=1,this.SanGroud.addChild(t.SanObj));var n=this.lineScaleX*this.timeout+this.StartPoint.x,o=this.StartPoint.y-this.lineScaleY*(e.m_dQuitMultiple-this.startMultiple);if(n=n>this.EndPoint.x?this.EndPoint.x:n,o=o<this.EndPoint.y?this.EndPoint.y:o,t.GoldObj.pos(n,o),t.SanObj.pos(n,o),t.timeout=e.m_dFliedTimeWhenQuit*this.flyTimeRate,t.WinLabel.text=s.GameTool.formatMoneyString(e.m_dWinScore+e.m_dBetScore),t.GoldObj.visible=!0,t.SanObj.visible=!0,this.timeout-t.timeout<1){var i=new c.Laya.Point(n-50,o+90);c.Laya.Tween.to(t.SanObj,{x:i.x,y:i.y,alpha:.01},1e3,c.Laya.Ease.linearIn,c.Laya.Handler.create(this,function(){t.SanObj.visible=!1}))}else t.SanObj.visible=!1;return t},t.prototype.ShowMyGetWin=function(){var e=this;this.MyGetLabel.text=s.GameTool.formatMoneyString(this.myWinMoney),this.WinLabel.text="+"+s.GameTool.formatMoneyString(this.myWinMoney),this.MyGetLabel.visible=!0,this.WinLabel.visible=!0,c.Laya.Tween.to(this.MyGetLabel,{y:120},1e3),c.Laya.Tween.to(this.WinLabel,{y:-10},1e3),c.Laya.Tween.to(this.MyGetLabel,{alpha:0},300,c.Laya.Ease.linearIn,c.Laya.Handler.create(this,function(){e.MyGetLabel.visible=!1}),1e3),c.Laya.Tween.to(this.WinLabel,{alpha:0},300,c.Laya.Ease.linearIn,c.Laya.Handler.create(this,function(){e.WinLabel.visible=!1}),1e3)},a([h({type:c.Laya.Image})],t.prototype,"GameGround",void 0),a([h({type:c.Laya.Image})],t.prototype,"SanGroud",void 0),a([h({type:c.Laya.Image})],t.prototype,"SanObj_1",void 0),a([h({type:c.Laya.Image})],t.prototype,"SanObj_2",void 0),a([h({type:c.Laya.Image})],t.prototype,"RocketObj",void 0),a([h({type:c.Laya.Image})],t.prototype,"SpineAni_1",void 0),a([h({type:c.Laya.SpineSkeleton})],t.prototype,"SpineAni_2",void 0),a([h({type:c.Laya.SpineSkeleton})],t.prototype,"SpineAni_3",void 0),a([h({type:c.Laya.Image})],t.prototype,"StartPoint",void 0),a([h({type:c.Laya.Image})],t.prototype,"EndPoint",void 0),a([h({type:c.Laya.Image})],t.prototype,"SpriteBg",void 0),a([h({type:c.Laya.Label})],t.prototype,"LabelMultiple",void 0),a([h({type:c.Laya.Label})],t.prototype,"MyGetLabel",void 0),a([h({type:c.Laya.Label})],t.prototype,"WinLabel",void 0),a([h({type:c.Laya.Image})],t.prototype,"GameLine",void 0),a([h({type:c.Laya.Image})],t.prototype,"LineObject_X",void 0),a([h({type:c.Laya.Image})],t.prototype,"LineObject_Y",void 0),a([p()],t)}(c.Laya.Script);n.GameRockFly34600=d,cc._RF.pop()},{"../../halls/halllib/core/HallData":"HallData","../../halls/halllib/core/RunData":"RunData","../../halls/halllib/laya/Laya":"Laya","./GameConstant34600":"GameConstant34600"}],GameRunPanel30300:[function(e,t,n){"use strict";cc._RF.push(t,"5ab52654wFH27ewF1SYubkf","GameRunPanel30300");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameRunPanel30300=void 0;var r=e("../../halls/halllib/common/LogBase"),s=e("./GameBetPanel30300"),l=e("./GameData30300"),c=e("./GameHistory30300"),u=e("./GameSettlement30300"),p=e("./SoundManager30300"),h=e("../../halls/halllib/laya/Laya"),d=h.Laya.regClass,f=(h.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.speednow=200,t.speedfast=50,t.speedslow=200,t.addSpeed=.08,t.turnsNum=112,t.moderateStep=112,t}var n;return i(t,e),n=t,t.prototype.onAwake=function(){n.Instance=this,this.startRun=!1,this.startIndex=0,this.openIndex=0,this.ItemAnis=new Array;for(var e=0;e<28;e++)this.ItemAnis[e]=this.owner.getChildAt(e).getChildAt(0),this.ItemAnis[e].alpha=0},t.prototype.ShowOpenAni=function(e){if(!this.startRun&&this.startIndex!=e&&this.openIndex<=1)for(var t=0;t<28;t++)e==t?(this.startIndex=e,this.ItemAnis[t].alpha=1):this.ItemAnis[t].alpha=0},t.prototype.OnPlayRun=function(e){this.speednow=this.speedslow,this.startRun=!0,this.timesout=0,this.stepNum=0,this.openIndex=0,this.openData=e;var t=(this.startIndex+this.turnsNum)%28;t>this.openData[0]?this.moderateStep=this.turnsNum+28-t+this.openData[0]-20:this.moderateStep=this.turnsNum+this.openData[0]-t-20,p.SoundManager30300.Instance.PlaySoundById(0,1)},t.prototype.onUpdate=function(){if(this.startRun){if(this.timesout+=h.Laya.timer.delta,this.timesout>=this.speednow&&(this.stepNum++,this.timesout-=this.speednow,(this.openIndex<=0||this.startIndex!=this.openData[0])&&h.Laya.Tween.to(this.ItemAnis[this.startIndex],{alpha:0},5*this.speedfast),this.startIndex++,this.startIndex>=28&&(this.startIndex=0),this.ItemAnis[this.startIndex].alpha=1,this.openData[this.openIndex]==this.startIndex&&this.stepNum>=this.turnsNum))return this.openIndex++,void(this.openIndex<this.openData.length&&this.openData[this.openIndex]>=0&&l.GameData30300.viewIndex[this.startIndex]<=2?(this.speednow=this.speedfast,this.moderateStep=this.turnsNum):this.openPrize());this.stepNum<this.turnsNum/3&&this.speednow>this.speedfast?this.speednow-=h.Laya.timer.delta*this.addSpeed:this.stepNum>this.moderateStep&&this.speednow<this.speedslow&&(this.speednow+=h.Laya.timer.delta*this.addSpeed)}},t.prototype.openPrize=function(){r.LogBase.log("======>>>>openPrize"),this.startRun=!1;for(var e=this.openIndex-1;e>=0;e--)c.GameHistory30300.Instance.AddNewChild(this.openData[e]);s.GameBetPanel30300.Instance.SetOpenPrizes(this.openData),u.GameSettlement30300.Instance.ShowPrize(this.openData[0])},n=a([d()],t)}(h.Laya.Script));n.GameRunPanel30300=f,cc._RF.pop()},{"../../halls/halllib/common/LogBase":"LogBase","../../halls/halllib/laya/Laya":"Laya","./GameBetPanel30300":"GameBetPanel30300","./GameData30300":"GameData30300","./GameHistory30300":"GameHistory30300","./GameSettlement30300":"GameSettlement30300","./SoundManager30300":"SoundManager30300"}],GameRunPanel30700:[function(e,t,n){"use strict";cc._RF.push(t,"6080dDTYEJGl4z5waIIAn3/","GameRunPanel30700");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameRunPanel30700=void 0;var r=e("../../halls/halllib/common/LogBase"),s=e("./GameBetPanel30700"),l=e("./GameHistory30700"),c=e("./SoundManager30700"),u=e("../../halls/halllib/laya/Laya"),p=u.Laya.regClass,h=(u.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.speednow=200,t.speedfast=30,t.speedslow=200,t.addSpeed=.2,t.turnsNum=96,t.moderateStep=96,t.prizeId=0,t}var n;return i(t,e),n=t,t.prototype.onAwake=function(){n.Instance=this,this.startRun=!1,this.startIndex=0,this.WinRayAni=this.owner.getChildByName("WinRayAni"),this.ItemAnis=new Array;for(var e=0;e<32;e++)this.ItemAnis[e]=this.owner.getChildAt(e).getChildAt(1),this.ItemAnis[e].alpha=0},t.prototype.ShowOpenAni=function(e){if(!this.startRun&&this.startIndex!=e)for(var t=0;t<28;t++)e==t?(this.startIndex=e,this.ItemAnis[t].alpha=1):this.ItemAnis[t].alpha=0},t.prototype.OnPlayRun=function(e,t){this.speednow=this.speedslow,this.startRun=!0,this.timesout=0,this.stepNum=0,this.openData=e,this.prizeId=t;var n=(this.startIndex+this.turnsNum)%32;n>this.openData?this.moderateStep=this.turnsNum+32-n+this.openData-10:this.moderateStep=this.turnsNum+this.openData-n-10,this.WinRayAni.visible=!1},t.prototype.onUpdate=function(){if(this.startRun){if(this.timesout+=u.Laya.timer.delta,this.timesout>=this.speednow){if(this.stepNum++,this.timesout-=this.speednow,u.Laya.Tween.to(this.ItemAnis[this.startIndex],{alpha:0},5*this.speedfast),this.startIndex++,this.startIndex>=32&&(this.startIndex=0),this.ItemAnis[this.startIndex].alpha=1,this.openData==this.startIndex&&this.stepNum>=this.turnsNum)return void this.openPrize();c.SoundManager30700.Instance.PlaySoundById(2,1)}this.stepNum<this.turnsNum/3&&this.speednow>this.speedfast?this.speednow-=u.Laya.timer.delta*this.addSpeed:this.stepNum>this.moderateStep&&this.speednow<this.speedslow&&(this.speednow+=u.Laya.timer.delta*this.addSpeed)}},t.prototype.openPrize=function(){var e=this;r.LogBase.log("======>>>>openPrize"),c.SoundManager30700.Instance.PlaySoundById(3,1),this.startRun=!1,s.GameBetPanel30700.Instance.SetOpenPrize(this.prizeId),this.ItemAnis[this.startIndex].addChild(this.WinRayAni),this.WinRayAni.pos(-20,-20),this.WinRayAni.visible=!0,this.owner.timerOnce(1500,this,function(){e.WinRayAni.visible=!1}),l.GameHistory30700.Instance.AddNewChild(this.prizeId),s.GameBetPanel30700.Instance.OpenPrize(this.prizeId)},n=a([p()],t)}(u.Laya.Script));n.GameRunPanel30700=h,cc._RF.pop()},{"../../halls/halllib/common/LogBase":"LogBase","../../halls/halllib/laya/Laya":"Laya","./GameBetPanel30700":"GameBetPanel30700","./GameHistory30700":"GameHistory30700","./SoundManager30700":"SoundManager30700"}],GameSetPanel34800:[function(e,t,n){"use strict";cc._RF.push(t,"c3578IThuJNMahzKFJOn4Ei","GameSetPanel34800");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameSetPanel34800=void 0;var r=e("./GameBasePanel34800"),s=e("./GameMain34800"),l=e("./SoundManager34800"),c=e("../../halls/halllib/laya/Laya"),u=c.Laya.regClass,p=(c.Laya.property,function(e){function t(){return e.call(this)||this}var n;return i(t,e),n=t,t.prototype.onAwake=function(){n.Instance=this,e.prototype.onAwake.call(this),this.CloseBtn=this.owner.getChildByName("SetCloseBtn"),this.ExitBtn=this.owner.getChildByName("ExitGameBtn"),this.MusicToggle=this.owner.getChildByName("MusicToggle"),this.EffectToggle=this.owner.getChildByName("EffectToggle"),this.CloseBtn.on(c.Laya.Event.CLICK,this,this.Hide),this.ExitBtn.on(c.Laya.Event.CLICK,this,this.onExitBtn),this.MusicToggle.on(c.Laya.Event.CHANGE,this,this.onCheckMusic),this.EffectToggle.on(c.Laya.Event.CHANGE,this,this.onCheckSound),this.MusicToggle.selected=l.SoundManager34800.Instance.IsPlayMusic,this.EffectToggle.selected=l.SoundManager34800.Instance.IsPlaySound},t.prototype.onCheckMusic=function(){l.SoundManager34800.Instance.IsPlayMusic=this.MusicToggle.selected},t.prototype.onCheckSound=function(){l.SoundManager34800.Instance.IsPlaySound=this.EffectToggle.selected},t.prototype.onExitBtn=function(){s.GameMain34800.Instance.OnExitGame()},n=a([u()],t)}(r.GameBasePanel34800));n.GameSetPanel34800=p,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya","./GameBasePanel34800":"GameBasePanel34800","./GameMain34800":"GameMain34800","./SoundManager34800":"SoundManager34800"}],GameSettingConst:[function(e,t,n){"use strict";cc._RF.push(t,"41ab1NLalJPxqvX5abZWskC","GameSettingConst"),Object.defineProperty(n,"__esModule",{value:!0}),n.GameSettingConst=void 0,n.GameSettingConst={LocalCacheKey:"GameSettingConst.LocalCacheKey",LocalKickPeopleConfirm:"GameSettingConst.LocalKickPeopleConfirm"},cc._RF.pop()},{}],GameSettingEvent:[function(e,t,n){"use strict";cc._RF.push(t,"b71682WsdJGW6KSRsxIWSTW","GameSettingEvent"),Object.defineProperty(n,"__esModule",{value:!0}),n.GameSettingEvent=void 0,function(e){e.OnMusicSwitchChaned="GameSettingEvent.OnMusicSwitchChaned",e.OnSoundSwitchChaned="GameSettingEvent.OnSoundSwitchChaned",e.OnLanguageCodeChaned="GameSettingEvent.OnLanguageCodeChaned"}(n.GameSettingEvent||(n.GameSettingEvent={})),cc._RF.pop()},{}],GameSettingModels:[function(e,t,n){"use strict";cc._RF.push(t,"7fa22lR3ldCYJnOiyddQT2V","GameSettingModels"),Object.defineProperty(n,"__esModule",{value:!0}),n.GameSettingModel=void 0;var o=e("../../framework/gg"),i=e("../../framework/utils/JsonUtils"),a=e("./GameSettingEvent"),r=function(){function e(){this._musicSwitch=!0,this._soundSwitch=!0,this._languageCode=""}return Object.defineProperty(e.prototype,"musicSwitch",{get:function(){return this._musicSwitch},set:function(e){this._musicSwitch!=e&&(this._musicSwitch=e,o.gg.eventManager.emit(a.GameSettingEvent.OnMusicSwitchChaned))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"soundSwitch",{get:function(){return this._soundSwitch},set:function(e){this._soundSwitch!=e&&(this._soundSwitch=e,o.gg.eventManager.emit(a.GameSettingEvent.OnSoundSwitchChaned))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageCode",{get:function(){return this._languageCode},set:function(e){this._languageCode!=e&&(this._languageCode=e,o.gg.eventManager.emit(a.GameSettingEvent.OnLanguageCodeChaned))},enumerable:!1,configurable:!0}),e.prototype.fromJsonString=function(e){if(null==e||0===e.trim().length)return this;try{return this._fromJSON(JSON.parse(e))}catch(t){return this}},e.prototype.toJsonString=function(){return JSON.stringify(this._toJSON())},e.prototype._fromJSON=function(e){return this._musicSwitch=i.JsonUtils.optValue(e,"musicSwitch",!0),this._soundSwitch=i.JsonUtils.optValue(e,"soundSwitch",!0),this.languageCode=i.JsonUtils.optValue(e,"languageCode",""),this},e.prototype._toJSON=function(){var e={};return e.musicSwitch=this._musicSwitch,e.soundSwitch=this._soundSwitch,e.languageCode=this.languageCode,e},e}();n.GameSettingModel=r,cc._RF.pop()},{"../../framework/gg":"gg","../../framework/utils/JsonUtils":"JsonUtils","./GameSettingEvent":"GameSettingEvent"}],GameSettingSystem:[function(e,t,n){"use strict";cc._RF.push(t,"1f230FRHudEhpa0Yf/BrQua","GameSettingSystem"),Object.defineProperty(n,"__esModule",{value:!0}),n.gameSettingSystem=void 0;var o=e("../../framework/gg"),i=e("./GameSettingConst"),a=e("./GameSettingModels"),r=function(){function e(){}return e.prototype.init=function(){var e=o.gg.localStorage.getItem(i.GameSettingConst.LocalCacheKey);this.setting=null==e||""==e?new a.GameSettingModel:(new a.GameSettingModel).fromJsonString(e)},e.prototype.saveSettingToLocal=function(){this.setting&&o.gg.localStorage.setItem(i.GameSettingConst.LocalCacheKey,this.setting.toJsonString())},e}();n.gameSettingSystem=new r,cc._RF.pop()},{"../../framework/gg":"gg","./GameSettingConst":"GameSettingConst","./GameSettingModels":"GameSettingModels"}],GameSettlement30200:[function(e,t,n){"use strict";cc._RF.push(t,"673250vTmVH5Kfyp4rP58Ps","GameSettlement30200");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameSettlement30200=void 0;var r=e("../../halls/halllib/laya/Laya"),s=e("../../halls/halllib/core/RunData"),l=e("./GameBasePanel30200"),c=e("./GameData30200"),u=e("./GameHistory30200"),p=r.Laya.regClass,h=r.Laya.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.LabelZXH=null,t.LabelAnimal=null,t.LabelWin=null,t.LabelLost=null,t.ImageZXH=null,t.ImageAnimal=null,t.ImageColor=null,t.ImageDSY=null,t.ImageDSX=null,t}var n;return i(t,e),n=t,t.prototype.onAwake=function(){e.prototype.onAwake.call(this),n.Instance=this},t.prototype.OpenPrize=function(e){this.LabelZXH.text="X"+c.GameData30200.Prizemultiple[e.chZXHIndex+12].toString(),e.nUserWinMoney>=0?(this.LabelWin.value="+"+s.GameTool.formatMoneyString(e.nUserWinMoney),this.LabelWin.visible=!0,this.LabelLost.visible=!1):(this.LabelLost.value=s.GameTool.formatMoneyString(e.nUserWinMoney),this.LabelLost.visible=!0,this.LabelWin.visible=!1);var t="";if(e.nColorLight>=0)for(var o=e.chPriseIndex%3,i=0;i<c.GameData30200.Prizemultiple.length;i++)o==i%3&&(t+="X"+c.GameData30200.Prizemultiple[i].toString());else if(e.nAnimalLight>=0)for(i=o=Math.floor(e.chPriseIndex/3);i<o+3;i++)t+="X"+c.GameData30200.Prizemultiple[i].toString();else t="X"+(c.GameData30200.Prizemultiple[e.chPriseIndex]*e.nChunYuBase).toString();this.LabelAnimal.text=t,this.ImageDSY.visible=e.nColorLight>=0,this.ImageDSX.visible=e.nAnimalLight>=0,this.ImageAnimal.skin=u.GameHistory30200.GetAniMalsRes(e.nAnimalLight>=0?4:Math.floor(e.chPriseIndex/3)),this.ImageColor.skin=n.ColorRes[e.nColorLight>=0?3:e.chPriseIndex%3],this.ImageZXH.skin=n.ZHXRes[e.chZXHIndex],this.Show()},t.ZHXRes=["resources/games/game30200/res/game/txt_jiesuan_zhuang.png","resources/games/game30200/res/game/txt_jiesuan_he.png","resources/games/game30200/res/game/txt_jiesuan_xian.png"],t.ColorRes=["resources/games/game30200/res/game/UI_Game_JS_RedBox.png","resources/games/game30200/res/game/UI_Game_JS_GreenBox.png","resources/games/game30200/res/game/UI_Game_JS_YellowBox.png","resources/games/game30200/res/game/UI_Game_JS_DSYBox.png"],a([h(r.Laya.Label)],t.prototype,"LabelZXH",void 0),a([h(r.Laya.Label)],t.prototype,"LabelAnimal",void 0),a([h(r.Laya.FontClip)],t.prototype,"LabelWin",void 0),a([h(r.Laya.FontClip)],t.prototype,"LabelLost",void 0),a([h(r.Laya.Image)],t.prototype,"ImageZXH",void 0),a([h(r.Laya.Image)],t.prototype,"ImageAnimal",void 0),a([h(r.Laya.Image)],t.prototype,"ImageColor",void 0),a([h(r.Laya.Image)],t.prototype,"ImageDSY",void 0),a([h(r.Laya.Image)],t.prototype,"ImageDSX",void 0),n=a([p()],t)}(l.GameBasePanel30200);n.GameSettlement30200=d,cc._RF.pop()},{"../../halls/halllib/core/RunData":"RunData","../../halls/halllib/laya/Laya":"Laya","./GameBasePanel30200":"GameBasePanel30200","./GameData30200":"GameData30200","./GameHistory30200":"GameHistory30200"}],GameSettlement30300:[function(e,t,n){"use strict";cc._RF.push(t,"459e9i4GXdFyJxnQ+hmsC/k","GameSettlement30300");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameSettlement30300=void 0;var r=e("../../halls/halllib/common/LogBase"),s=e("../../halls/halllib/core/RunData"),l=e("./GameBasePanel30300"),c=e("./GameData30300"),u=e("./GameMain30300"),p=e("./SoundManager30300"),h=e("../../halls/halllib/laya/Laya"),d=h.Laya.regClass,f=(h.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.openindex=-1,t.animalsound=[-1,4,10,-1,11,8,7,3,12,6,5,9],t}var n;return i(t,e),n=t,Object.defineProperty(t.prototype,"OpenIndex",{set:function(e){this.openindex=e},enumerable:!1,configurable:!0}),t.prototype.onAwake=function(){e.prototype.onAwake.call(this),n.Instance=this,this.ImgAnimal=this.owner.getChildByName("ImgAnimal"),this.LabelWin=this.owner.getChildByName("LabelWin"),this.loadIconImage()},t.prototype.loadIconImage=function(){this.IconImage=new Array;for(var e=0;e<12;e++)this.IconImage[e]=h.Laya.loader.getRes("resources/games/game30300/res/JieSuan/UI_Game_JS_"+(e+1)+".png")},t.prototype.ShowPrize=function(e,t){this.openindex=-1;var n=c.GameData30300.viewIndex[e];this.ImgAnimal.texture=this.IconImage[n],null!=this.IconImage[n]?(this.ImgAnimal.width=this.IconImage[n].width,this.ImgAnimal.height=this.IconImage[n].height):r.LogBase.log("================1>>>>no get history obj"+e),this.Show(),null!=t?this.ShowWin(t):this.LabelWin.text="",u.GameMain30300.Instance.ImageType3.visible=n>8,u.GameMain30300.Instance.ImageType2.visible=n<=8,this.animalsound[n]&&p.SoundManager30300.Instance.PlaySoundById(this.animalsound[n],1)},t.prototype.Hide=function(){u.GameMain30300.Instance.ImageType2.visible=!1,u.GameMain30300.Instance.ImageType3.visible=!1,this.openindex=-1,e.prototype.Hide.call(this)},t.prototype.ShowWin=function(e){if(this.LabelWin.text=e>=0?"+"+s.GameTool.formatMoneyString(e):s.GameTool.formatMoneyString(e),null!=this.openindex&&this.openindex>=0){var t=c.GameData30300.viewIndex[this.openindex];this.ImgAnimal.texture=this.IconImage[t],null!=this.IconImage[t]?(this.ImgAnimal.width=this.IconImage[t].width,this.ImgAnimal.height=this.IconImage[t].height):r.LogBase.log("===============2=>>>>no get history obj"+this.openindex),this.Show(),this.openindex=-1}},n=a([d()],t)}(l.GameBasePanel30300));n.GameSettlement30300=f,cc._RF.pop()},{"../../halls/halllib/common/LogBase":"LogBase","../../halls/halllib/core/RunData":"RunData","../../halls/halllib/laya/Laya":"Laya","./GameBasePanel30300":"GameBasePanel30300","./GameData30300":"GameData30300","./GameMain30300":"GameMain30300","./SoundManager30300":"SoundManager30300"}],GameSettlement30700:[function(e,t,n){"use strict";cc._RF.push(t,"c6121+YH6BM0ZlyWfFQmrT7","GameSettlement30700");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameSettlement30700=void 0;var r=e("../../halls/halllib/core/RunData"),s=e("./GameBasePanel30700"),l=e("./GameData30700"),c=e("./GameHistory30700"),u=e("../../halls/halllib/laya/Laya"),p=u.Laya.regClass,h=(u.Laya.property,function(e){function t(){return e.call(this)||this}var n;return i(t,e),n=t,t.prototype.onAwake=function(){e.prototype.onAwake.call(this),n.Instance=this,this.ButtonConfirm=this.owner.getChildByName("ButtonConfirm"),this.ImageIcon=this.owner.getChildByName("ImageIcon"),this.ImageWin=this.owner.getChildByName("ImageWin"),this.ImageLost=this.owner.getChildByName("ImageLost"),this.LabelBeiLv=this.owner.getChildByName("LabelBeiLv");var t=this.owner.getChildByName("Player");this.Players=[];for(var o=0;o<6;o++)this.Players[o]=new d(t.getChildAt(o));this.ButtonConfirm.on(u.Laya.Event.CLICK,this,this.Hide)},t.prototype.SetOpenData=function(e){this.ImageIcon.texture=c.GameHistory30700.Instance.GetIconById(e.Prize),this.LabelBeiLv.text="x"+l.GameData30700.BeiLv[e.Prize].toString(),this.Players[0].LabelName.text=r.RunData.myUserInfo.nickName,this.Players[0].LabelWin.text=r.GameTool.formatMoneyString(e.WinLoseMoney),this.ImageWin.visible=e.WinLoseMoney>=0,this.ImageLost.visible=e.WinLoseMoney<0;for(var t=1;t<this.Players.length;t++)t<=e.RankingCount?(this.Players[t].LabelWin.text=r.GameTool.formatMoneyString(e.RankingMoney[t-1]),l.GameData30700.UserNames[e.RankingStation[t-1]]?this.Players[t].LabelName.text=l.GameData30700.UserNames[e.RankingStation[t-1]]:this.Players[t].LabelName.text="",this.Players[t].owner.visible=!0):this.Players[t].owner.visible=!1},n=a([p()],t)}(s.GameBasePanel30700));n.GameSettlement30700=h;var d=function(e){this.owner=e,this.LabelName=this.owner.getChildByName("LabelName"),this.LabelWin=this.owner.getChildByName("LabelWin")};cc._RF.pop()},{"../../halls/halllib/core/RunData":"RunData","../../halls/halllib/laya/Laya":"Laya","./GameBasePanel30700":"GameBasePanel30700","./GameData30700":"GameData30700","./GameHistory30700":"GameHistory30700"}],GameSettlement34400:[function(e,t,n){"use strict";cc._RF.push(t,"a1ecaVVFV1GC4eE36ruHsYQ","GameSettlement34400");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameSettlement34400=void 0;var r=e("../../halls/halllib/core/HallData"),s=e("./GameConstant34400"),l=e("../../halls/halllib/laya/Laya"),c=l.Laya.regClass,u=l.Laya.property,p=function(e){function t(){var t=e.call(this)||this;return t.LotterySpine=null,t.Point1=null,t.Point2=null,t.Point3=null,t.Point1_1=null,t.Point2_2=null,t.Point3_3=null,t.PointLabel=null,t.Leopard=null,t}return i(t,e),t.prototype.StartBet=function(){this.Point1.skin="",this.Point2.skin="",this.Point3.skin="",this.Point1_1.skin="",this.Point2_2.skin="",this.Point3_3.skin="",this.PointLabel.text="",this.Leopard.visible=!1},t.prototype.OpenPrize=function(e){var t=this;this.LotterySpine.play(0,!1,!0),r.HallSoundManager.PlaySound(s.GameConstant34400.EFFECT_Dice,1),l.Laya.timer.once(1460,this,function(){t.Point1.skin=s.GameConstant34400.SettlementDiceType.get(e.bSicePoint[0]),t.Point2.skin=s.GameConstant34400.SettlementDiceType.get(e.bSicePoint[1]),t.Point3.skin=s.GameConstant34400.SettlementDiceType.get(e.bSicePoint[2]),t.Point1_1.skin=s.GameConstant34400.SettlementDiceType2.get(e.bSicePoint[0]),t.Point2_2.skin=s.GameConstant34400.SettlementDiceType2.get(e.bSicePoint[1]),t.Point3_3.skin=s.GameConstant34400.SettlementDiceType2.get(e.bSicePoint[2]),r.HallSoundManager.PlaySound(s.GameConstant34400.EFFECT_Result.get(e.bSicePoint[0])),l.Laya.timer.once(1200,t,function(){r.HallSoundManager.PlaySound(s.GameConstant34400.EFFECT_Result.get(e.bSicePoint[1]))}),l.Laya.timer.once(2400,t,function(){r.HallSoundManager.PlaySound(s.GameConstant34400.EFFECT_Result.get(e.bSicePoint[2]))});for(var n=0,o=0;o<e.bSicePoint.length;o++)n+=e.bSicePoint[o];e.bSicePoint[0]==e.bSicePoint[1]&&e.bSicePoint[0]==e.bSicePoint[2]?(t.Leopard.visible=!0,t.PointLabel.visible=!1):(t.Leopard.visible=!1,t.PointLabel.visible=!0,t.PointLabel.text=n>=11?n+" D B":n+" D X")})},a([u({type:l.Laya.SpineSkeleton})],t.prototype,"LotterySpine",void 0),a([u({type:l.Laya.Image})],t.prototype,"Point1",void 0),a([u({type:l.Laya.Image})],t.prototype,"Point2",void 0),a([u({type:l.Laya.Image})],t.prototype,"Point3",void 0),a([u({type:l.Laya.Image})],t.prototype,"Point1_1",void 0),a([u({type:l.Laya.Image})],t.prototype,"Point2_2",void 0),a([u({type:l.Laya.Image})],t.prototype,"Point3_3",void 0),a([u({type:l.Laya.Label})],t.prototype,"PointLabel",void 0),a([u({type:l.Laya.Image})],t.prototype,"Leopard",void 0),a([c()],t)}(l.Laya.Script);n.GameSettlement34400=p,cc._RF.pop()},{"../../halls/halllib/core/HallData":"HallData","../../halls/halllib/laya/Laya":"Laya","./GameConstant34400":"GameConstant34400"}],GameSideBarPanel:[function(e,t,n){"use strict";cc._RF.push(t,"d0ec2bEwSFGQIGPIFgqhZiI","GameSideBarPanel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../../../../main/scripts/configs/CommonPanelConfig"),s=e("../../../../../main/scripts/framework/gg"),l=e("../../../../../main/scripts/framework/panelrouter/PanelComponent"),c=e("../../../../../main/scripts/systems/user/UserWalletEvent"),u=e("../../../../../main/scripts/systems/user/UserWalletSystem"),p=e("../../../../../main/scripts/utils/CurrencyUtil"),h=cc._decorator,d=h.ccclass,f=h.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.layoutNode=null,t.coinBalanceLabel=null,t.diamondBalanceLabel=null,t.exitBtnNode=null,t.surrenderBtnNode=null,t._showData=null,t}return i(t,e),t.prototype.show=function(e){this._showData=e.data,this.exitBtnNode.active=null==this._showData.showExitBtn||this._showData.showExitBtn,this.surrenderBtnNode.active=null!=this._showData.showSurrenderBtn&&this._showData.showSurrenderBtn,this._playPanelShowAnim(function(){e.onShowed()})},t.prototype.hide=function(e){this._showData=null,this._playPanelHideAnim(function(){e.onHided()})},t.prototype.onEnable=function(){this._onBalanceChanged(),s.gg.eventManager.on(c.UserWalletEvent.OnBalanceChanged,this._onBalanceChanged,this)},t.prototype.onDisable=function(){s.gg.eventManager.offTarget(this)},t.prototype._onBalanceChanged=function(){this.coinBalanceLabel.string=p.CurrencyUtil.toHumanReadable(u.userWalletSystem.coinBalance),this.diamondBalanceLabel.string=p.CurrencyUtil.toHumanReadable(u.userWalletSystem.diamondBalance)},t.prototype.onCloseBtnClick=function(){s.gg.panelRouter.hide({panel:r.CommonPanelConfig.gameSideBarPanel})},t.prototype.onRuleBtnClick=function(){var e,t;null===(t=null===(e=this._showData)||void 0===e?void 0:e.onRuleBtnClick)||void 0===t||t.call(e)},t.prototype.onSettingBtnClick=function(){var e,t;null===(t=null===(e=this._showData)||void 0===e?void 0:e.onSettingBtnClick)||void 0===t||t.call(e)},t.prototype.onExitBtnClick=function(){var e,t;null===(t=null===(e=this._showData)||void 0===e?void 0:e.onExitBtnClick)||void 0===t||t.call(e)},t.prototype.onSurrenderBtnClick=function(){var e,t;null===(t=null===(e=this._showData)||void 0===e?void 0:e.onSurrenderBtnClick)||void 0===t||t.call(e)},t.prototype._playPanelShowAnim=function(e){cc.Tween.stopAllByTarget(this.layoutNode);var t=cc.v3(0,this.layoutNode.height),n=cc.v3();cc.tween(this.layoutNode).set({position:t,opacity:0}).to(.16,{position:n,opacity:255},{easing:"sineOut"}).call(function(){e()}).start()},t.prototype._playPanelHideAnim=function(e){cc.Tween.stopAllByTarget(this.layoutNode);var t=cc.v3(0,this.layoutNode.height);cc.tween(this.layoutNode).to(.16,{position:t,opacity:0},{easing:"sineOut"}).call(function(){e()}).start()},a([f({type:cc.Node,tooltip:"\u4fa7\u8fb9\u680f"})],t.prototype,"layoutNode",void 0),a([f({type:cc.Label,tooltip:"\u91d1\u5e01\u6570"})],t.prototype,"coinBalanceLabel",void 0),a([f({type:cc.Label,tooltip:"\u94bb\u77f3\u6570"})],t.prototype,"diamondBalanceLabel",void 0),a([f({type:cc.Node,tooltip:"\u9000\u51fa\u6309\u94ae"})],t.prototype,"exitBtnNode",void 0),a([f({type:cc.Node,tooltip:"\u6295\u964d\u6309\u94ae"})],t.prototype,"surrenderBtnNode",void 0),a([d],t)}(l.PanelComponent);n.default=g,cc._RF.pop()},{"../../../../../main/scripts/configs/CommonPanelConfig":"CommonPanelConfig","../../../../../main/scripts/framework/gg":"gg","../../../../../main/scripts/framework/panelrouter/PanelComponent":"PanelComponent","../../../../../main/scripts/systems/user/UserWalletEvent":"UserWalletEvent","../../../../../main/scripts/systems/user/UserWalletSystem":"UserWalletSystem","../../../../../main/scripts/utils/CurrencyUtil":"CurrencyUtil"}],GameSkinEnum:[function(e,t,n){"use strict";cc._RF.push(t,"ce4d4jsFE5JOpNc5clyGpTr","GameSkinEnum"),Object.defineProperty(n,"__esModule",{value:!0}),n.GameSkinEnum=void 0,(n.GameSkinEnum||(n.GameSkinEnum={})).GpAfDemo="GpAfDemo",cc._RF.pop()},{}],GameSocketHttpRequestV2:[function(e,t,n){"use strict";cc._RF.push(t,"16ed1aL639M7K7mvycWuLwr","GameSocketHttpRequestV2"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../api/core/GameCenterCommonParams"),i=e("../api/core/GameCenterCryptoV1"),a=e("./BaseProto"),r=e("./GameSocketSystem"),s=function(){function e(){}return e.prototype.requestAsync=function(e){var t=this;return new Promise(function(n,s){var l={onResponse:function(t){if(t.api==e.path){var o=t.response_data;if(null==o)return void s(new Error("no data"));try{o=i.gameCenterCryptoV1.decrypt(o)}catch(a){return void s(new Error("decrypt failed"))}try{n(JSON.parse(o))}catch(a){s(new Error("json parse failed"))}}}};r.gameSocketSystem.onOnce(a.BaseProtoMsg.GetAPIDataResponse,l.onResponse,l),r.gameSocketSystem.send(a.BaseProtoMsg.GetAPIDataRequest,{api:e.path,data:t.toApiData(o.GameCenterCommonParams.fillCommonParams(e.body))})})},e.prototype.toApiData=function(e){return Object.keys(e).map(function(t){return{key:t,value:e[t]}})},e}();n.default=s,cc._RF.pop()},{"../api/core/GameCenterCommonParams":"GameCenterCommonParams","../api/core/GameCenterCryptoV1":"GameCenterCryptoV1","./BaseProto":"BaseProto","./GameSocketSystem":"GameSocketSystem"}],GameSocketInterface:[function(e,t,n){"use strict";cc._RF.push(t,"4f2faznqXJF0IoapBp8qWdV","GameSocketInterface"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],GameSocketSystem:[function(e,t,n){"use strict";cc._RF.push(t,"48177L0UpFPJ6QYG6LrEW4w","GameSocketSystem");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.gameSocketSystem=void 0;var i=e("../../framework/eventmanager/EventManager"),a=o(e("./WebSocketV1")),r=function(){function e(){this._ws=null,this._eventManager=null,this.onClose=null,this._reqCallBack=new Map}return e.prototype.connect=function(e,t){var n=this;this._ws||(this._eventManager=new i.EventManager,this._ws=new a.default({serverUrl:e,pingIntervalInMs:3e3,pingMaxTimes:3,onclose:function(e){n._ws=null,n._eventManager.destroy(),n._reqCallBack.clear(),n.onClose&&n.onClose(e),n.onClose=null},onopen:function(){t&&t()},onmessage:function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n._eventManager.emit(t,e[t])}}))},e.prototype.connectAsync=function(e){var t=this;return new Promise(function(n){t.connect(e,function(){n()})})},e.prototype.close=function(){this._ws&&this._ws.close()},e.prototype.send=function(e,t){this._ws&&this._ws.send(e,t)},e.prototype.on=function(e,t,n){this._eventManager.on(e,t,n)},e.prototype.onOnce=function(e,t,n){this._eventManager.onOnce(e,t,n)},e.prototype.off=function(e,t,n){this._eventManager.off(e,t,n)},e.prototype.offTarget=function(e){this._eventManager.offTarget(e)},e.prototype.request=function(e){var t=this,n=this._reqCallBack.get(e.responseMsg);n||(n=[],this._reqCallBack.set(e.responseMsg,n)),n.push(e),this[e.responseMsg]||(this[e.responseMsg]=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var i=t._reqCallBack.get(e.responseMsg);if(i&&i.length>0){var a=i.splice(0,1)[0];a.responseCallBack.apply(a,n)}}),this.on(e.responseMsg,this[e.responseMsg],this),this.send(e.requestMsg,e.requestData)},e.prototype.requestAsync=function(e){var t=this;return new Promise(function(n){t.request({requestMsg:e.requestMsg,requestData:e.requestData,responseMsg:e.responseMsg,responseCallBack:function(e){n(e)}})})},e}();n.gameSocketSystem=new r,cc._RF.pop()},{"../../framework/eventmanager/EventManager":"EventManager","./WebSocketV1":"WebSocketV1"}],GameStateTimer34600:[function(e,t,n){"use strict";cc._RF.push(t,"dca5fsfk1pKN4Hp78U3wkgc","GameStateTimer34600");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameStateTimer34600=void 0;var r=e("../../halls/halllib/laya/Laya"),s=r.Laya.regClass,l=r.Laya.property,c=function(e){function t(){var t=e.call(this)||this;return t.MultipleBg=null,t.MultipleLabel=null,t.TipLabel=null,t.TimeProgress=null,t.TimeLabel=null,t.isStartTiming=!1,t.timeUp=0,t.totalTime=0,t}return i(t,e),t.prototype.Show=function(e,t,n,o){e?(this.MultipleBg.skin="resources/games/game34600/res/Image/Atlas/Game/huo_jian_lv_kuang.png",this.TipLabel.text="Starts at"):(this.MultipleBg.skin="resources/games/game34600/res/Image/Atlas/Game/huo_jian_red_kuang.png",this.TipLabel.text="About to start"),this.MultipleLabel.text=o.toFixed(2),this.isStartTiming=!0,this.TimeLabel.text=n.toString(),this.timeUp=n,this.totalTime=t},t.prototype.Hide=function(){this.timeUp=0,this.TimeLabel.text="0",this.isStartTiming=!1},t.prototype.onUpdate=function(){this.isStartTiming&&(this.timeUp-=r.Laya.timer.delta/1e3,this.timeUp<.01?(this.timeUp=0,this.TimeProgress.value=0,this.TimeLabel.text="0"):(this.TimeProgress.value=this.timeUp/this.totalTime,this.TimeLabel.text=this.timeUp.toFixed(2)))},a([l({type:r.Laya.Image})],t.prototype,"MultipleBg",void 0),a([l({type:r.Laya.Label})],t.prototype,"MultipleLabel",void 0),a([l({type:r.Laya.Label})],t.prototype,"TipLabel",void 0),a([l({type:r.Laya.ProgressBar})],t.prototype,"TimeProgress",void 0),a([l({type:r.Laya.Label})],t.prototype,"TimeLabel",void 0),a([s()],t)}(r.Laya.Script);n.GameStateTimer34600=c,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya"}],GameSystem:[function(e,t,n){"use strict";cc._RF.push(t,"fff14gnPdBKzLakNvzU5L70","GameSystem");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.gameSystem=void 0;var r=e("../../configs/SceneConfig"),s=a(e("../../framework/asset/AssetLoader")),l=e("../../framework/gg"),c=e("../gamews/GameSocketSystem"),u=e("../login/LoginEvent"),p=e("./GameEvent"),h=function(){function e(){this._hideTimestamp=0,this._isPaused=!1}return e.prototype.enable=function(){this._hideTimestamp=0,l.gg.eventManager.on(u.LoginEvent.OnUserKickOut,this._onUserOut,this),l.gg.eventManager.on(u.LoginEvent.OnUserLogout,this._onUserOut,this),l.gg.eventManager.on(u.LoginEvent.OnUserLostConnection,this._onUserOut,this)},e.prototype.disable=function(){l.gg.eventManager.offTarget(this)},e.prototype._onUserOut=function(){return o(this,void 0,void 0,function(){var e,t;return i(this,function(n){switch(n.label){case 0:return this.disable(),cc.director.getScene().name==r.SceneConfig.LoginScene.sceneName?[2]:(t=(e=cc.director).runScene,[4,s.default.loadBundleScene(r.SceneConfig.LoginScene.bundleName,r.SceneConfig.LoginScene.sceneName)]);case 1:return t.apply(e,[n.sent()]),[2]}})})},e.prototype.enableIdleReconnect=function(){this._hideTimestamp=0,cc.game.on(cc.game.EVENT_HIDE,this._onGameHide,this),cc.game.on(cc.game.EVENT_SHOW,this._onGameShow,this)},e.prototype.disableIdleReconnect=function(){cc.game.off(cc.game.EVENT_HIDE,this._onGameHide,this),cc.game.off(cc.game.EVENT_SHOW,this._onGameShow,this),this._hideTimestamp=0},e.prototype._onGameHide=function(){l.gg.logger.warn("\u6e38\u620f\u8fdb\u5165\u540e\u53f0"),this._isPaused=!0,this._hideTimestamp=Date.now(),l.gg.eventManager.emit(p.GameEvent.OnAppPause)},e.prototype._onGameShow=function(){if(this._isPaused){this._isPaused=!1;var t=(Date.now()-this._hideTimestamp)/1e3;t>e.MaxBackgroundDuration?(l.gg.logger.warn("\u6e38\u620f\u8fd4\u56de\u524d\u53f0\uff0c\u8ddd\u79bb\u4e0a\u6b21\u8fdb\u5165\u540e\u53f0\uff0c\u8fc7\u53bb\u4e86 "+t.toFixed(2)+"s(>"+e.MaxBackgroundDuration+"s)\uff0c\u5c06\u65ad\u7ebf\u91cd\u8fde"),l.gg.eventManager.emit(p.GameEvent.OnAppRestart),c.gameSocketSystem.close()):(l.gg.logger.warn("\u6e38\u620f\u8fd4\u56de\u524d\u53f0\uff0c\u8ddd\u79bb\u4e0a\u6b21\u8fdb\u5165\u540e\u53f0\uff0c\u8fc7\u53bb\u4e86 "+t.toFixed(2)+"s"),l.gg.eventManager.emit(p.GameEvent.OnAppResume))}},e.MaxBackgroundDuration=20,e}();n.gameSystem=new h,cc._RF.pop()},{"../../configs/SceneConfig":"SceneConfig","../../framework/asset/AssetLoader":"AssetLoader","../../framework/gg":"gg","../gamews/GameSocketSystem":"GameSocketSystem","../login/LoginEvent":"LoginEvent","./GameEvent":"GameEvent"}],GameTableMicroPhoneCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"65054hIYeZEw54zGVN221TN","GameTableMicroPhoneCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t},c=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},u=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},p=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.GameTableMicroPhoneCtrl=void 0;var h=l(e("../../../components/MicroPhoneComponent")),d=e("../../../configs/CommonPanelConfig"),f=(e("../../../ffframework/android/PermissionModel"),e("../../../ffframework/android/PermissionWrapper"),e("../../../framework/gg")),g=e("../../../framework/i18n/I18n"),m=p(e("../../../framework/utils/StringUtils")),y=e("../../../systems/api/gamecenter/GameCenterApi"),_=e("../../../systems/game/GameEvent"),v=e("../../../systems/voicechat/VoiceChatEvent"),b=e("../../../systems/voicechat/VoiceChatSystem"),S=cc._decorator,C=S.ccclass,I=(S.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._microPhoneMap=new Map,t._isLocalUserGrantedPermissionJustNow=!1,t._isJoiningChannel=!1,t}return i(t,e),t.prototype.onEnable=function(){null!=window.agora&&(f.gg.eventManager.on(_.GameEvent.OnAppPause,this._onAppPause,this),f.gg.eventManager.on(_.GameEvent.OnAppResume,this._onAppResume,this),f.gg.eventManager.on(v.VoiceChatEvent.OnJoinChannelSuccess,this._onJoinChannelSuccess,this),f.gg.eventManager.on(v.VoiceChatEvent.OnLeaveChannelSuccess,this._onLeaveChannelSuccess,this),f.gg.eventManager.on(v.VoiceChatEvent.OnOtherPlayerJoinChannelSuccess,this._onOtherPlayerJoinChannelSuccess,this),f.gg.eventManager.on(v.VoiceChatEvent.OnOtherPlayerLeaveChannelSuccess,this._onOtherPlayerLeaveChannelSuccess,this),f.gg.eventManager.on(v.VoiceChatEvent.OnLocalAudioVolumeIndication,this._onLocalAudioVolumeIndication,this),f.gg.eventManager.on(v.VoiceChatEvent.OnRemoteAudioVolumeIndication,this._onRemoteAudioVolumeIndication,this),f.gg.eventManager.on(v.VoiceChatEvent.OnTokenPrivilegeWillExpire,this._onTokenPrivilegeWillExpire,this),f.gg.eventManager.on(v.VoiceChatEvent.OnTokenExpired,this._onTokenExpired,this),f.gg.eventManager.on(h.default.OnClick,this._onMicroPhoneClicked,this))},t.prototype.onDisable=function(){null!=window.agora&&(f.gg.eventManager.offTarget(this),this._isJoiningChannel=!1)},t.prototype._onAppPause=function(){null!=window.agora&&this._leaveChannel()},t.prototype._onAppResume=function(){null!=window.agora&&this._joinChannel()},t.prototype._onJoinChannelSuccess=function(e,t){if(null!=window.agora){this._initAllMicroPhones();var n=this._microPhoneMap.get(t);n&&(n.isJoined=!0,this._isLocalUserGrantedPermissionJustNow&&(this._isLocalUserGrantedPermissionJustNow=!1,n.isMuted=!1),b.voiceChatSystem.muteLocalAudioStream(n.isMuted),n.isMuted?n.microPhoneComp.setState(h.MicroPhoneUIState.Disable):n.microPhoneComp.setState(h.MicroPhoneUIState.Enable))}},t.prototype._onLeaveChannelSuccess=function(){window.agora},t.prototype._onOtherPlayerJoinChannelSuccess=function(e){if(null!=window.agora){var t=this._microPhoneMap.get(e);t&&(t.isJoined=!0,b.voiceChatSystem.muteRemoteAudioStream(e,t.isMuted),t.microPhoneComp.setState(t.isMuted?h.MicroPhoneUIState.Disable:h.MicroPhoneUIState.Enable))}},t.prototype._onOtherPlayerLeaveChannelSuccess=function(e){if(null!=window.agora){var t=this._microPhoneMap.get(e);t&&t.microPhoneComp.setState(h.MicroPhoneUIState.Disable)}},t.prototype._onLocalAudioVolumeIndication=function(e){if(null!=window.agora){var t=this.getLocalUserId();if(t){var n=this._microPhoneMap.get(t);if(n)if(n.isMuted)n.microPhoneComp.setState(h.MicroPhoneUIState.Disable);else{var o=0;e&&e.volume&&(o=e.volume),o>0&&n.microPhoneComp.setState(h.MicroPhoneUIState.Speaking,h.MicroPhoneUIState.Enable)}}}},t.prototype._onRemoteAudioVolumeIndication=function(e){if(null!=window.agora){var t=this._microPhoneMap.get(parseInt(e.uid+""));if(t)if(t.isMuted)t.microPhoneComp.setState(h.MicroPhoneUIState.Disable);else{var n=0;e&&e.volume&&(n=e.volume),n>0&&t.microPhoneComp.setState(h.MicroPhoneUIState.Speaking,h.MicroPhoneUIState.Enable)}}},t.prototype._onTokenPrivilegeWillExpire=function(){null!=window.agora&&this.renewToken()},t.prototype._onTokenExpired=function(){null!=window.agora&&this._joinChannel()},t.prototype._onMicroPhoneClicked=function(e){if(null!=window.agora){if(!b.voiceChatSystem.isJoinChannel())return f.gg.logger.warn("agora: \u5f53\u524d\u672c\u5730\u7528\u6237\u8fd8\u6ca1\u6709\u52a0\u5165\u5230\u9891\u9053\uff0c\u4e0d\u80fd\u5207\u6362\u9ea6\u72b6\u6001"),void f.gg.panelRouter.show({panel:d.CommonPanelConfig.toastPanel,data:{text:g.i18n.getText("toast.micro.slefNotJoin")}});var t=this._microPhoneMap.get(e);if(!t||!t.isJoined)return f.gg.logger.warn("agora: \u73a9\u5bb6 "+t.uid+" \u8fd8\u6ca1\u6709\u52a0\u5165\u8bed\u804a\u623f\u95f4 "+this.getChannel()+" \uff0c\u4e0d\u80fd\u4fee\u6539\u4ed6\u7684\u9ea6\u514b\u98ce\u72b6\u6001"),void f.gg.panelRouter.show({panel:d.CommonPanelConfig.toastPanel,data:{text:g.i18n.getText("toast.micro.playerNotJoin")}});e==this.getLocalUserId()?(t.isMuted=!t.isMuted,b.voiceChatSystem.muteLocalAudioStream(t.isMuted),t.isMuted?t.microPhoneComp.setState(h.MicroPhoneUIState.Disable):t.microPhoneComp.setState(h.MicroPhoneUIState.Enable)):(t.isMuted=!t.isMuted,b.voiceChatSystem.muteRemoteAudioStream(e,t.isMuted),t.microPhoneComp.setState(t.isMuted?h.MicroPhoneUIState.Disable:h.MicroPhoneUIState.Enable))}},t.prototype.renewToken=function(){return c(this,void 0,void 0,function(){var e,t,n;return u(this,function(o){switch(o.label){case 0:return null==window.agora?[2]:this.enableChat()?(e=this.getChannel(),t=this.getLocalUserId(),[4,this._requestToken(e,t)]):[2];case 1:return n=o.sent(),this.enableChat()?(b.voiceChatSystem.renewToken(n),[2]):[2]}})})},t.prototype._leaveChannel=function(){null!=window.agora&&(this._isJoiningChannel=!1,this._resetAllMicroPhones(),b.voiceChatSystem.leaveChannel())},t.prototype._joinChannel=function(){return c(this,void 0,void 0,function(){var e,t,n;return u(this,function(o){switch(o.label){case 0:return null==window.agora?[2]:this._isJoiningChannel?[2]:(this._isJoiningChannel=!0,e=this.getChannel(),t=this.getLocalUserId(),this.enableChat()?b.voiceChatSystem.isJoinChannel()?(f.gg.logger.log("agora: \u672c\u5730\u73a9\u5bb6 "+this.getLocalUserId()+" \u5f53\u524d\u5df2\u52a0\u5165\u8bed\u804a\u9891\u9053 "+e),this._isJoiningChannel=!1,[2]):[4,this._requestToken(e,t)]:(f.gg.logger.log("agora: \u5f53\u524d\u623f\u95f4\u8fd8\u4e0d\u6ee1\u8db3\u8bed\u804a\u6761\u4ef6\uff0c\u4e0d\u52a0\u5165\u8bed\u804a\u9891\u9053 "+e),this._isJoiningChannel=!1,[2]));case 1:return n=o.sent(),m.default.isEmpty(n)?(f.gg.logger.error("agora: \u8bf7\u6c42\u9274\u6743token\u5931\u8d25"),this._isJoiningChannel=!1,[2]):this.enableChat()?(this._isJoiningChannel=!1,b.voiceChatSystem.joinChannel(n,e,t),[2]):(f.gg.logger.warn("agora: \u8bf7\u6c42\u9274\u6743token\u5b8c\u6210\u540e\uff0c\u7528\u6237\u5df2\u7ecf\u79bb\u5f00\u623f\u95f4"),this._isJoiningChannel=!1,[2])}})})},t.prototype._requestToken=function(e,t){var n;return c(this,void 0,Promise,function(){var o,i;return u(this,function(a){switch(a.label){case 0:if(null==window.agora)return[2,null];if(!t||m.default.isEmpty(e))return[2,null];o=null,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,y.gameCenterApi.getAgoraToken({agora_uid:t,agora_channel:e,agora_role:1})];case 2:return 1==(null==(i=a.sent())?void 0:i.status)&&(o=null===(n=null==i?void 0:i.data)||void 0===n?void 0:n.token),[3,4];case 3:return a.sent(),[3,4];case 4:return m.default.isEmpty(o)&&f.gg.logger.error("agora: \u8bf7\u6c42\u9274\u6743token\u5931\u8d25"),[2,o]}})})},s([C],t)}(cc.Component));n.GameTableMicroPhoneCtrl=I,cc._RF.pop()},{"../../../components/MicroPhoneComponent":"MicroPhoneComponent","../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../ffframework/android/PermissionModel":"PermissionModel","../../../ffframework/android/PermissionWrapper":"PermissionWrapper","../../../framework/gg":"gg","../../../framework/i18n/I18n":"I18n","../../../framework/utils/StringUtils":"StringUtils","../../../systems/api/gamecenter/GameCenterApi":"GameCenterApi","../../../systems/game/GameEvent":"GameEvent","../../../systems/voicechat/VoiceChatEvent":"VoiceChatEvent","../../../systems/voicechat/VoiceChatSystem":"VoiceChatSystem"}],GameTablePasswordInputPanel:[function(e,t,n){"use strict";cc._RF.push(t,"28f552IchdPnLB08L2h2Oq7","GameTablePasswordInputPanel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../../configs/CommonPanelConfig"),l=r(e("../../../framework/components/dialogstyle/MoveStyleDialogPanelV1")),c=e("../../../framework/gg"),u=e("../../../framework/i18n/I18n"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.titleLayout=null,t.titleLabel=null,t.pwdEditBox=null,t._showData=null,t}return i(t,e),t.prototype.onLoad=function(){this.titleLabel.string="",this.pwdEditBox.placeholder=u.i18n.getText("table.editbox.placeholder")},t.prototype.show=function(e){var t=this;this._showData=e.data,this.titleLabel.string=u.i18n.getText("table.label.title",this._showData.roomId),this.scheduleOnce(function(){t.scheduleOnce(function(){t.titleLayout.updateLayout();var e=t.titleLayout.node.width+360;e<700&&(e=700),t.dialogContentNode.width=e,t._updaateWidget(t.dialogContentNode)})}),this._playShowAnim(function(){e.onShowed()})},t.prototype.hide=function(e){this._showData=null,this._playHideAnim(function(){e.onHided()})},t.prototype.onJoinBtnClick=function(){this._showData.onJoinBtnClick(this.pwdEditBox.string)},t.prototype.onCloseBtnClick=function(){this._showData.onCloseBtnClick()},t.prototype.onPwdEditBoxDidEnd=function(){new RegExp(/^\d{4}$/).test(this.pwdEditBox.string)||c.gg.panelRouter.show({panel:s.CommonPanelConfig.toastPanel,data:{text:u.i18n.getText("toast.pwdInvalid")}})},t.prototype._updaateWidget=function(e){var t=this;e.children.forEach(function(e){var n;null===(n=e.getComponent(cc.Widget))||void 0===n||n.updateAlignment(),t._updaateWidget(e)})},a([d(cc.Layout)],t.prototype,"titleLayout",void 0),a([d(cc.Label)],t.prototype,"titleLabel",void 0),a([d(cc.EditBox)],t.prototype,"pwdEditBox",void 0),a([h],t)}(l.default);n.default=f,cc._RF.pop()},{"../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../framework/components/dialogstyle/MoveStyleDialogPanelV1":"MoveStyleDialogPanelV1","../../../framework/gg":"gg","../../../framework/i18n/I18n":"I18n"}],GameTiroGiftComponent:[function(e,t,n){"use strict";cc._RF.push(t,"86d64olrTNMwImbGxbUKWco","GameTiroGiftComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=e("../configs/CommonPanelConfig"),u=e("../framework/gg"),p=e("../framework/i18n/I18n"),h=e("../systems/api/gameapi/GameApiModels"),d=e("../systems/item/ItemSystem"),f=e("../systems/TiroGift/TiroGiftSystem"),g=e("../systems/TiroGift/TiroGiftUIEvent"),m=e("../systems/user/UserSystem"),y=e("../systems/user/UserWalletSystem"),_=l(e("./TiroGiftProgressComponent")),v=cc._decorator,b=v.ccclass,S=v.property,C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.boxNode=null,t.boxDragon=null,t.updatepProgressNode=null,t.isPost=!1,t.lastCoinBalance=0,t.lastDiamonBalance=0,t.lastFashion=0,t.isShowState=!1,t}return i(t,e),t.prototype.onEnable=function(){this.node.opacity=0,this.updatepProgressNode.getComponent(_.default).updatepProgressState(!1),u.gg.eventManager.on(g.TiroGiftUIEvent.TiroAwardEvent,this.onTiroAward,this),u.gg.eventManager.on(g.TiroGiftUIEvent.GetTiroAwardEvent,this.onGetFastTiroAward,this),this.boxDragon.addEventListener(dragonBones.EventObject.COMPLETE,this.finishDragonHandler,this)},t.prototype.onDisable=function(){u.gg.eventManager.offTarget(this),this.isPost=!1,this.boxDragon.removeEventListener(dragonBones.EventObject.COMPLETE,this.finishDragonHandler,this)},t.prototype.updataShowStatus=function(e){this.isShowState=e,this.isShowState?(this.boxNode.interactable=!0,this.updateAwardStatus()):this.boxNode.interactable=!1},t.prototype.onTiroAward=function(){f.tiroGiftSystem.tiroAward&&f.tiroGiftSystem.tiroAward.award_list&&f.tiroGiftSystem.tiroAward.award_list.length>0?(this.node.opacity=0,this.node.stopAllActions(),cc.tween(this.node).to(.25,{opacity:255}).start()):this.node.opacity=0},t.prototype.finishDragonHandler=function(e){return r(this,void 0,void 0,function(){var t,n,o,i,a;return s(this,function(r){switch(r.label){case 0:return"receive"!==e.animationState.name?[3,2]:(t=this.lastCoinBalance,n=this.lastDiamonBalance,o=this.lastFashion,i=new Array,this.boxDragon.playAnimation("standby",0),u.gg.panelRouter.hide({panel:c.CommonPanelConfig.receiveFeaturesPanel}),f.tiroGiftSystem.tiroAward.award_list.forEach(function(e){var a,r=null,s=p.i18n.getText("item.showTime");switch(e.award_type){case h.AwardType.Coin:r={award_type:h.AwardType.Coin,count:e.count,initValue:t};break;case h.AwardType.Diamond:r={award_type:h.AwardType.Diamond,count:e.count,initValue:n};break;case h.AwardType.Item:(null===(a=d.itemSystem.getItem(e.item_id))||void 0===a?void 0:a.item_class)===h.ItemClass.props?s=e.count+"":e.effective_days&&-1!==e.effective_days&&(s=p.i18n.getText("item.dayNum",e.effective_days)),r={award_type:e.award_type,itemCount:s,initValue:o,itemId:e.item_id,fashionAdd:0}}i.push(r)}),a={giftList:i},[4,u.gg.panelRouter.loadAsync(c.CommonPanelConfig.receiveFeaturesPanel)]);case 1:r.sent(),u.gg.panelRouter.show({panel:c.CommonPanelConfig.receiveFeaturesPanel,data:a}),this.updateAwardStatus(),r.label=2;case 2:return[2]}})})},t.prototype.updateAwardStatus=function(){this.boxDragon.playAnimation("standby",0),f.tiroGiftSystem.getTiroAwardInfo()},t.prototype.onGetFastTiroAward=function(e){this.isPost&&(e?this.boxDragon.playAnimation("receive",1):u.gg.panelRouter.show({panel:c.CommonPanelConfig.toastPanel,data:{text:p.i18n.getText("toast.claimAwardFailed")}})),this.isPost=!1},t.prototype.onClaimBtnClick=function(){this.isPost||(f.tiroGiftSystem.tiroAward.is_award?(this.isPost=!0,this.lastCoinBalance=y.userWalletSystem.coinBalance,this.lastDiamonBalance=y.userWalletSystem.diamondBalance,this.lastFashion=m.userSystem.userModel.fashion,f.tiroGiftSystem.getTiroAward()):u.gg.panelRouter.show({panel:c.CommonPanelConfig.toastPanel,data:{text:p.i18n.getText("toast.againClaimAward",f.tiroGiftSystem.tiroAward.total_count-f.tiroGiftSystem.tiroAward.finish_count)}}))},a([S({type:cc.Button,tooltip:"\u5b9d\u7bb1\u8282\u70b9"})],t.prototype,"boxNode",void 0),a([S({type:dragonBones.ArmatureDisplay,tooltip:"\u5b9d\u7bb1\u52a8\u753b\u8282\u70b9"})],t.prototype,"boxDragon",void 0),a([S({type:cc.Node,tooltip:"\u5feb\u901f\u65b0\u624b\u8fdb\u5ea6\u6761\u7ec4\u4ef6"})],t.prototype,"updatepProgressNode",void 0),a([b],t)}(cc.Component);n.default=C,cc._RF.pop()},{"../configs/CommonPanelConfig":"CommonPanelConfig","../framework/gg":"gg","../framework/i18n/I18n":"I18n","../systems/TiroGift/TiroGiftSystem":"TiroGiftSystem","../systems/TiroGift/TiroGiftUIEvent":"TiroGiftUIEvent","../systems/api/gameapi/GameApiModels":"GameApiModels","../systems/item/ItemSystem":"ItemSystem","../systems/user/UserSystem":"UserSystem","../systems/user/UserWalletSystem":"UserWalletSystem","./TiroGiftProgressComponent":"TiroGiftProgressComponent"}],GameTowerMg30200:[function(e,t,n){"use strict";cc._RF.push(t,"9dbc36P4xJNBrm7vqx752vz","GameTowerMg30200");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.GameTowerMg30200=void 0;var l=e("./GameAnimals30200"),c=e("./GameBetPanel30200"),u=e("./GameHistory30200"),p=e("./GameNetProto30200"),h=e("./GameTurnPos30200"),d=e("./GameTurnTable30200"),f=e("./SoundManager30200"),g=e("../../halls/halllib/laya/Laya"),m=g.Laya.regClass,y=g.Laya.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.MainCamera=null,t.RedMaterial=null,t.GreenMaterial=null,t.YellowMaterial=null,t.WhiteMaterial=null,t.OpenPrizePromise=new Promise(function(e){t.resolveFunc=e}),t}var n;return i(t,e),n=t,t.prototype.onAwake=function(){n.Instance=this,this.inanimals=!1,this.isPlaying=!1,this.colorImage=[this.RedMaterial,this.GreenMaterial,this.YellowMaterial,this.WhiteMaterial],this.Dunzi=this.owner.getChildByName("Dunzi").addComponent(d.GameTurnTable30200),this.Tower=this.owner.getChildByName("Tower").addComponent(d.GameTurnTable30200),this.BgLinght=this.owner.getChildByName("Light").getComponent(g.Laya.MeshRenderer);var e=this.owner.getChildByName("Pans");this.listDunzi=[],this.colorPans=[];for(var t=0;t<24;t++)this.listDunzi[t]=new v(this.Dunzi.owner.getChildAt(t)),this.colorPans[t]=e.getChildAt(t).getComponent(g.Laya.MeshRenderer);this.colorMaterial=[],this.colorMaterial[0]=this.colorPans[0].material,this.colorMaterial[1]=this.colorPans[2].material,this.colorMaterial[2]=this.colorPans[1].material,this.Dunzi.SetOnFinished(new g.Laya.Handler(this,this.OpenPrizeFinish))},t.prototype.WaiForOpenPrize=function(){return r(this,void 0,Promise,function(){return s(this,function(){return[2,this.OpenPrizePromise]})})},t.prototype.GameOpenPrize=function(e){this.resolveFunc(!1),this.towerIndex=e.chColorIndex,this.dunziIndex=e.chAnimalIndex,this.prizeIndex=e.chPriseIndex,this.zxhIndex=e.chZXHIndex;var t=this.GetRelativeIndex(this.towerIndex,this.dunziIndex),n=e.iLeaveTime-6e3;if(n<=3e3)this.Tower.Play(0,-15*this.towerIndex+360),this.Dunzi.Play(0,-15*t);else{var o=Math.floor(n/2700),i=7*n/10;this.Tower.Play(i,-15*this.towerIndex+360*o),this.Dunzi.Play(n,-15*t-360*o)}h.GameTurnPos30200.Instance.GameOpenPrize(this.zxhIndex,n/2)},t.prototype.ResetAnimalAndColor=function(e,t){var n=this;if(this.isPlaying&&(this.isPlaying=!1,this.owner.timer.clearAll(this),this.MainCamera.transform.localPositionY=5.45,this.MainCamera.transform.localPositionZ=-3.75,this.MainCamera.transform.localRotationEulerX=-52),!this.inanimals){this.inanimals=!0,console.log("=========>>>>ResetAnimalAndColor: ",e),this.showColorPans(t,0);for(var o=function(t){var o=t;i.listDunzi[o].Recovery(),i.listDunzi[t].InitPos(),l.GameAnimals30200.CreateNew(e[o],g.Laya.Handler.create(i,function(t){n.listDunzi[o].SetAnimal(e[o],t),o>=23&&(n.inanimals=!1)}))},i=this,a=0;a<24;a++)o(a)}},t.prototype.TweenPlay=function(e,t,n){return r(this,void 0,Promise,function(){var o=this;return s(this,function(){return[2,new Promise(function(i){g.Laya.Tween.to(e,t,n,null,new g.Laya.Handler(o,function(){i(!0)}))})]})})},t.prototype.OpenPrizeFinish=function(){var e=this;f.SoundManager30200.Instance.PlayMusicById(4,1),this.listDunzi[this.dunziIndex].PlayOpenPrizeAni(),this.owner.timer.once(1700,this,this.PlayCameraOpenPrize),this.owner.timer.once(3500,this,function(){f.SoundManager30200.Instance.PlaySoundById(Math.floor(e.prizeIndex/3),1)}),this.owner.timer.once(6e3,this,this.PlayCameraBack),this.PlayLightAni(this.prizeIndex%3,1),c.GameBetPanel30200.Instance.SetOpenPrizes(this.prizeIndex);var t=new p.GameNetProto30200.RecordIterm;t.animaltype=Math.floor(this.prizeIndex/3),t.colortype=this.prizeIndex%3,t.bettype=this.zxhIndex,u.GameHistory30200.Instance.AddNewChild(t)},t.prototype.PlayLightAni=function(e,t){t>=20?this.BgLinght.material=this.colorImage[3]:(this.BgLinght.material=t%2>0?this.colorImage[e]:this.colorImage[3],this.owner.timer.once(300,this,this.PlayLightAni,[e,++t]))},t.prototype.PlayCameraOpenPrize=function(){g.Laya.Tween.to(this.MainCamera.transform,{localPositionY:1.55,localPositionZ:-2,localRotationEulerX:-10},1500)},t.prototype.PlayCameraBack=function(){this.resolveFunc(!0),this.listDunzi[this.dunziIndex].PlayBackAni(),g.Laya.Tween.to(this.MainCamera.transform,{localPositionY:5.45,localPositionZ:-3.75,localRotationEulerX:-52},1500)},t.prototype.GetRelativeIndex=function(e,t){return(e-t+24)%24},t.prototype.showColorPans=function(e,t){this.colorPans[t].material=this.colorMaterial[e[t]],t<23&&this.owner.timer.once(30,this,this.showColorPans,[e,++t])},a([y(g.Laya.Sprite3D)],t.prototype,"MainCamera",void 0),a([y(g.Laya.Material)],t.prototype,"RedMaterial",void 0),a([y(g.Laya.Material)],t.prototype,"GreenMaterial",void 0),a([y(g.Laya.Material)],t.prototype,"YellowMaterial",void 0),a([y(g.Laya.Material)],t.prototype,"WhiteMaterial",void 0),n=a([m()],t)}(g.Laya.Script);n.GameTowerMg30200=_;var v=function(){function e(e){this.isPlaying=!1,this.Node=e,this.StartPosX=this.Node.transform.localPositionX,this.StartPosY=this.Node.transform.localPositionY,this.StartRota=this.Node.transform.localRotationEulerZ}return e.prototype.SetAnimal=function(e,t){if(t){this.AnimalType=e,this.AnimalAny=t,this.AnimalObj=t.getComponent(g.Laya.Animator),this.AnimalObj.owner.active=!0,this.Node.addChild(t);var n=t;n.transform.localScale=new g.Laya.Vector3(.38,.38,.38),n.transform.localRotationEuler=new g.Laya.Vector3(90,0,0),n.transform.localPosition=new g.Laya.Vector3(0,.06,.13)}},e.prototype.Recovery=function(){this.AnimalAny&&(this.AnimalObj.owner.active=!1,l.GameAnimals30200.Recovery(this.AnimalType,this.AnimalAny),this.AnimalAny=null,this.AnimalObj=null)},e.prototype.PlayOpenPrizeAni=function(){return r(this,void 0,void 0,function(){var e;return s(this,function(t){switch(t.label){case 0:this.isPlaying=!0,e=0,t.label=1;case 1:return e<3?[4,_.Instance.TweenPlay(this.Node.transform,{localScaleX:1.1,localScaleY:1.1,localScaleZ:1.1},150)]:[3,5];case 2:return t.sent(),[4,_.Instance.TweenPlay(this.Node.transform,{localScaleX:.9,localScaleY:.9,localScaleZ:.9},150)];case 3:t.sent(),t.label=4;case 4:return e++,[3,1];case 5:return[4,_.Instance.TweenPlay(this.Node.transform,{localScaleX:1,localScaleY:1,localScaleZ:1},100)];case 6:return t.sent(),[4,_.Instance.TweenPlay(this.Node.transform,{localPositionZ:.33},600)];case 7:return t.sent(),[4,_.Instance.TweenPlay(this.Node.transform,{localPositionX:0,localPositionY:0,localRotationEulerZ:this.GetMinAngle()},1500)];case 8:return t.sent(),this.AnimalObj.animatorParams[0]=!0,[2]}})})},e.prototype.GetMinAngle=function(){var e=(180-_.Instance.Dunzi.GetRotationZ())%360,t=e-this.Node.transform.localRotationEulerZ;return t<-180?e+=360:t>180&&(e-=360),e},e.prototype.PlayBackAni=function(){return r(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return this.isPlaying=!1,this.AnimalObj.animatorParams[0]=!1,[4,_.Instance.TweenPlay(this.Node.transform,{localPositionX:this.StartPosX,localPositionY:this.StartPosY,localRotationEulerZ:this.StartRota},1500)];case 1:return e.sent(),[4,_.Instance.TweenPlay(this.Node.transform,{localPositionZ:0},600)];case 2:return e.sent(),[2]}})})},e.prototype.InitPos=function(){this.isPlaying&&(this.Node.transform.localPosition=new g.Laya.Vector3(this.StartPosX,this.StartPosY,0),this.Node.transform.localRotationEulerZ=this.StartRota)},e}();cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya","./GameAnimals30200":"GameAnimals30200","./GameBetPanel30200":"GameBetPanel30200","./GameHistory30200":"GameHistory30200","./GameNetProto30200":"GameNetProto30200","./GameTurnPos30200":"GameTurnPos30200","./GameTurnTable30200":"GameTurnTable30200","./SoundManager30200":"SoundManager30200"}],GameTurnPos30200:[function(e,t,n){"use strict";cc._RF.push(t,"26fd8pH08VKTbZx6QS2chg9","GameTurnPos30200");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameTurnPos30200=void 0;var r=e("../../halls/halllib/laya/Laya"),s=r.Laya.regClass,l=(r.Laya.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stopindex=0,t.iLeaveTime=0,t.maxspeed=4,t}var n;return i(t,e),n=t,t.prototype.onAwake=function(){n.Instance=this,this.isEnabled=!1,this.posys=[];for(var e=0;e<4;e++)this.posys[e]=60*(e-1)+29;var t=["Z","H","X"];for(this.posindex=[],this.mTrans=[],e=0;e<3;e++)this.mTrans[e]=this.owner.getChildByName(t[e]),this.mTrans[e].y=this.posys[e],this.posindex[e]=e},t.prototype.onUpdate=function(){if(this.isEnabled)if(this.runtimes+=r.Laya.timer.delta,this.runtimes<this.iLeaveTime/3&&this.speed<this.maxspeed?this.speed+=r.Laya.timer.delta/1e3*this.addSeep:this.runtimes<this.iLeaveTime/4*3?this.speed=this.maxspeed:this.speed>1&&(this.speed-=r.Laya.timer.delta/1e3*this.addSeep,this.speed<1&&(this.speed=1)),this.mFactor+=r.Laya.timer.delta/1e3*this.speed,this.mFactor>=1){this.mFactor=0,this.iLeaveTime<=this.runtimes&&1==this.posindex[this.stopindex]&&(this.isEnabled=!1);for(var e=0;e<3;e++){var t=this.posindex[e]+1;t>=4?(this.mTrans[e].y=this.posys[0],this.posindex[e]=1):(this.mTrans[e].y=this.posys[this.posindex[e]],this.posindex[e]=t)}}else for(e=0;e<3;e++)this.mTrans[e].y=this.Lerp(this.posys[this.posindex[e]-1],this.posys[this.posindex[e]],this.mFactor)},t.prototype.GameOpenPrize=function(e,t){this.stopindex=e,this.iLeaveTime=t,this.mFactor=0,this.runtimes=0,this.isEnabled=!0,this.speed=1,this.addSeep=this.iLeaveTime/1e4*(this.maxspeed-1)},t.prototype.Lerp=function(e,t,n){return e+(t-e)*n},n=a([s()],t)}(r.Laya.Script));n.GameTurnPos30200=l,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya"}],GameTurnTable30200:[function(e,t,n){"use strict";cc._RF.push(t,"40852LQLLNHpav7OJ4UYxfr","GameTurnTable30200");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameTurnTable30200=void 0;var r=e("../../halls/halllib/laya/Laya"),s=r.Laya.regClass,l=(r.Laya.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onAwake=function(){this.owner=this.owner,this.from=0,this.to=0,this.duration=1e4,this.isEnabled=!1,this.mFactor=0},t.prototype.onUpdate=function(){if(this.isEnabled){if(this.duration<=0)return this.owner.transform.localRotationEulerZ=this.to,this.onFinished&&0==this.duration&&this.onFinished.runWith(null),this.mFactor=0,void(this.isEnabled=!1);if(this.mFactor=r.Laya.Browser.now()-this.startTime,this.mFactor>=this.duration)return this.owner.transform.localRotationEulerZ=this.to,this.mFactor=0,this.onFinished&&this.onFinished.runWith(null),void(this.isEnabled=!1);var e=this.Lerp(this.from,this.to,this.GameCurve(this.mFactor/this.duration));this.owner.transform.localRotationEulerZ=e}},t.prototype.SetOnFinished=function(e){this.onFinished=e},t.prototype.Play=function(e,t){this.mFactor=0,this.startTime=r.Laya.Browser.now(),this.duration=e,this.owner.transform.localRotationEulerZ%=360,this.from=this.owner.transform.localRotationEulerZ,this.to=t,this.isEnabled=!0},t.prototype.Lerp=function(e,t,n){return e+(t-e)*n},t.prototype.GameCurve=function(e){var t=e*Math.PI/2;return Math.sin(t)},t.prototype.GetRotationZ=function(){return this.owner.transform.localRotationEulerZ},a([s()],t)}(r.Laya.Script));n.GameTurnTable30200=l,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya"}],GameUISystem:[function(e,t,n){"use strict";cc._RF.push(t,"fe8beOK0LVLvIBCkSYrgRQ/","GameUISystem");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.gameUISystem=void 0;var a=e("../../configs/CommonPanelConfig"),r=e("../../framework/gg"),s=e("../../framework/i18n/I18n"),l=e("../api/gameapi/GameApiModels"),c=e("../api/gameapi/PayApiModels"),u=e("../firstRecharge/FirstRechargeModel"),p=e("../firstRecharge/FirstRechargeSystem"),h=e("../gamews/WebSocketResponseCode"),d=e("../item/ItemSystem"),f=e("../remoteconfig/RemoteConfigModel"),g=e("../remoteconfig/RemoteConfigSystem"),m=e("../user/UserSystem"),y=function(){function e(){}return e.prototype.handleCreateRoomFailedUI=function(e){var t=null!=e?e:null;t!=h.WebSocketResponseCode.Success&&(r.gg.logger.error("\u521b\u5efa\u724c\u684c\u5931\u8d25"),t!=h.WebSocketResponseCode.GamePlayerCoinNotEnough?r.gg.panelRouter.show({panel:a.CommonPanelConfig.toastPanel,data:{text:s.i18n.getText("toast.createRoomFailed")}}):this.showRecharge(c.GoodsTypeEnum.Coin))},e.prototype.handleJoinRoomFailedUI=function(e,t,n){var l=this;void 0===t&&(t=0),void 0===n&&(n=0);var u=null!=e?e:null;if(u!=h.WebSocketResponseCode.Success)if(r.gg.logger.error("\u52a0\u5165\u724c\u684c\u5931\u8d25"),u!=h.WebSocketResponseCode.GamePlayerCoinNotEnough)if(u!=h.WebSocketResponseCode.LevelIsNotEnough){var p=s.i18n.getText("toast.joinRoomFailed");u==h.WebSocketResponseCode.GameTableIsFull&&(p=s.i18n.getText("toast.roomIsFull")),u==h.WebSocketResponseCode.GameTablePwdError&&(p=s.i18n.getText("toast.invalidRoomPwd")),r.gg.panelRouter.show({panel:a.CommonPanelConfig.toastPanel,data:{text:p}})}else r.gg.panelRouter.show({panel:a.CommonPanelConfig.alertPanel,data:{titleLabel:s.i18n.getText("alert.title.tips"),msgLabel:s.i18n.getText("alert.msg.levelNotEnough",t,n,t-m.userSystem.userModel.level),showCancelBtn:!1,showConfirmBtn:!0,onConfirmBtnClick:function(){return o(l,void 0,void 0,function(){return i(this,function(){return r.gg.panelRouter.hide({panel:a.CommonPanelConfig.alertPanel}),[2]})})}}});else this.showRecharge(c.GoodsTypeEnum.Coin)},e.prototype.showRecharge=function(e){var t=this,n="alert.msg.rechargeCoin";e===c.GoodsTypeEnum.Diamond&&(n="alert.msg.rechargeDiamond");var l=g.remoteConfigSystem.getConfig(f.RemoteCoinfigType.PayConfig);if(null==l||null==l.enable||l.enable)r.gg.panelRouter.show({panel:a.CommonPanelConfig.alertPanel,data:{titleLabel:s.i18n.getText("alert.title.tips"),msgLabel:s.i18n.getText(n),showCancelBtn:!0,showConfirmBtn:!0,onConfirmBtnClick:function(){return o(t,void 0,void 0,function(){return i(this,function(){return r.gg.panelRouter.hide({panel:a.CommonPanelConfig.alertPanel}),m.userSystem.userModel.isfirstrecharge?p.firstRechargeSystem.loadFirstRechargeGoods().then(function(t){t?r.gg.panelRouter.show({panel:a.CommonPanelConfig.firstRechargePanel,data:{openModel:u.FirstRechargeOpenModel.Other}}):r.gg.panelRouter.show({panel:a.CommonPanelConfig.storePanel,data:{type:e}})}).catch(function(){r.gg.panelRouter.show({panel:a.CommonPanelConfig.storePanel,data:{type:e}})}):r.gg.panelRouter.show({panel:a.CommonPanelConfig.storePanel,data:{type:e}}),[2]})})},onCancelBtnClick:function(){r.gg.panelRouter.hide({panel:a.CommonPanelConfig.alertPanel})}}});else{var h="toast.notEnoughCoin";e===c.GoodsTypeEnum.Diamond&&(h="toast.notEnoughDiamond"),r.gg.panelRouter.show({panel:a.CommonPanelConfig.toastPanel,data:{text:s.i18n.getText(h)}})}},e.prototype.showReceiveFeatures=function(e,t,n,c){return o(this,void 0,void 0,function(){var o,u;return i(this,function(i){switch(i.label){case 0:return o=new Array,r.gg.panelRouter.hide({panel:a.CommonPanelConfig.receiveFeaturesPanel}),c.forEach(function(i){var a,r=null,c=s.i18n.getText("item.showTime");switch(i.award_type){case l.AwardType.Coin:r={award_type:l.AwardType.Coin,count:i.count,initValue:e};break;case l.AwardType.Diamond:r={award_type:l.AwardType.Diamond,count:i.count,initValue:t};break;case l.AwardType.Item:(null===(a=d.itemSystem.getItem(i.item_id))||void 0===a?void 0:a.item_class)===l.ItemClass.props?c=i.count+"":(i.effective_days&&-1!==i.effective_days&&(c=s.i18n.getText("item.dayNum",i.effective_days)),0===i.effective_days&&(c="")),r={award_type:i.award_type,itemCount:c,initValue:n,itemId:i.item_id,fashionAdd:0}}o.push(r)}),u={giftList:o},[4,r.gg.panelRouter.loadAsync(a.CommonPanelConfig.receiveFeaturesPanel)];case 1:return i.sent(),r.gg.panelRouter.show({panel:a.CommonPanelConfig.receiveFeaturesPanel,data:u}),[2]}})})},e.prototype.showToast=function(e,t){void 0===t&&(t=2),r.gg.panelRouter.show({panel:a.CommonPanelConfig.toastPanel,data:{text:e,duration:t}})},e.prototype.showLoading=function(e){return void 0===e&&(e=!1),o(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,r.gg.panelRouter.showAsync({panel:a.CommonPanelConfig.loadingPanel,data:{immediately:e}})];case 1:return t.sent(),[2]}})})},e.prototype.hideLoading=function(){return o(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,r.gg.panelRouter.hideAsync({panel:a.CommonPanelConfig.loadingPanel})];case 1:return e.sent(),[2]}})})},e}();n.gameUISystem=new y,cc._RF.pop()},{"../../configs/CommonPanelConfig":"CommonPanelConfig","../../framework/gg":"gg","../../framework/i18n/I18n":"I18n","../api/gameapi/GameApiModels":"GameApiModels","../api/gameapi/PayApiModels":"PayApiModels","../firstRecharge/FirstRechargeModel":"FirstRechargeModel","../firstRecharge/FirstRechargeSystem":"FirstRechargeSystem","../gamews/WebSocketResponseCode":"WebSocketResponseCode","../item/ItemSystem":"ItemSystem","../remoteconfig/RemoteConfigModel":"RemoteConfigModel","../remoteconfig/RemoteConfigSystem":"RemoteConfigSystem","../user/UserSystem":"UserSystem"}],GameUtils:[function(e,t,n){"use strict";cc._RF.push(t,"e8b9cg/tCVA6p7FIqJdHYSk","GameUtils"),Object.defineProperty(n,"__esModule",{value:!0}),n.GameUtils=n.ObjInfo=n.BigWinType=void 0;var o,i=e("../../halls/halllib/common/Define"),a=e("../../halls/halllib/core/RunData"),r=e("../../halls/halllib/laya/Laya");(function(e){e[e.BigWin=0]="BigWin",e[e.SuperWin=1]="SuperWin",e[e.MegaWin=2]="MegaWin",e[e.UltraWin=3]="UltraWin",e[e.FiveLine=4]="FiveLine"})(o=n.BigWinType||(n.BigWinType={}));var s=function(){};n.ObjInfo=s;var l=function(){function e(){}return e.ShowBigWin=function(e,t){var n=this;this.nowPlayCount=0,this.totalPlayCount=t,this.scoreList=e,this.currenNum=0,null==this.bigWinPrefabInfo||null==this.bigWinPrefabInfo?r.Laya.loader.load("resources/games/public/scenes/BigWinPanel.lh").then(function(e){n.bigWinPrefabInfo=new s,n.bigWinPrefabInfo.Obj=e.create(),n.bigWinPrefabInfo.ScoreBg=n.bigWinPrefabInfo.Obj.getChildByName("ScoreBg"),n.bigWinPrefabInfo.ScoreBg.visible=!1,n.bigWinPrefabInfo.ScoreLabel=n.bigWinPrefabInfo.ScoreBg.getChildByName("ScoreLabel"),n.bigWinPrefabInfo.SkipBtn=n.bigWinPrefabInfo.Obj.getChildByName("SkipBtn"),n.bigWinPrefabInfo.SkipBtn.visible=!1,n.bigWinPrefabInfo.BackBtn=n.bigWinPrefabInfo.Obj.getChildByName("BackBtn"),n.bigWinPrefabInfo.BackBtn.visible=!1,n.bigWinPrefabInfo.BigWinSpineList=[];for(var t=1;t<=5;t++){var o=n.bigWinPrefabInfo.Obj.getChildByName("Spine"+t.toString());o.visible=!1,n.bigWinPrefabInfo.BigWinSpineList.push(o)}r.Laya.stage.addChild(n.bigWinPrefabInfo.Obj),n.bigWinPrefabInfo.BackBtn.on(r.Laya.Event.CLICK,n,function(){r.Laya.timer.clear(n,n.PlayBigWinSpine),n.bigWinPrefabInfo.Obj.visible=!1}),n.bigWinPrefabInfo.SkipBtn.on(r.Laya.Event.CLICK,n,function(){r.Laya.timer.clear(n,n.PlayBigWinSpine),n.nowPlayCount=n.totalPlayCount,n.PlayBigWinSpine()}),n.PlayBigWinSpine(),n.totalPlayCount>0&&r.Laya.timer.loop(2e3,n,n.PlayBigWinSpine)}):(this.bigWinPrefabInfo.Obj.visible=!0,this.PlayBigWinSpine(),this.totalPlayCount>0&&r.Laya.timer.loop(2e3,this,this.PlayBigWinSpine))},e.PlayBigWinSpine=function(){var e=this;if(this.totalPlayCount>o.FiveLine)console.error("\u4e0d\u5b58\u5728\u7684\u5927\u5956\u7c7b\u578b: "+this.totalPlayCount.toString());else if(this.totalPlayCount==o.FiveLine)this.bigWinPrefabInfo.BigWinSpineList[4].visible=!0,this.bigWinPrefabInfo.BigWinSpineList[4].play(0,!0,!1),r.Laya.timer.once(2e3,this,function(){e.bigWinPrefabInfo.Obj.visible=!1});else{for(var t=0;t<this.bigWinPrefabInfo.BigWinSpineList.length;t++)this.bigWinPrefabInfo.BigWinSpineList[t].visible=!1;this.bigWinPrefabInfo.BigWinSpineList[this.nowPlayCount].visible=!0,this.bigWinPrefabInfo.BigWinSpineList[this.nowPlayCount].play(0,!1,!0),this.bigWinPrefabInfo.ScoreBg.visible=!0,this.targetNum=this.scoreList[this.nowPlayCount],this.frameAddScore=(this.targetNum-this.currenNum)/i.Define.GameFrame,r.Laya.timer.frameLoop(1,this,this.ScrollNumbers),this.nowPlayCount++,this.bigWinPrefabInfo.BackBtn.visible=this.nowPlayCount>this.totalPlayCount,this.bigWinPrefabInfo.SkipBtn.visible=this.nowPlayCount<=this.totalPlayCount,this.nowPlayCount>this.totalPlayCount&&(r.Laya.timer.once(2e3,this,function(){e.bigWinPrefabInfo.Obj.visible=!1}),r.Laya.timer.clear(this,this.PlayBigWinSpine))}},e.ScrollNumbers=function(){this.currenNum+=this.frameAddScore,this.bigWinPrefabInfo.ScoreLabel.text=a.GameTool.formatMoneyString(parseFloat(this.currenNum.toFixed(2))),this.currenNum>=this.targetNum&&(this.currenNum=this.targetNum,this.bigWinPrefabInfo.ScoreLabel.text=a.GameTool.formatMoneyString(this.targetNum),r.Laya.timer.clear(this,this.ScrollNumbers))},e.OnDestory=function(){null!=this.bigWinPrefabInfo&&null!=this.bigWinPrefabInfo&&null!=this.bigWinPrefabInfo.Obj&&(r.Laya.timer.clearAll(this),this.bigWinPrefabInfo.Obj.destroy(!0),this.bigWinPrefabInfo=null)},e.bigWinPrefabInfo=null,e.nowPlayCount=0,e.totalPlayCount=0,e.scoreList=[],e.targetNum=0,e.currenNum=0,e.frameAddScore=0,e}();n.GameUtils=l,cc._RF.pop()},{"../../halls/halllib/common/Define":"Define","../../halls/halllib/core/RunData":"RunData","../../halls/halllib/laya/Laya":"Laya"}],GameVersionLabelComponent:[function(e,t,n){"use strict";cc._RF.push(t,"3358a/k/V1A2KXcZL/ApFkj","GameVersionLabelComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../configs/AppConfig"),s=e("../configs/GameConfig"),l=cc._decorator,c=l.ccclass,u=(l.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onLoad=function(){var e=this.getComponent(cc.Label);e&&(e.string=s.GameConfig.gameVersionName+"-"+r.AppConfig.appVersionName+"-"+r.AppConfig.libVersionName)},a([c],t)}(cc.Component));n.default=u,cc._RF.pop()},{"../configs/AppConfig":"AppConfig","../configs/GameConfig":"GameConfig"}],GenericsTools:[function(e,t,n){"use strict";cc._RF.push(t,"31c457O+apHSq9iJ80FRIjt","GenericsTools");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../configs/CommonPanelConfig"),r=e("../framework/gg"),s=function(){function e(){}return e.getComponent=function(e,t){return e.node.getComponent(t)},e.getComponentInChildren=function(e,t){return e.node.getComponentInChildren(t)},e.loadingSomething=function(e){return o(this,void 0,Promise,function(){var t;return i(this,function(n){switch(n.label){case 0:return r.gg.panelRouter.show({panel:a.CommonPanelConfig.loadingPanel}),[4,e];case 1:return t=n.sent(),r.gg.panelRouter.hide({panel:a.CommonPanelConfig.loadingPanel}),[2,t]}})})},e}();n.default=s,cc._RF.pop()},{"../configs/CommonPanelConfig":"CommonPanelConfig","../framework/gg":"gg"}],GiftProto:[function(e,t,n){"use strict";cc._RF.push(t,"457878BZktHg5PwDrhfkAgL","GiftProto"),Object.defineProperty(n,"__esModule",{value:!0}),n.GiftValueEunm=n.GiftProtoMsg=void 0,function(e){e.GetGameGiftListRequest="GetGameGiftListRequest",e.GetGameGiftListResponse="GetGameGiftListResponse",e.SendGameGiftRequest="SendGameGiftRequest",e.SendGameGiftResponse="SendGameGiftResponse",e.SendGameGiftBroadCast="SendGameGiftBroadCast"}(n.GiftProtoMsg||(n.GiftProtoMsg={})),function(e){e.Charm="charm",e.Generous="generous"}(n.GiftValueEunm||(n.GiftValueEunm={})),cc._RF.pop()},{}],GiftSystem:[function(e,t,n){"use strict";cc._RF.push(t,"9b7cfYL0r9AF5Q4twdQY0Im","GiftSystem");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.giftSystem=void 0;var r=e("../../configs/BundleConfig"),s=e("../../configs/GameConfig"),l=a(e("../../framework/asset/AssetLoader")),c=e("../../framework/gg"),u=e("../../framework/utils/CompareUtil"),p=e("../item/CommonItemConfig"),h=e("./CommonGiftConfig"),d=function(){function e(){this.giftJson=null,this._isLoadingLabel=!1,this.giftJsonAssetPath="resources/config/giftConfig"}return e.prototype.loadItemConfig=function(){var e;return o(this,void 0,void 0,function(){var t,n;return i(this,function(o){switch(o.label){case 0:if(this.giftJson)return[2];if(this._isLoadingLabel)return[2];this._isLoadingLabel=!0,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,l.default.loadBundleAsset(this.giftJsonAssetPath,cc.JsonAsset)];case 2:return t=o.sent(),this._isLoadingLabel=!1,(n=null!==(e=null==t?void 0:t.json)&&void 0!==e?e:null)?(this.giftJson=n,[2,!0]):[2,!1];case 3:return o.sent(),this._isLoadingLabel=!1,[2,!1];case 4:return[2]}})})},e.prototype.getItem=function(e){if(!e)return c.gg.logger.warn("GiftSystem: \u83b7\u53d6\u793c\u7269\u5931\u8d25\uff0c\u65e0\u6548 item_id: "+e),null;var t=this.giftJson[e];return t?u.CompareUtil.isFirstVersionBigger(t.game_ver,s.GameConfig.gameVersionName)?(c.gg.logger.warn("GiftSystem: "+e+" \u5bf9\u5e94\u7684\u793c\u7269\uff0c\u5f53\u524d\u7248\u672c\u65e0\u6548"),null):t:null},e.prototype.getItemIconInfo=function(e){return o(this,void 0,Promise,function(){var t,n,o,a,s,c,u;return i(this,function(i){switch(i.label){case 0:return t=this.getItem(e),n={},null==t?[2,null]:(o=p.CommonItemConfig.itemTypeStr[t.gift_type],null==t?[3,7]:(cc.log("\u6570\u636e\u6d4b\u8bd5",t),[4,l.default.loadBundleAsset(r.BundleConfig.Resources+"/textures/item/props/"+o+"/"+t.gift_asset_name,cc.SpriteFrame)]));case 1:return a=i.sent(),n.spriteFrame=a,t.gift_effect_type!==h.GiftEffectType.Spine?[3,3]:(n.giftType=h.GiftEffectType.Spine,[4,l.default.loadBundleAsset(r.BundleConfig.Resources+"/textures/gift/"+o+"/"+t.gift_asset_name,sp.SkeletonData)]);case 2:return s=i.sent(),n.spineData=s,[3,6];case 3:return t.gift_effect_type!==h.GiftEffectType.Dragon?[3,6]:[4,l.default.loadBundleAsset(r.BundleConfig.Resources+"/textures/gift/"+o+"/"+t.gift_asset_name+"_ske",dragonBones.DragonBonesAsset)];case 4:return c=i.sent(),n.dragonAsset=c,[4,l.default.loadBundleAsset(r.BundleConfig.Resources+"/textures/gift/"+o+"/"+t.gift_asset_name+"_tex",dragonBones.DragonBonesAtlasAsset)];case 5:u=i.sent(),n.dragonAtlasAsset=u,n.giftType=h.GiftEffectType.Dragon,i.label=6;case 6:n.giftSound=t.gift_sound,i.label=7;case 7:return[2,n]}})})},e}();n.giftSystem=new d,cc._RF.pop()},{"../../configs/BundleConfig":"BundleConfig","../../configs/GameConfig":"GameConfig","../../framework/asset/AssetLoader":"AssetLoader","../../framework/gg":"gg","../../framework/utils/CompareUtil":"CompareUtil","../item/CommonItemConfig":"CommonItemConfig","./CommonGiftConfig":"CommonGiftConfig"}],GlobalClickEffectSystem:[function(e,t,n){"use strict";cc._RF.push(t,"2d17dYbQHlD9oURhZjW7adK","GlobalClickEffectSystem");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.globalClickEffectSystem=void 0;var i=e("../../configs/PanelLayerEnum"),a=o(e("../../framework/asset/AssetLoader")),r=e("../../framework/gg"),s=o(e("../../framework/utils/MathUtils")),l=function(){function e(){this._clickEffectPrefabPath="resources/prefabs/components/GlobalClickEffect",this._armatureNames=["dice","camel","card"],this._clickEffectNodePool=new cc.NodePool}return e.prototype.enable=function(){var e=cc.find("Canvas");e?(a.default.getBundleAsset(this._clickEffectPrefabPath,cc.Prefab)||a.default.loadBundleAsset(this._clickEffectPrefabPath,cc.Prefab),e.on(cc.Node.EventType.TOUCH_START,this._onTouchStart,this,!0)):r.gg.logger.error("can not find canvas")},e.prototype.disable=function(){var e=cc.find("Canvas");e?e.off(cc.Node.EventType.TOUCH_START,this._onTouchStart,this,!0):r.gg.logger.error("can not find canvas")},e.prototype._onTouchStart=function(e){var t=this,n=cc.find("Canvas");if(n){var o=this._clickEffectNodePool.get();if(!o){var l=a.default.getBundleAsset(this._clickEffectPrefabPath,cc.Prefab);if(null==l)return void r.gg.logger.error("common click effect not load");o=cc.instantiate(l)}o.parent=n,o.zIndex=i.PanelLayerEnum.ToastLayer,o.setPosition(n.convertToNodeSpaceAR(e.getLocation()));var c=o.getComponent(dragonBones.ArmatureDisplay),u=function(){t._clickEffectNodePool.put(o)};u.bind(this),c.armatureName=this._armatureNames[s.default.randomInt(0,this._armatureNames.length-1)],c.addEventListener(dragonBones.EventObject.COMPLETE,u),c.playAnimation("newAnimation",1)}else r.gg.logger.error("can not find canvas")},e}();n.globalClickEffectSystem=new l,cc._RF.pop()},{"../../configs/PanelLayerEnum":"PanelLayerEnum","../../framework/asset/AssetLoader":"AssetLoader","../../framework/gg":"gg","../../framework/utils/MathUtils":"MathUtils"}],GoogleBillingEvent:[function(e,t,n){"use strict";cc._RF.push(t,"4c6ceD37X1PK4SADm4dLB6L","GoogleBillingEvent"),Object.defineProperty(n,"__esModule",{value:!0}),n.GoogleBillingEvent=void 0,function(e){e.OnConnectedToGooglePlayResponse="GoogleBillingEvent.OnConnectedToGooglePlayResponse",e.OnQueryPurchasesResponse="GoogleBillingEvent.OnQueryPurchasesResponse",e.OnSkuDetailsResponse="GoogleBillingEvent.OnSkuDetailsResponse",e.OnPurchaseUpdated="GoogleBillingEvent.OnPurchaseUpdated",e.OnConsumeResponse="GoogleBillingEvent.OnConsumeResponse"}(n.GoogleBillingEvent||(n.GoogleBillingEvent={})),cc._RF.pop()},{}],GoogleBillingModel:[function(e,t,n){"use strict";cc._RF.push(t,"93a26kqRfFCb7xSJfzT7Kzz","GoogleBillingModel"),Object.defineProperty(n,"__esModule",{value:!0}),n.GoogleBillingResponseCode=n.PurchaseState=n.GoogleSkuType=void 0,function(e){e.InApp="inapp",e.Subs="subs"}(n.GoogleSkuType||(n.GoogleSkuType={})),function(e){e[e.UNSPECIFIED_STATE=0]="UNSPECIFIED_STATE",e[e.PURCHASED=1]="PURCHASED",e[e.PENDING=2]="PENDING"}(n.PurchaseState||(n.PurchaseState={})),function(e){e[e.SERVICE_TIMEOUT=-3]="SERVICE_TIMEOUT",e[e.FEATURE_NOT_SUPPORTED=-2]="FEATURE_NOT_SUPPORTED",e[e.SERVICE_DISCONNECTED=-1]="SERVICE_DISCONNECTED",e[e.OK=0]="OK",e[e.USER_CANCELED=1]="USER_CANCELED",e[e.SERVICE_UNAVAILABLE=2]="SERVICE_UNAVAILABLE",e[e.BILLING_UNAVAILABLE=3]="BILLING_UNAVAILABLE",e[e.ITEM_UNAVAILABLE=4]="ITEM_UNAVAILABLE",e[e.DEVELOPER_ERROR=5]="DEVELOPER_ERROR",e[e.ERROR=6]="ERROR",e[e.ITEM_ALREADY_OWNED=7]="ITEM_ALREADY_OWNED",e[e.ITEM_NOT_OWNED=8]="ITEM_NOT_OWNED"}(n.GoogleBillingResponseCode||(n.GoogleBillingResponseCode={})),cc._RF.pop()},{}],GoogleBillingWrapper:[function(e,t,n){"use strict";cc._RF.push(t,"02dc5MVj5RB/qRQ5njC6qi2","GoogleBillingWrapper"),Object.defineProperty(n,"__esModule",{value:!0}),n.GoogleBillingWrapper=void 0,e("../../framework/eventmanager/EventManager"),e("./GoogleBillingEvent");var o=e("./GoogleBillingModel"),i=function(){function e(){}return e.startConnection=function(){return new Promise(function(e){e({success:!1})})},e.endConnection=function(){},e.isConnectionReady=function(){},e.queryPurchases=function(){return new Promise(function(e){e({code:o.GoogleBillingResponseCode.ERROR})})},e.querySkus=function(){return new Promise(function(e){e({code:o.GoogleBillingResponseCode.ERROR})})},e.launchBillingFlow=function(){return new Promise(function(){})},e.consume=function(){return new Promise(function(e){e({code:o.GoogleBillingResponseCode.ERROR})})},e._javaClassPath="com/gxx/google/billing/GoogleBillingWrapper",e._connectReqId=0,e._queryPurchasesReqId=0,e._querySkuReqId=0,e._consumePurchaseReqId=0,e}();n.GoogleBillingWrapper=i,cc._RF.pop()},{"../../framework/eventmanager/EventManager":"EventManager","./GoogleBillingEvent":"GoogleBillingEvent","./GoogleBillingModel":"GoogleBillingModel"}],GoogleFirebaseCloudMessagingWrapper:[function(e,t,n){"use strict";cc._RF.push(t,"b985dOzUQhBvYKy/WiaKjoz","GoogleFirebaseCloudMessagingWrapper"),Object.defineProperty(n,"__esModule",{value:!0}),e("../../framework/eventmanager/EventManager");var o=function(){function e(){}return e.getToken=function(){return new Promise(function(e){e({code:0,msg:"\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u5206\u4eab"})})},e.onEvent=function(){},e._javaClassPath="com/cocos/game/fcm/FCMWrapper",e._ocClassName="CloudMessagingWrapper",e.FCM_REGISTER_RESPONSE_EVENT="CloudMessagingWrapper.GetToken",e.FCM_ACTION_RESPONSE_EVENT="CloudMessagingWrapper.SendEvent",e}();n.default=o,cc._RF.pop()},{"../../framework/eventmanager/EventManager":"EventManager"}],GoogleLoginEvent:[function(e,t,n){"use strict";cc._RF.push(t,"843e0X92vdD+4AwhCACbyi3","GoogleLoginEvent"),Object.defineProperty(n,"__esModule",{value:!0}),n.GoogleLoginEvent=void 0,function(e){e.OnLoginResponse="GoogleLoginEvent.OnLoginResponse",e.OnSignOutResponse="GoogleLoginEvent.OnSignOutResponse"}(n.GoogleLoginEvent||(n.GoogleLoginEvent={})),cc._RF.pop()},{}],GoogleLoginModel:[function(e,t,n){"use strict";cc._RF.push(t,"4193fu6hI9GXYOsFLV+IGr6","GoogleLoginModel"),Object.defineProperty(n,"__esModule",{value:!0}),n.GoogleLoginResponseCode=void 0,function(e){e[e.Success=0]="Success",e[e.Cancel=1]="Cancel",e[e.Error=2]="Error"}(n.GoogleLoginResponseCode||(n.GoogleLoginResponseCode={})),cc._RF.pop()},{}],GoogleLoginWrapper:[function(e,t,n){"use strict";cc._RF.push(t,"30d4cioUOBIWogS2ppnHdW/","GoogleLoginWrapper"),Object.defineProperty(n,"__esModule",{value:!0}),n.GoogleLoginWrapper=void 0,e("../../framework/eventmanager/EventManager"),e("./GoogleLoginEvent");var o=function(){function e(){}return e.login=function(){return new Promise(function(e,t){t(new Error("\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301Google\u767b\u5f55"))})},e.logOut=function(){},e._javaClassPath="com/gxx/google/login/GoogleLoginWrapper",e._ocClassName="GoogleSignInWrapper",e}();n.GoogleLoginWrapper=o,cc._RF.pop()},{"../../framework/eventmanager/EventManager":"EventManager","./GoogleLoginEvent":"GoogleLoginEvent"}],GooglePurchaseSystemAdapter:[function(e,t,n){"use strict";cc._RF.push(t,"eb98asfsdhOYaDpNJnJqWay","GooglePurchaseSystemAdapter");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.GooglePurchaseSystemAdapter=void 0;var r=e("../../../configs/AppConfig"),s=e("../../../ffframework/google/GoogleBillingModel"),l=e("../../../ffframework/google/GoogleBillingWrapper"),c=e("../../../framework/gg"),u=a(e("../../../framework/utils/StringUtils")),p=e("../../analysis/AnalysisEvent"),h=e("../../analysis/AnalysisWrapper"),d=e("../../api/gameapi/GameApi"),f=e("../../api/gameapi/PayApiModels"),g=e("../PurchaseOrderCache"),m=e("../PurchaseOrderCacheSystem"),y=e("../PurchaseSystemInterface"),_=function(){function e(){}return e.prototype.handleUserLogin=function(){var e=this;l.GoogleBillingWrapper.startConnection().then(function(t){t.success?e._handleUnCompletedPurchase():setTimeout(function(){e.handleUserLogin()},5)})},e.prototype.handleUserLogout=function(){},e.prototype._handleUnCompletedPurchase=function(){return o(this,void 0,void 0,function(){var e,t,n,o,a,r,p,h,d,f;return i(this,function(i){switch(i.label){case 0:return c.gg.logger.log("\u5904\u7406GP\u5df2\u5b8c\u6210\u4ea4\u6613\u5f00\u59cb"),[4,l.GoogleBillingWrapper.queryPurchases({skuType:s.GoogleSkuType.InApp})];case 1:if(!((e=i.sent()).code==s.GoogleBillingResponseCode.OK&&e.purchases&&e.purchases.length>0))return[3,6];t=e.purchases,n=0,o=t,i.label=2;case 2:return n<o.length?(a=o[n]).purchaseState!=s.PurchaseState.PURCHASED&&a.purchaseState!=s.PurchaseState.UNSPECIFIED_STATE?[3,5]:(c.gg.logger.log("\u5b58\u5728\u5df2\u5b8c\u6210\u7684\u4ea4\u6613\uff0c\u5c06\u8fdb\u884c\u6d88\u8017\u5e76\u4e0a\u62a5"),[4,l.GoogleBillingWrapper.consume({purchaseToken:a.purchaseToken})]):[3,6];case 3:return i.sent().code!=s.GoogleBillingResponseCode.OK?[3,5]:(null==(d=a.productId)&&a.productIds&&a.productIds.length>0&&(d=a.productIds[0]),d&&(f=m.purchaseOrderCacheSystem.getOrderByProductId(d))?(f.state=g.PurchaseOrderState.Consumed,f.purchaseToken=a.purchaseToken,m.purchaseOrderCacheSystem.addOrder(f),m.purchaseOrderCacheSystem.addConsumedProductId(f.product_id),[4,this._callBackGpPaymentResult(f)]):[3,5]);case 4:i.sent()&&(m.purchaseOrderCacheSystem.removeOrder(f.product_id),m.purchaseOrderCacheSystem.removeConsumedProductIds([f.product_id])),i.label=5;case 5:return n++,[3,2];case 6:c.gg.logger.log("\u5904\u7406GP\u5df2\u5b8c\u6210\u4ea4\u6613\u7ed3\u675f"),c.gg.logger.log("\u5904\u7406GP\u5df2\u6d88\u8017\u4ea4\u6613\u5f00\u59cb"),r=m.purchaseOrderCacheSystem.getAllConsumedProductIds(),p=0,h=r,i.label=7;case 7:return p<h.length?(d=h[p],!(f=m.purchaseOrderCacheSystem.getOrderByProductId(d))||f.state!=g.PurchaseOrderState.Consumed||u.default.isEmpty(f.purchaseToken)?[3,9]:(c.gg.logger.log("\u5546\u54c1 "+d+" \u5b58\u5728\u5df2\u6d88\u8017\u5b8c\u6bd5\u4f46\u8fd8\u6ca1\u6709\u5b8c\u6210\u4e0a\u62a5\u7684\u8ba2\u5355\uff0c\u5c06\u4e0a\u62a5"),[4,this._callBackGpPaymentResult(f)])):[3,11];case 8:return i.sent()&&(m.purchaseOrderCacheSystem.removeOrder(f.product_id),m.purchaseOrderCacheSystem.removeConsumedProductIds([f.product_id])),[3,10];case 9:c.gg.logger.log("\u5546\u54c1 "+d+" \u4e0d\u5b58\u5728\u5df2\u6d88\u8017\u5b8c\u6bd5\u4f46\u8fd8\u6ca1\u6709\u5b8c\u6210\u4e0a\u62a5\u7684\u8ba2\u5355"),i.label=10;case 10:return p++,[3,7];case 11:return c.gg.logger.log("\u5904\u7406GP\u5df2\u6d88\u8017\u4ea4\u6613\u7ed3\u675f"),[2]}})})},e.prototype._callBackGpPaymentResult=function(e){return o(this,void 0,void 0,function(){var t,n,o;return i(this,function(i){switch(i.label){case 0:t=f.CustomGoogleSkuTypeEnum.Unknown,e.sku_type==s.GoogleSkuType.InApp?t=f.CustomGoogleSkuTypeEnum.InApp:e.sku_type==s.GoogleSkuType.Subs&&(t=f.CustomGoogleSkuTypeEnum.Subs),n=!1,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,d.gameApi.callBackGpPaymentResult({m_order_id:e.m_order_id,p_order_id:e.p_order_id,mid:e.mid,product_id:e.product_id,sku_type:t,purchase_token:e.purchaseToken})];case 2:return 1==(o=i.sent()).status&&o.data&&o.data.pay_status==f.PayStatusEnum.Success&&(n=!0),[3,4];case 3:return i.sent(),[3,4];case 4:return n?h.analysis.logEvent(p.AnalysisEvent.PurchaseSuccess,{entrance:e.product_id}):h.analysis.logEvent(p.AnalysisEvent.PurchaseFailed,{entrance:e.product_id,value:"callback failed"}),[2,n]}})})},e.prototype.handleBackEndProductList=function(e,t){return o(this,void 0,Promise,function(){var n,o,a,r,u;return i(this,function(i){switch(i.label){case 0:return[4,l.GoogleBillingWrapper.startConnection()];case 1:return i.sent().success?(n=t.map(function(e){return e.goods_name}),c.gg.logger.log("\u83b7\u53d6Google\u5546\u54c1\u5217\u8868\u5f00\u59cb",n),o=s.GoogleSkuType.InApp,e==y.PurchaseSystemProductType.InApp?o=s.GoogleSkuType.InApp:c.gg.logger.error("\u4e0d\u652f\u6301\u7684\u5546\u54c1\u7c7b\u578b"),[4,l.GoogleBillingWrapper.querySkus({skuType:o,productIds:n})]):[2,{errorCode:f.GoodsResultErrorEnum.ConnectToGpFailed}];case 2:if(a=i.sent(),c.gg.logger.log("\u83b7\u53d6Google\u5546\u54c1\u5217\u8868\u7ed3\u679c",a),a.code===s.GoogleBillingResponseCode.OK){for(r=function(e){var n=t[e],o=a.skus.find(function(e){return n.goods_name===e.productId});null==o?(t.splice(e,1),c.gg.logger.warn("\u5254\u9664\u5546\u54c1 "+n.goods_name+" \u56e0\u4e3a\u5728GP\u4e0a\u627e\u4e0d\u5230")):(n.skuDetail=o,n.price_str=o.price,c.gg.logger.log("\u66f4\u65b0\u5546\u54c1 "+n.goods_name+" \u4fe1\u606f: \u52a0\u5165 sku \u4fe1\u606f"))},u=t.length-1;u>=0;u--)r(u);return[2,{goodsModels:t}]}return c.gg.logger.warn("\u6e05\u9664\u6240\u6709\u5546\u54c1\uff0c\u56e0\u4e3a\u5728GP\u4e0a\u627e\u4e0d\u5230"),[2,{goodsModels:[]}]}})})},e.prototype.purchase=function(e){var t,n;return o(this,void 0,Promise,function(){var o,a,u,f,y,_,v,b,S;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,7,,8]),h.analysis.logEvent(p.AnalysisEvent.PurchaseStart,{entrance:e.goods_name}),[4,d.gameApi.getRechargeOrder({goods_id:e.id})];case 1:return 1!=(o=i.sent()).status||null==o.data?(h.analysis.logEvent(p.AnalysisEvent.PurchaseFailed,{entrance:e.goods_name,value:"get order failed"}),[2,!1]):(a={state:g.PurchaseOrderState.Pending,m_order_id:null!==(t=o.data.m_order_id)&&void 0!==t?t:"",p_order_id:null!==(n=o.data.order_id)&&void 0!==n?n:"",mid:r.AppConfig.subanm,product_id:e.goods_name,sku_type:e.skuDetail.type},m.purchaseOrderCacheSystem.addOrder(a),[4,l.GoogleBillingWrapper.launchBillingFlow({sku:a.product_id})]);case 2:return(u=i.sent()).code!==s.GoogleBillingResponseCode.OK&&u.code!==s.GoogleBillingResponseCode.ITEM_ALREADY_OWNED?(c.gg.logger.warn("Google \u672c\u6b21\u4ea4\u6613\u5931\u8d25"),h.analysis.logEvent(p.AnalysisEvent.PurchaseFailed,{entrance:e.goods_name,result:u.code,value:"purchase failed"}),[2,!1]):(f=u.purchases,u.code!=s.GoogleBillingResponseCode.ITEM_ALREADY_OWNED?[3,4]:(c.gg.logger.log("Google \u6b64\u5546\u54c1\u5df2\u62e5\u6709\uff0c\u5c06\u67e5\u8be2\u5386\u53f2\u4ea4\u6613\u4e2d\u7684\u8fd9\u4e2a\u5546\u54c1\u7684\u4ea4\u6613"),[4,l.GoogleBillingWrapper.queryPurchases({skuType:s.GoogleSkuType.InApp})]));case 3:(y=i.sent()).code==s.GoogleBillingResponseCode.OK&&y.purchases&&y.purchases.length>0&&(f=y.purchases),i.label=4;case 4:return _=null,f&&(_=f.find(function(e){return e.productId&&e.productId==a.product_id||e.productIds&&e.productIds.includes(a.product_id)})),_?_.purchaseState!=s.PurchaseState.PURCHASED&&_.purchaseState!=s.PurchaseState.UNSPECIFIED_STATE?(c.gg.logger.log("Google \u672c\u6b21\u4ea4\u6613\u672a\u5b8c\u6210"),h.analysis.logEvent(p.AnalysisEvent.PurchaseFailed,{entrance:e.goods_name,value:"purchase not complete"}),[2,!1]):[4,l.GoogleBillingWrapper.consume({purchaseToken:_.purchaseToken})]:(c.gg.logger.error("Google \u6ca1\u6709\u627e\u5230\u672c\u6b21\u4ea4\u6613\u7ed3\u679c"),h.analysis.logEvent(p.AnalysisEvent.PurchaseFailed,{entrance:e.goods_name,value:"purchase not found"}),[2,!1]);case 5:return(v=i.sent()).code!=s.GoogleBillingResponseCode.OK?(c.gg.logger.error("Google \u6d88\u8017\u5546\u54c1\u5931\u8d25"),h.analysis.logEvent(p.AnalysisEvent.PurchaseFailed,{entrance:e.goods_name,result:v.code,value:"consume failed"}),[2,!1]):(a.state=g.PurchaseOrderState.Consumed,a.purchaseToken=_.purchaseToken,m.purchaseOrderCacheSystem.addOrder(a),m.purchaseOrderCacheSystem.addConsumedProductId(a.product_id),[4,this._callBackGpPaymentResult(a)]);case 6:return(b=i.sent())&&(m.purchaseOrderCacheSystem.removeOrder(a.product_id),m.purchaseOrderCacheSystem.removeConsumedProductIds([a.product_id])),[2,b];case 7:return S=i.sent(),c.gg.logger.error(S),[3,8];case 8:return[2]}})})},e}();n.GooglePurchaseSystemAdapter=_,cc._RF.pop()},{"../../../configs/AppConfig":"AppConfig","../../../ffframework/google/GoogleBillingModel":"GoogleBillingModel","../../../ffframework/google/GoogleBillingWrapper":"GoogleBillingWrapper","../../../framework/gg":"gg","../../../framework/utils/StringUtils":"StringUtils","../../analysis/AnalysisEvent":"AnalysisEvent","../../analysis/AnalysisWrapper":"AnalysisWrapper","../../api/gameapi/GameApi":"GameApi","../../api/gameapi/PayApiModels":"PayApiModels","../PurchaseOrderCache":"PurchaseOrderCache","../PurchaseOrderCacheSystem":"PurchaseOrderCacheSystem","../PurchaseSystemInterface":"PurchaseSystemInterface"}],GradeStarComponent:[function(e,t,n){"use strict";cc._RF.push(t,"a1bfeHMhd1LZJ33+/cWx0lN","GradeStarComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var l=e("../systems/user/UserUISystem"),c=cc._decorator,u=c.ccclass,p=c.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.userGrade=null,t.userStage=null,t.starLay=null,t.starNodes=[],t.maxStarLay=null,t.countStarLab=null,t.grade=0,t}return i(t,e),t.prototype.onLoad=function(){this.reset()},t.prototype.onDisable=function(){this.reset()},t.prototype.reset=function(){this.userGrade.spriteFrame=null,this.userStage.spriteFrame=null,this.grade=0,this.maxStarLay.active=!1,this.starLay.active=!1,this.resetStar()},t.prototype.resetStar=function(){for(var e=0,t=this.starNodes;e<t.length;e++)t[e].active=!1},t.prototype.updateStarUI=function(e,t){return r(this,void 0,void 0,function(){var n,o;return s(this,function(i){switch(i.label){case 0:if(0==t)return this.reset(),[2];if(this.resetStar(),e>5)this.maxStarLay.active=!0,this.countStarLab.string="x"+e;else for(this.starLay.active=!0,n=0;n<this.starNodes.length;n++)n<e&&(this.starNodes[n].active=!0);return this.grade==t?[3,2]:[4,l.userUISystem.loadUserGrade(t)];case 1:(o=i.sent())&&(this.userGrade.spriteFrame=o[0],this.userStage.spriteFrame=o[1]),i.label=2;case 2:return this.grade=t,[2]}})})},a([p({type:cc.Sprite,tooltip:"\u7528\u6237\u5927\u6bb5\u4f4d"})],t.prototype,"userGrade",void 0),a([p({type:cc.Sprite,tooltip:"\u7528\u6237\u6bb5\u4f4d\u7684\u7b49\u7ea7"})],t.prototype,"userStage",void 0),a([p({type:cc.Node,tooltip:"<=5 \u663e\u793a\u661f\u661f\u6570\u91cf"})],t.prototype,"starLay",void 0),a([p({type:cc.Node,tooltip:"<=5 \u663e\u793a\u661f\u661f\u6570\u91cf"})],t.prototype,"starNodes",void 0),a([p({type:cc.Node,tooltip:">5\u7528\u6237\u661f\u661f\u5e03\u5c40"})],t.prototype,"maxStarLay",void 0),a([p({type:cc.Label,tooltip:">5\u661f\u661f\u6570"})],t.prototype,"countStarLab",void 0),a([u],t)}(cc.Component);n.default=h,cc._RF.pop()},{"../systems/user/UserUISystem":"UserUISystem"}],GrahamScan:[function(e,t,n){"use strict";cc._RF.push(t,"714f5ri7UZG2LtjXZD0OkUZ","GrahamScan"),Object.defineProperty(n,"__esModule",{value:!0}),n.GrahamScan=void 0;var o=e("./Point"),i=e("../utils/Utils"),a=function(){function e(){}return e.multiply=function(e,t,n){return(e.x-n.x)*(t.y-n.y)-(t.x-n.x)*(e.y-n.y)},e.dis=function(e,t){return(e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y)},e._getPoints=function(t,n,i){for(void 0===n&&(n=!1),void 0===i&&(i=null),e._mPointList||(e._mPointList=[]);e._mPointList.length<t;)e._mPointList.push(new o.Point);return i||(i=[]),i.length=0,n?e.getFrom(i,e._mPointList,t):e.getFromR(i,e._mPointList,t),i},e.getFrom=function(e,t,n){var o;for(o=0;o<n;o++)e.push(t[o]);return e},e.getFromR=function(e,t,n){var o;for(o=0;o<n;o++)e.push(t.pop());return e},e.pListToPointList=function(t,n){void 0===n&&(n=!1);var o,i=t.length/2,a=e._getPoints(i,n,e._tempPointList);for(o=0;o<i;o++)a[o].setTo(t[o+o],t[o+o+1]);return a},e.pointListToPlist=function(t){var n,o,i=t.length,a=e._temPList;for(a.length=0,n=0;n<i;n++)o=t[n],a.push(o.x,o.y);return a},e.scanPList=function(t){return i.Utils.copyArray(t,e.pointListToPlist(e.scan(e.pListToPointList(t,!0))))},e.scan=function(t){var n,o,a,r,s,l=0,c=t.length,u={};for((r=e._temArr).length=0,n=t.length-1;n>=0;n--)(s=(a=t[n]).x+"_"+a.y)in u||(u[s]=!0,r.push(a));for(c=r.length,i.Utils.copyArray(t,r),n=1;n<c;n++)(t[n].y<t[l].y||t[n].y==t[l].y&&t[n].x<t[l].x)&&(l=n);for(a=t[0],t[0]=t[l],t[l]=a,n=1;n<c-1;n++){for(l=n,o=n+1;o<c;o++)(e.multiply(t[o],t[l],t[0])>0||0==e.multiply(t[o],t[l],t[0])&&e.dis(t[0],t[o])<e.dis(t[0],t[l]))&&(l=o);a=t[n],t[n]=t[l],t[l]=a}if((r=e._temArr).length=0,t.length<3)return i.Utils.copyArray(r,t);for(r.push(t[0],t[1],t[2]),n=3;n<c;n++){for(;r.length>=2&&e.multiply(t[n],r[r.length-1],r[r.length-2])>=0;)r.pop();t[n]&&r.push(t[n])}return r},e._tempPointList=[],e._temPList=[],e._temArr=[],e}();n.GrahamScan=a,cc._RF.pop()},{"../utils/Utils":"Utils","./Point":"Point"}],HalfFloatUtils:[function(e,t,n){"use strict";cc._RF.push(t,"37286ruW1NJZr46xiw2//fy","HalfFloatUtils"),Object.defineProperty(n,"__esModule",{value:!0}),n.HalfFloatUtils=void 0;var o=function(){function e(){}return e.__init__=function(){for(var t=0;t<256;++t){var n=t-127;n<-27?(e._baseTable[0|t]=0,e._baseTable[256|t]=32768,e._shiftTable[0|t]=24,e._shiftTable[256|t]=24):n<-14?(e._baseTable[0|t]=1024>>-n-14,e._baseTable[256|t]=1024>>-n-14|32768,e._shiftTable[0|t]=-n-1,e._shiftTable[256|t]=-n-1):n<=15?(e._baseTable[0|t]=n+15<<10,e._baseTable[256|t]=n+15<<10|32768,e._shiftTable[0|t]=13,e._shiftTable[256|t]=13):n<128?(e._baseTable[0|t]=31744,e._baseTable[256|t]=64512,e._shiftTable[0|t]=24,e._shiftTable[256|t]=24):(e._baseTable[0|t]=31744,e._baseTable[256|t]=64512,e._shiftTable[0|t]=13,e._shiftTable[256|t]=13)}for(e._mantissaTable[0]=0,t=1;t<1024;++t){var o=t<<13;for(n=0;0==(8388608&o);)n-=8388608,o<<=1;o&=-8388609,n+=947912704,e._mantissaTable[t]=o|n}for(t=1024;t<2048;++t)e._mantissaTable[t]=939524096+(t-1024<<13);for(e._exponentTable[0]=0,t=1;t<31;++t)e._exponentTable[t]=t<<23;for(e._exponentTable[31]=1199570944,e._exponentTable[32]=2147483648,t=33;t<63;++t)e._exponentTable[t]=2147483648+(t-32<<23);for(e._exponentTable[63]=3347054592,e._offsetTable[0]=0,t=1;t<64;++t)e._offsetTable[t]=32===t?0:1024},e.roundToFloat16Bits=function(t){e._floatView[0]=t;var n=e._uint32View[0],o=n>>23&511;return e._baseTable[o]+((8388607&n)>>e._shiftTable[o])},e.convertToNumber=function(t){var n=t>>10;return e._uint32View[0]=e._mantissaTable[e._offsetTable[n]+(1023&t)]+e._exponentTable[n],e._floatView[0]},e._buffer=new ArrayBuffer(4),e._floatView=new Float32Array(e._buffer),e._uint32View=new Uint32Array(e._buffer),e._baseTable=new Uint32Array(512),e._shiftTable=new Uint32Array(512),e._mantissaTable=new Uint32Array(2048),e._exponentTable=new Uint32Array(64),e._offsetTable=new Uint32Array(64),e}();n.HalfFloatUtils=o,cc._RF.pop()},{}],HallData:[function(e,t,n){"use strict";cc._RF.push(t,"396b1R6FyNMRb/a6E8J3r+4","HallData"),Object.defineProperty(n,"__esModule",{value:!0}),n.HallSoundManager=n.LocalTempData=void 0;var o=e("../common/Dictionary"),i=e("../laya/Laya"),a=i.Laya.SoundManager,r=i.Laya.LocalStorage,s=i.Laya.Browser,l=function(){function e(){}return e.getRemember=function(){var e=r.getItem("remember");return null==e?"":e},e.setRemember=function(e){r.setItem("remember",e)},e.getAccountsName=function(){var e=r.getItem("accountsName");return null==e?"":e},e.setAccountsName=function(e){r.setItem("accountsName",e)},e.getAccountsMD5Password=function(){var e=r.getItem("tempdate");return null==e?"":e},e.getAccountsPasswordLength=function(){return parseInt(r.getItem("tempdateLen"))},e.setAccountPassword=function(e,t){r.setItem("tempdate",e),r.setItem("tempdateLen",t.toString())},e.setNextModifyRegisterPhoneTime=function(e){r.setItem("ModifyRegisterPhoneTime",e)},e.getNextModifyRegisterPhoneTime=function(){var e=r.getItem("ModifyRegisterPhoneTime");return null==e?0:Number(e)},e.getTempGUID=function(){var e=r.getItem("tempGuid");if(null==e||""==e){var t=s.now();e="xxxxxxxx-wxxx-exxx-bxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?n:3&n|8).toString(16)}),r.setItem("tempGuid",e)}return e},e.getMusicVolume=function(){var e="musicVolume",t=parseInt(r.getItem(e));return isNaN(t)&&(t=100,r.setItem(e,t.toString())),t},e.setMusicVolume=function(e){r.setItem("musicVolume",e.toString())},e.getSoundVolume=function(){var e="soundVolume",t=parseInt(r.getItem(e));return isNaN(t)&&(t=100,r.setItem(e,t.toString())),t},e.setSoundVolume=function(e){r.setItem("soundVolume",e.toString())},e.getMusicSelected=function(){return 1},e.setMusicSelected=function(e){r.setItem("musicSelectedIndex",e.toString())},e.getServiceVersion=function(e){var t=r.getItem("Version:"+e);return null==t?"":t},e.setServiceVersion=function(e,t){r.setItem("Version:"+e,t)},e.getServiceData=function(e){var t=r.getItem("Data:"+e);return null==t?"":t},e.setServiceData=function(e,t){r.setItem("Data:"+e,t)},e.getSendChannel=function(){return r.getItem("SendChannel")},e.setSendChannel=function(e){r.setItem("SendChannel",e)},e}();n.LocalTempData=l;var c=function(){function e(){this._audioUrlTransMap=new o.Dictionary,this._musicVolume=100,this._soundVolume=100}return e.PlayMusic=function(e,t){l.getMusicVolume()>0&&(i.Laya.SoundManager.playMusic(e,t),i.Laya.SoundManager.setMusicVolume(.5))},e.PlaySound=function(e,t){l.getSoundVolume()>0&&(i.Laya.SoundManager.playSound(e,t),i.Laya.SoundManager.setSoundVolume(.5))},e.playMusic=function(t,n,o,i){if(void 0===n&&(n=0),void 0===o&&(o=null),void 0===i&&(i=0),!(this._loadFailList.indexOf(t)>=0))return e.getIns().playMusic(t,n,o,i)},e.stopMusic=function(){e.getIns().stopMusic()},e.playSound=function(t,n,o,i,a){if(void 0===n&&(n=1),void 0===o&&(o=null),void 0===i&&(i=null),void 0===a&&(a=0),!(this._loadFailList.indexOf(t)>=0))return e.getIns().playSound(t,n,o,i,a)},e.stopSound=function(e){a.stopSound(e)},e.stopAllSound=function(){a.stopAllSound()},e.stopAll=function(){a.stopAll()},e.playHallButtonSound=function(){e.getIns().playButtonSound()},e.getMusicVolume=function(){return e.getIns()._musicVolume},e.setMusicVolume=function(t){e.getIns()._musicVolume=Math.max(0,Math.min(100,t)),this._ins._backGroundChannel,a.setMusicVolume(this._ins._musicVolume/100)},e.getSoundVolume=function(){return e.getIns()._soundVolume},e.setSoundVolume=function(t){e.getIns()._soundVolume=Math.max(0,Math.min(100,t)),0==this._ins._soundVolume&&a.stopAllSound(),a.setSoundVolume(this._ins._soundVolume/100)},e.saveVolumeSetting=function(){r.setItem("hall_music_volume",e.getIns()._musicVolume.toString()),r.setItem("hall_sound_volume",e.getIns()._soundVolume.toString())},e.getVolumeSetting=function(){var t=parseInt(r.getItem("hall_music_volume")),n=parseInt(r.getItem("hall_sound_volume"));isNaN(t)||e.setMusicVolume(t),isNaN(n)||e.setSoundVolume(t)},e.getAudioURL=function(e){return this._audioUrlMap.get(e)},e.bindAudioURL=function(e,t){this._audioUrlMap.set(e,t)},e.destroyAudioURL=function(e){this._audioUrlMap.remove(e)},e.addLoadFailAudio=function(e){this._loadFailList.push(e)},e.clearLoadFailAudio=function(){this._loadFailList.length=0},e.getIns=function(){return null==e._ins&&(e._ins=new e),e._ins},e.prototype.addTransUrl=function(e,t){void 0===t&&(t=""),this._audioUrlTransMap.set(e,t+e)},e.prototype.removeTransUrl=function(e){this._audioUrlTransMap.remove(e)},e.prototype.getTransUrl=function(e){var t=this._audioUrlTransMap.get(e);return null!=t?t:e},e.prototype.playHallMusic=function(e){void 0===e&&(e=0),this.playMusic("res/audio/music/sound_bg_"+e+".mp3")},e.prototype.playMusic=function(e,t,n,o){return void 0===t&&(t=0),void 0===n&&(n=null),void 0===o&&(o=0),e=this.getTransUrl(e),a.playMusic(e,t,n,o),this._backGroundChannel},e.prototype.stopMusic=function(){a.stopMusic()},e.prototype.playSound=function(e,t,n,o,i){if(void 0===t&&(t=1),void 0===n&&(n=null),void 0===o&&(o=null),void 0===i&&(i=0),e=this.getTransUrl(e),0==this._soundVolume)return null;a.playSound(e,t,n,o,i)},e.prototype.playButtonSound=function(){this.playSound("res/audio/sound/sound_btn.wav")},e._audioUrlMap=new o.Dictionary,e._loadFailList=[],e}();n.HallSoundManager=c,cc._RF.pop()},{"../common/Dictionary":"Dictionary","../laya/Laya":"Laya"}],HallMsgProxy:[function(e,t,n){"use strict";cc._RF.push(t,"61245G5n+5Dn7C771nKJCwn","HallMsgProxy");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../common/LogBase"),a=e("../common/Types"),r=e("../core/RunData"),s=e("./Client"),l=e("../common/Define"),c=e("./InnerEvent"),u=o(e("./PlatformService")),p=o(e("../../hall/Tips")),h=o(e("../../hall/BaseRoom")),d=e("../../hall/RoomMng"),f=e("../core/HallData"),g=e("../common/ConfigMng"),m=e("./WsClient"),y=o(e("../../hall/LoadH5Game")),_=e("../common/Tools"),v=e("../../hallph6/SceneModifyRegisterPhone6"),b=e("../../hallph7/SceneUserInfo7"),S=e("../laya/Laya"),C=o(e("md5")),I=e("./GameHallMessage"),R=I.GameHallMessage.SUB_CONNECT_ID,L=I.GameHallMessage.MDM_ID,P=I.GameHallMessage.SUB_GH_USERREFRESH,M=I.GameHallMessage.SUB_GH_PROP,T=I.GameHallMessage.SUB_GH_LOGON_ID,E=I.GameHallMessage.SUB_GH_MAQ_MSG,A=I.GameHallMessage.ERROR_CODE_MSG,w=I.GameHallMessage.SUB_GH_LIST,O=I.GameHallMessage.SUB_GR_SOCKET_CLOSE,G=I.GameHallMessage.CMD_C_UserInfo_Self_Update,N=I.GameHallMessage.C_S_USERFRESH,D=I.GameHallMessage.CMD_C_SrvDayLottery,B=I.GameHallMessage.CMD_S_SrvDayLottery,U=I.GameHallMessage.CMD_C_SrvDayLottery_Result,k=I.GameHallMessage.CMD_S_SrvDayLottery_Result,x=I.GameHallMessage.CMD_C_REG_QUICK,F=I.GameHallMessage.CMD_C_UserInfo_BindQuickAccount,H=I.GameHallMessage.CMD_Logon_Quick,j=I.GameHallMessage.CMD_Logon_WeiXing,W=I.GameHallMessage.CMD_Logon_Account,V=I.GameHallMessage.CMD_C_UserInfo_ResetPassword,Y=I.GameHallMessage.CMD_MAQ_MSG,z=I.GameHallMessage.CMD_GH_RoomIdList,K=I.GameHallMessage.CMD_C_UserInfo_ChangeBindAccount,q=I.GameHallMessage.CMD_GH_UserRefresh,J=I.GameHallMessage.CMD_GH_Logon_Failed,X=I.GameHallMessage.CMD_GH_LogonResult,Z=I.GameHallMessage.CMD_GH_RoomInfoList,Q=I.GameHallMessage.CMD_S_UserInfo_UserPaymentNotify,$=I.GameHallMessage.SRV_CMD_CACHE_USERINFO_CHANGE_BIND_ACCOUNT_Rsp,ee=function(){function e(){}return e.Init=function(){this.bRegist=!1,s.Client.Instance.addMsgListener(L.MDM_CONNECT,R.ASS_NET_TEST,e,e.assNetTest),s.Client.Instance.addMsgListener(L.MDM_GH_USERREFRESH,P.SUB_GH_USERINFO_SELF_UPDATE,e,e.subGhUserInfoSelfUpdate),s.Client.Instance.addMsgListener(L.MDM_GH_USERREFRESH,P.SUB_GH_USERINFO_BIND_QUICK_ACCOUNT,e,e.onBindQuickAccount),s.Client.Instance.addMsgListener(L.MDM_GH_USERREFRESH,P.SUB_GH_USERREFRESH,e,e.onUserFresh),s.Client.Instance.addMsgListener(L.MDM_GH_USERREFRESH,P.SUB_GH_USERINFO_PAYMENT_NOTIFY,e,e.subGhUserInfoPaymentNotify),s.Client.Instance.addMsgListener(L.MDM_GH_PROP,M.SUB_LOTTERY_CONFIG_GET,e,e.onGetZhuanpanConfig),s.Client.Instance.addMsgListener(L.MDM_GH_PROP,M.SUB_LOTTERY_RESULT_GET,e,e.onGetZhuanpanResult),s.Client.Instance.addMsgListener(L.MDM_GH_LOGON,T.SUB_GH_LOGON_REG,e,e.onRegistRsp),s.Client.Instance.addMsgListener(L.MDM_GH_LOGON,T.SUB_GH_LOGON_SUCCESS,e,e.subGhLogonSuccess),s.Client.Instance.addMsgListener(L.MDM_GH_LOGON,T.SUB_GH_LOGON_ERROR,e,e.subGhLogonError),s.Client.Instance.addMsgListener(L.MDM_GH_USERREFRESH,P.SUB_USERINFO_RESET_PASSWORD_RSP,e,e.onRspNormal),s.Client.Instance.addMsgListener(L.MDM_GH_MAQ_MSG,E.SUB_GH_MAQ_MSG_NOTIFY,e,e.onNetTips),s.Client.Instance.addMsgListener(L.MDM_GH_LIST,w.RSP_GH_GAME_ROOM_LIST,this,this.subGhGameRoomList),s.Client.Instance.addMsgListener(L.MDM_GR_SOCKET_CLOSE,O.ASS_GR_ZSERVER_RELOG_KICK,this,this.socketCloseHandler),s.Client.Instance.addMsgListener(L.MDM_GR_SOCKET_CLOSE,O.ASS_GR_ROOM_CLOSE,this,this.socketCloseHandler),s.Client.Instance.addMsgListener(L.MDM_GR_SOCKET_CLOSE,O.ASS_GR_QUIT_GAMEROOM,this,this.assGrQuitGameRoom),s.Client.Instance.addMsgListener(L.MDM_GH_USERREFRESH,P.SUB_USERINFO_CHANGE_BIND_ACCOUNT,this,this.subModifyRegisterPhone),c.HallEvent.on(c.HallEvent.USER_FRESH,e,e.reqUserFresh)},e.StartMsg=function(){i.LogBase.log("...StartMsg...")},e.sendUserInfoSelfUpdate=function(e){s.Client.Instance.sendData(L.MDM_GH_USERREFRESH,P.SUB_GH_USERINFO_SELF_UPDATE,e.writeTo())},e.getEventString=function(e,t){return e+"_"+t},e.reqUserFresh=function(){var e=new N;e.iUserID=r.RunData.myUserInfo.dwUserID,s.Client.Instance.sendData(L.MDM_GH_USERREFRESH,P.SUB_GH_USERREFRESH,e.writeTo())},e.getZhuanpanConfig=function(){var e=new D;e.iUserId=r.RunData.myUserInfo.dwUserID,e.iLotteryID=a.E_LOTTERY_SCHEME.LOTTERY_SCHEME_ENGLISH_SIGN,s.Client.Instance.sendData(L.MDM_GH_PROP,M.SUB_LOTTERY_CONFIG_GET,e.writeTo())},e.onGetZhuanpanConfig=function(e,t){var n=new B;n.readFrom(t),r.RunData.LotteryConfig=n,i.LogBase.log("onGetZhuanpanConfig msg",n,e),c.HallEvent.event(c.HallEvent.REFRESH_HALL)},e.getZhuanpanResult=function(){var e=new U;e.iUserId=r.RunData.myUserInfo.dwUserID,e.iLotteryID=a.E_LOTTERY_SCHEME.LOTTERY_SCHEME_ENGLISH_SIGN,s.Client.Instance.sendData(L.MDM_GH_PROP,M.SUB_LOTTERY_RESULT_GET,e.writeTo())},e.onGetZhuanpanResult=function(e,t){var n=new k;0==e.uHandleCode&&n.readFrom(t),c.HallEvent.event(c.HallEvent.GET_ZHUANPAN_RESULT,[e,n])},e.sendRegister=function(e,t,n,o,u,p){c.HallEvent.dispatcher.event(c.HallEvent.SHOW_WAITTING_MSG,l.Define.TIPS.REGISTING);var h=new x;h.szName=Number(e).toString(),h.bBoy=1,h.iAgencyID=r.RunData.agentId,h.iPromoter=p,h.iRegWay=a.E_REG_TYPE.REG_TYPE_PHONE,h.byVerifyType=u,h.nickName=Number(e).toString(),h.szMD5Pass=C.default(t),h.byLoginPlatform=_.BrowserUtil.getLoginType(),h.byLoginVersion=0,S.Laya.LocalStorage.setItem("tmp",t),h.szToken=C.default("guest_web_"+h.iAgencyID+"_"+f.LocalTempData.getTempGUID()),h.szVerifyCode=n,h.szVerifyToken=o,i.LogBase.info("regist:",h.szName,r.RunData.agentId,h.iPromoter,h.byLoginPlatform),i.LogBase.debug("regist:",h.szName,r.RunData.agentId,h.iPromoter,h),s.Client.Instance.sendData(L.MDM_GH_LOGON,T.SUB_GH_LOGON_REG,h.writeTo()),this.bRegist=!0},e.BindAccount=function(e,t,n,o){var i=new F;i.iUserID=r.RunData.myUserInfo.dwUserID,i.szMD5Pass=C.default(t),i.szQuickMD5Pass="ef6deedb331e1b7f27305e1b1ea735ad",i.szName=Number(e).toString(),i.szPhone=Number(e).toString(),i.szVerifiCode=n,i.szVerifyToken=o,s.Client.Instance.sendData(L.MDM_GH_USERREFRESH,P.SUB_GH_USERINFO_BIND_QUICK_ACCOUNT,i.writeTo())},e.sendLoginQuick=function(e){void 0===e&&(e=!0),c.HallEvent.dispatcher.event(c.HallEvent.SHOW_WAITTING_MSG,g.ConfigMng.getNetTips(l.Define.TIPS.LOGINING));var t=new H;if(t.szName="QuickLoginMark2_English",t.iPromoter=r.RunData.promoterId,t.iAgencyID=r.RunData.agentId,t.byLoginPlatform=_.BrowserUtil.getLoginType(),t.iLoginType=a.E_LOGIN_TYPE.EN_LOGIN_TYPE_QUICK,t.TML_SN="",t.szMD5Pass="ef6deedb331e1b7f27305e1b1ea735ad",e)t.szMathineCode=C.default("guest_web_"+t.iAgencyID+"_"+f.LocalTempData.getTempGUID());else{var n=Date();t.szMathineCode=C.default("guest_web_"+n.toString()+"_"+f.LocalTempData.getTempGUID())}i.LogBase.c2sDebug("\u5feb\u901f\u767b\u5f55 name:"+t.szName,t),s.Client.Instance.sendData(L.MDM_GH_LOGON,T.SUB_GH_LOGON_QUICK,H.WriteFrom(t)),this.bRegist=!0},e.LoginFBGoogle=function(e,t,n){var o=new j;o.iPromoter=r.RunData.promoterId,o.iAgencyID=r.RunData.agentId,o.byLoginPlatform=_.BrowserUtil.getLoginType(),o.iLoginType=n,o.TML_SN="",o.szNickName=e,o.szMD5Pass="ef6deedb331e1b7f27305e1b1ea735ad",o.szMathineCode=C.default("guest_web_"+o.iAgencyID+"_"+f.LocalTempData.getTempGUID()),n==a.E_LOGIN_TYPE.ELOGIN_TYPE_GOOGLE&&(o.szName="GG_"+t),n==a.E_LOGIN_TYPE.ELOGIN_TYPE_FACEBOOK&&(o.szName="FB_"+t),n==a.E_LOGIN_TYPE.ELOGIN_TYPE_METAMASK&&(o.szName="META_"+t,o.iLoginType=a.E_LOGIN_TYPE.ELOGIN_TYPE_GOOGLE),i.LogBase.c2sDebug("facebook google name:"+o.szName,o),s.Client.Instance.sendData(L.MDM_GH_LOGON,T.SUB_GH_LOGON_WEIXING,o.writeTo())},e.LoginAccount=function(e,t,n,o,u){var p=new W;if(p.szName=Number(e).toString(),p.iAgencyID=r.RunData.agentId,p.byLoginPlatform=_.BrowserUtil.getLoginType(),p.iLoginType=a.E_LOGIN_TYPE.EN_LOGIN_TYPE_ACCOUNT,p.TML_SN="","000000"==t){var h=f.LocalTempData.getAccountsMD5Password();""!=h?6==f.LocalTempData.getAccountsPasswordLength()?p.szMD5Pass=C.default(h):p.szMD5Pass=h:p.szMD5Pass=C.default(t)}else p.szMD5Pass=C.default(t);n?(p.byVerifyType=1,p.szVerifyCode=o,p.szVerifyToken=u):(p.byVerifyType=0,p.szVerifyCode="",p.szVerifyToken=""),c.HallEvent.dispatcher.event(c.HallEvent.SHOW_WAITTING_MSG,l.Define.TIPS.LOGINING),p.szMathineCode=C.default("guest_web_"+p.iAgencyID+"_"+f.LocalTempData.getTempGUID()),i.LogBase.info("login account",p.szName),s.Client.Instance.sendData(L.MDM_GH_LOGON,T.SUB_GH_LOGON_ACCOUNT,p.writeTo())},e.ResetUserPasswd=function(e,t,n,o){var a=new V;a.szPhone=Number(e).toString(),a.szPasswd=C.default(t),a.szVerifiCode=n,a.szVerifyToken=o,a.AgentID=r.RunData.agentId,i.LogBase.log("reset passwd",a),s.Client.Instance.sendData(L.MDM_GH_USERREFRESH,P.SUB_USERINFO_RESET_PASSWORD_REQ,a.writeTo())},e.onRspNormal=function(e,t){if(c.HallEvent.dispatcher.event(c.HallEvent.CLOSE_WAITTING_MSG),0!=e.uHandleCode){var n=A.getCodeMsg(e.uHandleCode);c.HallEvent.dispatcher.event(c.HallEvent.SHOW_MESSAGE,n)}else c.HallEvent.event(this.getEventString(e.uMainID,e.uAssistantID),[e,t])},e.onNetTips=function(e,t){var n=new Y;n.readFrom(t),0==e.uHandleCode&&n.iCount>0&&p.default.onShowNetTips(n.sItem[0].szMsgContent,1e3*n.sItem[0].iTalkShowStopTimes)},e.sendGetGameRoomList=function(){var e=new z;e.lsNameID=d.RoomMng.GameIDList,e.iCount=d.RoomMng.GameIDList.length,e.iAgentID=r.RunData.myUserInfo.uAgencyID,i.LogBase.debug("req sendGetGameRoomList",e),s.Client.Instance.sendData(L.MDM_GH_LIST,w.SUB_GH_GAME_ROOM_LIST,e.writeTo())},e.executeExitGame=function(){c.HallEvent.event(c.HallEvent.GO_BACK_TO_HALL)},e.onModifyRegisterPhone=function(e,t,n,o){var i=new K;i.iUserID=r.RunData.myUserInfo.dwUserID,i.szMD5Pass=C.default(e),i.szName=t,i.szVerifiCode=n,i.szVerifyToken=o,s.Client.Instance.sendData(L.MDM_GH_USERREFRESH,P.SUB_USERINFO_CHANGE_BIND_ACCOUNT,K.WriteFrom(i))},e.assNetTest=function(){s.Client.Instance.sendData(L.MDM_CONNECT,R.ASS_NET_TEST,null)},e.sendHeartData=function(){s.Client.Instance.sendData(L.MDM_CONNECT,R.ASS_NET_TEST,null)},e.subGhUserInfoSelfUpdate=function(e,t){if(0==e.uHandleCode){var n=new G;n.readFrom(t),r.RunData.myUserInfo.bBoy=n.bSex,r.RunData.myUserInfo.bLogoID=n.iImageNo,r.RunData.myUserInfo.iPhotoFrame=n.iPhotoFrame,r.RunData.myUserInfo.dwUserID=n.iUserID,r.RunData.myUserInfo.szGameSign=n.szGameSign,r.RunData.myUserInfo.nickName=n.szNickName,c.HallEvent.event(c.HallEvent.UPDATE_USERINFO),p.default.SetText(l.Define.TIPS.UPDATE_SUCCEED)}else c.HallEvent.event(c.HallEvent.SHOW_MESSAGE,A.getCodeMsg(e.uHandleCode))},e.onBindQuickAccount=function(e,t){i.LogBase.log("onBindQuickAccount data",e,t),0==e.uHandleCode?(r.RunData.myUserInfo.byIsNeedBindQuick=0,p.default.SetText(l.Define.TIPS.SUCCEED),c.HallEvent.event(c.HallEvent.SHOW_REWARD,r.GameTool.formatMoneyString(r.RunData.myUserInfo.i64UpgradeSendGb,0)),c.HallEvent.event(this.getEventString(e.uMainID,e.uAssistantID),e.uHandleCode)):c.HallEvent.event(this.getEventString(e.uMainID,e.uAssistantID),e.uHandleCode)},e.onUserFresh=function(e,t){i.LogBase.log("onUserFresh data",e,t);var n=new q;n.readFrom(t),null!=h.default.getUser(n.dwUserID)&&(h.default.getUser(n.dwUserID).dwMoney=n.iWalletGb),r.RunData.myUserInfo.dwUserID==n.dwUserID&&(r.RunData.myUserInfo.dwMoney=n.iWalletGb.toNumber(),r.RunData.myUserInfo.dwBank=n.iBankGb.toNumber(),r.RunData.myUserInfo.dwTreasure=n.dwTreasure,r.RunData.myUserInfo.iExchangeBill=n.iExchangeBill,r.RunData.myUserInfo.iCardNum=n.iCardNum,r.RunData.myUserInfo.iVipLevel=n.iVipLevel,c.HallEvent.event(c.HallEvent.UPDATE_USERMONEY)),c.HallEvent.eventByHead(e,n),i.LogBase.log("onUserFresh msg",n)},e.onRegistRsp=function(e){i.LogBase.s2cDebug("onRegistRsp",e),c.HallEvent.dispatcher.event(c.HallEvent.CLOSE_WAITTING_MSG),0!=e.uHandleCode?c.HallEvent.dispatcher.event(c.HallEvent.SHOW_WAITTING_MSG,A.getCodeMsg(e.uHandleCode)):c.HallEvent.dispatcher.event(c.HallEvent.SHOW_WAITTING_MSG,g.ConfigMng.getTips(l.Define.TIPS.REGIST_SUCCEED))},e.subGhLogonError=function(e,t){c.HallEvent.dispatcher.event(c.HallEvent.CLOSE_WAITTING_MSG);var n=new J;if(n.readFrom(t),i.LogBase.info("login Error",e.uHandleCode,n.szErrReason),0!=e.uHandleCode)if(e.uHandleCode==l.Define.ERROR_CODE.LOGIN_VERIFICATION)c.HallEvent.event(c.HallEvent.SHOW_VERIFICATION);else{var o=A.getCodeMsg(e.uHandleCode);c.HallEvent.event(c.HallEvent.SHOW_MESSAGE,o)}else c.HallEvent.event(c.HallEvent.SHOW_MESSAGE,l.Define.TIPS.SUCCEED);this.bRegist=!1},e.subGhLogonSuccess=function(e,t){c.HallEvent.dispatcher.event(c.HallEvent.CLOSE_WAITTING_MSG);var n,o=X.ReadFrom(t);r.RunData.myUserInfo=o,r.RunData.agentId=o.uAgencyID,r.RunData.s2cTimeDelay=1e3*o.tmServer-S.Laya.Browser.now(),"0"!=f.LocalTempData.getRemember()&&(i.LogBase.log("\u767b\u5f55\u8fd4\u56deszName:",r.RunData.myUserInfo.szName),i.LogBase.log("\u767b\u5f55\u8fd4\u56deszMD5Pass:",r.RunData.myUserInfo.szMD5Pass),f.LocalTempData.setAccountsName(r.RunData.myUserInfo.szName),f.LocalTempData.setAccountPassword(r.RunData.myUserInfo.szMD5Pass,r.RunData.myUserInfo.szMD5Pass.length)),i.LogBase.setUserID(o.dwUserID),m.WsClient.Instance.isConnected||i.LogBase.Init(r.RunData.agentId.toString()),i.LogBase.info("login Success",o.szName,o.iLoginType),i.LogBase.log("subGhLogonSuccess:",o),u.default.Logout3thGame(),c.HallEvent.event(c.HallEvent.OPEN_HALL),this.sendGetGameRoomList(),this.bRegist&&((n=new Array).push(new a.EventItem(a.AFInAppEventParameterName.TUTORIAL_ID,r.RunData.myUserInfo.szToken)),n.push(new a.EventItem(a.AFInAppEventParameterName.CUSTOMER_USER_ID,o.dwUserID.toString())),_.BrowserUtil.postEvent(a.AFInAppEventType.COMPLETE_REGISTRATION,n),this.bRegist=!1),(n=new Array).push(new a.EventItem(a.AFInAppEventParameterName.CUSTOMER_USER_ID,o.dwUserID.toString())),_.BrowserUtil.postEvent(a.AFInAppEventType.LOGIN,n),i.LogBase.info("login.suc.href:",S.Laya.Browser.window.location.href,s.Client.Instance.strClientIP),i.LogBase.info("login.suc.userAgent",S.Laya.Browser.userAgent)},e.subGhGameRoomList=function(e,t){var n;for(i.LogBase.debug("rsp sendGetGameRoomList",e,t,t.bytesAvailable),d.RoomMng.clearGameRoomList();t.bytesAvailable;){(n=new Z).readFrom(t),i.LogBase.debug("rsp sendGetGameRoomList",n);for(var o=0;o<n.iCount;o++)d.RoomMng.addGameRoomInfo(n.sItem[o])}c.HallEvent.event(c.HallEvent.CHECK_RECONNECT)},e.socketCloseHandler=function(e){var t="";switch(e.uAssistantID){case O.ASS_GR_ZSERVER_RELOG_KICK:s.Client.Instance.close(),t=g.ConfigMng.getTips(l.Define.TIPS.Disconnected),c.HallEvent.event(c.HallEvent.EXIT_HALL);break;case O.ASS_GR_QUIT_GAMEROOM:case O.ASS_GR_ROOM_CLOSE:case O.ASS_GR_ROOM_GWCLOSE:t=g.ConfigMng.getTips(l.Define.TIPS.BE_KICKED),this.logSocketCloseMsg(e.uAssistantID),c.HallEvent.event(c.HallEvent.GO_BACK_TO_HALL);break;case O.ASS_GR_ROOM_CONNECT:return;default:s.Client.Instance.close(),c.HallEvent.event(c.HallEvent.EXIT_HALL),t="Disconnected, unknown reason(code:"+A.getCodeMsg(e.uHandleCode)+")"}i.LogBase.s2cDebug("socketCloseHandler",t),c.HallEvent.event(c.HallEvent.SHOW_MESSAGE,[t])},e.logSocketCloseMsg=function(e){switch(e){case O.ASS_GR_QUIT_GAMEROOM:i.LogBase.log("\u9000\u51fa\u6e38\u620f\u623f\u95f4");break;case O.ASS_GR_ROOM_CLOSE:i.LogBase.log("\u6e38\u620f\u623f\u95f4\u5173\u95ed");break;case O.ASS_GR_ROOM_CONNECT:i.LogBase.log("\u6e38\u620f\u623f\u95f4\u542f\u52a8");break;case O.ASS_GR_ROOM_GWCLOSE:i.LogBase.log("\u5728\u7f51\u5173\u4e2d\u5220\u9664\u767b\u5f55")}},e.assGrQuitGameRoom=function(e){i.LogBase.s2cDebug("\u9000\u51fa\u6e38\u620f"),this.executeExitGame(e.uMainID,e.uAssistantID)},e.subGhUserInfoPaymentNotify=function(e,t){if(i.LogBase.debug("subGhUserInfoPaymentNotify \u5145\u503c\u901a\u77e5",e),0==e.uHandleCode){var n=new Q;n.readFrom(t);var o=r.GameTool.formatMoney64String(n.iChangeMoney);if(c.HallEvent.event(c.HallEvent.SHOW_WAITTING_MSG,"Recharged Successfully!\nand received "+o+" coins"),!r.RunData.userPixAccount.isFirstPay){r.RunData.userPixAccount.isFirstPay=!0,c.HallEvent.event(c.HallEvent.FIRST_PAY_FINISH);var s=new Array;s.push(new a.EventItem(a.AFInAppEventParameterName.TUTORIAL_ID,r.RunData.myUserInfo.szToken)),s.push(new a.EventItem(a.AFInAppEventParameterName.CUSTOMER_USER_ID,r.RunData.myUserInfo.dwUserID.toString())),s.push(new a.EventItem(a.AFInAppEventParameterName.PRICE,o)),_.BrowserUtil.postEvent(a.AFInAppEventType.PURCHASE,s)}this.reqUserFresh(),y.default.CloseInnerFrame(),i.LogBase.info("PaymentNotify",o)}else c.HallEvent.event(c.HallEvent.SHOW_WAITTING_MSG,"Recharge Failed!"+A.getCodeMsg(e.uHandleCode))},e.subModifyRegisterPhone=function(e,t){i.LogBase.debug("\u4fee\u6539\u6ce8\u518c\u624b\u673a\u53f7\u54cd\u5e94",e);var n=$.ReadFrom(t);if(0==e.uHandleCode)f.LocalTempData.setNextModifyRegisterPhoneTime(n.m_llNextChangeTimeLimit.toString()),v.SceneModifyRegisterPhone6.CloseScene(),b.SceneUserInfo7.CloseScene(),c.HallEvent.dispatcher.event(c.HallEvent.EXIT_HALL);else if(89==e.uHandleCode){f.LocalTempData.setNextModifyRegisterPhoneTime(n.m_llNextChangeTimeLimit.toString());var o=new Date(n.m_llNextChangeTimeLimit),a=o.getFullYear(),r=o.getMonth()+1,s=o.getDate(),l=a.toString()+"/"+r.toString()+"/"+s.toString();p.default.SetText("The next time that can be modified:"+l)}else c.HallEvent.event(c.HallEvent.SHOW_WAITTING_MSG,"Recharge Failed!"+A.getCodeMsg(e.uHandleCode))},e.bRegist=!1,e}();n.default=ee,cc._RF.pop()},{"../../hall/BaseRoom":"BaseRoom","../../hall/LoadH5Game":"LoadH5Game","../../hall/RoomMng":"RoomMng","../../hall/Tips":"Tips","../../hallph6/SceneModifyRegisterPhone6":"SceneModifyRegisterPhone6","../../hallph7/SceneUserInfo7":"SceneUserInfo7","../common/ConfigMng":"ConfigMng","../common/Define":"Define","../common/LogBase":"LogBase","../common/Tools":"Tools","../common/Types":"Types","../core/HallData":"HallData","../core/RunData":"RunData","../laya/Laya":"Laya","./Client":"Client","./GameHallMessage":"GameHallMessage","./InnerEvent":"InnerEvent","./PlatformService":"PlatformService","./WsClient":"WsClient",md5:44}],Handler:[function(e,t,n){"use strict";cc._RF.push(t,"60ffclK5yxFaKV086thixo8","Handler"),Object.defineProperty(n,"__esModule",{value:!0}),n.Handler=void 0;var o=function(){function e(e,t,n,o){void 0===e&&(e=null),void 0===t&&(t=null),void 0===n&&(n=null),void 0===o&&(o=!1),this.once=!1,this._id=0,this.setTo(e,t,n,o)}return e.prototype.setTo=function(t,n,o,i){return void 0===i&&(i=!1),this._id=e._gid++,this.caller=t,this.method=n,this.args=o,this.once=i,this},e.prototype.run=function(){if(null==this.method)return null;var e=this._id,t=this.method.apply(this.caller,this.args);return this._id===e&&this.once&&this.recover(),t},e.prototype.runWith=function(e){if(null==this.method)return null;var t=this._id;if(null==e)var n=this.method.apply(this.caller,this.args);else n=this.args||e.unshift?this.args?this.method.apply(this.caller,this.args.concat(e)):this.method.apply(this.caller,e):this.method.call(this.caller,e);return this._id===t&&this.once&&this.recover(),n},e.prototype.clear=function(){return this.caller=null,this.method=null,this.args=null,this},e.prototype.recover=function(){this._id>0&&(this._id=0,e._pool.push(this.clear()))},e.create=function(t,n,o,i){return void 0===o&&(o=null),void 0===i&&(i=!0),e._pool.length?e._pool.pop().setTo(t,n,o,i):new e(t,n,o,i)},e._pool=[],e._gid=1,e}();n.Handler=o,cc._RF.pop()},{}],HeartComponent:[function(e,t,n){"use strict";cc._RF.push(t,"260f1uh6/JCZboNWNMpShqf","HeartComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../../main/scripts/framework/gg"),s=e("../systems/remoteconfig/RemoteConfigModel"),l=e("../systems/remoteconfig/RemoteConfigSystem"),c=e("../systems/user/UserEvent"),u=e("../systems/user/UserSystem"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.heartBalanceLabel=null,t.upTimeLabel=null,t}return i(t,e),t.prototype.onEnable=function(){this._updateHeart(),this._updateTimer(),r.gg.eventManager.on(c.UserEvent.OnUserHeartChanged,this._onHeartChanged,this)},t.prototype.onDisable=function(){r.gg.eventManager.offTarget(this)},t.prototype._onHeartChanged=function(){this._updateHeart()},t.prototype._updateHeart=function(){this.heartBalanceLabel.string=u.userSystem.userModel.heart+""},t.prototype._updateTimer=function(){var e,t;if(this.upTimeLabel){var n=l.remoteConfigSystem.getConfig(s.RemoteCoinfigType.GameSwitch);this.upTimeLabel.string=null!==(t=null===(e=null==n?void 0:n.qualifyingBaloot)||void 0===e?void 0:e.time)&&void 0!==t?t:""}},a([d({type:cc.Label,tooltip:"\u4f53\u529b\u503c"})],t.prototype,"heartBalanceLabel",void 0),a([d({type:cc.Label,tooltip:"\u4f53\u529b\u503c\u5237\u65b0\u65f6\u95f4"})],t.prototype,"upTimeLabel",void 0),a([h],t)}(cc.Component);n.default=f,cc._RF.pop()},{"../../../main/scripts/framework/gg":"gg","../systems/remoteconfig/RemoteConfigModel":"RemoteConfigModel","../systems/remoteconfig/RemoteConfigSystem":"RemoteConfigSystem","../systems/user/UserEvent":"UserEvent","../systems/user/UserSystem":"UserSystem"}],HelpPanel31800:[function(e,t,n){"use strict";cc._RF.push(t,"d61145aVmlLqYHhKvvUaykh","HelpPanel31800");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.HelpPanel31800=void 0;var r=e("./BasePanel31800"),s=e("../../halls/halllib/laya/Laya"),l=s.Laya.regClass,c=(s.Laya.property,function(e){function t(){return e.call(this)||this}var n;return i(t,e),n=t,t.prototype.onAwake=function(){e.prototype.onAwake.call(this),n.Instance=this,this.ButtonNext=this.owner.getChildByName("ButtonNext"),this.ButtonClose=this.owner.getChildByName("ButtonClose"),this.ButtonPre=this.owner.getChildByName("ButtonPre"),this.PageArray=new Array;for(var t=0;t<2;t++)this.PageArray[t]=this.owner.getChildByName("Page"+(t+1));this.pageIndex=0,this.showPage(),this.ButtonClose.on(s.Laya.Event.CLICK,this,this.onButtonClose),this.ButtonNext.on(s.Laya.Event.CLICK,this,this.onButtonNext),this.ButtonPre.on(s.Laya.Event.CLICK,this,this.onButtonPre)},t.prototype.onButtonClose=function(){this.Hide()},t.prototype.onButtonNext=function(){this.pageIndex++,this.pageIndex>=this.PageArray.length&&(this.pageIndex=0),this.showPage()},t.prototype.onButtonPre=function(){this.pageIndex--,this.pageIndex<0&&(this.pageIndex=this.PageArray.length-1),this.showPage()},t.prototype.showPage=function(){for(var e=0;e<this.PageArray.length;e++)this.PageArray[e].visible=e==this.pageIndex},n=a([l()],t)}(r.BasePanel31800));n.HelpPanel31800=c,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya","./BasePanel31800":"BasePanel31800"}],HitArea:[function(e,t,n){"use strict";cc._RF.push(t,"68ca6DCw8hAq5jStXeH4PoH","HitArea"),Object.defineProperty(n,"__esModule",{value:!0}),n.HitArea=void 0;var o=e("../maths/Point"),i=e("../maths/Rectangle"),a=e("./ClassUtils"),r=new i.Rectangle,s=new o.Point,l=function(){function e(){}return e.prototype.contains=function(t,n,o){return!!e._isHitGraphic(t,n,o,this._hit)&&!e._isHitGraphic(t,n,o,this._unHit)},e._isHitGraphic=function(t,n,o,i){if(!i)return!1;var a=i.cmds;if(0==a.length)return!1;for(var r=a.length,s=0;s<r;s++){var l=a[s];if(l){switch(l.cmdID){case"Translate":t-=l.tx,n-=l.ty}if(e._isHitCmd(t,n,o,l))return!0}}return!1},e._isHitCmd=function(t,n,o,i){if(!i)return!1;var a=!1;switch(i.cmdID){case"DrawRect":i.percent?r.setTo(i.x*o.width,i.y*o.height,i.width*o.width,i.height*o.height):r.setTo(i.x,i.y,i.width,i.height),a=r.contains(t,n);break;case"DrawCircle":var s=i.radius;i.percent?(t-=i.x*o.width,n-=i.y*o.height,s*=o.width):(t-=i.x,n-=i.y),a=t*t+n*n<s*s;break;case"DrawPoly":t-=i.x,n-=i.y,a=e._ptInPolygon(t,n,i.points)}return a},e._ptInPolygon=function(e,t,n){var o=s;o.setTo(e,t);var i,a,r,l,c,u=0;c=n.length;for(var p=0;p<c;p+=2)i=n[p],a=n[p+1],r=n[(p+2)%c],a!=(l=n[(p+3)%c])&&(o.y<Math.min(a,l)||o.y>=Math.max(a,l)||(o.y-a)*(r-i)/(l-a)+i>o.x&&u++);return u%2==1},Object.defineProperty(e.prototype,"hit",{get:function(){return this._hit||(this._hit={}),this._hit},set:function(e){this._hit=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"unHit",{get:function(){return this._unHit||(this._unHit={}),this._unHit},set:function(e){this._unHit=e},enumerable:!1,configurable:!0}),e.prototype.onAfterDeserialize=function(){},e}();n.HitArea=l,a.ClassUtils.regClass("HitArea",l),cc._RF.pop()},{"../maths/Point":"Point","../maths/Rectangle":"Rectangle","./ClassUtils":"ClassUtils"}],HotUpdateConfig:[function(e,t,n){"use strict";cc._RF.push(t,"50f229UZE5HuYYyEIwmTQ/A","HotUpdateConfig"),Object.defineProperty(n,"__esModule",{value:!0}),n.HotUpdateConfig=void 0;var o=function(){function e(){}return Object.defineProperty(e,"hotUpdateRootDirPath",{get:function(){return jsb.fileUtils.getWritablePath()+"remote-asset"},enumerable:!1,configurable:!0}),e}();n.HotUpdateConfig=o,cc._RF.pop()},{}],HotUpdateInterfaces:[function(e,t,n){"use strict";cc._RF.push(t,"9aba5UlS2tPA6NXWay4FWFq","HotUpdateInterfaces"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],HotUpdateManager:[function(e,t,n){"use strict";cc._RF.push(t,"95ba6pwTJJF5L4jkfvYF1V3","HotUpdateManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../gg"),i=function(){function e(e){this._assetManager=null,this._option=null,this._updating=!1,this._canRetry=!1,this._option=e,this._assetManager=new jsb.AssetsManager("",this._option.storageDirPath),this._assetManager.setVersionCompareHandle(function(e,t){o.gg.logger.log("\u70ed\u66f4\u65b0\uff1a\u7248\u672c\u6bd4\u8f83\uff0c\u672c\u5730\u7248\u672c\uff1a"+e+"\uff0c\u8fdc\u7a0b\u7248\u672c\uff1a"+t);for(var n=e.split("."),i=t.split("."),a=0;a<n.length;++a){var r=parseInt(n[a]),s=parseInt(i[a]||"0");if(r!==s)return r-s}return i.length>n.length?-1:0}),this._assetManager.setVerifyCallback(function(e,t){return t.compressed,t.md5,t.path,t.size,!0})}return e.prototype.destroy=function(){this._assetManager.setEventCallback(null),this._assetManager=null,this._updating=!1,this._canRetry=!1,this._option=null},e.prototype.checkUpdate=function(){if(this._updating)o.gg.logger.warn("\u70ed\u66f4\u65b0\uff1a\u5f53\u524d\u5df2\u7ecf\u5728\u66f4\u65b0\u4e2d\uff0c\u5c06\u5ffd\u7565\u672c\u6b21\u7684 checkUpate");else{var e=this._assetManager.getStoragePath()+"/project.manifest",t="";if(t=jsb.fileUtils.isFileExist(e)?jsb.fileUtils.getStringFromFile(e):this._option.builtInProjectManifestJsonStr,this._option.remoteConfig){o.gg.logger.log("\u70ed\u66f4\u65b0\uff1a\u5c06\u4fee\u6539\u66f4\u65b0\u5730\u5740");var n=JSON.parse(t);o.gg.logger.log("\u70ed\u66f4\u65b0\uff1a\u5c06\u4fee\u6539\u5f53\u524d\u672c\u5730 project.manifest packageUrl: "+n.packageUrl+" -> "+this._option.remoteConfig.packageUrl),o.gg.logger.log("\u70ed\u66f4\u65b0\uff1a\u5c06\u4fee\u6539\u5f53\u524d\u672c\u5730 project.manifest remoteManifestUrl: "+n.remoteManifestUrl+" -> "+this._option.remoteConfig.remoteProjManifestUrl),o.gg.logger.log("\u70ed\u66f4\u65b0\uff1a\u5c06\u4fee\u6539\u5f53\u524d\u672c\u5730 project.manifest remoteVersionUrl: "+n.remoteVersionUrl+" -> "+this._option.remoteConfig.remoteVerManifestUrl),n.packageUrl=this._option.remoteConfig.packageUrl,n.remoteManifestUrl=this._option.remoteConfig.remoteProjManifestUrl,n.remoteVersionUrl=this._option.remoteConfig.remoteVerManifestUrl,t=JSON.stringify(n),jsb.fileUtils.writeStringToFile(t,e)}var i=new jsb.Manifest(t,this._assetManager.getStoragePath());if(this._assetManager.loadLocalManifest(i,this._assetManager.getStoragePath()),!this._assetManager.getLocalManifest()||!this._assetManager.getLocalManifest().isLoaded())return o.gg.logger.error("\u70ed\u66f4\u65b0\uff1a\u5f53\u524d\u6ca1\u6709\u6307\u5b9a Local project.manifest\uff0c\u5c06\u8df3\u8fc7\u70ed\u66f4"),void this._option.onVersionCheckCallBack(!1);o.gg.logger.log("\u70ed\u66f4\u65b0\uff1a\u5f00\u59cb\u65b0\u7248\u672c\u68c0\u67e5"),o.gg.logger.log("\u70ed\u66f4\u65b0\uff1a\u5f53\u524d\u672c\u5730 project.manifest \u4fe1\u606f","getManifestFileUrl",this._assetManager.getLocalManifest().getManifestFileUrl()),o.gg.logger.log("\u70ed\u66f4\u65b0\uff1a\u5f53\u524d\u672c\u5730 project.manifest \u4fe1\u606f","getManifestRoot",this._assetManager.getLocalManifest().getManifestRoot()),o.gg.logger.log("\u70ed\u66f4\u65b0\uff1a\u5f53\u524d\u672c\u5730 project.manifest \u4fe1\u606f","getPackageUrl",this._assetManager.getLocalManifest().getPackageUrl()),o.gg.logger.log("\u70ed\u66f4\u65b0\uff1a\u5f53\u524d\u672c\u5730 project.manifest \u4fe1\u606f","getSearchPaths",this._assetManager.getLocalManifest().getSearchPaths()),o.gg.logger.log("\u70ed\u66f4\u65b0\uff1a\u5f53\u524d\u672c\u5730 project.manifest \u4fe1\u606f","getVersion",this._assetManager.getLocalManifest().getVersion()),o.gg.logger.log("\u70ed\u66f4\u65b0\uff1a\u5f53\u524d\u672c\u5730 project.manifest \u4fe1\u606f","getVersionFileUrl",this._assetManager.getLocalManifest().getVersionFileUrl()),this._updating=!0,this._assetManager.setEventCallback(this._onCheckUpdateCallBack.bind(this)),this._assetManager.checkUpdate()}},e.prototype._onCheckUpdateCallBack=function(e){var t=null;switch(e.getEventCode()){case jsb.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:o.gg.logger.log("\u70ed\u66f4\u65b0\uff1a\u65b0\u7248\u672c\u68c0\u67e5\u56de\u8c03 Code\uff1a"+e.getEventCode()+" ERROR_NO_LOCAL_MANIFEST \u6ca1\u6709\u627e\u5230\u672c\u5730\u8d44\u6e90\u5305\u5185\u7684 Manifest "),t=!1;break;case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:o.gg.logger.log("\u70ed\u66f4\u65b0\uff1a\u65b0\u7248\u672c\u68c0\u67e5\u56de\u8c03 Code\uff1a"+e.getEventCode()+" ERROR_DOWNLOAD_MANIFEST \u4e0b\u8f7d\u8fdc\u7a0b\u7684 Manifest \u5931\u8d25"),t=!1;break;case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:o.gg.logger.log("\u70ed\u66f4\u65b0\uff1a\u65b0\u7248\u672c\u68c0\u67e5\u56de\u8c03 Code\uff1a"+e.getEventCode()+" ERROR_PARSE_MANIFEST \u89e3\u6790\u8fdc\u7a0b\u7684 Manifest \u5931\u8d25"),t=!1;break;case jsb.EventAssetsManager.ALREADY_UP_TO_DATE:o.gg.logger.log("\u70ed\u66f4\u65b0\uff1a\u65b0\u7248\u672c\u68c0\u67e5\u56de\u8c03 Code\uff1a"+e.getEventCode()+" ALREADY_UP_TO_DATE \u5df2\u7ecf\u66f4\u65b0\u5230\u6700\u65b0\u7248\u672c"),t=!1;break;case jsb.EventAssetsManager.NEW_VERSION_FOUND:o.gg.logger.log("\u70ed\u66f4\u65b0\uff1a\u65b0\u7248\u672c\u68c0\u67e5\u56de\u8c03 Code\uff1a"+e.getEventCode()+" NEW_VERSION_FOUND \u53d1\u73b0\u65b0\u7248\u672c"),t=!0;break;case jsb.EventAssetsManager.ERROR_DECOMPRESS:o.gg.logger.log("\u70ed\u66f4\u65b0\uff1a\u65b0\u7248\u672c\u68c0\u67e5\u56de\u8c03 Code\uff1a"+e.getEventCode()+" ERROR_DECOMPRESS \u6709\u8d44\u6e90\u89e3\u538b\u5931\u8d25");break;case jsb.EventAssetsManager.UPDATE_PROGRESSION:o.gg.logger.log("\u70ed\u66f4\u65b0\uff1a\u65b0\u7248\u672c\u68c0\u67e5\u56de\u8c03 Code\uff1a"+e.getEventCode()+" UPDATE_PROGRESSION \u8d44\u6e90\u4e0b\u8f7d\u4e2d");break;case jsb.EventAssetsManager.ASSET_UPDATED:o.gg.logger.log("\u70ed\u66f4\u65b0\uff1a\u65b0\u7248\u672c\u68c0\u67e5\u56de\u8c03 Code\uff1a"+e.getEventCode()+" ASSET_UPDATED \u6709\u8d44\u6e90\u4e0b\u8f7d\u6210\u529f");break;case jsb.EventAssetsManager.ERROR_UPDATING:o.gg.logger.log("\u70ed\u66f4\u65b0\uff1a\u65b0\u7248\u672c\u68c0\u67e5\u56de\u8c03 Code\uff1a"+e.getEventCode()+" ERROR_UPDATING \u6709\u8d44\u6e90\u4e0b\u8f7d\u5931\u8d25");break;case jsb.EventAssetsManager.UPDATE_FAILED:o.gg.logger.log("\u70ed\u66f4\u65b0\uff1a\u65b0\u7248\u672c\u68c0\u67e5\u56de\u8c03 Code\uff1a"+e.getEventCode()+" UPDATE_FAILED \u66f4\u65b0\u5931\u8d25");break;case jsb.EventAssetsManager.UPDATE_FINISHED:o.gg.logger.log("\u70ed\u66f4\u65b0\uff1a\u65b0\u7248\u672c\u68c0\u67e5\u56de\u8c03 Code\uff1a"+e.getEventCode()+" UPDATE_FINISHED \u66f4\u65b0\u6210\u529f");break;default:return void o.gg.logger.log("\u70ed\u66f4\u65b0\uff1a\u65b0\u7248\u672c\u68c0\u67e5\u56de\u8c03 Code\uff1a"+e.getEventCode()+" \u51fa\u73b0\u672a\u5b9a\u4e49\u7684\u4ee3\u7801")}null!=t&&(this._assetManager.setEventCallback(null),this._updating=!1,this._option.onVersionCheckCallBack(t))},e.prototype.hotUpdate=function(){this._updating?o.gg.logger.warn("\u70ed\u66f4\u65b0\uff1a\u5f53\u524d\u5df2\u7ecf\u5728\u66f4\u65b0\u4e2d\uff0c\u5c06\u5ffd\u7565\u672c\u6b21\u7684 hotupdate"):this._assetManager.getLocalManifest()&&this._assetManager.getLocalManifest().isLoaded()?(o.gg.logger.log("\u70ed\u66f4\u65b0\uff1a\u5f00\u59cb\u70ed\u66f4\u65b0"),this._updating=!0,this._option.onHotUpdateProgressCallBack(0,0),this._assetManager.setEventCallback(this._onHotUpdateCallBack.bind(this)),this._assetManager.update()):o.gg.logger.error("\u70ed\u66f4\u65b0\uff1a\u5c1d\u8bd5\u6267\u884c\u70ed\u66f4\u65b0\uff0c\u4f46\u662f\u6ca1\u6709\u52a0\u8f7d\u5230\u672c\u5730 project.manifest")},e.prototype._onHotUpdateCallBack=function(e){var t=null;switch(e.getEventCode()){case jsb.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:o.gg.logger.log("\u70ed\u66f4\u65b0\uff1a\u66f4\u65b0\u56de\u8c03 Code\uff1a"+e.getEventCode()+" ERROR_NO_LOCAL_MANIFEST \u6ca1\u6709\u627e\u5230\u672c\u5730\u8d44\u6e90\u5305\u5185\u7684 Manifest"),t=!1;break;case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:o.gg.logger.log("\u70ed\u66f4\u65b0\uff1a\u66f4\u65b0\u56de\u8c03 Code\uff1a"+e.getEventCode()+" ERROR_DOWNLOAD_MANIFEST \u4e0b\u8f7d\u8fdc\u7a0b\u7684 Manifest \u5931\u8d25"),t=!1;break;case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:o.gg.logger.log("\u70ed\u66f4\u65b0\uff1a\u66f4\u65b0\u56de\u8c03 Code\uff1a"+e.getEventCode()+" ERROR_PARSE_MANIFEST \u89e3\u6790\u8fdc\u7a0b\u7684 Manifest \u5931\u8d25"),t=!1;break;case jsb.EventAssetsManager.ALREADY_UP_TO_DATE:o.gg.logger.log("\u70ed\u66f4\u65b0\uff1a\u66f4\u65b0\u56de\u8c03 Code\uff1a"+e.getEventCode()+" ALREADY_UP_TO_DATE \u5df2\u7ecf\u66f4\u65b0\u5230\u6700\u65b0\u7248\u672c"),t=!1;break;case jsb.EventAssetsManager.NEW_VERSION_FOUND:o.gg.logger.log("\u70ed\u66f4\u65b0\uff1a\u66f4\u65b0\u56de\u8c03 Code\uff1a"+e.getEventCode()+" NEW_VERSION_FOUND \u53d1\u73b0\u65b0\u7248\u672c");break;case jsb.EventAssetsManager.ERROR_DECOMPRESS:o.gg.logger.log("\u70ed\u66f4\u65b0\uff1a\u66f4\u65b0\u56de\u8c03 Code\uff1a"+e.getEventCode()+" ERROR_DECOMPRESS \u6709\u8d44\u6e90\u89e3\u538b\u5931\u8d25 "+e.getMessage());break;case jsb.EventAssetsManager.UPDATE_PROGRESSION:var n=e.getDownloadedBytes();(null==n||n<=0)&&(n=0);var i=e.getTotalBytes();(null==i||i<=0)&&(i=0);var a=0;i>0&&(a=parseFloat((n/i).toFixed(4)));var r=(100*a).toFixed(2);o.gg.logger.log("\u70ed\u66f4\u65b0\uff1a\u66f4\u65b0\u56de\u8c03 Code\uff1a"+e.getEventCode()+" UPDATE_PROGRESSION \u8d44\u6e90\u4e0b\u8f7d\u4e2d "+r+"% fileProgress: "+e.getDownloadedFiles()+"/"+e.getTotalFiles()+" byteProgress: "+e.getDownloadedBytes()+"/"+e.getTotalBytes()+" assetId: "+e.getAssetId()+" msg: "+e.getMessage()),this._option.onHotUpdateProgressCallBack(e.getDownloadedBytes(),e.getTotalBytes());break;case jsb.EventAssetsManager.ASSET_UPDATED:o.gg.logger.log("\u70ed\u66f4\u65b0\uff1a\u66f4\u65b0\u56de\u8c03 Code\uff1a"+e.getEventCode()+" ASSET_UPDATED \u6709\u8d44\u6e90\u4e0b\u8f7d\u6210\u529f");break;case jsb.EventAssetsManager.ERROR_UPDATING:o.gg.logger.log("\u70ed\u66f4\u65b0\uff1a\u66f4\u65b0\u56de\u8c03 Code\uff1a"+e.getEventCode()+" ERROR_UPDATING \u6709\u8d44\u6e90\u4e0b\u8f7d\u5931\u8d25 "+e.getMessage());break;case jsb.EventAssetsManager.UPDATE_FAILED:o.gg.logger.log("\u70ed\u66f4\u65b0\uff1a\u66f4\u65b0\u56de\u8c03 Code\uff1a"+e.getEventCode()+" UPDATE_FAILED \u66f4\u65b0\u5931\u8d25 "+e.getMessage()),t=!1,this._canRetry=!0;break;case jsb.EventAssetsManager.UPDATE_FINISHED:o.gg.logger.log("\u70ed\u66f4\u65b0\uff1a\u66f4\u65b0\u56de\u8c03 Code\uff1a"+e.getEventCode()+" UPDATE_FINISHED \u66f4\u65b0\u6210\u529f "+e.getMessage()),t=!0;break;default:return void o.gg.logger.log("\u70ed\u66f4\u65b0\uff1a\u66f4\u65b0\u56de\u8c03 Code\uff1a"+e.getEventCode()+" \u51fa\u73b0\u672a\u5b9a\u4e49\u7684\u4ee3\u7801")}null!=t&&(this._assetManager.setEventCallback(null),this._updating=!1,t?(o.gg.logger.log("\u70ed\u66f4\u65b0\uff1a\u6210\u529f"),this._option.onHotUpdateResultCallBack(!0)):(o.gg.logger.log("\u70ed\u66f4\u65b0\uff1a\u5931\u8d25"),this._option.onHotUpdateResultCallBack(!1)))},e.prototype.restartGame=function(){o.gg.logger.log("\u70ed\u66f4\u65b0\uff1a\u5373\u5c06\u91cd\u542f\u6e38\u620f");var e=jsb.fileUtils.getSearchPaths(),t=this._assetManager.getLocalManifest().getSearchPaths();Array.prototype.unshift.apply(e,t),cc.sys.localStorage.setItem("HotUpdateSearchPaths",JSON.stringify(e)),jsb.fileUtils.setSearchPaths(e),o.gg.logger.log("\u70ed\u66f4\u65b0\uff1a\u63d2\u5165\u65b0\u7684\u8d44\u6e90\u641c\u7d22\u8def\u5f84\uff1a"+JSON.stringify(t)),o.gg.logger.log("\u70ed\u66f4\u65b0\uff1a\u5f53\u524d\u8d44\u6e90\u641c\u7d22\u987a\u5e8f\uff1a"+e),o.gg.logger.log("\u70ed\u66f4\u65b0\uff1a\u91cd\u542f\u6e38\u620f"),this.destroy(),cc.game.restart()},e.prototype.retry=function(){!this._updating&&this._canRetry&&(this._canRetry=!1,this._assetManager.downloadFailedAssets())},e}();n.default=i,cc._RF.pop()},{"../gg":"gg"}],HttpClient:[function(e,t,n){"use strict";cc._RF.push(t,"21e6euWZSdAUqK4xGEvfNyh","HttpClient");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.HttpClient=void 0;var i=e("../common/LogBase"),a=e("../common/Tools"),r=e("../core/RunData"),s=e("./MyHttpRequest"),l=e("../laya/Laya"),c=l.Laya.Event,u=l.Laya.HttpRequest,p=l.Laya.Browser,h=o(e("md5")),d=function(){function e(){this._proxyHandler=null,this.request=new u,this.request.on(c.COMPLETE,this,this.onComplete),this.request.on(c.ERROR,this,this.onError),this.cacheMsg=[],this.cachePayMsg=[],this.isFree=!0}return e.get=function(t,n,o,i){var a=new u;a.on(c.COMPLETE,e,e.requestComplete,[a,i,o]),a.on(c.ERROR,e,e.requestComplete,[a,i,o]),a.send(t,n,"get")},e.post=function(t,n,o,i){var a=new u;a.on(c.COMPLETE,e,e.requestComplete,[a,i,o]),a.on(c.ERROR,e,e.requestComplete,[a,i,o]),a.send(t,n,"post")},e.formatRequestUrl=function(t,n,o,i){return void 0===o&&(o=!0),void 0===i&&(i=!1),n.hasOwnProperty("time")||(n.time=Math.floor(r.RunData.getTime()/1e3)),o&&!n.hasOwnProperty("sign")&&(n.sign=h.default(e.jsonParamToString(n)+"&"+e.REQUEST_KEY)),t+"?"+e.jsonParamToString(n)},e.checkURLValidity=function(t){var n=a.BrowserUtil.getUrlParams(t);if(null==n.get("sign"))return i.LogBase.error("\u5730\u5740\u7f3a\u5c11'sign'\u53c2\u6570"),!1;for(var o=n.keys,r=n.values,s={},l=0;l<o.length;l++)"sign"!=o[l]&&(s[o[l]]=r[l]);return h.default(e.jsonParamToString(s)+"&"+e.REQUEST_KEY)==n.get("sign")},e.decryptData=function(t,n){return void 0===n&&(n=""),""==n&&(n=e.CONTENT_DES_KEY),a.DES.decryptBase64_CBC(t,n)},e.requestServiceByJSONP=function(e,t,n,o,i){void 0===o&&(o=!0),void 0===i&&(i=!1);var a=this.getNewRequestItem();if(null==t&&(t={}),t.hasOwnProperty("callBack"))throw new Error("param\u91cc\u4e0d\u80fd\u6709callBack\u5c5e\u6027");t.callBack=this.responseJSONP,a.url=this.formatRequestUrl(e,t,o,i),this.jsonpRequestList.push(a),this.waittingJsonpResponse||this.requestNextJSONP()},e.RequestService=function(t,n,o,a,l,c,u,p){void 0===a&&(a=!0),void 0===l&&(l=!1),void 0===c&&(c=!1),void 0===u&&(u=!1),void 0===p&&(p=!1),n.hasOwnProperty("time")||(n.time=Math.floor(r.RunData.getTime()/1e3)),n.hasOwnProperty("language")||(n.language=r.RunData.languageid),n.hasOwnProperty("token")||null==r.RunData.myUserInfo||(n.token=r.RunData.myUserInfo.szToken),a&&!n.hasOwnProperty("sign")&&(n.sign=e.jsonParamToSign(n,u));var h=t,d=e.jsonParamToString(n);c&&i.LogBase.log(h+"?"+d);var f=new s.MyHttpRequest;f.Init(o,l,p),f.mySend(h+"?"+d,null,"get"),p&&(f.http.responseType="blob"),i.LogBase.log("requestUrl:",h+"?"+d)},e.jsonParamToString=function(e){var t=[];for(var n in e)t.push(n);t.sort();for(var o="",i=0;i<t.length;i++)o+=t[i]+"="+e[t[i]],i<t.length-1&&(o+="&");return o},e.requestComplete=function(e,t,n){e.offAll(),t.call(n,e.data)},e.getNewRequestItem=function(){return this.requestItemPools.length>0?this.requestItemPools.pop():new f},e.recoverRequestItem=function(e){e.url="",e.callBack=null,this.requestItemPools.push(e)},e.requestNextJSONP=function(){if(0!=this.jsonpRequestList.length){var e=p.document.getElementById(this.JSONP_SCRIPT_ID);e&&e.remove(),(e=p.document.createElement("script")).id=this.JSONP_SCRIPT_ID,e.type="text/javascript",e.src=this.jsonpRequestList[0].url,p.document.getElementsByTagName("head")[0].appendChild(e)}else this.waittingJsonpResponse=!1},e.responseJSONP=function(e){var t=this.jsonpRequestList.shift();t.callBack.runWith(e),this.recoverRequestItem(t),this.requestNextJSONP()},e.responeService=function(e,t,n){if(e.offAll(),null!=t){var o=e.data;o&&n&&(o=this.decryptData(o)),console.debug(o),t.runWith(o)}},e.errorService=function(e,t,n,o){i.LogBase.error("http errorService",n,e,o),e.offAll(),null!=t&&t.runWith(e.data)},e.jsonParamToSign=function(t,n){var o=[];for(var i in t)o.push(i);o.sort();for(var a="",r=0;r<o.length;r++)""==t[o[r]]&&n||(t[o[r]],a+=o[r]+"="+t[o[r]],r<o.length-1&&(a+="&"));return h.default(a+"&"+e.REQUEST_KEY)},e.prototype.load=function(t,n){var o={};o.protocol=t,o.data=JSON.stringify(n),o.timestamp=String(e.timestampServer+Math.round(p.now()/1e3)-e.timestampClient);var i=t.toString();i+=o.data,i+=o.timestamp,o.sign=h.default(i);var a=JSON.stringify(o);this.isFree?this.runLoad(a):this.cacheMsg.push(a)},e.prototype.onComplete=function(){i.LogBase.log("http msg result:"+JSON.stringify(this.request.data))},e.prototype.onError=function(e){i.LogBase.error("HttpClient onError:",this.request,e)},e.prototype.runLoad=function(e){this.isFree=!1,this.tmpMsg=e,i.LogBase.log("http send msg:"+e),this.request.send("RunData.httpURL",e,"post","json",["Content-type","application/json"])},e.prototype.runLoadPay=function(e){this.isFree=!1,this.tmpMsg=e,i.LogBase.log("http send pay msg:"+e),this.request.send("RunData.httpPayURL",e,"post","json",["Content-type","application/json"])},e.prototype.checkNext=function(){this.cacheMsg.length<=0&&this.cachePayMsg.length<=0?this.isFree=!0:this.cachePayMsg.length>0?this.runLoadPay(this.cachePayMsg.shift()):this.runLoad(this.cacheMsg.shift())},e.REQUEST_KEY="",e.CONTENT_DES_KEY="",e.clinentIP="",e.timestampClient=0,e.timestampServer=0,e.timestampPayClient=0,e.timestampPayServer=0,e.JSONP_SCRIPT_ID="serviceJSONP",e.jsonpRequestList=[],e.requestItemPools=[],e.waittingJsonpResponse=!1,e}();n.HttpClient=d;var f=function(){};cc._RF.pop()},{"../common/LogBase":"LogBase","../common/Tools":"Tools","../core/RunData":"RunData","../laya/Laya":"Laya","./MyHttpRequest":"MyHttpRequest",md5:44}],HttpInterface:[function(e,t,n){"use strict";cc._RF.push(t,"fe48fa8+axKJauzoK18JYES","HttpInterface"),Object.defineProperty(n,"__esModule",{value:!0}),n.HttpMethodEnum=n.HttpError=void 0;var o=function(){function e(e,t){this.name=e,this.message=t}return e.TimeOutError=new e("Http Timeout"),e.Error=new e("Http Error"),e.FillHeadersFailed=new e("Fill Headers Failed"),e.FillCommonParamsFailed=new e("Fill common params Failed"),e.EncryptFailed=new e("Encrypt Failed"),e.SignGenerateFailed=new e("Signature Generate Failed"),e.ConversionFailed=new e("Conversion Failed"),e.SignVerificationFailed=new e("Signature Verification Failed"),e.DecryptFailed=new e("Decrypt Failed"),e}();n.HttpError=o,function(e){e.GET="GET",e.POST="POST"}(n.HttpMethodEnum||(n.HttpMethodEnum={})),cc._RF.pop()},{}],HttpRequest:[function(e,t,n){"use strict";cc._RF.push(t,"50798Xz8D9F/7jmNiOfxvqr","HttpRequest");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.HttpRequest=void 0;var a=e("../events/Event"),r=e("../events/EventDispatcher"),s=e("../utils/Browser"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._http=new XMLHttpRequest,t}return i(t,e),t.prototype.send=function(e,n,o,i,a){var r=this;void 0===n&&(n=null),void 0===o&&(o="get"),void 0===i&&(i="text"),this._responseType=i,this._data=null,(s.Browser.onVVMiniGame||s.Browser.onQGMiniGame||s.Browser.onQQMiniGame||s.Browser.onAlipayMiniGame||s.Browser.onBLMiniGame||s.Browser.onHWMiniGame||s.Browser.onTTMiniGame||s.Browser.onTBMiniGame)&&(e=t._urlEncode(e)),this._url=e;var l=this._http;if(l.open(o,e,!0),n?"string"==typeof n?l.setRequestHeader("Content-Type","application/x-www-form-urlencoded"):(l.setRequestHeader("Content-Type","application/json"),n instanceof ArrayBuffer||(n=JSON.stringify(n))):s.Browser.onBLMiniGame&&s.Browser.onAndroid&&(n={}),a)for(var c=0;c<a.length;c++)l.setRequestHeader(a[c++],a[c]);var u="arraybuffer"!==i?"text":"arraybuffer";l.responseType=u,l.dataType&&(l.dataType=u),l.onerror=function(e){r._onError(e)},l.onabort=function(e){r._onAbort(e)},l.onprogress=function(e){r._onProgress(e)},l.onload=function(e){r._onLoad(e)},l.send(n)},t.prototype._onProgress=function(e){e&&e.lengthComputable&&this.event(a.Event.PROGRESS,e.loaded/e.total)},t.prototype._onAbort=function(){this.error("Request was aborted by user")},t.prototype._onError=function(){this.error("Request failed Status:"+this._http.status+" text:"+this._http.statusText)},t.prototype._onLoad=function(){var e=this._http,t=void 0!==e.status?e.status:200;200===t||204===t||0===t?this.complete():this.error("["+e.status+"]"+e.statusText+":"+e.responseURL)},t.prototype.error=function(e){this.clear(),this.event(a.Event.ERROR,e)},t.prototype.complete=function(){this.clear();var e=!0;try{"json"===this._responseType?this._data=JSON.parse(this._http.responseText):(this._responseType,this._data=this._http.response||this._http.responseText)}catch(t){e=!1,this.error(t.message)}e&&this.event(a.Event.COMPLETE,this._data instanceof Array?[this._data]:this._data)},t.prototype.clear=function(){var e=this._http;e.onerror=e.onabort=e.onprogress=e.onload=null},Object.defineProperty(t.prototype,"url",{get:function(){return this._url},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"http",{get:function(){return this._http},enumerable:!1,configurable:!0}),t.prototype.reset=function(){this.offAll(),this._data=null},t._urlEncode=encodeURI,t}(r.EventDispatcher);n.HttpRequest=l,cc._RF.pop()},{"../events/Event":"Event","../events/EventDispatcher":"EventDispatcher","../utils/Browser":"Browser"}],I18nConfig:[function(e,t,n){"use strict";cc._RF.push(t,"e07a137bWFO3qtRK5s83JBR","I18nConfig"),Object.defineProperty(n,"__esModule",{value:!0}),n.I18nConfig=void 0,n.I18nConfig={languages:[{code:"en",name:"English"},{code:"ar",name:"\u0639\u0631\u0628\u064a"}]},cc._RF.pop()},{}],I18nEvent:[function(e,t,n){"use strict";cc._RF.push(t,"84e9axlKbJLB4gA4RAdSvdq","I18nEvent"),Object.defineProperty(n,"__esModule",{value:!0}),n.I18nEvent=void 0,(n.I18nEvent||(n.I18nEvent={})).OnLanguangeChanged="I18nEvent.OnLanguangeChanged",cc._RF.pop()},{}],I18nLabel:[function(e,t,n){"use strict";cc._RF.push(t,"32534+Tc+BM3LR2X4xp4vsm","I18nLabel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../gg"),s=e("./I18n"),l=e("./I18nEvent"),c=cc._decorator,u=c.ccclass,p=c.executeInEditMode,h=c.property,d=c.disallowMultiple,f=c.requireComponent,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._i18nString="",t._label=null,t}return i(t,e),Object.defineProperty(t.prototype,"string",{get:function(){return this._i18nString},set:function(e){this._i18nString=e,this._updateLabel()},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){this._label=this.getComponent(cc.Label)},t.prototype.onEnable=function(){this._updateLabel(),r.gg.eventManager.on(l.I18nEvent.OnLanguangeChanged,this._onLanguageChanged,this)},t.prototype.onDisable=function(){r.gg.eventManager.offTarget(this)},t.prototype._onLanguageChanged=function(){this._updateLabel()},t.prototype._updateLabel=function(){var e=s.i18n.getText(this.string);this._label.string=""==e?this.string:e},a([h({visible:!1})],t.prototype,"_i18nString",void 0),a([h({tooltip:"\u6587\u672c\uff0c\u5982\u679c\u6b64\u503c\u5728\u8bed\u8a00\u5305\u4e2d\uff0c\u90a3\u4e48\u4f1a\u66ff\u6362\u4e3a\u8bed\u8a00\u5305\u4e2d\u7684\u503c"})],t.prototype,"string",null),a([u,p(),f(cc.Label),d],t)}(cc.Component);n.default=g,cc._RF.pop()},{"../gg":"gg","./I18n":"I18n","./I18nEvent":"I18nEvent"}],I18nRichText:[function(e,t,n){"use strict";cc._RF.push(t,"e8f8epI9HJIJo1BZhuHM2gD","I18nRichText");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../gg"),s=e("./I18n"),l=e("./I18nEvent"),c=cc._decorator,u=c.ccclass,p=c.executeInEditMode,h=c.property,d=c.disallowMultiple,f=c.requireComponent,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._i18nString="",t}return i(t,e),Object.defineProperty(t.prototype,"string",{get:function(){return this._i18nString},set:function(e){this._i18nString=e,this._updateLabel()},enumerable:!1,configurable:!0}),t.prototype.onEnable=function(){this._updateLabel(),r.gg.eventManager.on(l.I18nEvent.OnLanguangeChanged,this._onLanguageChanged,this)},t.prototype.onDisable=function(){r.gg.eventManager.offTarget(this)},t.prototype._onLanguageChanged=function(){this._updateLabel()},t.prototype._updateLabel=function(){var e=this.getComponent(cc.RichText);if(cc.isValid(e)){var t=s.i18n.getText(this.string);e.string=""==t?this.string:t}},a([h({visible:!1})],t.prototype,"_i18nString",void 0),a([h({tooltip:"\u6587\u672c\uff0c\u5982\u679c\u6b64\u503c\u5728\u8bed\u8a00\u5305\u4e2d\uff0c\u90a3\u4e48\u4f1a\u66ff\u6362\u4e3a\u8bed\u8a00\u5305\u4e2d\u7684\u503c"})],t.prototype,"string",null),a([u,p(),f(cc.RichText),d],t)}(cc.Component);n.default=g,cc._RF.pop()},{"../gg":"gg","./I18n":"I18n","./I18nEvent":"I18nEvent"}],I18nSprite:[function(e,t,n){"use strict";cc._RF.push(t,"5a006jWxLFBQ6Oij+Te9/XX","I18nSprite");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../gg"),s=e("./I18n"),l=e("./I18nEvent"),c=cc._decorator,u=c.ccclass,p=c.property,h=c.executeInEditMode,d=c.disallowMultiple,f=c.requireComponent,g=(c.menu,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._i18nString="",t._sprite=null,t}return i(t,e),Object.defineProperty(t.prototype,"string",{get:function(){return this._i18nString},set:function(e){this._i18nString=e,this._updateSprite()},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){this._sprite=this.getComponent(cc.Sprite)},t.prototype.onEnable=function(){this._updateSprite(),r.gg.eventManager.on(l.I18nEvent.OnLanguangeChanged,this._onLanguageChanged,this)},t.prototype.onDisable=function(){r.gg.eventManager.offTarget(this)},t.prototype._onLanguageChanged=function(){this._updateSprite()},t.prototype._updateSprite=function(){var e=this;s.i18n.loadSpriteFrame(this.string).then(function(t){cc.isValid(e._sprite)&&(e._sprite.spriteFrame=t)}).catch(function(){e._sprite.spriteFrame=null})},a([p({visible:!1})],t.prototype,"_i18nString",void 0),a([p({tooltip:"\u6587\u672c\uff0c\u5982\u679c\u6b64\u503c\u5728\u8bed\u8a00\u5305\u4e2d\uff0c\u90a3\u4e48\u4f1a\u66ff\u6362\u4e3a\u8bed\u8a00\u5305\u4e2d\u7684\u503c",type:cc.String})],t.prototype,"string",null),a([u,h,f(cc.Sprite),d],t)}(cc.Component));n.default=g,cc._RF.pop()},{"../gg":"gg","./I18n":"I18n","./I18nEvent":"I18nEvent"}],I18n:[function(e,t,n){"use strict";cc._RF.push(t,"704faOO7eRNX4+3AvZGYhCu","I18n");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.i18n=void 0;var r=a(e("../asset/AssetLoader")),s=e("../gg"),l=e("./I18nEvent"),c=function(){function e(){this.languageCode="ar",this.languagePackageJson=null,this._isLoadingLabel=!1}return e.prototype.setLanguageCode=function(e){return o(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return this.languageCode=e,this.languagePackageJson=null,[4,this._loadI18nLabel()];case 1:return t.sent()?[4,this._loadI18nSpriteFrame()]:[2,!1];case 2:return t.sent()?(s.gg.eventManager.emit(l.I18nEvent.OnLanguangeChanged),[2,!0]):[2,!1]}})})},e.prototype._loadI18nLabel=function(){var e;return o(this,void 0,void 0,function(){var t,n,o=this;return i(this,function(i){switch(i.label){case 0:if(this.languagePackageJson)return[2];if(this._isLoadingLabel)return[2];this._isLoadingLabel=!0,this.languageCode,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,new Promise(function(e,t){cc.resources.load("i18n/label/"+o.languageCode,cc.JsonAsset,null,function(n,o){if(n)return s.gg.logger.error(n),void t(n);e(o)})})];case 2:return t=i.sent(),this._isLoadingLabel=!1,(n=null!==(e=null==t?void 0:t.json)&&void 0!==e?e:null)?(this.languagePackageJson=n,[2,!0]):[2,!1];case 3:return i.sent(),this._isLoadingLabel=!1,[2,!1];case 4:return[2]}})})},e.prototype._loadI18nSpriteFrame=function(){return o(this,void 0,void 0,function(){var e;return i(this,function(t){switch(t.label){case 0:e="resources/i18n/sprite/"+this.languageCode,t.label=1;case 1:return t.trys.push([1,3,,4]),[4,r.default.loadBundleDir(e,cc.SpriteFrame)];case 2:return t.sent(),[2,!0];case 3:return t.sent(),[2,!1];case 4:return[2]}})})},e.prototype.getText=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!e)return cc.warn("I18n: \u83b7\u53d6\u591a\u8bed\u8a00\u6587\u672c\u65f6\uff0ckey \u65e0\u6548"),"";if(!this.languagePackageJson)return cc.warn("I18n: \u5f53\u524d\u8fd8\u6ca1\u6709\u52a0\u8f7d "+this.languageCode+" \u7684\u8bed\u8a00\u5305"),e;for(var o=e.split("."),i=this.languagePackageJson,a=0;a<o.length-1;a++){if(!i.hasOwnProperty(o[a]))return e;i=i[o[a]]}var r=i[o[o.length-1]];return"string"==typeof r?null==t||0==t.length?r:r.replace(/\{(\d+)\}/g,function(e,n){return t[parseInt(n)-1]}):e},e.prototype.loadSpriteFrame=function(e){return o(this,void 0,Promise,function(){var t,n;return i(this,function(o){switch(o.label){case 0:return t="resources/i18n/sprite/"+this.languageCode+"/"+e,[4,r.default.loadBundleAsset(t,cc.SpriteFrame)];case 1:return null==(n=o.sent())?[2,null]:[2,n]}})})},e}();n.i18n=new c,cc._RF.pop()},{"../asset/AssetLoader":"AssetLoader","../gg":"gg","./I18nEvent":"I18nEvent"}],IClone:[function(e,t,n){"use strict";cc._RF.push(t,"96d3fPjr3pN9rii+OUlg7MA","IClone"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],IComparable:[function(e,t,n){"use strict";cc._RF.push(t,"7b3d417a4ZIIrf2CYPmCnnp","IComparable");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.IComparNumber=n.IComparArray=n.IComparString=n.IComparable=void 0;var a=function(){function e(){}return e.prototype.readData=function(){},e.prototype.writeData=function(){},e}();n.IComparable=a;var r=function(e){function t(t){var n=e.call(this)||this;return n.data=t,n}return i(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.data},set:function(e){this.data=e},enumerable:!1,configurable:!0}),t}(a);n.IComparString=r;var s=function(e){function t(t){var n=e.call(this)||this;return n.data=t,n}return i(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.data},set:function(e){this.data=e},enumerable:!1,configurable:!0}),t}(a);n.IComparArray=s;var l=function(e){function t(t){var n=e.call(this)||this;return n.data=t,n}return i(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.data},set:function(e){this.data=e},enumerable:!1,configurable:!0}),t}(a);n.IComparNumber=l,cc._RF.pop()},{}],ICom:[function(e,t,n){"use strict";cc._RF.push(t,"70bfftIf7BMZbh9AX3VwN/n","ICom");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.ICom=void 0;var a=e("./IComparable"),r=e("../laya/utils/Byte");(function(e){var t=function(e){function t(t){return void 0===t&&(t=0),e.call(this,t)||this}return i(t,e),t.prototype.fromValue=function(e){this.value=e},t.prototype.readData=function(e){return console.log("icombyte---------",e),this.value=e.readFloat64(),this.value},t.prototype.writeData=function(e){e.writeFloat64(this.value)},t}(a.IComparNumber);e.Float64=t;var n=function(e){function t(t){return void 0===t&&(t=0),e.call(this,t)||this}return i(t,e),t.prototype.readData=function(e){return this.value=e.readFloat32(),this.value},t.prototype.writeData=function(e){e.writeFloat32(this.value)},t}(a.IComparNumber);e.Float32=n;var o=function(e){function t(t){return void 0===t&&(t=0),e.call(this,t)||this}return i(t,e),t.prototype.readData=function(e){var n,o;return e.endian==r.Byte.LITTLE_ENDIAN?(n=e.getInt32(),o=e.getInt32()):(o=e.getInt32(),n=e.getInt32()),this.value=o*t.TWO_PWR_32_DBL+(n>>>0),this.value},t.prototype.writeData=function(e){var n,o,i=!1;this.value<0&&(this.value=-this.value-1,i=!0),n=this.value%t.TWO_PWR_32_DBL|0,o=this.value/t.TWO_PWR_32_DBL|0,i&&(n^=4294967295,o^=4294967295),e.endian==r.Byte.LITTLE_ENDIAN?(e.writeUint32(n),e.writeUint32(o)):(e.writeUint32(o),e.writeUint32(n))},t.TWO_PWR_16_DBL=65536,t.TWO_PWR_32_DBL=t.TWO_PWR_16_DBL*t.TWO_PWR_16_DBL,t}(a.IComparNumber);e.Int64=o;var s=function(e){function t(t){return void 0===t&&(t=0),e.call(this,t)||this}return i(t,e),t.prototype.readData=function(e){var n,o;return e.endian==r.Byte.LITTLE_ENDIAN?(n=e.getUint32(),o=e.getUint32()):(o=e.getUint32(),n=e.getUint32()),this.value=(o>>>0)*t.TWO_PWR_32_DBL+(n>>>0),this.value},t.prototype.writeData=function(e){this.value<0&&(this.value=0);var n=this.value%t.TWO_PWR_32_DBL|0,o=this.value/t.TWO_PWR_32_DBL|0;e.endian==r.Byte.LITTLE_ENDIAN?(e.writeUint32(n),e.writeUint32(o)):(e.writeUint32(o),e.writeUint32(n))},t.TWO_PWR_16_DBL=65536,t.TWO_PWR_32_DBL=t.TWO_PWR_16_DBL*t.TWO_PWR_16_DBL,t}(a.IComparNumber);e.Uint64=s;var l=function(e){function t(t){return void 0===t&&(t=0),e.call(this,t)||this}return i(t,e),t.prototype.readData=function(e){return this.value=e.readInt32(),this.value},t.prototype.writeData=function(e){e.writeInt32(this.value)},t}(a.IComparNumber);e.Int32=l;var c=function(e){function t(t){return void 0===t&&(t=0),e.call(this,t)||this}return i(t,e),t.prototype.readData=function(e){return this.value=e.readUint32(),this.value},t.prototype.writeData=function(e){e.writeUint32(this.value)},t}(a.IComparNumber);e.Uint32=c;var u=function(e){function t(t){return void 0===t&&(t=0),e.call(this,t)||this}return i(t,e),t.prototype.readData=function(e){return this.value=e.readInt16(),this.value},t.prototype.writeData=function(e){e.writeInt16(this.value)},t}(a.IComparNumber);e.Int16=u;var p=function(e){function t(t){return void 0===t&&(t=0),e.call(this,t)||this}return i(t,e),t.prototype.readData=function(e){return this.value=e.readUint16(),this.value},t.prototype.writeData=function(e){e.writeUint16(this.value)},t}(a.IComparNumber);e.Uint16=p;var h=function(e){function t(t){return void 0===t&&(t=0),e.call(this,t)||this}return i(t,e),t.prototype.readData=function(e){return this.value=e.readUint8(),this.value},t.prototype.writeData=function(e){e.writeUint8(this.value)},t}(a.IComparNumber);e.Bytes=h;var d=function(e){function t(t){void 0===t&&(t=0);var n=e.call(this,"")||this;return n.lens=t,n}return i(t,e),t.prototype.readData=function(e){return this.value=0==this.lens?e.getUTFString():e.getUTFBytes(this.lens),this.value},t.prototype.writeData=function(e){if(null!=this.value||this.lens>0)if(this.lens>0){var t=e.length+this.lens;e.writeUTFBytes(this.value),e.length=t,e.pos=e.length}else e.writeUTFString(this.value);else e.writeUint16(0)},t}(a.IComparString);e.String=d;var f=function(e){function t(t){var n=e.call(this,null)||this;return n.aType=t,n}return i(t,e),t.prototype.readData=function(e){return this.value=v(this.aType,e),this.value},t.prototype.writeData=function(e){y(this.aType,this.value,e)},t}(a.IComparArray);e.ClassTb=f;var g=function(e){function t(t,n,o){void 0===o&&(o=null);var i=e.call(this,null)||this;return i.aType=new t(null),i.lens=n,i.lenType=null!=o?new o:null,i}return i(t,e),t.prototype.readData=function(e){null!=this.lenType&&(this.lens=this.lenType.readData(e));for(var t=[],n=0;n<this.lens;n++)this.aType.readData(e),t[n]=this.aType.value;return this.value=t,this.value},t.prototype.writeData=function(e){if(this.value.length>0||this.lens>0){0==this.lens&&e.writeUint16(this.value.length);for(var t=0;t<this.value.length;t++)this.aType.value=this.value[t],this.aType.writeData(e)}else e.writeUint16(0)},t}(a.IComparArray);e.ArrayNumber=g;var m=function(e){function t(t,n,o){void 0===o&&(o=null);var i=e.call(this,null)||this;return i.aType=t,i.lens=n,i.lenType=null!=o?new o:null,i}return i(t,e),t.prototype.readData=function(e){return null!=this.lenType&&(this.lens=this.lenType.readData(e)),this.value=b(this.aType,e,this.lens),this.value},t.prototype.writeData=function(e){_(this.value,this.aType,e,this.lens)},t}(a.IComparArray);function y(e,t,n){var o;for(o in e){e[o].value=t[o];var i=e[o];i instanceof a.IComparable&&i.writeData(n)}return n}function _(e,t,n,o){if(void 0===o&&(o=0),null!=e&&e.length>0||o>0){0==o&&n.writeUint16(e.length);for(var i=0;i<e.length;i++)y(t,e[i],n)}else n.writeUint16(0);return n}function v(e,t){var n,o=new e;for(n in e){var i=e[n];i instanceof a.IComparable&&(o[n]=i.readData(t))}return o}function b(e,t,n){for(var o=[],i=0;i<n;i++)o[i]=v(e,t);return o}e.ArrayTable=m,e.Serialize=y,e.SerializeList=_,e.Deserialize=v,e.DeserializeList=b;var S=function(){function e(){}return e.ReadFrom=function(e){return v(this,e)},e.WriteFrom=function(e){return y(this,e,new r.Byte)},e}();e.BaseMessage=S;var C=function(){function e(){}return e.long=new o(0),e.ulong=new s(0),e.int=new l(0),e.uint=new c(0),e.short=new u(0),e.ushort=new p(0),e.double=new t(0),e.float=new n(0),e.byte=new h(0),e.string=new d(0),e}();e.bit=C})(n.ICom||(n.ICom={})),cc._RF.pop()},{"../laya/utils/Byte":"Byte","./IComparable":"IComparable"}],IHitArea:[function(e,t,n){"use strict";cc._RF.push(t,"85014CRLNhFx48yhkujJqFU","IHitArea"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],IList:[function(e,t,n){"use strict";cc._RF.push(t,"32418BFjZNB1JKaJ2EMMazX","IList"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],IMPanelBigGiftWordMessageItem:[function(e,t,n){"use strict";cc._RF.push(t,"47e80FOO+NF7Y7mKp7AFn/p","IMPanelBigGiftWordMessageItem");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.BigGiftUserInfo=void 0;var u=c(e("../../../../components/scrollviewplus/ScrollViewPlusItemComponent")),p=e("../../../../configs/CommonPanelConfig"),h=l(e("../../../../framework/components/adapter/SpriteScaleAdapterComponent")),d=e("../../../../framework/gg"),f=e("../../../../framework/i18n/I18n"),g=c(e("../../../../framework/utils/StringUtils")),m=e("../../../../systems/item/ItemSystem"),y=e("../../../../systems/user/UserUISystem"),_=cc._decorator,v=_.ccclass,b=_.property,S=function(){function e(){this.nameLabel=null,this.iconSprite=null}return s([b({type:cc.Label,tooltip:"\u73a9\u5bb6\u540d\u5b57"})],e.prototype,"nameLabel",void 0),s([b({type:cc.Sprite,tooltip:"\u73a9\u5bb6\u5934\u50cf"})],e.prototype,"iconSprite",void 0),s([v("BigGiftUserInfo")],e)}();n.BigGiftUserInfo=S;var C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.contentNode=null,t.spine=null,t.sendUserInfo=null,t.receiverUserInfo=null,t.giftLab=null,t.awIcon=null,t.info=null,t}return i(t,e),t.prototype.getData=function(){return this.info},t.prototype.bindData=function(e){this.info=e,this.spine.node.active=!1,this.updateGameContent(),this.updateUI()},t.prototype.updateGameContent=function(){this.contentNode.getComponent(cc.Widget).updateAlignment();var e=Math.abs(this.contentNode.position.y)+this.contentNode.height;this.node.height=e},t.prototype.updateUI=function(){var e=this;this.playAnim(),this.sendUserInfo.nameLabel.string=g.default.clampStr(this.info.bigGift.sender_nick,12),y.userUISystem.loadUserIconSprite(this.info.bigGift.sender_avatar).then(function(t){cc.isValid(e.sendUserInfo.iconSprite)&&(t.getTexture().packable=!0,e.sendUserInfo.iconSprite.spriteFrame=t,e.sendUserInfo.iconSprite.getComponent(h.default).updateSprite(h.SpriteScaleType.SUIT,h.SpriteAlignType.CENTER))}).catch(function(){d.gg.logger.log("\u5934\u50cf\u52a0\u8f7d\u5931\u8d25")}),this.receiverUserInfo.nameLabel.string=g.default.clampStr(this.info.bigGift.receiver_nick,12),y.userUISystem.loadUserIconSprite(this.info.bigGift.receiver_avatar).then(function(t){cc.isValid(e.receiverUserInfo.iconSprite)&&(t.getTexture().packable=!0,e.receiverUserInfo.iconSprite.spriteFrame=t,e.receiverUserInfo.iconSprite.getComponent(h.default).updateSprite(h.SpriteScaleType.SUIT,h.SpriteAlignType.CENTER))}).catch(function(){d.gg.logger.log("\u5934\u50cf\u52a0\u8f7d\u5931\u8d25")});var t=m.itemSystem.getItem(this.info.bigGift.item_id);t&&(this.giftLab.string=f.i18n.getText("bigGift.label.send")+t.item_name_ar,m.itemSystem.getItemIconInfo(this.info.bigGift.item_id).then(function(t){t&&(e.spine.skeletonData=t.spineData,e.spine.node.active=!0,e.spine.setAnimation(0,"animation",!0))}))},t.prototype.playAnim=function(){this.awIcon.stopAllActions(),this.awIcon.scaleX=0,this.awIcon.opacity=255,cc.tween(this.awIcon).repeatForever(cc.tween().to(.68,{scaleX:1},{easing:"sineOut"}).delay(1).to(.68,{opacity:0},{easing:"sineOut"}).to(0,{opacity:255,scaleX:0}).delay(1)).start()},t.prototype.onDisable=function(){e.prototype.onDisable.call(this)},t.prototype.onEnterScrollView=function(){this.node.opacity=255},t.prototype.onExitScrollView=function(){this.node.opacity=0},t.prototype.onPositionChange=function(){},t.prototype.onClickOpenSendUser=function(){d.gg.panelRouter.show({panel:p.CommonPanelConfig.userInfoPanel,data:{qurey_uid:this.info.bigGift.sender_uid,userName:this.info.bigGift.sender_nick,userIcon:this.info.bigGift.sender_avatar,userIconFrame:this.info.bigGift.sender_frame}})},t.prototype.onClickOpenReceiverUser=function(){d.gg.panelRouter.show({panel:p.CommonPanelConfig.userInfoPanel,data:{qurey_uid:this.info.bigGift.receiver_uid,player_id:Number(this.info.bigGift.receiver_player_id),userName:this.info.bigGift.receiver_nick,userIcon:this.info.bigGift.receiver_avatar,userIconFrame:this.info.bigGift.receiver_frame}})},s([b({type:cc.Node,tooltip:"\u5185\u5bb9\u8282\u70b9"})],t.prototype,"contentNode",void 0),s([b({type:sp.Skeleton,tooltip:"\u5927\u793c\u7269spine"})],t.prototype,"spine",void 0),s([b({type:S,tooltip:"\u53d1\u9001\u8005\u7528\u6237\u4fe1\u606f"})],t.prototype,"sendUserInfo",void 0),s([b({type:S,tooltip:"\u63a5\u6536\u8005\u7528\u6237\u4fe1\u606f"})],t.prototype,"receiverUserInfo",void 0),s([b({type:cc.Label,tooltip:"\u8d60\u9001\u4fe1\u606f"})],t.prototype,"giftLab",void 0),s([b({type:cc.Node,tooltip:"\u7bad\u5934"})],t.prototype,"awIcon",void 0),s([v],t)}(u.default);n.default=C,cc._RF.pop()},{"../../../../components/scrollviewplus/ScrollViewPlusItemComponent":"ScrollViewPlusItemComponent","../../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../../framework/components/adapter/SpriteScaleAdapterComponent":"SpriteScaleAdapterComponent","../../../../framework/gg":"gg","../../../../framework/i18n/I18n":"I18n","../../../../framework/utils/StringUtils":"StringUtils","../../../../systems/item/ItemSystem":"ItemSystem","../../../../systems/user/UserUISystem":"UserUISystem"}],IMPanelBigGifteMessageItem:[function(e,t,n){"use strict";cc._RF.push(t,"ad326w0kjlNeKAUe6hk8U8H","IMPanelBigGifteMessageItem");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=l(e("../../../../components/scrollviewplus/ScrollViewPlusItemComponent")),u=l(e("../../../../components/UserIconStyle1Component")),p=e("../../../../configs/CommonPanelConfig"),h=e("../../../../framework/gg"),d=e("../../../../systems/item/ItemSystem"),f=e("../../../../systems/user/UserSystem"),g=e("../../../../systems/user/UserUISystem"),m=cc._decorator,y=m.ccclass,_=m.property,v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iconComp=null,t.giftLab=null,t.spine=null,t.contentNode=null,t.vipSprite=null,t.info=null,t}return i(t,e),t.prototype.getData=function(){return this.info},t.prototype.bindData=function(e){var t,n,o;this.vipSprite.node.active=!1,this.info=e,this.spine.node.active=!1;var i=this.info.user_id;if(i==f.userSystem.userModel.uid)this.iconComp.getComponent(u.default).updateIcon(f.userSystem.userModel.userIcon),this.iconComp.getComponent(u.default).updateIconFrame(f.userSystem.userModel.userIconFrame),this._updataUserVip(null!==(t=f.userSystem.userModel.vipInfo)&&void 0!==t?t:null);else{var a=f.userSystem.otherUserCaches.get(i);a?(this.iconComp.getComponent(u.default).updateIcon(a.facelook),this.iconComp.getComponent(u.default).updateIconFrame(a.frame),this._updataUserVip(null!==(n=a.vip_info)&&void 0!==n?n:null)):(this.iconComp.getComponent(u.default).updateIcon(),this.iconComp.getComponent(u.default).updateIconFrame(),this.info.bigGift.sender_avatar&&this.info.bigGift.sender_frame&&(this.iconComp.getComponent(u.default).updateIcon(this.info.bigGift.sender_avatar),this.iconComp.getComponent(u.default).updateIconFrame(this.info.bigGift.sender_frame),this._updataUserVip(null!==(o=this.info.bigGift.sender_vip_info)&&void 0!==o?o:null)))}this.updateGameContent(),this.updateUI()},t.prototype._updataUserVip=function(e){return r(this,void 0,void 0,function(){var t;return s(this,function(n){switch(n.label){case 0:return e?(this.vipSprite.node.active=!0,t=this.vipSprite,[4,g.userUISystem.loadUserVipIcon(e.vip_level,e.vip_status)]):[3,2];case 1:return t.spriteFrame=n.sent(),[3,3];case 2:this.vipSprite.node.active=!1,n.label=3;case 3:return[2]}})})},t.prototype.updateUI=function(){var e=this,t=d.itemSystem.getItem(this.info.bigGift.item_id);t&&(this.giftLab.string=t.item_name_ar,d.itemSystem.getItemIconInfo(this.info.bigGift.item_id).then(function(t){t&&(e.spine.skeletonData=t.spineData,e.spine.node.active=!0,e.spine.setAnimation(0,"animation",!0))}))},t.prototype.updateGameContent=function(){this.contentNode.getComponent(cc.Widget).updateAlignment();var e=Math.abs(this.contentNode.position.y)+this.contentNode.height;this.node.height=e},t.prototype.onDisable=function(){e.prototype.onDisable.call(this)},t.prototype.onEnterScrollView=function(){this.node.opacity=255},t.prototype.onExitScrollView=function(){this.node.opacity=0},t.prototype.onPositionChange=function(){},t.prototype.onUserIconClick=function(){var e=this,t=this.info.user_id;if(t==f.userSystem.userModel.uid)h.gg.panelRouter.show({panel:p.CommonPanelConfig.userInfoPanel,data:{qurey_uid:t,userName:f.userSystem.userModel.userName,userIcon:f.userSystem.userModel.userIcon,userIconFrame:f.userSystem.userModel.userIconFrame}});else{var n=f.userSystem.otherUserCaches.get(t);n?h.gg.panelRouter.show({panel:p.CommonPanelConfig.userInfoPanel,data:{qurey_uid:t,userName:n.nick,userIcon:n.facelook,userIconFrame:n.frame}}):f.userSystem.searchUserAsync({uid:t}).then(function(n){null!=e.info&&1==n.status&&n.user.uid==t&&h.gg.panelRouter.show({panel:p.CommonPanelConfig.userInfoPanel,data:{qurey_uid:t,userName:n.user.nick,userIcon:n.user.facelook,userIconFrame:n.user.frame}})})}},a([_({type:cc.Node,tooltip:"\u5934\u50cf\u6837\u5f0f1"})],t.prototype,"iconComp",void 0),a([_({type:cc.Label,tooltip:"\u8d60\u9001\u4fe1\u606f"})],t.prototype,"giftLab",void 0),a([_({type:sp.Skeleton,tooltip:"\u5927\u793c\u7269spine"})],t.prototype,"spine",void 0),a([_({type:cc.Node,tooltip:"\u5185\u5bb9\u8282\u70b9"})],t.prototype,"contentNode",void 0),a([_({type:cc.Sprite,tooltip:"\u7528\u6237vipIcon"})],t.prototype,"vipSprite",void 0),a([y],t)}(c.default);n.default=v,cc._RF.pop()},{"../../../../components/UserIconStyle1Component":"UserIconStyle1Component","../../../../components/scrollviewplus/ScrollViewPlusItemComponent":"ScrollViewPlusItemComponent","../../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../../framework/gg":"gg","../../../../systems/item/ItemSystem":"ItemSystem","../../../../systems/user/UserSystem":"UserSystem","../../../../systems/user/UserUISystem":"UserUISystem"}],IMPanelConversationMsgListCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"635f9gVt9NB5YUSrVth8Mba","IMPanelConversationMsgListCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var u=c(e("../../../components/scrollviewplus/ScrollViewPlusComponent")),p=l(e("../../../components/scrollviewplus/ScrollViewPlusItemComponent")),h=e("../../../ffframework/rongyun/im/RongyunImCore"),d=e("../../../framework/gg"),f=e("../../../systems/im/IMSystem"),g=e("../../../systems/im/IMSystemEvent"),m=e("../../../systems/im/IMSystemModel"),y=c(e("./messageitem/IMPanelBigGifteMessageItem")),_=c(e("./messageitem/IMPanelBigGiftWordMessageItem")),v=c(e("./messageitem/IMPanelEmojiMessageItem")),b=c(e("./messageitem/IMPanelGameInviteMessageItem")),S=c(e("./messageitem/IMPanelNoticeMessageItem")),C=c(e("./messageitem/IMPanelQualifyingInviteMessageItem")),I=c(e("./messageitem/IMPanelSystemMessageItem")),R=c(e("./messageitem/IMPanelTextMessageItem")),L=c(e("./messageitem/IMPanelTimeMessageItem")),P=cc._decorator,M=P.ccclass,T=P.property,E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.itemScrollView=null,t.itemPrefabModels=[],t._nodePoolMap=new Map,t.isInitMessages=!1,t.dtTime=.01,t.messagesLenth=0,t.messagesCount=-1,t.messages=[],t}return i(t,e),t.prototype._getNode=function(e){var t=this._nodePoolMap.get(e);null==t&&(t=new cc.NodePool,this._nodePoolMap.set(e,t));var n=t.get();if(!n){var o=this.itemPrefabModels.find(function(t){return t.type==e});o&&(n=cc.instantiate(o.prefab))}return n||d.gg.logger.error("\u51fa\u73b0\u65e0\u6548\u7c7b\u578b\u7684 item\uff0c\u83b7\u53d6\u5931\u8d25"),n},t.prototype._putNode=function(e){var t=e.getComponent(p.default).itemType;if(null!=t){var n=this._nodePoolMap.get(t);null==n&&(n=new cc.NodePool,this._nodePoolMap.set(t,n)),n.put(e)}else d.gg.logger.error("\u51fa\u73b0\u65e0\u6548\u7c7b\u578b\u7684 item\uff0c\u56de\u6536\u5931\u8d25")},t.prototype._resetList=function(){this.unscheduleAllCallbacks(),this.isInitMessages=!1,this.messages=[];for(var e=this.itemScrollView.content.children.length-1;e>=0;--e)this._putNode(this.itemScrollView.content.children[e]);this.itemScrollView.scrollToTop(0)},t.prototype.onLoad=function(){this._resetList()},t.prototype.onEnable=function(){this._initMessageList(),d.gg.eventManager.on(g.IMSystemEvent.OnConversationChanged,this._onConversationChanged,this),d.gg.eventManager.on(g.IMSystemEvent.OnNewMessageInserted,this._onNewMessageInserted,this)},t.prototype.onDisable=function(){d.gg.eventManager.offTarget(this),this._resetList()},t.prototype._onConversationChanged=function(){this._initMessageList()},t.prototype._onNewMessageInserted=function(e,t,n){var o,i,a=this,r=null!==(i=null===(o=f.imSystem.getCurConversation())||void 0===o?void 0:o.target_id)&&void 0!==i?i:null;if(r==e){var s=0;this.isInitMessages&&this.messages&&(s=this.dtTime*this.messages.length),this.scheduleOnce(function(){a._insertMessage(t,n)},s)}else d.gg.logger.log("\u5f53\u524d\u5728\u4f1a\u8bdd "+r+" \u4e2d\uff0c\u6536\u5230\u5176\u4ed6\u4f1a\u8bdd "+e+" \u7684\u6d88\u606f\u63d2\u5165\uff0c\u754c\u9762\u5c06\u4e0d\u4f1a\u66f4\u65b0\uff0c\u53ea\u4f1a\u7f13\u5b58\u6570\u636e")},t.prototype._initMessageList=function(){this._resetList();var e=f.imSystem.getCurConversation();e?(this.messages=f.imSystem.conversationMessages.get(e.target_id),this.messages&&0!=this.messages.length?(this.isInitMessages=!0,this.messagesLenth=this.messages.length,this.messagesCount=this.messagesLenth-1,this.schedule(this.updateMessageTimer,this.dtTime,this.messagesLenth)):d.gg.logger.log("\u5f53\u524d\u5728\u804a\u7684\u4f1a\u8bdd\u6ca1\u6709\u6d88\u606f\uff0c\u5c06\u4e0d\u663e\u793a\u6d88\u606f\u5217\u8868")):d.gg.logger.log("\u5f53\u524d\u5728\u804a\u7684\u4f1a\u8bdd\u4e0d\u5b58\u5728\uff0c\u5c06\u4e0d\u663e\u793a\u6d88\u606f\u5217\u8868")},t.prototype.updateMessageTimer=function(){var e=this,t=this.messages[this.messagesCount];this._instanceMessage(t),this.messagesCount--,this.messagesCount<0&&(this.scheduleOnce(function(){e.itemScrollView.scrollToBottom(.24)}),this.isInitMessages=!1,this.unschedule(this.updateMessageTimer))},t.prototype._insertMessage=function(e,t){var n=this;this._instanceMessage(e),0==t&&this.scheduleOnce(function(){n.itemScrollView.scrollToBottom(.24)})},t.prototype._instanceMessage=function(e){var t=this._getNode(e.msgStyle);if(t){if(t.parent=this.itemScrollView.content,e instanceof m.IMTextMessageModel)(n=t.getComponent(R.default)).enableToShowUserName=e.message.conversation_type==h.RongyunIMConversationType.CHATROOM,n.bindData(e);else if(e instanceof m.IMEmojiMessageModel)(n=t.getComponent(v.default)).enableToShowUserName=e.message.conversation_type==h.RongyunIMConversationType.CHATROOM,n.bindData(e);else if(e instanceof m.IMTimeMessageModel)t.getComponent(L.default).bindData(e);else if(e instanceof m.IMSystemMessageModel)t.getComponent(I.default).bindData(e);else if(e instanceof m.IMGameMessageModel)(n=t.getComponent(b.default)).enableToShowUserName=e.message.conversation_type==h.RongyunIMConversationType.CHATROOM,n.bindData(e);else if(e instanceof m.IMBigGiftMessageModel)e.msgStyle==m.MessageUIStyle.BigGiftWorldMessage?null==(n=t.getComponent(_.default))||n.bindData(e):null==(n=t.getComponent(y.default))||n.bindData(e);else if(e instanceof m.IMQualifyingMessageModel)(n=t.getComponent(C.default)).enableToShowUserName=e.message.conversation_type==h.RongyunIMConversationType.CHATROOM,n.bindData(e);else if(e instanceof m.IMNoticeMessageModel){var n;(n=t.getComponent(S.default)).bindData(e)}return t}},s([T({type:u.default,tooltip:"\u6d88\u606f\u5217\u8868"})],t.prototype,"itemScrollView",void 0),s([T({type:[p.ScrollViewItemPrefab],tooltip:"\u6d88\u606f\u5217\u8868Items"})],t.prototype,"itemPrefabModels",void 0),s([M],t)}(cc.Component);n.default=E,cc._RF.pop()},{"../../../components/scrollviewplus/ScrollViewPlusComponent":"ScrollViewPlusComponent","../../../components/scrollviewplus/ScrollViewPlusItemComponent":"ScrollViewPlusItemComponent","../../../ffframework/rongyun/im/RongyunImCore":"RongyunImCore","../../../framework/gg":"gg","../../../systems/im/IMSystem":"IMSystem","../../../systems/im/IMSystemEvent":"IMSystemEvent","../../../systems/im/IMSystemModel":"IMSystemModel","./messageitem/IMPanelBigGiftWordMessageItem":"IMPanelBigGiftWordMessageItem","./messageitem/IMPanelBigGifteMessageItem":"IMPanelBigGifteMessageItem","./messageitem/IMPanelEmojiMessageItem":"IMPanelEmojiMessageItem","./messageitem/IMPanelGameInviteMessageItem":"IMPanelGameInviteMessageItem","./messageitem/IMPanelNoticeMessageItem":"IMPanelNoticeMessageItem","./messageitem/IMPanelQualifyingInviteMessageItem":"IMPanelQualifyingInviteMessageItem","./messageitem/IMPanelSystemMessageItem":"IMPanelSystemMessageItem","./messageitem/IMPanelTextMessageItem":"IMPanelTextMessageItem","./messageitem/IMPanelTimeMessageItem":"IMPanelTimeMessageItem"}],IMPanelEmojiInputCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"e169fVJTydDYIlkqOiSNGQa","IMPanelEmojiInputCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=r.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.emojiInputContentNode=null,t}return i(t,e),t.prototype.onLoad=function(){this.emojiInputContentNode.scale=0},t.prototype.onEmojiBtnClick=function(){cc.Tween.stopAllByTarget(this.emojiInputContentNode),0==this.emojiInputContentNode.scale?cc.tween(this.emojiInputContentNode).to(.16,{scale:1},{easing:"circOut"}).start():cc.tween(this.emojiInputContentNode).to(.16,{scale:0},{easing:"circOut"}).start()},t.prototype.onEditBoxDidBegan=function(){this.emojiInputContentNode.scale>0&&cc.tween(this.emojiInputContentNode).to(.16,{scale:0},{easing:"circOut"}).start()},a([l({type:cc.Node,tooltip:"\u8868\u60c5\u8f93\u5165\u8282\u70b9\u63a7\u5236"})],t.prototype,"emojiInputContentNode",void 0),a([s],t)}(cc.Component);n.default=c,cc._RF.pop()},{}],IMPanelEmojiListCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"c1996lcPmBELa77R79iJp8T","IMPanelEmojiListCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=e("../../../../framework/i18n/I18n"),u=e("../../../../systems/im/IMUISystem"),p=e("../../../../systems/interact/InteractProto"),h=e("../../../../systems/interact/InteractSystem"),d=l(e("./IMPanelEmojiListItem")),f=cc._decorator,g=f.ccclass,m=f.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.emojiParentNode=null,t.emojiNode=null,t.classicChooseNode=null,t.roleChooseNode=null,t.titleNode=null,t.vipLab=null,t.emojiType=p.EmojiTypeEunm.Classic,t._nodePool=new cc.NodePool,t}return i(t,e),t.prototype._getNode=function(){var e=this._nodePool.get();return e||(e=cc.instantiate(this.emojiNode)),e},t.prototype._putNode=function(e){this._nodePool.put(e)},t.prototype.reset=function(){for(var e=this.emojiParentNode.children.length-1;e>=0;--e)this._putNode(this.emojiParentNode.children[e])},t.prototype.onLoad=function(){this.showEmoji(),this.titleNode.active=!1},t.prototype.onClickRole=function(){return r(this,void 0,void 0,function(){var e;return s(this,function(t){switch(t.label){case 0:return this.emojiType==p.EmojiTypeEunm.Role?[2]:(this.emojiType=p.EmojiTypeEunm.Role,this.classicChooseNode.stopAllActions(),this.roleChooseNode.stopAllActions(),cc.tween(this.roleChooseNode).to(.16,{opacity:255},{easing:"sineIn"}).start(),cc.tween(this.classicChooseNode).to(.16,{opacity:0},{easing:"sineOut"}).start(),this.titleNode.active=!0,this.showEmoji(),0!=h.interactSystem.vipEmoji.size?[3,2]:[4,h.interactSystem.getVipEmoji()]);case 1:t.sent(),t.label=2;case 2:return 0==(e=h.interactSystem.vipEmoji.get(p.EmojiTypeEunm.Role)).vip_level?this.vipLab.string=c.i18n.getText("im.btn.emojiTemporarilyFree"):this.vipLab.string=c.i18n.getText("im.btn.emojiTemporarilyVip",e.vip_level),[2]}})})},t.prototype.onClickClassic=function(){this.emojiType!=p.EmojiTypeEunm.Classic&&(this.emojiType=p.EmojiTypeEunm.Classic,cc.tween(this.classicChooseNode).to(.16,{opacity:255},{easing:"sineIn"}).start(),cc.tween(this.roleChooseNode).to(.16,{opacity:0},{easing:"sineOut"}).start(),this.titleNode.active=!1,this.showEmoji())},t.prototype.showEmoji=function(){var e=this;this.reset(),u.imUISystem.emojiConfigs.forEach(function(t){var n="";if(t.id.split("_")[0]&&(n=t.id.split("_")[0]),n==e.emojiType){var o=e._getNode();o.parent=e.emojiParentNode,o.getComponent(d.default).bindData(t)}})},a([m({type:cc.Node,tooltip:"\u6d88\u606f\u5217\u8868"})],t.prototype,"emojiParentNode",void 0),a([m({type:cc.Node,tooltip:"\u8868\u60c5\u8282\u70b9"})],t.prototype,"emojiNode",void 0),a([m({type:cc.Node,tooltip:"\u7ecf\u5178\u8868\u60c5\u9009\u4e2d\u8282\u70b9"})],t.prototype,"classicChooseNode",void 0),a([m({type:cc.Node,tooltip:"\u89d2\u8272\u8868\u60c5\u9009\u4e2d\u8282\u70b9"})],t.prototype,"roleChooseNode",void 0),a([m({type:cc.Node,tooltip:"\u6682\u65f6\u514d\u8d39\u63d0\u793a\u8bed"})],t.prototype,"titleNode",void 0),a([m({type:cc.Label,tooltip:"\u514d\u8d39\u63d0\u793a\u8bed"})],t.prototype,"vipLab",void 0),a([g],t)}(cc.Component);n.default=y,cc._RF.pop()},{"../../../../framework/i18n/I18n":"I18n","../../../../systems/im/IMUISystem":"IMUISystem","../../../../systems/interact/InteractProto":"InteractProto","../../../../systems/interact/InteractSystem":"InteractSystem","./IMPanelEmojiListItem":"IMPanelEmojiListItem"}],IMPanelEmojiListItem:[function(e,t,n){"use strict";cc._RF.push(t,"4271013+AtLW5VWtMXsqy4e","IMPanelEmojiListItem");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var l=e("../../../../configs/CommonPanelConfig"),c=e("../../../../ffframework/rongyun/im/RongyunImCore"),u=e("../../../../ffframework/rongyun/im/RongyunImWrapper"),p=e("../../../../framework/gg"),h=e("../../../../framework/i18n/I18n"),d=e("../../../../systems/im/IMSystem"),f=e("../../../../systems/im/IMUISystem"),g=e("../../../../systems/interact/InteractSystem"),m=cc._decorator,y=m.ccclass,_=m.property,v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.emojiSpine=null,t._info=null,t}return i(t,e),t.prototype.getData=function(){return this._info},t.prototype.bindData=function(e){var t=this;this._info=e,f.imUISystem.loadEmojiSpine(this._info.id).then(function(e){t.emojiSpine.isValid&&e&&(t.emojiSpine.skeletonData=e,t.emojiSpine.setAnimation(0,"animation",!0))}).catch(function(){})},t.prototype.onLoad=function(){this.emojiSpine.skeletonData=null},t.prototype.onClick=function(){return r(this,void 0,void 0,function(){var e,t,n;return s(this,function(o){switch(o.label){case 0:return null==(e=d.imSystem.getCurConversation())?(p.gg.logger.error("\u53d1\u9001\u6d88\u606f\u65f6\uff0c\u627e\u4e0d\u5230\u5177\u4f53\u4f1a\u8bdd"),[2]):0!=g.interactSystem.vipEmoji.size?[3,2]:[4,g.interactSystem.getVipEmoji()];case 1:o.sent(),o.label=2;case 2:return t="",this._info.id.split("_")[0]&&(t=this._info.id.split("_")[0]),t&&(null==(n=g.interactSystem.vipEmoji.get(t))?void 0:n.vip_level)>0?(p.gg.panelRouter.show({panel:l.CommonPanelConfig.toastPanel,data:{text:h.i18n.getText("toast.emojiVip",n.vip_level)}}),[2]):(u.RongyunImWrapper.sendMessage({conversation_type:e.conversationType,target_id:e.target_id,text:"[emoji]",extra:{type:c.RongyunIMExtraType.Emoji,data:{emoji_id:this._info.id,emoji_desc:this._info.desc}}}),[2])}})})},a([_({type:sp.Skeleton,tooltip:"\u8868\u60c5spine"})],t.prototype,"emojiSpine",void 0),a([y],t)}(cc.Component);n.default=v,cc._RF.pop()},{"../../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../../ffframework/rongyun/im/RongyunImCore":"RongyunImCore","../../../../ffframework/rongyun/im/RongyunImWrapper":"RongyunImWrapper","../../../../framework/gg":"gg","../../../../framework/i18n/I18n":"I18n","../../../../systems/im/IMSystem":"IMSystem","../../../../systems/im/IMUISystem":"IMUISystem","../../../../systems/interact/InteractSystem":"InteractSystem"}],IMPanelEmojiMessageItem:[function(e,t,n){"use strict";cc._RF.push(t,"5564aVuXc9DL4KTCGxb2Wvt","IMPanelEmojiMessageItem");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=e("../../../../components/CommonProperty"),u=l(e("../../../../components/scrollviewplus/ScrollViewPlusItemComponent")),p=l(e("../../../../components/UserIconStyle1Component")),h=e("../../../../configs/CommonPanelConfig"),d=e("../../../../framework/gg"),f=l(e("../../../../framework/utils/StringUtils")),g=e("../../../../systems/im/IMSystemModel"),m=e("../../../../systems/im/IMUISystem"),y=e("../../../../systems/user/UserSystem"),_=e("../../../../systems/user/UserUISystem"),v=l(e("./IMPanelTextMessageRenderer")),b=cc._decorator,S=b.ccclass,C=b.property,I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iconComp=null,t.nameLabel=null,t.emojiContentNode=null,t.emojiSpine=null,t.messageContentNode=null,t.layoutProperty=null,t.vipSprite=null,t.enableToShowUserName=!1,t._info=null,t}return i(t,e),t.prototype.onLoad=function(){this.vipSprite.node.active=!1},t.prototype.getData=function(){return this._info},t.prototype.bindData=function(e){var t,n,o=this;this.vipSprite.node.active=!1,this._info=e;var i=this._info.user_id,a="";if(i==y.userSystem.userModel.uid)this.iconComp.getComponent(p.default).updateIcon(y.userSystem.userModel.userIcon),this.iconComp.getComponent(p.default).updateIconFrame(y.userSystem.userModel.userIconFrame),this._updateUserName(y.userSystem.userModel.userName),a=y.userSystem.userModel.chatBubble,this._updataUserVip(null!==(t=y.userSystem.userModel.vipInfo)&&void 0!==t?t:null);else{var r=y.userSystem.otherUserCaches.get(i);r?(this.iconComp.getComponent(p.default).updateIcon(r.facelook),this.iconComp.getComponent(p.default).updateIconFrame(r.frame),this._updateUserName(r.nick),this._updataUserVip(null!==(n=r.vip_info)&&void 0!==n?n:null),a=r.chat_bubble):(this.iconComp.getComponent(p.default).updateIcon(),this.iconComp.getComponent(p.default).updateIconFrame(),y.userSystem.searchUserAsync({uid:i}).then(function(e){var t;null!=o._info&&1==e.status&&e.user.uid==i&&(o.iconComp.getComponent(p.default).updateIcon(e.user.facelook),o.iconComp.getComponent(p.default).updateIconFrame(e.user.frame),o._updateUserName(e.user.nick),a=e.user.chat_bubble,o._updataUserVip(null!==(t=e.user.vip_info)&&void 0!==t?t:null))}))}this._updateEmoji(a)},t.prototype._updataUserVip=function(e){return r(this,void 0,void 0,function(){var t;return s(this,function(n){switch(n.label){case 0:return e?(this.vipSprite.node.active=!0,t=this.vipSprite,[4,_.userUISystem.loadUserVipIcon(e.vip_level,e.vip_status)]):[3,2];case 1:return t.spriteFrame=n.sent(),[3,3];case 2:this.vipSprite.node.active=!1,n.label=3;case 3:return[2]}})})},t.prototype._updateUserName=function(e){this.enableToShowUserName?(this.nameLabel.node.active=!0,this.nameLabel.string=f.default.clampStr(e,15)):this.nameLabel.node.active=!1},t.prototype._updateEmoji=function(e){var t=this;this.emojiContentNode.active=!1,this.messageContentNode.active=!1;var n=this.emojiContentNode.getComponent(cc.Widget);this.enableToShowUserName?n.top=36:n.top=0,n.updateAlignment();var o=Math.abs(this.emojiContentNode.position.y)+this.emojiContentNode.height;o<this.iconComp.height?this.node.height=this.iconComp.height:this.node.height=o,m.imUISystem.loadEmojiSpine(this._info.emoji_id).then(function(n){t.emojiSpine.isValid&&n?(t.emojiContentNode.active=!0,t.emojiSpine.skeletonData=n,t.emojiSpine.setAnimation(0,"animation",!0),cc.Tween.stopAllByTarget(t.emojiSpine.node),t.emojiSpine.node.scale=.7,cc.tween(t.emojiSpine.node).to(.64,{scale:.5},{easing:"backInOut"}).start()):t._updateMessage(e,"[emoji]")}).catch(function(){t._updateMessage(e,"[emoji]")})},t.prototype._updateMessage=function(e,t){return r(this,void 0,void 0,function(){var n,o,i,a;return s(this,function(r){switch(r.label){case 0:return this.messageContentNode.active=!0,n=this.messageContentNode.getComponent(cc.Widget),this.enableToShowUserName?n.top=36:n.top=20,n.updateAlignment(),this.messageContentNode.destroyAllChildren(),[4,m.imUISystem.getSkinPrefab(e,this._info.msgStyle==g.MessageUIStyle.EmojiMessageLeft)];case 1:return o=r.sent(),(i=cc.instantiate(o)).parent=this.messageContentNode,i.getComponent(v.default).updateText(t,this.messageContentNode.width,this.layoutProperty),(a=Math.abs(this.messageContentNode.position.y)+i.height)<this.iconComp.height?this.node.height=this.iconComp.height:this.node.height=a,[2]}})})},t.prototype.onDisable=function(){e.prototype.onDisable.call(this)},t.prototype.onEnterScrollView=function(){this.node.opacity=255},t.prototype.onExitScrollView=function(){this.node.opacity=0},t.prototype.onPositionChange=function(){},t.prototype.onUserIconClick=function(){var e=this,t=this._info.user_id;if(t==y.userSystem.userModel.uid)d.gg.panelRouter.show({panel:h.CommonPanelConfig.userInfoPanel,data:{qurey_uid:t,userName:y.userSystem.userModel.userName,userIcon:y.userSystem.userModel.userIcon,userIconFrame:y.userSystem.userModel.userIconFrame}});else{var n=y.userSystem.otherUserCaches.get(t);n?d.gg.panelRouter.show({panel:h.CommonPanelConfig.userInfoPanel,data:{qurey_uid:t,userName:n.nick,userIcon:n.facelook,userIconFrame:n.frame}}):y.userSystem.searchUserAsync({uid:t}).then(function(n){null!=e._info&&1==n.status&&n.user.uid==t&&d.gg.panelRouter.show({panel:h.CommonPanelConfig.userInfoPanel,data:{qurey_uid:t,userName:n.user.nick,userIcon:n.user.facelook,userIconFrame:n.user.frame}})})}},a([C({type:cc.Node,tooltip:"\u5934\u50cf\u6837\u5f0f1"})],t.prototype,"iconComp",void 0),a([C({type:cc.Label,tooltip:"\u7528\u6237\u540d\u5b57"})],t.prototype,"nameLabel",void 0),a([C({type:cc.Node,tooltip:"\u8868\u60c5\u7cbe\u7075\u5185\u5bb9\u8282\u70b9"})],t.prototype,"emojiContentNode",void 0),a([C({type:sp.Skeleton,tooltip:"\u8868\u60c5spine"})],t.prototype,"emojiSpine",void 0),a([C({type:cc.Node,tooltip:"\u6d88\u606f\u6587\u672c\u6700\u5927\u5bbd\u5ea6\u8282\u70b9"})],t.prototype,"messageContentNode",void 0),a([C({type:c.LayoutProperty,tooltip:"\u865a\u62dfLayout\u5c5e\u6027"})],t.prototype,"layoutProperty",void 0),a([C({type:cc.Sprite,tooltip:"\u7528\u6237vipIcon"})],t.prototype,"vipSprite",void 0),a([S],t)}(u.default);n.default=I,cc._RF.pop()},{"../../../../components/CommonProperty":"CommonProperty","../../../../components/UserIconStyle1Component":"UserIconStyle1Component","../../../../components/scrollviewplus/ScrollViewPlusItemComponent":"ScrollViewPlusItemComponent","../../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../../framework/gg":"gg","../../../../framework/utils/StringUtils":"StringUtils","../../../../systems/im/IMSystemModel":"IMSystemModel","../../../../systems/im/IMUISystem":"IMUISystem","../../../../systems/user/UserSystem":"UserSystem","../../../../systems/user/UserUISystem":"UserUISystem","./IMPanelTextMessageRenderer":"IMPanelTextMessageRenderer"}],IMPanelForbiddenMessageItem:[function(e,t,n){"use strict";cc._RF.push(t,"3760agrsLBAZI6wG6BlNoOv","IMPanelForbiddenMessageItem");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=r(e("../../../../components/scrollviewplus/ScrollViewPlusItemComponent")),l=cc._decorator,c=l.ccclass,u=(l.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._info=null,t}return i(t,e),t.prototype.getData=function(){return this._info},t.prototype.bindData=function(e){this._info=e},t.prototype.onDisable=function(){e.prototype.onDisable.call(this)},t.prototype.onEnterScrollView=function(){this.node.opacity=255},t.prototype.onExitScrollView=function(){this.node.opacity=0},t.prototype.onPositionChange=function(){},a([c],t)}(s.default));n.default=u,cc._RF.pop()},{"../../../../components/scrollviewplus/ScrollViewPlusItemComponent":"ScrollViewPlusItemComponent"}],IMPanelGameInviteMessageItem:[function(e,t,n){"use strict";cc._RF.push(t,"a2442lnuvBJA7C/uKZkzI3z","IMPanelGameInviteMessageItem");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t},c=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},u=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},p=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.GameInviteTableUserInfo=n.GameInviteTableInfo=n.GameInviteGameInfo=void 0;var h=p(e("../../../../components/scrollviewplus/ScrollViewPlusItemComponent")),d=p(e("../../../../components/UserIconStyle1Component")),f=e("../../../../configs/CommonPanelConfig"),g=e("../../../../configs/SceneConfig"),m=p(e("../../../../framework/asset/AssetLoader")),y=l(e("../../../../framework/components/adapter/SpriteScaleAdapterComponent")),_=e("../../../../framework/gg"),v=e("../../../../framework/i18n/I18n"),b=p(e("../../../../framework/utils/StringUtils")),S=e("../../../../systems/analysis/AnalysisEvent"),C=e("../../../../systems/analysis/AnalysisWrapper"),I=e("../../../../systems/gamaInvite/GamaInviteProto"),R=e("../../../../systems/gamaInvite/GamaInviteSystem"),L=e("../../../../systems/room/RoomModels"),P=e("../../../../systems/user/UserSystem"),M=e("../../../../systems/user/UserUISystem"),T=p(e("../common/GameInviteBalootCardStyle")),E=p(e("../common/GameInviteLudoChessStyle")),A=cc._decorator,w=A.ccclass,O=A.property,G=function(){function e(){this.gameLabel=null,this.ludoChess=null,this.balootCard=null,this.ludoIcon=null,this.balootIcon=null}return s([O({type:cc.Label,tooltip:"\u6e38\u620f\u540d\u5b57"})],e.prototype,"gameLabel",void 0),s([O({type:E.default,tooltip:"ludo\u68cb\u5b50\u6837\u5f0f"})],e.prototype,"ludoChess",void 0),s([O({type:T.default,tooltip:"baloot\u724c\u6837\u5f0f"})],e.prototype,"balootCard",void 0),s([O({type:cc.Node,tooltip:"ludo\u56fe\u6807"})],e.prototype,"ludoIcon",void 0),s([O({type:cc.Node,tooltip:"baloot\u56fe\u6807"})],e.prototype,"balootIcon",void 0),s([w("GameInviteGameInfo")],e)}();n.GameInviteGameInfo=G;var N=function(){function e(){this.prizeLabel=null,this.feeLabel=null,this.chatIconSprite=null,this.joinLab=null,this.joinButton=null}return s([O({type:cc.Label,tooltip:"\u5956\u91d1"})],e.prototype,"prizeLabel",void 0),s([O({type:cc.Label,tooltip:"\u5165\u573a\u8d39"})],e.prototype,"feeLabel",void 0),s([O({type:cc.Sprite,tooltip:"\u662f\u5426\u53ef\u4ee5\u804a\u5929icon"})],e.prototype,"chatIconSprite",void 0),s([O({type:cc.Label,tooltip:"\u52a0\u5165\u6587\u672c"})],e.prototype,"joinLab",void 0),s([O({type:cc.Button,tooltip:"\u52a0\u5165\u6309\u94ae"})],e.prototype,"joinButton",void 0),s([w("GameInviteTableInfo")],e)}();n.GameInviteTableInfo=N;var D=function(){function e(){this.nameLabel=null,this.iconSprite=null,this.iconFrameSprite=null,this.iconSitBgNode=null,this.iconSitSprite=null}return s([O({type:cc.Label,tooltip:"\u73a9\u5bb6\u540d\u5b57"})],e.prototype,"nameLabel",void 0),s([O({type:cc.Sprite,tooltip:"\u73a9\u5bb6\u5934\u50cf"})],e.prototype,"iconSprite",void 0),s([O({type:cc.Sprite,tooltip:"\u73a9\u5bb6\u5934\u50cf\u6846"})],e.prototype,"iconFrameSprite",void 0),s([O({type:cc.Node,tooltip:"\u4f4d\u7f6e\u6ca1\u6709\u73a9\u5bb6\u65f6\u663e\u793abg"})],e.prototype,"iconSitBgNode",void 0),s([O({type:cc.Sprite,tooltip:"\u4f4d\u7f6e\u6ca1\u6709\u73a9\u5bb6\u65f6\u663e\u793aicon"})],e.prototype,"iconSitSprite",void 0),s([w("GameInviteTableUserInfo")],e)}();n.GameInviteTableUserInfo=D;var B=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iconComp=null,t.nameLabel=null,t.gameContentNode=null,t.gameInfo=null,t.tableInfo=null,t.chatSpriteFrames=[],t.tableUserInfos=[],t.vipSprite=null,t.userFrames=[],t.enableToShowUserName=!1,t._info=null,t._nick=null,t._facelook=null,t._frame=null,t}return i(t,e),t.prototype.onLoad=function(){this.vipSprite.node.active=!1},t.prototype.getData=function(){return this._info},t.prototype.bindData=function(e,t,n,o,i){var a,r,s=this;void 0===t&&(t=null),void 0===n&&(n=null),void 0===o&&(o=null),void 0===i&&(i=null),this.vipSprite.node.active=!1,this._info=e,this._nick=t,this._frame=o,this._facelook=n;var l=this._info.user_id;if(l==P.userSystem.userModel.uid)this.iconComp.getComponent(d.default).updateIcon(P.userSystem.userModel.userIcon),this.iconComp.getComponent(d.default).updateIconFrame(P.userSystem.userModel.userIconFrame),this._updateUserName(P.userSystem.userModel.userName),this._updataUserVip(null!==(a=P.userSystem.userModel.vipInfo)&&void 0!==a?a:null);else{var c=P.userSystem.otherUserCaches.get(l);c?(this.iconComp.getComponent(d.default).updateIcon(c.facelook),this.iconComp.getComponent(d.default).updateIconFrame(c.frame),this._updateUserName(c.nick),this._updataUserVip(null!==(r=c.vip_info)&&void 0!==r?r:null)):(this.iconComp.getComponent(d.default).updateIcon(),this.iconComp.getComponent(d.default).updateIconFrame(),t&&o?(this.iconComp.getComponent(d.default).updateIcon(n),this.iconComp.getComponent(d.default).updateIconFrame(o),this._updateUserName(t),this._updataUserVip(i)):P.userSystem.searchUserAsync({uid:l}).then(function(e){var t;null!=s._info&&1==e.status&&e.user.uid==l&&(s.iconComp.getComponent(d.default).updateIcon(e.user.facelook),s.iconComp.getComponent(d.default).updateIconFrame(e.user.frame),s._updateUserName(e.user.nick),s._updataUserVip(null!==(t=e.user.vip_info)&&void 0!==t?t:null))}))}this._updateGameContent()},t.prototype._updataUserVip=function(e){return c(this,void 0,void 0,function(){var t;return u(this,function(n){switch(n.label){case 0:return e?(this.vipSprite.node.active=!0,t=this.vipSprite,[4,M.userUISystem.loadUserVipIcon(e.vip_level,e.vip_status)]):[3,2];case 1:return t.spriteFrame=n.sent(),[3,3];case 2:this.vipSprite.node.active=!1,n.label=3;case 3:return[2]}})})},t.prototype._updateUserName=function(e){this.enableToShowUserName?(this.nameLabel.node.active=!0,this.nameLabel.string=b.default.clampStr(e,15)):this.nameLabel.node.active=!1},t.prototype._updateGameContent=function(){var e=this.gameContentNode.getComponent(cc.Widget);this.enableToShowUserName?e.top=36:e.top=0,e.updateAlignment();var t=Math.abs(this.gameContentNode.position.y)+this.gameContentNode.height;t<this.iconComp.height?this.node.height=this.iconComp.height:this.node.height=t,this.updateGameUI()},t.prototype.onDisable=function(){e.prototype.onDisable.call(this)},t.prototype.onEnterScrollView=function(){this.node.opacity=255},t.prototype.onExitScrollView=function(){this.node.opacity=0},t.prototype.onPositionChange=function(){},t.prototype.updateGameUI=function(){this.gameInfo.balootCard.node.opacity=0,this.gameInfo.ludoChess.node.opacity=0,this.gameInfo.ludoIcon.active=!1,this.gameInfo.balootIcon.active=!1,this.tableInfo.joinLab&&(this.tableInfo.joinLab.string=v.i18n.getText("im.btn.goPlay")),this.tableInfo.joinButton&&(this.tableInfo.joinButton.interactable=!0),this._info.game_id==L.GameId.Ludo&&this._info.ludo_table?(this.gameInfo.gameLabel.string=v.i18n.getText("common.ludo"),this.gameInfo.ludoChess.initChess(this._info.ludo_table.chessboard),this.gameInfo.ludoIcon.active=!0,this.tableInfo.feeLabel.string=this._info.ludo_table.fee+"",this.tableInfo.prizeLabel.string=this._info.ludo_table.prize_pool+"",this.tableInfo.chatIconSprite.spriteFrame=this.chatSpriteFrames[0],this.initTableUserUI(L.GameId.Ludo,this._info.ludo_table.pos_type),2===this._info.ludo_table.max_player&&this.changeTableUserInfo(),this.updateLudoPlayerUI()):this._info.game_id==L.GameId.Baloot&&this._info.baloot_table&&(this.gameInfo.gameLabel.string=v.i18n.getText("common.baloot"),this.gameInfo.balootCard.initCard(this._info.baloot_table.card_style),this.gameInfo.balootIcon.active=!0,this.tableInfo.feeLabel.string=this._info.baloot_table.fee+"",this.tableInfo.prizeLabel.string=this._info.baloot_table.prize_pool+"",this._info.baloot_table.chat_enable?this.tableInfo.chatIconSprite.spriteFrame=this.chatSpriteFrames[0]:this.tableInfo.chatIconSprite.spriteFrame=this.chatSpriteFrames[1],this.initTableUserUI(L.GameId.Baloot,this._info.baloot_table.table_type),this.updateBalootPlayerUI())},t.prototype.updateLudoPlayerUI=function(){for(var e=function(e){if(e){var n=e.pos;2===t._info.ludo_table.max_player&&0===n&&(n=1),t.tableUserInfos[n].nameLabel.node.opacity=255,t.tableUserInfos[n].nameLabel.string=b.default.clampStr(e.nick,8);var o=t.tableUserInfos[n].iconSprite;o.node.opacity=255,t.tableUserInfos[n].iconSitBgNode.opacity=0,t.tableUserInfos[n].iconSitSprite.node.opacity=0,e.facelook&&""!=e.facelook&&M.userUISystem.loadUserIconSprite(e.facelook).then(function(e){cc.isValid(o)&&(e.getTexture().packable=!0,o.spriteFrame=e,o.getComponent(y.default).updateSprite(y.SpriteScaleType.SUIT,y.SpriteAlignType.CENTER))}).catch(function(){o.spriteFrame=M.userUISystem.getUserDefaultIcon()})}},t=this,n=0,o=this._info.ludo_table.players;n<o.length;n++)e(o[n])},t.prototype.updateBalootPlayerUI=function(){for(var e=function(e){if(e){var n=0;switch(e.pos){case 1:n=0;break;case 3:n=1;break;case 2:n=2;break;case 4:n=3}t.tableUserInfos[n].nameLabel.node.opacity=255,t.tableUserInfos[n].nameLabel.string=b.default.clampStr(e.nick,8);var o=t.tableUserInfos[n].iconSprite;o.node.opacity=255,t.tableUserInfos[n].iconSitBgNode.opacity=0,t.tableUserInfos[n].iconSitSprite.node.opacity=0,e.facelook&&""!=e.facelook&&M.userUISystem.loadUserIconSprite(e.facelook).then(function(e){cc.isValid(o)&&(e.getTexture().packable=!0,o.spriteFrame=e,o.getComponent(y.default).updateSprite(y.SpriteScaleType.SUIT,y.SpriteAlignType.CENTER))}).catch(function(){o.spriteFrame=M.userUISystem.getUserDefaultIcon()})}},t=this,n=0,o=this._info.baloot_table.players;n<o.length;n++)e(o[n])},t.prototype.initTableUserUI=function(e,t){for(var n=0;n<this.tableUserInfos.length;n++){var o=this.tableUserInfos[n];o.nameLabel.node.opacity=0,o.iconSprite.node.opacity=0,o.iconSitBgNode.opacity=255,o.iconSitSprite.node.opacity=255,o.iconFrameSprite.node.opacity=255,t===I.InviteBalootTableType.Random?o.iconFrameSprite.spriteFrame=this.userFrames[4]:e===L.GameId.Ludo?o.iconFrameSprite.spriteFrame=this.userFrames[n]:e===L.GameId.Baloot&&(o.iconFrameSprite.spriteFrame=0===n||1===n?this.userFrames[0]:this.userFrames[1])}},t.prototype.changeTableUserInfo=function(){this.tableUserInfos[0].iconSitSprite.node.opacity=0,this.tableUserInfos[0].iconFrameSprite.node.opacity=0,this.tableUserInfos[3].iconSitSprite.node.opacity=0,this.tableUserInfos[3].iconFrameSprite.node.opacity=0,this.tableUserInfos[1].iconFrameSprite.spriteFrame=this.userFrames[0],this.tableUserInfos[2].iconFrameSprite.spriteFrame=this.userFrames[2]},t.prototype.onUserIconClick=function(){var e=this,t=this._info.user_id;if(t==P.userSystem.userModel.uid)_.gg.panelRouter.show({panel:f.CommonPanelConfig.userInfoPanel,data:{qurey_uid:t,userName:P.userSystem.userModel.userName,userIcon:P.userSystem.userModel.userIcon,userIconFrame:P.userSystem.userModel.userIconFrame}});else{var n=P.userSystem.otherUserCaches.get(t);n?_.gg.panelRouter.show({panel:f.CommonPanelConfig.userInfoPanel,data:{qurey_uid:t,userName:n.nick,userIcon:n.facelook,userIconFrame:n.frame}}):P.userSystem.searchUserAsync({uid:t}).then(function(n){null!=e._info&&1==n.status&&n.user.uid==t?_.gg.panelRouter.show({panel:f.CommonPanelConfig.userInfoPanel,data:{qurey_uid:t,userName:n.user.nick,userIcon:n.user.facelook,userIconFrame:n.user.frame}}):_.gg.panelRouter.show({panel:f.CommonPanelConfig.userInfoPanel,data:{player_id:Number(e._info.user_id),userName:e._nick,userIcon:e._facelook,userIconFrame:e._frame}})})}},t.prototype.onClickJoinTable=function(){R.gameInviteSystem.isGame?_.gg.panelRouter.show({panel:f.CommonPanelConfig.toastPanel,data:{text:v.i18n.getText("toast.inviteGame")}}):this._info.game_id===L.GameId.Baloot?this.getBalootTableInfo():this._info.game_id===L.GameId.Ludo&&this.getLudoTableInfo()},t.prototype.getLudoTableInfo=function(){var e;return c(this,void 0,void 0,function(){var t,n,o,i,a;return u(this,function(r){switch(r.label){case 0:return t={table_id:this._info.ludo_table.table_id},_.gg.panelRouter.show({panel:f.CommonPanelConfig.loadingPanel}),[4,R.gameInviteSystem.getLudoTableListAsync(t)];case 1:return null!=(n=r.sent())&&1==n.status&&null!=n.ludo_table_info?[3,2]:(_.gg.logger.error("ludo\u67e5\u8be2\u724c\u684c\u4fe1\u606f\u5931\u8d25\uff0c\u9884\u5224\u52a0\u5165\u5931\u8d25",n),this.joinTableFailed(),[3,5]);case 2:return o=n.ludo_table_info,(null===(e=o.players)||void 0===e?void 0:e.length)!=o.max_player&&o.state==I.InviteLudoTableState.TABLE_STATE_WAITING?[3,3]:(this.joinTableFailed(),[3,5]);case 3:return this.createInteveRespinseInfo(o.fee),C.analysis.logEvent(S.AnalysisEvent.InviteLudoClick),a=(i=cc.director).runScene,[4,m.default.loadBundleScene(g.SceneConfig.LudoScene.bundleName,g.SceneConfig.LudoScene.sceneName)];case 4:a.apply(i,[r.sent()]),r.label=5;case 5:return _.gg.panelRouter.hide({panel:f.CommonPanelConfig.loadingPanel}),[2]}})})},t.prototype.getBalootTableInfo=function(){var e;return c(this,void 0,void 0,function(){var t,n,o,i,a;return u(this,function(r){switch(r.label){case 0:return t={table_ids:[this._info.baloot_table.table_id]},_.gg.panelRouter.show({panel:f.CommonPanelConfig.loadingPanel}),[4,R.gameInviteSystem.getBalootTableListAsync(t)];case 1:return null==(n=r.sent())||1!=n.status||null==n.table_list||n.table_list.length<1?(_.gg.logger.error("baloot\u67e5\u8be2\u724c\u684c\u4fe1\u606f\u5931\u8d25\uff0c\u9884\u5224\u52a0\u5165\u5931\u8d25",n),this.joinTableFailed(),[3,5]):[3,2];case 2:return o=n.table_list[0],4!=(null===(e=o.players)||void 0===e?void 0:e.length)&&o.state==I.InviteBalootTableState.Waiting?[3,3]:(this.joinTableFailed(),[3,5]);case 3:return this.createInteveRespinseInfo(o.fee),C.analysis.logEvent(S.AnalysisEvent.InviteBalootClick),a=(i=cc.director).runScene,[4,m.default.loadBundleScene(g.SceneConfig.ClassicBalootScene.bundleName,g.SceneConfig.ClassicBalootScene.sceneName)];case 4:a.apply(i,[r.sent()]),r.label=5;case 5:return _.gg.panelRouter.hide({panel:f.CommonPanelConfig.loadingPanel}),[2]}})})},t.prototype.joinTableFailed=function(){_.gg.panelRouter.show({panel:f.CommonPanelConfig.toastPanel,data:{text:v.i18n.getText("toast.joinRoomFailed")}}),this.tableInfo.joinLab&&(this.tableInfo.joinLab.string=v.i18n.getText("im.btn.joinFailed")),this.tableInfo.joinButton&&(this.tableInfo.joinButton.interactable=!1)},t.prototype.createInteveRespinseInfo=function(e){this._info.game_id,L.GameId.Baloot,R.gameInviteSystem.inteveRespinseInfo={game_id:this._info.game_id,room_id:this._info.room_id,table_id:this._info.table_id,table_pwd:this._info.table_pwd,pos:-1,fee:e}},s([O({type:cc.Node,tooltip:"\u5934\u50cf\u6837\u5f0f1"})],t.prototype,"iconComp",void 0),s([O({type:cc.Label,tooltip:"\u7528\u6237\u540d\u5b57"})],t.prototype,"nameLabel",void 0),s([O({type:cc.Node,tooltip:"\u6e38\u620f\u9080\u8bf7\u5185\u5bb9\u8282\u70b9"})],t.prototype,"gameContentNode",void 0),s([O({type:G,tooltip:"\u6e38\u620f\u9080\u8bf7\u6e38\u620f\u4fe1\u606f"})],t.prototype,"gameInfo",void 0),s([O({type:N,tooltip:"\u724c\u684c\u4fe1\u606f"})],t.prototype,"tableInfo",void 0),s([O({type:cc.SpriteFrame,tooltip:"\u662f\u5426\u5141\u8bb8\u804a\u5929\u56fe\u6807\u56fe\u96c6"})],t.prototype,"chatSpriteFrames",void 0),s([O({type:D,tooltip:"\u724c\u684c\u7528\u6237\u4fe1\u606f"})],t.prototype,"tableUserInfos",void 0),s([O({type:cc.Sprite,tooltip:"\u7528\u6237vipIcon"})],t.prototype,"vipSprite",void 0),s([O({type:cc.SpriteFrame,tooltip:"\u5934\u50cf\u6846\u96c6"})],t.prototype,"userFrames",void 0),s([w],t)}(h.default);n.default=B,cc._RF.pop()},{"../../../../components/UserIconStyle1Component":"UserIconStyle1Component","../../../../components/scrollviewplus/ScrollViewPlusItemComponent":"ScrollViewPlusItemComponent","../../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../../configs/SceneConfig":"SceneConfig","../../../../framework/asset/AssetLoader":"AssetLoader","../../../../framework/components/adapter/SpriteScaleAdapterComponent":"SpriteScaleAdapterComponent","../../../../framework/gg":"gg","../../../../framework/i18n/I18n":"I18n","../../../../framework/utils/StringUtils":"StringUtils","../../../../systems/analysis/AnalysisEvent":"AnalysisEvent","../../../../systems/analysis/AnalysisWrapper":"AnalysisWrapper","../../../../systems/gamaInvite/GamaInviteProto":"GamaInviteProto","../../../../systems/gamaInvite/GamaInviteSystem":"GamaInviteSystem","../../../../systems/room/RoomModels":"RoomModels","../../../../systems/user/UserSystem":"UserSystem","../../../../systems/user/UserUISystem":"UserUISystem","../common/GameInviteBalootCardStyle":"GameInviteBalootCardStyle","../common/GameInviteLudoChessStyle":"GameInviteLudoChessStyle"}],IMPanelGameList:[function(e,t,n){"use strict";cc._RF.push(t,"fa941H2LNhJXJFVW3y3UdZa","IMPanelGameList");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t},c=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},u=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},p=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var h=p(e("../../../components/RadioBoxComponent")),d=p(e("../../../components/scrollviewplus/ScrollViewPlusComponent")),f=l(e("../../../components/scrollviewplus/ScrollViewPlusItemComponent")),g=e("../../../configs/CommonPanelConfig"),m=e("../../../configs/SceneConfig"),y=e("../../../ffframework/rongyun/im/RongyunImCore"),_=p(e("../../../framework/asset/AssetLoader")),v=e("../../../framework/gg"),b=e("../../../framework/i18n/I18n"),S=e("../../../systems/analysis/AnalysisEvent"),C=e("../../../systems/analysis/AnalysisWrapper"),I=e("../../../systems/gamaInvite/GamaInviteSystem"),R=e("../../../systems/gamaInvite/GamaInviteSystemEvent"),L=e("../../../systems/im/IMSystem"),P=e("../../../systems/im/IMSystemEvent"),M=e("../../../systems/im/IMSystemModel"),T=e("../../../systems/room/RoomModels"),E=e("../../../systems/user/UserSystem"),A=p(e("./messageitem/IMPanelGameInviteMessageItem")),w=p(e("./messageitem/IMPanelTimeMessageItem")),O=cc._decorator,G=O.ccclass,N=O.property,D=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.itemScrollView=null,t.itemPrefabModels=[],t.radioBoxNode=null,t.notInviteListNode=null,t.ludoCreateNode=null,t.balootCreateNode=null,t.tipLab=null,t.gameId=null,t.gameIdList=[0,T.GameId.Baloot,T.GameId.Ludo],t.isOpenScene=!1,t.dtTime=.01,t.inviteTableInfoLenth=0,t.inviteTableInfoCount=0,t.inviteTableInfo=[],t.isInviteTableInfoList=!1,t._nodePoolMap=new Map,t}return i(t,e),t.prototype.getNode=function(e){var t=this._nodePoolMap.get(e);null==t&&(t=new cc.NodePool,this._nodePoolMap.set(e,t));var n=t.get();if(!n){var o=this.itemPrefabModels.find(function(t){return t.type==e});o&&(n=cc.instantiate(o.prefab))}return n||v.gg.logger.error("\u51fa\u73b0\u65e0\u6548\u7c7b\u578b\u7684 item\uff0c\u83b7\u53d6\u5931\u8d25"),n},t.prototype._putNode=function(e){var t=e.getComponent(f.default).itemType;if(null!=t){var n=this._nodePoolMap.get(t);null==n&&(n=new cc.NodePool,this._nodePoolMap.set(t,n)),n.put(e)}else v.gg.logger.error("\u51fa\u73b0\u65e0\u6548\u7c7b\u578b\u7684 item\uff0c\u56de\u6536\u5931\u8d25")},t.prototype.updateTopRadioBoxSelector=function(){var e=this.radioBoxNode.getComponent(h.default);e.node.on(h.default.OnRadioBoxSelectedChanged,this.onRadioBoxSelectedChanged,this),e.init([b.i18n.getText("ludo.room.all"),b.i18n.getText("common.baloot"),b.i18n.getText("common.ludo")]),e.updateSelectedRadio(0)},t.prototype.onRadioBoxSelectedChanged=function(e){var t=this.gameIdList[e];t!=this.gameId&&(this.resetList(),this.gameId=t,I.gameInviteSystem.sendGetInviteTableListRequest({game_id:this.gameId}))},t.prototype.resetList=function(){this.isInviteTableInfoList=!1,this.inviteTableInfo=[];for(var e=this.itemScrollView.content.children.length-1;e>=0;--e)this._putNode(this.itemScrollView.content.children[e]);this.itemScrollView.scrollToTop(0)},t.prototype.resetUI=function(){this.notInviteListNode.active=!1,this.gameId=null,this.resetList()},t.prototype.onLoad=function(){this.resetUI()},t.prototype.onEnable=function(){this.isOpenScene=!1,this.initMessageList(),v.gg.eventManager.on(P.IMSystemEvent.OnConversationChanged,this.onConversationChanged,this),v.gg.eventManager.on(R.GamaInviteSystemEvent.InviteTableListResponseEvent,this.onInviteTableListResponse,this),v.gg.eventManager.on(R.GamaInviteSystemEvent.InviteTableGameBroadCastEvent,this.onNewGameInviteInserted,this)},t.prototype.onDisable=function(){v.gg.eventManager.offTarget(this),this.resetUI()},t.prototype.onConversationChanged=function(){this.initMessageList()},t.prototype.onNewGameInviteInserted=function(e){var t=this;this.notInviteListNode.active=!1;var n=L.imSystem.getCurConversation();if((null==n?void 0:n.target_id)==M.IMConversationEnum.Game){var o=0;this.isInviteTableInfoList&&this.inviteTableInfo&&(o=this.dtTime*this.inviteTableInfo.length),this.scheduleOnce(function(){t.instanceGameInviteUI(e.invite_table)},o),this.scheduleOnce(function(){t.itemScrollView.scrollToBottom(.24)},o)}},t.prototype.initMessageList=function(){this.resetList();var e=L.imSystem.getCurConversation();e&&e.target_id==M.IMConversationEnum.Game&&this.updateTopRadioBoxSelector()},t.prototype.onInviteTableListResponse=function(e){var t;this.resetList(),1==e.status&&(null===(t=e.table_list)||void 0===t?void 0:t.length)>0?(this.notInviteListNode.active=!1,this.inviteTableInfo=e.table_list,this.isInviteTableInfoList=!0,this.inviteTableInfoLenth=this.inviteTableInfo.length,this.inviteTableInfoCount=0,this.schedule(this.updateMessageTimer,this.dtTime,this.inviteTableInfoLenth)):this.updateNotInviteUI()},t.prototype.updateMessageTimer=function(){var e=this,t=this.inviteTableInfo[this.inviteTableInfoCount];this.instanceGameInviteUI(t),this.inviteTableInfoCount++,this.inviteTableInfoCount>=this.inviteTableInfoLenth&&(this.isInviteTableInfoList=!1,this.unschedule(this.updateMessageTimer),this.scheduleOnce(function(){e.itemScrollView.scrollToBottom(.24)}))},t.prototype.updateNotInviteUI=function(){switch(this.notInviteListNode.active=!0,this.ludoCreateNode.active=!1,this.balootCreateNode.active=!1,this.gameId){case 0:this.tipLab.string=b.i18n.getText("im.label.notAllRoom"),this.ludoCreateNode.active=!0,this.balootCreateNode.active=!0;break;case T.GameId.Baloot:this.tipLab.string=b.i18n.getText("im.label.notBalootRoom"),this.balootCreateNode.active=!0;break;case T.GameId.Ludo:this.tipLab.string=b.i18n.getText("im.label.notLudoRoom"),this.ludoCreateNode.active=!0}},t.prototype.instanceGameInviteUI=function(e){var t,n,o,i,a,r,s=M.MessageUIStyle.GameMessageRight,l=2;e.uid==E.userSystem.userModel.uid&&(s=M.MessageUIStyle.GameMessageLeft,l=1);var c=this.getNode(M.MessageUIStyle.TimeMessage);c.parent=this.itemScrollView.content;var u=new M.IMTimeMessageModel({conversation_type:y.RongyunIMConversationType.GAME,target_id:"game",message_id:0,message_uid:"",message_direction:l,message_send_time:1e3*e.ctime,message_received_time:0,message_sender_user_id:e.uid,message_text:"[game]"});c.getComponent(w.default).bindData(u);var p=this.getNode(s);p.parent=this.itemScrollView.content;var h=p.getComponent(A.default);h.enableToShowUserName=!0;var d=new M.IMGameMessageModel({conversation_type:y.RongyunIMConversationType.GAME,target_id:"game",message_id:0,message_uid:"",message_direction:l,message_send_time:0,message_received_time:0,message_sender_user_id:e.uid,message_text:"[game]",extra:{type:y.RongyunIMExtraType.Game,data:{game_id:null!==(t=e.game_id)&&void 0!==t?t:0,room_id:null!==(n=e.room_id)&&void 0!==n?n:0,table_id:null!==(o=e.table_id)&&void 0!==o?o:0,table_pwd:null!==(i=e.table_pwd)&&void 0!==i?i:"",ludo_table:null!==(a=e.ludo_table)&&void 0!==a?a:null,baloot_table:null!==(r=e.baloot_table)&&void 0!==r?r:null}}});return h.bindData(d,e.nick,e.facelook,e.frame,e.vip_info),p},t.prototype.onClickCreateLudo=function(){return c(this,void 0,void 0,function(){var e,t;return u(this,function(n){switch(n.label){case 0:return I.gameInviteSystem.isGame?(v.gg.panelRouter.show({panel:g.CommonPanelConfig.toastPanel,data:{text:b.i18n.getText("toast.inviteCreateRoom")}}),[3,3]):[3,1];case 1:return this.isOpenScene?[2]:(this.isOpenScene=!0,I.gameInviteSystem.gameCreateTable=T.GameId.Ludo,C.analysis.logEvent(S.AnalysisEvent.InviteLudoClick),t=(e=cc.director).runScene,[4,_.default.loadBundleScene(m.SceneConfig.LudoScene.bundleName,m.SceneConfig.LudoScene.sceneName)]);case 2:t.apply(e,[n.sent()]),n.label=3;case 3:return[2]}})})},t.prototype.onClickCreateBaloot=function(){return c(this,void 0,void 0,function(){var e,t;return u(this,function(n){switch(n.label){case 0:return I.gameInviteSystem.isGame?(v.gg.panelRouter.show({panel:g.CommonPanelConfig.toastPanel,data:{text:b.i18n.getText("toast.inviteCreateRoom")}}),[3,3]):[3,1];case 1:return this.isOpenScene?[2]:(this.isOpenScene=!0,I.gameInviteSystem.gameCreateTable=T.GameId.Baloot,C.analysis.logEvent(S.AnalysisEvent.InviteBalootClick),t=(e=cc.director).runScene,[4,_.default.loadBundleScene(m.SceneConfig.ClassicBalootScene.bundleName,m.SceneConfig.ClassicBalootScene.sceneName)]);case 2:t.apply(e,[n.sent()]),n.label=3;case 3:return[2]}})})},s([N({type:d.default,tooltip:"\u6d88\u606f\u5217\u8868"})],t.prototype,"itemScrollView",void 0),s([N({type:[f.ScrollViewItemPrefab],tooltip:"\u6d88\u606f\u5217\u8868Items"})],t.prototype,"itemPrefabModels",void 0),s([N({type:cc.Node,tooltip:"\u6e38\u620f\u7c7b\u578bRadioBox\u7ec4\u4ef6"})],t.prototype,"radioBoxNode",void 0),s([N({type:cc.Node,tooltip:"\u6ca1\u6709\u9080\u8bf7\u6570\u636e\u7684\u7ec4\u4ef6"})],t.prototype,"notInviteListNode",void 0),s([N({type:cc.Node,tooltip:"ludo\u521b\u5efa\u6309\u94ae"})],t.prototype,"ludoCreateNode",void 0),s([N({type:cc.Node,tooltip:"baloot\u521b\u5efa\u6309\u94ae"})],t.prototype,"balootCreateNode",void 0),s([N({type:cc.Label,tooltip:"\u6ca1\u6709\u623f\u95f4\u63d0\u793a\u6587\u672c"})],t.prototype,"tipLab",void 0),s([G],t)}(cc.Component);n.default=D,cc._RF.pop()},{"../../../components/RadioBoxComponent":"RadioBoxComponent","../../../components/scrollviewplus/ScrollViewPlusComponent":"ScrollViewPlusComponent","../../../components/scrollviewplus/ScrollViewPlusItemComponent":"ScrollViewPlusItemComponent","../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../configs/SceneConfig":"SceneConfig","../../../ffframework/rongyun/im/RongyunImCore":"RongyunImCore","../../../framework/asset/AssetLoader":"AssetLoader","../../../framework/gg":"gg","../../../framework/i18n/I18n":"I18n","../../../systems/analysis/AnalysisEvent":"AnalysisEvent","../../../systems/analysis/AnalysisWrapper":"AnalysisWrapper","../../../systems/gamaInvite/GamaInviteSystem":"GamaInviteSystem","../../../systems/gamaInvite/GamaInviteSystemEvent":"GamaInviteSystemEvent","../../../systems/im/IMSystem":"IMSystem","../../../systems/im/IMSystemEvent":"IMSystemEvent","../../../systems/im/IMSystemModel":"IMSystemModel","../../../systems/room/RoomModels":"RoomModels","../../../systems/user/UserSystem":"UserSystem","./messageitem/IMPanelGameInviteMessageItem":"IMPanelGameInviteMessageItem","./messageitem/IMPanelTimeMessageItem":"IMPanelTimeMessageItem"}],IMPanelInputMaskVisablityCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"3c56305B3BKRqKr/Ibm/ffS","IMPanelInputMaskVisablityCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../../../ffframework/rongyun/im/RongyunImCore"),s=e("../../../../framework/gg"),l=e("../../../../systems/im/IMSystem"),c=e("../../../../systems/im/IMSystemEvent"),u=cc._decorator,p=u.ccclass,h=u.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.maskNode=null,t.contentNode=null,t}return i(t,e),t.prototype.onEnable=function(){this._updateMaskVisability(),s.gg.eventManager.on(c.IMSystemEvent.OnConversationChanged,this._onConversionChanged,this)},t.prototype.onDisable=function(){s.gg.eventManager.offTarget(this)},t.prototype._onConversionChanged=function(){this._updateMaskVisability(),this._updateInpotNodeVisability()},t.prototype._updateInpotNodeVisability=function(){var e;this.contentNode.active=!0,(null===(e=l.imSystem.getCurConversation())||void 0===e?void 0:e.conversationType)===r.RongyunIMConversationType.GAME&&(this.contentNode.active=!1)},t.prototype._updateMaskVisability=function(){this.maskNode.active=null==l.imSystem.getCurConversation()},a([h({type:cc.Node,tooltip:"\u906e\u7f69\u8282\u70b9"})],t.prototype,"maskNode",void 0),a([h({type:cc.Node,tooltip:"\u5e95\u90e8\u70b9\u51fb\u8282\u70b9"})],t.prototype,"contentNode",void 0),a([p],t)}(cc.Component);n.default=d,cc._RF.pop()},{"../../../../ffframework/rongyun/im/RongyunImCore":"RongyunImCore","../../../../framework/gg":"gg","../../../../systems/im/IMSystem":"IMSystem","../../../../systems/im/IMSystemEvent":"IMSystemEvent"}],IMPanelNavListChatGameItem:[function(e,t,n){"use strict";cc._RF.push(t,"e8e9e3lZ0hNjLUm1A+cRaXm","IMPanelNavListChatGameItem");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../../../components/vitruallist/MultiTypeVitrualListItemComponent"),s=e("../../../../ffframework/rongyun/im/RongyunImCore"),l=e("../../../../framework/gg"),c=e("../../../../systems/im/IMSystem"),u=e("../../../../systems/im/IMSystemEvent"),p=e("../../../../systems/im/IMSystemModel"),h=cc._decorator,d=h.ccclass,f=h.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lab=null,t.defaultColor=(new cc.Color).fromHEX("#FFF1DD"),t.selectedColor=(new cc.Color).fromHEX("#873E0F"),t.bgSprite=null,t.defaultSpriteFrame=null,t.selectedSpriteFrame=null,t.iconSprite=null,t.gameDefaultSpriteFrame=null,t.gameSelectedSpriteFrame=null,t.hintNode=null,t}return i(t,e),t.prototype.onClick=function(){var e=c.imSystem.getCurConversation();(null==e?void 0:e.target_id)!=p.IMConversationEnum.Game&&c.imSystem.setCurConversation(this.itemType)},t.prototype.onLoad=function(){this.hintNode.active=!1},t.prototype.onEnable=function(){l.gg.eventManager.on(u.IMSystemEvent.OnConversationChanged,this.onConvesionChanged,this)},t.prototype.onDisable=function(){l.gg.eventManager.offTarget(this)},t.prototype.getData=function(){return null},t.prototype.bindData=function(){},t.prototype.refresh=function(){},t.prototype.onConvesionChanged=function(){this._updateSelectedStatus()},t.prototype._updateSelectedStatus=function(){var e;(null===(e=c.imSystem.getCurConversation())||void 0===e?void 0:e.conversationType)===s.RongyunIMConversationType.GAME?(this.lab.node.color=this.selectedColor,this.bgSprite.spriteFrame=this.selectedSpriteFrame,this.iconSprite.spriteFrame=this.gameSelectedSpriteFrame):(this.lab.node.color=this.defaultColor,this.bgSprite.spriteFrame=this.defaultSpriteFrame,this.iconSprite.spriteFrame=this.gameDefaultSpriteFrame)},a([f({type:cc.Label,tooltip:"\u4f1a\u8bddlab"})],t.prototype,"lab",void 0),a([f({tooltip:"\u672a\u9009\u4e2d\u65f6\u7684\u540d\u5b57\u989c\u8272"})],t.prototype,"defaultColor",void 0),a([f({tooltip:"\u9009\u4e2d\u65f6\u7684\u540d\u5b57\u989c\u8272"})],t.prototype,"selectedColor",void 0),a([f({type:cc.Sprite,tooltip:"\u80cc\u666f"})],t.prototype,"bgSprite",void 0),a([f({type:cc.SpriteFrame,tooltip:"\u672a\u9009\u4e2d\u7684\u7cbe\u7075"})],t.prototype,"defaultSpriteFrame",void 0),a([f({type:cc.SpriteFrame,tooltip:"\u672a\u9009\u4e2d\u7684\u7cbe\u7075"})],t.prototype,"selectedSpriteFrame",void 0),a([f({type:cc.Sprite,tooltip:"icon"})],t.prototype,"iconSprite",void 0),a([f({type:cc.SpriteFrame,tooltip:"\u672a\u9009\u4e2d\u7684\u7cbe\u7075"})],t.prototype,"gameDefaultSpriteFrame",void 0),a([f({type:cc.SpriteFrame,tooltip:"\u672a\u9009\u4e2d\u7684\u7cbe\u7075"})],t.prototype,"gameSelectedSpriteFrame",void 0),a([f({type:cc.Node,tooltip:"\u7ea2\u70b9"})],t.prototype,"hintNode",void 0),a([d],t)}(r.MultiTypeVitrualListItemComponent);n.default=g,cc._RF.pop()},{"../../../../components/vitruallist/MultiTypeVitrualListItemComponent":"MultiTypeVitrualListItemComponent","../../../../ffframework/rongyun/im/RongyunImCore":"RongyunImCore","../../../../framework/gg":"gg","../../../../systems/im/IMSystem":"IMSystem","../../../../systems/im/IMSystemEvent":"IMSystemEvent","../../../../systems/im/IMSystemModel":"IMSystemModel"}],IMPanelNavListChatRoomItem:[function(e,t,n){"use strict";cc._RF.push(t,"c5767Ka67dOgZ/MPr7vWkpP","IMPanelNavListChatRoomItem");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.IMNavItemIcon=void 0;var r=e("../../../../components/vitruallist/MultiTypeVitrualListItemComponent"),s=e("../../../../framework/gg"),l=e("../../../../framework/i18n/I18n"),c=e("../../../../systems/im/IMSystem"),u=e("../../../../systems/im/IMSystemEvent"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(){function e(){this.defaultSpriteFrame=null,this.selectedSpriteFrame=null}return a([d({type:cc.SpriteFrame,tooltip:"\u672a\u9009\u4e2d\u7684\u7cbe\u7075"})],e.prototype,"defaultSpriteFrame",void 0),a([d({type:cc.SpriteFrame,tooltip:"\u672a\u9009\u4e2d\u7684\u7cbe\u7075"})],e.prototype,"selectedSpriteFrame",void 0),a([h("IMNavItemIcon")],e)}();n.IMNavItemIcon=f;var g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nameLabel=null,t.defaultColor=(new cc.Color).fromHEX("#FFF1DD"),t.selectedColor=(new cc.Color).fromHEX("#873E0F"),t.bgSprite=null,t.defaultSpriteFrame=null,t.selectedSpriteFrame=null,t.iconSprite=null,t.worldChatRoomIcon=null,t.gameChatRoomIcon=null,t.roomChatRoomIcon=null,t.hintNode=null,t._info=null,t}return i(t,e),t.prototype.getData=function(){return this._info},t.prototype.bindData=function(e){this._info=e,this._info.target_id==c.imSystem.worldChatRoomId&&(this.nameLabel.string=l.i18n.getText("im.label.chatroom.world"))},t.prototype.refresh=function(){this._updateSelectedStatus(),this._updateHintStatus()},t.prototype.onClick=function(){c.imSystem.setCurConversation(this._info.target_id)},t.prototype.onLoad=function(){this.hintNode.active=!1},t.prototype.onEnable=function(){s.gg.eventManager.on(u.IMSystemEvent.OnConversationChanged,this._onConvesionChanged,this),s.gg.eventManager.on(u.IMSystemEvent.OnUnReadConversationListChanged,this._onUnReadConversationListChanged,this)},t.prototype.onDisable=function(){s.gg.eventManager.offTarget(this)},t.prototype._onConvesionChanged=function(){this._updateSelectedStatus()},t.prototype._onUnReadConversationListChanged=function(){this._updateHintStatus()},t.prototype._updateSelectedStatus=function(){var e;this._info.target_id==(null===(e=c.imSystem.getCurConversation())||void 0===e?void 0:e.target_id)?(this.nameLabel.node.color=this.selectedColor,this.bgSprite.spriteFrame=this.selectedSpriteFrame,this._info.target_id==c.imSystem.worldChatRoomId&&(this.iconSprite.spriteFrame=this.worldChatRoomIcon.selectedSpriteFrame)):(this.nameLabel.node.color=this.defaultColor,this.bgSprite.spriteFrame=this.defaultSpriteFrame,this._info.target_id==c.imSystem.worldChatRoomId&&(this.iconSprite.spriteFrame=this.worldChatRoomIcon.defaultSpriteFrame))},t.prototype._updateHintStatus=function(){this._info&&c.imSystem.unReadConversations&&c.imSystem.unReadConversations.includes(this._info.target_id)?this.hintNode.active=!0:this.hintNode.active=!1},a([d({type:cc.Label,tooltip:"\u540d\u5b57"})],t.prototype,"nameLabel",void 0),a([d({tooltip:"\u672a\u9009\u4e2d\u65f6\u7684\u540d\u5b57\u989c\u8272"})],t.prototype,"defaultColor",void 0),a([d({tooltip:"\u9009\u4e2d\u65f6\u7684\u540d\u5b57\u989c\u8272"})],t.prototype,"selectedColor",void 0),a([d({type:cc.Sprite,tooltip:"\u80cc\u666f"})],t.prototype,"bgSprite",void 0),a([d({type:cc.SpriteFrame,tooltip:"\u672a\u9009\u4e2d\u7684\u7cbe\u7075"})],t.prototype,"defaultSpriteFrame",void 0),a([d({type:cc.SpriteFrame,tooltip:"\u672a\u9009\u4e2d\u7684\u7cbe\u7075"})],t.prototype,"selectedSpriteFrame",void 0),a([d({type:cc.Sprite,tooltip:"icon"})],t.prototype,"iconSprite",void 0),a([d({type:f,tooltip:"\u4e16\u754c\u804a\u5929\u5ba4icon"})],t.prototype,"worldChatRoomIcon",void 0),a([d({type:f,tooltip:"\u6e38\u620f\u9891\u9053\u804a\u5929\u5ba4icon"})],t.prototype,"gameChatRoomIcon",void 0),a([d({type:f,tooltip:"\u6e38\u620f\u623f\u95f4\u804a\u5929\u5ba4icon"})],t.prototype,"roomChatRoomIcon",void 0),a([d({type:cc.Node,tooltip:"\u7ea2\u70b9"})],t.prototype,"hintNode",void 0),a([h],t)}(r.MultiTypeVitrualListItemComponent);n.default=g,cc._RF.pop()},{"../../../../components/vitruallist/MultiTypeVitrualListItemComponent":"MultiTypeVitrualListItemComponent","../../../../framework/gg":"gg","../../../../framework/i18n/I18n":"I18n","../../../../systems/im/IMSystem":"IMSystem","../../../../systems/im/IMSystemEvent":"IMSystemEvent"}],IMPanelNavListCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"2db3f7XZDpLaYUyUMCqxFhX","IMPanelNavListCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.WigetType=void 0;var s,l=r(e("../../../components/vitruallist/MultiTypeVerticalVirtualList")),c=e("../../../configs/CommonPanelConfig"),u=e("../../../ffframework/rongyun/im/RongyunImCore"),p=e("../../../framework/gg"),h=e("../../../systems/im/IMSystem"),d=e("../../../systems/im/IMSystemEvent"),f=cc._decorator,g=f.ccclass,m=f.property;(function(e){e[e.Bottom_0=0]="Bottom_0",e[e.Bottom_92=92]="Bottom_92"})(s=n.WigetType||(n.WigetType={}));var y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.navVirtualList=null,t.wigetType=s.Bottom_92,t}return i(t,e),t.prototype.onLoad=function(){this._reset()},t.prototype.onEnable=function(){this._initList(),p.gg.eventManager.on(d.IMSystemEvent.OnConversionInserted,this._onConversionInserted,this),p.gg.eventManager.on(d.IMSystemEvent.OnConversionRemoved,this._onConversionRemoved,this),p.gg.eventManager.on(d.IMSystemEvent.OnConversationChanged,this._onConversionChanged,this)},t.prototype.onDisable=function(){p.gg.eventManager.offTarget(this),this._reset()},t.prototype._reset=function(){this.navVirtualList.resetVirtualList()},t.prototype._initList=function(){this.navVirtualList.bindData(h.imSystem.conversations),this.navVirtualList.insert(0,h.imSystem.conversations.length)},t.prototype._onConversionChanged=function(){var e,t=s.Bottom_92;if((null===(e=h.imSystem.getCurConversation())||void 0===e?void 0:e.conversationType)===u.RongyunIMConversationType.GAME&&(t=s.Bottom_0),t!=this.wigetType){var n=this.navVirtualList.scrollView.node.getComponent(cc.Widget);n&&(n.bottom=t,n.updateAlignment())}this.wigetType=t},t.prototype._onConversionInserted=function(e,t){this.navVirtualList.insert(t,1)},t.prototype._onConversionRemoved=function(e,t){this.navVirtualList.splice(t);var n=h.imSystem.conversations;n&&n.length>0?h.imSystem.setCurConversation(n[0].target_id):p.gg.panelRouter.hide({panel:c.CommonPanelConfig.imPanel})},a([m({type:l.default,tooltip:"\u5bfc\u822a\u680f\u865a\u62df\u5217\u8868"})],t.prototype,"navVirtualList",void 0),a([g],t)}(cc.Component);n.default=y,cc._RF.pop()},{"../../../components/vitruallist/MultiTypeVerticalVirtualList":"MultiTypeVerticalVirtualList","../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../ffframework/rongyun/im/RongyunImCore":"RongyunImCore","../../../framework/gg":"gg","../../../systems/im/IMSystem":"IMSystem","../../../systems/im/IMSystemEvent":"IMSystemEvent"}],IMPanelNavListIPrivateItem:[function(e,t,n){"use strict";cc._RF.push(t,"a27b5o2AXRJA53dftRHW9GZ","IMPanelNavListIPrivateItem");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=r(e("../../../../components/UserIconStyle2Component")),l=e("../../../../components/vitruallist/MultiTypeVitrualListItemComponent"),c=e("../../../../framework/gg"),u=r(e("../../../../framework/utils/StringUtils")),p=e("../../../../systems/im/IMSystem"),h=e("../../../../systems/im/IMSystemEvent"),d=e("../../../../systems/user/UserSystem"),f=cc._decorator,g=f.ccclass,m=f.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iconComp=null,t.nameLabel=null,t.defaultColor=(new cc.Color).fromHEX("#FFF1DD"),t.selectedColor=(new cc.Color).fromHEX("#873E0F"),t.bgSprite=null,t.defaultSpriteFrame=null,t.selectedSpriteFrame=null,t.hintNode=null,t._info=null,t}return i(t,e),t.prototype.getData=function(){return this._info},t.prototype.bindData=function(e){var t=this;this._info=e;var n=this._info.target_id;if(n==d.userSystem.userModel.uid)this.iconComp.getComponent(s.default).updateIcon(d.userSystem.userModel.userIcon),this.nameLabel.string=u.default.clampStr(d.userSystem.userModel.userName);else{var o=d.userSystem.otherUserCaches.get(n);o?(this.iconComp.getComponent(s.default).updateIcon(o.facelook),this.nameLabel.string=u.default.clampStr(o.nick)):(this.iconComp.getComponent(s.default).updateIcon(),d.userSystem.searchUserAsync({uid:n}).then(function(e){null!=t._info&&1==e.status&&e.user.uid==n&&(t.iconComp.getComponent(s.default).updateIcon(e.user.facelook),t.nameLabel.string=u.default.clampStr(e.user.nick))}))}},t.prototype.refresh=function(){this._info||(this.nameLabel.string="",this.iconComp.getComponent(s.default).updateIcon()),this._updateSelectedStatus(),this._updateHintStatus()},t.prototype.onClick=function(){p.imSystem.setCurConversation(this._info.target_id)},t.prototype.onLoad=function(){this.hintNode.active=!1},t.prototype.onEnable=function(){c.gg.eventManager.on(h.IMSystemEvent.OnConversationChanged,this._onConvesionChanged,this),c.gg.eventManager.on(h.IMSystemEvent.OnUnReadConversationListChanged,this._onUnReadConversationListChanged,this)},t.prototype.onDisable=function(){c.gg.eventManager.offTarget(this)},t.prototype._onConvesionChanged=function(){this._updateSelectedStatus()},t.prototype._onUnReadConversationListChanged=function(){this._updateHintStatus()},t.prototype._updateSelectedStatus=function(){var e,t;this.bgSprite.spriteFrame=this._info.target_id==(null===(e=p.imSystem.getCurConversation())||void 0===e?void 0:e.target_id)?this.selectedSpriteFrame:this.defaultSpriteFrame,this.nameLabel.node.color=this._info.target_id==(null===(t=p.imSystem.getCurConversation())||void 0===t?void 0:t.target_id)?this.selectedColor:this.defaultColor},t.prototype._updateHintStatus=function(){this._info&&p.imSystem.unReadConversations&&p.imSystem.unReadConversations.includes(this._info.target_id)?this.hintNode.active=!0:this.hintNode.active=!1},a([m({type:cc.Node,tooltip:"\u597d\u53cb\u5934\u50cf\u6837\u5f0f1"})],t.prototype,"iconComp",void 0),a([m({type:cc.Label,tooltip:"\u540d\u5b57"})],t.prototype,"nameLabel",void 0),a([m({tooltip:"\u672a\u9009\u4e2d\u65f6\u7684\u540d\u5b57\u989c\u8272"})],t.prototype,"defaultColor",void 0),a([m({tooltip:"\u9009\u4e2d\u65f6\u7684\u540d\u5b57\u989c\u8272"})],t.prototype,"selectedColor",void 0),a([m({type:cc.Sprite,tooltip:"\u80cc\u666f"})],t.prototype,"bgSprite",void 0),a([m({type:cc.SpriteFrame,tooltip:"\u672a\u9009\u4e2d\u7684\u7cbe\u7075"})],t.prototype,"defaultSpriteFrame",void 0),a([m({type:cc.SpriteFrame,tooltip:"\u672a\u9009\u4e2d\u7684\u7cbe\u7075"})],t.prototype,"selectedSpriteFrame",void 0),a([m({type:cc.Node,tooltip:"\u7ea2\u70b9"})],t.prototype,"hintNode",void 0),a([g],t)}(l.MultiTypeVitrualListItemComponent);n.default=y,cc._RF.pop()},{"../../../../components/UserIconStyle2Component":"UserIconStyle2Component","../../../../components/vitruallist/MultiTypeVitrualListItemComponent":"MultiTypeVitrualListItemComponent","../../../../framework/gg":"gg","../../../../framework/utils/StringUtils":"StringUtils","../../../../systems/im/IMSystem":"IMSystem","../../../../systems/im/IMSystemEvent":"IMSystemEvent","../../../../systems/user/UserSystem":"UserSystem"}],IMPanelNoticeMessageItem:[function(e,t,n){"use strict";cc._RF.push(t,"a7f665p4V1NPrqDzclXxXAX","IMPanelNoticeMessageItem");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../../../components/CommonProperty"),l=r(e("../../../../components/scrollviewplus/ScrollViewPlusItemComponent")),c=r(e("./IMPanelTextMessageRenderer")),u=cc._decorator,p=u.ccclass,h=u.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.messageContentNode=null,t.messageRenderer=null,t.layoutProperty=null,t._info=null,t}return i(t,e),t.prototype.getData=function(){return this._info},t.prototype.bindData=function(e){this._info=e;var t=this.messageContentNode.getComponent(cc.Widget);t.top=20,t.bottom=20,t.updateAlignment(),this.messageRenderer.updateText(this._info.content,this.messageContentNode.width,this.layoutProperty);var n=2*Math.abs(this.messageContentNode.position.y)+this.messageRenderer.node.height;this.node.height=n},t.prototype.onEnterScrollView=function(){this.node.opacity=255},t.prototype.onExitScrollView=function(){this.node.opacity=0},t.prototype.onPositionChange=function(){},a([h({type:cc.Node,tooltip:"\u6d88\u606f\u6587\u672c\u6700\u5927\u5bbd\u5ea6\u8282\u70b9"})],t.prototype,"messageContentNode",void 0),a([h({type:c.default,tooltip:"\u6d88\u606f\u6587\u672c\u5185\u5bb9"})],t.prototype,"messageRenderer",void 0),a([h({type:s.LayoutProperty,tooltip:"\u865a\u62dfLayout\u5c5e\u6027"})],t.prototype,"layoutProperty",void 0),a([p],t)}(l.default);n.default=d,cc._RF.pop()},{"../../../../components/CommonProperty":"CommonProperty","../../../../components/scrollviewplus/ScrollViewPlusItemComponent":"ScrollViewPlusItemComponent","./IMPanelTextMessageRenderer":"IMPanelTextMessageRenderer"}],IMPanelPrivateConversationInfoCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"9cfa1SGXzJMprA2XkuPoovH","IMPanelPrivateConversationInfoCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../../configs/CommonPanelConfig"),l=e("../../../ffframework/rongyun/im/RongyunImCore"),c=e("../../../framework/gg"),u=e("../../../framework/i18n/I18n"),p=r(e("../../../framework/utils/StringUtils")),h=e("../../../systems/im/IMSystem"),d=e("../../../systems/im/IMSystemEvent"),f=e("../../../systems/user/UserSystem"),g=cc._decorator,m=g.ccclass,y=g.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.friendNameLabel=null,t}return i(t,e),t.prototype._reset=function(){this.friendNameLabel.string=""},t.prototype.onLoad=function(){this._reset()},t.prototype.onEnable=function(){this._init(),c.gg.eventManager.on(d.IMSystemEvent.OnConversationChanged,this._onConversationChanged,this)},t.prototype.onDisable=function(){c.gg.eventManager.offTarget(this),this._reset()},t.prototype._onConversationChanged=function(){this._init()},t.prototype._init=function(){var e=this;this.friendNameLabel.string="";var t=h.imSystem.getCurConversation();if(t&&t.conversationType==l.RongyunIMConversationType.PRIVATE){var n=t.target_id;if(n==f.userSystem.userModel.uid)this.friendNameLabel.string=p.default.clampStr(f.userSystem.userModel.userName,15);else{var o=f.userSystem.otherUserCaches.get(n);o?this.friendNameLabel.string=p.default.clampStr(o.nick,15):f.userSystem.searchUserAsync({uid:n}).then(function(t){1==t.status&&t.user.uid==n&&(e.friendNameLabel.string=p.default.clampStr(t.user.nick,15))})}}},t.prototype.onClickDeleteConversation=function(){c.gg.panelRouter.show({panel:s.CommonPanelConfig.alertPanel,data:{titleLabel:u.i18n.getText("common.tips"),msgLabel:u.i18n.getText("toast.friendDelete"),showCancelBtn:!0,showConfirmBtn:!0,onConfirmBtnClick:function(){c.gg.panelRouter.hide({panel:s.CommonPanelConfig.alertPanel});var e=h.imSystem.getCurConversation();(null==e?void 0:e.target_id)&&h.imSystem.removeConversation(null==e?void 0:e.target_id)},onCancelBtnClick:function(){c.gg.panelRouter.hide({panel:s.CommonPanelConfig.alertPanel})}}})},a([y({type:cc.Label,tooltip:"\u597d\u53cb\u540d\u5b57"})],t.prototype,"friendNameLabel",void 0),a([m],t)}(cc.Component);n.default=_,cc._RF.pop()},{"../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../ffframework/rongyun/im/RongyunImCore":"RongyunImCore","../../../framework/gg":"gg","../../../framework/i18n/I18n":"I18n","../../../framework/utils/StringUtils":"StringUtils","../../../systems/im/IMSystem":"IMSystem","../../../systems/im/IMSystemEvent":"IMSystemEvent","../../../systems/user/UserSystem":"UserSystem"}],IMPanelQualifyingInviteMessageItem:[function(e,t,n){"use strict";cc._RF.push(t,"2e035jD9UNDSrc8H9hJ60vE","IMPanelQualifyingInviteMessageItem");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t},c=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},u=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},p=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.QualifyingInviteTableUserInfo=void 0;var h=p(e("../../../../components/scrollviewplus/ScrollViewPlusItemComponent")),d=p(e("../../../../components/UserIconStyle1Component")),f=e("../../../../configs/CommonPanelConfig"),g=e("../../../../configs/SceneConfig"),m=p(e("../../../../framework/asset/AssetLoader")),y=l(e("../../../../framework/components/adapter/SpriteScaleAdapterComponent")),_=e("../../../../framework/gg"),v=e("../../../../framework/i18n/I18n"),b=p(e("../../../../framework/utils/StringUtils")),S=e("../../../../systems/analysis/AnalysisEvent"),C=e("../../../../systems/analysis/AnalysisWrapper"),I=e("../../../../systems/gamaInvite/GamaInviteSystem"),R=e("../../../../systems/gamews/WebSocketResponseCode"),L=e("../../../../systems/qualifying/MainQualifyingSystem"),P=e("../../../../systems/user/UserSystem"),M=e("../../../../systems/user/UserUISystem"),T=cc._decorator,E=T.ccclass,A=T.property,w=function(){function e(){this.nameLabel=null,this.iconSprite=null,this.iconSitBgNode=null}return s([A({type:cc.Label,tooltip:"\u73a9\u5bb6\u540d\u5b57"})],e.prototype,"nameLabel",void 0),s([A({type:cc.Sprite,tooltip:"\u73a9\u5bb6\u5934\u50cf"})],e.prototype,"iconSprite",void 0),s([A({type:cc.Node,tooltip:"\u4f4d\u7f6e\u6ca1\u6709\u73a9\u5bb6\u65f6\u663e\u793abg"})],e.prototype,"iconSitBgNode",void 0),s([E("QualifyingInviteTableUserInfo")],e)}();n.QualifyingInviteTableUserInfo=w;var O=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iconComp=null,t.nameLabel=null,t.qualifyingUserInfo=null,t.gameContentNode=null,t.joinButton=null,t.joinLab=null,t.vipSprite=null,t.enableToShowUserName=!1,t._info=null,t.isOpenScene=!1,t}return i(t,e),t.prototype.onLoad=function(){this.vipSprite.node.active=!1},t.prototype.getData=function(){return this._info},t.prototype.bindData=function(e){var t,n,o=this;this.vipSprite.node.active=!1,this._info=e;var i=this._info.user_id;if(i==P.userSystem.userModel.uid)this.iconComp.getComponent(d.default).updateIcon(P.userSystem.userModel.userIcon),this.iconComp.getComponent(d.default).updateIconFrame(P.userSystem.userModel.userIconFrame),this.updateUserName(P.userSystem.userModel.userName),this._updataUserVip(null!==(t=P.userSystem.userModel.vipInfo)&&void 0!==t?t:null);else{var a=P.userSystem.otherUserCaches.get(i);a?(this.iconComp.getComponent(d.default).updateIcon(a.facelook),this.iconComp.getComponent(d.default).updateIconFrame(a.frame),this.updateUserName(a.nick),this._updataUserVip(null!==(n=a.vip_info)&&void 0!==n?n:null)):(this.iconComp.getComponent(d.default).updateIcon(),this.iconComp.getComponent(d.default).updateIconFrame(),P.userSystem.searchUserAsync({uid:i}).then(function(e){var t;null!=o._info&&1==e.status&&e.user.uid==i&&(o.iconComp.getComponent(d.default).updateIcon(e.user.facelook),o.iconComp.getComponent(d.default).updateIconFrame(e.user.frame),o.updateUserName(e.user.nick),o._updataUserVip(null!==(t=e.user.vip_info)&&void 0!==t?t:null))}))}this.updateQualifyingGameContent()},t.prototype._updataUserVip=function(e){return c(this,void 0,void 0,function(){var t;return u(this,function(n){switch(n.label){case 0:return e?(this.vipSprite.node.active=!0,t=this.vipSprite,[4,M.userUISystem.loadUserVipIcon(e.vip_level,e.vip_status)]):[3,2];case 1:return t.spriteFrame=n.sent(),[3,3];case 2:this.vipSprite.node.active=!1,n.label=3;case 3:return[2]}})})},t.prototype.updateUserName=function(e){this.enableToShowUserName?(this.nameLabel.node.active=!0,this.nameLabel.string=b.default.clampStr(e,15)):this.nameLabel.node.active=!1},t.prototype.updateQualifyingGameContent=function(){var e=this.gameContentNode.getComponent(cc.Widget);this.enableToShowUserName?e.top=36:e.top=0,e.updateAlignment();var t=Math.abs(this.gameContentNode.position.y)+this.gameContentNode.height;t<this.iconComp.height?this.node.height=this.iconComp.height:this.node.height=t,this.updateGameUI()},t.prototype.onDisable=function(){e.prototype.onDisable.call(this)},t.prototype.onEnterScrollView=function(){this.node.opacity=255},t.prototype.onExitScrollView=function(){this.node.opacity=0},t.prototype.onPositionChange=function(){},t.prototype.updateGameUI=function(){var e=this;this.initQualifyingUserInfoUI(),this.joinButton&&(this.joinButton.interactable=!0,this.joinLab.string=v.i18n.getText("im.btn.goPlay"));for(var t=0,n=this._info.players;t<n.length;t++){var o=n[t];o&&(this.qualifyingUserInfo.nameLabel.string=b.default.clampStr(o.nick,8),this.qualifyingUserInfo.iconSitBgNode.active=!1,o.facelook&&""!=o.facelook&&M.userUISystem.loadUserIconSprite(o.facelook).then(function(t){cc.isValid(e.qualifyingUserInfo.iconSprite)&&(t.getTexture().packable=!0,e.qualifyingUserInfo.iconSprite.spriteFrame=t,e.qualifyingUserInfo.iconSprite.getComponent(y.default).updateSprite(y.SpriteScaleType.SUIT,y.SpriteAlignType.CENTER))}).catch(function(){e.qualifyingUserInfo.iconSprite.spriteFrame=M.userUISystem.getUserDefaultIcon()}))}},t.prototype.initQualifyingUserInfoUI=function(){this.qualifyingUserInfo.nameLabel.string="",this.qualifyingUserInfo.iconSitBgNode.active=!0},t.prototype.onUserIconClick=function(){var e=this,t=this._info.user_id;if(t==P.userSystem.userModel.uid)_.gg.panelRouter.show({panel:f.CommonPanelConfig.userInfoPanel,data:{qurey_uid:t,userName:P.userSystem.userModel.userName,userIcon:P.userSystem.userModel.userIcon,userIconFrame:P.userSystem.userModel.userIconFrame}});else{var n=P.userSystem.otherUserCaches.get(t);n?_.gg.panelRouter.show({panel:f.CommonPanelConfig.userInfoPanel,data:{qurey_uid:t,userName:n.nick,userIcon:n.facelook,userIconFrame:n.frame}}):P.userSystem.searchUserAsync({uid:t}).then(function(n){null!=e._info&&1==n.status&&n.user.uid==t&&_.gg.panelRouter.show({panel:f.CommonPanelConfig.userInfoPanel,data:{qurey_uid:t,userName:n.user.nick,userIcon:n.user.facelook,userIconFrame:n.user.frame}})})}},t.prototype.onClickJoinTable=function(){return c(this,void 0,void 0,function(){var e,t,n,o;return u(this,function(i){switch(i.label){case 0:return this.isOpenScene||I.gameInviteSystem.isGame||0==this.joinButton.interactable?[2]:(this.isOpenScene=!0,[4,L.mainQualifyingSystem.joinQualifyingRoom({game_id:Number(this._info.game_id),room_id:this._info.room_id})]);case 1:return 1!=(e=i.sent()).status?[3,3]:(C.analysis.logEvent(S.AnalysisEvent.LobbyQualifyingBalootClick),n=(t=cc.director).runScene,[4,m.default.loadBundleScene(g.SceneConfig.QualifyingBalootScene.bundleName,g.SceneConfig.QualifyingBalootScene.sceneName)]);case 2:return n.apply(t,[i.sent()]),[3,4];case 3:o=v.i18n.getText("toast.joinRoomFailed"),(null==e?void 0:e.status)==R.WebSocketResponseCode.LevelIsNotEnough&&(o=v.i18n.getText("toast.qualifyingRoomLevel",null==e?void 0:e.min_level)),this.joinButton&&(this.joinButton.interactable=!1,this.joinLab.string=v.i18n.getText("im.btn.joinFailed")),_.gg.panelRouter.show({panel:f.CommonPanelConfig.toastPanel,data:{text:o}}),this.isOpenScene=!1,i.label=4;case 4:return[2]}})})},s([A({type:cc.Node,tooltip:"\u5934\u50cf\u6837\u5f0f1"})],t.prototype,"iconComp",void 0),s([A({type:cc.Label,tooltip:"\u7528\u6237\u540d\u5b57"})],t.prototype,"nameLabel",void 0),s([A({type:w,tooltip:"\u9080\u8bf7\u4eba\u73a9\u5bb6\u4fe1\u606f"})],t.prototype,"qualifyingUserInfo",void 0),s([A({type:cc.Node,tooltip:"\u6392\u4f4d\u8d5b\u9080\u8bf7\u5185\u5bb9\u8282\u70b9"})],t.prototype,"gameContentNode",void 0),s([A({type:cc.Button,tooltip:"\u52a0\u5165\u6309\u94ae"})],t.prototype,"joinButton",void 0),s([A({type:cc.Label,tooltip:"\u52a0\u5165\u6587\u672c"})],t.prototype,"joinLab",void 0),s([A({type:cc.Sprite,tooltip:"\u7528\u6237vipIcon"})],t.prototype,"vipSprite",void 0),s([E],t)}(h.default);n.default=O,cc._RF.pop()},{"../../../../components/UserIconStyle1Component":"UserIconStyle1Component","../../../../components/scrollviewplus/ScrollViewPlusItemComponent":"ScrollViewPlusItemComponent","../../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../../configs/SceneConfig":"SceneConfig","../../../../framework/asset/AssetLoader":"AssetLoader","../../../../framework/components/adapter/SpriteScaleAdapterComponent":"SpriteScaleAdapterComponent","../../../../framework/gg":"gg","../../../../framework/i18n/I18n":"I18n","../../../../framework/utils/StringUtils":"StringUtils","../../../../systems/analysis/AnalysisEvent":"AnalysisEvent","../../../../systems/analysis/AnalysisWrapper":"AnalysisWrapper","../../../../systems/gamaInvite/GamaInviteSystem":"GamaInviteSystem","../../../../systems/gamews/WebSocketResponseCode":"WebSocketResponseCode","../../../../systems/qualifying/MainQualifyingSystem":"MainQualifyingSystem","../../../../systems/user/UserSystem":"UserSystem","../../../../systems/user/UserUISystem":"UserUISystem"}],IMPanelSystemMessageItem:[function(e,t,n){"use strict";cc._RF.push(t,"d2d1bjJGWlDW5ZtU1ioA8Vh","IMPanelSystemMessageItem");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=r(e("../../../../components/scrollviewplus/ScrollViewPlusItemComponent")),l=cc._decorator,c=l.ccclass,u=l.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.msgLabel=null,t._info=null,t}return i(t,e),t.prototype.getData=function(){return this._info},t.prototype.bindData=function(e){this._info=e,this.msgLabel.string=e.text},t.prototype.onDisable=function(){e.prototype.onDisable.call(this)},t.prototype.onEnterScrollView=function(){this.node.opacity=255},t.prototype.onExitScrollView=function(){this.node.opacity=0},t.prototype.onPositionChange=function(){},a([u({type:cc.Label,tooltip:"\u6d88\u606f\u6587\u672c"})],t.prototype,"msgLabel",void 0),a([c],t)}(s.default);n.default=p,cc._RF.pop()},{"../../../../components/scrollviewplus/ScrollViewPlusItemComponent":"ScrollViewPlusItemComponent"}],IMPanelTextInputCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"882b8Z3/ElN7Y+qQuLeOVS8","IMPanelTextInputCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=e("../../../../configs/CommonPanelConfig"),u=e("../../../../ffframework/rongyun/im/RongyunImCore"),p=e("../../../../ffframework/rongyun/im/RongyunImWrapper"),h=e("../../../../framework/gg"),d=e("../../../../framework/i18n/I18n"),f=l(e("../../../../framework/utils/StringUtils")),g=e("../../../../systems/im/IMSystem"),m=e("../../../../systems/im/IMSystemEvent"),y=e("../../../../systems/im/IMWordVerifyProto"),_=e("../../../../systems/im/IMWordVerifySystem"),v=cc._decorator,b=v.ccclass,S=v.property,C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sendBtn=null,t.inputEditbox=null,t}return i(t,e),t.prototype.onLoad=function(){this.inputEditbox.placeholder=d.i18n.getText("im.editbox.placeholder",200)},t.prototype.onEnable=function(){h.gg.eventManager.on(m.IMSystemEvent.OnMessageSendFailed,this._onMessageSendFailed,this)},t.prototype.onDisable=function(){h.gg.eventManager.offTarget(this)},t.prototype._onMessageSendFailed=function(){h.gg.panelRouter.show({panel:c.CommonPanelConfig.toastPanel,data:{text:d.i18n.getText("toast.msgSendFailed")}})},t.prototype.onSendBtnClick=function(){return r(this,void 0,void 0,function(){var e,t,n,o;return s(this,function(i){switch(i.label){case 0:return e=this.inputEditbox.string,f.default.isEmpty(e)?(h.gg.panelRouter.show({panel:c.CommonPanelConfig.toastPanel,data:{text:d.i18n.getText("toast.msgEmpty")}}),[2]):null==(t=g.imSystem.getCurConversation())?(h.gg.logger.error("\u53d1\u9001\u6d88\u606f\u65f6\uff0c\u627e\u4e0d\u5230\u5177\u4f53\u4f1a\u8bdd"),[2]):(n=y.WordVerifyChatType.Common,t.conversationType==u.RongyunIMConversationType.PRIVATE&&(n=y.WordVerifyChatType.Private),[4,_.iMWordVerifySystem.getWordverify({text:e,chat_type:n})]);case 1:return 1==(null==(o=i.sent())?void 0:o.status)&&0==(null==o?void 0:o.is_valid)&&(e=o.replaced_text),p.RongyunImWrapper.sendMessage({conversation_type:t.conversationType,target_id:t.target_id,text:e}),this.inputEditbox.string="",[2]}})})},a([S({type:cc.Button,tooltip:"\u53d1\u9001\u6309\u94ae"})],t.prototype,"sendBtn",void 0),a([S({type:cc.EditBox,tooltip:"\u8f93\u5165\u6846"})],t.prototype,"inputEditbox",void 0),a([b],t)}(cc.Component);n.default=C,cc._RF.pop()},{"../../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../../ffframework/rongyun/im/RongyunImCore":"RongyunImCore","../../../../ffframework/rongyun/im/RongyunImWrapper":"RongyunImWrapper","../../../../framework/gg":"gg","../../../../framework/i18n/I18n":"I18n","../../../../framework/utils/StringUtils":"StringUtils","../../../../systems/im/IMSystem":"IMSystem","../../../../systems/im/IMSystemEvent":"IMSystemEvent","../../../../systems/im/IMWordVerifyProto":"IMWordVerifyProto","../../../../systems/im/IMWordVerifySystem":"IMWordVerifySystem"}],IMPanelTextMessageItem:[function(e,t,n){"use strict";cc._RF.push(t,"445828i3mxF7ZAyLYbmVr+R","IMPanelTextMessageItem");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.IMPanelTextMessageSkin=void 0;var c=e("../../../../components/CommonProperty"),u=l(e("../../../../components/scrollviewplus/ScrollViewPlusItemComponent")),p=l(e("../../../../components/UserIconStyle1Component")),h=e("../../../../configs/CommonPanelConfig"),d=e("../../../../framework/gg"),f=l(e("../../../../framework/utils/StringUtils")),g=e("../../../../systems/im/IMSystemEvent"),m=e("../../../../systems/im/IMSystemModel"),y=e("../../../../systems/im/IMUISystem"),_=e("../../../../systems/user/UserSystem"),v=e("../../../../systems/user/UserUISystem"),b=l(e("./IMPanelTextMessageRenderer")),S=cc._decorator,C=S.ccclass,I=S.property,R=function(){function e(){this.type="",this.prefab=null}return a([I({tooltip:"\u7c7b\u578b"})],e.prototype,"type",void 0),a([I({type:cc.Prefab,tooltip:"\u76ae\u80a4 Prefab"})],e.prototype,"prefab",void 0),a([C("IMPanelTextMessageSkin")],e)}();n.IMPanelTextMessageSkin=R;var L=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iconComp=null,t.nameLabel=null,t.messageContentNode=null,t.forbiddenNode=null,t.layoutProperty=null,t.vipSprite=null,t.enableToShowUserName=!1,t._info=null,t}return i(t,e),t.prototype.onLoad=function(){this.forbiddenNode.active=!1,this.vipSprite.node.active=!1},t.prototype.getData=function(){return this._info},t.prototype.bindData=function(e){var t,n,o=this;this.vipSprite.node.active=!1,this._info=e;var i=this._info.user_id,a="";if(i==_.userSystem.userModel.uid)this.iconComp.getComponent(p.default).updateIcon(_.userSystem.userModel.userIcon),this.iconComp.getComponent(p.default).updateIconFrame(_.userSystem.userModel.userIconFrame),this._updateUserName(_.userSystem.userModel.userName),a=_.userSystem.userModel.chatBubble,this._updataUserVip(null!==(t=_.userSystem.userModel.vipInfo)&&void 0!==t?t:null);else{var r=_.userSystem.otherUserCaches.get(i);r?(this.iconComp.getComponent(p.default).updateIcon(r.facelook),this.iconComp.getComponent(p.default).updateIconFrame(r.frame),this._updateUserName(r.nick),this._updataUserVip(null!==(n=r.vip_info)&&void 0!==n?n:null),a=r.chat_bubble):(this.iconComp.getComponent(p.default).updateIcon(),this.iconComp.getComponent(p.default).updateIconFrame(),_.userSystem.searchUserAsync({uid:i}).then(function(e){var t;null!=o._info&&1==e.status&&e.user.uid==i&&(o.iconComp.getComponent(p.default).updateIcon(e.user.facelook),o.iconComp.getComponent(p.default).updateIconFrame(e.user.frame),o._updateUserName(e.user.nick),a=e.user.chat_bubble,o._updataUserVip(null!==(t=e.user.vip_info)&&void 0!==t?t:null))}))}this._updateMessage(a,this._info.text)},t.prototype._updataUserVip=function(e){return r(this,void 0,void 0,function(){var t;return s(this,function(n){switch(n.label){case 0:return e?(this.vipSprite.node.active=!0,t=this.vipSprite,[4,v.userUISystem.loadUserVipIcon(e.vip_level,e.vip_status)]):[3,2];case 1:return t.spriteFrame=n.sent(),[3,3];case 2:this.vipSprite.node.active=!1,n.label=3;case 3:return[2]}})})},t.prototype._updateUserName=function(e){this.enableToShowUserName?(this.nameLabel.node.active=!0,this.nameLabel.string=f.default.clampStr(e,15)):this.nameLabel.node.active=!1},t.prototype._updateMessage=function(e,t){return r(this,void 0,void 0,function(){var n,o,i,a;return s(this,function(r){switch(r.label){case 0:return n=this.messageContentNode.getComponent(cc.Widget),this.enableToShowUserName?n.top=36:n.top=20,n.updateAlignment(),this.messageContentNode.destroyAllChildren(),[4,y.imUISystem.getSkinPrefab(e,this._info.msgStyle==m.MessageUIStyle.TextMessageLeft)];case 1:return o=r.sent(),(i=cc.instantiate(o)).parent=this.messageContentNode,i.getComponent(b.default).updateText(t,this.messageContentNode.width,this.layoutProperty),this._handleMessageBlock(),(a=Math.abs(this.messageContentNode.position.y)+i.height)<this.iconComp.height?this.node.height=this.iconComp.height:this.node.height=a,[2]}})})},t.prototype.onEnable=function(){d.gg.eventManager.on(g.IMSystemEvent.OnMessageSendBlocked,this._onMessageSendBlocked,this)},t.prototype.onDisable=function(){e.prototype.onDisable.call(this),this.forbiddenNode.active=!1,d.gg.eventManager.offTarget(this)},t.prototype._onMessageSendBlocked=function(e,t){this._info==t&&this._handleMessageBlock()},t.prototype.onEnterScrollView=function(){this.node.opacity=255},t.prototype.onExitScrollView=function(){this.node.opacity=0},t.prototype.onPositionChange=function(){},t.prototype._convertTextToStar=function(e){for(var t=e.length,n="",o=0;o<t;++o)n+="*";return n},t.prototype._handleMessageBlock=function(){if(this._info&&this._info.isBlock&&this.messageContentNode.children.length>0){var e=this.messageContentNode.children[0];this.forbiddenNode.active=!0;var t=this.forbiddenNode.getComponent(cc.Widget);this._info.msgStyle==m.MessageUIStyle.TextMessageLeft?t.left=this.messageContentNode.getComponent(cc.Widget).left+e.width+20:t.right=this.messageContentNode.getComponent(cc.Widget).right+e.width+20,t.updateAlignment();var n=e.getComponent(b.default).messageLabel;n.string=this._convertTextToStar(n.string)}},t.prototype.onUserIconClick=function(){var e=this,t=this._info.user_id;if(t==_.userSystem.userModel.uid)d.gg.panelRouter.show({panel:h.CommonPanelConfig.userInfoPanel,data:{qurey_uid:t,userName:_.userSystem.userModel.userName,userIcon:_.userSystem.userModel.userIcon,userIconFrame:_.userSystem.userModel.userIconFrame}});else{var n=_.userSystem.otherUserCaches.get(t);n?d.gg.panelRouter.show({panel:h.CommonPanelConfig.userInfoPanel,data:{qurey_uid:t,userName:n.nick,userIcon:n.facelook,userIconFrame:n.frame}}):_.userSystem.searchUserAsync({uid:t}).then(function(n){null!=e._info&&1==n.status&&n.user.uid==t&&d.gg.panelRouter.show({panel:h.CommonPanelConfig.userInfoPanel,data:{qurey_uid:t,userName:n.user.nick,userIcon:n.user.facelook,userIconFrame:n.user.frame}})})}},a([I({type:cc.Node,tooltip:"\u5934\u50cf\u6837\u5f0f1"})],t.prototype,"iconComp",void 0),a([I({type:cc.Label,tooltip:"\u7528\u6237\u540d\u5b57"})],t.prototype,"nameLabel",void 0),a([I({type:cc.Node,tooltip:"\u6d88\u606f\u6587\u672c\u6700\u5927\u5bbd\u5ea6\u8282\u70b9"})],t.prototype,"messageContentNode",void 0),a([I({type:cc.Node,tooltip:"\u6d88\u606f\u88ab\u62e6\u622a\u65f6\u7684\u7981\u6b62\u63d0\u793a\u8282\u70b9"})],t.prototype,"forbiddenNode",void 0),a([I({type:c.LayoutProperty,tooltip:"\u865a\u62dfLayout\u5c5e\u6027"})],t.prototype,"layoutProperty",void 0),a([I({type:cc.Sprite,tooltip:"\u7528\u6237vipIcon"})],t.prototype,"vipSprite",void 0),a([C],t)}(u.default);n.default=L,cc._RF.pop()},{"../../../../components/CommonProperty":"CommonProperty","../../../../components/UserIconStyle1Component":"UserIconStyle1Component","../../../../components/scrollviewplus/ScrollViewPlusItemComponent":"ScrollViewPlusItemComponent","../../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../../framework/gg":"gg","../../../../framework/utils/StringUtils":"StringUtils","../../../../systems/im/IMSystemEvent":"IMSystemEvent","../../../../systems/im/IMSystemModel":"IMSystemModel","../../../../systems/im/IMUISystem":"IMUISystem","../../../../systems/user/UserSystem":"UserSystem","../../../../systems/user/UserUISystem":"UserUISystem","./IMPanelTextMessageRenderer":"IMPanelTextMessageRenderer"}],IMPanelTextMessageRenderer:[function(e,t,n){"use strict";cc._RF.push(t,"7c76cGlfQZN1oTKeovUITZy","IMPanelTextMessageRenderer");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=r.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.messageLabel=null,t.minWidth=100,t}return i(t,e),t.prototype.updateText=function(e,t,n){var o=t-n.paddingLeft-n.paddingRight;this.messageLabel.overflow=cc.Label.Overflow.NONE,this.messageLabel.string=e,this.messageLabel._forceUpdateRenderData&&this.messageLabel._forceUpdateRenderData(),this.messageLabel.node.width>o&&(this.messageLabel.node.width=o,this.messageLabel.overflow=cc.Label.Overflow.RESIZE_HEIGHT,this.messageLabel._forceUpdateRenderData&&this.messageLabel._forceUpdateRenderData()),this.node.width=this.messageLabel.node.width+n.paddingLeft+n.paddingRight,this.node.height=this.messageLabel.node.height+n.paddingTop+n.paddingBottom,this.node.width<this.minWidth&&(this.node.width=this.minWidth),this._updateChildNodeSize(this.node)},t.prototype._updateChildNodeSize=function(e){var t=this;e.children.forEach(function(e){var n=e.getComponent(cc.Widget);n&&n.updateAlignment(),t._updateChildNodeSize(e)})},a([l({type:cc.Label,tooltip:"\u6d88\u606f\u6587\u672c"})],t.prototype,"messageLabel",void 0),a([s],t)}(cc.Component);n.default=c,cc._RF.pop()},{}],IMPanelTimeMessageItem:[function(e,t,n){"use strict";cc._RF.push(t,"ec22dwAbtZKW5q8zATbigDn","IMPanelTimeMessageItem");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=r(e("../../../../components/scrollviewplus/ScrollViewPlusItemComponent")),l=e("../../../../framework/utils/TimeUtils"),c=cc._decorator,u=c.ccclass,p=c.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.timeLabel=null,t._info=null,t}return i(t,e),t.prototype.getData=function(){return this._info},t.prototype.bindData=function(e){this._info=e,this.timeLabel.string=l.TimeUtils.formatDate(this._info.sendTimestamp)},t.prototype.onDisable=function(){e.prototype.onDisable.call(this)},t.prototype.onEnterScrollView=function(){this.node.opacity=255},t.prototype.onExitScrollView=function(){this.node.opacity=0},t.prototype.onPositionChange=function(){},a([p({type:cc.Label,tooltip:"\u65e5\u671f\u6587\u672c"})],t.prototype,"timeLabel",void 0),a([u],t)}(s.default);n.default=h,cc._RF.pop()},{"../../../../components/scrollviewplus/ScrollViewPlusItemComponent":"ScrollViewPlusItemComponent","../../../../framework/utils/TimeUtils":"TimeUtils"}],IMPanel:[function(e,t,n){"use strict";cc._RF.push(t,"73a46plImJCuqD65FzISu3r","IMPanel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.IMEntrance=void 0;var r,s=e("../../../../../main/scripts/configs/CommonAudioConfig"),l=e("../../../../../main/scripts/configs/CommonPanelConfig"),c=e("../../../../../main/scripts/framework/gg"),u=e("../../../../../main/scripts/framework/panelrouter/PanelComponent"),p=e("../../../ffframework/rongyun/im/RongyunImCore"),h=e("../../../systems/im/IMSystem"),d=e("../../../systems/im/IMSystemEvent"),f=e("../../../systems/im/IMSystemModel"),g=cc._decorator,m=g.ccclass,y=g.property;(function(e){e[e.Lobby=0]="Lobby",e[e.FriendList=1]="FriendList",e[e.GameRoom=2]="GameRoom",e[e.GameTable=3]="GameTable"})(r=n.IMEntrance||(n.IMEntrance={}));var _=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dialogContentPos=null,t.dialogBgNode=null,t.dialogContentNode=null,t.privateConversationNode=null,t.worldChatRoomConversationNode=null,t.gameConversationNode=null,t.dialogContentX=0,t.dialogContentMoveX=0,t.isCloseRankPanel=!1,t}return i(t,e),t.prototype._reset=function(){this.privateConversationNode.active=!1,this.worldChatRoomConversationNode.active=!1,this.gameConversationNode.active=!1},t.prototype.onLoad=function(){this.dialogContentNode.opacity=0,this.dialogContentMoveX=this.dialogContentPos.width+200,this._reset()},t.prototype.onEnable=function(){c.gg.eventManager.on(d.IMSystemEvent.OnConversationChanged,this._onConversationChanged,this),window.addEventListener("resize",this.onUpdataDialogContentPos.bind(this)),window.addEventListener("orientationchange",this.onUpdataDialogContentPos.bind(this)),this.unscheduleAllCallbacks()},t.prototype.onDisable=function(){c.gg.eventManager.offTarget(this),window.removeEventListener("resize",this.onUpdataDialogContentPos.bind(this)),window.removeEventListener("orientationchange",this.onUpdataDialogContentPos.bind(this)),this.unscheduleAllCallbacks(),this._reset()},t.prototype.show=function(e){var t=e.data;if(t.entrance==r.FriendList)h.imSystem.insertConversation({conversationType:p.RongyunIMConversationType.PRIVATE,target_id:t.conversationId,itemType:f.IMConversationEnum.Private}),h.imSystem.setCurConversation(t.conversationId),h.imSystem.initPrivateConversationMessages(t.conversationId);else if(t.entrance==r.Lobby)null!=h.imSystem.worldChatRoomId&&h.imSystem.isConversationExist(h.imSystem.worldChatRoomId)?h.imSystem.setCurConversation(h.imSystem.worldChatRoomId):h.imSystem.isConversationExist(f.IMConversationEnum.Game)?h.imSystem.setCurConversation(f.IMConversationEnum.Game):(c.gg.logger.warn("\u5f53\u524d\u6ca1\u6709\u52a0\u5165\u4e16\u754c\u804a\u5929\u9891\u9053/\u4e5f\u6ca1\u6709\u52a0\u5165\u6e38\u620f\u9891\u9053\uff0c\u5c06\u4e0d\u8bbe\u7f6e\u9009\u4e2d\u7684\u804a\u5929"),h.imSystem.resetCurConversation());else{c.gg.logger.warn("\u8fd8\u6ca1\u6709\u9002\u914d\u8fd9\u4e2a\u5165\u53e3\uff0c\u5c06\u9ed8\u8ba4\u9009\u4e2d\u7b2c\u4e00\u4e2a\u804a\u5929\u4f1a\u8bdd");var n=null;h.imSystem.conversations&&h.imSystem.conversations.length>0&&(n=h.imSystem.conversations[0]),null==n?h.imSystem.resetCurConversation():h.imSystem.setCurConversation(n.target_id)}h.imSystem.insertConversation({conversationType:p.RongyunIMConversationType.GAME,target_id:f.IMConversationEnum.Game,itemType:f.IMConversationEnum.Game}),h.imSystem.setCurConversation(f.IMConversationEnum.Game),c.gg.audio.playOneShot(s.CommonAudioConfig.popping),this.playShowAnim(function(){e.onShowed()})},t.prototype.hide=function(e){this.playHideAnim(function(){h.imSystem.resetCurConversation(),e.onHided()})},t.prototype.onCloseBtnClick=function(){var e=this;this.isCloseRankPanel||(this.isCloseRankPanel=!0,c.gg.panelRouter.hide({panel:l.CommonPanelConfig.imPanel,onHided:function(){e.isCloseRankPanel=!1}}),c.gg.audio.playOneShot(s.CommonAudioConfig.btnClose))},t.prototype._onConversationChanged=function(){var e=h.imSystem.getCurConversation();e&&e.conversationType==p.RongyunIMConversationType.PRIVATE?this.privateConversationNode.active=!0:this.privateConversationNode.active=!1,e&&e.target_id==h.imSystem.worldChatRoomId?this.worldChatRoomConversationNode.active=!0:this.worldChatRoomConversationNode.active=!1,e&&e.conversationType==p.RongyunIMConversationType.GAME?this.gameConversationNode.active||(this.gameConversationNode.active=!0):this.gameConversationNode.active=!1},t.prototype.onUpdataDialogContentPos=function(){var e=this;this.scheduleOnce(function(){e.dialogContentPos&&(e.dialogContentPos.width=e.dialogContentNode.width,e.dialogContentPos.getComponent(cc.Widget).updateAlignment(),e.dialogContentX=e.dialogContentPos.x,e.dialogContentNode.x=e.dialogContentX)},.3)},t.prototype.playShowAnim=function(e){var t=this;this.dialogContentNode.opacity=0,this.dialogContentNode.stopAllActions(),this.scheduleOnce(function(){t.getinitPosX(),t.dialogContentNode.x=t.dialogContentX-t.dialogContentMoveX,t.dialogContentNode.opacity=255,cc.tween(t.dialogContentNode).to(.5,{x:t.dialogContentNode.x+t.dialogContentMoveX},{easing:"sineOut"}).call(function(){e()}).start()},.1)},t.prototype.playHideAnim=function(e){this.dialogContentNode.stopAllActions(),this.dialogContentNode.x=this.dialogContentX,cc.tween(this.dialogContentNode).to(.5,{x:this.dialogContentNode.x-this.dialogContentMoveX},{easing:"sineIn"}).call(function(){e()}).start()},t.prototype.getinitPosX=function(){this.dialogContentX=this.dialogContentPos.x},a([y({type:cc.Node,tooltip:"\u7528\u6765\u65f6\u65f6\u83b7\u53d6\u4f4d\u7f6e\u7684\u603b\u8282\u70b9"})],t.prototype,"dialogContentPos",void 0),a([y({type:cc.Node,tooltip:"\u5bf9\u8bdd\u6846\u80cc\u666f"})],t.prototype,"dialogBgNode",void 0),a([y({type:cc.Node,tooltip:"\u5bf9\u8bdd\u6846\u5185\u5bb9"})],t.prototype,"dialogContentNode",void 0),a([y({type:cc.Node,tooltip:"\u5355\u804a\u6d88\u606f\u5bf9\u8bdd\u6846"})],t.prototype,"privateConversationNode",void 0),a([y({type:cc.Node,tooltip:"\u4e16\u754c\u804a\u5929\u5ba4\u804a\u5929\u5bf9\u8bdd\u6846"})],t.prototype,"worldChatRoomConversationNode",void 0),a([y({type:cc.Node,tooltip:"\u6e38\u620f\u9891\u9053\u804a\u5929\u5bf9\u8bdd\u6846"})],t.prototype,"gameConversationNode",void 0),a([m],t)}(u.PanelComponent);n.default=_,cc._RF.pop()},{"../../../../../main/scripts/configs/CommonAudioConfig":"CommonAudioConfig","../../../../../main/scripts/configs/CommonPanelConfig":"CommonPanelConfig","../../../../../main/scripts/framework/gg":"gg","../../../../../main/scripts/framework/panelrouter/PanelComponent":"PanelComponent","../../../ffframework/rongyun/im/RongyunImCore":"RongyunImCore","../../../systems/im/IMSystem":"IMSystem","../../../systems/im/IMSystemEvent":"IMSystemEvent","../../../systems/im/IMSystemModel":"IMSystemModel"}],IMProto:[function(e,t,n){"use strict";cc._RF.push(t,"4a592Mv5NBFUKtY8GQ0fI1R","IMProto"),Object.defineProperty(n,"__esModule",{value:!0}),n.ChannelEunm=n.IMProtoMsg=void 0,function(e){e.GetConversionListRequest="GetConversionListRequest",e.GetConversionListResponse="GetConversionListResponse"}(n.IMProtoMsg||(n.IMProtoMsg={})),function(e){e[e.World=1]="World",e[e.Game=2]="Game"}(n.ChannelEunm||(n.ChannelEunm={})),cc._RF.pop()},{}],IMSystemEvent:[function(e,t,n){"use strict";cc._RF.push(t,"6416eQhxHNCxpRP644GlSa1","IMSystemEvent"),Object.defineProperty(n,"__esModule",{value:!0}),n.IMSystemEvent=void 0,function(e){e.OnConversionInserted="IMSystemEvent.OnConversionInserted",e.OnConversionRemoved="IMSystemEvent.OnConversionRemoved",e.OnConversationChanged="IMSystemEvent.OnConversationChanged",e.OnMessageSendFailed="IMSystemEvent.OnMessageSendFailed",e.OnMessageSendBlocked="IMSystemEvent.OnMessageSendBlocked",e.OnNewMessageInserted="IMSystemEvent.OnNewMessageInserted",e.OnUnReadConversationListChanged="IMSystemEvent.OnUnReadConversationListChanged"}(n.IMSystemEvent||(n.IMSystemEvent={})),cc._RF.pop()},{}],IMSystemModel:[function(e,t,n){"use strict";cc._RF.push(t,"529d6DD0eROJYf9kYKaLXN4","IMSystemModel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.IMForbiddenMessageModel=n.IMQualifyingMessageModel=n.IMBigGiftMessageModel=n.IMGameMessageModel=n.IMEmojiMessageModel=n.IMSystemMessageModel=n.IMNoticeMessageModel=n.IMTimeMessageModel=n.IMTextMessageModel=n.IMMessageModel=n.MessageUIStyle=n.IMConversationEnum=void 0;var a,r=e("../../ffframework/rongyun/im/RongyunImCore");(function(e){e.ChatRoom="room",e.Private="friend",e.Game="game"})(n.IMConversationEnum||(n.IMConversationEnum={})),function(e){e.TimeMessage="time_message",e.NoticeMessage="notice_message",e.SystemMessage="system_message",e.ForbiddenMessage="forbidden_message",e.TextMessageLeft="text_message_left",e.TextMessageRight="text_message_right",e.EmojiMessageLeft="emoji_message_left",e.EmojiMessageRight="emoji_message_right",e.GameMessageLeft="game_message_left",e.GameMessageRight="game_message_right",e.BigGiftWorldMessage="big_gift_world_message",e.BigGiftMessageLeft="big_gift_message_left",e.BigGiftMessageRight="big_gift_message_right",e.QualifyingMessageLeft="qualifying_message_left",e.QualifyingMessageRight="qualifying_message_right"}(a=n.MessageUIStyle||(n.MessageUIStyle={}));var s=function(){this.isBlock=!1,this.blockReason=r.RongyunIMMessageBlockType.UNKNOWN};n.IMMessageModel=s;var l=function(e){function t(t){var n=e.call(this)||this;return n.msgStyle=t.message_direction==r.RongyunMessageDirection.SEND?a.TextMessageLeft:a.TextMessageRight,n.msgId=t.message_id+"",n.user_id=t.message_sender_user_id,n.text=t.message_text,n.message=t,n}return i(t,e),t}(s);n.IMTextMessageModel=l;var c=function(e){function t(t){var n=e.call(this)||this;return n.msgStyle=a.TimeMessage,n.msgId="time_"+t.message_id,n.sendTimestamp=t.message_send_time,n}return i(t,e),t}(s);n.IMTimeMessageModel=c;var u=function(e){function t(t){var n=e.call(this)||this;n.msgStyle=a.NoticeMessage,n.msgId="notice_",n.message=t;var o=t.extra.data;return n.title=o.title,n.end_time=o.end_time,n.content=o.content,n}return i(t,e),t}(s);n.IMNoticeMessageModel=u;var p=function(e){function t(n){var o=e.call(this)||this;return o.msgStyle=a.SystemMessage,o.msgId="system_"+t.ID++,o.text=n,o}return i(t,e),t.ID=0,t}(s);n.IMSystemMessageModel=p;var h=function(e){function t(t){var n=e.call(this)||this;n.msgStyle=t.message_direction==r.RongyunMessageDirection.SEND?a.EmojiMessageLeft:a.EmojiMessageRight,n.msgId=t.message_id+"",n.user_id=t.message_sender_user_id,n.text=t.message_text,n.message=t;var o=t.extra.data;return n.emoji_id=o.emoji_id,n.emoji_desc=o.emoji_desc,n}return i(t,e),t}(s);n.IMEmojiMessageModel=h;var d=function(e){function t(t){var n=e.call(this)||this;n.msgStyle=t.message_direction==r.RongyunMessageDirection.SEND?a.GameMessageLeft:a.GameMessageRight,n.msgId=t.message_id+"",n.user_id=t.message_sender_user_id,n.text=t.message_text,n.message=t;var o=t.extra.data;return n.game_id=o.game_id,n.room_id=o.room_id,n.table_id=o.table_id,n.table_pwd=o.table_pwd,n.ludo_table=o.ludo_table,n.baloot_table=o.baloot_table,n}return i(t,e),t}(s);n.IMGameMessageModel=d;var f=function(e){function t(t){var n=e.call(this)||this;t.conversation_type===r.RongyunIMConversationType.PRIVATE?n.msgStyle=t.message_direction==r.RongyunMessageDirection.SEND?a.BigGiftMessageLeft:a.BigGiftMessageRight:n.msgStyle=a.BigGiftWorldMessage,n.msgId=t.message_id+"",n.user_id=t.message_sender_user_id,n.text=t.message_text,n.message=t;var o=t.extra.data;return n.bigGift=o,n}return i(t,e),t}(s);n.IMBigGiftMessageModel=f;var g=function(e){function t(t){var n=e.call(this)||this;n.msgStyle=t.message_direction==r.RongyunMessageDirection.SEND?a.QualifyingMessageLeft:a.QualifyingMessageRight,n.msgId=t.message_id+"",n.user_id=t.message_sender_user_id,n.text=t.message_text,n.message=t;var o=t.extra.data;return n.game_id=o.game_id,n.room_id=o.room_id,n.players=o.players,n}return i(t,e),t}(s);n.IMQualifyingMessageModel=g;var m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(s);n.IMForbiddenMessageModel=m,cc._RF.pop()},{"../../ffframework/rongyun/im/RongyunImCore":"RongyunImCore"}],IMSystem:[function(e,t,n){"use strict";cc._RF.push(t,"f6154dzTQpCfr2BGSaFrUsB","IMSystem");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.IMMessageSearchDirection=n.imSystem=void 0;var r,s=e("../../configs/AppConfig"),l=e("../../ffframework/rongyun/im/RongyunImCore"),c=e("../../ffframework/rongyun/im/RongyunImEvent"),u=e("../../ffframework/rongyun/im/RongyunImWrapper"),p=e("../../framework/gg"),h=e("../../framework/i18n/I18n"),d=a(e("../../framework/utils/StringUtils")),f=e("../api/gamecenter/GameCenterApi"),g=e("../friend/FriendSystemEvent"),m=e("../gamews/GameSocketSystem"),y=e("../login/LoginEvent"),_=e("../user/UserSystem"),v=e("./IMProto"),b=e("./IMSystemEvent"),S=e("./IMSystemModel"),C=e("./IMUISystem"),I=function(){function e(){this._curConversation=null,this.conversations=[],this.conversationMessages=new Map,this.unReadConversations=[],this.worldChatRoomId=null}return e.prototype._resetData=function(){this._curConversation=null,this.conversations=[],this.conversationMessages.clear(),this.unReadConversations=[],this.worldChatRoomId=null},e.prototype.getCurConversation=function(){return this._curConversation},e.prototype.setCurConversation=function(e){var t=this;if(e==S.IMConversationEnum.Game||!this._curConversation||this._curConversation.target_id!=e){var n=this.conversations.find(function(t){return t.target_id==e});if(n){this._curConversation=n,p.gg.eventManager.emit(b.IMSystemEvent.OnConversationChanged);var o=this.unReadConversations.findIndex(function(e){return e==t._curConversation.target_id});-1!=o&&(this.unReadConversations.splice(o,1),p.gg.eventManager.emit(b.IMSystemEvent.OnUnReadConversationListChanged))}else p.gg.logger.error("\u5207\u6362\u4f1a\u8bdd\u5931\u8d25\uff0c\u65b0\u7684\u4f1a\u8bdd "+e+" \u5728\u4f1a\u8bdd\u5217\u8868\u4e2d\u4e0d\u5b58\u5728")}},e.prototype.resetCurConversation=function(){this._curConversation=null,p.gg.eventManager.emit(b.IMSystemEvent.OnConversationChanged)},e.prototype.isConversationExist=function(e){return-1!=this.conversations.findIndex(function(t){return t.target_id==e})},e.prototype.insertConversation=function(e){if(!this.isConversationExist(e.target_id))if(e.conversationType==l.RongyunIMConversationType.PRIVATE)-1==(t=this.conversations.findIndex(function(e){return e.conversationType==l.RongyunIMConversationType.PRIVATE}))&&(t=this.conversations.length),this.conversations.splice(t,0,e),p.gg.eventManager.emit(b.IMSystemEvent.OnConversionInserted,e,t);else if(e.conversationType==l.RongyunIMConversationType.CHATROOM)-1==(t=this.conversations.findIndex(function(e){return e.conversationType==l.RongyunIMConversationType.PRIVATE}))&&(t=0),this.conversations.splice(t,0,e),p.gg.eventManager.emit(b.IMSystemEvent.OnConversionInserted,e,t);else if(e.conversationType==l.RongyunIMConversationType.GAME){var t=this.conversations.findIndex(function(e){return e.conversationType==l.RongyunIMConversationType.CHATROOM});t+=1,this.conversations.splice(t,0,e),p.gg.eventManager.emit(b.IMSystemEvent.OnConversionInserted,e,t)}},e.prototype.removeConversation=function(e){var t=this.conversations.findIndex(function(t){return t.target_id==e});if(-1!=t){var n=this.conversations.splice(t,1)[0];this._curConversation&&this._curConversation.target_id==n.target_id&&(this._curConversation=null,p.gg.eventManager.emit(b.IMSystemEvent.OnConversationChanged)),u.RongyunImWrapper.removeConversation({conversation_type:n.conversationType,target_id:n.target_id}),this.conversationMessages.delete(n.target_id),u.RongyunImWrapper.deleteMessages({conversation_type:n.conversationType,target_id:n.target_id}),p.gg.eventManager.emit(b.IMSystemEvent.OnConversionRemoved,n,t);var o=this.unReadConversations.findIndex(function(t){return t==e});-1!=o&&(this.unReadConversations.splice(o,1),p.gg.eventManager.emit(b.IMSystemEvent.OnUnReadConversationListChanged))}},e.prototype.initPrivateConversationMessages=function(e){return o(this,void 0,void 0,function(){var t,o,a;return i(this,function(i){switch(i.label){case 0:return null!=(t=n.imSystem.conversationMessages.get(e))&&t.length>0?[2]:[4,u.RongyunImWrapper.getHistoryMessages({conversation_type:l.RongyunIMConversationType.PRIVATE,target_id:e,last_message_id:-1,count:10})];case 1:if((o=i.sent())&&o.list&&o.list.length>0&&null==o.error_code)for(a=o.list.length-1;a>=0;--a)this._addRongyunMessageToConversation(o.list[a]);else this._initPrivateConversationMessageList(e);return[2]}})})},e.prototype.joinChatRoom=function(e){return o(this,void 0,void 0,function(){var t;return i(this,function(n){switch(n.label){case 0:return[4,u.RongyunImWrapper.joinChatRoom({chatroom_id:e,def_message_count:-1})];case 1:return(t=n.sent())&&null==t.error_code&&(this.insertConversation({conversationType:l.RongyunIMConversationType.CHATROOM,target_id:e,itemType:S.IMConversationEnum.ChatRoom}),this.insertConversation({conversationType:l.RongyunIMConversationType.GAME,target_id:S.IMConversationEnum.Game,itemType:S.IMConversationEnum.Game})),[2]}})})},e.prototype.quitChatRoom=function(e){return o(this,void 0,void 0,function(){var t;return i(this,function(n){switch(n.label){case 0:return[4,u.RongyunImWrapper.quitChatRoom({chatroom_id:e})];case 1:return(t=n.sent())&&null==t.error_code&&this.removeConversation(e),[2]}})})},e.prototype._getRongyunToken=function(){var e,t,n,a,r,l,c,u;return o(this,void 0,Promise,function(){var o,h,g;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),o=null!==(t=null===(e=_.userSystem.userModel)||void 0===e?void 0:e.uid)&&void 0!==t?t:"",d.default.isEmpty(o)?(p.gg.logger.error("\u8bf7\u6c42\u878d\u4e91Token\u65f6\uff0c\u6ca1\u6709uid"),[2,null]):[4,f.gameCenterApi.getRongyunToken({ry_app_key:s.AppConfig.rongyunAppKey,ry_portrait_uri:null!==(a=null===(n=_.userSystem.userModel)||void 0===n?void 0:n.userIcon)&&void 0!==a?a:"",ry_user_name:null!==(l=null===(r=_.userSystem.userModel)||void 0===r?void 0:r.userName)&&void 0!==l?l:"",ry_user_id:o})];case 1:return 1!=(h=i.sent()).status?(p.gg.logger.error("\u8bf7\u6c42\u5931\u8d25"),[2,null]):o!==(null===(c=h.data)||void 0===c?void 0:c.ry_user_id)?(p.gg.logger.error("\u975e\u8bf7\u6c42\u5bf9\u5e94\u7684\u7528\u6237id"),[2,null]):(g=null===(u=h.data)||void 0===u?void 0:u.ry_user_token,d.default.isEmpty(g)?(p.gg.logger.error("Token \u65e0\u6548"),[2,null]):[2,g]);case 2:return i.sent(),[2,null];case 3:return[2]}})})},e.prototype.enable=function(){this._resetData(),p.gg.eventManager.on(y.LoginEvent.OnUserKickOut,this._onUserOut,this),p.gg.eventManager.on(y.LoginEvent.OnUserLogout,this._onUserOut,this),p.gg.eventManager.on(y.LoginEvent.OnUserLostConnection,this._onUserOut,this),u.RongyunImWrapper.on(c.RongyunImEvent.OnConnectCallBack,this._onConnectCallBack,this),u.RongyunImWrapper.on(c.RongyunImEvent.OnConnectStatusChanged,this._onConnectStatusChanged,this),u.RongyunImWrapper.on(c.RongyunImEvent.OnSendMessageAttached,this._onSendMessageAttached,this),u.RongyunImWrapper.on(c.RongyunImEvent.OnSendMessageSuccess,this._onSendMessageSuccess,this),u.RongyunImWrapper.on(c.RongyunImEvent.OnSendMessageFailed,this._onSendMessageFailed,this),u.RongyunImWrapper.on(c.RongyunImEvent.OnReceivedMessage,this._onReceivedMessage,this),u.RongyunImWrapper.on(c.RongyunImEvent.OnMessageBlocked,this._onMessageBlocked,this),p.gg.eventManager.on(g.FriendSystemEvent.OnFriendListRemoveFriend,this._onFriendListRemoveFriend,this),this._connect()},e.prototype.disable=function(){m.gameSocketSystem.offTarget(this),p.gg.eventManager.offTarget(this),u.RongyunImWrapper.offTarget(this),this._resetData(),u.RongyunImWrapper.logout()},e.prototype._onUserOut=function(){this.disable()},e.prototype._onFriendListRemoveFriend=function(e,t){this.removeConversation(t.uid)},e.prototype._connect=function(){return o(this,void 0,void 0,function(){var e;return i(this,function(t){switch(t.label){case 0:return[3,2];case 1:if(e=t.sent(),d.default.isEmpty(e))return p.gg.logger.error("\u83b7\u53d6\u878d\u4e91Token\u5931\u8d25"),[2];u.RongyunImWrapper.connect(e),t.label=2;case 2:return[2]}})})},e.prototype._onConnectCallBack=function(e){e.code==c.RongyunConnectResultEnum.Success&&(this._initLocalPrivateConversationList(),this._initRemoteChatRoomConversationList())},e.prototype._initLocalPrivateConversationList=function(){return o(this,void 0,void 0,function(){var e,t=this;return i(this,function(n){switch(n.label){case 0:return[4,u.RongyunImWrapper.getConversationList({count:10,timestamp:0,conversation_types:[l.RongyunIMConversationType.PRIVATE]})];case 1:return(e=n.sent())&&e.list&&e.list.length>0&&null==e.error_code&&e.list.forEach(function(e){t.insertConversation({conversationType:l.RongyunIMConversationType.PRIVATE,target_id:e.target_id,itemType:S.IMConversationEnum.Private}),t.initPrivateConversationMessages(e.target_id)}),[2]}})})},e.prototype._initRemoteChatRoomConversationList=function(){return o(this,void 0,void 0,function(){var e,t,n,o;return i(this,function(i){switch(i.label){case 0:return[4,m.gameSocketSystem.requestAsync({requestMsg:v.IMProtoMsg.GetConversionListRequest,requestData:{},responseMsg:v.IMProtoMsg.GetConversionListResponse})];case 1:if(1!==(null==(e=i.sent())?void 0:e.status)||null==e.list||0==e.list.length)p.gg.logger.error("\u804a\u5929\u7cfb\u7edf: \u8bf7\u6c42\u8fdc\u7aef\u300c\u804a\u5929\u5ba4\u300d\u4f1a\u8bdd\u5217\u8868\u5931\u8d25",e);else for(t=e.list.length,n=0;n<t;++n)(o=e.list[n]).channel!=v.ChannelEunm.World||null!=this.worldChatRoomId||(this.worldChatRoomId=o.session_id);return this.worldChatRoomId?this.joinChatRoom(this.worldChatRoomId):this.insertConversation({conversationType:l.RongyunIMConversationType.GAME,target_id:S.IMConversationEnum.Game,itemType:S.IMConversationEnum.Game}),[2]}})})},e.prototype._onConnectStatusChanged=function(){},e.prototype._onSendMessageAttached=function(){},e.prototype._onSendMessageSuccess=function(e){this._addRongyunMessageToConversation(e.message),this._updateUnReadConversations(e.message)},e.prototype._onSendMessageFailed=function(e){p.gg.eventManager.emit(b.IMSystemEvent.OnMessageSendFailed,e)},e.prototype._onReceivedMessage=function(e){this._addRongyunMessageToConversation(e.message),this._updateUnReadConversations(e.message)},e.prototype._onMessageBlocked=function(e){var t=this.conversationMessages.get(e.target_id);if(t){var n=t.find(function(t){var n;return t instanceof S.IMTextMessageModel&&e.block_msg_uid==(null===(n=t.message)||void 0===n?void 0:n.message_uid)});n&&(n.isBlock=!0,n.blockReason=e.block_reason,n instanceof S.IMTextMessageModel&&u.RongyunImWrapper.deleteMessagesByMessageIds({message_ids:[n.message.message_id]}),p.gg.eventManager.emit(b.IMSystemEvent.OnMessageSendBlocked,e,n))}},e.prototype.initMessageConversation=function(e){e.conversation_type==l.RongyunIMConversationType.PRIVATE?this.insertConversation({itemType:S.IMConversationEnum.Private,conversationType:l.RongyunIMConversationType.PRIVATE,target_id:e.target_id}):e.conversation_type==l.RongyunIMConversationType.CHATROOM&&this.insertConversation({itemType:S.IMConversationEnum.ChatRoom,conversationType:l.RongyunIMConversationType.CHATROOM,target_id:e.target_id})},e.prototype._addRongyunMessageToConversation=function(e,t){if(void 0===t&&(t=r.FromBottomToTop),this.initMessageConversation(e),e.conversation_type!=l.RongyunIMConversationType.CHATROOM||"1"!=p.gg.localStorage.getItem("world_chat_black_"+e.message_sender_user_id)){var n=this.conversationMessages.get(e.target_id);if(null==n||0==n.length)if(n=[],this.conversationMessages.set(e.target_id,n),e.conversation_type==l.RongyunIMConversationType.PRIVATE){var o=new S.IMSystemMessageModel(h.i18n.getText("im.tips.friendChatTips"));n.splice(0,0,o),p.gg.eventManager.emit(b.IMSystemEvent.OnNewMessageInserted,e.target_id,o,0)}else e.conversation_type,l.RongyunIMConversationType.CHATROOM;if(e.conversation_type==l.RongyunIMConversationType.CHATROOM&&n.length>=60){var i=0;if(n.forEach(function(e){(e instanceof S.IMTextMessageModel||e instanceof S.IMEmojiMessageModel||e instanceof S.IMGameMessageModel||e instanceof S.IMBigGiftMessageModel||e instanceof S.IMQualifyingMessageModel||e instanceof S.IMNoticeMessageModel)&&i++}),i>=60){for(var a=n.length-1,s=a;s>=0;--s)if(n[s]instanceof S.IMTextMessageModel||n[s]instanceof S.IMEmojiMessageModel||n[s]instanceof S.IMGameMessageModel||n[s]instanceof S.IMBigGiftMessageModel||n[s]instanceof S.IMQualifyingMessageModel||n[s]instanceof S.IMNoticeMessageModel){a=s;break}p.gg.logger.log("\u5f53\u524d\u804a\u5929\u5ba4\u6d88\u606f\u591a\u4e8e 60 \u6761\uff0c\u5c06\u5254\u9664\u6700\u65e7\u7684\u6d88\u606f\u540e\uff0c\u63d2\u5165\u65b0\u6d88\u606f"),n.splice(a,n.length-a)}}var c=n.findIndex(function(t){return t instanceof S.IMTextMessageModel?e.message_send_time>t.message.message_send_time:t instanceof S.IMEmojiMessageModel?e.message_send_time>t.message.message_send_time:t instanceof S.IMGameMessageModel?e.message_send_time>t.message.message_send_time:t instanceof S.IMBigGiftMessageModel?e.message_send_time>t.message.message_send_time:t instanceof S.IMQualifyingMessageModel?e.message_send_time>t.message.message_send_time:t instanceof S.IMNoticeMessageModel&&e.message_send_time>t.message.message_send_time});if(-1!=c){var u=0,d=n[c];if(d instanceof S.IMTextMessageModel?u=d.message.message_send_time:d instanceof S.IMEmojiMessageModel?u=d.message.message_send_time:d instanceof S.IMGameMessageModel?u=d.message.message_send_time:d instanceof S.IMBigGiftMessageModel?u=d.message.message_send_time:d instanceof S.IMQualifyingMessageModel?u=d.message.message_send_time:d instanceof S.IMNoticeMessageModel&&(u=d.message.message_send_time),e.message_send_time-u>6e5){var f=new S.IMTimeMessageModel(e);n.splice(c,0,f),p.gg.eventManager.emit(b.IMSystemEvent.OnNewMessageInserted,e.target_id,f,c)}this._insertMessage(n,e,c)}else{var g=n.find(function(t){return t instanceof S.IMTimeMessageModel&&e.message_send_time>=t.sendTimestamp});(!g||e.message_send_time-g.sendTimestamp>6e5)&&(f=new S.IMTimeMessageModel(e),n.splice(0,0,f),p.gg.eventManager.emit(b.IMSystemEvent.OnNewMessageInserted,e.target_id,f,0)),this._insertMessage(n,e,0)}}},e.prototype._initPrivateConversationMessageList=function(e){var t=this.conversationMessages.get(e);if(null==t||0==t.length){t=[],this.conversationMessages.set(e,t);var n=new S.IMSystemMessageModel(h.i18n.getText("im.tips.friendChatTips"));t.splice(0,0,n),p.gg.eventManager.emit(b.IMSystemEvent.OnNewMessageInserted,e,n,0)}},e.prototype._updateUnReadConversations=function(e){var t=e.target_id;if((null==this._curConversation||t!=this._curConversation.target_id)&&!this.unReadConversations.includes(t)){if(e.conversation_type==l.RongyunIMConversationType.CHATROOM&&"1"==p.gg.localStorage.getItem("world_chat_black_"+e.message_sender_user_id))return;this.unReadConversations.push(t),p.gg.eventManager.emit(b.IMSystemEvent.OnUnReadConversationListChanged)}},e.prototype._insertMessage=function(e,t,n){var o=null;if(t.message_text)if(null==t.extra)o=new S.IMTextMessageModel(t);else if(t.extra.type==l.RongyunIMExtraType.Emoji){var i=t.extra.data;o=null==C.imUISystem.emojiConfigs.find(function(e){return e.id==i.emoji_id})?new S.IMTextMessageModel(t):new S.IMEmojiMessageModel(t)}else t.extra.type==l.RongyunIMExtraType.Game?o=new S.IMGameMessageModel(t):t.extra.type==l.RongyunIMExtraType.BigGift?o=new S.IMBigGiftMessageModel(t):t.extra.type==l.RongyunIMExtraType.Qualifying?o=new S.IMQualifyingMessageModel(t):t.extra.type==l.RongyunIMExtraType.Notice&&(o=new S.IMNoticeMessageModel(t));o&&(e.splice(n,0,o),p.gg.eventManager.emit(b.IMSystemEvent.OnNewMessageInserted,t.target_id,o,n))},e.prototype.setNoticeMessageToConversation=function(e){if(n.imSystem.worldChatRoomId){var t={conversation_type:l.RongyunIMConversationType.CHATROOM,target_id:n.imSystem.worldChatRoomId,message_id:0,message_direction:l.RongyunMessageDirection.SEND,message_send_time:Date.now(),message_received_time:Date.now(),message_sender_user_id:"",message_text:"[notice]",extra:{type:l.RongyunIMExtraType.Notice,data:e}};this._addRongyunMessageToConversation(t)}},e}();n.imSystem=new I,function(e){e.FromTopToBottom="fromTopToBottom",e.FromBottomToTop="fromBottomToTop"}(r=n.IMMessageSearchDirection||(n.IMMessageSearchDirection={})),cc._RF.pop()},{"../../configs/AppConfig":"AppConfig","../../ffframework/rongyun/im/RongyunImCore":"RongyunImCore","../../ffframework/rongyun/im/RongyunImEvent":"RongyunImEvent","../../ffframework/rongyun/im/RongyunImWrapper":"RongyunImWrapper","../../framework/gg":"gg","../../framework/i18n/I18n":"I18n","../../framework/utils/StringUtils":"StringUtils","../api/gamecenter/GameCenterApi":"GameCenterApi","../friend/FriendSystemEvent":"FriendSystemEvent","../gamews/GameSocketSystem":"GameSocketSystem","../login/LoginEvent":"LoginEvent","../user/UserSystem":"UserSystem","./IMProto":"IMProto","./IMSystemEvent":"IMSystemEvent","./IMSystemModel":"IMSystemModel","./IMUISystem":"IMUISystem"}],IMUISystem:[function(e,t,n){"use strict";cc._RF.push(t,"c3970v5u0hBGINt3jvI5M5K","IMUISystem");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.imUISystem=void 0;var r=e("../../configs/BundleConfig"),s=a(e("../../framework/asset/AssetLoader")),l=e("../../framework/gg"),c=a(e("../../framework/utils/StringUtils")),u=e("../item/ItemSystem"),p=function(){function e(){this.emojiConfigs=[]}return e.prototype.loadEmojiConfig=function(){var e;return o(this,void 0,Promise,function(){var t,n;return i(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,s.default.loadBundleAsset(r.BundleConfig.Resources+"/config/emojiConfig",cc.JsonAsset)];case 1:return t=o.sent(),(n=null!==(e=null==t?void 0:t.json)&&void 0!==e?e:[])?(this.emojiConfigs=n,l.gg.logger.log("IMSystem: \u52a0\u8f7d\u8868\u60c5\u5305\u914d\u7f6e\u6210\u529f"),[2,!0]):(l.gg.logger.error("IMSystem: \u52a0\u8f7d\u8868\u60c5\u5305\u914d\u7f6e\u5931\u8d25\uff0c\u6ca1\u6709json"),[2,!1]);case 2:return o.sent(),l.gg.logger.error("IMSystem: \u52a0\u8f7d\u8868\u60c5\u5305\u914d\u7f6e\u5931\u8d25"),[2,!1];case 3:return[2]}})})},e.prototype.loadEmojiSpine=function(e){return o(this,void 0,void 0,function(){var t;return i(this,function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),this.emojiConfigs.find(function(t){return t.id==e})?[4,s.default.loadBundleAsset(r.BundleConfig.Resources+"/textures/emoji/"+e+"/"+e,sp.SkeletonData)]:[3,2];case 1:if(t=n.sent())return[2,t];n.label=2;case 2:return[3,4];case 3:return n.sent(),[3,4];case 4:return[2,null]}})})},e.prototype.getSkinPrefab=function(e,t){return o(this,void 0,Promise,function(){var n,o;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),n="Prop_lobby_chat_default",(o=u.itemSystem.getItem(e))&&!c.default.isEmpty(o.item_asset_name)&&(n=o.item_asset_name),[4,s.default.loadBundleAsset(r.BundleConfig.Resources+"/prefabs/panels/im/messageitem/textskin/"+n+"_"+(t?"left":"right"),cc.Prefab)];case 1:return[2,i.sent()];case 2:return i.sent(),[3,3];case 3:return[2,null]}})})},e}();n.imUISystem=new p,cc._RF.pop()},{"../../configs/BundleConfig":"BundleConfig","../../framework/asset/AssetLoader":"AssetLoader","../../framework/gg":"gg","../../framework/utils/StringUtils":"StringUtils","../item/ItemSystem":"ItemSystem"}],IMUnReadMessageHintComponent:[function(e,t,n){"use strict";cc._RF.push(t,"1e79bKI06lECKDqKEBw8kzn","IMUnReadMessageHintComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../framework/gg"),s=e("./IMSystem"),l=e("./IMSystemEvent"),c=cc._decorator,u=c.ccclass,p=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onEnable=function(){this._updateHintNodeVisibility(),r.gg.eventManager.on(l.IMSystemEvent.OnUnReadConversationListChanged,this._onUnReadConversationListChanged,this)},t.prototype.onDisable=function(){r.gg.eventManager.offTarget(this)},t.prototype._onUnReadConversationListChanged=function(){this._updateHintNodeVisibility()},t.prototype._updateHintNodeVisibility=function(){this.node.opacity=s.imSystem.unReadConversations&&s.imSystem.unReadConversations.length>0?255:0},a([u],t)}(cc.Component));n.default=p,cc._RF.pop()},{"../../framework/gg":"gg","./IMSystem":"IMSystem","./IMSystemEvent":"IMSystemEvent"}],IMWordVerifyProto:[function(e,t,n){"use strict";cc._RF.push(t,"32f68yZzIpJd5mfnXqi+Ptg","IMWordVerifyProto"),Object.defineProperty(n,"__esModule",{value:!0}),n.IMWordVerifyProtoMsg=n.WordVerifyChatType=void 0,function(e){e.Common="common",e.Private="private"}(n.WordVerifyChatType||(n.WordVerifyChatType={})),function(e){e.SensitiveWordVerifyRequest="SensitiveWordVerifyRequest",e.SensitiveWordVerifyResponse="SensitiveWordVerifyResponse",e.GetChatBlacklistRequest="GetChatBlacklistRequest",e.GetChatBlacklistResponse="GetChatBlacklistResponse",e.AddToChatBlacklistRequest="AddToChatBlacklistRequest",e.AddToChatBlacklistResponse="AddToChatBlacklistResponse"}(n.IMWordVerifyProtoMsg||(n.IMWordVerifyProtoMsg={})),cc._RF.pop()},{}],IMWordVerifySystem:[function(e,t,n){"use strict";cc._RF.push(t,"9ce41P2SHhBq56thySCyduc","IMWordVerifySystem");var o,i=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.iMWordVerifySystem=void 0;var r=e("../../framework/gg"),s=e("../gamews/GameSocketSystem"),l=e("../user/UserSystem"),c=e("./IMWordVerifyProto"),u=function(){function e(){}return e.prototype.getWordverify=function(e){return i(this,void 0,Promise,function(){return a(this,function(t){switch(t.label){case 0:return[4,s.gameSocketSystem.requestAsync({requestMsg:c.IMWordVerifyProtoMsg.SensitiveWordVerifyRequest,requestData:e,responseMsg:c.IMWordVerifyProtoMsg.SensitiveWordVerifyResponse}).catch(function(){return null})];case 1:return[2,t.sent()]}})})},e.prototype.getChatBlacklist=function(){var e;return i(this,void 0,void 0,function(){var t,n,o,i;return a(this,function(a){switch(a.label){case 0:return[4,s.gameSocketSystem.requestAsync({requestMsg:c.IMWordVerifyProtoMsg.GetChatBlacklistRequest,requestData:{},responseMsg:c.IMWordVerifyProtoMsg.GetChatBlacklistResponse})];case 1:if(1==(null==(t=a.sent())?void 0:t.status)&&(null===(e=t.uids)||void 0===e?void 0:e.length)>0)for(n=0,o=t.uids;n<o.length;n++)(i=o[n])!=l.userSystem.userModel.uid&&r.gg.localStorage.setItem("world_chat_black_"+i,"1");return[2]}})})},e.prototype.addToChatBlacklist=function(e){return i(this,void 0,Promise,function(){var t;return a(this,function(n){switch(n.label){case 0:return[4,s.gameSocketSystem.requestAsync({requestMsg:c.IMWordVerifyProtoMsg.AddToChatBlacklistRequest,requestData:e,responseMsg:c.IMWordVerifyProtoMsg.AddToChatBlacklistResponse}).catch(function(){return null})];case 1:return 1==(null==(t=n.sent())?void 0:t.status)&&r.gg.localStorage.setItem("world_chat_black_"+e.uid,"1"),[2,t]}})})},e}();n.iMWordVerifySystem=new u,window.iMWordVerifySystem=null!==(o=window.iMWordVerifySystem)&&void 0!==o?o:n.iMWordVerifySystem,cc._RF.pop()},{"../../framework/gg":"gg","../gamews/GameSocketSystem":"GameSocketSystem","../user/UserSystem":"UserSystem","./IMWordVerifyProto":"IMWordVerifyProto"}],IResConfig:[function(e,t,n){"use strict";cc._RF.push(t,"b591alk64NJEpOQ3lQrd3YV","IResConfig"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],IStatUI:[function(e,t,n){"use strict";cc._RF.push(t,"d3d11TXOy1KN5xA0h/R7d+p","IStatUI"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],IVIPType:[function(e,t,n){"use strict";cc._RF.push(t,"d4bbcXusplOl4nGKt0Vg9dL","IVIPType"),Object.defineProperty(n,"__esModule",{value:!0}),n.EVIPTimeTypeWithString=n.EVIPTimeType=n.EVIPType=void 0,function(e){e[e.VIPDetail=0]="VIPDetail",e[e.VIPTime=1]="VIPTime",e[e.VIPDiscount=2]="VIPDiscount"}(n.EVIPType||(n.EVIPType={})),function(e){e[e.SevenDay=0]="SevenDay",e[e.ThirtyDay=1]="ThirtyDay"}(n.EVIPTimeType||(n.EVIPTimeType={})),function(e){e.SevenDay="vipcard_week",e.ThirtyDay="vipcard_month"}(n.EVIPTimeTypeWithString||(n.EVIPTimeTypeWithString={})),cc._RF.pop()},{}],ImgUtils:[function(e,t,n){"use strict";cc._RF.push(t,"a7dd3InIqdEBKtuuzmnlXkn","ImgUtils"),Object.defineProperty(n,"__esModule",{value:!0}),n.ImgUtils=void 0;var o=e("./Browser"),i=function(){function e(){}return e.compareVersion=function(e,t){for(var n=e.split("."),o=t.split("."),i=Math.max(n.length,o.length);n.length<i;)n.push("0");for(;o.length<i;)o.push("0");for(var a=0;a<i;a++){var r=parseInt(n[a]),s=parseInt(o[a]);if(r>s)return!0;if(r<s)return!1}return!0},Object.defineProperty(e,"isSupport",{get:function(){if(o.Browser._isMiniGame){var t=o.Browser.window.wx.getSystemInfoSync().SDKVersion;return e.compareVersion(t,"2.14.0")}return!!o.Browser.onLayaRuntime||!!o.Browser.window.Blob&&!!o.Browser.window.Blob},enumerable:!1,configurable:!0}),e.arrayBufferToURL=function(t,n){if(!e.isSupport)return t;if(e.data[t])return e.data[t];var i="";if(o.Browser._isMiniGame||o.Browser.onLayaRuntime)i=o.Browser.window.wx.createBufferURL(n);else if(o.Browser.window.Blob){var a=new Blob([n],{type:"application/octet-binary"});i=o.Browser.window.URL.createObjectURL(a)}return e.isSavaData&&(e.data[t]=i),i},e._arrayBufferToURL=function(t){if(!e.isSupport)return null;var n="";if(o.Browser._isMiniGame||o.Browser.onLayaRuntime)n=o.Browser.window.wx.createBufferURL(t);else if(o.Browser.window.Blob){var i=new Blob([t],{type:"application/octet-binary"});n=o.Browser.window.URL.createObjectURL(i)}return n},e.destroy=function(t){if(e.isSupport){var n=e.data[t];n&&(o.Browser._isMiniGame||o.Browser.onLayaRuntime?o.Browser.window.wx.revokeBufferURL(n):o.Browser.window.Blob&&o.Browser.window.URL.revokeObjectURL(n),delete e.data[t])}},e.data={},e.isSavaData=!1,e}();n.ImgUtils=i,cc._RF.pop()},{"./Browser":"Browser"}],InformationComponent:[function(e,t,n){"use strict";cc._RF.push(t,"dbccaqjFfxBRpM4QRLoTYut","InformationComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=l(e("../../../../components/GradeStarComponent")),u=l(e("../../../../components/UserIconStyle1Component")),p=e("../../../../configs/BundleConfig"),h=e("../../../../configs/CommonPanelConfig"),d=l(e("../../../../framework/asset/AssetLoader")),f=e("../../../../framework/gg"),g=e("../../../../framework/i18n/I18n"),m=l(e("../../../../framework/utils/StringUtils")),y=e("../../../../systems/api/gameapi/GameApi"),_=e("../../../../systems/api/gameapi/PayApiModels"),v=e("../../../../systems/friend/FriendSystem"),b=e("../../../../systems/gamews/WebSocketResponseCode"),S=e("../../../../systems/login/LoginProto"),C=e("../../../../systems/user/UserEvent"),I=e("../../../../systems/user/UserSystem"),R=e("../../../../systems/user/UserUISystem"),L=e("../../../../systems/user/UserWalletSystem"),P=e("../../../../utils/CurrencyUtil"),M=e("../../im/IMPanel"),T=e("../uiSystems/UserInfoUIEvent"),E=l(e("./BigGiftComponent")),A=l(e("./CoinDetailsComponent")),w=l(e("./DressUpComponent")),O=l(e("./UserInfoLevelComponent")),G=cc._decorator,N=G.ccclass,D=G.property,B=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.userIdLabel=null,t.userNameLabel=null,t.userIconComp=null,t.userDiamondLabel=null,t.userCoinLabel=null,t.userCharmLabel=null,t.userFashionLabel=null,t.userReviseBtn=null,t.coinDetailsNode=null,t.bigGiftComponent=null,t.bigGiftBtnNode=null,t.dressUpComponent=null,t.userInfoLevelComponent=null,t.gradeStarComponent=null,t.addUserBtn=null,t.chatBtn=null,t.vipSpine=null,t.vipSprite=null,t.coinDetailsComponent=null,t.playerInfo=null,t.playerInfoType=null,t}return i(t,e),t.prototype.onLoad=function(){this.vipSpine.node.active=!1},t.prototype.onEnable=function(){f.gg.eventManager.on(C.UserEvent.OnUserNameChanged,this._onUserNameChanged,this),f.gg.eventManager.on(C.UserEvent.OnUserIconChanged,this._onUserIconChanged,this),f.gg.eventManager.on(C.UserEvent.OnUserIconFrameChanged,this._onUserIconFrameChanged,this),f.gg.eventManager.on(C.UserEvent.OnUserVipUpdate,this.updataUserVip,this)},t.prototype.onDisable=function(){f.gg.eventManager.offTarget(this),this.closeCoinDetails(),this.vipSpine.node.active=!1},t.prototype.closeCoinDetails=function(){this.coinDetailsComponent&&this.coinDetailsComponent.onHide()},t.prototype.updateUI=function(e){var t,n,o,i,a,r,s,l;this.playerInfoType=e,this.updateUserBalance(),this.getPlayerInfo(),this.dressUpComponent.initUserId(this.playerInfoType),this.bigGiftComponent.initUserId(this.playerInfoType),this.addUserBtn.active=!1,this.chatBtn.active=!1,this.userInfoLevelComponent.node.opacity=0,this.bigGiftComponent.node.active=!0,this.bigGiftBtnNode.active=!0,this.playerInfoType.qurey_uid==I.userSystem.userModel.uid?(this.onClicDressUp(),this.vipSpine.node.getComponent(cc.Button).interactable=!0,this.bigGiftComponent.node.active=!1,this.bigGiftBtnNode.active=!1,this.playerInfoType.isRevise?this.userReviseBtn.active=!0:this.userReviseBtn.active=!1):(this.onClicBigGift(),this.vipSpine.node.getComponent(cc.Button).interactable=!1,this.userReviseBtn.active=!1),this.userIdLabel.string=(null!==(n=null===(t=this.playerInfoType)||void 0===t?void 0:t.qurey_uid)&&void 0!==n?n:"")+": ID",this.userNameLabel.string=m.default.clampStr(null!==(i=null===(o=this.playerInfoType)||void 0===o?void 0:o.userName)&&void 0!==i?i:"",18),this.userIconComp.getComponent(u.default).updateIcon(null!==(r=null===(a=this.playerInfoType)||void 0===a?void 0:a.userIcon)&&void 0!==r?r:""),this.userIconComp.getComponent(u.default).updateIconFrame(null!==(l=null===(s=this.playerInfoType)||void 0===s?void 0:s.userIconFrame)&&void 0!==l?l:"")},t.prototype.getPlayerInfo=function(){var e=this;y.gameApi.getPlyaerInfo(this.playerInfoType).then(function(t){var n,o;null!=t?(e.playerInfo=t.data,e.userIdLabel.string=(null!==(o=null===(n=e.playerInfo)||void 0===n?void 0:n.uid)&&void 0!==o?o:"")+": ID",e.updateUserFashion(),e.updateUserCharm(),e.updateUserGrade(),e.updataUserVip(),e.userInfoLevelComponent.onShowUI(e.playerInfo),e.playerInfo.uid!==I.userSystem.userModel.uid&&(1===e.playerInfo.is_friend?e.chatBtn.active=!0:e.addUserBtn.active=!0)):f.gg.panelRouter.show({panel:h.CommonPanelConfig.toastPanel,data:{text:g.i18n.getText("toast.userInfoFailed")}})}).catch(function(){f.gg.panelRouter.show({panel:h.CommonPanelConfig.toastPanel,data:{text:g.i18n.getText("toast.userInfoFailed")}})})},t.prototype.updataUserVip=function(){var e;return r(this,void 0,void 0,function(){var t;return s(this,function(n){switch(n.label){case 0:return(null===(e=this.playerInfo)||void 0===e?void 0:e.vip_info)?0!=this.playerInfo.vip_info.vip_level||this.playerInfo.vip_info.vip_status!=S.VipStatusType.Inactivated?[3,1]:(this.vipSpine.node.active=!1,[3,3]):[3,4];case 1:return this.vipSprite.active=!1,0==this.playerInfo.vip_info.vip_level&&this.playerInfo.vip_info.vip_status==S.VipStatusType.Activation&&(this.vipSprite.active=!0),[4,R.userUISystem.loadUserVipSpine(this.playerInfo.vip_info.vip_level,this.playerInfo.vip_info.vip_status)];case 2:(t=n.sent())&&(this.vipSpine.skeletonData=t.spineData,this.vipSpine.node.active=!0,this.vipSpine.setAnimation(0,t.animName,!0)),this.vipSpine.node.active=!0,n.label=3;case 3:return[3,5];case 4:this.vipSpine.node.active=!1,n.label=5;case 5:return[2]}})})},t.prototype.updateUserGrade=function(){var e,t;(null===(e=this.playerInfo)||void 0===e?void 0:e.grade)&&0!=(null===(t=this.playerInfo)||void 0===t?void 0:t.grade)?(this.gradeStarComponent.parent.active=!0,this.gradeStarComponent.getComponent(c.default).updateStarUI(this.playerInfo.star,this.playerInfo.grade)):this.gradeStarComponent.parent.active=!1},t.prototype.updateUserFashion=function(){this.userFashionLabel.string=P.CurrencyUtil.toHumanReadable(this.playerInfo.fashion)},t.prototype.updateUserCharm=function(){this.userCharmLabel.string=P.CurrencyUtil.toHumanReadable(this.playerInfo.charm)},t.prototype.updateUserBalance=function(){this.playerInfoType.qurey_uid===I.userSystem.userModel.uid?(this.userDiamondLabel.string=P.CurrencyUtil.toHumanReadable(L.userWalletSystem.diamondBalance),this.userCoinLabel.string=P.CurrencyUtil.toHumanReadable(L.userWalletSystem.coinBalance)):(this.userDiamondLabel.string="******",this.userCoinLabel.string="******")},t.prototype.onModifyBtnClick=function(){this.playerInfoType.qurey_uid===I.userSystem.userModel.uid&&this.playerInfoType.isRevise&&f.gg.panelRouter.loadAsync(h.CommonPanelConfig.userInfoRevisePanel).then(function(){f.gg.panelRouter.show({panel:h.CommonPanelConfig.userInfoRevisePanel})})},t.prototype.onClicDressUp=function(){f.gg.eventManager.emit(T.UserInfoUIEvent.ShowDressUpComponentsEvent)},t.prototype.onClicBigGift=function(){f.gg.eventManager.emit(T.UserInfoUIEvent.ShowBigGiftComponentsEvent)},t.prototype.onClickCoinDetails=function(){return r(this,void 0,void 0,function(){var e,t;return s(this,function(n){switch(n.label){case 0:return this.playerInfoType.qurey_uid===I.userSystem.userModel.uid&&this.playerInfoType.isRevise?null!=this.coinDetailsComponent?[3,2]:[4,d.default.loadBundleAsset(p.BundleConfig.Resources+"/prefabs/panels/userinfo/CoinDetailsPrefab",cc.Prefab)]:[3,3];case 1:e=n.sent(),t=cc.instantiate(e),this.coinDetailsNode.addChild(t),this.coinDetailsComponent=t.getComponent(A.default),n.label=2;case 2:this.coinDetailsComponent.isShow?this.coinDetailsComponent.onClickHide():this.coinDetailsComponent.onShowUI(),n.label=3;case 3:return[2]}})})},t.prototype._onUserNameChanged=function(){var e,t;I.userSystem.userModel.uid===this.playerInfoType.qurey_uid&&(this.userNameLabel.string=m.default.clampStr(null!==(t=null===(e=I.userSystem.userModel)||void 0===e?void 0:e.userName)&&void 0!==t?t:"",18))},t.prototype._onUserIconChanged=function(){I.userSystem.userModel.uid===this.playerInfoType.qurey_uid&&this.userIconComp.getComponent(u.default).updateIcon(I.userSystem.userModel.userIcon)},t.prototype._onUserIconFrameChanged=function(){I.userSystem.userModel.uid===this.playerInfoType.qurey_uid&&this.userIconComp.getComponent(u.default).updateIconFrame(I.userSystem.userModel.userIconFrame)},t.prototype.onAddFriendBtnClick=function(){return r(this,void 0,void 0,function(){var e,t,n,o;return s(this,function(i){switch(i.label){case 0:return e=this.playerInfo.uid,t=this.playerInfo.nick,f.gg.panelRouter.show({panel:h.CommonPanelConfig.loadingPanel}),[4,v.friendSystem.friendApplicationRequestAsync({uid:e})];case 1:return n=i.sent(),f.gg.panelRouter.hide({panel:h.CommonPanelConfig.loadingPanel}),null,(o=(null==n?void 0:n.status)==b.WebSocketResponseCode.Success?g.i18n.getText("toast.friendApplicationSended",m.default.clampStr(t)):(null==n?void 0:n.status)==b.WebSocketResponseCode.OperationRefused?g.i18n.getText("toast.friendApplicationDisable"):(null==n?void 0:n.status)==b.WebSocketResponseCode.YourFriendReachLimit?g.i18n.getText("toast.yourFriendCountReachMaxLimit"):(null==n?void 0:n.status)==b.WebSocketResponseCode.OtherFriendReachLimit?g.i18n.getText("toast.oppoFriendCountReachMaxLimit"):(null==n?void 0:n.status)==b.WebSocketResponseCode.AlreadyFriend?g.i18n.getText("toast.alreadyFriend"):g.i18n.getText("toast.friendApplicationSended",m.default.clampStr(t)))&&f.gg.panelRouter.show({panel:h.CommonPanelConfig.toastPanel,data:{text:o}}),[2]}})})},t.prototype.onClickToVip=function(){this.playerInfoType.qurey_uid===I.userSystem.userModel.uid&&this.playerInfoType.isRevise&&f.gg.panelRouter.show({panel:h.CommonPanelConfig.storePanel,data:{type:_.GoodsTypeEnum.VIP}})},t.prototype.onChatBtnClick=function(){f.gg.panelRouter.show({panel:h.CommonPanelConfig.imPanel,data:{entrance:M.IMEntrance.FriendList,conversationId:this.playerInfo.uid}})},a([D({type:cc.Label,tooltip:"\u7528\u6237id"})],t.prototype,"userIdLabel",void 0),a([D({type:cc.Label,tooltip:"\u7528\u6237\u540d\u5b57"})],t.prototype,"userNameLabel",void 0),a([D({type:cc.Node,tooltip:"\u73a9\u5bb6\u5934\u50cf\u6837\u5f0f1"})],t.prototype,"userIconComp",void 0),a([D({type:cc.Label,tooltip:"\u7528\u6237\u94bb\u77f3"})],t.prototype,"userDiamondLabel",void 0),a([D({type:cc.Label,tooltip:"\u7528\u6237\u91d1\u5e01"})],t.prototype,"userCoinLabel",void 0),a([D({type:cc.Label,tooltip:"\u7528\u6237\u9b45\u529b\u503c"})],t.prototype,"userCharmLabel",void 0),a([D({type:cc.Label,tooltip:"\u7528\u6237\u65f6\u5c1a\u503c"})],t.prototype,"userFashionLabel",void 0),a([D({type:cc.Node,tooltip:"\u7528\u6237\u4fee\u6539\u4fe1\u606f\u6309\u94ae"})],t.prototype,"userReviseBtn",void 0),a([D({type:cc.Node,tooltip:"\u7528\u6237\u91d1\u5e01\u660e\u7ec6\u8282\u70b9"})],t.prototype,"coinDetailsNode",void 0),a([D({type:E.default,tooltip:"\u7528\u6237\u5927\u793c\u7269\u7ec4\u4ef6"})],t.prototype,"bigGiftComponent",void 0),a([D({type:cc.Node,tooltip:"\u7528\u6237\u5927\u793c\u7269\u6309\u94ae"})],t.prototype,"bigGiftBtnNode",void 0),a([D({type:w.default,tooltip:"\u7528\u6237\u88c5\u626e\u7ec4\u4ef6"})],t.prototype,"dressUpComponent",void 0),a([D({type:O.default,tooltip:"\u7528\u6237\u7b49\u7ea7\u7ec4\u4ef6"})],t.prototype,"userInfoLevelComponent",void 0),a([D({type:cc.Node,tooltip:"\u7528\u6237\u6bb5\u4f4d\u661f\u661f\u4e2a\u6570\u5e03\u5c40"})],t.prototype,"gradeStarComponent",void 0),a([D({type:cc.Node,tooltip:"\u6dfb\u52a0\u597d\u53cb\u8282\u70b9"})],t.prototype,"addUserBtn",void 0),a([D({type:cc.Node,tooltip:"\u597d\u53cb\u804a\u5929\u8282\u70b9"})],t.prototype,"chatBtn",void 0),a([D({type:sp.Skeleton,tooltip:"\u7528\u6237vipspine"})],t.prototype,"vipSpine",void 0),a([D({type:cc.Node,tooltip:"\u7528\u6237vip0\u56fe\u6807"})],t.prototype,"vipSprite",void 0),a([N],t)}(cc.Component);n.default=B,cc._RF.pop()},{"../../../../components/GradeStarComponent":"GradeStarComponent","../../../../components/UserIconStyle1Component":"UserIconStyle1Component","../../../../configs/BundleConfig":"BundleConfig","../../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../../framework/asset/AssetLoader":"AssetLoader","../../../../framework/gg":"gg","../../../../framework/i18n/I18n":"I18n","../../../../framework/utils/StringUtils":"StringUtils","../../../../systems/api/gameapi/GameApi":"GameApi","../../../../systems/api/gameapi/PayApiModels":"PayApiModels","../../../../systems/friend/FriendSystem":"FriendSystem","../../../../systems/gamews/WebSocketResponseCode":"WebSocketResponseCode","../../../../systems/login/LoginProto":"LoginProto","../../../../systems/user/UserEvent":"UserEvent","../../../../systems/user/UserSystem":"UserSystem","../../../../systems/user/UserUISystem":"UserUISystem","../../../../systems/user/UserWalletSystem":"UserWalletSystem","../../../../utils/CurrencyUtil":"CurrencyUtil","../../im/IMPanel":"IMPanel","../uiSystems/UserInfoUIEvent":"UserInfoUIEvent","./BigGiftComponent":"BigGiftComponent","./CoinDetailsComponent":"CoinDetailsComponent","./DressUpComponent":"DressUpComponent","./UserInfoLevelComponent":"UserInfoLevelComponent"}],InnerEvent:[function(e,t,n){"use strict";cc._RF.push(t,"f353cL4bJpHo6iJBv3oe2I0","InnerEvent"),Object.defineProperty(n,"__esModule",{value:!0}),n.PAGE_ENUM=n.HallEvent=void 0;var o=e("../laya/Laya").Laya.EventDispatcher,i=function(){function e(){}return Object.defineProperty(e,"dispatcher",{get:function(){return null==e._dispatcher&&(e._dispatcher=new o),e._dispatcher},enumerable:!1,configurable:!0}),e.event=function(t,n){return e.dispatcher.event(t,n)},e.on=function(t,n,o,i){return e.dispatcher.on(t,n,o,i)},e.off=function(t,n,o){return e.dispatcher.off(t,n,o)},e.eventByHead=function(e,t){this.event(this.getEventString(e.uMainID,e.uAssistantID),t)},e.getEventString=function(e,t){return e+"_"+t},e.SOCKET_OPEN="SOCKET_OPEN",e.SHOW_CHAT_PANEL="SHOW_CHAT_PANEL",e.NEW_CHAT_INFO="new_chat_info",e.MAIL_INFO_UPDATE="mail_info_update",e.MAIL_ALL_READ="mail_all_read",e.SHOW_TIPS="show_tips",e.SHOW_PAGE="show_page",e.UPDATE_LOADING_PROGRESS="update_loading_progress",e.PROP_STATE_CHANGE="prop_state_change",e.SHOW_RECHARGE_VIEW="show_recharge_view",e.SHOW_SAFETY_BOX_VIEW="show_safety_box_view",e.SHOW_RECONNECT_VIEW="show_reconnect_view",e.SHOW_ADD_HOME_SCREEN="show_add_home_screen",e.SHOW_WAITTING_MSG="show_watting_msg",e.CLOSE_WAITTING_MSG="close_watting_msg",e.SHOW_MESSAGE="show_message",e.CLOSE_DIALOG="close_dialog",e.SHOW_NET_MESSAGE="show_net_message",e.SHOW_SELECT_GAME_ROOM="show_select_game_room",e.SHOW_SERVICE_DIALOG="show_service_dialog",e.SHOW_RETIRAR_DIALOG="show_retirar_dialog",e.SHOW_BINDWALLET_DIALOG="show_bindwallet_dialog",e.SHOW_WITHDRAW_DIALOG="show_withdraw_dialog",e.SHOW_MODIFY_REGOSTER_VIEW="show_modify_register_view",e.SHOW_USERINFO_DIALOG="show_userinfo_dialog",e.SHOW_SETFACE_DIALOG="show_setface_dialog",e.SHOW_REGIST_DIALOG="show_regist_dialog",e.SHOW_DIALY_RANK_DIALOG="show_dialy_rank_dialog",e.SHOW_MONTH_RANK_DIALOG="show_month_rank_dialog",e.SHOW_REGRA_DIALOG="show_regra_dialog",e.SHOW_AGENT_DIALOG="show_agent_dialog",e.SHOW_PECEBER_DIALOG="show_peceber_dialog",e.SHOW_REGISTODACOMISS_DIALOG="show_regist_da_comissao_dialog",e.SHOW_MAIL_DIALOG="show_mail_dialog",e.SHOW_MAILDETAIL_DIALOG="show_maildetail_dialog",e.SHOW_BINDPHONE_DIALOG="show_bindphone_dialog",e.SHOW_SETTING_DIALOG="show_setting_dialog",e.SHOW_TERMS_DIALOG="show_terms_dialog",e.SHOW_1RECHARGE_DIALOG="show_1recharge_dialog",e.SHOW_MISSPASSWD_DIALOG="show_misspasswd_dialog",e.SHOW_LOGINACCOUNT_DIALOG="show_loginaccount_dialog",e.SHOW_LOGIN_SCENE="show_login_scene",e.SHOW_WALLET_SCENE="show_wallet_scene",e.SHOW_WEALTHCLUB_DIALOG="SHOW_WEALTHCLUB_DIALOG",e.SHOW_REBATE_DIALOG="SHOW_REBATE_DIALOG",e.SHOW_LUCKY_ROULETTE="SHOW_LUCKY_ROULETTE",e.SHOW_ACHIEVERULE_DIALOG="SHOW_ACHIEVERULE_DIALOG",e.LOADING_MSG="loading_msg",e.LOADING_FINISH="loading_finish",e.SHOW_LOGINING_VIEW="loading_view",e.SHOW_REWARD="SHOW_REWARD",e.SHOW_RECHARGE_TIP="SHOW_RECHARGE_TIP",e.SHOW_GRAND_PRIX="SHOW_GRAND_PRIX",e.SHOW_SELECT_GAME="SHOW_SELECT_GAME",e.SHOW_VERIFICATION="SHOW_VERIFICATION",e.SHOW_LONGHU_GAME="SHOW_LONGHU_GAME",e.SHOW_ZHUANPAN_DIALOG="show_zhuanpan_dialog",e.GET_ZHUANPAN_RESULT="get_zhuanpan_result",e.REFRESH_HALL="refresh_hall",e.REFRESH_HALL_FIRSTRECHARGE="refresh_hall_firstrecharge",e.UPDATE_FACE="update_face",e.UPDATE_USERMONEY="update_usermoney",e.UPDATE_USERINFO="UPDATE_USERINFO",e.UPDATE_WALLETINFO="update_walletinfo",e.UPDATE_RECHARGE_GIFT="UPDATE_RECHARGE_GIFT",e.LOGIN_QUICK="EVENT_LOGIN_QUICK",e.LOGIN_FACEBOOK="EVENT_LOGIN_FACEBOOK",e.LOGIN_GOOGLE="EVENT_LOGIN_GOOGLE",e.LOGIN_METAMASK="EVENT_LOGIN_METAMASK",e.LOGIN_GAME="EVENT_LOGIN_GAME",e.LOGIN_GAME_SUCCEED="EVENT_LOGIN_GAME_SUCCEED",e.LOGIN_GAME_ERROR="EVENT_LOGIN_GAME_ERROR",e.GAME_SITE_ERROR="EVENT_GAME_SITE_ERROR",e.ON_RSP_LOGIN_GOOGLE="EVENT_LOGIN_GOOGLE_RSP",e.ON_RSP_LOGIN_FACEBOOK="EVENT_LOGIN_FACEBOOK_RSP",e.LOAD_GAME="load_game",e.OPEN_HALL="OPEN_HALL",e.EXIT_HALL="EXIT_HALL",e.HIDE_HALL="HIDE_HALL",e.GO_BACK_TO_HALL="GO_BACK_TO_HALL",e.USER_FRESH="USER_FRESH",e.MUTE_SOUND="MUTE_SOUND",e.UNMUTE_SOUND="UNMUTE_SOUND",e.LOGOUT_SHIXUN_GAME="LOGOUT_SHIXUN_GAME",e.CHECK_RECONNECT="CHECK_RECONNECT",e.LOADGAMELIST="LOADGAMELIST",e.SHOW_DOWNLOAD_APK="SHOW_DOWNLOAD_APK",e.FIRST_PAY_FINISH="FIRST_PAY_FINISH",e.REFRESH_ACHIEVEMENT="REFRESH_ACHIEVEMENT",e.ROOM_INFO_CHANGE="room_info_change",e.USER_ENTER="user_enter",e.USER_LEFT="user_left",e.USER_UPDATE="user_update",e.USER_SIT_DOWN="user_sit_down",e.USER_STAND_UP="user_stand_up",e.QUEUE_STATE_CHANGE="QUEUE_STATE_CHANGE",e}();n.HallEvent=i,function(e){e[e.LOADING=0]="LOADING",e[e.LOGIN=1]="LOGIN",e[e.HALL=2]="HALL",e[e.SHOP=3]="SHOP",e[e.GAME_ROOM=4]="GAME_ROOM",e[e.GAME_DESK=5]="GAME_DESK",e[e.BAG=6]="BAG"}(n.PAGE_ENUM||(n.PAGE_ENUM={})),cc._RF.pop()},{"../laya/Laya":"Laya"}],InteracSystemEvent:[function(e,t,n){"use strict";cc._RF.push(t,"213dfkrhVJJwa370/KeUcGX","InteracSystemEvent"),Object.defineProperty(n,"__esModule",{value:!0}),n.InteracSystemEvent=void 0,function(e){e.GetInteractListResponseEvent="InteracSystemEvent.GetInteractListResponseEvent",e.InteractResponseEvent="InteracSystemEvent.InteractResponseEvent",e.InteractBroadCastEvent="InteracSystemEvent.InteractBroadCastEvent"}(n.InteracSystemEvent||(n.InteracSystemEvent={})),cc._RF.pop()},{}],InteractEmojiItem:[function(e,t,n){"use strict";cc._RF.push(t,"d09e16NPHBDdKDzJMMsRzGk","InteractEmojiItem");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../../configs/CommonPanelConfig"),s=e("../../../framework/gg"),l=e("../../../framework/i18n/I18n"),c=e("../../../systems/im/IMUISystem"),u=e("../../../systems/interact/InteractProto"),p=e("../../../systems/interact/InteractSystem"),h=cc._decorator,d=h.ccclass,f=h.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.emojiSpine=null,t.interactContentInfo=null,t}return i(t,e),t.prototype.updateUI=function(){var e=this;null!=this.interactContentInfo&&this.interactContentInfo.interact_type===u.InteractTypeEunm.Emoji&&c.imUISystem.loadEmojiSpine(this.interactContentInfo.interact_content).then(function(t){e.emojiSpine.isValid&&t?(e.emojiSpine.skeletonData=t,e.emojiSpine.setAnimation(0,"animation",!0)):s.gg.logger.error("\u8868\u60c5\u5305\u52a0\u8f7dnull")}).catch(function(e){s.gg.logger.error("\u8868\u60c5\u5305\u52a0\u8f7d\u51fa\u9519",e)})},t.prototype.onClickSendEmoji=function(){var e="";if(this.interactContentInfo.interact_content.split("_")[0]&&(e=this.interactContentInfo.interact_content.split("_")[0]),e){var t=p.interactSystem.vipEmoji.get(e);if((null==t?void 0:t.vip_level)>0)return void s.gg.panelRouter.show({panel:r.CommonPanelConfig.toastPanel,data:{text:l.i18n.getText("toast.emojiVip",t.vip_level)}})}p.interactSystem.sendInteractRequest({interact_id:this.interactContentInfo.interact_id,interact_type:this.interactContentInfo.interact_type})},a([f({type:sp.Skeleton,tooltip:"\u8868\u60c5\u52a8\u753b"})],t.prototype,"emojiSpine",void 0),a([d],t)}(cc.Component);n.default=g,cc._RF.pop()},{"../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../framework/gg":"gg","../../../framework/i18n/I18n":"I18n","../../../systems/im/IMUISystem":"IMUISystem","../../../systems/interact/InteractProto":"InteractProto","../../../systems/interact/InteractSystem":"InteractSystem"}],InteractEmojiList:[function(e,t,n){"use strict";cc._RF.push(t,"9ccb8pvWYZINabt8WEFw0hu","InteractEmojiList");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=r(e("./InteractEmojiItem")),l=cc._decorator,c=l.ccclass,u=l.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.emojiItemScrollView=null,t.emojiItemParentNode=null,t.emojiItemNode=null,t.emojiItemNodeHeight=30,t.spaceingY=10,t.paddingTop=10,t.paddingBottom=10,t.visableAreaMarginTop=0,t.visableAreaMarginBottom=0,t.itemList=[],t._virtualNodes=[],t.lastTimer=0,t._itemNodeAll=[],t.count=4,t}return i(t,e),t.prototype.getItemNode=function(){var e=this._itemNodeAll.pop();return e||((e=cc.instantiate(this.emojiItemNode)).parent=this.emojiItemParentNode),e},t.prototype.reset=function(){this.itemList=[],this._virtualNodes=[],this.emojiItemScrollView.stopAutoScroll(),this.emojiItemParentNode.position=cc.v3(),this._itemNodeAll=[];for(var e=this.emojiItemParentNode.children.length-1;e>=0;--e)this._itemNodeAll.push(this.emojiItemParentNode.children[e]),this.emojiItemParentNode.children[e].opacity=0},t.prototype.init=function(e){this.itemList=e,this.itemList&&this.itemList.length>0&&(this._virtualNodes=this.itemList.map(function(){return null}),this._updateListWidth(),this.emojiItemParentNode.position=cc.v3(),this._updateList())},t.prototype._updateListWidth=function(){var e=Math.ceil(this.itemList.length/this.count);this.emojiItemParentNode.height=this.paddingTop+this.paddingBottom+this.emojiItemNodeHeight*e+this.spaceingY*e,this.emojiItemParentNode.height<this.emojiItemScrollView.node.height&&(this.emojiItemParentNode.height=this.emojiItemScrollView.node.height)},t.prototype.onEnable=function(){this.emojiItemParentNode.on(cc.Node.EventType.POSITION_CHANGED,this._onPositionChanged,this),this.emojiItemScrollView.node.on("scroll-ended",this._updateList,this)},t.prototype.onDisable=function(){this.emojiItemParentNode.off(cc.Node.EventType.POSITION_CHANGED,this._onPositionChanged,this),this.emojiItemScrollView.node.off("scroll-ended",this._updateList,this)},t.prototype._onPositionChanged=function(){var e=Date.now();(e-this.lastTimer)/500>=.1&&(this.lastTimer=e,this._updateList())},t.prototype._updateList=function(){for(var e=0;e<this._virtualNodes.length;++e){var t=this._virtualNodes[e];if(this._isVisable(e)){if(null==t){t=this.getItemNode(),this._virtualNodes[e]=t;var n=t.getComponent(s.default);n.interactContentInfo=this.itemList[e],n.updateUI(),t.opacity=255}t.position=this._convertIndexToPosition(e)}else t&&(t.opacity=0,this._itemNodeAll.push(t)),this._virtualNodes[e]=null}},t.prototype._isVisable=function(e){var t=this._convertIndexToPosition(e),n=-this.emojiItemParentNode.position.y+this.visableAreaMarginTop,o=n-this.visableAreaMarginTop-this.emojiItemScrollView.node.height-this.visableAreaMarginBottom;return t.y+.5*this.emojiItemNodeHeight<=n&&t.y-.5*this.emojiItemNodeHeight>=o},t.prototype._convertIndexToPosition=function(e){var t=Math.floor(e/this.count),n=this.emojiItemParentNode.width/this.count,o=this.emojiItemParentNode.width/2-n/2-n*(e%this.count);return cc.v3(o,-this.paddingTop-this.emojiItemNodeHeight*t-t*this.spaceingY)},a([u({type:cc.ScrollView,tooltip:"\u9053\u5177ScrollView"})],t.prototype,"emojiItemScrollView",void 0),a([u({type:cc.Node,tooltip:"\u9053\u5177\u7236\u8282\u70b9"})],t.prototype,"emojiItemParentNode",void 0),a([u({type:cc.Prefab,tooltip:"\u9053\u5177\u8282\u70b9"})],t.prototype,"emojiItemNode",void 0),a([u({tooltip:"\u9884\u5236\u4f53item\u8282\u70b9\u7684\u9ad8\u5ea6"})],t.prototype,"emojiItemNodeHeight",void 0),a([u({tooltip:"Item \u95f4\u9694\uff08px\uff09"})],t.prototype,"spaceingY",void 0),a([u({tooltip:"Item \u8ddd\u79bb\u4e0a\u8fb9\uff08px\uff09"})],t.prototype,"paddingTop",void 0),a([u({tooltip:"Item \u8ddd\u79bb\u4e0b\u8fb9\uff08px\uff09"})],t.prototype,"paddingBottom",void 0),a([u({tooltip:"\u53ef\u89c6\u533a\u57df margin, \u8d1f\u6570\u4e3a\u5f80\u5916\u6269\u5c55"})],t.prototype,"visableAreaMarginTop",void 0),a([u({tooltip:"\u53ef\u89c6\u533a\u57df margin, \u8d1f\u6570\u4e3a\u5f80\u5916\u6269\u5c55"})],t.prototype,"visableAreaMarginBottom",void 0),a([c],t)}(cc.Component);n.default=p,cc._RF.pop()},{"./InteractEmojiItem":"InteractEmojiItem"}],InteractMsgItem:[function(e,t,n){"use strict";cc._RF.push(t,"6c83cvHOjhOlYAdbGBHIIA/","InteractMsgItem");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../../configs/AppConfig"),s=e("../../../configs/CommonPanelConfig"),l=e("../../../framework/gg"),c=e("../../../systems/gamesetting/GameSettingSystem"),u=e("../../../systems/interact/InteractProto"),p=e("../../../systems/interact/InteractSystem"),h=cc._decorator,d=h.ccclass,f=h.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.msgLab=null,t.interactContentInfo=null,t}return i(t,e),t.prototype.updateUI=function(){null!=this.interactContentInfo&&this.interactContentInfo.interact_type===u.InteractTypeEunm.Msg&&(this.msgLab.string=this.interactContentInfo.interact_content,r.AppConfig.isDebug&&"en"==c.gameSettingSystem.setting.languageCode&&this.interactContentInfo.interact_content_zh&&(this.msgLab.string=this.interactContentInfo.interact_content_zh))},t.prototype.onClickSendMsg=function(){p.interactSystem.sendInteractRequest({interact_id:this.interactContentInfo.interact_id,interact_type:this.interactContentInfo.interact_type}),l.gg.panelRouter.hide({panel:s.CommonPanelConfig.gameFastInteractPanel})},a([f({type:cc.Label,tooltip:"\u6587\u672c"})],t.prototype,"msgLab",void 0),a([d],t)}(cc.Component);n.default=g,cc._RF.pop()},{"../../../configs/AppConfig":"AppConfig","../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../framework/gg":"gg","../../../systems/gamesetting/GameSettingSystem":"GameSettingSystem","../../../systems/interact/InteractProto":"InteractProto","../../../systems/interact/InteractSystem":"InteractSystem"}],InteractMsgList:[function(e,t,n){"use strict";cc._RF.push(t,"75a305wFW1Hmb7TR7b5Amxn","InteractMsgList");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=r(e("./InteractMsgItem")),l=cc._decorator,c=l.ccclass,u=l.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.msgItemScrollView=null,t.msgItemParentNode=null,t.msgItemNode=null,t.msgItemNodeHeight=30,t.spaceingY=10,t.paddingTop=10,t.paddingBottom=10,t.visableAreaMarginTop=0,t.visableAreaMarginBottom=0,t.itemList=[],t._virtualNodes=[],t.lastTimer=0,t._itemNodeAll=[],t.count=1,t}return i(t,e),t.prototype.getItemNode=function(){var e=this._itemNodeAll.pop();return e||((e=cc.instantiate(this.msgItemNode)).parent=this.msgItemParentNode),e},t.prototype.reset=function(){this.itemList=[],this._virtualNodes=[],this.msgItemScrollView.stopAutoScroll(),this.msgItemParentNode.position=cc.v3(),this._itemNodeAll=[];for(var e=this.msgItemParentNode.children.length-1;e>=0;--e)this._itemNodeAll.push(this.msgItemParentNode.children[e]),this.msgItemParentNode.children[e].opacity=0},t.prototype.init=function(e){this.itemList=e,this.itemList&&this.itemList.length>0&&(this._virtualNodes=this.itemList.map(function(){return null}),this._updateListWidth(),this.msgItemParentNode.position=cc.v3(),this._updateList())},t.prototype._updateListWidth=function(){var e=Math.ceil(this.itemList.length/this.count);this.msgItemParentNode.height=this.paddingTop+this.paddingBottom+this.msgItemNodeHeight*e+this.spaceingY*e,this.msgItemParentNode.height<this.msgItemScrollView.node.height&&(this.msgItemParentNode.height=this.msgItemScrollView.node.height)},t.prototype.onEnable=function(){this.msgItemParentNode.on(cc.Node.EventType.POSITION_CHANGED,this._onPositionChanged,this),this.msgItemScrollView.node.on("scroll-ended",this._updateList,this)},t.prototype.onDisable=function(){this.msgItemParentNode.off(cc.Node.EventType.POSITION_CHANGED,this._onPositionChanged,this),this.msgItemScrollView.node.off("scroll-ended",this._updateList,this)},t.prototype._onPositionChanged=function(){var e=Date.now();(e-this.lastTimer)/500>=.1&&(this.lastTimer=e,this._updateList())},t.prototype._updateList=function(){for(var e=0;e<this._virtualNodes.length;++e){var t=this._virtualNodes[e];if(this._isVisable(e)){if(null==t){t=this.getItemNode(),this._virtualNodes[e]=t;var n=t.getComponent(s.default);n.interactContentInfo=this.itemList[e],n.updateUI(),t.opacity=255}t.position=this._convertIndexToPosition(e)}else t&&(t.opacity=0,this._itemNodeAll.push(t)),this._virtualNodes[e]=null}},t.prototype._isVisable=function(e){var t=this._convertIndexToPosition(e),n=-this.msgItemParentNode.position.y+this.visableAreaMarginTop,o=n-this.visableAreaMarginTop-this.msgItemScrollView.node.height-this.visableAreaMarginBottom;return t.y+.5*this.msgItemNodeHeight<=n&&t.y-.5*this.msgItemNodeHeight>=o},t.prototype._convertIndexToPosition=function(e){var t=Math.floor(e/this.count),n=this.msgItemParentNode.width/this.count,o=this.msgItemParentNode.width/2-n/2-n*(e%this.count);return cc.v3(o,-this.paddingTop-this.msgItemNodeHeight*t-t*this.spaceingY)},a([u({type:cc.ScrollView,tooltip:"\u9053\u5177ScrollView"})],t.prototype,"msgItemScrollView",void 0),a([u({type:cc.Node,tooltip:"\u9053\u5177\u7236\u8282\u70b9"})],t.prototype,"msgItemParentNode",void 0),a([u({type:cc.Prefab,tooltip:"\u9053\u5177\u8282\u70b9"})],t.prototype,"msgItemNode",void 0),a([u({tooltip:"\u9884\u5236\u4f53item\u8282\u70b9\u7684\u9ad8\u5ea6"})],t.prototype,"msgItemNodeHeight",void 0),a([u({tooltip:"Item \u95f4\u9694\uff08px\uff09"})],t.prototype,"spaceingY",void 0),a([u({tooltip:"Item \u8ddd\u79bb\u4e0a\u8fb9\uff08px\uff09"})],t.prototype,"paddingTop",void 0),a([u({tooltip:"Item \u8ddd\u79bb\u4e0b\u8fb9\uff08px\uff09"})],t.prototype,"paddingBottom",void 0),a([u({tooltip:"\u53ef\u89c6\u533a\u57df margin, \u8d1f\u6570\u4e3a\u5f80\u5916\u6269\u5c55"})],t.prototype,"visableAreaMarginTop",void 0),a([u({tooltip:"\u53ef\u89c6\u533a\u57df margin, \u8d1f\u6570\u4e3a\u5f80\u5916\u6269\u5c55"})],t.prototype,"visableAreaMarginBottom",void 0),a([c],t)}(cc.Component);n.default=p,cc._RF.pop()},{"./InteractMsgItem":"InteractMsgItem"}],InteractPlayComponent:[function(e,t,n){"use strict";cc._RF.push(t,"b0d13XYE55KCI8fZThi7Fdv","InteractPlayComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.InteractBubbleDirection=void 0;var c,u=e("../configs/AppConfig"),p=e("../configs/BundleConfig"),h=e("../framework/gg"),d=l(e("../prefabs/panels/im/messageitem/IMPanelTextMessageRenderer")),f=e("../systems/gamesetting/GameSettingSystem"),g=e("../systems/im/IMUISystem"),m=e("../systems/interact/InteracSystemEvent"),y=e("../systems/interact/InteractProto"),_=e("./CommonProperty"),v=cc._decorator,b=v.ccclass,S=v.property;(function(e){e[e.Left=0]="Left",e[e.Right=1]="Right"})(c=n.InteractBubbleDirection||(n.InteractBubbleDirection={}));var C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.leftNode=null,t.leftArrowNode=null,t.leftMsgSkinContent=null,t.leftMsgContent=null,t.leftMsgLab=null,t.leftEmojiContent=null,t.leftSpine=null,t.rightNode=null,t.rightArrowNode=null,t.rightMsgSkinContent=null,t.rightMsgContent=null,t.rightMsgLab=null,t.rightEmojiContent=null,t.rightSpine=null,t.layoutProperty=null,t.direction=c.Left,t.audiosPath=p.BundleConfig.Resources+"/audios/interact/",t.playerId=-1,t.chatBubble="",t}return i(t,e),t.prototype.onLoad=function(){this.leftNode.opacity=0,this.rightNode.opacity=0},t.prototype.onEnable=function(){h.gg.eventManager.on(m.InteracSystemEvent.InteractBroadCastEvent,this.onPlayInteract,this)},t.prototype.onDisable=function(){h.gg.eventManager.offTarget(this),this.reset()},t.prototype.init=function(e,t,n){this.direction=t,this.playerId=e,this.chatBubble=n},t.prototype.reset=function(){this.playerId=-1,this.rightNode.stopAllActions(),this.leftNode.stopAllActions(),this.leftNode.opacity=0,this.rightNode.opacity=0,this.chatBubble=""},t.prototype.onPlayInteract=function(e,t){return r(this,void 0,void 0,function(){var n,o,i,a=this;return s(this,function(r){switch(r.label){case 0:return Number(e)!=this.playerId?[2]:(this.leftEmojiContent.active=!1,this.rightEmojiContent.active=!1,this.leftMsgContent.active=!1,this.rightMsgContent.active=!1,this.leftMsgSkinContent.active=!1,this.rightMsgSkinContent.active=!1,this.leftSpine.node.active=!1,this.rightSpine.node.active=!1,this.leftMsgLab.node.active=!1,this.rightMsgLab.node.active=!1,this.rightArrowNode.active=!0,this.leftArrowNode.active=!0,t.interact_type!==y.InteractTypeEunm.Msg?[3,7]:(this.leftMsgLab.string=t.interact_content,this.rightMsgLab.string=t.interact_content,n=t.interact_content,u.AppConfig.isDebug&&"en"==f.gameSettingSystem.setting.languageCode&&t.interact_content_zh&&(this.rightMsgLab.string=t.interact_content_zh,this.leftMsgLab.string=t.interact_content_zh,n=t.interact_content_zh),"1020000"==this.chatBubble?[3,5]:(this.rightArrowNode.active=!1,this.leftArrowNode.active=!1,this.leftMsgSkinContent.active=!0,this.rightMsgSkinContent.active=!0,this.direction!==c.Left?[3,2]:[4,g.imUISystem.getSkinPrefab(this.chatBubble,!1)])));case 1:return o=r.sent(),i=cc.instantiate(o),this.leftMsgSkinContent.destroyAllChildren(),i.parent=this.leftMsgSkinContent,i.getComponent(d.default).updateText(n,200,this.layoutProperty),[3,4];case 2:return[4,g.imUISystem.getSkinPrefab(this.chatBubble,!0)];case 3:o=r.sent(),i=cc.instantiate(o),this.rightMsgSkinContent.destroyAllChildren(),i.parent=this.rightMsgSkinContent,i.getComponent(d.default).updateText(n,200,this.layoutProperty),r.label=4;case 4:return[3,6];case 5:this.leftMsgContent.active=!0,this.rightMsgContent.active=!0,this.leftMsgLab.node.active=!0,this.rightMsgLab.node.active=!0,r.label=6;case 6:return[3,8];case 7:this.leftEmojiContent.active=!0,this.rightEmojiContent.active=!0,this.leftSpine.node.active=!0,this.rightSpine.node.active=!0,g.imUISystem.loadEmojiSpine(t.interact_content).then(function(e){e?(a.leftSpine.skeletonData=e,a.leftSpine.setAnimation(0,"animation",!0),a.rightSpine.skeletonData=e,a.rightSpine.setAnimation(0,"animation",!0)):h.gg.logger.error("\u8868\u60c5\u5305\u52a0\u8f7dnull")}).catch(function(e){h.gg.logger.error("\u8868\u60c5\u5305\u52a0\u8f7d\u51fa\u9519",e)}),r.label=8;case 8:return this.playShowAnim(t),[2]}})})},t.prototype.playShowAnim=function(e){var t=this,n=null;this.direction===c.Left?(n=this.leftNode).angle=-20:(n=this.rightNode).angle=20,n.stopAllActions(),n.scale=0,n.opacity=255,cc.tween(n).to(.36,{angle:0},{easing:"backOut"}).start(),cc.tween(n).to(.36,{scale:1},{easing:"backOut"}).call(function(){e.interact_effect&&""!=e.interact_effect&&h.gg.audio.playOneShot({path:t.audiosPath+e.interact_effect})}).delay(3).call(function(){t.playHideAnim()}).start()},t.prototype.playHideAnim=function(){var e=null;(e=this.direction===c.Left?this.leftNode:this.rightNode).stopAllActions(),cc.tween(e).to(.36,{scale:0},{easing:"sineOut"}).call(function(){e.opacity=0}).start()},a([S({type:cc.Node,tooltip:"\u5de6\u8282\u70b9"})],t.prototype,"leftNode",void 0),a([S({type:cc.Node,tooltip:"\u5de6\u7bad\u5934"})],t.prototype,"leftArrowNode",void 0),a([S({type:cc.Node,tooltip:"\u6709\u76ae\u80a4\u7684\u6587\u672c\u8282\u70b9"})],t.prototype,"leftMsgSkinContent",void 0),a([S({type:cc.Node,tooltip:"\u5de6\u65b9\u5411\u6587\u672c\u4e3b\u8282\u70b9"})],t.prototype,"leftMsgContent",void 0),a([S({type:cc.Label,tooltip:"\u5de6\u65b9\u5411\u6587\u672c"})],t.prototype,"leftMsgLab",void 0),a([S({type:cc.Node,tooltip:"\u5de6\u65b9\u5411\u8868\u60c5\u4e3b\u8282\u70b9"})],t.prototype,"leftEmojiContent",void 0),a([S({type:sp.Skeleton,tooltip:"\u5de6\u65b9\u5411\u8868\u60c5"})],t.prototype,"leftSpine",void 0),a([S({type:cc.Node,tooltip:"\u53f3\u8282\u70b9"})],t.prototype,"rightNode",void 0),a([S({type:cc.Node,tooltip:"\u53f3\u7bad\u5934"})],t.prototype,"rightArrowNode",void 0),a([S({type:cc.Node,tooltip:"\u6709\u76ae\u80a4\u7684\u6587\u672c\u8282\u70b9"})],t.prototype,"rightMsgSkinContent",void 0),a([S({type:cc.Node,tooltip:"\u53f3\u65b9\u5411\u6587\u672c\u4e3b\u8282\u70b9"})],t.prototype,"rightMsgContent",void 0),a([S({type:cc.Label,tooltip:"\u53f3\u65b9\u5411\u6587\u672c"})],t.prototype,"rightMsgLab",void 0),a([S({type:cc.Node,tooltip:"\u53f3\u65b9\u5411\u8868\u60c5\u4e3b\u8282\u70b9"})],t.prototype,"rightEmojiContent",void 0),a([S({type:sp.Skeleton,tooltip:"\u53f3\u65b9\u5411\u8868\u60c5"})],t.prototype,"rightSpine",void 0),a([S({type:_.LayoutProperty,tooltip:"\u865a\u62dfLayout\u5c5e\u6027"})],t.prototype,"layoutProperty",void 0),a([b],t)}(cc.Component);n.default=C,cc._RF.pop()},{"../configs/AppConfig":"AppConfig","../configs/BundleConfig":"BundleConfig","../framework/gg":"gg","../prefabs/panels/im/messageitem/IMPanelTextMessageRenderer":"IMPanelTextMessageRenderer","../systems/gamesetting/GameSettingSystem":"GameSettingSystem","../systems/im/IMUISystem":"IMUISystem","../systems/interact/InteracSystemEvent":"InteracSystemEvent","../systems/interact/InteractProto":"InteractProto","./CommonProperty":"CommonProperty"}],InteractProto:[function(e,t,n){"use strict";cc._RF.push(t,"9bbe0hHwtdC7a4H4XpqZQnp","InteractProto"),Object.defineProperty(n,"__esModule",{value:!0}),n.UseGameType=n.EmojiTypeEunm=n.InteractTypeEunm=n.InteractProtoMsg=void 0,function(e){e.GetInteractListRequest="GetInteractListRequest",e.GetInteractListResponse="GetInteractListResponse",e.InteractRequest="InteractRequest",e.InteractResponse="InteractResponse",e.InteractBroadCast="InteractBroadCast"}(n.InteractProtoMsg||(n.InteractProtoMsg={})),function(e){e.Msg="msg",e.Emoji="emoji"}(n.InteractTypeEunm||(n.InteractTypeEunm={})),function(e){e.Classic="classic",e.Role="role"}(n.EmojiTypeEunm||(n.EmojiTypeEunm={})),function(e){e.Common="common",e.Baloot="baloot",e.Ludo="ludo"}(n.UseGameType||(n.UseGameType={})),cc._RF.pop()},{}],InteractSystem:[function(e,t,n){"use strict";cc._RF.push(t,"02b08ow/nNEGom5qudFClUQ","InteractSystem");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.interactSystem=void 0;var r=e("../../configs/CommonPanelConfig"),s=e("../../configs/GameConfig"),l=a(e("../../framework/asset/AssetLoader")),c=e("../../framework/gg"),u=e("../../framework/i18n/I18n"),p=e("../../framework/utils/CompareUtil"),h=e("../gamews/GameSocketSystem"),d=e("../login/LoginEvent"),f=e("./InteracSystemEvent"),g=e("./InteractProto"),m=function(){function e(){this.interactJson=null,this._isLoadingLabel=!1,this.interactJsonAssetPath="resources/config/interactConfig",this.msgLudoInteractList=[],this.msgBalootInteractList=[],this.emojiInteractMap=new Map,this.postTime=0,this.vipEmoji=new Map}return e.prototype.loadItemConfig=function(){var e;return o(this,void 0,void 0,function(){var t,n;return i(this,function(o){switch(o.label){case 0:if(this.interactJson)return[2];if(this._isLoadingLabel)return[2];this._isLoadingLabel=!0,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,l.default.loadBundleAsset(this.interactJsonAssetPath,cc.JsonAsset)];case 2:return t=o.sent(),this._isLoadingLabel=!1,(n=null!==(e=null==t?void 0:t.json)&&void 0!==e?e:null)?(this.interactJson=n,[2,!0]):[2,!1];case 3:return o.sent(),this._isLoadingLabel=!1,[2,!1];case 4:return[2]}})})},e.prototype.getInteractContent=function(e){return o(this,void 0,Promise,function(){var t;return i(this,function(n){switch(n.label){case 0:return this.interactJson?[3,2]:[4,this.loadItemConfig()];case 1:n.sent(),n.label=2;case 2:return e?(t=this.interactJson["id_"+e])?p.CompareUtil.isFirstVersionBigger(t.game_ver,s.GameConfig.gameVersionName)?(c.gg.logger.warn("InteractSystem: "+e+" \u5bf9\u5e94\u7684\u5feb\u6377\u4ea4\u4e92"),[2,null]):[2,t]:[2,null]:(c.gg.logger.warn("InteractSystem: \u83b7\u53d6\u5feb\u6377\u4ea4\u4e92\u914d\u7f6e\u5931\u8d25\uff0c\u65e0\u6548 interactId_id: "+e),[2,null])}})})},e.prototype.enable=function(){this.reset(),c.gg.eventManager.on(d.LoginEvent.OnUserKickOut,this._onUserOut,this),c.gg.eventManager.on(d.LoginEvent.OnUserLogout,this._onUserOut,this),c.gg.eventManager.on(d.LoginEvent.OnUserLostConnection,this._onUserOut,this),h.gameSocketSystem.on(g.InteractProtoMsg.GetInteractListResponse,this.onGetInteractListResponse,this),h.gameSocketSystem.on(g.InteractProtoMsg.InteractResponse,this.onInteractResponse,this),h.gameSocketSystem.on(g.InteractProtoMsg.InteractBroadCast,this.onInteractBroadCast,this)},e.prototype.disable=function(){this.reset(),h.gameSocketSystem.offTarget(this)},e.prototype._onUserOut=function(){this.disable()},e.prototype.reset=function(){this.msgLudoInteractList=[],this.msgBalootInteractList=[],this.emojiInteractMap.clear()},e.prototype.sendGetInteractListRequest=function(){c.gg.logger.log("\u8bf7\u6c42\u5feb\u6377\u4ea4\u4e92\u5217\u8868"),h.gameSocketSystem.send(g.InteractProtoMsg.GetInteractListRequest,{})},e.prototype.onGetInteractListResponse=function(e){return o(this,void 0,void 0,function(){var t,n,o;return i(this,function(i){switch(i.label){case 0:return c.gg.logger.log("\u8bf7\u6c42\u5feb\u6377\u4ea4\u4e92\u5217\u8868\u76f8\u5e94",e),null==e||null==e?[2]:this.interactJson?[3,2]:[4,this.loadItemConfig()];case 1:i.sent(),i.label=2;case 2:for(o in t=function(t){if(Object.prototype.hasOwnProperty.call(n.interactJson,t)){var o=n.interactJson[t];if(o.interact_type===g.InteractTypeEunm.Msg)e.msg_interact_list.find(function(e){return o.interact_id==e})&&(o.use_game!==g.UseGameType.Common&&o.use_game!==g.UseGameType.Baloot||n.msgBalootInteractList.push(o),o.use_game!==g.UseGameType.Common&&o.use_game!==g.UseGameType.Ludo||n.msgLudoInteractList.push(o));else if(o.interact_type===g.InteractTypeEunm.Emoji&&e.emoji_interact_list.find(function(e){return o.interact_id==e})&&o&&o.interact_type===g.InteractTypeEunm.Emoji){var i="";if(o.interact_content.split("_")[0]&&(i=o.interact_content.split("_")[0]),n.emojiInteractMap.get(i))n.emojiInteractMap.get(i).push(o);else{var a=[];a.push(o),n.emojiInteractMap.set(i,a)}}}},n=this,this.interactJson)t(o);return c.gg.eventManager.emit(f.InteracSystemEvent.GetInteractListResponseEvent),[2]}})})},e.prototype.sendInteractRequest=function(e){c.gg.logger.log("\u8bf7\u6c42\u5feb\u6377\u4ea4\u4e92",e),Date.now()-this.postTime>3e3?(this.postTime=Date.now(),h.gameSocketSystem.send(g.InteractProtoMsg.InteractRequest,e)):c.gg.panelRouter.show({panel:r.CommonPanelConfig.toastPanel,data:{text:u.i18n.getText("toast.clickTooOften")}})},e.prototype.onInteractResponse=function(e){c.gg.logger.log("\u8bf7\u6c42\u5feb\u6377\u4ea4\u4e92\u54cd\u5e94",e),1!==e.status&&(this.postTime=0),c.gg.eventManager.emit(f.InteracSystemEvent.InteractResponseEvent,e)},e.prototype.onInteractBroadCast=function(e){return o(this,void 0,void 0,function(){var t;return i(this,function(n){switch(n.label){case 0:return c.gg.logger.log("\u5feb\u6377\u4ea4\u4e92\u5e7f\u64ad",e),[4,this.getInteractContent(e.interact_id)];case 1:return(t=n.sent())&&c.gg.eventManager.emit(f.InteracSystemEvent.InteractBroadCastEvent,e.send_player_id,t),[2]}})})},e.prototype.getVipEmoji=function(){return o(this,void 0,void 0,function(){var e,t,n;return i(this,function(o){switch(o.label){case 0:return[4,h.gameSocketSystem.requestAsync({requestMsg:g.InteractProtoMsg.GetInteractListRequest,requestData:{},responseMsg:g.InteractProtoMsg.GetInteractListResponse})];case 1:if((e=o.sent())&&e.vip_emoji_interact_list)for(t in e.vip_emoji_interact_list)Object.prototype.hasOwnProperty.call(e.vip_emoji_interact_list,t)&&(n=e.vip_emoji_interact_list[t],this.vipEmoji.set(t,n));return[2]}})})},e}();n.interactSystem=new m,cc._RF.pop()},{"../../configs/CommonPanelConfig":"CommonPanelConfig","../../configs/GameConfig":"GameConfig","../../framework/asset/AssetLoader":"AssetLoader","../../framework/gg":"gg","../../framework/i18n/I18n":"I18n","../../framework/utils/CompareUtil":"CompareUtil","../gamews/GameSocketSystem":"GameSocketSystem","../login/LoginEvent":"LoginEvent","./InteracSystemEvent":"InteracSystemEvent","./InteractProto":"InteractProto"}],InterfaceExtend:[function(e,t,n){"use strict";cc._RF.push(t,"0be13l7KdtEFISVHC3rONx5","InterfaceExtend");var o=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],r=0,s=a.length;r<s;r++,i++)o[i]=a[r];return o},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../utils/CurrencyUtil"),r=e("../../framework/utils/TimeUtils"),s=i(e("../../framework/utils/StringUtils")),l=e("../../framework/i18n/I18n");Number.prototype.toHumanReadable=function(e){void 0===e&&(e=2);var t=Number(this);return a.CurrencyUtil.toHumanReadable(t,e)},Number.prototype.toThousandsSeparator=function(){var e=Number(this);return a.CurrencyUtil.toThousandsSeparator(e)},Number.prototype.formatDate=function(e){return Number(this),r.TimeUtils.formatDate(e)},Number.prototype.formatTime=function(e){return Number(this),r.TimeUtils.format(e)},Number.prototype.formatMinute=function(e){return Number(this),r.TimeUtils.formatMinute(e)},Number.prototype.formatSecond=function(e){return Number(this),r.TimeUtils.formatSecond(e)},Number.prototype.formatSecond2=function(e){return Number(this),r.TimeUtils.formatSecond2(e)},Number.prototype.getNowDate=function(e){return Number(this),r.TimeUtils.getNowDate(e)},Number.prototype.formatDataWithStyle=function(e,t){return void 0===t&&(t="dd/mm/yyyy"),Number(this),r.TimeUtils.formatData(e,t)},String.prototype.clamp=function(e){void 0===e&&(e=8);var t=String(this);return s.default.clampStr(t,e)},String.prototype.i18n=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=String(this);return l.i18n.getText.apply(l.i18n,o([n],e))},cc._RF.pop()},{"../../framework/i18n/I18n":"I18n","../../framework/utils/StringUtils":"StringUtils","../../framework/utils/TimeUtils":"TimeUtils","../../utils/CurrencyUtil":"CurrencyUtil"}],ItemData:[function(e,t,n){"use strict";cc._RF.push(t,"6d736MJ/phBx4IY36DNqoXz","ItemData"),Object.defineProperty(n,"__esModule",{value:!0}),n.RoomItemInfo=n.ItemInfo=void 0;n.default=function(){this.szData=[]};n.ItemInfo=function(){this.width=0,this.height=0,this.isList=!1,this.list=[]};n.RoomItemInfo=function(){},cc._RF.pop()},{}],ItemDetailsComponent:[function(e,t,n){"use strict";cc._RF.push(t,"30abeDjM3xF04eIgaOkxa8G","ItemDetailsComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=e("../../../../../main/scripts/configs/CommonPanelConfig"),u=e("../../../../../main/scripts/framework/gg"),p=e("../../../../../main/scripts/framework/utils/TimeUtils"),h=e("../../../../../main/scripts/systems/api/gameapi/GameApi"),d=e("../../../../../main/scripts/systems/api/gameapi/GameApiModels"),f=l(e("../../../components/UserIconStyle1Component")),g=e("../../../framework/i18n/I18n"),m=e("../../../systems/api/gameapi/PayApiModels"),y=e("../../../systems/item/CommonItemConfig"),_=e("../../../systems/item/ItemSystem"),v=e("../../../systems/user/UserSystem"),b=e("../../../systems/user/UserWalletSystem"),S=l(e("./PackageExhibitComponent")),C=e("./uiSystems/PackageUIEvent"),I=cc._decorator,R=I.ccclass,L=I.property,P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.typeTitleLab=null,t.iconSprite=null,t.iconCard1=null,t.iconCard2=null,t.spine=null,t.dragon=null,t.userIconNode=null,t.designUseBtn=null,t.propsUseBtn=null,t.useLay=null,t.buyBtn=null,t.buyLab=null,t.remainTimeLab=null,t.itemNameLab=null,t.itemDetailsLab=null,t.exhibitBtn=null,t.PackageExhibitComponent=null,t.remoteItemInfo=null,t.localItemInfo=null,t.itemType="",t.remainTime=0,t.typeTitleStr={avatar_frame:"item.tag.avatarFrame",chat_bubble:"item.tag.chatBubble",baloot_card:"item.tag.balootCard",baloot_bg:"item.tag.balootRoom",ludo_chessboard:"item.tag.ludoBoard",ludo_dice:"item.tag.ludoDice",game_gift:"item.tag.gameGift",big_gift:"bigGift.tip.bigGift",qualifying_props:"item.tag.qualifyingProps",vip_card:"vip.label.itemTitle"},t.itemScale={avatar_frame:.5,chat_bubble:.7,baloot_card:.7,baloot_bg:.7,ludo_chessboard:.5,ludo_dice:1,game_gift:1},t.lastCoinBalance=0,t.lastDiamonBalance=0,t.lastFashion=0,t}return i(t,e),t.prototype.onEnable=function(){this.node.opacity=0,u.gg.eventManager.on(C.PackageUIEvent.DesignTopItemEvent,this.onChooseHandler,this),u.gg.eventManager.on(C.PackageUIEvent.ItemDetailsEvent,this.onUpdateHandler,this),u.gg.eventManager.on(C.PackageUIEvent.NavOnceItemEvent,this.onNavOnceItemHandler,this)},t.prototype.onDisable=function(){u.gg.eventManager.offTarget(this)},t.prototype.onNavOnceItemHandler=function(e){null!=e?(cc.tween(this.node).to(.2,{opacity:255}).start(),this.remoteItemInfo=e,this.localItemInfo=_.itemSystem.getItem(this.remoteItemInfo.item_id),this.updataUI(),this.onChooseHandler(this.localItemInfo.item_type)):this.node.opacity=0},t.prototype.onChooseHandler=function(e){var t=this;e!==this.itemType&&(cc.Tween.stopAllByTarget(this.typeTitleLab.node),cc.tween(this.typeTitleLab.node).to(.1,{opacity:0}).call(function(){t.typeTitleLab.string=g.i18n.getText(t.typeTitleStr[e])}).to(.1,{opacity:255}).start(),this.itemType=e)},t.prototype.onUpdateHandler=function(e){this.remoteItemInfo.item_id!==e.item_id&&(cc.tween(this.node).to(.2,{opacity:255}).start(),this.remoteItemInfo=e,this.localItemInfo=_.itemSystem.getItem(this.remoteItemInfo.item_id),this.updataUI(),this.onChooseHandler(this.localItemInfo.item_type))},t.prototype.updataUI=function(){var e=this;this.updataStatus(),this.itemDetailsLab.string=this.localItemInfo.item_desc_ar,this.itemNameLab.string=this.localItemInfo.item_name_ar,this.iconSprite.node.active=!1,this.dragon.node.active=!1,this.spine.node.active=!1,this.iconCard1.node.active=!1,this.iconCard2.node.active=!1,this.userIconNode.active=!1,this.iconSprite.node.x=0,this.localItemInfo.item_type===d.ItemType.avatarFrame?(this.userIconNode.getComponent(f.default).updateIcon(v.userSystem.userModel.userIcon),this.userIconNode.getComponent(f.default).updateIconFrame(this.remoteItemInfo.item_id),this.userIconNode.active=!0):_.itemSystem.getItemIconInfo(this.remoteItemInfo.item_id).then(function(t){null!=t&&((null==t?void 0:t.iconType)===y.IconType.Image?(e.iconSprite.spriteFrame=t.spriteFrame,e.iconSprite.node.active=!0):(null==t?void 0:t.iconType)===y.IconType.Dragon?(e.dragon.node.active=!0,e.dragon.dragonAsset=t.dragonAsset,e.dragon.dragonAtlasAsset=t.dragonAtlasAsset,e.dragon.armatureName="armatureName",e.dragon.playAnimation("newAnimation",0)):(null==t?void 0:t.iconType)===y.IconType.Spine&&(e.spine.skeletonData=t.spineData,e.spine.node.active=!0,e.spine.setAnimation(0,"animation",!0)),e.localItemInfo.item_type===d.ItemType.balootCard&&(e.iconCard1.node.active=!0,e.iconCard2.node.active=!0,e.iconCard2.spriteFrame=e.iconSprite.spriteFrame,e.iconCard1.spriteFrame=e.iconSprite.spriteFrame,e.iconSprite.node.x=-10),e.itemScale[e.localItemInfo.item_type]?(e.iconSprite.node.scale=e.itemScale[e.localItemInfo.item_type],e.dragon.node.scale=e.itemScale[e.localItemInfo.item_type],e.spine.node.scale=e.itemScale[e.localItemInfo.item_type]):(e.iconSprite.node.scale=1,e.dragon.node.scale=1,e.spine.node.scale=1))})},t.prototype.updataStatus=function(){var e,t,n;if(this.designUseBtn.active=!1,this.propsUseBtn.active=!1,this.useLay.active=!1,this.buyBtn.active=!1,this.buyLab.string=g.i18n.getText("package.buy"),this.remainTimeLab.node.active=!1,this.localItemInfo.item_class===d.ItemClass.design){if(this.remoteItemInfo.status===d.ItemStatusType.Owned)null!=this.remoteItemInfo.use&&0===this.remoteItemInfo.use?this.designUseBtn.active=!0:this.useLay.active=!0,this.remainTimeLab.node.active=!0,null==this.remoteItemInfo.remain_time||-1===this.remoteItemInfo.remain_time?this.remainTimeLab.string=g.i18n.getText("item.showTime"):this.updataRemainTimer();else{this.remoteItemInfo.status===d.ItemStatusType.NotPurchased&&this.remoteItemInfo.price>0&&(this.buyBtn.active=!0);var o=null!==(n=null===(t=null===(e=v.userSystem.userModel)||void 0===e?void 0:e.vipInfo)||void 0===t?void 0:t.vip_level)&&void 0!==n?n:0;0!=Number(this.localItemInfo.item_belong_type)&&o<=Number(this.localItemInfo.item_belong_type)&&(this.buyBtn.active=!0,this.buyLab.string=g.i18n.getText("vip.label.vipUpgrade"))}this.localItemInfo.item_type===d.ItemType.ludoChessboard||this.localItemInfo.item_type===d.ItemType.balootBg?this.exhibitBtn.active=!0:this.exhibitBtn.active=!1}else this.localItemInfo.item_class===d.ItemClass.props&&(this.localItemInfo.item_type!==d.ItemType.bigGift&&this.localItemInfo.item_type!==d.ItemType.vipCard||(this.propsUseBtn.active=!0))},t.prototype.updataRemainTimer=function(){var e=this;this.unscheduleAllCallbacks();var t=Date.now();this.remainTime=Math.floor(this.remoteItemInfo.timestamp-t)/1e3,this.remainTime>60?(this.remainTimeLab.string=p.TimeUtils.formatMinute(this.remainTime),this.schedule(function(){e.remainTime=e.remainTime-60,e.remainTime<=60?(e.unscheduleAllCallbacks(),e.remainTimeLab.string="00h:01m"):e.remainTimeLab.string=p.TimeUtils.formatMinute(e.remainTime)},60)):this.remainTimeLab.string="00h:01m"},t.prototype.onClickBuy=function(){0!=Number(this.localItemInfo.item_belong_type)?u.gg.panelRouter.show({panel:c.CommonPanelConfig.storePanel,data:{type:m.GoodsTypeEnum.VIP}}):u.gg.panelRouter.show({panel:c.CommonPanelConfig.buyItemChoosePanel,data:this.remoteItemInfo.item_id})},t.prototype.onClickDesignUse=function(){var e=this;u.gg.panelRouter.show({panel:c.CommonPanelConfig.loadingPanel});var t={item_id:this.remoteItemInfo.item_id};h.gameApi.changeDesign(t).then(function(t){u.gg.panelRouter.hide({panel:c.CommonPanelConfig.loadingPanel,onHided:function(){t?(u.gg.eventManager.emit(C.PackageUIEvent.ChangeDesignEvent,e.remoteItemInfo.item_id),e.remoteItemInfo.use=1,e.updataStatus(),v.userSystem.updataUserDesign(e.localItemInfo.item_type,e.remoteItemInfo.item_id)):u.gg.panelRouter.show({panel:c.CommonPanelConfig.toastPanel,data:{text:g.i18n.getText("toast.ItemDesignChangeFailed")}})}})}).catch(function(){u.gg.panelRouter.hide({panel:c.CommonPanelConfig.loadingPanel,onHided:function(){u.gg.panelRouter.show({panel:c.CommonPanelConfig.toastPanel,data:{text:g.i18n.getText("toast.ItemDesignChangeFailed")}})}})})},t.prototype.onClickPropsUse=function(){var e=this;this.lastCoinBalance=b.userWalletSystem.coinBalance,this.lastDiamonBalance=b.userWalletSystem.diamondBalance,this.lastFashion=v.userSystem.userModel.fashion,h.gameApi.useProps({item_id:this.remoteItemInfo.item_id,count:1}).then(function(t){var n,o;1===t.status&&(u.gg.eventManager.emit(C.PackageUIEvent.UsePropsEvent),(null===(o=null===(n=t.data)||void 0===n?void 0:n.award_list)||void 0===o?void 0:o.length)>0&&e.playerReceiveAnim(t.data.award_list))}).catch(function(e){u.gg.logger.error("\u4f7f\u7528\u6d88\u8017\u7c7b\u9053\u5177\u5931\u8d25",e)})},t.prototype.onClickExhibitImage=function(){this.PackageExhibitComponent.localItemInfo=this.localItemInfo,this.PackageExhibitComponent.updataUI()},t.prototype.playerReceiveAnim=function(e){return r(this,void 0,void 0,function(){var t,n,o,i,a;return s(this,function(r){switch(r.label){case 0:return t=this.lastCoinBalance,n=this.lastDiamonBalance,o=this.lastFashion,i=new Array,u.gg.panelRouter.hide({panel:c.CommonPanelConfig.receiveFeaturesPanel}),e.forEach(function(e){var a,r=null,s=g.i18n.getText("item.showTime");switch(e.award_type){case d.AwardType.Coin:r={award_type:d.AwardType.Coin,count:e.count,initValue:t};break;case d.AwardType.Diamond:r={award_type:d.AwardType.Diamond,count:e.count,initValue:n};break;case d.AwardType.Item:(null===(a=_.itemSystem.getItem(e.item_id))||void 0===a?void 0:a.item_class)===d.ItemClass.props?s=e.count+"":e.effective_days&&-1!==e.effective_days&&(s=g.i18n.getText("item.dayNum",e.effective_days)),r={award_type:e.award_type,itemCount:s,initValue:o,itemId:e.item_id,fashionAdd:0}}i.push(r)}),a={giftList:i},[4,u.gg.panelRouter.loadAsync(c.CommonPanelConfig.receiveFeaturesPanel)];case 1:return r.sent(),u.gg.panelRouter.show({panel:c.CommonPanelConfig.receiveFeaturesPanel,data:a}),[2]}})})},a([L({type:cc.Label,tooltip:"\u9053\u5177\u7c7b\u522b\u540d\u79f0"})],t.prototype,"typeTitleLab",void 0),a([L({type:cc.Sprite,tooltip:"\u9053\u5177\u56fe\u6807"})],t.prototype,"iconSprite",void 0),a([L({type:cc.Sprite,tooltip:"\u5546\u54c1\u56fe\u6807\u724c"})],t.prototype,"iconCard1",void 0),a([L({type:cc.Sprite,tooltip:"\u5546\u54c1\u56fe\u6807\u724c"})],t.prototype,"iconCard2",void 0),a([L({type:sp.Skeleton,tooltip:"\u9053\u5177spine"})],t.prototype,"spine",void 0),a([L({type:dragonBones.ArmatureDisplay,tooltip:"\u9053\u5177dragon"})],t.prototype,"dragon",void 0),a([L({type:cc.Node,tooltip:"\u5934\u50cf\u7ec4\u4ef6"})],t.prototype,"userIconNode",void 0),a([L({type:cc.Node,tooltip:"\u88c5\u626e\u4f7f\u7528\u6309\u94ae\u5e03\u5c40"})],t.prototype,"designUseBtn",void 0),a([L({type:cc.Node,tooltip:"\u9053\u5177\u4f7f\u7528\u6309\u94ae\u5e03\u5c40"})],t.prototype,"propsUseBtn",void 0),a([L({type:cc.Node,tooltip:"\u6b63\u5728\u4f7f\u7528\u5e03\u5c40"})],t.prototype,"useLay",void 0),a([L({type:cc.Node,tooltip:"\u8d2d\u4e70\u89e3\u9501\u6309\u94ae\u5e03\u5c40"})],t.prototype,"buyBtn",void 0),a([L({type:cc.Label,tooltip:"\u8d2d\u4e70\u89e3\u9501\u6309\u94ae\u5e03\u5c40\u6587\u672c"})],t.prototype,"buyLab",void 0),a([L({type:cc.Label,tooltip:"\u5269\u4f59\u6709\u6548\u65f6\u95f4"})],t.prototype,"remainTimeLab",void 0),a([L({type:cc.Label,tooltip:"\u9053\u5177\u540d\u79f0"})],t.prototype,"itemNameLab",void 0),a([L({type:cc.Label,tooltip:"\u9053\u5177\u63cf\u8ff0"})],t.prototype,"itemDetailsLab",void 0),a([L({type:cc.Node,tooltip:"\u9053\u5177\u7c7b\u522b\u540d\u79f0"})],t.prototype,"exhibitBtn",void 0),a([L({type:S.default,tooltip:"\u9053\u5177\u7c7b\u522b\u540d\u79f0"})],t.prototype,"PackageExhibitComponent",void 0),a([R],t)}(cc.Component);n.default=P,cc._RF.pop()},{"../../../../../main/scripts/configs/CommonPanelConfig":"CommonPanelConfig","../../../../../main/scripts/framework/gg":"gg","../../../../../main/scripts/framework/utils/TimeUtils":"TimeUtils","../../../../../main/scripts/systems/api/gameapi/GameApi":"GameApi","../../../../../main/scripts/systems/api/gameapi/GameApiModels":"GameApiModels","../../../components/UserIconStyle1Component":"UserIconStyle1Component","../../../framework/i18n/I18n":"I18n","../../../systems/api/gameapi/PayApiModels":"PayApiModels","../../../systems/item/CommonItemConfig":"CommonItemConfig","../../../systems/item/ItemSystem":"ItemSystem","../../../systems/user/UserSystem":"UserSystem","../../../systems/user/UserWalletSystem":"UserWalletSystem","./PackageExhibitComponent":"PackageExhibitComponent","./uiSystems/PackageUIEvent":"PackageUIEvent"}],ItemSystem:[function(e,t,n){"use strict";cc._RF.push(t,"de5584yW89GY7JwSxRgS66e","ItemSystem");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.itemSystem=void 0;var r=e("../../configs/BundleConfig"),s=e("../../configs/GameConfig"),l=a(e("../../framework/asset/AssetLoader")),c=e("../../framework/gg"),u=e("../../framework/utils/CompareUtil"),p=e("../api/gameapi/GameApi"),h=e("../api/gameapi/GameApiModels"),d=e("./CommonItemConfig"),f=function(){function e(){this.itemJson=null,this._isLoadingLabel=!1,this.itemJsonAssetPath="resources/config/itemConfig"}return e.prototype.loadItemConfig=function(){var e;return o(this,void 0,void 0,function(){var t,n;return i(this,function(o){switch(o.label){case 0:if(this.itemJson)return[2];if(this._isLoadingLabel)return[2];this._isLoadingLabel=!0,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,l.default.loadBundleAsset(this.itemJsonAssetPath,cc.JsonAsset)];case 2:return t=o.sent(),this._isLoadingLabel=!1,(n=null!==(e=null==t?void 0:t.json)&&void 0!==e?e:null)?(this.itemJson=n,[2,!0]):[2,!1];case 3:return o.sent(),this._isLoadingLabel=!1,[2,!1];case 4:return[2]}})})},e.prototype.getItem=function(e){if(!e)return c.gg.logger.warn("ItemSystem: \u83b7\u53d6\u7269\u54c1\u5931\u8d25\uff0c\u65e0\u6548 item_id: "+e),null;var t=this.itemJson[e];return t?u.CompareUtil.isFirstVersionBigger(t.game_ver,s.GameConfig.gameVersionName)?(c.gg.logger.warn("ItemSystem: "+e+" \u5bf9\u5e94\u7684\u7269\u54c1\uff0c\u5f53\u524d\u7248\u672c\u65e0\u6548"),null):t:null},e.prototype.getItemIconInfo=function(e){return o(this,void 0,Promise,function(){var t,n,o,a,s,c,u;return i(this,function(i){switch(i.label){case 0:return t=this.getItem(e),n={},o="",null==t?[2,null]:(o=d.CommonItemConfig.itemTypeStr[t.item_type],null==t?[3,9]:t.item_type!==h.ItemType.bigGift?[3,2]:(n.iconType=d.IconType.Spine,[4,l.default.loadBundleAsset(r.BundleConfig.Resources+"/textures/item/"+t.item_class+"/"+o+"/"+t.item_asset_name+"_small/"+t.item_asset_name+"_small",sp.SkeletonData)]));case 1:return s=i.sent(),n.spineData=s,[3,9];case 2:return t.item_icon_type!==d.IconType.Image?[3,4]:[4,l.default.loadBundleAsset(r.BundleConfig.Resources+"/textures/item/"+t.item_class+"/"+o+"/"+t.item_asset_name,cc.SpriteFrame)];case 3:return a=i.sent(),n.iconType=d.IconType.Image,n.spriteFrame=a,[3,9];case 4:return t.item_icon_type!==d.IconType.Spine?[3,6]:(n.iconType=d.IconType.Spine,[4,l.default.loadBundleAsset(r.BundleConfig.Resources+"/textures/item/"+t.item_class+"/"+o+"/"+t.item_asset_name,sp.SkeletonData)]);case 5:return s=i.sent(),n.spineData=s,[3,9];case 6:return t.item_icon_type!==d.IconType.Dragon?[3,9]:[4,l.default.loadBundleAsset(r.BundleConfig.Resources+"/textures/item/"+t.item_class+"/"+o+"/"+t.item_asset_name+"_ske",dragonBones.DragonBonesAsset)];case 7:return c=i.sent(),n.dragonAsset=c,[4,l.default.loadBundleAsset(r.BundleConfig.Resources+"/textures/item/"+t.item_class+"/"+o+"/"+t.item_asset_name+"_tex",dragonBones.DragonBonesAtlasAsset)];case 8:u=i.sent(),n.dragonAtlasAsset=u,n.iconType=d.IconType.Dragon,i.label=9;case 9:return[2,n]}})})},e.prototype.getBigGiftSpine=function(e){return o(this,void 0,void 0,function(){var t,n,o,a;return i(this,function(i){switch(i.label){case 0:return t=this.getItem(e),n={},null==t?[2,null]:(o=d.CommonItemConfig.itemTypeStr[t.item_type],n.iconType=d.IconType.Spine,[4,l.default.loadBundleAsset(r.BundleConfig.Resources+"/textures/item/"+t.item_class+"/"+o+"/"+t.item_asset_name+"_big/"+t.item_asset_name+"_big",sp.SkeletonData)]);case 1:return a=i.sent(),n.spineData=a,[2,n]}})})},e.prototype.getItemList=function(e){var t;return o(this,void 0,Promise,function(){var o,a;return i(this,function(i){switch(i.label){case 0:o=null,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,p.gameApi.getItemList(e)];case 2:return o=i.sent(),[3,4];case 3:return i.sent(),[3,4];case 4:if((null===(t=null==o?void 0:o.data)||void 0===t?void 0:t.length)>0)for(a=o.data.length-1;a>=0;--a)null==n.itemSystem.getItem(o.data[a].item_id)&&o.data.splice(a,1);return[2,o]}})})},e.prototype.changeItem=function(e){return o(this,void 0,Promise,function(){return i(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,p.gameApi.changeDesign(e)];case 1:return t.sent()?[2,!0]:[3,3];case 2:return t.sent(),[3,3];case 3:return[2,!1]}})})},e}();n.itemSystem=new f,cc._RF.pop()},{"../../configs/BundleConfig":"BundleConfig","../../configs/GameConfig":"GameConfig","../../framework/asset/AssetLoader":"AssetLoader","../../framework/gg":"gg","../../framework/utils/CompareUtil":"CompareUtil","../api/gameapi/GameApi":"GameApi","../api/gameapi/GameApiModels":"GameApiModels","./CommonItemConfig":"CommonItemConfig"}],JsonBinRead:[function(e,t,n){"use strict";cc._RF.push(t,"ee416KWaXtCOJ2VlFSq9xQf","JsonBinRead"),Object.defineProperty(n,"__esModule",{value:!0}),n.JsonBinRead=void 0;var o=e("../../utils/Browser"),i=e("../../utils/Byte"),a=e("../../utils/WordText"),r=function(){function e(){}return Object.defineProperty(e,"instance",{get:function(){return e._instance||(e._instance=new e)},enumerable:!1,configurable:!0}),e.IsJsonbin=function(t){if(t.byteLength<5)return!1;var n=new Uint32Array(t,0,4)[0];return n==e.ISJSONBIN||n==e.ISJSONBIN2||n==e.ISJSONBIN3},e.parse=function(t){var n=new Int32Array(t,0,4);if(n[0]!==e.ISJSONBIN&&n[0]!==e.ISJSONBIN2){var o=new i.Byte;o.writeArrayBuffer(t),o.pos=0;var a=o.readUTFBytes();return JSON.parse(a)}return(new e).read(t)},e.parsePack=function(t){return(new e).read(t)},e.prototype._readArray=function(e,t,n,o,i){var a,r=[];r.length=n,t>=0&&(a=e.pos,e.pos=t);for(var s=0;s<n;s++)r[s]=this._readOne({},e,null,e.readUint8(),i);return t>=0&&(e.pos=a),r},e.prototype._getLen=function(e){var t=e.readUint8();return 0==(128&t)?t:e.readUint8()|(-129&t)<<8},e._toLargeNumber=function(e,t){var n=t.toString(16);if(n.length<7)for(var o=n.length;o<7;o++)n="0"+n;return parseInt(e.toString(16)+""+n,16)},e.readInt8Array=function(e,t,n){var o=t+n;o=o>e._length?e._length:o;var i=new Int8Array(e._d_.buffer.slice(t,o));return e._pos_=o,i},e.prototype._readOne=function(t,n,o,i,r){var s,l;switch(i){case e.NULL:l=null;break;case e.NUM8:l=n.readByte();break;case e.NUM16:l=n.readInt16();break;case e.NUM32:l=n.readInt32();break;case e.NUM64:l=e._toLargeNumber(n.readInt32(),n.readInt32());break;case e.BOOLEAN:l=!!n.readByte();break;case e.DOUBLE:l=n.readFloat32();break;case e.NUM16_1000:l=n.readInt16()/1e3;break;case e.NUM32_1000:l=n.readInt32()/1e3;break;case e.STRING:l=r.keyArray[n.readUint16()][0];break;case e.WORDTEXT:s=n.readUint16(),(l=r.keyArray[s][3])||(l=r.keyArray[s][3]=new a.WordText).setText(r.keyArray[s][0]);break;case e.ARRAYEMPTY:n.readUint8(),l=[];break;case e.ARRAYNUM8:(l=[]).length=s=n.readUint8();for(var c=0;c<s;c++)l[c]=n.readByte();break;case e.ARRAYNUM16:for((l=[]).length=s=n.readUint8(),c=0;c<s;c++)l[c]=n.readInt16();break;case e.ARRAYNUM32:for((l=[]).length=s=n.readUint8(),c=0;c<s;c++)l[c]=n.readInt32();break;case e.ARRAYDOUBLE:for((l=[]).length=s=n.readUint8(),c=0;c<s;c++)l[c]=n.readFloat32();break;case e.ARRAYBUFFER:l=n.readArrayBuffer(n.readUint16());break;case e.ARRAYBUFFER32:l=n.readArrayBuffer(n.readUint32());break;case e.INT8ARRAY:s=this._getLen(n),l=e.readInt8Array(n,n.pos,s);break;case e.UINT8ARRAY:s=this._getLen(n),l=n.readUint8Array(n.pos,s);break;case e.INT16ARRAY:s=this._getLen(n),l=n.readInt16Array(n.pos,s);break;case e.FLOAT32ARRAY:s=this._getLen(n),l=n.readFloat32Array(n.pos,s);break;default:return this._readOne_other(t,n,o,i,r)}return t&&o&&(t[o]=l),l},e.prototype._readOne_other=function(t,n,o,i,a){var r,s,l,c,u=t;switch(i){case e.ARRAY8:case e.ARRAY16:case e.ARRAY32:switch(i){case e.ARRAY8:s=n.readUint8();break;case e.ARRAY16:s=n.readInt16();break;case e.ARRAY32:s=n.readUint32()}var p=r=[];for(p.length=s,l=0;l<s;l++)i=n.readUint8(),p[l]=this._readOne(null,n,null,i,a);break;case e.ARRAYREFSOURCE8:case e.ARRAYREFSOURCE16:s=i===e.ARRAYREFSOURCE8?n.readUint8():n.readInt16(),c=n.pos-this._dataStartOfs,r=this._readArray(n,-1,s,i,a),this._objectRef[c]={array:r,pos:c};break;case e.ARRAYREF:case e.ARRAYREF32:l=n.readByte(),c=i==e.ARRAYREF?n.readUint16():n.readUint32();var h=this._objectRef[c];if(!h)throw"load ref err";r=l==e.COMPRESS_NEW?this._readArray(n,c+this._dataStartOfs,h.array.length,i,a):h.array;break;case e.OBJECT:case e.OBJECTTHISCLASS:if(null!=o||!t){if(i==e.OBJECT)u={};else if(s=n.readUint16(),!(u=this._createObjWithClass(a.keyArray[s][0])))throw"jsonbin read err,no this class:"+a.keyArray[s][0];o&&t&&(t[o]=u)}for(var d=void 0;(s=n.readUint16())!=e.OBJECTEND;)d=a.keyArray[s],this._readOne(u,n,d[0],d[1],a);r=u,u=t}return null!=o&&(u[o]=r),r},e.prototype.read=function(t,n){void 0===n&&(n=null),this._createObjWithClass=n;var a,r,l=o.Browser.now(),c=new i.Byte;switch(c.writeArrayBuffer(t),c.pos=0,this._objectRef={},r=c.readInt32()){case e.ISJSONBIN:a=c.readUTFString();break;case e.ISJSONBIN2:case e.ISJSONBIN3:a=c.readUTFString32();break;default:return c.pos=0,null}var u=new s;u.strs=a.split(e.SPLITCHAR),u.keyArray.length=u.strs.length/2;for(var p=0,h=u.strs.length;p<h;p+=2)u.keyArray[p/2]=[u.strs[p],parseInt(u.strs[p+1])];var d=o.Browser.now();this._dataStartOfs=c.pos;var f={};return this._readOne(f,c,null,e.OBJECT,u),o.Browser.now()-l>10&&console.log("jsonbinread delay:",o.Browser.now()-l+"/"+(d-l),t.byteLength),r==e.ISJSONBIN3?f.top:f},e.ISJSONBIN=16777215,e.ISJSONBIN2=16777214,e.ISJSONBIN3=16777213,e.SPLITCHAR=String.fromCharCode(3),e.COMPRESS_NEW=1,e.COMPRESS_REF=2,e.COMPRESS_REFMODIFY=3,e.NUM8=0,e.NUM16=1,e.NUM32=2,e.BOOLEAN=3,e.DOUBLE=4,e.STRING=5,e.ARRAY8=6,e.ARRAY16=7,e.ARRAYEMPTY=8,e.ARRAYNUM8=9,e.ARRAYNUM16=10,e.ARRAYNUM32=11,e.ARRAYDOUBLE=12,e.ARRAYSTRING=13,e.NULL=14,e.OBJECT=15,e.NUM16_1000=16,e.NUM32_1000=17,e.WORDTEXT=18,e.ARRAYBUFFER=19,e.ARRAYREF=20,e.ARRAYREFSOURCE8=21,e.ARRAYREFSOURCE16=22,e.ARRAYBUFFER32=23,e.ARRAYREF32=24,e.ARRAY32=25,e.OBJECTTHISCLASS=26,e.NUM64=27,e.INT8ARRAY=28,e.UINT8ARRAY=29,e.INT16ARRAY=30,e.FLOAT32ARRAY=31,e.OBJECTEND=32767,e}();n.JsonBinRead=r;var s=function(){this.keys={},this.strs=["BEGIN",0],this.keyArray=[],this.keyIndex=1};cc._RF.pop()},{"../../utils/Browser":"Browser","../../utils/Byte":"Byte","../../utils/WordText":"WordText"}],JsonBinWrite:[function(e,t,n){"use strict";cc._RF.push(t,"3653adujZRDxJg6rAKha8UY","JsonBinWrite"),Object.defineProperty(n,"__esModule",{value:!0}),n.JsonBinWrite=void 0;var o=e("../../utils/Byte"),i=e("./BinHashUtils"),a=e("./JsonBinRead"),r=function(){function e(){this.objectRef={},this.deep=0}return Object.defineProperty(e,"instance",{get:function(){return e._instance||(e._instance=new e)},enumerable:!1,configurable:!0}),e.prototype._saveKey=function(e,t,n,o){this.deep++;var i=e+"/&&__*?/"+t,a=n.keys[i];a||(a=n.keys[i]=n.keyIndex,n.strs.push(e,t),n.keyIndex++),o.writeUint16(a),this.deep--},e.prototype._getValueArrayType=function(e){switch(typeof e){case"number":if(Math.floor(e)!==e)return a.JsonBinRead.ARRAYDOUBLE;var t=Math.abs(e);return t<128?a.JsonBinRead.ARRAYNUM8:t<32767?a.JsonBinRead.ARRAYNUM16:a.JsonBinRead.ARRAYNUM32;case"string":return a.JsonBinRead.OBJECT;case"boolean":return a.JsonBinRead.BOOLEAN}return a.JsonBinRead.OBJECT},e.prototype._writeStrOrWordText=function(e,t,n,o,i){var r=i?a.JsonBinRead.WORDTEXT:a.JsonBinRead.STRING;null!=t?this._saveKey(t,r,e,o):o.writeUint8(r);var s=e.keys[n];s||(s=e.keys[n]=e.keyIndex,e.strs.push(n,0),e.keyIndex++),o.writeUint16(s)},e.prototype._writeString=function(e,t,n){var o=e.keys[t];o||(o=e.keys[t]=e.keyIndex,e.strs.push(t,0),e.keyIndex++),n.writeUint16(o)},e.prototype._getObjectTypeof=function(t){return t instanceof ArrayBuffer?"ArrayBuffer":t instanceof Uint8Array?"Uint8Array":t instanceof Int8Array?"Int8Array":t instanceof Int16Array?"Int16Array":t instanceof Float32Array?"Float32Array":t instanceof WordText||e.isWordText(t)?"WordText":"object"},e.isWordText=function(e){return e&&e._text&&(e._$_$ISWORDTYEXT||null!=e.lastGCCnt)},e.prototype._writeLen=function(e,t){if(t<128)e.writeUint8(t);else{if(!(t<32768))throw"jsonbin save len must<0x8000 "+t;e.writeUint8(t>>8|128),e.writeUint8(255&t)}},e.prototype._writeBigNumber=function(e,t){var n=t.toString(16),o=parseInt(n.substring(0,n.length-7),16),i=parseInt(n.substring(n.length-7),16);if(e.writeInt32(o),e.writeInt32(i),a.JsonBinRead._toLargeNumber(o,i)!=t)throw"save big number err:"+t},e.prototype._writeOne=function(t,n,o,i,r){if(null==i)return!1;var s=typeof i;if("object"==s&&i){if(i.$__$disbaleJsonBinSv)return i.$__$disbaleJsonBinSv,e.NOSAVETHISOBJ_DELETE,!1;s=this._getObjectTypeof(i)}switch(s){case"number":if(Math.floor(i)!==i){var l=1e3*i;if((0|l)===l){if(Math.abs(i)<32)return null!=o?this._saveKey(o,a.JsonBinRead.NUM16_1000,n,t):t.writeUint8(a.JsonBinRead.NUM16_1000),t.writeInt16(l),!0;if(Math.abs(i)<2147483)return null!=o?this._saveKey(o,a.JsonBinRead.NUM32_1000,n,t):t.writeUint8(a.JsonBinRead.NUM32_1000),t.writeInt32(l),!0}return null!=o?this._saveKey(o,a.JsonBinRead.DOUBLE,n,t):t.writeUint8(a.JsonBinRead.DOUBLE),t.writeFloat32(i),!0}var c=Math.abs(i);return c<128?(null!=o?this._saveKey(o,a.JsonBinRead.NUM8,n,t):t.writeUint8(a.JsonBinRead.NUM8),t.writeByte(i),!0):c<32767?(null!=o?this._saveKey(o,a.JsonBinRead.NUM16,n,t):t.writeUint8(a.JsonBinRead.NUM16),t.writeInt16(i),!0):c<2147483647?(null!=o?this._saveKey(o,a.JsonBinRead.NUM32,n,t):t.writeUint8(a.JsonBinRead.NUM32),t.writeInt32(i),!0):(null!=o?this._saveKey(o,a.JsonBinRead.NUM64,n,t):t.writeUint8(a.JsonBinRead.NUM64),this._writeBigNumber(t,i),!0);case"string":return this._writeStrOrWordText(n,o,i,t,!1),!0;case"boolean":return null!=o?this._saveKey(o,a.JsonBinRead.BOOLEAN,n,t):t.writeUint8(a.JsonBinRead.BOOLEAN),t.writeByte(i?1:0),!0;case"ArrayBuffer":return null!=o?this._saveKey(o,a.JsonBinRead.ARRAYBUFFER32,n,t):t.writeUint8(a.JsonBinRead.ARRAYBUFFER32),t.writeUint32(i.byteLength),t.writeArrayBuffer(i),!0;case"Uint8Array":return null!=o?this._saveKey(o,a.JsonBinRead.UINT8ARRAY,n,t):t.writeUint8(a.JsonBinRead.UINT8ARRAY),this._writeLen(t,i.byteLength),t.writeArrayBuffer(i.buffer),!0;case"Int8Array":return null!=o?this._saveKey(o,a.JsonBinRead.INT8ARRAY,n,t):t.writeUint8(a.JsonBinRead.INT8ARRAY),this._writeLen(t,i.byteLength),t.writeArrayBuffer(i.buffer),!0;case"Int16Array":return null!=o?this._saveKey(o,a.JsonBinRead.INT16ARRAY,n,t):t.writeUint8(a.JsonBinRead.INT16ARRAY),this._writeLen(t,i.byteLength),t.writeArrayBuffer(i.buffer),!0;case"Float32Array":return null!=o?this._saveKey(o,a.JsonBinRead.FLOAT32ARRAY,n,t):t.writeUint8(a.JsonBinRead.FLOAT32ARRAY),this._writeLen(t,i.byteLength),t.writeArrayBuffer(i.buffer),!0;case"WordText":return this._writeStrOrWordText(n,o,i._text,t,!0),!0;case"object":break;default:throw"jsonbin no this type:"+s}return i?i instanceof Array?this._saveArray(r,t,n,o,i):(this._classEnable_&&i.__CLASS__?null!=o?this._saveKey(o,a.JsonBinRead.OBJECTTHISCLASS,n,t):t.writeUint8(a.JsonBinRead.OBJECTTHISCLASS):null!=o?this._saveKey(o,a.JsonBinRead.OBJECT,n,t):t.writeUint8(a.JsonBinRead.OBJECT),this._writeObject(t,n,i),t.writeUint16(a.JsonBinRead.OBJECTEND),!0):(null!=o?this._saveKey(o,a.JsonBinRead.NULL,n,t):t.writeUint8(a.JsonBinRead.NULL),!0)},e.prototype._saveArray=function(t,n,o,i,r){var s,l,c,u=r.length;if(0===u)return null!=i?this._saveKey(i,a.JsonBinRead.ARRAYEMPTY,o,n):n.writeUint8(a.JsonBinRead.ARRAYEMPTY),n.writeByte(0),!0;if(u>1&&u<250&&(l=this._getValueArrayType(r[0]))!=a.JsonBinRead.OBJECT){for(s=1;s<u;s++)if(l!==this._getValueArrayType(r[s])){l=a.JsonBinRead.OBJECT;break}if(l!=a.JsonBinRead.OBJECT&&l!=a.JsonBinRead.BOOLEAN){switch(null!=i?this._saveKey(i,l,o,n):n.writeUint8(l),n.writeUint8(r.length),l){case a.JsonBinRead.ARRAYNUM8:for(s=0;s<u;s++)n.writeByte(r[s]);break;case a.JsonBinRead.ARRAYNUM16:for(s=0;s<u;s++)n.writeInt16(r[s]);break;case a.JsonBinRead.ARRAYNUM32:for(s=0;s<u;s++)n.writeInt32(r[s]);break;case a.JsonBinRead.ARRAYDOUBLE:for(s=0;s<u;s++)n.writeFloat32(r[s])}return!0}}c=u<250?a.JsonBinRead.ARRAY8:u<32700?a.JsonBinRead.ARRAY16:a.JsonBinRead.ARRAY32;var p=n.pos;null!=i?this._saveKey(i,c,o,n):n.writeUint8(c);var h=n.pos,d=0;switch(c){case a.JsonBinRead.ARRAY8:n.writeUint8(u);break;case a.JsonBinRead.ARRAY16:n.writeInt16(u);break;case a.JsonBinRead.ARRAY32:n.writeUint32(u)}var f,g=n.pos;for(s=0;s<u;s++)this._writeOne(n,o,null,r[s],t)&&d++;if(d!=u){var m=n.pos;n.pos=h,c==a.JsonBinRead.ARRAY8?n.writeUint8(d):n.writeInt16(d),n.pos=m}return i&&t&&(f=t[e.COMPRESS+i])&&this._useCompress(n,o,i,r,p,g,f,c),!0},e.prototype._useCompress=function(e,t,n,o,r,s,l,c){var u,p,h,d,f=e.pos-s,g=i.BinHashUtils.getHash(e._u8d_,s,f);if(this.objectRef[g]){var m=this.objectRef[g];for(d=m.length,h=0;h<d;h++)if((p=m[h]).value==o){u=p;break}if(!u)for(h=0;h<d;h++)if(p=m[h],i.BinHashUtils.isSame(e._u8d_,p.pos,p.len,e._u8d_,s,f)){u=p;break}}else this.objectRef[g]=[];u?(e.pos=r,this._saveKey(n,a.JsonBinRead.ARRAYREF32,t,e),e.writeByte(l),e.writeUint32(u.pos)):(this.objectRef[g].push({hashCode:g,pos:s,len:f,value:o}),e.pos=r,this._saveKey(n,c==a.JsonBinRead.ARRAY8?a.JsonBinRead.ARRAYREFSOURCE8:a.JsonBinRead.ARRAYREFSOURCE16,t,e),e.pos=s+f)},e.prototype._writeObject=function(t,n,o){for(var i in this._classEnable_&&o.__CLASS__&&this._writeString(n,o.__CLASS__,t),o)i&&i.length>e.NOSAVE_KEY_LEN&&i.substr(0,e.NOSAVE_KEY_LEN)==e.NOSAVEKEY||this._classEnable_&&"__CLASS__"==i||this._writeOne(t,n,i,o[i],o)},e.prototype.write=function(e,t){void 0===t&&(t=!1),this.deep=0,this._classEnable_=t;var n=new s;this.objectRef={};var i=new o.Byte;this._writeObject(i,n,{top:e}),i.writeUint16(a.JsonBinRead.OBJECTEND);var r=new o.Byte;return r.writeInt32(a.JsonBinRead.ISJSONBIN3),r.writeUTFString32(n.strs.join(a.JsonBinRead.SPLITCHAR)),r.writeArrayBuffer(i.buffer),r.buffer},e.COMPRESS="_$TeMpkEy$_CoMpReSs",e.NOSAVEKEY="_$TeMpkEyNoSv$_",e.NOSAVETHISOBJ="$__$disbaleJsonBinSv",e.NOSAVE_KEY_LEN=15,e.NOSAVETHISOBJ_DELETE=2,e.NOSAVETHISOBJ_TRUE=1,e}();n.JsonBinWrite=r;var s=function(){this.keys={},this.strs=["BEGIN",0],this.keyArray=[],this.keyIndex=1};cc._RF.pop()},{"../../utils/Byte":"Byte","./BinHashUtils":"BinHashUtils","./JsonBinRead":"JsonBinRead"}],JsonUtils:[function(e,t,n){"use strict";cc._RF.push(t,"920faRIsNFNeLViKpgrqHaE","JsonUtils"),Object.defineProperty(n,"__esModule",{value:!0}),n.JsonUtils=void 0;var o=function(){function e(){}return e.removeNullOrUndefined=function(e){if(Array.isArray(e)){var t=e.length;if(t>0)for(var n=t-1;n>=0;--n){var o=e[n];if(Array.isArray(o))o=this.removeNullOrUndefined(o);else if(null==o)e.splice(n,1);else if("object"==typeof o){o=this.removeNullOrUndefined(o);continue}}}else{var i=Object.keys(e);if(i.length>0)for(var a=0,r=i;a<r.length;a++){var s=r[a];null!=(o=e[s])?Array.isArray(o)?o=this.removeNullOrUndefined(o):"object"!=typeof o||(o=this.removeNullOrUndefined(o)):delete e[s]}}return e},e.optValue=function(e,t,n){var o=e[t];return null==o?n:o},e}();n.JsonUtils=o,cc._RF.pop()},{}],LLActivationWrapper:[function(e,t){"use strict";cc._RF.push(t,"3fec6odwg5J37C5eGhSY9ox","LLActivationWrapper"),cc._RF.pop()},{}],LLAnalysisWrapper:[function(e,t){"use strict";cc._RF.push(t,"976f4jyzERKJITaKlBUBWCU","LLAnalysisWrapper"),cc._RF.pop()},{}],LLDeviceInfoWrapper:[function(e,t){"use strict";cc._RF.push(t,"e6c59EGUqtFSb+YATls5RIG","LLDeviceInfoWrapper"),cc._RF.pop()},{}],LLLoginModel:[function(e,t,n){"use strict";cc._RF.push(t,"b655490wa1Jp4+2DkYMlMZ3","LLLoginModel"),Object.defineProperty(n,"__esModule",{value:!0}),n.LLLoginResultCode=void 0,function(e){e[e.Success=0]="Success",e[e.Error=1]="Error",e[e.Cancel=2]="Cancel"}(n.LLLoginResultCode||(n.LLLoginResultCode={})),cc._RF.pop()},{}],LLLoginWrapper:[function(e,t,n){"use strict";cc._RF.push(t,"0f419CE+BdL6Y2R56xHFjW6","LLLoginWrapper");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.LLLoginWrapper=void 0;var r=e("../../ffframework/apple/AppleSignInModel"),s=e("../../ffframework/apple/AppleSignInWrapper"),l=e("../../ffframework/common/ActivationWrapper"),c=e("../../ffframework/common/cache/NativeCacheConst"),u=e("../../ffframework/common/DeviceInfoWrapper"),p=e("../../ffframework/facebook/FacebookLoginModel"),h=e("../../ffframework/facebook/FacebookLoginWrapper"),d=e("../../ffframework/google/GoogleLoginModel"),f=e("../../ffframework/google/GoogleLoginWrapper"),g=e("../../framework/gg"),m=e("../../framework/storage/EncryptLocalStorage"),y=a(e("../../framework/utils/StringUtils")),_=e("../api/gamecenter/GameCenterApi"),v=e("../api/gamecenter/GameCenterApiModels"),b=e("./LLLoginModel"),S=function(){function e(){}return Object.defineProperty(e,"userInfo",{get:function(){if(!this._userInfo){var e=m.encryptLocalStorage.getItem(c.NativeCacheConst.FFUserInfo);if(!y.default.isEmpty(e))try{this._userInfo=JSON.parse(e)}catch(t){g.gg.logger.error("\u83b7\u53d6\u7528\u6237\u672c\u5730\u7f13\u5b58\u4fe1\u606f\u5931\u8d25",t),this._userInfo=null}}return this._userInfo},set:function(e){this._userInfo=e,m.encryptLocalStorage.setItem(c.NativeCacheConst.FFUserInfo,JSON.stringify(this._userInfo))},enumerable:!1,configurable:!0}),e.appleLogin=function(){return o(this,void 0,Promise,function(){var e,t,n,o;return i(this,function(i){switch(i.label){case 0:return[4,s.AppleSignInWrapper.signIn()];case 1:if((e=i.sent()).code==r.AppleSignInResponseCode.Failed)return e.err_code==r.ASAuthorizationErrorCode.Canceled?[2,{code:b.LLLoginResultCode.Cancel,login_type:v.FFLoginTypeEnum.Apple}]:[2,{code:b.LLLoginResultCode.Error,login_type:v.FFLoginTypeEnum.Apple,platform_err_code:e.err_code,platform_err_msg:e.err_msg}];i.label=2;case 2:return i.trys.push([2,4,,5]),[4,_.gameCenterApi.loginAsync({login_type:v.FFLoginTypeEnum.Apple,did:l.ActivationWrapper.did,gaid:u.DeviceInfoWrapper.gaid,idfv:u.DeviceInfoWrapper.idfv,access_token:e.identity_token,auth_token:e.authorization_code,user_id:e.user_id,user_name:e.user_name,user_email:e.user_email})];case 3:return 1===(t=i.sent()).status?(n=t.data,this.userInfo=n,[2,{code:b.LLLoginResultCode.Success,login_type:v.FFLoginTypeEnum.Apple,data:n}]):[2,{code:b.LLLoginResultCode.Error,login_type:v.FFLoginTypeEnum.Apple,platform_err_code:e.err_code,platform_err_msg:e.err_msg,api_err_code:t.status,api_err_msg:t.msg}];case 4:return o=i.sent(),g.gg.logger.error("\u767b\u5f55\u5230 FF \u7528\u6237\u4e2d\u5fc3\u65f6\u5931\u8d25",o),[2,{code:b.LLLoginResultCode.Error,login_type:v.FFLoginTypeEnum.Apple,platform_err_code:e.err_code,platform_err_msg:e.err_msg,api_err_code:-1e4,api_err_msg:""}];case 5:return[2]}})})},e.facebookLogin=function(){return o(this,void 0,Promise,function(){var e,t,n,o;return i(this,function(i){switch(i.label){case 0:return[4,h.FacebookLoginWrapper.login()];case 1:if((e=i.sent()).code==p.FacebookLoginResponseCode.Cancel)return[2,{code:b.LLLoginResultCode.Cancel,login_type:v.FFLoginTypeEnum.Facebook}];if(e.code==p.FacebookLoginResponseCode.Error)return[2,{code:b.LLLoginResultCode.Error,login_type:v.FFLoginTypeEnum.Facebook,platform_err_code:e.code,platform_err_msg:e.err_msg}];i.label=2;case 2:return i.trys.push([2,4,,5]),[4,_.gameCenterApi.loginAsync({login_type:v.FFLoginTypeEnum.Facebook,did:l.ActivationWrapper.did,gaid:u.DeviceInfoWrapper.gaid,idfv:u.DeviceInfoWrapper.idfv,access_token:e.access_token,user_id:e.user_id,user_name:e.user_name,user_icon:e.user_icon,user_email:e.user_email})];case 3:return 1===(t=i.sent()).status?(n=t.data,this.userInfo=n,[2,{code:b.LLLoginResultCode.Success,login_type:v.FFLoginTypeEnum.Facebook,data:n}]):[2,{code:b.LLLoginResultCode.Error,login_type:v.FFLoginTypeEnum.Facebook,platform_err_code:e.code,platform_err_msg:e.err_msg,api_err_code:t.status,api_err_msg:t.msg}];case 4:return o=i.sent(),g.gg.logger.error("\u767b\u5f55\u5230 FF \u7528\u6237\u4e2d\u5fc3\u65f6\u5931\u8d25",o),[2,{code:b.LLLoginResultCode.Error,login_type:v.FFLoginTypeEnum.Facebook,platform_err_code:e.code,platform_err_msg:e.err_msg,api_err_code:-1e4,api_err_msg:""}];case 5:return[2]}})})},e.googleLogin=function(){return o(this,void 0,Promise,function(){var e,t,n,o;return i(this,function(i){switch(i.label){case 0:return[4,f.GoogleLoginWrapper.login()];case 1:if((e=i.sent()).code==d.GoogleLoginResponseCode.Cancel)return[2,{login_type:v.FFLoginTypeEnum.Google,code:b.LLLoginResultCode.Cancel}];if(e.code==d.GoogleLoginResponseCode.Error)return[2,{login_type:v.FFLoginTypeEnum.Google,code:b.LLLoginResultCode.Error,platform_err_code:e.code,platform_err_msg:e.err_msg}];i.label=2;case 2:return i.trys.push([2,4,,5]),[4,_.gameCenterApi.loginAsync({login_type:v.FFLoginTypeEnum.Google,did:l.ActivationWrapper.did,gaid:u.DeviceInfoWrapper.gaid,idfv:u.DeviceInfoWrapper.idfv,access_token:e.id_token,auth_token:e.auth_code,user_id:e.user_id,user_name:e.user_name,user_icon:e.user_icon,user_email:e.user_email})];case 3:return 1===(t=i.sent()).status?(n=t.data,this.userInfo=n,[2,{code:b.LLLoginResultCode.Success,login_type:v.FFLoginTypeEnum.Google,data:n}]):[2,{code:b.LLLoginResultCode.Error,login_type:v.FFLoginTypeEnum.Google,platform_err_code:e.code,platform_err_msg:e.err_msg,api_err_code:t.status,api_err_msg:t.msg}];case 4:return o=i.sent(),g.gg.logger.error("\u767b\u5f55\u5230 FF \u7528\u6237\u4e2d\u5fc3\u65f6\u5931\u8d25",o),[2,{code:b.LLLoginResultCode.Error,login_type:v.FFLoginTypeEnum.Google,platform_err_code:e.code,platform_err_msg:e.err_msg,api_err_code:-1e4,api_err_msg:""}];case 5:return[2]}})})},e.phoneLogin=function(e){return o(this,void 0,Promise,function(){var t,n,o;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,_.gameCenterApi.loginAsync({login_type:v.FFLoginTypeEnum.Phone,did:l.ActivationWrapper.did,gaid:u.DeviceInfoWrapper.gaid,idfv:u.DeviceInfoWrapper.idfv,nation_code:e.nation_code,phone:e.phone,phone_verify_code:e.phone_verify_code})];case 1:return 1===(t=i.sent()).status?(n=t.data,this.userInfo=n,[2,{code:b.LLLoginResultCode.Success,login_type:v.FFLoginTypeEnum.Phone,data:n}]):[2,{code:b.LLLoginResultCode.Error,login_type:v.FFLoginTypeEnum.Phone,api_err_code:t.status,api_err_msg:t.msg}];case 2:return o=i.sent(),g.gg.logger.error("\u767b\u5f55\u5230 FF \u7528\u6237\u4e2d\u5fc3\u65f6\u5931\u8d25",o),[2,{code:b.LLLoginResultCode.Error,login_type:v.FFLoginTypeEnum.Phone,api_err_code:-1e4,api_err_msg:""}];case 3:return[2]}})})},e.deviceLogin=function(e){return o(this,void 0,Promise,function(){var t,n,o;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,_.gameCenterApi.loginAsync({login_type:v.FFLoginTypeEnum.Device,did:e||l.ActivationWrapper.did,gaid:u.DeviceInfoWrapper.gaid,idfv:u.DeviceInfoWrapper.idfv})];case 1:return 1===(t=i.sent()).status?(n=t.data,this.userInfo=n,[2,{code:b.LLLoginResultCode.Success,login_type:v.FFLoginTypeEnum.Device,data:n}]):[2,{code:b.LLLoginResultCode.Error,login_type:v.FFLoginTypeEnum.Device,api_err_code:t.status,api_err_msg:t.msg}];case 2:return o=i.sent(),g.gg.logger.error("\u767b\u5f55\u5230 FF \u7528\u6237\u4e2d\u5fc3\u65f6\u5931\u8d25",o),[2,{code:b.LLLoginResultCode.Error,login_type:v.FFLoginTypeEnum.Device,api_err_code:-1e4,api_err_msg:""}];case 3:return[2]}})})},e.logOut=function(e){return o(this,void 0,Promise,function(){var t;return i(this,function(n){switch(n.label){case 0:return[4,_.gameCenterApi.logOutAsync({uid:e.uid})];case 1:return t=n.sent(),e.login_type==v.FFLoginTypeEnum.Facebook?h.FacebookLoginWrapper.logOut():e.login_type===v.FFLoginTypeEnum.Google&&f.GoogleLoginWrapper.logOut(),[2,t]}})})},e._userInfo=null,e}();n.LLLoginWrapper=S,cc._RF.pop()},{"../../ffframework/apple/AppleSignInModel":"AppleSignInModel","../../ffframework/apple/AppleSignInWrapper":"AppleSignInWrapper","../../ffframework/common/ActivationWrapper":"ActivationWrapper","../../ffframework/common/DeviceInfoWrapper":"DeviceInfoWrapper","../../ffframework/common/cache/NativeCacheConst":"NativeCacheConst","../../ffframework/facebook/FacebookLoginModel":"FacebookLoginModel","../../ffframework/facebook/FacebookLoginWrapper":"FacebookLoginWrapper","../../ffframework/google/GoogleLoginModel":"GoogleLoginModel","../../ffframework/google/GoogleLoginWrapper":"GoogleLoginWrapper","../../framework/gg":"gg","../../framework/storage/EncryptLocalStorage":"EncryptLocalStorage","../../framework/utils/StringUtils":"StringUtils","../api/gamecenter/GameCenterApi":"GameCenterApi","../api/gamecenter/GameCenterApiModels":"GameCenterApiModels","./LLLoginModel":"LLLoginModel"}],LLPackageWrapper:[function(e,t){"use strict";cc._RF.push(t,"bcd867C2V9G5pKjEIhtkptw","LLPackageWrapper"),cc._RF.pop()},{}],LLWrapper:[function(e,t){"use strict";cc._RF.push(t,"3ee19x0dMxI2LTcdSwjJVD0","LLWrapper"),cc._RF.pop()},{}],Laya:[function(e,t,n){"use strict";cc._RF.push(t,"75e86UideJDCJ+kBEx6kD6l","Laya");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t},l=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.Laya=void 0;var p=s(e("./utils/Handler")),h=s(e("./utils/Browser")),d=s(e("./net/Socket")),f=s(e("./events/Event")),g=s(e("./events/EventDispatcher")),m=s(e("./net/HttpRequest")),y=s(e("./maths/Point")),_=u(e("../../../main/scripts/framework/asset/AssetLoader")),v=e("../../../main/scripts/configs/BundleConfig"),b=e("../../../main/scripts/framework/gg"),S=e("../common/Define");(function(e){var t=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e._visible=!0,e._zOrder=0,e}return i(n,t),Object.defineProperty(n.prototype,"visible",{get:function(){return this._visible},set:function(e){this._visible=e,this.node.active=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"zOrder",{get:function(){return this._zOrder},set:function(e){this._zOrder=e,this.node.zIndex=e},enumerable:!1,configurable:!0}),n.open=function(e){console.log("Scene open: "+e)},n.LoadPrefab=function(e,t,o,i,a){var r=this;this.load(o,null,null).then(function(o){if(null==o)a&&a.runWith(t);else{var s=cc.instantiate(o);s.name=r.s_sceneName,r.s_scene=s.getComponent(n),i&&i.runWith(t),e&&e.runWith(t)}})},n.OpenScene=function(t){var n,o;if(this.s_scene)if(console.log("open scene: ",this.name,t,this.s_scene,null===(o=null===(n=this.s_scene)||void 0===n?void 0:n.node)||void 0===o?void 0:o.parent),this.s_scene.zOrder=S.Define.ZORDER_DEF.Z_LOADINGVIEW,t){if(this.s_scene.node.parent&&this.s_scene.node.parent==t)return void console.log("can not add child to same parent");t.addChild(this.s_scene.node);var i=this.s_scene.node,a=t.children.length;i.setPosition(cc.v2(0,0)),i.setSiblingIndex(a)}else{var r=cc.find("Canvas");if(!r)return void b.gg.logger.error("can not find canvas");if(this.s_scene.node.parent&&this.s_scene.node.parent==r)return void console.log("can not add child to same parent");r.addChild(this.s_scene.node),i=this.s_scene.node,a=r.children.length,i.setPosition(cc.v2(0,0)),i.setSiblingIndex(a)}else this.LoadPrefab(e.Handler.create(this,this.Show,[t]),null,this.s_sceneAddr)},n.Show=function(e){if(e){e.addChild(this.s_scene.node);var t=this.s_scene.node,n=e.children.length;t.setPosition(cc.v2(0,0)),t.setSiblingIndex(n)}else{var o=cc.find("Canvas");if(!o)return void b.gg.logger.error("can not find canvas");o.addChild(this.s_scene.node),t=this.s_scene.node,n=o.children.length,t.setPosition(cc.v2(0,0)),t.setSiblingIndex(n)}},n.CloseScene=function(){this.s_scene&&this.s_scene.close()},n.load=function(t,n){return l(this,void 0,void 0,function(){var o;return c(this,function(i){switch(i.label){case 0:return this.s_sceneAddr=t,[4,e.loader.load(t,n,null,I.JSON)];case 1:return[2,(o=i.sent()).length>0?o[0]:null]}})})},n.prototype.hide=function(){},n.prototype.show=function(){},n.prototype.onLoad=function(){this.onAwake()},n.prototype.onAwake=function(){},n.prototype.onEnable=function(){},n.prototype.onDisable=function(){},n.prototype.close=function(e){void 0===e&&(e=!0),e?this.node.destroy():this.node.active=!1},n.prototype.getChildByName=function(e){return this.node.getChildByName(e)},n.prototype.addChild=function(e){this.node.addChild(e)},n}(cc.Component);e.Scene=t;var n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(t);e.Script=n;var o=function(){function e(){}return e.on=function(){},e.removeStringPrefix=function(e,t,n){return void 0===t&&(t=!0),void 0===n&&(n=!0),"string"==typeof e&&(t&&(e=e.substring(0,e.lastIndexOf("."))||e),n&&-1!=e.indexOf("resources/")&&e.startsWith("resources/")&&(e=e.replace("resources/",""))),e},e.load=function(e,t,n,o){var i;return l(this,void 0,void 0,function(){var n,a,r,s,l,u,p,h,d,f,g,m,y,b,S,C,R,L,P,M,T,E,A,w;return c(this,function(c){switch(c.label){case 0:if(console.log("load: ",e,o,t),n=[],a=null,"string"==typeof e?""!==e&&(n=[e]):(r=(r=e).filter(function(e){return""!==e}),n=r),0===n.length)return[2,[]];a="string"==typeof t?t===I.SPINE?I.SPINE:t===I.JSON?I.JSON:t===I.PICTURE?I.PICTURE:t===I.SPRITE?I.SPRITE:t===I.PLIST?I.PLIST:t===I.PREFAB?I.PREFAB:I.JSON:o,s=[],console.log("start load:",n),l=0,u=n,c.label=1;case 1:return l<u.length?(p=u[l],h=this.removeStringPrefix(p),console.log("loading:",p,h),a!=I.SPINE&&p.endsWith(".json")?(f=(d=s).push,[4,_.default.loadBundleAsset(v.BundleConfig.Resources+"/"+h,cc.JsonAsset)]):[3,3]):[3,19];case 2:return f.apply(d,[c.sent()]),[3,18];case 3:return p.endsWith(".png")?a!==I.PICTURE?[3,5]:(m=(g=s).push,[4,_.default.loadBundleAsset(v.BundleConfig.Resources+"/"+h,cc.Texture2D)]):[3,10];case 4:return m.apply(g,[c.sent()]),[3,9];case 5:return a!==I.SPRITE?[3,7]:(b=(y=s).push,[4,_.default.loadBundleAsset(v.BundleConfig.Resources+"/"+h,cc.SpriteFrame)]);case 6:return b.apply(y,[c.sent()]),[3,9];case 7:return C=(S=s).push,[4,_.default.loadBundleAsset(v.BundleConfig.Resources+"/"+h,cc.Texture2D)];case 8:C.apply(S,[c.sent()]),c.label=9;case 9:return[3,18];case 10:return a==I.SPINE||p.endsWith(".atlas")?(L=(R=s).push,[4,_.default.loadBundleAsset(v.BundleConfig.Resources+"/"+h,sp.SkeletonData)]):[3,12];case 11:return L.apply(R,[c.sent()]),[3,18];case 12:return p.endsWith(".lh")||p.endsWith(".ls")?(M=(P=s).push,[4,_.default.loadBundleAsset(v.BundleConfig.Resources+"/"+h,cc.Prefab)]):[3,14];case 13:return M.apply(P,[c.sent()]),[3,18];case 14:return p.endsWith(".plist")?(E=(T=s).push,[4,_.default.loadBundleAsset(v.BundleConfig.Resources+"/"+h,cc.SpriteAtlas)]):[3,16];case 15:return E.apply(T,[c.sent()]),[3,18];case 16:return console.log("loading other: "+p),w=(A=s).push,[4,_.default.loadBundleAsset(v.BundleConfig.Resources+"/"+h,cc.JsonAsset)];case 17:w.apply(A,[c.sent()]),c.label=18;case 18:return l++,[3,1];case 19:return console.log("load complete:",s,t),t&&"string"!=typeof t&&(t.hasOwnProperty("noMetaFile")&&!0===t.noMetaFile||null===(i=t)||void 0===i||i.runWith({data:s})),[2,s]}})})},e.getRes=function(e,t){var n;console.log("getRes: "+e,t);var o=e;return o=this.removeStringPrefix(o),t===I.JSON||t===I.SPINE?{data:null===(n=this.getResType(v.BundleConfig.Resources+"/"+o,cc.JsonAsset))||void 0===n?void 0:n.json}:(console.log("getRes: "+o,t),{data:this.getResType(v.BundleConfig.Resources+"/"+o,cc.Asset)})},e.getResType=function(e,t){return _.default.getBundleAsset(""+e,t)},e}();e.loader=o;var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.on=function(e,t,n){this.node.on("click",n,t)},t}(cc.Button);e.Button=a;var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(h.Browser);e.Browser=r;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(p.Handler);e.Handler=s;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(d.Socket);e.Socket=u;var C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(g.EventDispatcher);e.EventDispatcher=C;var I=function(){function e(){}return e.JSON="json",e.SPINE="spine",e.PLIST="plist",e.PREFAB="prefab",e.PICTURE="picture",e.SPRITE="sprite",e}();e.Loader=I;var R=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(f.Event);e.Event=R;var L=function(){function e(){}return e.once=function(e,t,n){var o=this,i=setTimeout(n,e);this.timerIdMap.set(t,i),setTimeout(function(){o.timerIdMap.delete(t)},e)},e.clearAll=function(e){var t=this.timerIdMap.get(e);t&&clearTimeout(t)},e.loop=function(e,t,n){var o=setInterval(n,e);this.timerIdMap.set(t,o)},e.clear=function(e){var t=this.timerIdMap.get(e);t&&clearInterval(t)},e.timerIdMap=new Map,e}();e.timer=L;var P=function(){function e(){}return e.getItem=function(e){return cc.sys.localStorage.getItem(e)},e.setItem=function(e,t){cc.sys.localStorage.setItem(e,t)},e}();e.LocalStorage=P;var M=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(m.HttpRequest);e.HttpRequest=M;var T=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(y.Point);e.Point=T;var E=function(){function t(){}return Object.defineProperty(t,"muted",{get:function(){return this._muted},set:function(e){this._muted=e,cc.audioEngine.setMusicVolume(e?0:1)},enumerable:!1,configurable:!0}),t.playMusic=function(t,n,o,i){void 0===o&&(o=null),void 0===i&&(i=0),t=e.loader.removeStringPrefix(t,!0,!1),console.log("playMusic: "+t,n),b.gg.audio.playMusic({path:t},0!=n,1)},t.setMusicVolume=function(e){cc.audioEngine.setMusicVolume(e)},t.playSound=function(t,n,o,i,a){void 0===n&&(n=0),void 0===o&&(o=null),void 0===i&&(i=null),void 0===a&&(a=0),t=e.loader.removeStringPrefix(t,!0,!1),console.log("playSound: "+t,n),b.gg.audio.playOneShot({path:t})},t.setSoundVolume=function(e){cc.audioEngine.setEffectsVolume(e)},t.stopSound=function(e){this.audioIdMap.has(e)&&cc.audioEngine.stopEffect(this.audioIdMap.get(e))},t.stopAllSound=function(){cc.audioEngine.stopAllEffects()},t.stopAll=function(){cc.audioEngine.stopAll()},t.stopMusic=function(){cc.audioEngine.stopMusic()},t.audioIdMap=new Map,t}();e.SoundManager=E;e.SoundChannel=function(){},e.regClass=cc._decorator.ccclass,e.property=cc._decorator.property;var A=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(cc.ProgressBar);e.ProgressBar=A;var w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(cc.Label);e.Label=w;var O=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(sp.Skeleton);e.SpineSkeleton=O;var G=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(cc.Node);e.Panel=G;e.Image=function(){};e.List=function(){};e.ViewStack=function(){};e.TextInput=function(){};e.Tab=function(){};var N=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(cc.Node);e.Node=N;e.ComboBox=function(){};e.Sprite=function(){};e.HBox=function(){};e.VBox=function(){};e.FontClip=function(){};e.CheckBox=function(){};var D=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(cc.Texture2D);e.Texture=D;e.Animation=function(){};e.Sprite3D=function(){};var B=function(e){function t(t,n,o){return e.call(this,t,n,o)||this}return i(t,e),t}(cc.Vec3);e.Vector3=B;e.Rigidbody3D=function(){};var U=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(cc.Tween);e.Tween=U;e.View=function(){};e.HSlider=function(){};e.Animator2D=function(){};e.TimeLine=function(){};var k=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(cc.Node);e.DialogManager=k;var x=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(cc.Node);e.stage=x;e.ILoadURL=function(){};var F=function(){function e(){}return e.closeAll=function(){},e}();e.Dialog=F;e.Text=function(){}})(n.Laya||(n.Laya={})),cc._RF.pop()},{"../../../main/scripts/configs/BundleConfig":"BundleConfig","../../../main/scripts/framework/asset/AssetLoader":"AssetLoader","../../../main/scripts/framework/gg":"gg","../common/Define":"Define","./events/Event":"Event","./events/EventDispatcher":"EventDispatcher","./maths/Point":"Point","./net/HttpRequest":"HttpRequest","./net/Socket":"Socket","./utils/Browser":"Browser","./utils/Handler":"Handler"}],LevelAwardGameComponents:[function(e,t,n){"use strict";cc._RF.push(t,"864b55FKotDDp7kF8dBewyd","LevelAwardGameComponents");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../configs/CommonPanelConfig"),s=e("../framework/gg"),l=e("../prefabs/panels/levelAward/LevelAwardPanel"),c=e("../systems/levelAward/LevelAwardSystem"),u=e("../systems/levelAward/LevelAwardUIEvent"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.levelRedDot=null,t.isRedDotLevel=!1,t}return i(t,e),t.prototype.onEnable=function(){this.initLevelUI(),s.gg.eventManager.on(u.LevelAwardUIEvent.onGetLevelAwardInfoResponse,this.onGetLevelAwardInfoResponse,this),s.gg.eventManager.on(u.LevelAwardUIEvent.onGameSettlementLevelAward,this.onRedDotLevel,this),c.levelAwardSystem.getLevelAwardInfo()},t.prototype.onDisable=function(){s.gg.eventManager.offTarget(this),this.isRedDotLevel=!1},t.prototype.initLevelUI=function(){this.node.opacity=0,this.node.getComponent(cc.Button).interactable=!1,this.isRedDotLevel=!1,this.updateRedDotLevelUI()},t.prototype.onRedDotLevel=function(){this.isRedDotLevel=!0,this.updateRedDotLevelUI()},t.prototype.updateRedDotLevelUI=function(){this.levelRedDot.active=this.isRedDotLevel},t.prototype.onGetLevelAwardInfoResponse=function(e){var t,n,o=this;e&&(null===(n=null===(t=c.levelAwardSystem.levelAward)||void 0===t?void 0:t.award_list)||void 0===n?void 0:n.length)>0?(this.isRedDotLevel=c.levelAwardSystem.levelAward.is_award,this.updateRedDotLevelUI(),cc.tween(this.node).to(.256,{opacity:255},{easing:"sineOut"}).call(function(){o.node.getComponent(cc.Button).interactable=!0}).start()):this.initLevelUI()},t.prototype.onClickOpenLevel=function(){s.gg.panelRouter.show({panel:r.CommonPanelConfig.levelAwardPanel,data:{openLevelType:l.OpenLevelType.Game}})},a([d({type:cc.Node,tooltip:"\u7b49\u7ea7\u5956\u52b1\u8282\u70b9\u7ea2\u70b9"})],t.prototype,"levelRedDot",void 0),a([h],t)}(cc.Component);n.default=f,cc._RF.pop()},{"../configs/CommonPanelConfig":"CommonPanelConfig","../framework/gg":"gg","../prefabs/panels/levelAward/LevelAwardPanel":"LevelAwardPanel","../systems/levelAward/LevelAwardSystem":"LevelAwardSystem","../systems/levelAward/LevelAwardUIEvent":"LevelAwardUIEvent"}],LevelAwardItem:[function(e,t,n){"use strict";cc._RF.push(t,"62bc1rZ3pZBQoLMH2Ft+7Jq","LevelAwardItem");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../../../../main/scripts/framework/i18n/I18n"),s=e("../../../../../main/scripts/systems/api/gameapi/GameApiModels"),l=e("../../../../../main/scripts/systems/item/CommonItemConfig"),c=e("../../../../../main/scripts/systems/item/ItemSystem"),u=e("../../../../../main/scripts/utils/CurrencyUtil"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.icon=null,t.spine=null,t.dragon=null,t.numLabel=null,t.giftNode=null,t.itemScale={avatar_frame:.45,chat_bubble:.35,baloot_card:.7,baloot_bg:.45,ludo_chessboard:.5,ludo_dice:1,game_gift:1},t}return i(t,e),t.prototype.updateUI=function(e){var t=this;if(this.playLevelAwardAnim(),this.spine.node.active=!1,this.dragon.node.active=!1,this.icon.node.active=!1,e.award_type===s.AwardType.Item){this.numLabel.string=r.i18n.getText("item.dayNum",e.effective_days);var n=c.itemSystem.getItem(e.item_id);c.itemSystem.getItemIconInfo(e.item_id).then(function(e){switch(e.iconType){case l.IconType.Image:t.icon.node.active=!0,t.icon.spriteFrame=e.spriteFrame;break;case l.IconType.Spine:t.spine.node.active=!0,t.spine.skeletonData=e.spineData,t.spine.setAnimation(0,"animation",!0);break;case l.IconType.Dragon:t.dragon.node.active=!0,t.dragon.dragonAsset=e.dragonAsset,t.dragon.dragonAtlasAsset=e.dragonAtlasAsset,t.dragon.armatureName="armatureName",t.dragon.playAnimation("animation",0)}}),this.itemScale[n.item_type]?(this.icon.node.scale=this.itemScale[n.item_type],this.dragon.node.scale=this.itemScale[n.item_type],this.spine.node.scale=this.itemScale[n.item_type]):(this.icon.node.scale=1,this.dragon.node.scale=1,this.spine.node.scale=1)}else this.icon.node.active=!0,this.icon.node.scale=.8,this.numLabel.string=u.CurrencyUtil.toThousandsSeparator(e.count)},t.prototype.playLevelAwardAnim=function(){this.giftNode.y=0,this.giftNode.stopAllActions(),cc.tween(this.giftNode).repeatForever(cc.tween().to(1.12,{y:10},{easing:"sineOut"}).to(1.38,{y:0},{easing:"sineIn"})).start()},a([d({type:cc.Sprite,tooltip:"\u7b49\u7ea7\u5956\u52b1icon"})],t.prototype,"icon",void 0),a([d({type:sp.Skeleton,tooltip:"\u7b49\u7ea7\u5956\u52b1spine"})],t.prototype,"spine",void 0),a([d({type:dragonBones.ArmatureDisplay,tooltip:"\u7b49\u7ea7\u5956\u52b1dragon"})],t.prototype,"dragon",void 0),a([d({type:cc.Label,tooltip:"\u7b49\u7ea7\u5956\u52b1\u6570\u91cf"})],t.prototype,"numLabel",void 0),a([d({type:cc.Node,tooltip:"\u793c\u7269\u8282\u70b9"})],t.prototype,"giftNode",void 0),a([h],t)}(cc.Component);n.default=f,cc._RF.pop()},{"../../../../../main/scripts/framework/i18n/I18n":"I18n","../../../../../main/scripts/systems/api/gameapi/GameApiModels":"GameApiModels","../../../../../main/scripts/systems/item/CommonItemConfig":"CommonItemConfig","../../../../../main/scripts/systems/item/ItemSystem":"ItemSystem","../../../../../main/scripts/utils/CurrencyUtil":"CurrencyUtil"}],LevelAwardPanel:[function(e,t,n){"use strict";cc._RF.push(t,"0890cQot+ZFopJnaMeb3OoW","LevelAwardPanel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.OpenLevelType=void 0;var c,u=e("../../../../../main/scripts/configs/CommonAudioConfig"),p=e("../../../../../main/scripts/configs/CommonPanelConfig"),h=e("../../../../../main/scripts/framework/gg"),d=e("../../../../../main/scripts/framework/i18n/I18n"),f=e("../../../../../main/scripts/systems/api/gameapi/GameApiModels"),g=e("../../../../../main/scripts/systems/user/UserSystem"),m=e("../../../../../main/scripts/systems/user/UserWalletSystem"),y=l(e("../../../framework/components/dialogstyle/MoveStyleDialogPanelV1")),_=e("../../../systems/levelAward/LevelAwardSystem"),v=e("../../../systems/levelAward/LevelAwardUIEvent"),b=l(e("./LevelAwardItem")),S=cc._decorator,C=S.ccclass,I=S.property;(function(e){e.Game="Game",e.Lobby="Lobby"})(c=n.OpenLevelType||(n.OpenLevelType={}));var R=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.LevelAwardArr=new Array,t.claimBtnNode=null,t.playGameBtnNode=null,t.levelSprite=null,t.openLevelType=c.Lobby,t.lastCoinBalance=0,t.lastDiamonBalance=0,t.lastFashion=0,t.atlas=null,t}return i(t,e),t.prototype.show=function(e){this.playGameBtnNode.active=!1,this.claimBtnNode.active=!1,this.openLevelType=e.data.openLevelType,_.levelAwardSystem.getLevelAwardInfo(),this._playShowAnim(function(){e.onShowed()})},t.prototype.hide=function(e){this._playHideAnim(function(){e.onHided()})},t.prototype.onEnable=function(){h.gg.eventManager.on(v.LevelAwardUIEvent.onGetLevelAwardInfoResponse,this._onGetLevelAwardInfoResponse,this),h.gg.eventManager.on(v.LevelAwardUIEvent.onGetLevelAwardResponse,this._onGetLevelAwardResponse,this)},t.prototype.onDisable=function(){this.resetAwardItem(),h.gg.eventManager.offTarget(this)},t.prototype._onGetLevelAwardInfoResponse=function(e){if(e){var t=_.levelAwardSystem.levelAward.award_list;0===t.length?(h.gg.panelRouter.show({panel:p.CommonPanelConfig.toastPanel,data:{text:d.i18n.getText("toast.ActivityEnd")}}),h.gg.panelRouter.hide({panel:p.CommonPanelConfig.levelAwardPanel}),h.gg.eventManager.emit(v.LevelAwardUIEvent.onLevelEndEvent,f.ActivityType.LevelAward,!1)):(this.resetAwardItem(),this.initAwardItem(t))}},t.prototype._onGetLevelAwardResponse=function(e){return r(this,void 0,void 0,function(){var t,n,o,i,a;return s(this,function(r){switch(r.label){case 0:return h.gg.panelRouter.hide({panel:p.CommonPanelConfig.loadingPanel}),e?(t=this.lastCoinBalance,n=this.lastDiamonBalance,o=this.lastFashion,i=new Array,_.levelAwardSystem.levelAward.award_list.forEach(function(e){var a=null;switch(e.award_type){case f.AwardType.Coin:a={award_type:f.AwardType.Coin,count:e.count,initValue:t};break;case f.AwardType.Diamond:a={award_type:f.AwardType.Diamond,count:e.count,initValue:n};break;case f.AwardType.Item:a={award_type:e.award_type,itemCount:d.i18n.getText("item.dayNum",e.effective_days),initValue:o,itemId:e.item_id,fashionAdd:0}}i.push(a)}),a={giftList:i},[4,h.gg.panelRouter.loadAsync(p.CommonPanelConfig.receiveFeaturesPanel)]):[3,2];case 1:return r.sent(),h.gg.panelRouter.show({panel:p.CommonPanelConfig.receiveFeaturesPanel,data:a}),[3,3];case 2:h.gg.panelRouter.show({panel:p.CommonPanelConfig.toastPanel,data:{text:d.i18n.getText("toast.levelAwardClaimFail")}}),r.label=3;case 3:return[2]}})})},t.prototype.resetAwardItem=function(){this.LevelAwardArr.forEach(function(e){e.active=!1})},t.prototype.initAwardItem=function(e){var t=this;_.levelAwardSystem.levelAward.is_award?(this.claimBtnNode.active=!0,this.playGameBtnNode.active=!1):(this.claimBtnNode.active=!1,this.openLevelType===c.Lobby&&(this.playGameBtnNode.active=!0)),this.levelSprite.spriteFrame=this.atlas.getSpriteFrame("level_award_level_"+_.levelAwardSystem.levelAward.level),e.forEach(function(e,n){t.LevelAwardArr[n].active=!0,t.LevelAwardArr[n].children[0].getComponent(b.default).updateUI(e)})},t.prototype.onClaimBtnClick=function(){_.levelAwardSystem.levelAward.is_award?(h.gg.panelRouter.show({panel:p.CommonPanelConfig.loadingPanel}),this.lastCoinBalance=m.userWalletSystem.coinBalance,this.lastDiamonBalance=m.userWalletSystem.diamondBalance,this.lastFashion=g.userSystem.userModel.fashion,_.levelAwardSystem.getLevelAward()):h.gg.panelRouter.show({panel:p.CommonPanelConfig.toastPanel,data:{text:d.i18n.getText("toast.levelNotEnough")}})},t.prototype.onPlayGameBtnClick=function(){h.gg.eventManager.emit(v.LevelAwardUIEvent.onLevelFastBaloot)},t.prototype.onCloseBtnClick=function(){h.gg.panelRouter.hide({panel:p.CommonPanelConfig.levelAwardPanel}),h.gg.audio.playOneShot(u.CommonAudioConfig.btnClose)},a([I({type:[cc.Node],tooltip:"\u5956\u52b1LevelAwardItem"})],t.prototype,"LevelAwardArr",void 0),a([I({type:cc.Node,tooltip:"\u9886\u53d6\u6309\u94ae\u8282\u70b9"})],t.prototype,"claimBtnNode",void 0),a([I({type:cc.Node,tooltip:"\u73a9\u6e38\u620f\u6309\u94ae"})],t.prototype,"playGameBtnNode",void 0),a([I({type:cc.Sprite,tooltip:"\u7b49\u7ea7Sprite"})],t.prototype,"levelSprite",void 0),a([I({type:cc.SpriteAtlas,tooltip:"\u7b49\u7ea7\u5956\u52b1\u56fe\u96c6"})],t.prototype,"atlas",void 0),a([C],t)}(y.default);n.default=R,cc._RF.pop()},{"../../../../../main/scripts/configs/CommonAudioConfig":"CommonAudioConfig","../../../../../main/scripts/configs/CommonPanelConfig":"CommonPanelConfig","../../../../../main/scripts/framework/gg":"gg","../../../../../main/scripts/framework/i18n/I18n":"I18n","../../../../../main/scripts/systems/api/gameapi/GameApiModels":"GameApiModels","../../../../../main/scripts/systems/user/UserSystem":"UserSystem","../../../../../main/scripts/systems/user/UserWalletSystem":"UserWalletSystem","../../../framework/components/dialogstyle/MoveStyleDialogPanelV1":"MoveStyleDialogPanelV1","../../../systems/levelAward/LevelAwardSystem":"LevelAwardSystem","../../../systems/levelAward/LevelAwardUIEvent":"LevelAwardUIEvent","./LevelAwardItem":"LevelAwardItem"}],LevelAwardSystem:[function(e,t,n){"use strict";cc._RF.push(t,"98617XxMaFAjrdaxvCqESEn","LevelAwardSystem"),Object.defineProperty(n,"__esModule",{value:!0}),n.levelAwardSystem=void 0;var o=e("../../../../main/scripts/framework/gg"),i=e("../../../../main/scripts/systems/api/gameapi/GameApi"),a=e("./LevelAwardUIEvent"),r=function(){function e(){}return e.prototype.getLevelAwardInfo=function(){var e=this;i.gameApi.getLevelAwardInfo().then(function(t){1===t.status?(e.levelAward=t.data,o.gg.eventManager.emit(a.LevelAwardUIEvent.onGetLevelAwardInfoResponse,!0)):(e.levelAward=null,o.gg.eventManager.emit(a.LevelAwardUIEvent.onGetLevelAwardInfoResponse,!1))}).catch(function(e){o.gg.logger.error("\u83b7\u53d6\u7b49\u7ea7\u5956\u52b1\u6570\u636e\u5931\u8d25",e),o.gg.eventManager.emit(a.LevelAwardUIEvent.onGetLevelAwardInfoResponse,!1)})},e.prototype.getLevelAward=function(){var e=this,t={level:this.levelAward.level};i.gameApi.getLevelAward(t).then(function(t){1===t.status?(o.gg.eventManager.emit(a.LevelAwardUIEvent.onGetLevelAwardResponse,!0),e.getLevelAwardInfo()):o.gg.eventManager.emit(a.LevelAwardUIEvent.onGetLevelAwardResponse,!1)}).catch(function(){o.gg.eventManager.emit(a.LevelAwardUIEvent.onGetLevelAwardResponse,!1)})},e}();n.levelAwardSystem=new r,cc._RF.pop()},{"../../../../main/scripts/framework/gg":"gg","../../../../main/scripts/systems/api/gameapi/GameApi":"GameApi","./LevelAwardUIEvent":"LevelAwardUIEvent"}],LevelAwardUIEvent:[function(e,t,n){"use strict";cc._RF.push(t,"5380biVb7BNDo+iMXstpaBa","LevelAwardUIEvent"),Object.defineProperty(n,"__esModule",{value:!0}),n.LevelAwardUIEvent=void 0,function(e){e.onGetLevelAwardInfoResponse="LevelAwardUIEvent.onGetLevelAwardInfoResponse",e.onGetLevelAwardResponse="LevelAwardUIEvent.onGetLevelAwardResponse",e.onLevelEndEvent="LevelAwardUIEvent.onLevelEndEvent",e.onLevelFastBaloot="LevelAwardUIEvent.onLevelFastBaloot",e.onGameSettlementLevelAward="LevelAwardUIEvent.onGameSettlementLevelAward"}(n.LevelAwardUIEvent||(n.LevelAwardUIEvent={})),cc._RF.pop()},{}],LevelRankingComponent:[function(e,t,n){"use strict";cc._RF.push(t,"73544fLsZ1PtqssFYTphIN0","LevelRankingComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../../../../../main/scripts/configs/CommonPanelConfig"),l=e("../../../../../../main/scripts/framework/gg"),c=e("../../../../../../main/scripts/framework/i18n/I18n"),u=e("../../../../../../main/scripts/systems/api/gameapi/GameApi"),p=e("../../../../../../main/scripts/systems/api/gameapi/GameApiModels"),h=e("../../../../../../main/scripts/systems/api/gamecenter/GameCenterApiModels"),d=r(e("../components/MyRankComponent")),f=r(e("../components/RankingTopThreeLayComponent")),g=e("../RankingStorageConfig"),m=r(e("./LevelRankingItemComponent")),y=cc._decorator,_=y.ccclass,v=y.property,b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.myRank=null,t.rankingTopThreeLayNode=null,t.myLevelRanking=null,t.levelRankingItemScrollView=null,t.levelRankingItemParentNode=null,t.levelRankingItemNode=null,t.levelRankingItemNodeHeight=78,t.spaceingY=0,t.paddingTop=0,t.paddingBottom=0,t.visableAreaMarginTop=78,t.visableAreaMarginBottom=78,t.itemList=[],t._virtualNodes=[],t.lastTimer=0,t._itemNodeAll=[],t}return i(t,e),t.prototype.onLoad=function(){this.rankingTopThreeLayNode.getComponent(f.default).initTypeIcon(p.RankingType.TotalLevel)},t.prototype.onEnable=function(){this.reset(),this.getLevelRankingData(),this.levelRankingItemParentNode.on(cc.Node.EventType.POSITION_CHANGED,this._onPositionChanged,this),this.levelRankingItemScrollView.node.on("scroll-ended",this._updateList,this)},t.prototype.onDisable=function(){this.reset(),this.levelRankingItemParentNode.off(cc.Node.EventType.POSITION_CHANGED,this._onPositionChanged,this),this.levelRankingItemScrollView.node.off("scroll-ended",this._updateList,this)},t.prototype.onClickOpenHelp=function(){l.gg.panelRouter.show({panel:s.CommonPanelConfig.rankingHelpPanel,data:{rankingType:p.RankingType.TotalLevel}})},t.prototype.reset=function(){this.myLevelRanking.node.active=!1,this.rankingTopThreeLayNode.getComponent(f.default).initTopThreeUI(),this.itemList=[],this._virtualNodes=[],this.levelRankingItemScrollView.stopAutoScroll(),this.levelRankingItemParentNode.position=cc.v3(),this._itemNodeAll=[];for(var e=this.levelRankingItemParentNode.children.length-1;e>=0;--e)this._itemNodeAll.push(this.levelRankingItemParentNode.children[e]),this.levelRankingItemParentNode.children[e].active=!1},t.prototype.getLevelRankingData=function(){var e=this;u.gameApi.getRankingList({type:p.RankingType.TotalLevel,page:"1",size:"50"}).then(function(t){var n,o,i=!1;if((null===(o=null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.rankings)||void 0===o?void 0:o.length)>0)for(var a=0,r=t.data.rankings;a<r.length;a++){var u=r[a];if(u.type===p.RankingType.TotalLevel){for(var g=0;g<u.list.length;g++)i=!0,g<3?e.rankingTopThreeLayNode.getComponent(f.default).topThree.push(u.list[g]):e.itemList.push(u.list[g]);e.myLevelRanking.rankingUserInfo=u.my;break}}if(i)e.myLevelRanking.rankingUserInfo?(e.myLevelRanking.updateUI(),e.myRank.getComponent(d.default).updataUI(e.myLevelRanking.rankingUserInfo.ranking),e.myLevelRanking.node.active=!0):e.myLevelRanking.node.active=!1,e.init(),e.rankingTopThreeLayNode.getComponent(f.default).updateTopThreeUI(),e.checkFistPanel();else{var m="toast.rankingListFail";t.status===h.FlatHttpResponseCode.Success&&(m="toast.rankingNotData"),l.gg.panelRouter.show({panel:s.CommonPanelConfig.toastPanel,data:{text:c.i18n.getText(m)}})}}).catch(function(e){l.gg.logger.error(e),l.gg.panelRouter.hide({panel:s.CommonPanelConfig.loadingPanel,onHided:function(){l.gg.panelRouter.show({panel:s.CommonPanelConfig.toastPanel,data:{text:c.i18n.getText("toast.rankingListFail")}})}})})},t.prototype.checkFistPanel=function(){var e=!0,t=l.gg.localStorage.getItem(g.RankingStorageConfig.RankingTatalLevelTimeStr);if(""!==t){var n=parseInt(t),o=Math.floor(n/864e5);Math.floor(Date.now()/864e5)===o&&(e=!1)}var i=this.rankingTopThreeLayNode.getComponent(f.default).topThree;e&&i.length>0&&l.gg.panelRouter.show({panel:s.CommonPanelConfig.rankingFristExhibitPanel,data:{rankingUserInfo:i[0]}}),l.gg.localStorage.setItem(g.RankingStorageConfig.RankingTatalLevelTimeStr,Date.now().toString())},t.prototype.getItemNode=function(){var e=this._itemNodeAll.pop();return e||(e=cc.instantiate(this.levelRankingItemNode),this.levelRankingItemParentNode.addChild(e)),e},t.prototype.init=function(){this.itemList&&this.itemList.length>0&&(this._virtualNodes=this.itemList.map(function(){return null}),this._updateListWidth(),this.levelRankingItemParentNode.position=cc.v3(),this._updateList())},t.prototype._updateListWidth=function(){var e=this.itemList.length;this.levelRankingItemParentNode.height=this.paddingTop+this.paddingBottom+this.levelRankingItemNodeHeight*e+this.spaceingY*e,this.levelRankingItemParentNode.height<this.levelRankingItemScrollView.node.height&&(this.levelRankingItemParentNode.height=this.levelRankingItemScrollView.node.height)},t.prototype._onPositionChanged=function(){var e=Date.now();(e-this.lastTimer)/1e3>=.1&&(this.lastTimer=e,this._updateList())},t.prototype._updateList=function(){for(var e=0;e<this._virtualNodes.length;++e){var t=this._virtualNodes[e];if(this._isVisable(e)){null==t&&(t=this.getItemNode()),this._virtualNodes[e]=t,t.position=this._convertIndexToPosition(e);var n=t.getComponent(m.default);n.rankingUserInfo=this.itemList[e],n.updateUI()}else t&&(t.active=!1,this._itemNodeAll.push(t)),this._virtualNodes[e]=null}},t.prototype._isVisable=function(e){var t=this._convertIndexToPosition(e),n=-this.levelRankingItemParentNode.position.y+this.visableAreaMarginTop,o=n-this.visableAreaMarginTop-this.levelRankingItemScrollView.node.height-this.visableAreaMarginBottom;return t.y+.5*this.levelRankingItemNodeHeight<=n&&t.y-.5*this.levelRankingItemNodeHeight>=o},t.prototype._convertIndexToPosition=function(e){return cc.v3(0,-this.paddingTop-this.levelRankingItemNodeHeight*(e+.5)-e*this.spaceingY)},a([v({type:cc.Node,tooltip:"\u81ea\u5df1\u540d\u6b21\u7ec4\u4ef6"})],t.prototype,"myRank",void 0),a([v({type:cc.Node,tooltip:"\u524d\u4e09\u540d\u73a9\u5bb6\u7ec4\u4ef6"})],t.prototype,"rankingTopThreeLayNode",void 0),a([v({type:m.default,tooltip:"\u73a9\u5bb6\u81ea\u5df1\u7684\u6392\u540d"})],t.prototype,"myLevelRanking",void 0),a([v({type:cc.ScrollView,tooltip:"\u7b49\u7ea7ScrollView"})],t.prototype,"levelRankingItemScrollView",void 0),a([v({type:cc.Node,tooltip:"\u7b49\u7ea7\u7236\u8282\u70b9"})],t.prototype,"levelRankingItemParentNode",void 0),a([v({type:cc.Prefab,tooltip:"\u7b49\u7ea7\u9884\u5236\u8282\u70b9"})],t.prototype,"levelRankingItemNode",void 0),a([v({tooltip:"\u9884\u5236\u4f53item\u8282\u70b9\u7684\u9ad8\u5ea6"})],t.prototype,"levelRankingItemNodeHeight",void 0),a([v({tooltip:"Item \u95f4\u9694\uff08px\uff09"})],t.prototype,"spaceingY",void 0),a([v({tooltip:"Item \u8ddd\u79bb\u4e0a\u8fb9\uff08px\uff09"})],t.prototype,"paddingTop",void 0),a([v({tooltip:"Item \u8ddd\u79bb\u4e0b\u8fb9\uff08px\uff09"})],t.prototype,"paddingBottom",void 0),a([v({tooltip:"\u53ef\u89c6\u533a\u57df margin, \u8d1f\u6570\u4e3a\u5f80\u5916\u6269\u5c55"})],t.prototype,"visableAreaMarginTop",void 0),a([v({tooltip:"\u53ef\u89c6\u533a\u57df margin, \u8d1f\u6570\u4e3a\u5f80\u5916\u6269\u5c55"})],t.prototype,"visableAreaMarginBottom",void 0),a([_],t)}(cc.Component);n.default=b,cc._RF.pop()},{"../../../../../../main/scripts/configs/CommonPanelConfig":"CommonPanelConfig","../../../../../../main/scripts/framework/gg":"gg","../../../../../../main/scripts/framework/i18n/I18n":"I18n","../../../../../../main/scripts/systems/api/gameapi/GameApi":"GameApi","../../../../../../main/scripts/systems/api/gameapi/GameApiModels":"GameApiModels","../../../../../../main/scripts/systems/api/gamecenter/GameCenterApiModels":"GameCenterApiModels","../RankingStorageConfig":"RankingStorageConfig","../components/MyRankComponent":"MyRankComponent","../components/RankingTopThreeLayComponent":"RankingTopThreeLayComponent","./LevelRankingItemComponent":"LevelRankingItemComponent"}],LevelRankingItemComponent:[function(e,t,n){"use strict";cc._RF.push(t,"a0ba7SIFz9CL45xUSHmf0VI","LevelRankingItemComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=l(e("../../../../../../main/scripts/components/UserIconStyle1Component")),u=e("../../../../../../main/scripts/configs/CommonPanelConfig"),p=e("../../../../../../main/scripts/framework/gg"),h=l(e("../../../../../../main/scripts/framework/utils/StringUtils")),d=e("../../../../../../main/scripts/systems/user/UserUISystem"),f=cc._decorator,g=f.ccclass,m=f.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.playerRankingLab=null,t.playerNameLab=null,t.playerLevelLab=null,t.playerIcon=null,t.vipSprite=null,t.rankingUserInfo=null,t.userIconId=null,t.userFrameId=null,t.vipInfo=null,t}return i(t,e),t.prototype.updateUI=function(){var e,t,n,o,i,a,r,s,l,u;this.updataUserVip(),this.node.active=!0,this.playerNameLab.string=h.default.clampStr(this.rankingUserInfo.nick,15),this.playerLevelLab.string=this.rankingUserInfo.ranking_value+"",this.playerRankingLab&&(this.playerRankingLab.string=this.rankingUserInfo.ranking+""),(null===(e=this.rankingUserInfo)||void 0===e?void 0:e.facelook)!=this.userIconId&&this.playerIcon.getComponent(c.default).updateIcon(null!==(n=null===(t=this.rankingUserInfo)||void 0===t?void 0:t.facelook)&&void 0!==n?n:""),(null===(o=this.rankingUserInfo)||void 0===o?void 0:o.frame)!=this.userFrameId&&this.playerIcon.getComponent(c.default).updateIconFrame(null!==(a=null===(i=this.rankingUserInfo)||void 0===i?void 0:i.frame)&&void 0!==a?a:""),this.userIconId=null!==(s=null===(r=this.rankingUserInfo)||void 0===r?void 0:r.facelook)&&void 0!==s?s:"",this.userFrameId=null!==(u=null===(l=this.rankingUserInfo)||void 0===l?void 0:l.frame)&&void 0!==u?u:""},t.prototype.updataUserVip=function(){var e,t,n,o;return r(this,void 0,void 0,function(){var i;return s(this,function(a){switch(a.label){case 0:return(null===(e=this.rankingUserInfo)||void 0===e?void 0:e.vip_info)?(this.vipSprite.node.active=!0,this.vipInfo==(null===(t=this.rankingUserInfo)||void 0===t?void 0:t.vip_info)?[3,2]:(i=this.vipSprite,[4,d.userUISystem.loadUserVipIcon(this.rankingUserInfo.vip_info.vip_level,this.rankingUserInfo.vip_info.vip_status)])):[3,3];case 1:i.spriteFrame=a.sent(),a.label=2;case 2:return[3,4];case 3:this.vipSprite.node.active=!1,a.label=4;case 4:return this.vipInfo=null!==(o=null===(n=this.rankingUserInfo)||void 0===n?void 0:n.vip_info)&&void 0!==o?o:null,[2]}})})},t.prototype.onClickShowUserInfo=function(){p.gg.panelRouter.show({panel:u.CommonPanelConfig.userInfoPanel,data:{qurey_uid:this.rankingUserInfo.uid,userName:this.rankingUserInfo.nick,userIcon:this.rankingUserInfo.facelook,userIconFrame:this.rankingUserInfo.frame}})},a([m({type:cc.Label,tooltip:"\u73a9\u5bb6\u6392\u540d"})],t.prototype,"playerRankingLab",void 0),a([m({type:cc.Label,tooltip:"\u73a9\u5bb6\u540d\u5b57"})],t.prototype,"playerNameLab",void 0),a([m({type:cc.Label,tooltip:"\u73a9\u5bb6\u7b49\u7ea7"})],t.prototype,"playerLevelLab",void 0),a([m({type:cc.Node,tooltip:"\u73a9\u5bb6\u5934\u50cf\u4fe1\u606f"})],t.prototype,"playerIcon",void 0),a([m({type:cc.Sprite,tooltip:"\u7528\u6237vip\u56fe\u6807"})],t.prototype,"vipSprite",void 0),a([g],t)}(cc.Component);n.default=y,cc._RF.pop()},{"../../../../../../main/scripts/components/UserIconStyle1Component":"UserIconStyle1Component","../../../../../../main/scripts/configs/CommonPanelConfig":"CommonPanelConfig","../../../../../../main/scripts/framework/gg":"gg","../../../../../../main/scripts/framework/utils/StringUtils":"StringUtils","../../../../../../main/scripts/systems/user/UserUISystem":"UserUISystem"}],LevelUpBonusAwardItem:[function(e,t,n){"use strict";cc._RF.push(t,"9001dr25PdCtLz/S77NR/y6","LevelUpBonusAwardItem");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../../../../main/scripts/framework/gg"),s=e("../../../../../main/scripts/framework/i18n/I18n"),l=e("../../../../../main/scripts/systems/api/gameapi/GameApiModels"),c=e("../../../../../main/scripts/systems/item/CommonItemConfig"),u=e("../../../../../main/scripts/systems/item/ItemSystem"),p=e("../../../../../main/scripts/utils/CurrencyUtil"),h=cc._decorator,d=h.ccclass,f=h.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iconSprite=null,t.spine=null,t.dragon=null,t.iconFrame=[],t.iconNumLab=null,t.awardModel=null,t.itemScale={avatar_frame:.3,chat_bubble:.25,baloot_card:.4,baloot_bg:.2,ludo_chessboard:.2,ludo_dice:.5,game_gift:.5,vip_card:.6},t}return i(t,e),t.prototype.updataUI=function(e){var t,n=this;if(e.award_type===l.AwardType.Item){var o=!0;e.item_id===(null===(t=this.awardModel)||void 0===t?void 0:t.item_id)&&(o=!1),this.awardModel=e;var i=u.itemSystem.getItem(this.awardModel.item_id);i.item_class===l.ItemClass.design?this.iconNumLab.string=s.i18n.getText("item.dayNum",this.awardModel.effective_days):this.iconNumLab.string="x"+p.CurrencyUtil.toHumanReadable(this.awardModel.count),o&&(this.iconSprite.node.active=!1,this.spine.node.active=!1,u.itemSystem.getItemIconInfo(this.awardModel.item_id).then(function(e){null!=e&&(e.iconType===c.IconType.Image?(n.iconSprite.spriteFrame=e.spriteFrame,n.iconSprite.node.active=!0):e.iconType===c.IconType.Dragon?r.gg.logger.log("\u5f53\u524d\u7248\u672c\u4e0d\u652f\u6301\u9f99\u9aa8\u6570\u636e-\u8bf7\u68c0\u67e5\u914d\u7f6e\u8868"):e.iconType===c.IconType.Spine&&(n.spine.skeletonData=e.spineData,n.spine.node.active=!0,n.spine.setAnimation(0,"animation",!0)),n.itemScale[i.item_type]?(n.iconSprite.node.scale=n.itemScale[i.item_type],n.spine.node.scale=n.itemScale[i.item_type]):(n.iconSprite.node.scale=.65,n.spine.node.scale=.65))}))}else this.awardModel=e,this.spine.node.active=!1,this.iconSprite.node.active=!0,this.iconSprite.node.scale=.6,e.award_type===l.AwardType.Coin?this.iconSprite.spriteFrame=this.iconFrame[0]:this.iconSprite.spriteFrame=this.iconFrame[1],this.iconNumLab.string="x"+p.CurrencyUtil.toHumanReadable(this.awardModel.count)},a([f({type:cc.Sprite,tooltip:"\u5956\u52b1\u56fe\u6807"})],t.prototype,"iconSprite",void 0),a([f({type:sp.Skeleton,tooltip:"\u5956\u52b1spine"})],t.prototype,"spine",void 0),a([f({type:dragonBones.ArmatureDisplay,tooltip:"\u5956\u52b1dragon"})],t.prototype,"dragon",void 0),a([f({type:cc.SpriteFrame,tooltip:"\u91d1\u5e01/\u94bb\u77f3\u56fe\u6807"})],t.prototype,"iconFrame",void 0),a([f({type:cc.Label,tooltip:"\u5956\u52b1\u6570\u91cf"})],t.prototype,"iconNumLab",void 0),a([d],t)}(cc.Component);n.default=g,cc._RF.pop()},{"../../../../../main/scripts/framework/gg":"gg","../../../../../main/scripts/framework/i18n/I18n":"I18n","../../../../../main/scripts/systems/api/gameapi/GameApiModels":"GameApiModels","../../../../../main/scripts/systems/item/CommonItemConfig":"CommonItemConfig","../../../../../main/scripts/systems/item/ItemSystem":"ItemSystem","../../../../../main/scripts/utils/CurrencyUtil":"CurrencyUtil"}],LevelUpBonusComponent:[function(e,t,n){"use strict";cc._RF.push(t,"4572bS7JhVIiK0wE5tmYWQL","LevelUpBonusComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../../../../main/scripts/framework/gg"),l=e("../../../configs/CommonPanelConfig"),c=e("../../../systems/vipRecharge/VipRechargeSystem"),u=r(e("./LevelUpBonusItem")),p=cc._decorator,h=p.ccclass,d=p.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.levelUpBonusView=null,t.levelUpBonusItemParentNode=null,t.levelUpBonusItem=null,t.spaceingY=10,t.paddingTop=10,t.visableAreaMarginTop=0,t.visableAreaMarginBottom=0,t.virtualNodes=[],t.levelUpBonusNodeArray=new Array,t.levelUpBonusInfoList=null,t.lastTimer=0,t}return i(t,e),t.prototype.onLoad=function(){this.reset()},t.prototype.onEnable=function(){this.levelUpBonusItemParentNode.on(cc.Node.EventType.POSITION_CHANGED,this.onPositionChanged,this),this.updataShowUi(),this.levelUpBonusView.node.on("scroll-ended",this.updateList,this)},t.prototype.onDisable=function(){this.reset(),this.levelUpBonusItemParentNode.off(cc.Node.EventType.POSITION_CHANGED,this.onPositionChanged,this),s.gg.eventManager.offTarget(this),this.levelUpBonusView.node.off("scroll-ended",this.updateList,this)},t.prototype.updataUI=function(){this.updataShowUi()},t.prototype.updataShowUi=function(){var e;this.reset(),this.levelUpBonusInfoList=null!==(e=c.vipRechargeSystem.levelUpBonusList)&&void 0!==e?e:null,this.virtualNodes=[],null!==this.levelUpBonusInfoList&&(this.virtualNodes=this.levelUpBonusInfoList.map(function(){return null}),this.initParentHeight()),this.levelUpBonusItemParentNode.position=cc.v3(),this.updateList()},t.prototype.reset=function(){this.virtualNodes=[],this.levelUpBonusNodeArray=[];for(var e=this.levelUpBonusItemParentNode.childrenCount-1;e>=0;--e)this.levelUpBonusNodeArray.push(this.levelUpBonusItemParentNode.children[e]),this.levelUpBonusItemParentNode.children[e].active=!1;this.levelUpBonusItemParentNode.position=cc.v3(),this.levelUpBonusView.stopAutoScroll(),this.levelUpBonusView.scrollToTop()},t.prototype.initParentHeight=function(){var e=this.levelUpBonusInfoList.length;this.levelUpBonusItemParentNode.height=this.paddingTop+this.levelUpBonusItem.height*e+this.spaceingY*e,this.levelUpBonusItemParentNode.height<this.levelUpBonusView.node.height&&(this.levelUpBonusItemParentNode.height=this.levelUpBonusView.node.height)},t.prototype.onPositionChanged=function(){var e=Date.now();e-this.lastTimer>100&&(this.lastTimer=e,this.updateList())},t.prototype.updateList=function(){for(var e=0;e<this.virtualNodes.length;++e){var t=this.virtualNodes[e];this.isVisable(e)?(t||((t=this.levelUpBonusNodeArray.pop())||(t=cc.instantiate(this.levelUpBonusItem),this.levelUpBonusItemParentNode.addChild(t)),t.active=!0,this.virtualNodes[e]=t),t.position=this.getIndexPos(e),t.getComponent(u.default).updataUI(this.levelUpBonusInfoList[e])):(t&&(t.active=!1,this.levelUpBonusNodeArray.push(t)),this.virtualNodes[e]=null)}},t.prototype.isVisable=function(e){var t=this.getIndexPos(e),n=-this.levelUpBonusItemParentNode.position.y+this.visableAreaMarginTop,o=n-this.visableAreaMarginTop-this.levelUpBonusView.node.height-this.visableAreaMarginBottom;return t.y+.5*this.levelUpBonusItem.height<=n&&t.y-.5*this.levelUpBonusItem.height>=o},t.prototype.getIndexPos=function(e){return cc.v3(0,-this.paddingTop-this.levelUpBonusItem.height*(e+.5)-e*this.spaceingY)},t.prototype.onClickRule=function(){s.gg.panelRouter.show({panel:l.CommonPanelConfig.vipRechargeRulePanel})},a([d({type:cc.ScrollView,tooltip:"\u4efb\u52a1\u5217\u8868"})],t.prototype,"levelUpBonusView",void 0),a([d({type:cc.Node,tooltip:"\u4efb\u52a1\u5217\u8868\u7236\u8282\u70b9"})],t.prototype,"levelUpBonusItemParentNode",void 0),a([d({type:cc.Node,tooltip:"\u4efb\u52a1item"})],t.prototype,"levelUpBonusItem",void 0),a([d({tooltip:"Item \u95f4\u9694\uff08px\uff09"})],t.prototype,"spaceingY",void 0),a([d({tooltip:"Item \u8ddd\u79bb\u4e0a\u8fb9\uff08px\uff09"})],t.prototype,"paddingTop",void 0),a([d({tooltip:"\u53ef\u89c6\u533a\u57df margin, \u8d1f\u6570\u4e3a\u5f80\u5916\u6269\u5c55"})],t.prototype,"visableAreaMarginTop",void 0),a([d({tooltip:"\u53ef\u89c6\u533a\u57df margin, \u8d1f\u6570\u4e3a\u5f80\u5916\u6269\u5c55"})],t.prototype,"visableAreaMarginBottom",void 0),a([h],t)}(cc.Component);n.default=f,cc._RF.pop()},{"../../../../../main/scripts/framework/gg":"gg","../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../systems/vipRecharge/VipRechargeSystem":"VipRechargeSystem","./LevelUpBonusItem":"LevelUpBonusItem"}],LevelUpBonusItem:[function(e,t,n){"use strict";cc._RF.push(t,"269d9UCltZKbqKUHknKadd5","LevelUpBonusItem");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=e("../../../../../main/scripts/configs/CommonPanelConfig"),u=e("../../../../../main/scripts/framework/gg"),p=e("../../../../../main/scripts/framework/i18n/I18n"),h=e("../../../../../main/scripts/systems/api/gameapi/GameApiModels"),d=e("../../../../../main/scripts/systems/api/gameapi/PayApiModels"),f=e("../../../../../main/scripts/systems/game/GameUISystem"),g=e("../../../../../main/scripts/systems/login/LoginProto"),m=e("../../../../../main/scripts/systems/user/UserSystem"),y=e("../../../../../main/scripts/systems/user/UserWalletSystem"),_=e("../../../systems/vipRecharge/VipRechargeSystem"),v=l(e("./LevelUpBonusAwardItem")),b=e("./VipRechargeUIEvent"),S=cc._decorator,C=S.ccclass,I=S.property,R=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.vipLab=null,t.taskBar=null,t.taskBarProgress=null,t.receiveBtn=null,t.activateVipBtn=null,t.rechargeBtn=null,t.received=null,t.disableRechargeBtn=null,t.awardPrefab=null,t.awardLayout=null,t.levelUpBonusInfo=null,t.awardNodeAll=[],t}return i(t,e),t.prototype.onLoad=function(){this.resetUI()},t.prototype.onDisable=function(){this.resetUI()},t.prototype.getItemNode=function(){var e=this.awardNodeAll.pop();return e||(e=cc.instantiate(this.awardPrefab),this.awardLayout.addChild(e)),e},t.prototype.resetUI=function(){this.levelUpBonusInfo=null,this.receiveBtn.active=!1,this.activateVipBtn.active=!1,this.rechargeBtn.active=!1,this.received.active=!1,this.disableRechargeBtn.active=!1,this.taskBar.progress=0,this.taskBarProgress.string="0/0",this.awardNodeAll=[];for(var e=this.awardLayout.children.length-1;e>=0;--e)this.awardNodeAll.push(this.awardLayout.children[e]),this.awardLayout.children[e].active=!1},t.prototype.updataUI=function(e){var t,n,o,i,a,r;if((null===(t=this.levelUpBonusInfo)||void 0===t?void 0:t.id)!=e.id||(null===(n=this.levelUpBonusInfo)||void 0===n?void 0:n.status)!=e.status){if(this.levelUpBonusInfo=e,this.vipLab.string=p.i18n.getText("vipRecharge.label.vipLevel",this.levelUpBonusInfo.vip_level),this.levelUpBonusInfo.award_list.length>0)for(var s=0,l=this.levelUpBonusInfo.award_list;s<l.length;s++){var c=l[s],u=this.getItemNode();u.active=!0,u.getComponent(v.default).updataUI(c)}var d=null!==(i=null===(o=_.vipRechargeSystem.vipRechargeInfo)||void 0===o?void 0:o.end_time)&&void 0!==i?i:0-Date.now()/1e3;switch(this.levelUpBonusInfo.status){case h.LevelUpStatusType.Undone:this.taskBar.progress=this.levelUpBonusInfo.recharge_count/this.levelUpBonusInfo.recharge_limit,this.taskBarProgress.string=this.levelUpBonusInfo.recharge_count+"/"+this.levelUpBonusInfo.recharge_limit,d>0?this.rechargeBtn.active=!0:this.disableRechargeBtn.active=!0;break;case h.LevelUpStatusType.Completed:(null===(r=null===(a=m.userSystem.userModel)||void 0===a?void 0:a.vipInfo)||void 0===r?void 0:r.vip_status)==g.VipStatusType.Activation?this.receiveBtn.active=!0:this.activateVipBtn.active=!0,this.taskBar.progress=1,this.taskBarProgress.string=this.levelUpBonusInfo.recharge_limit+"/"+this.levelUpBonusInfo.recharge_limit;break;case h.LevelUpStatusType.Received:this.received.active=!0,this.taskBar.progress=1,this.taskBarProgress.string=this.levelUpBonusInfo.recharge_limit+"/"+this.levelUpBonusInfo.recharge_limit}}},t.prototype.receiveClick=function(){return r(this,void 0,void 0,function(){var e,t,n;return s(this,function(o){switch(o.label){case 0:return e=y.userWalletSystem.coinBalance,t=y.userWalletSystem.diamondBalance,n=m.userSystem.userModel.fashion,[4,_.vipRechargeSystem._receiveLevelUpBonus({id:this.levelUpBonusInfo.id})];case 1:return o.sent()?(f.gameUISystem.showReceiveFeatures(e,t,n,this.levelUpBonusInfo.award_list),u.gg.eventManager.emit(b.VipRechargeUIEvent.onUpdataVipRechargeInfo)):u.gg.panelRouter.show({panel:c.CommonPanelConfig.toastPanel,data:{text:p.i18n.getText("vipRecharge.label.receivedFail")}}),[2]}})})},t.prototype.rechargeClick=function(){u.gg.panelRouter.show({panel:c.CommonPanelConfig.storePanel,data:{type:d.GoodsTypeEnum.VIP}})},t.prototype.disableRechargeClick=function(){u.gg.panelRouter.show({panel:c.CommonPanelConfig.toastPanel,data:{text:p.i18n.getText("toast.ActivityEnd")}})},a([I({type:cc.Label,tooltip:"\u5347\u7ea7\u6210\u4e3avip1"})],t.prototype,"vipLab",void 0),a([I({type:cc.ProgressBar,tooltip:"\u4efb\u52a1\u8fdb\u5ea6\u6761"})],t.prototype,"taskBar",void 0),a([I({type:cc.Label,tooltip:"\u4efb\u52a1\u8fdb\u5ea6\u503c"})],t.prototype,"taskBarProgress",void 0),a([I({type:cc.Node,tooltip:"\u4efb\u52a1\u9886\u53d6\u5956\u52b1\u6309\u94ae"})],t.prototype,"receiveBtn",void 0),a([I({type:cc.Node,tooltip:"\u4efb\u52a1\u9886\u53d6\u5956\u52b1\u6309\u94ae"})],t.prototype,"activateVipBtn",void 0),a([I({type:cc.Node,tooltip:"\u524d\u5f80\u5145\u503c\u6309\u94ae"})],t.prototype,"rechargeBtn",void 0),a([I({type:cc.Node,tooltip:"\u5df2\u9886\u53d6\u5956\u52b1\u56fe\u6807"})],t.prototype,"received",void 0),a([I({type:cc.Node,tooltip:"\u6d3b\u52a8\u7ed3\u675f\uff0c\u7f6e\u7070\u7684\u5145\u503c\u6309\u94ae"})],t.prototype,"disableRechargeBtn",void 0),a([I({type:cc.Node,tooltip:"\u5956\u52b1\u8282\u70b9"})],t.prototype,"awardPrefab",void 0),a([I({type:cc.Node,tooltip:"\u5956\u52b1\u7236\u8282\u70b9"})],t.prototype,"awardLayout",void 0),a([C],t)}(cc.Component);n.default=R,cc._RF.pop()},{"../../../../../main/scripts/configs/CommonPanelConfig":"CommonPanelConfig","../../../../../main/scripts/framework/gg":"gg","../../../../../main/scripts/framework/i18n/I18n":"I18n","../../../../../main/scripts/systems/api/gameapi/GameApiModels":"GameApiModels","../../../../../main/scripts/systems/api/gameapi/PayApiModels":"PayApiModels","../../../../../main/scripts/systems/game/GameUISystem":"GameUISystem","../../../../../main/scripts/systems/login/LoginProto":"LoginProto","../../../../../main/scripts/systems/user/UserSystem":"UserSystem","../../../../../main/scripts/systems/user/UserWalletSystem":"UserWalletSystem","../../../systems/vipRecharge/VipRechargeSystem":"VipRechargeSystem","./LevelUpBonusAwardItem":"LevelUpBonusAwardItem","./VipRechargeUIEvent":"VipRechargeUIEvent"}],ListItem:[function(e,t,n){"use strict";cc._RF.push(t,"a204dD7ONtIy4RyMFTsP1dK","ListItem");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r,s=cc._decorator,l=s.ccclass,c=s.property,u=s.disallowMultiple,p=s.menu,h=s.executionOrder;(function(e){e[e.NONE=0]="NONE",e[e.TOGGLE=1]="TOGGLE",e[e.SWITCH=2]="SWITCH"})(r||(r={}));var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.icon=null,t.title=null,t.selectedMode=r.NONE,t.selectedFlag=null,t.selectedSpriteFrame=null,t._unselectedSpriteFrame=null,t.adaptiveSize=!1,t._selected=!1,t._eventReg=!1,t}return i(t,e),Object.defineProperty(t.prototype,"selected",{get:function(){return this._selected},set:function(e){if(this._selected=e,this.selectedFlag)switch(this.selectedMode){case r.TOGGLE:this.selectedFlag.active=e;break;case r.SWITCH:var t=this.selectedFlag.getComponent(cc.Sprite);t&&(t.spriteFrame=e?this.selectedSpriteFrame:this._unselectedSpriteFrame)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"btnCom",{get:function(){return this._btnCom||(this._btnCom=this.node.getComponent(cc.Button)),this._btnCom},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){if(this.selectedMode==r.SWITCH){var e=this.selectedFlag.getComponent(cc.Sprite);this._unselectedSpriteFrame=e.spriteFrame}},t.prototype.onDestroy=function(){this.node.off(cc.Node.EventType.SIZE_CHANGED,this._onSizeChange,this)},t.prototype._registerEvent=function(){this._eventReg||(this.btnCom&&this.list.selectedMode>0&&this.btnCom.clickEvents.unshift(this.createEvt(this,"onClickThis")),this.adaptiveSize&&this.node.on(cc.Node.EventType.SIZE_CHANGED,this._onSizeChange,this),this._eventReg=!0)},t.prototype._onSizeChange=function(){this.list._onItemAdaptive(this.node)},t.prototype.createEvt=function(e,t,n){if(void 0===n&&(n=null),e.isValid){e.comName=e.comName||e.name.match(/\<(.*?)\>/g).pop().replace(/\<|>/g,"");var o=new cc.Component.EventHandler;return o.target=n||e.node,o.component=e.comName,o.handler=t,o}},t.prototype.showAni=function(e,t,n){var o,i=this;switch(e){case 0:o=cc.tween(i.node).to(.2,{scale:.7}).by(.3,{y:2*i.node.height});break;case 1:o=cc.tween(i.node).to(.2,{scale:.7}).by(.3,{x:2*i.node.width});break;case 2:o=cc.tween(i.node).to(.2,{scale:.7}).by(.3,{y:-2*i.node.height});break;case 3:o=cc.tween(i.node).to(.2,{scale:.7}).by(.3,{x:-2*i.node.width});break;default:o=cc.tween(i.node).to(.3,{scale:.1})}(t||n)&&o.call(function(){if(n){i.list._delSingleItem(i.node);for(var e=i.list.displayData.length-1;e>=0;e--)if(i.list.displayData[e].id==i.listId){i.list.displayData.splice(e,1);break}}t()}),o.start()},t.prototype.onClickThis=function(){this.list.selectedId=this.listId},a([c({type:cc.Sprite,tooltip:!1})],t.prototype,"icon",void 0),a([c({type:cc.Node,tooltip:!1})],t.prototype,"title",void 0),a([c({type:cc.Enum(r),tooltip:!1})],t.prototype,"selectedMode",void 0),a([c({type:cc.Node,tooltip:!1,visible:function(){return this.selectedMode>r.NONE}})],t.prototype,"selectedFlag",void 0),a([c({type:cc.SpriteFrame,tooltip:!1,visible:function(){return this.selectedMode==r.SWITCH}})],t.prototype,"selectedSpriteFrame",void 0),a([c({tooltip:!1})],t.prototype,"adaptiveSize",void 0),a([l,u(),p("VirtualList/List Item"),h(-5001)],t)}(cc.Component);n.default=d,cc._RF.pop()},{}],List:[function(e,t,n){"use strict";cc._RF.push(t,"a42cce9jwFHVKHhe/USgqWo","List");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s,l,c,u=cc._decorator,p=u.ccclass,h=u.property,d=u.disallowMultiple,f=u.menu,g=u.executionOrder,m=u.requireComponent,y=r(e("./ListItem"));(function(e){e[e.NODE=1]="NODE",e[e.PREFAB=2]="PREFAB"})(s||(s={})),function(e){e[e.NORMAL=1]="NORMAL",e[e.ADHERING=2]="ADHERING",e[e.PAGE=3]="PAGE"}(l||(l={})),function(e){e[e.NONE=0]="NONE",e[e.SINGLE=1]="SINGLE",e[e.MULT=2]="MULT"}(c||(c={}));var _=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.templateType=s.NODE,t.tmpNode=null,t.tmpPrefab=null,t._slideMode=l.NORMAL,t.pageDistance=.3,t.pageChangeEvent=new cc.Component.EventHandler,t._virtual=!0,t.cyclic=!1,t.lackCenter=!1,t.lackSlide=!1,t._updateRate=0,t.frameByFrameRenderNum=0,t.renderEvent=new cc.Component.EventHandler,t.selectedMode=c.NONE,t.repeatEventSingle=!1,t.selectedEvent=new cc.Component.EventHandler,t._selectedId=-1,t._forceUpdate=!1,t._updateDone=!0,t._numItems=0,t._inited=!1,t._needUpdateWidget=!1,t._aniDelRuning=!1,t._doneAfterUpdate=!1,t.adhering=!1,t._adheringBarrier=!1,t.curPageNum=0,t}return i(t,e),Object.defineProperty(t.prototype,"slideMode",{get:function(){return this._slideMode},set:function(e){this._slideMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"virtual",{get:function(){return this._virtual},set:function(e){null!=e&&(this._virtual=e),0!=this._numItems&&this._onScrolling()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateRate",{get:function(){return this._updateRate},set:function(e){e>=0&&e<=6&&(this._updateRate=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectedId",{get:function(){return this._selectedId},set:function(e){var t,n=this;switch(n.selectedMode){case c.SINGLE:if(!n.repeatEventSingle&&e==n._selectedId)return;t=n.getItemByListId(e);var o=void 0;if(n._selectedId>=0?n._lastSelectedId=n._selectedId:n._lastSelectedId=null,n._selectedId=e,t&&((o=t.getComponent(y.default)).selected=!0),n._lastSelectedId>=0&&n._lastSelectedId!=n._selectedId){var i=n.getItemByListId(n._lastSelectedId);i&&(i.getComponent(y.default).selected=!1)}n.selectedEvent&&cc.Component.EventHandler.emitEvents([n.selectedEvent],t,e%this._actualNumItems,null==n._lastSelectedId?null:n._lastSelectedId%this._actualNumItems);break;case c.MULT:if(!(t=n.getItemByListId(e)))return;o=t.getComponent(y.default),n._selectedId>=0&&(n._lastSelectedId=n._selectedId),n._selectedId=e;var a=!o.selected;o.selected=a;var r=n.multSelected.indexOf(e);a&&r<0?n.multSelected.push(e):!a&&r>=0&&n.multSelected.splice(r,1),n.selectedEvent&&cc.Component.EventHandler.emitEvents([n.selectedEvent],t,e%this._actualNumItems,null==n._lastSelectedId?null:n._lastSelectedId%this._actualNumItems,a)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numItems",{get:function(){return this._actualNumItems},set:function(e){var t=this;if(t.checkInited(!1))if(null==e||e<0)cc.error("numItems set the wrong::",e);else if(t._actualNumItems=t._numItems=e,t._forceUpdate=!0,t._virtual)t._resizeContent(),t.cyclic&&(t._numItems=t._cyclicNum*t._numItems),t._onScrolling(),t.frameByFrameRenderNum||t.slideMode!=l.PAGE||(t.curPageNum=t.nearestListId);else{t.cyclic&&(t._resizeContent(),t._numItems=t._cyclicNum*t._numItems);var n=t.content.getComponent(cc.Layout);if(n&&(n.enabled=!0),t._delRedundantItem(),t.firstListId=0,t.frameByFrameRenderNum>0){for(var o=t.frameByFrameRenderNum>t._numItems?t._numItems:t.frameByFrameRenderNum,i=0;i<o;i++)t._createOrUpdateItem2(i);t.frameByFrameRenderNum<t._numItems&&(t._updateCounter=t.frameByFrameRenderNum,t._updateDone=!1)}else{for(i=0;i<t._numItems;i++)t._createOrUpdateItem2(i);t.displayItemNum=t._numItems}}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scrollView",{get:function(){return this._scrollView},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){this._init()},t.prototype.onDestroy=function(){var e=this;cc.isValid(e._itemTmp)&&e._itemTmp.destroy(),cc.isValid(e.tmpNode)&&e.tmpNode.destroy(),e._pool&&e._pool.clear()},t.prototype.onEnable=function(){this._registerEvent(),this._init(),this._aniDelRuning&&(this._aniDelRuning=!1,this._aniDelItem&&(this._aniDelBeforePos&&(this._aniDelItem.position=this._aniDelBeforePos,delete this._aniDelBeforePos),this._aniDelBeforeScale&&(this._aniDelItem.scale=this._aniDelBeforeScale,delete this._aniDelBeforeScale),delete this._aniDelItem),this._aniDelCB&&(this._aniDelCB(),delete this._aniDelCB))},t.prototype.onDisable=function(){this._unregisterEvent()},t.prototype._registerEvent=function(){var e=this;e.node.on(cc.Node.EventType.TOUCH_START,e._onTouchStart,e,!0),e.node.on("touch-up",e._onTouchUp,e),e.node.on(cc.Node.EventType.TOUCH_CANCEL,e._onTouchCancelled,e,!0),e.node.on("scroll-began",e._onScrollBegan,e,!0),e.node.on("scroll-ended",e._onScrollEnded,e,!0),e.node.on("scrolling",e._onScrolling,e,!0),e.node.on(cc.Node.EventType.SIZE_CHANGED,e._onSizeChanged,e)},t.prototype._unregisterEvent=function(){var e=this;e.node.off(cc.Node.EventType.TOUCH_START,e._onTouchStart,e,!0),e.node.off("touch-up",e._onTouchUp,e),e.node.off(cc.Node.EventType.TOUCH_CANCEL,e._onTouchCancelled,e,!0),e.node.off("scroll-began",e._onScrollBegan,e,!0),e.node.off("scroll-ended",e._onScrollEnded,e,!0),e.node.off("scrolling",e._onScrolling,e,!0),e.node.off(cc.Node.EventType.SIZE_CHANGED,e._onSizeChanged,e)},t.prototype._init=function(){var e=this;if(!e._inited)if(e._scrollView=e.node.getComponent(cc.ScrollView),e.content=e._scrollView.content,e.content){e._layout=e.content.getComponent(cc.Layout),e._align=e._layout.type,e._resizeMode=e._layout.resizeMode,e._startAxis=e._layout.startAxis,e._topGap=e._layout.paddingTop,e._rightGap=e._layout.paddingRight,e._bottomGap=e._layout.paddingBottom,e._leftGap=e._layout.paddingLeft,e._columnGap=e._layout.spacingX,e._lineGap=e._layout.spacingY,e._colLineNum,e._verticalDir=e._layout.verticalDirection,e._horizontalDir=e._layout.horizontalDirection;var t;switch(t=e.templateType==s.PREFAB?cc.instantiate(e.tmpPrefab):cc.instantiate(e.tmpNode),e.setTemplateItem(t),e._slideMode!=l.ADHERING&&e._slideMode!=l.PAGE||(e._scrollView.inertia=!1,e._scrollView._onMouseWheel=function(){}),e.virtual||(e.lackCenter=!1),e._lastDisplayData=[],e.displayData=[],e._pool=new cc.NodePool,e._forceUpdate=!1,e._updateCounter=0,e._updateDone=!0,e.curPageNum=0,e.cyclic&&(e._scrollView._processAutoScrolling=this._processAutoScrolling.bind(e),e._scrollView._startBounceBackIfNeeded=function(){return!1}),e._align){case cc.Layout.Type.HORIZONTAL:switch(e._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:e._alignCalcType=1;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:e._alignCalcType=2}break;case cc.Layout.Type.VERTICAL:switch(e._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:e._alignCalcType=3;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:e._alignCalcType=4}break;case cc.Layout.Type.GRID:switch(e._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:switch(e._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:e._alignCalcType=3;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:e._alignCalcType=4}break;case cc.Layout.AxisDirection.VERTICAL:switch(e._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:e._alignCalcType=1;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:e._alignCalcType=2}}}e.content.removeAllChildren(),e._inited=!0}else cc.error(e.node.name+"'s cc.ScrollView unset content!")},t.prototype._processAutoScrolling=function(e){this._scrollView._autoScrollAccumulatedTime+=1*e;var t=Math.min(1,this._scrollView._autoScrollAccumulatedTime/this._scrollView._autoScrollTotalTime);if(this._scrollView._autoScrollAttenuate){var n=t-1;t=n*n*n*n*n+1}var o=this._scrollView._autoScrollStartPosition.add(this._scrollView._autoScrollTargetDelta.mul(t)),i=this._scrollView.getScrollEndedEventTiming(),a=Math.abs(t-1)<=i;Math.abs(t-1)<=this._scrollView.getScrollEndedEventTiming()&&!this._scrollView._isScrollEndedWithThresholdEventFired&&(this._scrollView._dispatchEvent("scroll-ended-with-threshold"),this._scrollView._isScrollEndedWithThresholdEventFired=!0),a&&(this._scrollView._autoScrolling=!1);var r=o.sub(this._scrollView.getContentPosition());this._scrollView._moveContent(this._scrollView._clampDelta(r),a),this._scrollView._dispatchEvent("scrolling"),this._scrollView._autoScrolling||(this._scrollView._isBouncing=!1,this._scrollView._scrolling=!1,this._scrollView._dispatchEvent("scroll-ended"))},t.prototype.setTemplateItem=function(e){if(e){var t=this;t._itemTmp=e,t._resizeMode==cc.Layout.ResizeMode.CHILDREN?t._itemSize=t._layout.cellSize:t._itemSize=cc.size(e.width,e.height);var n=!1;e.getComponent(y.default)||(n=!0),n&&(t.selectedMode=c.NONE);var o=e.getComponent(cc.Widget);switch(o&&o.enabled&&(t._needUpdateWidget=!0),t.selectedMode==c.MULT&&(t.multSelected=[]),t._align){case cc.Layout.Type.HORIZONTAL:t._colLineNum=1,t._sizeType=!1;break;case cc.Layout.Type.VERTICAL:t._colLineNum=1,t._sizeType=!0;break;case cc.Layout.Type.GRID:switch(t._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:var i=t.content.width-t._leftGap-t._rightGap;t._colLineNum=Math.floor((i+t._columnGap)/(t._itemSize.width+t._columnGap)),t._sizeType=!0;break;case cc.Layout.AxisDirection.VERTICAL:var a=t.content.height-t._topGap-t._bottomGap;t._colLineNum=Math.floor((a+t._lineGap)/(t._itemSize.height+t._lineGap)),t._sizeType=!1}}}},t.prototype.checkInited=function(e){return void 0===e&&(e=!0),!!this._inited||(e&&cc.error("List initialization not completed!"),!1)},t.prototype._resizeContent=function(){var e,t=this;switch(t._align){case cc.Layout.Type.HORIZONTAL:if(t._customSize){var n=t._getFixedSize(null);e=t._leftGap+n.val+t._itemSize.width*(t._numItems-n.count)+t._columnGap*(t._numItems-1)+t._rightGap}else e=t._leftGap+t._itemSize.width*t._numItems+t._columnGap*(t._numItems-1)+t._rightGap;break;case cc.Layout.Type.VERTICAL:t._customSize?(n=t._getFixedSize(null),e=t._topGap+n.val+t._itemSize.height*(t._numItems-n.count)+t._lineGap*(t._numItems-1)+t._bottomGap):e=t._topGap+t._itemSize.height*t._numItems+t._lineGap*(t._numItems-1)+t._bottomGap;break;case cc.Layout.Type.GRID:switch(t.lackCenter&&(t.lackCenter=!1),t._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:var o=Math.ceil(t._numItems/t._colLineNum);e=t._topGap+t._itemSize.height*o+t._lineGap*(o-1)+t._bottomGap;break;case cc.Layout.AxisDirection.VERTICAL:var i=Math.ceil(t._numItems/t._colLineNum);e=t._leftGap+t._itemSize.width*i+t._columnGap*(i-1)+t._rightGap}}var a=t.content.getComponent(cc.Layout);if(a&&(a.enabled=!1),t._allItemSize=e,t._allItemSizeNoEdge=t._allItemSize-(t._sizeType?t._topGap+t._bottomGap:t._leftGap+t._rightGap),t.cyclic){var r=t._sizeType?t.node.height:t.node.width;t._cyclicPos1=0,r-=t._cyclicPos1,t._cyclicNum=Math.ceil(r/t._allItemSizeNoEdge)+1;var s=t._sizeType?t._lineGap:t._columnGap;t._cyclicPos2=t._cyclicPos1+t._allItemSizeNoEdge+s,t._cyclicAllItemSize=t._allItemSize+t._allItemSizeNoEdge*(t._cyclicNum-1)+s*(t._cyclicNum-1),t._cycilcAllItemSizeNoEdge=t._allItemSizeNoEdge*t._cyclicNum,t._cycilcAllItemSizeNoEdge+=s*(t._cyclicNum-1)}t._lack=!t.cyclic&&t._allItemSize<(t._sizeType?t.node.height:t.node.width);var l=t._lack&&t.lackCenter||!t.lackSlide?.1:0,c=t._lack?(t._sizeType?t.node.height:t.node.width)-l:t.cyclic?t._cyclicAllItemSize:t._allItemSize;c<0&&(c=0),t._sizeType?t.content.height=c:t.content.width=c},t.prototype._onScrolling=function(e){if(void 0===e&&(e=null),null==this.frameCount&&(this.frameCount=this._updateRate),!this._forceUpdate&&e&&"scroll-ended"!=e.type&&this.frameCount>0)this.frameCount--;else if(this.frameCount=this._updateRate,!this._aniDelRuning){if(this.cyclic){var t=this.content.getPosition(),n=this._sizeType?t.y:t.x,o=this._allItemSizeNoEdge+(this._sizeType?this._lineGap:this._columnGap),i=this._sizeType?cc.v2(0,o):cc.v2(o,0);switch(this._alignCalcType){case 1:n>-this._cyclicPos1?(this.content.x=-this._cyclicPos2,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.sub(i))):n<-this._cyclicPos2&&(this.content.x=-this._cyclicPos1,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(i)));break;case 2:n<this._cyclicPos1?(this.content.x=this._cyclicPos2,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(i))):n>this._cyclicPos2&&(this.content.x=this._cyclicPos1,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.sub(i)));break;case 3:n<this._cyclicPos1?(this.content.y=this._cyclicPos2,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(i))):n>this._cyclicPos2&&(this.content.y=this._cyclicPos1,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.sub(i)));break;case 4:n>-this._cyclicPos1?(this.content.y=-this._cyclicPos2,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.sub(i))):n<-this._cyclicPos2&&(this.content.y=-this._cyclicPos1,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(i)))}}var a,r,s,l;if(this._calcViewPos(),this._sizeType?(a=this.viewTop,s=this.viewBottom):(r=this.viewRight,l=this.viewLeft),this._virtual){this.displayData=[];var c=void 0,u=0,p=this._numItems-1;if(this._customSize)for(var h=!1;u<=p&&!h;u++)switch(c=this._calcItemPos(u),this._align){case cc.Layout.Type.HORIZONTAL:c.right>=l&&c.left<=r?this.displayData.push(c):0!=u&&this.displayData.length>0&&(h=!0);break;case cc.Layout.Type.VERTICAL:c.bottom<=a&&c.top>=s?this.displayData.push(c):0!=u&&this.displayData.length>0&&(h=!0);break;case cc.Layout.Type.GRID:switch(this._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:c.bottom<=a&&c.top>=s?this.displayData.push(c):0!=u&&this.displayData.length>0&&(h=!0);break;case cc.Layout.AxisDirection.VERTICAL:c.right>=l&&c.left<=r?this.displayData.push(c):0!=u&&this.displayData.length>0&&(h=!0)}}else{var d=this._itemSize.width+this._columnGap,f=this._itemSize.height+this._lineGap;switch(this._alignCalcType){case 1:u=(l-this._leftGap)/d,p=(r-this._leftGap)/d;break;case 2:u=(-r-this._rightGap)/d,p=(-l-this._rightGap)/d;break;case 3:u=(-a-this._topGap)/f,p=(-s-this._topGap)/f;break;case 4:u=(s-this._bottomGap)/f,p=(a-this._bottomGap)/f}for(u=Math.floor(u)*this._colLineNum,p=Math.ceil(p)*this._colLineNum,u<0&&(u=0),--p>=this._numItems&&(p=this._numItems-1);u<=p;u++)this.displayData.push(this._calcItemPos(u))}if(this._delRedundantItem(),this.displayData.length<=0||!this._numItems)return void(this._lastDisplayData=[]);this.firstListId=this.displayData[0].id,this.displayItemNum=this.displayData.length;var g=this._lastDisplayData.length,m=this.displayItemNum!=g;if(m&&(this.frameByFrameRenderNum>0&&this._lastDisplayData.sort(function(e,t){return e-t}),m=this.firstListId!=this._lastDisplayData[0]||this.displayData[this.displayItemNum-1].id!=this._lastDisplayData[g-1]),this._forceUpdate||m)if(this.frameByFrameRenderNum>0)this._numItems>0?(this._updateDone?this._updateCounter=0:this._doneAfterUpdate=!0,this._updateDone=!1):(this._updateCounter=0,this._updateDone=!0);else{this._lastDisplayData=[];for(var y=0;y<this.displayItemNum;y++)this._createOrUpdateItem(this.displayData[y]);this._forceUpdate=!1}this._calcNearestItem()}}},t.prototype._calcViewPos=function(){var e=this.content.getPosition();switch(this._alignCalcType){case 1:this.elasticLeft=e.x>0?e.x:0,this.viewLeft=(e.x<0?-e.x:0)-this.elasticLeft,this.viewRight=this.viewLeft+this.node.width,this.elasticRight=this.viewRight>this.content.width?Math.abs(this.viewRight-this.content.width):0,this.viewRight+=this.elasticRight;break;case 2:this.elasticRight=e.x<0?-e.x:0,this.viewRight=(e.x>0?-e.x:0)+this.elasticRight,this.viewLeft=this.viewRight-this.node.width,this.elasticLeft=this.viewLeft<-this.content.width?Math.abs(this.viewLeft+this.content.width):0,this.viewLeft-=this.elasticLeft;break;case 3:this.elasticTop=e.y<0?Math.abs(e.y):0,this.viewTop=(e.y>0?-e.y:0)+this.elasticTop,this.viewBottom=this.viewTop-this.node.height,this.elasticBottom=this.viewBottom<-this.content.height?Math.abs(this.viewBottom+this.content.height):0,this.viewBottom+=this.elasticBottom;break;case 4:this.elasticBottom=e.y>0?Math.abs(e.y):0,this.viewBottom=(e.y<0?-e.y:0)-this.elasticBottom,this.viewTop=this.viewBottom+this.node.height,this.elasticTop=this.viewTop>this.content.height?Math.abs(this.viewTop-this.content.height):0,this.viewTop-=this.elasticTop}},t.prototype._calcItemPos=function(e){var t,n,o,i,a,r,s,l;switch(this._align){case cc.Layout.Type.HORIZONTAL:switch(this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:if(this._customSize){var c=this._getFixedSize(e);a=this._leftGap+(this._itemSize.width+this._columnGap)*(e-c.count)+(c.val+this._columnGap*c.count),t=(u=this._customSize[e])>0?u:this._itemSize.width}else a=this._leftGap+(this._itemSize.width+this._columnGap)*e,t=this._itemSize.width;return this.lackCenter&&(a-=this._leftGap,a+=this.content.width/2-this._allItemSizeNoEdge/2),{id:e,left:a,right:r=a+t,x:a+this._itemTmp.anchorX*t,y:this._itemTmp.y};case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:return this._customSize?(c=this._getFixedSize(e),r=-this._rightGap-(this._itemSize.width+this._columnGap)*(e-c.count)-(c.val+this._columnGap*c.count),t=(u=this._customSize[e])>0?u:this._itemSize.width):(r=-this._rightGap-(this._itemSize.width+this._columnGap)*e,t=this._itemSize.width),this.lackCenter&&(r+=this._rightGap,r-=this.content.width/2-this._allItemSizeNoEdge/2),{id:e,right:r,left:a=r-t,x:a+this._itemTmp.anchorX*t,y:this._itemTmp.y}}break;case cc.Layout.Type.VERTICAL:switch(this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:return this._customSize?(c=this._getFixedSize(e),o=-this._topGap-(this._itemSize.height+this._lineGap)*(e-c.count)-(c.val+this._lineGap*c.count),n=(u=this._customSize[e])>0?u:this._itemSize.height):(o=-this._topGap-(this._itemSize.height+this._lineGap)*e,n=this._itemSize.height),this.lackCenter&&(o+=this._topGap,o-=this.content.height/2-this._allItemSizeNoEdge/2),{id:e,top:o,bottom:i=o-n,x:this._itemTmp.x,y:i+this._itemTmp.anchorY*n};case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:var u;if(this._customSize)c=this._getFixedSize(e),i=this._bottomGap+(this._itemSize.height+this._lineGap)*(e-c.count)+(c.val+this._lineGap*c.count),n=(u=this._customSize[e])>0?u:this._itemSize.height;else i=this._bottomGap+(this._itemSize.height+this._lineGap)*e,n=this._itemSize.height;return this.lackCenter&&(i-=this._bottomGap,i+=this.content.height/2-this._allItemSizeNoEdge/2),{id:e,top:o=i+n,bottom:i,x:this._itemTmp.x,y:i+this._itemTmp.anchorY*n}}case cc.Layout.Type.GRID:var p=Math.floor(e/this._colLineNum);switch(this._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:switch(this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:l=(i=(o=-this._topGap-(this._itemSize.height+this._lineGap)*p)-this._itemSize.height)+this._itemTmp.anchorY*this._itemSize.height;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:o=(i=this._bottomGap+(this._itemSize.height+this._lineGap)*p)+this._itemSize.height,l=i+this._itemTmp.anchorY*this._itemSize.height}switch(s=this._leftGap+e%this._colLineNum*(this._itemSize.width+this._columnGap),this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:s+=this._itemTmp.anchorX*this._itemSize.width,s-=this.content.anchorX*this.content.width;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:s+=(1-this._itemTmp.anchorX)*this._itemSize.width,s-=(1-this.content.anchorX)*this.content.width,s*=-1}return{id:e,top:o,bottom:i,x:s,y:l};case cc.Layout.AxisDirection.VERTICAL:switch(this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:r=(a=this._leftGap+(this._itemSize.width+this._columnGap)*p)+this._itemSize.width,s=a+this._itemTmp.anchorX*this._itemSize.width,s-=this.content.anchorX*this.content.width;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:s=(a=(r=-this._rightGap-(this._itemSize.width+this._columnGap)*p)-this._itemSize.width)+this._itemTmp.anchorX*this._itemSize.width,s+=(1-this.content.anchorX)*this.content.width}switch(l=-this._topGap-e%this._colLineNum*(this._itemSize.height+this._lineGap),this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:l-=(1-this._itemTmp.anchorY)*this._itemSize.height,l+=(1-this.content.anchorY)*this.content.height;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:l-=this._itemTmp.anchorY*this._itemSize.height,l+=this.content.anchorY*this.content.height,l*=-1}return{id:e,left:a,right:r,x:s,y:l}}}},t.prototype._calcExistItemPos=function(e){var t=this.getItemByListId(e);if(!t)return null;var n={id:e,x:t.x,y:t.y};return this._sizeType?(n.top=t.y+t.height*(1-t.anchorY),n.bottom=t.y-t.height*t.anchorY):(n.left=t.x-t.width*t.anchorX,n.right=t.x+t.width*(1-t.anchorX)),n},t.prototype.getItemPos=function(e){return this._virtual?this._calcItemPos(e):this.frameByFrameRenderNum?this._calcItemPos(e):this._calcExistItemPos(e)},t.prototype._getFixedSize=function(e){if(!this._customSize)return null;null==e&&(e=this._numItems);var t=0,n=0;for(var o in this._customSize)parseInt(o)<e&&(t+=this._customSize[o],n++);return{val:t,count:n}},t.prototype._onScrollBegan=function(){this._beganPos=this._sizeType?this.viewTop:this.viewLeft},t.prototype._onScrollEnded=function(){var e=this;if(e.curScrollIsTouch=!1,null!=e.scrollToListId){var t=e.getItemByListId(e.scrollToListId);e.scrollToListId=null,t&&cc.tween(t).to(.1,{scale:1.06}).to(.1,{scale:1}).start()}e._onScrolling(),e._slideMode!=l.ADHERING||e.adhering?e._slideMode==l.PAGE&&(null!=e._beganPos&&e.curScrollIsTouch?this._pageAdhere():e.adhere()):e.adhere()},t.prototype._onTouchStart=function(e,t){if(!this._scrollView.hasNestedViewGroup(e,t)&&(this.curScrollIsTouch=!0,e.eventPhase!==cc.Event.AT_TARGET||e.target!==this.node)){for(var n=e.target;null==n._listId&&n.parent;)n=n.parent;this._scrollItem=null!=n._listId?n:e.target}},t.prototype._onTouchUp=function(){var e=this;e._scrollPos=null,e._slideMode==l.ADHERING?(this.adhering&&(this._adheringBarrier=!0),e.adhere()):e._slideMode==l.PAGE&&(null!=e._beganPos?this._pageAdhere():e.adhere()),this._scrollItem=null},t.prototype._onTouchCancelled=function(e,t){var n=this;n._scrollView.hasNestedViewGroup(e,t)||e.simulate||(n._scrollPos=null,n._slideMode==l.ADHERING?(n.adhering&&(n._adheringBarrier=!0),n.adhere()):n._slideMode==l.PAGE&&(null!=n._beganPos?n._pageAdhere():n.adhere()),this._scrollItem=null)},t.prototype._onSizeChanged=function(){this.checkInited(!1)&&this._onScrolling()},t.prototype._onItemAdaptive=function(e){if(!this._sizeType&&e.width!=this._itemSize.width||this._sizeType&&e.height!=this._itemSize.height){this._customSize||(this._customSize={});var t=this._sizeType?e.height:e.width;this._customSize[e._listId]!=t&&(this._customSize[e._listId]=t,this._resizeContent(),this.updateAll(),null!=this._scrollToListId&&(this._scrollPos=null,this.unschedule(this._scrollToSo),this.scrollTo(this._scrollToListId,Math.max(0,this._scrollToEndTime-(new Date).getTime()/1e3))))}},t.prototype._pageAdhere=function(){var e=this;if(e.cyclic||!(e.elasticTop>0||e.elasticRight>0||e.elasticBottom>0||e.elasticLeft>0)){var t=e._sizeType?e.viewTop:e.viewLeft,n=(e._sizeType?e.node.height:e.node.width)*e.pageDistance;if(Math.abs(e._beganPos-t)>n)switch(e._alignCalcType){case 1:case 4:e._beganPos>t?e.prePage(.5):e.nextPage(.5);break;case 2:case 3:e._beganPos<t?e.prePage(.5):e.nextPage(.5)}else e.elasticTop<=0&&e.elasticRight<=0&&e.elasticBottom<=0&&e.elasticLeft<=0&&e.adhere();e._beganPos=null}},t.prototype.adhere=function(){var e=this;if(e.checkInited()&&!(e.elasticTop>0||e.elasticRight>0||e.elasticBottom>0||e.elasticLeft>0)){e.adhering=!0,e._calcNearestItem();var t=(e._sizeType?e._topGap:e._leftGap)/(e._sizeType?e.node.height:e.node.width);e.scrollTo(e.nearestListId,.7,t)}},t.prototype.update=function(){if(!(this.frameByFrameRenderNum<=0||this._updateDone))if(this._virtual){for(var e=this._updateCounter+this.frameByFrameRenderNum>this.displayItemNum?this.displayItemNum:this._updateCounter+this.frameByFrameRenderNum,t=this._updateCounter;t<e;t++){var n=this.displayData[t];n&&this._createOrUpdateItem(n)}this._updateCounter>=this.displayItemNum-1?this._doneAfterUpdate?(this._updateCounter=0,this._updateDone=!1,this._doneAfterUpdate=!1):(this._updateDone=!0,this._delRedundantItem(),this._forceUpdate=!1,this._calcNearestItem(),this.slideMode==l.PAGE&&(this.curPageNum=this.nearestListId)):this._updateCounter+=this.frameByFrameRenderNum}else if(this._updateCounter<this._numItems){for(e=this._updateCounter+this.frameByFrameRenderNum>this._numItems?this._numItems:this._updateCounter+this.frameByFrameRenderNum,t=this._updateCounter;t<e;t++)this._createOrUpdateItem2(t);this._updateCounter+=this.frameByFrameRenderNum}else this._updateDone=!0,this._calcNearestItem(),this.slideMode==l.PAGE&&(this.curPageNum=this.nearestListId)},t.prototype._createOrUpdateItem=function(e){var t=this.getItemByListId(e.id);if(t)this._forceUpdate&&this.renderEvent&&(t.setPosition(cc.v2(e.x,e.y)),this._resetItemSize(t),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],t,e.id%this._actualNumItems));else{var n=this._pool.size()>0;if(t=n?this._pool.get():cc.instantiate(this._itemTmp),n&&cc.isValid(t)||(t=cc.instantiate(this._itemTmp),n=!1),t._listId!=e.id&&(t._listId=e.id,t.setContentSize(this._itemSize)),t.setPosition(cc.v2(e.x,e.y)),this._resetItemSize(t),this.content.addChild(t),n&&this._needUpdateWidget){var o=t.getComponent(cc.Widget);o&&o.updateAlignment()}t.setSiblingIndex(this.content.childrenCount-1);var i=t.getComponent(y.default);t.listItem=i,i&&(i.listId=e.id,i.list=this,i._registerEvent()),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],t,e.id%this._actualNumItems)}this._resetItemSize(t),this._updateListItem(t.listItem),this._lastDisplayData.indexOf(e.id)<0&&this._lastDisplayData.push(e.id)},t.prototype._createOrUpdateItem2=function(e){var t,n=this.content.children[e];n?this._forceUpdate&&this.renderEvent&&(n._listId=e,t&&(t.listId=e),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],n,e%this._actualNumItems)):((n=cc.instantiate(this._itemTmp))._listId=e,this.content.addChild(n),t=n.getComponent(y.default),n.listItem=t,t&&(t.listId=e,t.list=this,t._registerEvent()),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],n,e%this._actualNumItems)),this._updateListItem(t),this._lastDisplayData.indexOf(e)<0&&this._lastDisplayData.push(e)},t.prototype._updateListItem=function(e){if(e&&this.selectedMode>c.NONE){var t=e.node;switch(this.selectedMode){case c.SINGLE:e.selected=this.selectedId==t._listId;break;case c.MULT:e.selected=this.multSelected.indexOf(t._listId)>=0}}},t.prototype._resetItemSize=function(){},t.prototype._updateItemPos=function(e){var t=isNaN(e)?e:this.getItemByListId(e),n=this.getItemPos(t._listId);t.setPosition(n.x,n.y)},t.prototype.setMultSelected=function(e,t){var n=this;if(n.checkInited()){if(Array.isArray(e)||(e=[e]),null==t)n.multSelected=e;else{var o=void 0,i=void 0;if(t)for(var a=e.length-1;a>=0;a--)o=e[a],(i=n.multSelected.indexOf(o))<0&&n.multSelected.push(o);else for(a=e.length-1;a>=0;a--)o=e[a],(i=n.multSelected.indexOf(o))>=0&&n.multSelected.splice(i,1)}n._forceUpdate=!0,n._onScrolling()}},t.prototype.getMultSelected=function(){return this.multSelected},t.prototype.hasMultSelected=function(e){return this.multSelected&&this.multSelected.indexOf(e)>=0},t.prototype.updateItem=function(e){if(this.checkInited()){Array.isArray(e)||(e=[e]);for(var t=0,n=e.length;t<n;t++){var o=e[t],i=this.getItemByListId(o);i&&cc.Component.EventHandler.emitEvents([this.renderEvent],i,o%this._actualNumItems)}}},t.prototype.updateAll=function(){this.checkInited()&&(this.numItems=this.numItems)},t.prototype.getItemByListId=function(e){if(this.content)for(var t=this.content.childrenCount-1;t>=0;t--){var n=this.content.children[t];if(n._listId==e)return n}},t.prototype._getOutsideItem=function(){for(var e,t=[],n=this.content.childrenCount-1;n>=0;n--)e=this.content.children[n],this.displayData.find(function(t){return t.id==e._listId})||t.push(e);return t},t.prototype._delRedundantItem=function(){if(this._virtual)for(var e=this._getOutsideItem(),t=e.length-1;t>=0;t--){var n=e[t];if(!this._scrollItem||n._listId!=this._scrollItem._listId){n.isCached=!0,this._pool.put(n);for(var o=this._lastDisplayData.length-1;o>=0;o--)if(this._lastDisplayData[o]==n._listId){this._lastDisplayData.splice(o,1);break}}}else for(;this.content.childrenCount>this._numItems;)this._delSingleItem(this.content.children[this.content.childrenCount-1])},t.prototype._delSingleItem=function(e){e.removeFromParent(),e.destroy&&e.destroy(),e=null},t.prototype.aniDelItem=function(e,t,n){var o=this;if(!o.checkInited()||o.cyclic||!o._virtual)return cc.error("This function is not allowed to be called!");if(!t)return cc.error("CallFunc are not allowed to be NULL, You need to delete the corresponding index in the data array in the CallFunc!");if(o._aniDelRuning)return cc.warn("Please wait for the current deletion to finish!");var i,a=o.getItemByListId(e);if(a){i=a.getComponent(y.default),o._aniDelRuning=!0,o._aniDelCB=t,o._aniDelItem=a,o._aniDelBeforePos=a.position,o._aniDelBeforeScale=a.scale;var r=o.displayData[o.displayData.length-1].id,s=i.selected;i.showAni(n,function(){var n,i,l;if(r<o._numItems-2&&(n=r+1),null!=n){var u=o._calcItemPos(n);o.displayData.push(u),o._virtual?o._createOrUpdateItem(u):o._createOrUpdateItem2(n)}else o._numItems--;if(o.selectedMode==c.SINGLE)s?o._selectedId=-1:o._selectedId-1>=0&&o._selectedId--;else if(o.selectedMode==c.MULT&&o.multSelected.length){var p=o.multSelected.indexOf(e);p>=0&&o.multSelected.splice(p,1);for(var h=o.multSelected.length-1;h>=0;h--)(g=o.multSelected[h])>=e&&o.multSelected[h]--}if(o._customSize){o._customSize[e]&&delete o._customSize[e];var d={},f=void 0;for(var g in o._customSize){f=o._customSize[g];var m=parseInt(g);d[m-(m>=e?1:0)]=f}o._customSize=d}for(h=null!=n?n:r;h>=e+1;h--)if(a=o.getItemByListId(h)){var y=o._calcItemPos(h-1);i=cc.tween(a).to(.2333,{position:cc.v2(y.x,y.y)}),h<=e+1&&(l=!0,i.call(function(){o._aniDelRuning=!1,t(e),delete o._aniDelCB})),i.start()}l||(o._aniDelRuning=!1,t(e),o._aniDelCB=null)},!0)}else t(e)},t.prototype.scrollTo=function(e,t,n,o){void 0===t&&(t=.5),void 0===n&&(n=null),void 0===o&&(o=!1);var i=this;if(i.checkInited(!1)){null==t?t=.5:t<0&&(t=0),e<0?e=0:e>=i._numItems&&(e=i._numItems-1),!i._virtual&&i._layout&&i._layout.enabled&&i._layout.updateLayout();var a,r,s=i.getItemPos(e);if(!s)return!1;switch(i._alignCalcType){case 1:a=s.left,a-=null!=n?i.node.width*n:i._leftGap,s=cc.v2(a,0);break;case 2:a=s.right-i.node.width,a+=null!=n?i.node.width*n:i._rightGap,s=cc.v2(a+i.content.width,0);break;case 3:r=s.top,r+=null!=n?i.node.height*n:i._topGap,s=cc.v2(0,-r);break;case 4:r=s.bottom+i.node.height,r-=null!=n?i.node.height*n:i._bottomGap,s=cc.v2(0,-r+i.content.height)}var l=i.content.getPosition();l=Math.abs(i._sizeType?l.y:l.x);var c=i._sizeType?s.y:s.x;Math.abs((null!=i._scrollPos?i._scrollPos:l)-c)>.5&&(i._scrollView.scrollToOffset(s,t),i._scrollToListId=e,i._scrollToEndTime=(new Date).getTime()/1e3+t,i._scrollToSo=i.scheduleOnce(function(){if(i._adheringBarrier||(i.adhering=i._adheringBarrier=!1),i._scrollPos=i._scrollToListId=i._scrollToEndTime=i._scrollToSo=null,o){var t=i.getItemByListId(e);t&&cc.tween(t).to(.1,{scale:1.05}).to(.1,{scale:1}).start()}},t+.1),t<=0&&i._onScrolling())}},t.prototype._calcNearestItem=function(){var e,t,n,o,i,a,r=this;r.nearestListId=null,r._virtual&&r._calcViewPos(),n=r.viewTop,o=r.viewRight,i=r.viewBottom,a=r.viewLeft;for(var s=!1,l=0;l<r.content.childrenCount&&!s;l+=r._colLineNum)if(e=r._virtual?r.displayData[l]:r._calcExistItemPos(l))switch(t=r._sizeType?(e.top+e.bottom)/2:t=(e.left+e.right)/2,r._alignCalcType){case 1:e.right>=a&&(r.nearestListId=e.id,a>t&&(r.nearestListId+=r._colLineNum),s=!0);break;case 2:e.left<=o&&(r.nearestListId=e.id,o<t&&(r.nearestListId+=r._colLineNum),s=!0);break;case 3:e.bottom<=n&&(r.nearestListId=e.id,n<t&&(r.nearestListId+=r._colLineNum),s=!0);break;case 4:e.top>=i&&(r.nearestListId=e.id,i>t&&(r.nearestListId+=r._colLineNum),s=!0)}if((e=r._virtual?r.displayData[r.displayItemNum-1]:r._calcExistItemPos(r._numItems-1))&&e.id==r._numItems-1)switch(t=r._sizeType?(e.top+e.bottom)/2:t=(e.left+e.right)/2,r._alignCalcType){case 1:o>t&&(r.nearestListId=e.id);break;case 2:a<t&&(r.nearestListId=e.id);break;case 3:i<t&&(r.nearestListId=e.id);break;case 4:n>t&&(r.nearestListId=e.id)}},t.prototype.prePage=function(e){void 0===e&&(e=.5),this.checkInited()&&this.skipPage(this.curPageNum-1,e)},t.prototype.nextPage=function(e){void 0===e&&(e=.5),this.checkInited()&&this.skipPage(this.curPageNum+1,e)},t.prototype.skipPage=function(e,t){var n=this;if(n.checkInited())return n._slideMode!=l.PAGE?cc.error("This function is not allowed to be called, Must SlideMode = PAGE!"):void(e<0||e>=n._numItems||n.curPageNum!=e&&(n.curPageNum=e,n.pageChangeEvent&&cc.Component.EventHandler.emitEvents([n.pageChangeEvent],e),n.scrollTo(e,t)))},t.prototype.calcCustomSize=function(e){var t=this;if(t.checkInited()){if(!t._itemTmp)return cc.error("Unset template item!");if(!t.renderEvent)return cc.error("Unset Render-Event!");t._customSize={};var n=cc.instantiate(t._itemTmp);t.content.addChild(n);for(var o=0;o<e;o++)cc.Component.EventHandler.emitEvents([t.renderEvent],n,o),n.height==t._itemSize.height&&n.width==t._itemSize.width||(t._customSize[o]=t._sizeType?n.height:n.width);return Object.keys(t._customSize).length||(t._customSize=null),n.removeFromParent(),n.destroy&&n.destroy(),t._customSize}},a([h({type:cc.Enum(s),tooltip:!1})],t.prototype,"templateType",void 0),a([h({type:cc.Node,tooltip:!1,visible:function(){return this.templateType==s.NODE}})],t.prototype,"tmpNode",void 0),a([h({type:cc.Prefab,tooltip:!1,visible:function(){return this.templateType==s.PREFAB}})],t.prototype,"tmpPrefab",void 0),a([h()],t.prototype,"_slideMode",void 0),a([h({type:cc.Enum(l),tooltip:!1})],t.prototype,"slideMode",null),a([h({type:cc.Float,range:[0,1,.1],tooltip:!1,slide:!0,visible:function(){return this._slideMode==l.PAGE}})],t.prototype,"pageDistance",void 0),a([h({type:cc.Component.EventHandler,tooltip:!1,visible:function(){return this._slideMode==l.PAGE}})],t.prototype,"pageChangeEvent",void 0),a([h()],t.prototype,"_virtual",void 0),a([h({type:cc.Boolean,tooltip:!1})],t.prototype,"virtual",null),a([h({tooltip:!1,visible:function(){var e=this.slideMode==l.NORMAL;return e||(this.cyclic=!1),e}})],t.prototype,"cyclic",void 0),a([h({tooltip:!1,visible:function(){return this.virtual}})],t.prototype,"lackCenter",void 0),a([h({tooltip:!1,visible:function(){var e=this.virtual&&!this.lackCenter;return e||(this.lackSlide=!1),e}})],t.prototype,"lackSlide",void 0),a([h({type:cc.Integer})],t.prototype,"_updateRate",void 0),a([h({type:cc.Integer,range:[0,6,1],tooltip:!1,slide:!0})],t.prototype,"updateRate",null),a([h({type:cc.Integer,range:[0,12,1],tooltip:!1,slide:!0})],t.prototype,"frameByFrameRenderNum",void 0),a([h({type:cc.Component.EventHandler,tooltip:!1})],t.prototype,"renderEvent",void 0),a([h({type:cc.Enum(c),tooltip:!1})],t.prototype,"selectedMode",void 0),a([h({tooltip:!1,visible:function(){return this.selectedMode==c.SINGLE}})],t.prototype,"repeatEventSingle",void 0),a([h({type:cc.Component.EventHandler,tooltip:!1,visible:function(){return this.selectedMode>c.NONE}})],t.prototype,"selectedEvent",void 0),a([h({serializable:!1})],t.prototype,"_numItems",void 0),a([p,d(),f("VirtualList/List"),m(cc.ScrollView),g(-5e3)],t)}(cc.Component);n.default=_,cc._RF.pop()},{"./ListItem":"ListItem"}],LoadH5Game:[function(e,t,n){"use strict";cc._RF.push(t,"451b3aTE8pFqp/6rMPMOUOu","LoadH5Game");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../halllib/common/LogBase"),a=e("../halllib/common/ConfigMng"),r=e("../halllib/common/Define"),s=e("../halllib/common/Tools"),l=o(e("../halllib/net/PlatformService")),c=o(e("../hallph7/LoadingView7")),u=e("../halllib/common/Types"),p=e("../hallph7/SceneMainHall7"),h=e("../halllib/laya/Laya"),d=function(){function e(){}return e.LoadGame=function(t,n,o){if(this.gameid=t,e.gameElement)e.myiFrame.src=n,e.logoutElement.style.display="none";else{h.Laya.stage.on(h.Laya.Event.RESIZE,this,this.onResize),e.gameElement=h.Laya.Browser.createElement("div"),e.gameElement.style="position:relative;",e.gameElement.name="gameEle",e.gameElement.id="gameEle",e.gameElement.style.zIndex=h.Laya.Render.canvas.style.zIndex,e.myiFrame=h.Laya.Browser.createElement("iframe"),e.myiFrame.frameborder="0",e.myiFrame.position="absolute",e.myiFrame.style.left="0px",e.myiFrame.style.top="0px",e.myiFrame.id="myFrame",e.myiFrame.name="myFrame",e.myiFrame.style="width:100%;height:100%;",e.myiFrame.src=n,e.myiFrame.scrolling="no",e.gameElement.appendChild(e.myiFrame),e.divbtn=h.Laya.Browser.createElement("div"),e.divbtn.style="position:absolute;top:50px;left:10px;",e.btnBak=h.Laya.Browser.createElement("img"),e.btnBak.zOrder=h.Laya.Render.canvas.style.zIndex+r.Define.ZORDER_DEF.Z_GAME,e.btnBak.src=a.ConfigMng.gamelistJson.backbutton,e.btnBak.style="position:absolute;",e.btnBak.class=".floating-btn",e.logoutElement=h.Laya.Browser.createElement("div"),e.logoutElement.name="divlogout",e.logoutElement.style="position:absolute;top:"+(.5*h.Laya.Browser.clientHeight).toString()+"px;left:"+(.5*h.Laya.Browser.clientWidth).toString()+"px;",e.logoutElement.style.display="none";var s=h.Laya.Browser.createElement("img");s.zOrder=h.Laya.Render.canvas.style.zIndex+r.Define.ZORDER_DEF.Z_GAME,s.src=a.ConfigMng.hallconfigJson.gamebackbtn,e.logoutElement.appendChild(s),e.gameElement.appendChild(e.logoutElement),e.divbtn.appendChild(e.btnBak),e.gameElement.appendChild(e.divbtn)}e.btnBak.onclick=function(){p.SceneMainHall7.s_scene.visible=!0,l.default.Logout3thGame(!0),e.logoutElement.style.display="inline",i.LogBase.info("CloseH5Game",e.gameid)},h.Laya.Browser.document.body.appendChild(e.gameElement),e.gameElement.style="position: absolute; transform-origin: left top;            transform: scale(1, 1) rotate(0deg); width: 100%;height: 100%; ",this.SetBtnStyle(t,1==o),c.default.CloseScene(),p.SceneMainHall7.s_scene.visible=!1,i.LogBase.info("LoadH5Game",t)},e.onResize=function(){h.Laya.Browser.clientWidth>h.Laya.Browser.clientHeight?this.screenMode=!1:this.screenMode=!0,null!=h.Laya.Browser.getElementById("gameEle")&&""!=this.gameid&&this.SetBtnStyle(this.gameid,this.screenMode)},e.SetBtnStyle=function(t,n){if(void 0===n&&(n=!1),n=!(h.Laya.Browser.clientWidth>h.Laya.Browser.clientHeight),a.ConfigMng.gameicons[t]){var o=a.ConfigMng.gameicons[t].backindex;i.LogBase.log("ConfigMng.gameicons[backindex]",o,a.ConfigMng.gameicons[t],a.ConfigMng.gameicons.backbutton[o]);var r=1,l=10,c=10,p=80,d=80,f=h.Laya.Browser.clientHeight,g=h.Laya.Browser.clientWidth;if(a.ConfigMng.gameicons.backbutton[o])if(e.btnBak.src=a.ConfigMng.gameicons.backbutton[o].backbtn,a.ConfigMng.gameicons.backbutton[o].vertical)if(n){a.ConfigMng.gameicons.backbutton[o].backbtn1&&(e.btnBak.src=a.ConfigMng.gameicons.backbutton[o].backbtn1),g=(f=h.Laya.Browser.clientHeight)/16*9;var m=f*a.ConfigMng.gameicons.backbutton[o].top1+(h.Laya.Browser.clientHeight-f)/2,y=a.ConfigMng.gameicons.backbutton[o].left1*g+(h.Laya.Browser.clientWidth-g)/2;r=f/1334,s.BrowserUtil.getOSType()!=u.OSType.IOS&&s.BrowserUtil.getOSType()!=u.OSType.ANDROID||(r=h.Laya.Browser.clientWidth/750),a.ConfigMng.gameicons.backbutton[o].fullscreen&&(g=h.Laya.Browser.clientWidth,m=f*a.ConfigMng.gameicons.backbutton[o].top1,y=a.ConfigMng.gameicons.backbutton[o].left1*g,r=1),l=m,c=y,p=a.ConfigMng.gameicons.backbutton[o].height1*r,d=a.ConfigMng.gameicons.backbutton[o].width1*r,i.LogBase.log("sca1...",r,h.Laya.Browser.clientHeight)}else g=1334*(f=h.Laya.Browser.clientHeight)/750,m=f*a.ConfigMng.gameicons.backbutton[o].top+(h.Laya.Browser.clientHeight-f)/2,y=a.ConfigMng.gameicons.backbutton[o].left*g+(h.Laya.Browser.clientWidth-g)/2,r=f/750,s.BrowserUtil.getOSType()!=u.OSType.IOS&&s.BrowserUtil.getOSType()!=u.OSType.ANDROID||(r=h.Laya.Browser.clientWidth/750),a.ConfigMng.gameicons.backbutton[o].fullscreen&&(g=h.Laya.Browser.clientWidth,m=f*a.ConfigMng.gameicons.backbutton[o].top,y=a.ConfigMng.gameicons.backbutton[o].left*g,r=1),i.LogBase.log("gamewidth",g,f,m,y),l=m,c=y,p=a.ConfigMng.gameicons.backbutton[o].height*r,d=a.ConfigMng.gameicons.backbutton[o].width*r,i.LogBase.log("sca2...",r,h.Laya.Browser.clientWidth);else g=1334*(f=h.Laya.Browser.clientHeight)/750,m=f*a.ConfigMng.gameicons.backbutton[o].top+(h.Laya.Browser.clientHeight-f)/2,y=a.ConfigMng.gameicons.backbutton[o].left*g+(h.Laya.Browser.clientWidth-g)/2,r=f/750,s.BrowserUtil.getOSType()!=u.OSType.IOS&&s.BrowserUtil.getOSType()!=u.OSType.ANDROID||(r=h.Laya.Browser.clientWidth/750),a.ConfigMng.gameicons.backbutton[o].fullscreen&&(g=h.Laya.Browser.clientWidth,m=f*a.ConfigMng.gameicons.backbutton[o].top,y=a.ConfigMng.gameicons.backbutton[o].left*g,r=1),l=m,c=y,p=a.ConfigMng.gameicons.backbutton[o].height*r,d=a.ConfigMng.gameicons.backbutton[o].width*r,i.LogBase.log("gamewidth",g,f,m,y);else e.btnBak.src=a.ConfigMng.gamelistJson.backbutton,e.btnBak.style="position:absolute;",e.divbtn.style="position:absolute;top:50px;left:10px;";(p<10||p>130)&&(p=50),(d<10||d>130)&&(d=50),l<0&&(l=10),l>h.Laya.Browser.clientHeight-p&&(l=h.Laya.Browser.clientHeight-p),c<0&&(c=10),c>h.Laya.Browser.clientWidth-d&&(c=h.Laya.Browser.clientWidth-d),e.btnBak.style="position:absolute;height:"+p+"px;width:"+d+"px;",e.divbtn.style="position:absolute;top:"+l+"px;left:"+c+"px;",i.LogBase.log("Browser gameinfo",h.Laya.Browser.clientWidth,h.Laya.Browser.clientHeight,g,f,r),i.LogBase.log("backbtn info",l,c,p,d),i.LogBase.log("screenMode",n,a.ConfigMng.gameicons.backbutton[o].vertical,a.ConfigMng.gameicons.backbutton[o].fullscreen)}e.logoutElement.style="display:none;position:absolute;top:"+(.5*h.Laya.Browser.clientHeight-72.5).toString()+"px;left:"+(.5*h.Laya.Browser.clientWidth-121).toString()+"px;"},e.InitFloatBtn=function(){var t,n,o,a,r=!1,s=0,l=0;e.btnBak.addEventListener("mousedown",function(e){i.LogBase.log("MOUSE_DOWN",e),o=e.clientX-s,a=e.clientY-l,r=!0}),e.btnBak.addEventListener("mouseup",function(e){i.LogBase.log("mouseup",e),o=t,a=n,r=!1}),e.btnBak.addEventListener("mouseout",function(e){i.LogBase.log("mouseout",e),o=t,a=n,r=!1}),e.btnBak.addEventListener("mousemove",function(c){var u,p;i.LogBase.log("mousemove",c),r&&(c.preventDefault(),t=c.clientX-o,n=c.clientY-a,s=t,l=n,u=t,p=n,e.btnBak.style.transform="translate3d("+u+"px, "+p+"px, 0)")})},e.CloseInnerFrame=function(){e.logoutElement&&(e.logoutElement.style.display="none");var t=h.Laya.Browser.getElementById("gameEle");h.Laya.Browser.removeElement(t)},e.LoadInnerFrame=function(t){if(e.gameElement)e.myiFrame.src=t,e.logoutElement.style.display="none";else{e.gameElement=h.Laya.Browser.createElement("div"),e.gameElement.style="position:relative;",e.gameElement.name="gameEle",e.gameElement.id="gameEle",e.gameElement.style.zIndex=h.Laya.Render.canvas.style.zIndex,e.myiFrame=h.Laya.Browser.createElement("iframe"),e.myiFrame.frameborder="0",e.myiFrame.position="absolute",e.myiFrame.style.left="0px",e.myiFrame.style.top="0px",e.myiFrame.id="myFrame",e.myiFrame.name="myFrame",e.myiFrame.style="width:100%;height:100%;",e.myiFrame.src=t,e.myiFrame.scrolling="no",e.gameElement.appendChild(e.myiFrame),e.divbtn=h.Laya.Browser.createElement("div"),e.divbtn.style="position:absolute;top:50px;left:10px;",e.btnBak=h.Laya.Browser.createElement("img"),e.btnBak.zOrder=h.Laya.Render.canvas.style.zIndex+r.Define.ZORDER_DEF.Z_GAME,e.btnBak.src=a.ConfigMng.hallconfigJson.recharge.closebtn,e.btnBak.style="position:absolute;",e.logoutElement=h.Laya.Browser.createElement("div"),e.logoutElement.name="divlogout",e.logoutElement.style="position:absolute;top:300px;left:500px;",e.logoutElement.style.display="none";var n=h.Laya.Browser.createElement("img");n.zOrder=h.Laya.Render.canvas.style.zIndex+r.Define.ZORDER_DEF.Z_GAME,n.src=a.ConfigMng.hallconfigJson.gamebackbtn,e.logoutElement.appendChild(n),e.gameElement.appendChild(e.logoutElement),e.divbtn.appendChild(e.btnBak),e.gameElement.appendChild(e.divbtn)}e.btnBak.onclick=function(){p.SceneMainHall7.s_scene.visible=!0,l.default.Logout3thGame(!0),e.logoutElement.style.display="none";var t=h.Laya.Browser.getElementById("gameEle");h.Laya.Browser.removeElement(t)},e.btnBak.src=a.ConfigMng.hallconfigJson.recharge.closebtn,e.divbtn.style="position:absolute;top:10px;left:1200px;",e.btnBak.style="position:absolute;",h.Laya.Browser.document.body.appendChild(e.gameElement);var o=new h.Laya.Sprite;h.Laya.stage.addChild(o),o.pos(0,0),o.size(1334,750),o.graphics.drawRect(0,0,o.width,o.height,"#000000"),h.Laya.SpriteUtils.fitDOMElementInArea(e.gameElement,o,0,0,o.width,o.height),c.default.CloseScene()},e.fitDOMElementInArea=function(e,t,n,o,i,a){e._fitLayaAirInitialized||(e._fitLayaAirInitialized=!0,e.style.transformOrigin=e.style.webKittransformOrigin="left top",e.style.position="absolute");var r=this.getTransformRelativeToWindow(t,n,o);e.style.transform=e.style.webkitTransform="scale("+r.scaleX+","+r.scaleY+") rotate("+h.Laya.stage.canvasDegree+"deg)",e.style.width=i+"px",e.style.height=a+"px",e.style.left=r.x+"px",e.style.top=r.y+"px"},e._getWrapRec=function(e,t){if(void 0===t&&(t=null),!e||e.length<1)return t?t.setTo(0,0,0,0):h.Laya.Rectangle.TEMP.setTo(0,0,0,0);t=t||h.Laya.Rectangle.create();var n,o,i,a,r,s=e.length,l=h.Laya.Point.TEMP;for(i=r=-(o=a=99999),n=0;n<s;n+=2)l.x=e[n],l.y=e[n+1],o=o<l.x?o:l.x,a=a<l.y?a:l.y,i=i>l.x?i:l.x,r=r>l.y?r:l.y;return t.setTo(o,a,i-o,r-a)},e.getGlobalRecByPoints=function(e,t,n,o,i){var a,r;a=h.Laya.Point.create().setTo(t,n),a=e.localToGlobal(a),r=h.Laya.Point.create().setTo(o,i),r=e.localToGlobal(r);var s=this._getWrapRec([a.x,a.y,r.x,r.y]);return a.recover(),r.recover(),s},e.getGlobalPosAndScale=function(e){return this.getGlobalRecByPoints(e,0,0,1,1)},e.getTransformRelativeToWindow=function(e,t,n){var o=h.Laya.stage,i=this.getGlobalPosAndScale(e),a=o.transform,r=a.tx,s=a.ty;a.rotate(-Math.PI/180*o.canvasDegree),a.scale(o.clientScaleX,o.clientScaleY);var l,c,u,p,d=o.canvasDegree%180!=0;return d?(l=n+i.y,c=t+i.x,l*=a.d,c*=a.a,90==o.canvasDegree?(l=r-l,c+=s):(l+=r,c=s-c)):(l=t+i.x,c=n+i.y,l*=a.a,c*=a.d,l+=r,c+=s),c+=o._safariOffsetY,d?(u=a.d*i.height,p=a.a*i.width):(u=a.a*i.width,p=a.d*i.height),{x:l,y:c,scaleX:u,scaleY:p}},e.gameElement=null,e.gameid="",e.screenMode=!1,e}();n.default=d,cc._RF.pop()},{"../halllib/common/ConfigMng":"ConfigMng","../halllib/common/Define":"Define","../halllib/common/LogBase":"LogBase","../halllib/common/Tools":"Tools","../halllib/common/Types":"Types","../halllib/laya/Laya":"Laya","../halllib/net/PlatformService":"PlatformService","../hallph7/LoadingView7":"LoadingView7","../hallph7/SceneMainHall7":"SceneMainHall7"}],LoadMng:[function(e,t,n){"use strict";cc._RF.push(t,"47dedi1ChpN+YatOz54N1H3","LoadMng");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.LoadMng=void 0;var a=e("./LogBase"),r=e("../laya/Laya"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.listLoadfail=[],t}return i(t,e),Object.defineProperty(t,"Instance",{get:function(){return null==this._Instance&&(this._Instance=new t),this._Instance},enumerable:!1,configurable:!0}),t.prototype.pushFail=function(e){this.listLoadfail=this.listLoadfail.concat(e)},t.prototype.push=function(e){this.listLoadfail.push(e),a.LogBase.warn("reload:",e)},t.prototype.ReLoad=function(e){a.LogBase.log("ReLoad start..."),this.listLoadfail.length>0&&r.Laya.loader.load(this.listLoadfail),e&&e.runWith(null)},t.prototype.Load=function(e,t,n,o,i,a,s,l,c){return r.Laya.loader.load(e,r.Laya.Handler.create(this,this.LoadComplete,[t]),n,o,i,a,s,l,c)},t.prototype.LoadComplete=function(e){a.LogBase.log("LoadComplete"),e&&e.run()},t._Instance=new t,t}(r.Laya.Loader);n.LoadMng=s,cc._RF.pop()},{"../laya/Laya":"Laya","./LogBase":"LogBase"}],Loader:[function(e,t){"use strict";cc._RF.push(t,"75023akaSFHnJ6KPin/shN9","Loader"),cc._RF.pop()},{}],"Loading7.generated":[function(e,t,n){"use strict";cc._RF.push(t,"1f2b1ZQ52tFAISFTXvhW9NN","Loading7.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.LoadingBase7=void 0;var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(e("../halllib/laya/Laya").Laya.Scene);n.LoadingBase7=a,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],LoadingPanel:[function(e,t,n){"use strict";cc._RF.push(t,"7afeaQ0zkxI0ojBfljwbPYn","LoadingPanel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../../framework/panelrouter/PanelComponent"),s=cc._decorator,l=s.ccclass,c=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bgNode=null,t.loadingSpriteNode=null,t.cancelLoadingBtn=null,t._showData=null,t._isShowing=!1,t._isHiding=!1,t}return i(t,e),t.prototype.onLoad=function(){this.bgNode.opacity=0,this.loadingSpriteNode.opacity=0},t.prototype.show=function(e){var t,n;this._showData=e.data,this.cancelLoadingBtn.interactable=this._showData&&null!=this._showData.enableToCancalLoading&&this._showData.enableToCancalLoading,this._playPanelShowAnim(null!==(n=null===(t=this._showData)||void 0===t?void 0:t.immediately)&&void 0!==n&&n),e.onShowed()},t.prototype.hide=function(e){var t,n=e.data;this._playPanelHideAnim(null!==(t=null==n?void 0:n.immediately)&&void 0!==t&&t),e.onHided()},t.prototype.onDisable=function(){this.cancelLoadingBtn.interactable=!1,this._showData=null,this._isShowing=!1,this._isHiding=!1},t.prototype.onCancelLoadingBtnClick=function(){var e,t;null===(t=null===(e=this._showData)||void 0===e?void 0:e.onCancelLoadingBtnClick)||void 0===t||t.call(e)},t.prototype._playPanelShowAnim=function(e){this._isShowing||(this._isShowing=!0,this._isHiding=!1,cc.Tween.stopAllByTarget(this.bgNode),this.bgNode.opacity=0,cc.tween(this.bgNode).delay(e?0:1).to(.48,{opacity:120},{easing:"sineOut"}).start(),cc.Tween.stopAllByTarget(this.loadingSpriteNode),this.loadingSpriteNode.opacity=0,this.loadingSpriteNode.scale=1.2,cc.tween(this.loadingSpriteNode).delay(e?0:1).to(.48,{opacity:255,scale:1},{easing:"sineOut"}).start())},t.prototype._playPanelHideAnim=function(e){this._isHiding||(this._isHiding=!0,this._isShowing=!1,e?(cc.Tween.stopAllByTarget(this.bgNode),this.bgNode.opacity=0,cc.Tween.stopAllByTarget(this.loadingSpriteNode),this.loadingSpriteNode.opacity=0):(cc.Tween.stopAllByTarget(this.bgNode),cc.tween(this.bgNode).to(.24,{opacity:0},{easing:"sineOut"}).start(),cc.Tween.stopAllByTarget(this.loadingSpriteNode),cc.tween(this.loadingSpriteNode).to(.24,{opacity:0},{easing:"sineOut"}).start()))},a([c(cc.Node)],t.prototype,"bgNode",void 0),a([c(cc.Node)],t.prototype,"loadingSpriteNode",void 0),a([c(cc.Button)],t.prototype,"cancelLoadingBtn",void 0),a([l],t)}(r.PanelComponent);n.default=u,cc._RF.pop()},{"../../../framework/panelrouter/PanelComponent":"PanelComponent"}],"LoadingView7.generated":[function(e,t,n){"use strict";cc._RF.push(t,"697e62bSJhNvIh2Gz96hRJm","LoadingView7.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.LoadingViewBase7=void 0;var r=e("../halllib/laya/Laya"),s=(r.Laya.regClass,r.Laya.property),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Panelbg=null,t}return i(t,e),a([s({type:cc.Node})],t.prototype,"Panelbg",void 0),t}(r.Laya.Scene);n.LoadingViewBase7=l,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],LoadingView7:[function(e,t,n){"use strict";cc._RF.push(t,"a7749Xb3XJDSYdkyPNNgQR8","LoadingView7");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../halllib/common/LogBase"),s=e("../halllib/common/Define"),l=e("../halllib/net/InnerEvent"),c=e("./LoadingView7.generated"),u=e("../halllib/laya/Laya"),p=e("../halllib/common/ConfigMng"),h=u.Laya.regClass,d=(u.Laya.property,function(e){function t(){return e.call(this)||this}var n;return i(t,e),n=t,t.Load=function(e,t){var n=this;this.s_sceneName="LoadingView",this.LoadPrefab(e,t,p.ConfigMng.getSceneAddr(this.s_sceneName),new u.Laya.Handler(this,function(e){console.log("success:",e,n.s_scene)}),new u.Laya.Handler(this,function(){r.LogBase.error("LoadScene Error:",p.ConfigMng.getSceneAddr(n.s_sceneName)),l.HallEvent.event(l.HallEvent.LOADING_MSG,"Error:"+n.s_sceneName)}))},t.OpenScene=function(t){r.LogBase.debug("loadingview:",this.s_sceneName,"owner:",t),e.OpenScene.call(this,t)},t.Show=function(t){e.Show.call(this,t)},t.CloseScene=function(){e.CloseScene.call(this)},t.prototype.onAwake=function(){this.zOrder=s.Define.ZORDER_DEF.Z_LOADINGVIEW,this.Panelbg.on(u.Laya.Event.CLICK,function(){},this)},t.prototype.onEnable=function(){u.Laya.timer.once(15e3,this,this.close)},t.prototype.onDisable=function(){u.Laya.timer.clearAll(this)},t.prototype.onClosed=function(){l.HallEvent.event(l.HallEvent.SHOW_DOWNLOAD_APK)},t.prototype.close=function(){n.s_scene=null,console.log("LoadingView7 close",this,n.s_scene),e.prototype.close.call(this)},n=a([h()],t)}(c.LoadingViewBase7));n.default=d,cc._RF.pop()},{"../halllib/common/ConfigMng":"ConfigMng","../halllib/common/Define":"Define","../halllib/common/LogBase":"LogBase","../halllib/laya/Laya":"Laya","../halllib/net/InnerEvent":"InnerEvent","./LoadingView7.generated":"LoadingView7.generated"}],"Loadingph6.generated":[function(e,t,n){"use strict";cc._RF.push(t,"b3ce0N72cJBTYWNoEICExg0","Loadingph6.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.Loadingph6Base6=void 0;var r=e("../halllib/laya/Laya"),s=(r.Laya.regClass,r.Laya.property),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ProgressBar=null,t.LabelVersion=null,t.LabelMsg=null,t.SpineFire=null,t}return i(t,e),a([s({type:cc.ProgressBar})],t.prototype,"ProgressBar",void 0),a([s({type:cc.Label})],t.prototype,"LabelVersion",void 0),a([s({type:cc.Label})],t.prototype,"LabelMsg",void 0),a([s({type:sp.Skeleton})],t.prototype,"SpineFire",void 0),t}(r.Laya.Scene);n.Loadingph6Base6=l,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],Loadingph6:[function(e,t,n){"use strict";cc._RF.push(t,"d812cHuEtVNULjbymYQYbVZ","Loadingph6");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.Loadingph6=void 0;var s=e("../halllib/net/InnerEvent"),l=e("../halllib/core/RunData"),c=e("../halllib/common/Tools"),u=e("../halllib/net/Client"),p=r(e("../halllib/net/HallMsgProxy")),h=r(e("../halllib/net/PlatformService")),d=r(e("../hall/DialogMng")),f=e("./SceneLogin6"),g=e("../halllib/common/LogBase"),m=r(e("../halllib/net/RoomMsgProxy")),y=e("../halllib/core/HallData"),_=e("../halllib/common/ConfigMng"),v=e("../halllib/common/Define"),b=e("./Loadingph6.generated"),S=e("../halllib/laya/Laya"),C=S.Laya.regClass,I=(S.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.text="",t.loadCount=0,t.TimeBegin=null,t}return i(t,e),t.prototype.onAwake=function(){console.log("Loadingph6 onAwake"),this.zOrder=v.Define.ZORDER_DEF.Z_LOADINGSCEME,this.TimeBegin=new Date,s.HallEvent.on(s.HallEvent.LOADING_MSG,this,this.onLoadMsg),s.HallEvent.on(s.HallEvent.LOADING_FINISH,this,this.onLoading),s.HallEvent.on(s.HallEvent.SOCKET_OPEN,this,this.onSocketOpen),this.LabelVersion.string=_.ConfigMng.version,_.ConfigMng.Load(S.Laya.Handler.create(this,this.showLogoSpine),S.Laya.Handler.create(this,this.onLoading,[.05]))},t.prototype.LoadingFire=function(){},t.prototype.onLoading=function(e){this.ProgressBar.progress+e>.8?this.ProgressBar.progress=.8:this.ProgressBar.progress+=e,this.LoadingFire()},t.prototype.onLoadMsg=function(){},t.prototype.onLoadFinish=function(e){this.onLoading(e)},t.prototype.showLogoSpine=function(){l.RunData.urlParams=c.BrowserUtil.getUrlParams(),l.RunData.urlParams.get("u")&&(l.RunData.promoterId=l.RunData.urlParams.get("u"));var e=l.RunData.urlParams.get("a");l.RunData.agentId=e||_.ConfigMng.getDefaultAgent(),console.log("RunData.agentId",l.RunData.agentId,e),g.LogBase.Init(l.RunData.agentId.toString()),y.HallSoundManager.PlayMusic(_.ConfigMng.hallconfigJson.music.sound_bg_0,0),this.LabelVersion.string=_.ConfigMng.version,this.LabelMsg.string="DialogMng Init and Loading......",this.ProgressBar.progress>.8?this.ProgressBar.progress=.8:this.ProgressBar.progress+=.02,this.LoadingFire(),_.ConfigMng.LoadRes(S.Laya.Handler.create(this,this.onLoadResCompleted))},t.prototype.onLoadResCompleted=function(){d.default.InitMng(),d.default.LoadRes(S.Laya.Handler.create(this,this.LoadPlatformData))},t.prototype.LoadPlatformData=function(){u.Client.Init(),h.default.LoadPlatformData(S.Laya.Handler.create(this,this.onLoadedCompleted))},t.prototype.onError=function(e){g.LogBase.error("\u52a0\u8f7d\u5931\u8d25: "+e)},t.prototype.onLoadedCompleted=function(){this.ProgressBar.progress=.85,this.LoadingFire(),this.LabelMsg.string="NetWork Init ......",p.default.Init(),m.default.Init(),l.RunData.init(),g.LogBase.log("Client.Instance.connect serverurl:",_.ConfigMng.serviceconfigJson.serverURL),this.LabelMsg.string="NetWork Connect ......",u.Client.Instance.connect(_.ConfigMng.serviceconfigJson.serverURL),this.ProgressBar.progress=.9,this.LoadingFire();var e=new Date;g.LogBase.log("Loading onLoadedCompleted:",e.valueOf()-this.TimeBegin.valueOf())},t.prototype.onSocketOpen=function(){var e=new Date;g.LogBase.log("Loading onSocketOpen:",e.valueOf()-this.TimeBegin.valueOf()),this.LabelMsg.string="SceneLogin7.OpenScene ......",f.SceneLogin6.OpenScene(),this.close()},a([C()],t)}(b.Loadingph6Base6));n.Loadingph6=I,cc._RF.pop()},{"../hall/DialogMng":"DialogMng","../halllib/common/ConfigMng":"ConfigMng","../halllib/common/Define":"Define","../halllib/common/LogBase":"LogBase","../halllib/common/Tools":"Tools","../halllib/core/HallData":"HallData","../halllib/core/RunData":"RunData","../halllib/laya/Laya":"Laya","../halllib/net/Client":"Client","../halllib/net/HallMsgProxy":"HallMsgProxy","../halllib/net/InnerEvent":"InnerEvent","../halllib/net/PlatformService":"PlatformService","../halllib/net/RoomMsgProxy":"RoomMsgProxy","./Loadingph6.generated":"Loadingph6.generated","./SceneLogin6":"SceneLogin6"}],"Loadingph7.generated":[function(e,t,n){"use strict";cc._RF.push(t,"02672S5rHNGobGsYPmAW34G","Loadingph7.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.Loadingph7Base=void 0;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ProgressBar=null,t.LabelVersion=null,t.LabelMsg=null,t}return i(t,e),t}(e("../halllib/laya/Laya").Laya.Scene);n.Loadingph7Base=a,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],Loadingph7:[function(e,t,n){"use strict";cc._RF.push(t,"5c6dfb8vpRBubHRcN14hdP0","Loadingph7");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.Loadingph7=void 0;var s=e("./Loadingph7.generated"),l=e("../halllib/net/InnerEvent"),c=e("../halllib/core/RunData"),u=e("../halllib/common/Tools"),p=e("../halllib/net/Client"),h=r(e("../halllib/net/HallMsgProxy")),d=r(e("../halllib/net/PlatformService")),f=r(e("../hall/DialogMng")),g=e("../halllib/common/LogBase"),m=r(e("../halllib/net/RoomMsgProxy")),y=e("../halllib/core/HallData"),_=e("../halllib/common/ConfigMng"),v=e("../halllib/common/Define"),b=e("../halllib/laya/Laya"),S=e("../hallph6/SceneLogin6"),C=b.Laya.regClass,I=(b.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.text="",t.loadCount=0,t.TimeBegin=null,t}return i(t,e),t.prototype.onAwake=function(){this.zOrder=v.Define.ZORDER_DEF.Z_LOADINGSCEME,this.TimeBegin=new Date,l.HallEvent.on(l.HallEvent.LOADING_MSG,this,this.onLoadMsg),l.HallEvent.on(l.HallEvent.LOADING_FINISH,this,this.onLoading),l.HallEvent.on(l.HallEvent.SOCKET_OPEN,this,this.onSocketOpen),this.LabelVersion.text=_.ConfigMng.version,_.ConfigMng.Load(b.Laya.Handler.create(this,this.showLogoSpine),b.Laya.Handler.create(this,this.onLoading,[.05]))},t.prototype.onLoading=function(e){this.ProgressBar.value+e>.8?this.ProgressBar.value=.8:this.ProgressBar.value+=e},t.prototype.onLoadMsg=function(e){this.LabelMsg.text="Loading "+e+" ......"},t.prototype.onLoadFinish=function(e){this.onLoading(e)},t.prototype.showLogoSpine=function(){c.RunData.urlParams=u.BrowserUtil.getUrlParams(),c.RunData.urlParams.get("u")&&(c.RunData.promoterId=c.RunData.urlParams.get("u"));var e=c.RunData.urlParams.get("a");c.RunData.agentId=e||_.ConfigMng.getDefaultAgent(),console.log("RunData.agentId",c.RunData.agentId,e),g.LogBase.Init(c.RunData.agentId.toString()),y.HallSoundManager.PlayMusic(_.ConfigMng.hallconfigJson.music.sound_bg_0,0),this.LabelVersion.text=_.ConfigMng.version,this.LabelMsg.text="DialogMng Init and Loading......",this.ProgressBar.value>.8?this.ProgressBar.value=.8:this.ProgressBar.value+=.02,_.ConfigMng.LoadRes(b.Laya.Handler.create(this,this.onLoadResCompleted))},t.prototype.onLoadResCompleted=function(){f.default.InitMng(),f.default.LoadRes(b.Laya.Handler.create(this,this.LoadPlatformData))},t.prototype.LoadPlatformData=function(){p.Client.Init(),d.default.LoadPlatformData(b.Laya.Handler.create(this,this.onLoadedCompleted))},t.prototype.onError=function(e){g.LogBase.error("\u52a0\u8f7d\u5931\u8d25: "+e)},t.prototype.onLoadedCompleted=function(){this.ProgressBar.value=.85,this.LabelMsg.text="NetWork Init ......",h.default.Init(),m.default.Init(),c.RunData.init(),g.LogBase.log("Client.Instance.connect serverurl:",_.ConfigMng.serviceconfigJson.serverURL),this.LabelMsg.text="NetWork Connect ......",p.Client.Instance.connect(_.ConfigMng.serviceconfigJson.serverURL),this.ProgressBar.value=.9;var e=new Date;g.LogBase.log("Loading onLoadedCompleted:",e.valueOf()-this.TimeBegin.valueOf())},t.prototype.onSocketOpen=function(){var e=new Date;g.LogBase.log("Loading onSocketOpen:",e.valueOf()-this.TimeBegin.valueOf()),pushEvent("SceneLogin7.OpenScene",{agentId:c.RunData.agentId,version:_.ConfigMng.version,promoterId:c.RunData.promoterId,url:b.Laya.Browser.window.location.href,userAgent:navigator.userAgent.toLocaleLowerCase(),token:g.LogBase.MACTOKEN}),this.LabelMsg.string="SceneLogin7.OpenScene ......",S.SceneLogin6.OpenScene(),this.close()},a([C()],t)}(s.Loadingph7Base));n.Loadingph7=I,cc._RF.pop()},{"../hall/DialogMng":"DialogMng","../halllib/common/ConfigMng":"ConfigMng","../halllib/common/Define":"Define","../halllib/common/LogBase":"LogBase","../halllib/common/Tools":"Tools","../halllib/core/HallData":"HallData","../halllib/core/RunData":"RunData","../halllib/laya/Laya":"Laya","../halllib/net/Client":"Client","../halllib/net/HallMsgProxy":"HallMsgProxy","../halllib/net/InnerEvent":"InnerEvent","../halllib/net/PlatformService":"PlatformService","../halllib/net/RoomMsgProxy":"RoomMsgProxy","../hallph6/SceneLogin6":"SceneLogin6","./Loadingph7.generated":"Loadingph7.generated"}],LobbyActivityGuideCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"11944OXVXZPuryDf9PXy4z2","LobbyActivityGuideCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../framework/gg"),s=e("../../systems/api/gameapi/GameApiModels"),l=e("../../systems/ui/lobby/LobbyUIEvent"),c=cc._decorator,u=c.ccclass,p=c.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fingerNode=null,t.friendBtnNode=null,t}return i(t,e),t.prototype.onLoad=function(){this.fingerNode.active=!1},t.prototype.onEnable=function(){r.gg.eventManager.on(l.LobbyUIEvent.TransferDoubleGuideEvent,this.onTransferDoubleGuide,this),r.gg.eventManager.on(l.LobbyUIEvent.onLobbyHideCommonHint,this.onLobbyHideCommonHint,this)},t.prototype.onDisable=function(){r.gg.eventManager.offTarget(this)},t.prototype.onLobbyHideCommonHint=function(e){e==s.LobbyHintEnum.FriendReddot&&(this.fingerNode.active=!1)},t.prototype.onTransferDoubleGuide=function(){this.fingerNode.active=!0,this.fingerNode.position=this.fingerNode.parent.convertToNodeSpaceAR(this.friendBtnNode.parent.convertToWorldSpaceAR(this.friendBtnNode.position)),this.fingerNode.x=this.fingerNode.x+15},a([p({type:cc.Node,tooltip:"\u624b\u6307\u5f15\u5bfc\u8282\u70b9"})],t.prototype,"fingerNode",void 0),a([p({type:cc.Node,tooltip:"\u597d\u53cb\u6309\u94ae"})],t.prototype,"friendBtnNode",void 0),a([u],t)}(cc.Component);n.default=h,cc._RF.pop()},{"../../framework/gg":"gg","../../systems/api/gameapi/GameApiModels":"GameApiModels","../../systems/ui/lobby/LobbyUIEvent":"LobbyUIEvent"}],LobbyHintSystem:[function(e,t,n){"use strict";cc._RF.push(t,"f11fablj39B5qjhWANqbeFY","LobbyHintSystem");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.lobbyHintSystem=void 0;var a=e("../../../../main/scripts/framework/gg"),r=e("../../../../main/scripts/systems/api/gameapi/GameApi"),s=e("../../../../main/scripts/systems/api/gameapi/GameApiModels"),l=e("../../../../main/scripts/systems/gamews/GameSocketSystem"),c=e("../ui/lobby/LobbyUIEvent"),u=e("./autoOpenSystem"),p=e("./LobbyProto"),h=function(){function e(){this.hintStatusData=null,this.hintCountData=null,this.activityStatusData=null}return e.prototype.enable=function(){return o(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return l.gameSocketSystem.on(p.LobbyProtoMsg.RedDotBroadCast,this._onRedDotBroadCast,this),[4,this.getHintData()];case 1:return e.sent(),[4,this.getActivityData()];case 2:return e.sent(),[2]}})})},e.prototype.disable=function(){l.gameSocketSystem.offTarget(this)},e.prototype.getHintData=function(e){var t=this;return void 0===e&&(e=null),new Promise(function(n,o){var i;i=e?{reddot_type:e}:{},r.gameApi.getLobbyHintData(i).then(function(e){1===e.status&&(t.setHintData(e.data),t.setHintCountData(e.data),a.gg.eventManager.emit(c.LobbyUIEvent.onLobbyHintResponse)),n()}).catch(function(){o(new Error("get reddot error"))})})},e.prototype.getActivityData=function(){return o(this,void 0,void 0,function(){var e;return i(this,function(t){switch(t.label){case 0:return this.activityStatusData=[],[4,r.gameApi.getActivityList().catch(function(e){return a.gg.logger.error("\u8bf7\u6c42\u6d3b\u52a8\u6570\u636e\u62a5\u9519",e),null})];case 1:return 1===(null==(e=t.sent())?void 0:e.status)&&(this.activityStatusData=e.data,a.gg.eventManager.emit(c.LobbyUIEvent.onLobbyActivityResponse)),u.autoOpenSystem.enable(),[2]}})})},e.prototype.setHintData=function(e){void 0===e&&(e=null);var t={};if(!this.hintStatusData){for(var n in s.LobbyHintEnum)Object.prototype.hasOwnProperty.call(s.LobbyHintEnum,n)&&(t[o=s.LobbyHintEnum[n]]=!1);this.hintStatusData=t}if(e)for(var n in s.LobbyHintEnum){var o;Object.prototype.hasOwnProperty.call(s.LobbyHintEnum,n)&&null!=e[o=s.LobbyHintEnum[n]]&&null!=e[o]&&(this.hintStatusData[o]=e[o])}},e.prototype.setHintCountData=function(e){void 0===e&&(e=null);var t={};if(!this.hintCountData){for(var n in s.LobbyHintCountEnum)Object.prototype.hasOwnProperty.call(s.LobbyHintCountEnum,n)&&(t[o=s.LobbyHintCountEnum[n]]=0);this.hintCountData=t}if(e)for(var n in s.LobbyHintCountEnum){var o;Object.prototype.hasOwnProperty.call(s.LobbyHintCountEnum,n)&&null!=e[o=s.LobbyHintCountEnum[n]]&&null!=e[o]&&(this.hintCountData[o]=e[o])}},e.prototype._onRedDotBroadCast=function(e){this.setHintData(e.red_dot_map),this.setHintCountData(e.red_dot_count_map),a.gg.eventManager.emit(c.LobbyUIEvent.onLobbyHintResponse)},e}();n.lobbyHintSystem=new h,cc._RF.pop()},{"../../../../main/scripts/framework/gg":"gg","../../../../main/scripts/systems/api/gameapi/GameApi":"GameApi","../../../../main/scripts/systems/api/gameapi/GameApiModels":"GameApiModels","../../../../main/scripts/systems/gamews/GameSocketSystem":"GameSocketSystem","../ui/lobby/LobbyUIEvent":"LobbyUIEvent","./LobbyProto":"LobbyProto","./autoOpenSystem":"autoOpenSystem"}],LobbyProto:[function(e,t,n){"use strict";cc._RF.push(t,"e775fojIEhBgZNLqai8Wq6Z","LobbyProto"),Object.defineProperty(n,"__esModule",{value:!0}),n.LobbyProtoMsg=void 0,function(e){e.RedDotBroadCast="RedDotBroadCast",e.RankBroadCast="RankBroadCast"}(n.LobbyProtoMsg||(n.LobbyProtoMsg={})),cc._RF.pop()},{}],LobbyRankingItem:[function(e,t,n){"use strict";cc._RF.push(t,"334a7vT8AFGCrNDCsfFPiUC","LobbyRankingItem");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=l(e("../../../components/UserIconStyle1Component")),u=e("../../../systems/user/UserUISystem"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.playerIcon=null,t.vipSprite=null,t.rankingUserInfo=null,t.userIconId=null,t.userFrameId=null,t.vipInfo=null,t}return i(t,e),t.prototype.updateUI=function(){var e,t,n,o,i,a,r,s,l,u,p,h;this.updataUserVip(),(null===(e=this.rankingUserInfo)||void 0===e?void 0:e.facelook)!=this.userIconId&&(null===(t=this.playerIcon)||void 0===t||t.getComponent(c.default).updateIcon(null!==(o=null===(n=this.rankingUserInfo)||void 0===n?void 0:n.facelook)&&void 0!==o?o:"")),(null===(i=this.rankingUserInfo)||void 0===i?void 0:i.frame)!=this.userFrameId&&(null===(a=this.playerIcon)||void 0===a||a.getComponent(c.default).updateIconFrame(null!==(s=null===(r=this.rankingUserInfo)||void 0===r?void 0:r.frame)&&void 0!==s?s:"")),this.userIconId=null!==(u=null===(l=this.rankingUserInfo)||void 0===l?void 0:l.facelook)&&void 0!==u?u:"",this.userFrameId=null!==(h=null===(p=this.rankingUserInfo)||void 0===p?void 0:p.frame)&&void 0!==h?h:""},t.prototype.updataUserVip=function(){var e,t,n,o;return r(this,void 0,void 0,function(){var i;return s(this,function(a){switch(a.label){case 0:return(null===(e=this.rankingUserInfo)||void 0===e?void 0:e.vip_info)?(this.vipSprite.node.active=!0,this.vipInfo==(null===(t=this.rankingUserInfo)||void 0===t?void 0:t.vip_info)?[3,2]:(i=this.vipSprite,[4,u.userUISystem.loadUserVipIcon(this.rankingUserInfo.vip_info.vip_level,this.rankingUserInfo.vip_info.vip_status)])):[3,3];case 1:i.spriteFrame=a.sent(),a.label=2;case 2:return[3,4];case 3:this.vipSprite.node.active=!1,a.label=4;case 4:return this.vipInfo=null!==(o=null===(n=this.rankingUserInfo)||void 0===n?void 0:n.vip_info)&&void 0!==o?o:null,[2]}})})},a([d({type:cc.Node,tooltip:"\u73a9\u5bb6\u5934\u50cf\u4fe1\u606f"})],t.prototype,"playerIcon",void 0),a([d({type:cc.Sprite,tooltip:"\u7528\u6237vip\u56fe\u6807"})],t.prototype,"vipSprite",void 0),a([h],t)}(cc.Component);n.default=f,cc._RF.pop()},{"../../../components/UserIconStyle1Component":"UserIconStyle1Component","../../../systems/user/UserUISystem":"UserUISystem"}],LobbySceneActivityCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"af962j9sYtANay6HLfKAnPl","LobbySceneActivityCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../configs/CommonPanelConfig"),s=e("../../framework/gg"),l=e("../../framework/i18n/I18n"),c=e("../../systems/api/gameapi/GameApiModels"),u=e("../../systems/firstRecharge/FirstRechargeUIEvent"),p=e("../../systems/levelAward/LevelAwardUIEvent"),h=e("../../systems/lobby/LobbyHintSystem"),d=e("../../systems/user/UserSystem"),f=e("../../systems/ui/lobby/LobbyUIEvent"),g=cc._decorator,m=g.ccclass,y=g.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.firstRechargeBtnNode=null,t.levelAwardBtnNode=null,t.noviceTaskBtnNode=null,t.vipRechargeBtnNode=null,t.boxChipBtnNode=null,t.transferDoubleBtnNode=null,t.questionnaireBtnNode=null,t}return i(t,e),t.prototype.onLoad=function(){this.hideAllNode()},t.prototype.onEnable=function(){this.firstRechargeBtnNode.active=d.userSystem.userModel.isfirstrecharge,s.gg.eventManager.on(u.FristRechargeUIEvent.onLobbyHideFirstRechargeBtn,this._onLobbyHideFirstRechargeBtn,this),s.gg.eventManager.on(f.LobbyUIEvent.onLobbyActivityResponse,this._onLobbyActivityResponse,this),s.gg.eventManager.on(f.LobbyUIEvent.onActivityEnd,this._onActivityEnd,this),s.gg.eventManager.on(p.LevelAwardUIEvent.onLevelEndEvent,this._onActivityEnd,this)},t.prototype.onDisable=function(){s.gg.eventManager.offTarget(this)},t.prototype.hideAllNode=function(){this.levelAwardBtnNode.active=!1,this.noviceTaskBtnNode.active=!1,this.vipRechargeBtnNode.active=!1,this.boxChipBtnNode.active=!1,this.transferDoubleBtnNode.active=!1,this.questionnaireBtnNode.active=!1},t.prototype._onLobbyHideFirstRechargeBtn=function(){this.firstRechargeBtnNode.active=!1},t.prototype._onLobbyActivityResponse=function(){for(var e=0,t=h.lobbyHintSystem.activityStatusData;e<t.length;e++){var n=t[e];this.ChangeActivityBtnStatus(n,!0)}},t.prototype.ChangeActivityBtnStatus=function(e,t){switch(e){case c.ActivityType.LevelAward:this.levelAwardBtnNode.active=t;break;case c.ActivityType.newPlayerSignIn:this.noviceTaskBtnNode.active=t;break;case c.ActivityType.vipRecharge:this.vipRechargeBtnNode.active=t;break;case c.ActivityType.boxChip:this.boxChipBtnNode.active=t;break;case c.ActivityType.transferDoublePrize:this.transferDoubleBtnNode.active=t;break;case c.ActivityType.Questionnaire:this.questionnaireBtnNode.active=t}},t.prototype._onActivityEnd=function(e){this.ChangeActivityBtnStatus(e,!1),s.gg.panelRouter.show({panel:r.CommonPanelConfig.toastPanel,data:{text:l.i18n.getText("toast.ActivityEnd")}})},a([y({type:cc.Node,tooltip:"\u9996\u5145\u6309\u94ae"})],t.prototype,"firstRechargeBtnNode",void 0),a([y({type:cc.Node,tooltip:"\u7b49\u7ea7\u5956\u52b1\u6309\u94ae"})],t.prototype,"levelAwardBtnNode",void 0),a([y({type:cc.Node,tooltip:"7\u5929\u65b0\u624b\u4efb\u52a1"})],t.prototype,"noviceTaskBtnNode",void 0),a([y({type:cc.Node,tooltip:"vip\u5145\u503c\u6d3b\u52a8"})],t.prototype,"vipRechargeBtnNode",void 0),a([y({type:cc.Node,tooltip:"\u788e\u7247\u5b9d\u7bb1\u6d3b\u52a8"})],t.prototype,"boxChipBtnNode",void 0),a([y({type:cc.Node,tooltip:"\u8f6c\u8d26\u53cc\u500d\u6d3b\u52a8"})],t.prototype,"transferDoubleBtnNode",void 0),a([y({type:cc.Node,tooltip:"\u8c03\u67e5\u95ee\u5377\u6d3b\u52a8"})],t.prototype,"questionnaireBtnNode",void 0),a([m],t)}(cc.Component);n.default=_,cc._RF.pop()},{"../../configs/CommonPanelConfig":"CommonPanelConfig","../../framework/gg":"gg","../../framework/i18n/I18n":"I18n","../../systems/api/gameapi/GameApiModels":"GameApiModels","../../systems/firstRecharge/FirstRechargeUIEvent":"FirstRechargeUIEvent","../../systems/levelAward/LevelAwardUIEvent":"LevelAwardUIEvent","../../systems/lobby/LobbyHintSystem":"LobbyHintSystem","../../systems/ui/lobby/LobbyUIEvent":"LobbyUIEvent","../../systems/user/UserSystem":"UserSystem"}],LobbySceneBgmCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"a21d7+UzH5HfoZs2qgrSkeQ","LobbySceneBgmCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../configs/CommonAudioConfig"),s=e("../../framework/gg"),l=e("../../systems/gamesetting/GameSettingEvent"),c=e("../../systems/gamesetting/GameSettingSystem"),u=cc._decorator,p=u.ccclass,h=(u.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onLoad=function(){s.gg.audio.playMusic(r.CommonAudioConfig.bgm)},t.prototype.onDestroy=function(){s.gg.audio.stopMusic(r.CommonAudioConfig.bgm)},t.prototype.onEnable=function(){s.gg.eventManager.on(l.GameSettingEvent.OnMusicSwitchChaned,this._onMusicSwitchChanged,this)},t.prototype.onDisable=function(){s.gg.eventManager.offTarget(this)},t.prototype._onMusicSwitchChanged=function(){c.gameSettingSystem.setting.musicSwitch?s.gg.audio.playMusic(r.CommonAudioConfig.bgm):s.gg.audio.stopMusic(r.CommonAudioConfig.bgm)},a([p],t)}(cc.Component));n.default=h,cc._RF.pop()},{"../../configs/CommonAudioConfig":"CommonAudioConfig","../../framework/gg":"gg","../../systems/gamesetting/GameSettingEvent":"GameSettingEvent","../../systems/gamesetting/GameSettingSystem":"GameSettingSystem"}],LobbySceneBottomAnimCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"7ebbfh7DFpL+6/c7lHjs08b","LobbySceneBottomAnimCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=r.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bgNode=null,t.btnSpriteNodes=[],t.layout=null,t.storeBg=null,t}return i(t,e),t.prototype.onEnable=function(){var e;null===(e=this.layout.node.parent.getComponent(cc.Widget))||void 0===e||e.updateAlignment();var t=this.layout.node.parent.width-this.storeBg.width,n=0;this.layout.node.children.forEach(function(e){e.active&&(n+=e.width)});var o=(t-n)/(this.layout.node.childrenCount+1);this.layout.paddingLeft=o,this.layout.paddingRight=o,this.layout.spacingX=o,this.layout.updateLayout(),cc.Tween.stopAllByTarget(this.bgNode),this.bgNode.opacity=0,cc.tween(this.bgNode).to(.24,{opacity:40}).start(),this.btnSpriteNodes.forEach(function(e,t){cc.Tween.stopAllByTarget(e),e.opacity=0,e.position=cc.v3(0,-100),cc.tween(e).delay(.04*t).to(.16,{opacity:255}).start(),cc.tween(e).delay(.04*t).to(.48,{position:cc.v3()},{easing:"backOut"}).start()})},a([l(cc.Node)],t.prototype,"bgNode",void 0),a([l([cc.Node])],t.prototype,"btnSpriteNodes",void 0),a([l(cc.Layout)],t.prototype,"layout",void 0),a([l(cc.Node)],t.prototype,"storeBg",void 0),a([s],t)}(cc.Component);n.default=c,cc._RF.pop()},{}],LobbySceneCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"7e633qLIA5NhqGGLaOmM0J2","LobbySceneCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=e("../../configs/CommonPanelConfig"),u=e("../../configs/SceneConfig"),p=l(e("../../framework/asset/AssetLoader")),h=e("../../framework/gg"),d=e("../../framework/i18n/I18n"),f=e("../../systems/analysis/AnalysisEvent"),g=e("../../systems/analysis/AnalysisWrapper"),m=e("../../systems/game/GameQuickMatchSystem"),y=e("../../systems/gamews/WebSocketResponseCode"),_=e("../../systems/levelAward/LevelAwardUIEvent"),v=e("../../systems/qualifying/MainQualifyingSystem"),b=e("../../systems/remoteconfig/RemoteConfigModel"),S=e("../../systems/remoteconfig/RemoteConfigSystem"),C=e("../../systems/room/RoomModels"),I=e("../../systems/ui/GlobalClickEffectSystem"),R=e("../../systems/user/UserSystem"),L=e("../../systems/ui/lobby/LobbyUIEvent"),P=cc._decorator,M=P.ccclass,T=(P.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isOpenScene=!1,t}return i(t,e),t.prototype.onEnable=function(){this.isOpenScene=!1,h.gg.eventManager.on(L.LobbyUIEvent.LobbyGetInLudo,this.onLudoBtnClick,this),h.gg.eventManager.on(L.LobbyUIEvent.LobbyGetInBaloot,this.onClassicBalootBtnClick,this),h.gg.eventManager.on(L.LobbyUIEvent.LobbyGetInFastBaloot,this.onFastBalootBtnClick,this),h.gg.eventManager.on(L.LobbyUIEvent.LobbyGetInDoubleBaloot,this.onDoubleBalootBtnClick,this),h.gg.eventManager.on(L.LobbyUIEvent.LobbyGetInQualifyingBaloot,this.onQualifyingBalootBtnClick,this),h.gg.eventManager.on(L.LobbyUIEvent.LobbyGetInTurntable,this.onTurntableClick,this),h.gg.eventManager.on(_.LevelAwardUIEvent.onLevelFastBaloot,this.onFastBalootBtnClick,this)},t.prototype.onDisable=function(){I.globalClickEffectSystem.disable(),h.gg.eventManager.offTarget(this)},t.prototype.onTurntableClick=function(){var e,t,n;return r(this,void 0,void 0,function(){var o,i,a,r;return s(this,function(s){switch(s.label){case 0:return this.isOpenScene?[2]:(o=S.remoteConfigSystem.getConfig(b.RemoteCoinfigType.GameSwitch),null!=(null===(e=o.turntable)||void 0===e?void 0:e.level)&&(null===(t=R.userSystem.userModel)||void 0===t?void 0:t.level)>=o.turntable.level?(g.analysis.logEvent(f.AnalysisEvent.LobbyTurntableClick),this.isOpenScene=!0,h.gg.localStorage.setItem(R.userSystem.userModel.uid+"_animal_guide","1"),a=(i=cc.director).runScene,[4,p.default.loadBundleScene(u.SceneConfig.AnimalSpin.bundleName,u.SceneConfig.AnimalSpin.sceneName)]):[3,2]);case 1:return a.apply(i,[s.sent()]),[3,3];case 2:r=d.i18n.getText("toast.insufficientLevel"),null!=(null===(n=o.turntable)||void 0===n?void 0:n.level)&&(r=d.i18n.getText("toast.insufficientLevelTip",o.turntable.level)),h.gg.panelRouter.show({panel:c.CommonPanelConfig.toastPanel,data:{text:r}}),s.label=3;case 3:return[2]}})})},t.prototype.onProjectTableClick=function(){var e,t,n;return r(this,void 0,void 0,function(){var o,i,a,r;return s(this,function(s){switch(s.label){case 0:return this.isOpenScene?[2]:(o=S.remoteConfigSystem.getConfig(b.RemoteCoinfigType.GameSwitch),null!=(null===(e=o.projectTable)||void 0===e?void 0:e.level)&&(null===(t=R.userSystem.userModel)||void 0===t?void 0:t.level)>=o.projectTable.level?(this.isOpenScene=!0,h.gg.localStorage.setItem(R.userSystem.userModel.uid+"_project_guide","1"),g.analysis.logEvent(f.AnalysisEvent.LobbyProjectTableClick),a=(i=cc.director).runScene,[4,p.default.loadBundleScene(u.SceneConfig.projectTableScene.bundleName,u.SceneConfig.projectTableScene.sceneName)]):[3,2]);case 1:return a.apply(i,[s.sent()]),[3,3];case 2:r=d.i18n.getText("toast.insufficientLevel"),null!=(null===(n=o.projectTable)||void 0===n?void 0:n.level)&&(r=d.i18n.getText("toast.insufficientLevelTip",o.projectTable.level)),h.gg.panelRouter.show({panel:c.CommonPanelConfig.toastPanel,data:{text:r}}),s.label=3;case 3:return[2]}})})},t.prototype.onMoreGameClick=function(){var e,t,n;return r(this,void 0,void 0,function(){var o,i,a=this;return s(this,function(){return this.isOpenScene?[2]:(o=S.remoteConfigSystem.getConfig(b.RemoteCoinfigType.GameSwitch),null!=(null===(e=o.moreGame)||void 0===e?void 0:e.level)&&(null===(t=R.userSystem.userModel)||void 0===t?void 0:t.level)>=o.moreGame.level?(g.analysis.logEvent(f.AnalysisEvent.LobbyMoreGameClick),h.gg.localStorage.setItem(R.userSystem.userModel.uid+"_more_guide","1"),h.gg.panelRouter.show({panel:c.CommonPanelConfig.moreGamePanel,onShowed:function(){a.isOpenScene=!1}})):(i=d.i18n.getText("toast.insufficientLevel"),null!=(null===(n=o.moreGame)||void 0===n?void 0:n.level)&&(i=d.i18n.getText("toast.insufficientLevelTip",o.moreGame.level)),h.gg.panelRouter.show({panel:c.CommonPanelConfig.toastPanel,data:{text:i}})),[2])})})},t.prototype.onDoubleBtnClick=function(){return r(this,void 0,void 0,function(){var e,t;return s(this,function(n){switch(n.label){case 0:return this.isOpenScene?[2]:(this.isOpenScene=!0,h.gg.localStorage.setItem(R.userSystem.userModel.uid+"_double_guide","1"),g.analysis.logEvent(f.AnalysisEvent.LobbyDoubleBalootClick),t=(e=cc.director).runScene,[4,p.default.loadBundleScene(u.SceneConfig.DoubleBalootScene.bundleName,u.SceneConfig.DoubleBalootScene.sceneName)]);case 1:return t.apply(e,[n.sent()]),[2]}})})},t.prototype.onLudoBtnClick=function(){return r(this,void 0,void 0,function(){var e,t;return s(this,function(n){switch(n.label){case 0:return this.isOpenScene?[2]:(this.isOpenScene=!0,g.analysis.logEvent(f.AnalysisEvent.LobbyLudoClick),t=(e=cc.director).runScene,[4,p.default.loadBundleScene(u.SceneConfig.LudoScene.bundleName,u.SceneConfig.LudoScene.sceneName)]);case 1:return t.apply(e,[n.sent()]),[2]}})})},t.prototype.onQualifyingBalootBtnClick=function(){var e,t,n;return r(this,void 0,void 0,function(){var o,i,a,r,l,m;return s(this,function(s){switch(s.label){case 0:return this.isOpenScene?[2]:(o=S.remoteConfigSystem.getConfig(b.RemoteCoinfigType.GameSwitch),i=null!==(t=null===(e=null==o?void 0:o.qualifyingBaloot)||void 0===e?void 0:e.level)&&void 0!==t?t:3,(null===(n=R.userSystem.userModel)||void 0===n?void 0:n.level)>=i?(this.isOpenScene=!0,h.gg.localStorage.setItem(R.userSystem.userModel.uid+"_qualifying_guide","1"),[4,v.mainQualifyingSystem.joinQualifyingRoom({game_id:C.GameId.Baloot,room_id:""})]):[3,5]);case 1:return 1!=(a=s.sent()).status?[3,3]:(g.analysis.logEvent(f.AnalysisEvent.LobbyQualifyingBalootClick),h.gg.localStorage.setItem(R.userSystem.userModel.uid+"_show_qualifying_guide","1"),l=(r=cc.director).runScene,[4,p.default.loadBundleScene(u.SceneConfig.QualifyingBalootScene.bundleName,u.SceneConfig.QualifyingBalootScene.sceneName)]);case 2:return l.apply(r,[s.sent()]),[3,4];case 3:m=d.i18n.getText("toast.joinRoomFailed"),(null==a?void 0:a.status)==y.WebSocketResponseCode.LevelIsNotEnough&&(m=d.i18n.getText("toast.qualifyingRoomLevel",null==a?void 0:a.min_level)),h.gg.panelRouter.show({panel:c.CommonPanelConfig.toastPanel,data:{text:m}}),this.isOpenScene=!1,s.label=4;case 4:return[3,6];case 5:h.gg.panelRouter.show({panel:c.CommonPanelConfig.toastPanel,data:{text:d.i18n.getText("toast.insufficientLevelTip",i)}}),s.label=6;case 6:return[2]}})})},t.prototype.onDoubleBalootBtnClick=function(){return r(this,void 0,void 0,function(){var e,t;return s(this,function(n){switch(n.label){case 0:return this.isOpenScene?[2]:(this.isOpenScene=!0,g.analysis.logEvent(f.AnalysisEvent.LobbyDoubleBalootClick),t=(e=cc.director).runScene,[4,p.default.loadBundleScene(u.SceneConfig.DoubleBalootScene.bundleName,u.SceneConfig.DoubleBalootScene.sceneName)]);case 1:return t.apply(e,[n.sent()]),[2]}})})},t.prototype.onFastBalootBtnClick=function(){return r(this,void 0,void 0,function(){var e,t;return s(this,function(n){switch(n.label){case 0:return this.isOpenScene?[2]:(this.isOpenScene=!0,g.analysis.logEvent(f.AnalysisEvent.LobbyFastBalootClick),t=(e=cc.director).runScene,[4,p.default.loadBundleScene(u.SceneConfig.FastBalootScene.bundleName,u.SceneConfig.FastBalootScene.sceneName)]);case 1:return t.apply(e,[n.sent()]),[2]}})})},t.prototype.onClassicBalootBtnClick=function(){return r(this,void 0,void 0,function(){var e,t;return s(this,function(n){switch(n.label){case 0:return this.isOpenScene?[2]:(this.isOpenScene=!0,g.analysis.logEvent(f.AnalysisEvent.LobbyBalootClick),t=(e=cc.director).runScene,[4,p.default.loadBundleScene(u.SceneConfig.ClassicBalootScene.bundleName,u.SceneConfig.ClassicBalootScene.sceneName)]);case 1:return t.apply(e,[n.sent()]),[2]}})})},t.prototype.onClassicBalootQuickMatchBtnClick=function(){return r(this,void 0,void 0,function(){var e,t;return s(this,function(n){switch(n.label){case 0:return this.isOpenScene?[2]:(this.isOpenScene=!0,g.analysis.logEvent(f.AnalysisEvent.LobbyBalootQuickMatchClick),m.gameQuickMatchSystem.baloot={gameId:C.GameId.Baloot,roomId:C.RoomId.BalootDefaultRoom,tableId:null},t=(e=cc.director).runScene,[4,p.default.loadBundleScene(u.SceneConfig.ClassicBalootScene.bundleName,u.SceneConfig.ClassicBalootScene.sceneName)]);case 1:return t.apply(e,[n.sent()]),[2]}})})},a([M],t)}(cc.Component));n.default=T,cc._RF.pop()},{"../../configs/CommonPanelConfig":"CommonPanelConfig","../../configs/SceneConfig":"SceneConfig","../../framework/asset/AssetLoader":"AssetLoader","../../framework/gg":"gg","../../framework/i18n/I18n":"I18n","../../systems/analysis/AnalysisEvent":"AnalysisEvent","../../systems/analysis/AnalysisWrapper":"AnalysisWrapper","../../systems/game/GameQuickMatchSystem":"GameQuickMatchSystem","../../systems/gamews/WebSocketResponseCode":"WebSocketResponseCode","../../systems/levelAward/LevelAwardUIEvent":"LevelAwardUIEvent","../../systems/qualifying/MainQualifyingSystem":"MainQualifyingSystem","../../systems/remoteconfig/RemoteConfigModel":"RemoteConfigModel","../../systems/remoteconfig/RemoteConfigSystem":"RemoteConfigSystem","../../systems/room/RoomModels":"RoomModels","../../systems/ui/GlobalClickEffectSystem":"GlobalClickEffectSystem","../../systems/ui/lobby/LobbyUIEvent":"LobbyUIEvent","../../systems/user/UserSystem":"UserSystem"}],LobbySceneEntranceVisabilityCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"1debdD9+2hHQoyvO20eBFqo","LobbySceneEntranceVisabilityCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../framework/gg"),s=e("../../systems/remoteconfig/RemoteConfigModel"),l=e("../../systems/remoteconfig/RemoteConfigSystem"),c=e("../../systems/user/UserSystem"),u=cc._decorator,p=u.ccclass,h=u.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.balootEntranceNode=null,t.ludoEntranceNode=null,t.gpludoEntranceNode=null,t.storeBtnNode=null,t.feedbackBtnNode=null,t.moreGameLockNode=null,t.projectTableLockNode=null,t.turntableLockNode=null,t.qualifyingLockNode=null,t.qualifyingHeartNode=null,t.qualifyingHeartLab=null,t.transferLockNode=null,t.gpLay=null,t.iosLay=null,t}return i(t,e),t.prototype.onLoad=function(){var e,t,n,o,i,a,u,p,h,d,f,g,m,y,_;this.gpLay.active=!0,this.iosLay.active=!1;var v=l.remoteConfigSystem.getConfig(s.RemoteCoinfigType.MoreGameSwitch);(cc.sys.os===cc.sys.OS_IOS||(null==v?void 0:v.open)&&(null===(e=c.userSystem.userModel)||void 0===e?void 0:e.level)>=v.level)&&(this.gpLay.active=!1,this.iosLay.active=!0),this.moreGameLockNode.active=!0,this.projectTableLockNode.active=!0,this.turntableLockNode.active=!0,this.qualifyingLockNode.active=!0,this.qualifyingHeartNode.active=!1,this.transferLockNode.active=!1;var b=l.remoteConfigSystem.getConfig(s.RemoteCoinfigType.GameSwitch);r.gg.logger.log("\u6e38\u620f\u5165\u53e3\u4e91\u63a7\u914d\u7f6e",b),b&&(this.balootEntranceNode.active=null==b.baloot||b.baloot,this.ludoEntranceNode.active=null==b.ludo||b.ludo,this.gpludoEntranceNode.active=null==b.ludo||b.ludo,null!=(null===(t=b.turntable)||void 0===t?void 0:t.level)&&(null===(n=c.userSystem.userModel)||void 0===n?void 0:n.level)>=b.turntable.level&&(this.turntableLockNode.active=!1),null!=(null===(o=b.projectTable)||void 0===o?void 0:o.level)&&(null===(i=c.userSystem.userModel)||void 0===i?void 0:i.level)>=b.projectTable.level&&(this.projectTableLockNode.active=!1),null!=(null===(a=b.moreGame)||void 0===a?void 0:a.level)&&(null===(u=c.userSystem.userModel)||void 0===u?void 0:u.level)>=b.moreGame.level&&(this.moreGameLockNode.active=!1),(null===(p=c.userSystem.userModel)||void 0===p?void 0:p.level)>=(null===(h=null==b?void 0:b.qualifyingBaloot)||void 0===h?void 0:h.level)&&(this.qualifyingLockNode.active=!1,this.qualifyingHeartLab.string=null!==(f=""+(null===(d=c.userSystem.userModel)||void 0===d?void 0:d.heart))&&void 0!==f?f:"0",(null===(g=c.userSystem.userModel)||void 0===g?void 0:g.heart)&&c.userSystem.userModel.heart>0&&(this.qualifyingHeartNode.active=!0)));var S=l.remoteConfigSystem.getConfig(s.RemoteCoinfigType.PayConfig);this.storeBtnNode.active=null==S||null==S.enable||S.enable;var C=l.remoteConfigSystem.getConfig(s.RemoteCoinfigType.Feedback);this.feedbackBtnNode.active=C&&C.enable&&null!=C.staff_service_url;var I=null!==(y=null===(m=b.transfer)||void 0===m?void 0:m.level)&&void 0!==y?y:4;(null===(_=c.userSystem.userModel)||void 0===_?void 0:_.level)<I&&(this.transferLockNode.active=!0)},a([h({type:cc.Node,tooltip:"\u7ecf\u5178baloot\u5165\u53e3"})],t.prototype,"balootEntranceNode",void 0),a([h({type:cc.Node,tooltip:"\u7ecf\u5178ludo\u5165\u53e3"})],t.prototype,"ludoEntranceNode",void 0),a([h({type:cc.Node,tooltip:"gp\u7ecf\u5178ludo\u5165\u53e3"})],t.prototype,"gpludoEntranceNode",void 0),a([h({type:cc.Node,tooltip:"\u5546\u57ce\u6309\u94ae"})],t.prototype,"storeBtnNode",void 0),a([h({type:cc.Node,tooltip:"\u5ba2\u670d\u6309\u94ae"})],t.prototype,"feedbackBtnNode",void 0),a([h({type:cc.Node,tooltip:"\u66f4\u591a\u6e38\u620f\u5165\u53e3\u9501"})],t.prototype,"moreGameLockNode",void 0),a([h({type:cc.Node,tooltip:"baloot\u7ec4\u5408\u724c\u6e38\u620f\u5165\u53e3\u9501"})],t.prototype,"projectTableLockNode",void 0),a([h({type:cc.Node,tooltip:"\u8f6c\u76d8\u6e38\u620f\u5165\u53e3\u9501"})],t.prototype,"turntableLockNode",void 0),a([h({type:cc.Node,tooltip:"\u6392\u4f4d\u8d5b\u5165\u53e3\u9501"})],t.prototype,"qualifyingLockNode",void 0),a([h({type:cc.Node,tooltip:"\u4f53\u529b\u503c\u8282\u70b9"})],t.prototype,"qualifyingHeartNode",void 0),a([h({type:cc.Label,tooltip:"\u4f53\u529b\u503c\u8282\u70b9"})],t.prototype,"qualifyingHeartLab",void 0),a([h({type:cc.Node,tooltip:"\u8f6c\u589e\u529f\u80fd\u5165\u53e3\u9501"})],t.prototype,"transferLockNode",void 0),a([h({type:cc.Node,tooltip:"gp\u5e03\u5c40"})],t.prototype,"gpLay",void 0),a([h({type:cc.Node,tooltip:"ios\u5e03\u5c40"})],t.prototype,"iosLay",void 0),a([p],t)}(cc.Component);n.default=d,cc._RF.pop()},{"../../framework/gg":"gg","../../systems/remoteconfig/RemoteConfigModel":"RemoteConfigModel","../../systems/remoteconfig/RemoteConfigSystem":"RemoteConfigSystem","../../systems/user/UserSystem":"UserSystem"}],LobbySceneGameAnimCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"de20cc1w89ADZcQnglusIST","LobbySceneGameAnimCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=r.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gameEntranceAnimNode=null,t}return i(t,e),t.prototype.onEnable=function(){cc.Tween.stopAllByTarget(this.gameEntranceAnimNode),this.gameEntranceAnimNode.opacity=0,this.gameEntranceAnimNode.position=cc.v3(100,0),cc.tween(this.gameEntranceAnimNode).to(.16,{opacity:255}).start(),cc.tween(this.gameEntranceAnimNode).to(.48,{position:cc.v3()},{easing:"backOut"}).start()},a([l(cc.Node)],t.prototype,"gameEntranceAnimNode",void 0),a([s],t)}(cc.Component);n.default=c,cc._RF.pop()},{}],LobbySceneGameGuideCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"db560EqnLNCBInNDPjUVLMy","LobbySceneGameGuideCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../framework/gg"),s=e("../../systems/remoteconfig/RemoteConfigModel"),l=e("../../systems/remoteconfig/RemoteConfigSystem"),c=e("../../systems/user/UserSystem"),u=cc._decorator,p=u.ccclass,h=u.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fingerNode=null,t.doubleBalootEntranceNode=null,t.qualifyingBalootEntranceNode=null,t.animalSpinEntranceNode=null,t.protectTableEntranceNode=null,t.moreGameEntranceNode=null,t}return i(t,e),t.prototype.onLoad=function(){this.fingerNode.active=!1},t.prototype.start=function(){var e,t,n,o=l.remoteConfigSystem.getConfig(s.RemoteCoinfigType.MoreGameSwitch);return c.userSystem.userModel.level>=1&&""==r.gg.localStorage.getItem(c.userSystem.userModel.uid+"_double_guide")&&1==c.userSystem.userModel.level?(this.fingerNode.active=!0,this.fingerNode.position=this.fingerNode.parent.convertToNodeSpaceAR(this.doubleBalootEntranceNode.parent.convertToWorldSpaceAR(this.doubleBalootEntranceNode.position)),void r.gg.localStorage.setItem(c.userSystem.userModel.uid+"_double_guide","1")):c.userSystem.userModel.level>=3&&""==r.gg.localStorage.getItem(c.userSystem.userModel.uid+"_qualifying_guide")?(this.fingerNode.active=!0,this.fingerNode.position=this.fingerNode.parent.convertToNodeSpaceAR(this.qualifyingBalootEntranceNode.parent.convertToWorldSpaceAR(this.qualifyingBalootEntranceNode.position)),void r.gg.localStorage.setItem(c.userSystem.userModel.uid+"_qualifying_guide","1")):(c.userSystem.userModel.level>=4&&cc.sys.os!=cc.sys.OS_ANDROID||c.userSystem.userModel.level>=4&&(null==o?void 0:o.open)&&(null===(e=c.userSystem.userModel)||void 0===e?void 0:e.level)>=o.level)&&""==r.gg.localStorage.getItem(c.userSystem.userModel.uid+"_animal_guide")?(this.fingerNode.active=!0,this.fingerNode.position=this.fingerNode.parent.convertToNodeSpaceAR(this.animalSpinEntranceNode.parent.convertToWorldSpaceAR(this.animalSpinEntranceNode.position)),void r.gg.localStorage.setItem(c.userSystem.userModel.uid+"_animal_guide","1")):(c.userSystem.userModel.level>=5&&cc.sys.os!=cc.sys.OS_ANDROID||c.userSystem.userModel.level>=5&&(null==o?void 0:o.open)&&(null===(t=c.userSystem.userModel)||void 0===t?void 0:t.level)>=o.level)&&""==r.gg.localStorage.getItem(c.userSystem.userModel.uid+"_project_guide")?(this.fingerNode.active=!0,this.fingerNode.position=this.fingerNode.parent.convertToNodeSpaceAR(this.protectTableEntranceNode.parent.convertToWorldSpaceAR(this.protectTableEntranceNode.position)),void r.gg.localStorage.setItem(c.userSystem.userModel.uid+"_project_guide","1")):(c.userSystem.userModel.level>=6&&cc.sys.os!=cc.sys.OS_ANDROID||c.userSystem.userModel.level>=6&&(null==o?void 0:o.open)&&(null===(n=c.userSystem.userModel)||void 0===n?void 0:n.level)>=o.level)&&""==r.gg.localStorage.getItem(c.userSystem.userModel.uid+"_more_guide")?(this.fingerNode.active=!0,this.fingerNode.position=this.fingerNode.parent.convertToNodeSpaceAR(this.moreGameEntranceNode.parent.convertToWorldSpaceAR(this.moreGameEntranceNode.position)),void r.gg.localStorage.setItem(c.userSystem.userModel.uid+"_more_guide","1")):void 0},a([h({type:cc.Node,tooltip:"\u624b\u6307\u5f15\u5bfc\u8282\u70b9"})],t.prototype,"fingerNode",void 0),a([h({type:cc.Node,tooltip:"\u52a0\u500dbaloot\u5165\u53e3"})],t.prototype,"doubleBalootEntranceNode",void 0),a([h({type:cc.Node,tooltip:"\u6392\u4f4d\u8d5bbaloot\u5165\u53e3"})],t.prototype,"qualifyingBalootEntranceNode",void 0),a([h({type:cc.Node,tooltip:"\u52a8\u7269\u8f6c\u76d8\u5165\u53e3"})],t.prototype,"animalSpinEntranceNode",void 0),a([h({type:cc.Node,tooltip:"baloot\u7ec4\u5408\u6311\u6218"})],t.prototype,"protectTableEntranceNode",void 0),a([h({type:cc.Node,tooltip:"\u66f4\u591a\u6e38\u620f"})],t.prototype,"moreGameEntranceNode",void 0),a([p],t)}(cc.Component);n.default=d,cc._RF.pop()},{"../../framework/gg":"gg","../../systems/remoteconfig/RemoteConfigModel":"RemoteConfigModel","../../systems/remoteconfig/RemoteConfigSystem":"RemoteConfigSystem","../../systems/user/UserSystem":"UserSystem"}],LobbySceneHintCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"792fexlEfFDm4Lx/9mQZKro","LobbySceneHintCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.HintReddot=void 0;var r=e("../../framework/gg"),s=e("../../systems/api/gameapi/GameApiModels"),l=e("../../systems/lobby/LobbyHintSystem"),c=e("../../systems/remoteconfig/RemoteConfigModel"),u=e("../../systems/remoteconfig/RemoteConfigSystem"),p=e("../../systems/user/UserSystem"),h=e("../../systems/ui/lobby/LobbyUIEvent"),d=cc._decorator,f=d.ccclass,g=d.property,m=function(){function e(){this.hintNode=null,this.hintLab=null,this.hintType="",this.hintCountType=""}return a([g({type:cc.Node,tooltip:"\u63d0\u793a\u8282\u70b9"})],e.prototype,"hintNode",void 0),a([g({type:cc.Label,tooltip:"\u63d0\u793a\u4e2a\u6570"})],e.prototype,"hintLab",void 0),a([g({tooltip:"\u663e\u793a\u5bf9\u5e94\u679a\u4e3e"})],e.prototype,"hintType",void 0),a([g({tooltip:"\u4e2a\u6570\u5bf9\u5e94\u679a\u4e3e"})],e.prototype,"hintCountType",void 0),a([f("Hint")],e)}();n.HintReddot=m;var y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hintReddot=[],t}return i(t,e),t.prototype.onEnable=function(){for(var e=0,t=this.hintReddot;e<t.length;e++)t[e].hintNode.active=!1;r.gg.eventManager.on(h.LobbyUIEvent.onLobbyHintResponse,this._onLobbyHintResponse,this),r.gg.eventManager.on(h.LobbyUIEvent.onLobbyHideCommonHint,this._onLobbyHideCommonHint,this),l.lobbyHintSystem.enable()},t.prototype.onDisable=function(){l.lobbyHintSystem.disable(),r.gg.eventManager.offTarget(this)},t.prototype._onLobbyHintResponse=function(){for(var e,t,n=0,o=this.hintReddot;n<o.length;n++){var i=o[n],a=i.hintType,r=i.hintCountType;if(i.hintNode.active=!1,i.hintLab&&(i.hintLab.string=""),Object.prototype.hasOwnProperty.call(l.lobbyHintSystem.hintStatusData,a)&&l.lobbyHintSystem.hintStatusData[a])if(a==s.LobbyHintEnum.animalSpinReddot){var h=u.remoteConfigSystem.getConfig(c.RemoteCoinfigType.GameSwitch);null!=(null===(e=h.turntable)||void 0===e?void 0:e.level)&&(null===(t=p.userSystem.userModel)||void 0===t?void 0:t.level)>=h.turntable.level&&(i.hintNode.active=!0)}else i.hintNode.active=!0;if(Object.prototype.hasOwnProperty.call(l.lobbyHintSystem.hintCountData,r)){var d=l.lobbyHintSystem.hintCountData[r];d&&d>1&&(i.hintLab.string=d>99?"99+":d+"")}}},t.prototype._onLobbyHideCommonHint=function(e){for(var t=0,n=this.hintReddot;t<n.length;t++){var o=n[t];e===o.hintType&&(o.hintNode.active=!1)}},a([g({type:m,tooltip:"\u6240\u6709\u7ea2\u70b9"})],t.prototype,"hintReddot",void 0),a([f],t)}(cc.Component);n.default=y,cc._RF.pop()},{"../../framework/gg":"gg","../../systems/api/gameapi/GameApiModels":"GameApiModels","../../systems/lobby/LobbyHintSystem":"LobbyHintSystem","../../systems/remoteconfig/RemoteConfigModel":"RemoteConfigModel","../../systems/remoteconfig/RemoteConfigSystem":"RemoteConfigSystem","../../systems/ui/lobby/LobbyUIEvent":"LobbyUIEvent","../../systems/user/UserSystem":"UserSystem"}],LobbySceneIMWorldChatRoomMessageCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"6b0651zXyFKv4PQABAy4suC","LobbySceneIMWorldChatRoomMessageCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../configs/CommonPanelConfig"),l=e("../../framework/gg"),c=r(e("../../framework/utils/StringUtils")),u=e("../../prefabs/panels/im/IMPanel"),p=e("../../systems/im/IMSystem"),h=e("../../systems/im/IMSystemEvent"),d=e("../../systems/im/IMSystemModel"),f=e("../../systems/user/UserSystem"),g=cc._decorator,m=g.ccclass,y=g.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nameLabel=null,t.dividerLabel=null,t.msgLabel=null,t._curShowMsg=null,t}return i(t,e),t.prototype.onClick=function(){l.gg.panelRouter.show({panel:s.CommonPanelConfig.imPanel,data:{entrance:u.IMEntrance.Lobby}})},t.prototype.onLoad=function(){this.nameLabel.string="",this.dividerLabel.string="",this.msgLabel.string=""},t.prototype.onEnable=function(){l.gg.eventManager.on(h.IMSystemEvent.OnNewMessageInserted,this._onNewMessageInserted,this),l.gg.eventManager.on(h.IMSystemEvent.OnMessageSendBlocked,this._onMessageSendBlocked,this)},t.prototype.onDisable=function(){l.gg.eventManager.offTarget(this),this.nameLabel.string="",this.dividerLabel.string="",this.msgLabel.string="",this._curShowMsg=null},t.prototype._onNewMessageInserted=function(e,t){if(p.imSystem.worldChatRoomId&&p.imSystem.isConversationExist(p.imSystem.worldChatRoomId)&&e==p.imSystem.worldChatRoomId){if(this._curShowMsg=t,t instanceof d.IMTextMessageModel)return void this._updateMessage(t.user_id,t.text);if(t instanceof d.IMEmojiMessageModel)return void this._updateMessage(t.user_id,t.text);if(t instanceof d.IMGameMessageModel)return void this._updateMessage(t.user_id,t.text)}},t.prototype._onMessageSendBlocked=function(e,t){this._curShowMsg==t&&this._curShowMsg instanceof d.IMTextMessageModel&&this._updateMessage(this._curShowMsg.user_id,"****")},t.prototype._updateMessage=function(e,t){var n,o,i,a=this;if(e==f.userSystem.userModel.uid)this.nameLabel.string=null!==(o=c.default.clampStr(null===(n=f.userSystem.userModel)||void 0===n?void 0:n.userName,15))&&void 0!==o?o:"",this.dividerLabel.string=":",this.msgLabel.string=t;else{var r=f.userSystem.otherUserCaches.get(e);r?(this.nameLabel.string=null!==(i=c.default.clampStr(r.nick,15))&&void 0!==i?i:"",this.dividerLabel.string=":",this.msgLabel.string=t):f.userSystem.searchUserAsync({uid:e}).then(function(n){var o;1==n.status&&n.user.uid==e&&(a.nameLabel.string=null!==(o=c.default.clampStr(n.user.nick,15))&&void 0!==o?o:"",a.dividerLabel.string=":",a.msgLabel.string=t)})}},a([y({type:cc.Label,tooltip:"\u73a9\u5bb6\u540d\u5b57"})],t.prototype,"nameLabel",void 0),a([y({type:cc.Label,tooltip:"\u7b26\u53f7\u95f4\u9694"})],t.prototype,"dividerLabel",void 0),a([y({type:cc.Label,tooltip:"\u6d88\u606f\u6587\u672c"})],t.prototype,"msgLabel",void 0),a([m],t)}(cc.Component);n.default=_,cc._RF.pop()},{"../../configs/CommonPanelConfig":"CommonPanelConfig","../../framework/gg":"gg","../../framework/utils/StringUtils":"StringUtils","../../prefabs/panels/im/IMPanel":"IMPanel","../../systems/im/IMSystem":"IMSystem","../../systems/im/IMSystemEvent":"IMSystemEvent","../../systems/im/IMSystemModel":"IMSystemModel","../../systems/user/UserSystem":"UserSystem"}],LobbySceneIMWorldChatRoomVisibilityCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"a6aff4nl9tLVKe89UzyoUSG","LobbySceneIMWorldChatRoomVisibilityCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../framework/gg"),s=e("../../systems/im/IMSystem"),l=e("../../systems/im/IMSystemEvent"),c=cc._decorator,u=c.ccclass,p=c.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.worldChatRoomNode=null,t}return i(t,e),t.prototype.onLoad=function(){this._updateEntranceVisable()},t.prototype.onEnable=function(){this._updateEntranceVisable(),r.gg.eventManager.on(l.IMSystemEvent.OnConversionInserted,this._onConversionInserted,this)},t.prototype.onDisable=function(){r.gg.eventManager.offTarget(this)},t.prototype._onConversionInserted=function(e){e.target_id==s.imSystem.worldChatRoomId&&this._updateEntranceVisable()},t.prototype._updateEntranceVisable=function(){},a([p({type:cc.Node,tooltip:"\u4e16\u754c\u804a\u5929\u5ba4\u8282\u70b9"})],t.prototype,"worldChatRoomNode",void 0),a([u],t)}(cc.Component);n.default=h,cc._RF.pop()},{"../../framework/gg":"gg","../../systems/im/IMSystem":"IMSystem","../../systems/im/IMSystemEvent":"IMSystemEvent"}],LobbyScenePanelCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"bcf20NVP29B+4LeCkbNy0ft","LobbyScenePanelCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var l=e("../../configs/CommonPanelConfig"),c=e("../../framework/gg"),u=e("../../framework/i18n/I18n"),p=e("../../prefabs/panels/levelAward/LevelAwardPanel"),h=e("../../prefabs/panels/transfer/TransferPanel"),d=e("../../systems/api/gameapi/GameApi"),f=e("../../systems/api/gameapi/GameApiModels"),g=e("../../systems/feedback/FeedbackSystem"),m=e("../../systems/firstRecharge/FirstRechargeModel"),y=e("../../systems/firstRecharge/FirstRechargeSystem"),_=e("../../systems/remoteconfig/RemoteConfigModel"),v=e("../../systems/remoteconfig/RemoteConfigSystem"),b=e("../../systems/transferDouble/TransferDoubleSystem"),S=e("../../systems/ui/GlobalClickEffectSystem"),C=e("../../systems/user/UserSystem"),I=e("../../systems/vipRecharge/VipRechargeSystem"),R=e("../../systems/ui/lobby/LobbyUIEvent"),L=e("../../systems/analysis/AnalysisWrapper"),P=e("../../systems/analysis/AnalysisEvent"),M=cc._decorator,T=M.ccclass,E=(M.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isTransferDoubleGuide=!1,t}return i(t,e),t.prototype.onEnable=function(){this.isTransferDoubleGuide=!1,c.gg.eventManager.on(R.LobbyUIEvent.TransferDoubleGuideEvent,this.onTransferDoubleGuide,this),S.globalClickEffectSystem.enable()},t.prototype.onDisable=function(){S.globalClickEffectSystem.disable(),c.gg.eventManager.offTarget(this)},t.prototype.onTransferDoubleGuide=function(){this.isTransferDoubleGuide=!0},t.prototype.onStoreBtnClick=function(){c.gg.panelRouter.show({panel:l.CommonPanelConfig.storePanel})},t.prototype.onTaskBtnClick=function(){c.gg.panelRouter.show({panel:l.CommonPanelConfig.taskPanel}),c.gg.eventManager.emit(R.LobbyUIEvent.onLobbyHideCommonHint,f.LobbyHintEnum.TaskReddot)},t.prototype.onFriendBtnClick=function(){var e=0;this.isTransferDoubleGuide&&(e=1),c.gg.panelRouter.show({panel:l.CommonPanelConfig.friendSystemPanel,data:{system_friend:e}}),this.isTransferDoubleGuide=!1,c.gg.eventManager.emit(R.LobbyUIEvent.onLobbyHideCommonHint,f.LobbyHintEnum.FriendReddot)},t.prototype.onTransferBtnClick=function(){var e,t,n,o=null!==(t=null===(e=v.remoteConfigSystem.getConfig(_.RemoteCoinfigType.GameSwitch).transfer)||void 0===e?void 0:e.level)&&void 0!==t?t:4;if((null===(n=C.userSystem.userModel)||void 0===n?void 0:n.level)>=o)L.analysis.logEvent(P.AnalysisEvent.TransferFriendClick),c.gg.panelRouter.show({panel:l.CommonPanelConfig.transferPanel,data:{openType:h.TransferOpenType.Lobby}});else{var i=u.i18n.getText("toast.insufficientLevelFunTip",o);c.gg.panelRouter.show({panel:l.CommonPanelConfig.toastPanel,data:{text:i}})}},t.prototype.onDailyCheckInBtnClick=function(){c.gg.panelRouter.show({panel:l.CommonPanelConfig.dailyCheckInPanel}),c.gg.eventManager.emit(R.LobbyUIEvent.onLobbyHideCommonHint,f.LobbyHintEnum.SignInReddot)},t.prototype.onMailBtnClick=function(){c.gg.panelRouter.show({panel:l.CommonPanelConfig.mailPanel}),c.gg.eventManager.emit(R.LobbyUIEvent.onLobbyHideCommonHint,f.LobbyHintEnum.MailReddot)},t.prototype.onFeedBackBtnClick=function(){c.gg.panelRouter.show({panel:l.CommonPanelConfig.feedbackPanel}),c.gg.eventManager.emit(R.LobbyUIEvent.onLobbyHideCommonHint,f.LobbyHintEnum.ServiceReddot)},t.prototype.onSettingBtnClick=function(){c.gg.panelRouter.show({panel:l.CommonPanelConfig.settingpanel})},t.prototype.onUserInfoBtnClick=function(){c.gg.panelRouter.show({panel:l.CommonPanelConfig.userInfoPanel,data:{isRevise:!0,qurey_uid:C.userSystem.userModel.uid,userName:C.userSystem.userModel.userName,userIcon:C.userSystem.userModel.userIcon,userIconFrame:C.userSystem.userModel.userIconFrame}})},t.prototype.onPackageBtnClick=function(){L.analysis.logEvent(P.AnalysisEvent.BagLobbyClick),c.gg.panelRouter.show({panel:l.CommonPanelConfig.packagePanel})},t.prototype.onFreeBtnClick=function(){c.gg.panelRouter.show({panel:l.CommonPanelConfig.rewardGalleryPanel})},t.prototype.onCihpActivityBtnClick=function(){return r(this,void 0,Promise,function(){var e;return s(this,function(t){switch(t.label){case 0:return c.gg.panelRouter.show({panel:l.CommonPanelConfig.loadingPanel,data:{immediately:!0}}),[4,d.gameApi.getChipInfo().catch(function(){return null})];case 1:return 1===(null==(e=t.sent())?void 0:e.status)&&e.data?(c.gg.panelRouter.hide({panel:l.CommonPanelConfig.loadingPanel}),c.gg.panelRouter.show({panel:l.CommonPanelConfig.ChipActivityPanel,data:e.data})):(c.gg.panelRouter.hide({panel:l.CommonPanelConfig.loadingPanel}),c.gg.panelRouter.show({panel:l.CommonPanelConfig.toastPanel,data:{text:u.i18n.getText("toast.getChipInfoFail")}})),[2]}})})},t.prototype.onFirstRechargeBtnClick=function(){y.firstRechargeSystem.loadFirstRechargeGoods().then(function(e){e?(c.gg.panelRouter.show({panel:l.CommonPanelConfig.firstRechargePanel,data:{openModel:m.FirstRechargeOpenModel.FromLobbyScene}}),c.gg.eventManager.emit(R.LobbyUIEvent.onLobbyHideCommonHint,f.LobbyHintEnum.FirstRechargeReddot),y.firstRechargeSystem.setLobbyFirstRechargeHintStatus()):c.gg.panelRouter.show({panel:l.CommonPanelConfig.toastPanel,data:{text:u.i18n.getText("toast.loadGoodsListFailed")}})}).catch(function(){c.gg.panelRouter.show({panel:l.CommonPanelConfig.toastPanel,data:{text:u.i18n.getText("toast.loadGoodsListFailed")}})})},t.prototype.onLevelAwardBtnClick=function(){c.gg.panelRouter.show({panel:l.CommonPanelConfig.levelAwardPanel,data:{openLevelType:p.OpenLevelType.Lobby}}),c.gg.eventManager.emit(R.LobbyUIEvent.onLobbyHideCommonHint,f.LobbyHintEnum.LevelAwardReddot)},t.prototype.onNoviceTastClick=function(){c.gg.panelRouter.show({panel:l.CommonPanelConfig.noviceSevenDaysPanel}),c.gg.eventManager.emit(R.LobbyUIEvent.onLobbyHideCommonHint,f.LobbyHintEnum.NewPlayerReddot)},t.prototype.onVipRechargeClick=function(){return r(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return[4,I.vipRechargeSystem._getVipRechargeInfo().catch(function(e){return c.gg.logger.error("\u83b7\u53d6vip\u5145\u7ea7\u6d3b\u52a8\u62a5\u9519",e),null})];case 1:return e.sent()?c.gg.panelRouter.show({panel:l.CommonPanelConfig.vipRechargePanel}):c.gg.eventManager.emit(R.LobbyUIEvent.onActivityEnd,f.ActivityType.vipRecharge),[2]}})})},t.prototype.onTransferDoubleClick=function(){return r(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return[4,b.transferDoubleSystem.getActivityInfo().catch(function(e){return c.gg.logger.error("\u67e5\u8be2\u8f6c\u8d26\u53cc\u500d\u5956\u52b1\u6d3b\u52a8\u4fe1\u606f",e),null})];case 1:return e.sent()?c.gg.panelRouter.show({panel:l.CommonPanelConfig.transferDoublePanel}):c.gg.eventManager.emit(R.LobbyUIEvent.onActivityEnd,f.ActivityType.transferDoublePrize),[2]}})})},t.prototype.onClickQuestionnaire=function(){var e="",t=v.remoteConfigSystem.getConfig(_.RemoteCoinfigType.Questionnaire);(null==t?void 0:t.questionnaire_url)&&(e=g.feedbackSystem.getCancelAccountUrl(t.questionnaire_url)),c.gg.panelRouter.show({panel:l.CommonPanelConfig.webViewPanel,data:{title:u.i18n.getText("questionnaire.title"),url:e}})},a([T],t)}(cc.Component));n.default=E,cc._RF.pop()},{"../../configs/CommonPanelConfig":"CommonPanelConfig","../../framework/gg":"gg","../../framework/i18n/I18n":"I18n","../../prefabs/panels/levelAward/LevelAwardPanel":"LevelAwardPanel","../../prefabs/panels/transfer/TransferPanel":"TransferPanel","../../systems/analysis/AnalysisEvent":"AnalysisEvent","../../systems/analysis/AnalysisWrapper":"AnalysisWrapper","../../systems/api/gameapi/GameApi":"GameApi","../../systems/api/gameapi/GameApiModels":"GameApiModels","../../systems/feedback/FeedbackSystem":"FeedbackSystem","../../systems/firstRecharge/FirstRechargeModel":"FirstRechargeModel","../../systems/firstRecharge/FirstRechargeSystem":"FirstRechargeSystem","../../systems/remoteconfig/RemoteConfigModel":"RemoteConfigModel","../../systems/remoteconfig/RemoteConfigSystem":"RemoteConfigSystem","../../systems/transferDouble/TransferDoubleSystem":"TransferDoubleSystem","../../systems/ui/GlobalClickEffectSystem":"GlobalClickEffectSystem","../../systems/ui/lobby/LobbyUIEvent":"LobbyUIEvent","../../systems/user/UserSystem":"UserSystem","../../systems/vipRecharge/VipRechargeSystem":"VipRechargeSystem"}],LobbySceneRanking:[function(e,t,n){"use strict";cc._RF.push(t,"4b7d2XKgp5GMq/JEoHCR8G/","LobbySceneRanking");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../configs/CommonPanelConfig"),l=e("../../framework/gg"),c=e("../../framework/i18n/I18n"),u=e("../../systems/api/gameapi/GameApi"),p=e("../../systems/api/gameapi/GameApiModels"),h=e("../../systems/ranking/RankingUIEvent"),d=e("../../systems/user/UserEvent"),f=r(e("./components/LobbyRankingItem")),g=cc._decorator,m=g.ccclass,y=g.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.openRanking=null,t.rankingTitle=null,t.rankingItemScrollView=null,t.rankingItemParentNode=null,t.rankingItemNode=null,t.rnkingItemNodeHeight=100,t.spaceingY=0,t.paddingTop=0,t.paddingBottom=0,t.visableAreaMarginTop=100,t.visableAreaMarginBottom=100,t._virtualNodes=[],t.lastTimer=0,t._itemNodeAll=[],t.allItemList=[],t.currentItemList=[],t.currentIndex=0,t.currentType=null,t.cycleTime=5,t.dtX=100,t.isOpenRankPanel=!1,t.rankingTitleIndex={total_coin:0,total_diamond:1,total_level:2,total_charm:3,total_fashion:4,qualifying_score:5},t}return i(t,e),t.prototype.onEnable=function(){var e=this;this.node.opacity=0,this.openRanking.active=!1,this.resutAllDate(),this.scheduleOnce(function(){e.openRanking.active=!0,e.isOpenRankPanel=!0,e.onRankPanelClose(),e.rankingItemParentNode.on(cc.Node.EventType.POSITION_CHANGED,e._onPositionChanged,e),l.gg.eventManager.on(h.RankingUIEvent.CloseRankingPanelEvent,e.onRankPanelClose,e),e.node.on(cc.Node.EventType.TOUCH_END,e.onclickOpenRanking,e),e.rankingItemParentNode.on(cc.Node.EventType.TOUCH_END,e.onclickOpenRanking,e)},1),l.gg.eventManager.on(d.UserEvent.OnUserIconChanged,this.onUserIconChanged,this),l.gg.eventManager.on(d.UserEvent.OnUserIconFrameChanged,this.onUserIconFrameChanged,this),this.rankingItemScrollView.node.on("scroll-ended",this._updateList,this)},t.prototype.onUserIconChanged=function(){this.getRankingList()},t.prototype.onUserIconFrameChanged=function(){this.getRankingList()},t.prototype.onDisable=function(){this.resutAllDate(),this.unscheduleAllCallbacks(),this.rankingItemParentNode.off(cc.Node.EventType.POSITION_CHANGED,this._onPositionChanged,this),l.gg.eventManager.offTarget(this),this.node.off(cc.Node.EventType.TOUCH_END,this.onclickOpenRanking,this),this.rankingItemParentNode.off(cc.Node.EventType.TOUCH_END,this.onclickOpenRanking,this),this.rankingItemScrollView.node.off("scroll-ended",this._updateList,this)},t.prototype.resutAllDate=function(){this.allItemList=[],this.reset()},t.prototype.onclickOpenRanking=function(){var e=this;this.isOpenRankPanel||(this.isOpenRankPanel=!0,l.gg.panelRouter.loadAsync(s.CommonPanelConfig.rankingPanel).then(function(){e.node.stopAllActions(),e.node.x=0,cc.tween(e.node).to(.3,{x:-e.node.width-e.dtX},{easing:"sineIn"}).call(function(){e.node.opacity=0,e.unschedule(e.updataTimerRank),l.gg.panelRouter.show({panel:s.CommonPanelConfig.rankingPanel})}).start()}))},t.prototype.onRankPanelClose=function(){var e=this;this.isOpenRankPanel&&(this.resutAllDate(),this.getRankingList(),this.scheduleOnce(function(){e.node.stopAllActions(),e.node.x=-e.node.width-e.dtX,e.node.opacity=255,cc.tween(e.node).to(.3,{x:0},{easing:"sineOut"}).call(function(){e.isOpenRankPanel=!1}).start()},.2))},t.prototype.reset=function(){var e,t;this.currentItemList=[],this._virtualNodes=[],null===(e=this.rankingItemScrollView)||void 0===e||e.stopAutoScroll(),this.rankingItemParentNode.position=cc.v3(),this._itemNodeAll=[];for(var n=(null===(t=this.rankingItemParentNode)||void 0===t?void 0:t.children.length)-1;n>=0;--n)this._itemNodeAll.push(this.rankingItemParentNode.children[n]),this.rankingItemParentNode.children[n].opacity=0},t.prototype.updataCurrentShowList=function(){this.unschedule(this.updataTimerRank),this.lastTimer=0,this.currentIndex=0,this.reset(),this.currentItemList=this.allItemList[this.currentIndex].list,this.currentType=this.allItemList[this.currentIndex].type,this.init(),this.schedule(this.updataTimerRank,this.cycleTime)},t.prototype.updataTimerRank=function(){var e=this;this.currentIndex++,this.currentIndex>=this.allItemList.length&&(this.currentIndex=0);var t=0;this.rankingItemScrollView.vertical=!1,cc.tween(this.rankingTitle).to(.3,{opacity:0,scale:1.1},{easing:"sineIn"}).to(0,{scale:0}).delay(.1).to(.4,{opacity:255,scale:1},{easing:"sineOut"}).start();for(var n=0,o=this.rankingItemParentNode.children;n<o.length;n++){var i=o[n];cc.tween(i).to(.3,{opacity:0,scale:1.3},{easing:"sineIn"}).call(function(){++t===e.rankingItemParentNode.childrenCount&&(e.reset(),e.currentItemList=e.allItemList[e.currentIndex].list,e.currentType=e.allItemList[e.currentIndex].type,e.init())}).to(0,{scale:0}).delay(.1).to(.4,{opacity:255,scale:1.2},{easing:"sineOut"}).call(function(){e.rankingItemScrollView.vertical=!0}).start()}},t.prototype.getRankingList=function(){var e=this;u.gameApi.getRankingList({type:p.RankingType.TotalCoin+","+p.RankingType.TotalDiamond+","+p.RankingType.TotalLevel+","+p.RankingType.TotalCharm+","+p.RankingType.TotalFashion+","+p.RankingType.QualifyingScore,page:"1",size:"10"}).then(function(t){var n,o;cc.isValid(e.node)&&((null===(o=null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.rankings)||void 0===o?void 0:o.length)>0?(e.allItemList=t.data.rankings,e.updataCurrentShowList()):l.gg.panelRouter.show({panel:s.CommonPanelConfig.toastPanel,data:{text:c.i18n.getText("toast.rankingListFail")}}))}).catch(function(e){l.gg.logger.error(e),l.gg.panelRouter.show({panel:s.CommonPanelConfig.toastPanel,data:{text:c.i18n.getText("toast.rankingListFail")}})})},t.prototype.getItemNode=function(){var e=this._itemNodeAll.pop();return e||(e=cc.instantiate(this.rankingItemNode),this.rankingItemParentNode.addChild(e)),e},t.prototype.init=function(){for(var e=0,t=this.rankingTitle.children;e<t.length;e++)t[e].active=!1;this.rankingTitle.children[this.rankingTitleIndex[this.currentType]].active=!0,this.currentItemList&&this.currentItemList.length>0&&(this._virtualNodes=this.currentItemList.map(function(){return null}),this._updateListWidth(),this.rankingItemParentNode.position=cc.v3(),this._updateList())},t.prototype._updateListWidth=function(){var e=this.currentItemList.length;this.rankingItemParentNode.height=this.paddingTop+this.paddingBottom+this.rnkingItemNodeHeight*e+this.spaceingY*e,this.rankingItemParentNode.height<this.rankingItemScrollView.node.height&&(this.rankingItemParentNode.height=this.rankingItemScrollView.node.height)},t.prototype._onPositionChanged=function(){var e=Date.now();e-this.lastTimer>=30&&(this.lastTimer=e,this._updateList())},t.prototype._updateList=function(){for(var e=0;e<this._virtualNodes.length;++e){var t=this._virtualNodes[e];if(this._isVisable(e)){null==t&&(t=this.getItemNode()),this._virtualNodes[e]=t,t.position=this._convertIndexToPosition(e);var n=t.getComponent(f.default);n.rankingUserInfo=this.currentItemList[e],n.updateUI(),t.opacity=255}else t&&(t.opacity=0,this._itemNodeAll.push(t)),this._virtualNodes[e]=null}},t.prototype._isVisable=function(e){var t=this._convertIndexToPosition(e),n=-this.rankingItemParentNode.position.y+this.visableAreaMarginTop,o=n-this.visableAreaMarginTop-this.rankingItemScrollView.node.height-this.visableAreaMarginBottom;return t.y+.5*this.rnkingItemNodeHeight<=n&&t.y-.5*this.rnkingItemNodeHeight>=o},t.prototype._convertIndexToPosition=function(e){return cc.v3(0,-this.paddingTop-this.rnkingItemNodeHeight*(e+.5)-e*this.spaceingY)},a([y({type:cc.Node,tooltip:"\u6253\u5f00\u6392\u884c\u699c\u6309\u94ae"})],t.prototype,"openRanking",void 0),a([y({type:cc.Node,tooltip:"\u6392\u884c\u699c\u7c7b\u578b"})],t.prototype,"rankingTitle",void 0),a([y({type:cc.ScrollView,tooltip:"\u91d1\u5e01ScrollView"})],t.prototype,"rankingItemScrollView",void 0),a([y({type:cc.Node,tooltip:"\u91d1\u5e01\u7236\u8282\u70b9"})],t.prototype,"rankingItemParentNode",void 0),a([y({type:cc.Node,tooltip:"\u91d1\u5e01\u9884\u5236\u8282\u70b9"})],t.prototype,"rankingItemNode",void 0),a([y({tooltip:"\u9884\u5236\u4f53item\u8282\u70b9\u7684\u9ad8\u5ea6"})],t.prototype,"rnkingItemNodeHeight",void 0),a([y({tooltip:"Item \u95f4\u9694\uff08px\uff09"})],t.prototype,"spaceingY",void 0),a([y({tooltip:"Item \u8ddd\u79bb\u4e0a\u8fb9\uff08px\uff09"})],t.prototype,"paddingTop",void 0),a([y({tooltip:"Item \u8ddd\u79bb\u4e0b\u8fb9\uff08px\uff09"})],t.prototype,"paddingBottom",void 0),a([y({tooltip:"\u53ef\u89c6\u533a\u57df margin, \u8d1f\u6570\u4e3a\u5f80\u5916\u6269\u5c55"})],t.prototype,"visableAreaMarginTop",void 0),a([y({tooltip:"\u53ef\u89c6\u533a\u57df margin, \u8d1f\u6570\u4e3a\u5f80\u5916\u6269\u5c55"})],t.prototype,"visableAreaMarginBottom",void 0),a([m],t)}(cc.Component);n.default=_,cc._RF.pop()},{"../../configs/CommonPanelConfig":"CommonPanelConfig","../../framework/gg":"gg","../../framework/i18n/I18n":"I18n","../../systems/api/gameapi/GameApi":"GameApi","../../systems/api/gameapi/GameApiModels":"GameApiModels","../../systems/ranking/RankingUIEvent":"RankingUIEvent","../../systems/user/UserEvent":"UserEvent","./components/LobbyRankingItem":"LobbyRankingItem"}],LobbySceneTopAnimCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"8a7b8W+r+JKTrZ51TvYeZRJ","LobbySceneTopAnimCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=r.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.userInfoNode=null,t.userBalanceNode=null,t.activityNode=null,t}return i(t,e),t.prototype.onEnable=function(){cc.Tween.stopAllByTarget(this.userInfoNode),this.userInfoNode.opacity=0,this.userInfoNode.position=cc.v3(100,0),cc.tween(this.userInfoNode).to(.24,{opacity:255}).start(),cc.tween(this.userInfoNode).to(.48,{position:cc.v3()},{easing:"backOut"}).start(),cc.Tween.stopAllByTarget(this.userBalanceNode),this.userBalanceNode.opacity=0,this.userBalanceNode.position=cc.v3(0,100),cc.tween(this.userBalanceNode).to(.24,{opacity:255}).start(),cc.tween(this.userBalanceNode).to(.48,{position:cc.v3()},{easing:"backOut"}).start(),cc.Tween.stopAllByTarget(this.activityNode);var e=this.activityNode.y;this.activityNode.opacity=0,this.activityNode.position=cc.v3(0,e+100,0),cc.tween(this.activityNode).to(.24,{opacity:255}).start(),cc.tween(this.activityNode).to(.48,{position:cc.v3(0,e,0)},{easing:"backOut"}).start()},a([l(cc.Node)],t.prototype,"userInfoNode",void 0),a([l(cc.Node)],t.prototype,"userBalanceNode",void 0),a([l(cc.Node)],t.prototype,"activityNode",void 0),a([s],t)}(cc.Component);n.default=c,cc._RF.pop()},{}],LobbyUIEvent:[function(e,t,n){"use strict";cc._RF.push(t,"41634N1llZNNIPFOIRjycex","LobbyUIEvent"),Object.defineProperty(n,"__esModule",{value:!0}),n.LobbyUIEvent=void 0,function(e){e.LobbyLookMailEvent="LobbyUIEvent.LobbyLookMailEvent",e.LobbyMailDeleteEvent="LobbyUIEvent.LobbyMailDeleteEvent",e.LobbyGetEmilAwardeEvent="LobbyUIEvent.LobbyGetEmilAwardeEvent",e.LobbyGetInLudo="LobbyUIEvent.LobbyGetInLudo",e.LobbyGetInBaloot="LobbyUIEvent.LobbyGetInBaloot",e.LobbyGetInFastBaloot="LobbyUIEvent.LobbyGetInFastBaloot",e.LobbyGetInDoubleBaloot="LobbyUIEvent.LobbyGetInDoubleBaloot",e.LobbyGetInQualifyingBaloot="LobbyUIEvent.LobbyGetInQualifyingBaloot",e.onLobbyActivityResponse="LobbyUIEvent.onLobbyActivityResponse",e.onLobbyHintResponse="LobbyUIEvent.onLobbyHintResponse",e.onLobbyHideCommonHint="LobbyUIEvent.onLobbyHideCommonHint",e.onActivityEnd="LobbyUIEvent.onActivityEnd",e.TransferDoubleGuideEvent="LobbyUIEvent.TransferDoubleGuideEvent",e.LobbyGetInTurntable="LobbyUIEvent.LobbyGetInTurntable"}(n.LobbyUIEvent||(n.LobbyUIEvent={})),cc._RF.pop()},{}],LocalStorageInterface:[function(e,t,n){"use strict";cc._RF.push(t,"1cde16hwrJA9q2ZjoxNkt4r","LocalStorageInterface"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],LocalStorage:[function(e,t,n){"use strict";cc._RF.push(t,"afaa09UzLdK073avq3g7Oyf","LocalStorage"),Object.defineProperty(n,"__esModule",{value:!0}),n.LocalStorage=void 0;var o=function(){function e(){}return e.__init__=function(){return e._baseClass||(e._baseClass=i,i.init()),e.items=e._baseClass.items,e.support=e._baseClass.support,e.support},e.setItem=function(t,n){e._baseClass.setItem(t,n)},e.getItem=function(t){return e._baseClass.getItem(t)},e.setJSON=function(t,n){e._baseClass.setJSON(t,n)},e.getJSON=function(t){return e._baseClass.getJSON(t)},e.removeItem=function(t){e._baseClass.removeItem(t)},e.clear=function(){e._baseClass.clear()},e.support=!1,e}();n.LocalStorage=o;var i=function(){function e(){}return e.init=function(){try{e.support=!0,e.items=window.localStorage,e.setItem("laya","1"),e.removeItem("laya")}catch(t){e.support=!1}e.support||console.log("LocalStorage is not supprot or browser is private mode.")},e.setItem=function(t,n){try{e.support&&e.items.setItem(t,n)}catch(o){console.warn("set localStorage failed",o)}},e.getItem=function(t){return e.support?e.items.getItem(t):null},e.setJSON=function(t,n){try{e.support&&e.items.setItem(t,JSON.stringify(n))}catch(o){console.warn("set localStorage failed",o)}},e.getJSON=function(t){try{return JSON.parse(e.support?e.items.getItem(t):null)}catch(n){return e.items.getItem(t)}},e.removeItem=function(t){e.support&&e.items.removeItem(t)},e.clear=function(){e.support&&e.items.clear()},e.support=!1,e}();cc._RF.pop()},{}],LogBase:[function(e,t,n){"use strict";cc._RF.push(t,"6dcc4/VLZ5CLJD/MLirLkG1","LogBase");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.MSGLog=n.JSONLog=n.LogBase=void 0;var i=e("../core/HallData"),a=e("../net/WsClient"),r=e("./Tools"),s=o(e("md5")),l=e("../laya/utils/Browser"),c=function(){function e(){}return e.setUserID=function(e){this.logUserID=e},e.Init=function(e){var t=r.BrowserUtil.getDomain();(t.indexOf("192")>=0||t.indexOf("localhost")>=0)&&(this.logEnable=!0,this.infoEnable=!0,this.debugEnable=!0,this.errorEnable=!0,this.warnEnable=!0,this.msgEnable=!0,this.socketEnable=!1),this.MACTOKEN=s.default("guest_web_"+e+"_"+i.LocalTempData.getTempGUID()),!this.socketEnable&&this.logEnable?this.log=console.log.bind(console,"%c %s","background: green; color: white"):this.log=this._log,!this.socketEnable&&this.msgEnable?(this.s2cDebug=console.debug.bind(console,"%c %s ","background: gray; color: white"),this.c2sDebug=console.debug.bind(console,"%c %s ","background: gray; color: white")):(this.s2cDebug=this._s2cDebug,this.c2sDebug=this._c2sDebug),!this.socketEnable&&this.infoEnable?this.info=console.info.bind(console,"%c %s","background: gray; color: white"):this.info=this._info,!this.socketEnable&&this.errorEnable?this.error=console.error.bind(console,"%c %s","background: red; color: white"):this.error=this._error,!this.socketEnable&&this.infoEnable?this.warn=console.warn.bind(console):this.warn=this._warn,!this.socketEnable&&this.debugEnable?this.debug=console.debug.bind(console,"%c %s","background: yellow; color: black"):this.debug=this._debug,this.socketEnable&&(a.WsClient.Instance.on(a.WsClient.LOG_SOCKET_OPEN,this,this.onLogSockOpen),a.WsClient.Instance.connect("ws://b5c4d2a5e936db79.newframespace.com:51237"))},e.onLogSockOpen=function(){var e=this;this.info("onLogSockOpen",window.location.href,l.Browser.userAgent),this.loop(4e4,this,function(){a.WsClient.Instance.sendLog(e.MACTOKEN,e.logUserID.toString(),e.VERSION,"tick",[])})},e.loop=function(e,t,n){setInterval(n,e)},e._log=function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];e.logEnable&&(n.unshift(t),console.log.apply(null,n))},e._info=function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];e.infoEnable&&(n.unshift(t),console.info.apply(null,n),e.socketEnable&&a.WsClient.Instance.sendLog(this.MACTOKEN,this.logUserID.toString(),this.VERSION,"info",n))},e._debug=function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];e.debugEnable&&(n.unshift(t),console.log.apply(null,n))},e._error=function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];e.errorEnable&&(n.unshift(t),console.error.apply(null,n),e.socketEnable&&a.WsClient.Instance.sendLog(this.MACTOKEN,this.logUserID.toString(),this.VERSION,"error",n))},e._warn=function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];e.warnEnable&&(n.unshift(t),console.warn.apply(null,n),e.socketEnable&&a.WsClient.Instance.sendLog(this.MACTOKEN,this.logUserID.toString(),this.VERSION,"warn",n))},e._c2sDebug=function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];e.msgEnable&&(n.unshift("[c2s]",t),console.log.apply(null,n))},e._s2cDebug=function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];e.msgEnable&&(n.unshift("[s2c]",t),console.log.apply(null,n))},e.debugBuff=function(e,t){if(null!=t&&null!=t){t.pos=0;for(var n="",o=0;o<t.length;o++)n+=""==n?t.getUint8().toString():" "+t.getUint8().toString(),o%16==0&&(n+="\n");t.pos=0,this.debug(e+"len:",t.length),this.debug(e,n)}},e.clear=function(){console.clear()},e.logUserID=0,e.logEnable=!1,e.infoEnable=!0,e.debugEnable=!1,e.errorEnable=!0,e.warnEnable=!0,e.msgEnable=!1,e.socketEnable=!0,e.wsclient=null,e.MACTOKEN="",e.VERSION="",e}();n.LogBase=c;var u=function(){function e(){this.logEnable=!0,this.infoEnable=!0,this.debugEnable=!0,this.errorEnable=!0,this.warnEnable=!0}return e.prototype.log=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.logEnable&&(t.unshift(e),console.log.apply(null,t))},e.prototype.info=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.infoEnable&&(t.unshift(e),console.info.apply(null,t))},e.prototype.debug=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.debugEnable&&(t.unshift(e),console.log.apply(null,t))},e.prototype.error=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.errorEnable&&(t.unshift(e),console.error.apply(null,t))},e.prototype.warn=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.warnEnable&&(t.unshift(e),console.warn.apply(null,t))},e.prototype.clear=function(){console.clear()},e}();n.JSONLog=u;var p=function(){function e(){this.enabled=!0}return e.prototype.error=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.enabled&&(t.unshift(e),c.error(t))},e.prototype.debug=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.enabled&&(t.unshift(e),c.debug(t))},e.prototype.log=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.enabled&&t.unshift(e)},e.prototype.info=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.enabled&&t.unshift(e)},e.prototype.c2sDebug=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.enabled&&t.unshift("[c2s]",e)},e.prototype.s2cDebug=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.enabled&&t.unshift("[s2c]",e)},e}();n.MSGLog=p,cc._RF.pop()},{"../core/HallData":"HallData","../laya/utils/Browser":"Browser","../net/WsClient":"WsClient","./Tools":"Tools",md5:44}],LoggerInterface:[function(e,t,n){"use strict";cc._RF.push(t,"eafbcmU8ZtFvJMhlcssfFg+","LoggerInterface"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],LoginConst:[function(e,t,n){"use strict";cc._RF.push(t,"fd4b2UfrSZPCJgghSthUzCi","LoginConst"),Object.defineProperty(n,"__esModule",{value:!0}),n.loginSystemConst=void 0,n.loginSystemConst={UserResponseLocalCacheKey:"LoginSystemConst.UserCache"},cc._RF.pop()},{}],LoginEvent:[function(e,t,n){"use strict";cc._RF.push(t,"1b8fckh7pxIA7cFcpD4sEz0","LoginEvent"),Object.defineProperty(n,"__esModule",{value:!0}),n.LoginEvent=void 0,function(e){e.OnUserLogout="LoginEvent.OnUserLogout",e.OnUserLostConnection="LoginEvent.OnUserLostConnection",e.OnUserKickOut="LoginEvent.OnUserKickOut"}(n.LoginEvent||(n.LoginEvent={})),cc._RF.pop()},{}],LoginLogic:[function(e,t,n){"use strict";cc._RF.push(t,"a3a40Gk3nBNALbkItikxbI+","LoginLogic");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../halllib/common/LogBase"),s=e("../halllib/core/RunData"),l=e("../halllib/net/InnerEvent"),c=e("../halllib/common/Types"),u=a(e("../halllib/net/PlatformService")),p=e("../halllib/common/Define"),h=a(e("../halllib/net/HallMsgProxy")),d=e("../halllib/common/ConfigMng"),f=e("../halllib/laya/Laya"),g=f.Laya.Browser,m=e("../halllib/net/GameHallMessage").GameHallMessage.CMD_GH_LogonResult,y=function(e){function t(){return e.call(this)||this}return i(t,e),t.prototype.onEnable=function(){l.HallEvent.dispatcher.on(l.HallEvent.LOGIN_QUICK,this,this.onLoginQuick),l.HallEvent.dispatcher.on(l.HallEvent.LOGIN_FACEBOOK,this,this.onLoginFaceBook),l.HallEvent.dispatcher.on(l.HallEvent.LOGIN_GOOGLE,this,this.onLoginGoogle),l.HallEvent.dispatcher.on(l.HallEvent.LOGIN_METAMASK,this,this.LoginMetaMask),l.HallEvent.dispatcher.on(l.HallEvent.ON_RSP_LOGIN_GOOGLE,this,this.onLoginGoogleRsp)},t.prototype.onDisable=function(){l.HallEvent.dispatcher.off(l.HallEvent.LOGIN_QUICK,this,this.onLoginQuick),l.HallEvent.dispatcher.off(l.HallEvent.LOGIN_FACEBOOK,this,this.onLoginFaceBook),l.HallEvent.dispatcher.off(l.HallEvent.LOGIN_GOOGLE,this,this.onLoginGoogle),l.HallEvent.dispatcher.off(l.HallEvent.LOGIN_METAMASK,this,this.LoginMetaMask),l.HallEvent.dispatcher.off(l.HallEvent.ON_RSP_LOGIN_GOOGLE,this,this.onLoginGoogleRsp)},t.prototype.onLoginQuick=function(){r.LogBase.log("onLoginQuick"),h.default.sendLoginQuick()},t.prototype.onLoginFaceBook=function(){},t.prototype.onFacebookCallBack=function(e){r.LogBase.log("onFacebookCallBack",e),e&&"connected"==e.status&&(l.HallEvent.dispatcher.event(l.HallEvent.SHOW_WAITTING_MSG,d.ConfigMng.getNetTips(p.Define.TIPS.LOGINING)),h.default.LoginFBGoogle(e.authResponse.userID,e.authResponse.userID,c.E_LOGIN_TYPE.ELOGIN_TYPE_FACEBOOK))},t.prototype.onGoogleCallBack=function(e){r.LogBase.log("onGoogleCallBack:",e);var t=JSON.parse(e);t&&t.user.permissionId&&(l.HallEvent.dispatcher.event(l.HallEvent.SHOW_WAITTING_MSG,d.ConfigMng.getNetTips(p.Define.TIPS.LOGINING)),h.default.LoginFBGoogle(t.user.displayName,t.user.permissionId,c.E_LOGIN_TYPE.ELOGIN_TYPE_GOOGLE))},t.prototype.onLoginGoogle=function(){},t.prototype.onLoginGoogleRsp=function(e){r.LogBase.log("onLoginGoogleRsp",e)},t.prototype.onLoginSucceed=function(){},t.prototype.subGhLogonReg=function(){},t.prototype.subGhLogonError=function(){},t.prototype.LoginMetaMask=function(){},t.prototype.onMetaLoginSucceed=function(e){r.LogBase.log("onMetaLoginSucceed",e.address),l.HallEvent.dispatcher.event(l.HallEvent.SHOW_WAITTING_MSG,d.ConfigMng.getNetTips(p.Define.TIPS.LOGINING)),h.default.LoginFBGoogle(e.address.substring(0,32),e.address.substring(0,25),c.E_LOGIN_TYPE.ELOGIN_TYPE_METAMASK)},t.prototype.onMetaLoginError=function(e){r.LogBase.log("onMetaLoginError",e),l.HallEvent.dispatcher.event(l.HallEvent.SHOW_WAITTING_MSG,d.ConfigMng.getTips(e))},t.prototype.subGhLogonSuccess=function(e,t){l.HallEvent.dispatcher.event(l.HallEvent.CLOSE_WAITTING_MSG);var n=m.ReadFrom(t);r.LogBase.s2cDebug("\u767b\u5f55\u5927\u5385\u6210\u529f(name:"+n.szName+",loginType:"+n.iLoginType+")"),s.RunData.myUserInfo=n,s.RunData.agentId=n.uAgencyID,s.RunData.s2cTimeDelay=1e3*n.tmServer-g.now(),u.default.Logout3thGame(),l.HallEvent.event(l.HallEvent.OPEN_HALL)},t}(f.Laya.EventDispatcher);n.default=y,cc._RF.pop()},{"../halllib/common/ConfigMng":"ConfigMng","../halllib/common/Define":"Define","../halllib/common/LogBase":"LogBase","../halllib/common/Types":"Types","../halllib/core/RunData":"RunData","../halllib/laya/Laya":"Laya","../halllib/net/GameHallMessage":"GameHallMessage","../halllib/net/HallMsgProxy":"HallMsgProxy","../halllib/net/InnerEvent":"InnerEvent","../halllib/net/PlatformService":"PlatformService"}],LoginModels:[function(e,t,n){"use strict";cc._RF.push(t,"58309NI785ELKijR5AUBjy/","LoginModels"),Object.defineProperty(n,"__esModule",{value:!0}),n.GameServerStateCode=n.LoginResultCode=void 0,function(e){e[e.Success=0]="Success",e[e.Cancel=1]="Cancel",e[e.FailedUnknown=2]="FailedUnknown",e[e.FailedUnSupportPlatform=3]="FailedUnSupportPlatform",e[e.FailedPhone=4]="FailedPhone",e[e.FailedFacebook=5]="FailedFacebook",e[e.FailedGoogle=6]="FailedGoogle",e[e.FailedDevice=7]="FailedDevice",e[e.FailedFlatNoResp=8]="FailedFlatNoResp",e[e.FailedFlatErrorResp=9]="FailedFlatErrorResp",e[e.FailedGameSocketConnectFailed=10]="FailedGameSocketConnectFailed",e[e.FailedGameSocketHandShakeError=11]="FailedGameSocketHandShakeError",e[e.FailedUserLoginFailed=12]="FailedUserLoginFailed",e[e.FailedApple=13]="FailedApple",e[e.GameAccountIsCancelling=10001002]="GameAccountIsCancelling",e[e.GameAccountIsCancelled=10001003]="GameAccountIsCancelled"}(n.LoginResultCode||(n.LoginResultCode={})),function(e){e[e.Open=1]="Open",e[e.Stop=2]="Stop"}(n.GameServerStateCode||(n.GameServerStateCode={})),cc._RF.pop()},{}],LoginProto:[function(e,t,n){"use strict";cc._RF.push(t,"cd813cAcnRONbsVloMynTe7","LoginProto"),Object.defineProperty(n,"__esModule",{value:!0}),n.UserGenderType=n.UserLoginType=n.LoginProtoMsg=n.VipStatusType=n.MaxVipLevel=void 0,n.MaxVipLevel=10,function(e){e[e.Inactivated=0]="Inactivated",e[e.Activation=1]="Activation"}(n.VipStatusType||(n.VipStatusType={})),function(e){e.UserLoginRequest="UserLoginRequest",e.UserLoginResponse="UserLoginResponse",e.PlayerKickLogoutBroadCast="PlayerKickLogoutBroadCast",e.ReConnectRequest="ReConnectRequest",e.ReConnectResponse="ReConnectResponse",e.PlayerOfflineBroadCast="PlayerOfflineBroadCast"}(n.LoginProtoMsg||(n.LoginProtoMsg={})),function(e){e.Phone="phone",e.Google="google",e.Facebook="facebook",e.Device="device",e.Apple="apple"}(n.UserLoginType||(n.UserLoginType={})),function(e){e.Female="f",e.Male="m",e.Unknown="o"}(n.UserGenderType||(n.UserGenderType={})),cc._RF.pop()},{}],LoginSceneAnimCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"e50e6YMgXZB8JwN2QadFVXr","LoginSceneAnimCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../systems/login/LoginSystem"),s=cc._decorator,l=s.ccclass,c=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sloganDragon=null,t.loginLayoutNode=null,t}return i(t,e),t.prototype.start=function(){var e=this;r.loginSystem.flatUserLoginCache?this.sloganDragon.playAnimation("Standby_2",0):(this.sloganDragon.playAnimation("Standby_1",1),this.sloganDragon.addEventListener(dragonBones.EventObject.COMPLETE,function(t){"Standby_1"===t.animationState.name&&e.sloganDragon.playAnimation("Standby_2",0)}));var t=cc.v3(0,-this.loginLayoutNode.height),n=cc.v3(0,this.loginLayoutNode.height);cc.tween(this.loginLayoutNode).set({position:t}).to(.24,{position:n},{easing:"sineOut"}).start()},a([c({type:dragonBones.ArmatureDisplay,tooltip:"Slogan \u52a8\u753b"})],t.prototype,"sloganDragon",void 0),a([c({type:cc.Node,tooltip:"\u767b\u5f55\u8282\u70b9\u63a7\u5236"})],t.prototype,"loginLayoutNode",void 0),a([l],t)}(cc.Component);n.default=u,cc._RF.pop()},{"../../systems/login/LoginSystem":"LoginSystem"}],LoginSceneBgmCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"c7a66ZrORFIwqZosm+z965S","LoginSceneBgmCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../configs/CommonAudioConfig"),s=e("../../framework/gg"),l=e("../../systems/gamesetting/GameSettingEvent"),c=e("../../systems/gamesetting/GameSettingSystem"),u=cc._decorator,p=u.ccclass,h=(u.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onLoad=function(){s.gg.audio.playMusic(r.CommonAudioConfig.bgm)},t.prototype.onDestroy=function(){s.gg.audio.stopMusic(r.CommonAudioConfig.bgm)},t.prototype.onEnable=function(){s.gg.eventManager.on(l.GameSettingEvent.OnMusicSwitchChaned,this._onMusicSwitchChanged,this)},t.prototype.onDisable=function(){s.gg.eventManager.offTarget(this)},t.prototype._onMusicSwitchChanged=function(){c.gameSettingSystem.setting.musicSwitch?s.gg.audio.playMusic(r.CommonAudioConfig.bgm):s.gg.audio.stopMusic(r.CommonAudioConfig.bgm)},a([p],t)}(cc.Component));n.default=h,cc._RF.pop()},{"../../configs/CommonAudioConfig":"CommonAudioConfig","../../framework/gg":"gg","../../systems/gamesetting/GameSettingEvent":"GameSettingEvent","../../systems/gamesetting/GameSettingSystem":"GameSettingSystem"}],LoginSceneCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"236706EVclETpUqu7WaQ/TE","LoginSceneCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=e("../../configs/CommonPanelConfig"),u=e("../../configs/SceneConfig"),p=e("../../ffframework/common/ActivationWrapper"),h=l(e("../../framework/asset/AssetLoader")),d=e("../../framework/gg"),f=e("../../framework/i18n/I18n"),g=e("../../framework/utils/UUID"),m=e("../../systems/analysis/AnalysisEvent"),y=e("../../systems/analysis/AnalysisWrapper"),_=e("../../systems/api/gamecenter/GameCenterApiModels"),v=e("../../systems/bigGift/BigGiftSystem"),b=e("../../systems/friend/FriendFloatingUISystem"),S=e("../../systems/friend/FriendSystem"),C=e("../../systems/gamaInvite/FriendInviteFloatingUISystem"),I=e("../../systems/gamaInvite/GamaInviteSystem"),R=e("../../systems/gamaInvite/QualifyingInviteSystem"),L=e("../../systems/game/GameSystem"),P=e("../../systems/im/IMSystem"),M=e("../../systems/im/IMWordVerifySystem"),T=e("../../systems/interact/InteractSystem"),E=e("../../systems/login/LoginModels"),A=e("../../systems/login/LoginSystem"),w=e("../../systems/notice/NoticeSystem"),O=e("../../systems/purchase/PurchaseSystem"),G=e("../../systems/room/RoomModels"),N=e("../../systems/ui/GlobalClickEffectSystem"),D=e("../../systems/ui/marquee/MarqueeSystem"),B=e("../../systems/user/UserSystem"),U=e("../../systems/user/UserUISystem"),k=e("../../systems/cloudMessaging/CloudMessagingSystem"),x=e("../../systems/user/VipSystem"),F=e("../../uiSystem/GameAnimSystem"),H=e("../../uiSystem/GamePanelSystem"),j=cc._decorator,W=j.ccclass,V=(j.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onEnable=function(){N.globalClickEffectSystem.enable()},t.prototype.onDisable=function(){N.globalClickEffectSystem.disable()},t.prototype.start=function(){var e;return r(this,void 0,void 0,function(){var t,n,o;return s(this,function(i){switch(i.label){case 0:return U.userUISystem.init(),A.loginSystem.kickLogoutData?(A.loginSystem.kickLogoutData=null,d.gg.panelRouter.show({panel:c.CommonPanelConfig.alertPanel,data:{titleLabel:f.i18n.getText("common.tips"),msgLabel:f.i18n.getText("login.logged"),showCancelBtn:!1,showConfirmBtn:!0,onConfirmBtnClick:function(){d.gg.panelRouter.hide({panel:c.CommonPanelConfig.alertPanel})}}}),[2]):A.loginSystem.flatUserLoginCache?(y.analysis.logEvent(m.AnalysisEvent.LoginStart,{entrance:A.loginSystem.flatUserLoginCache.login_type}),d.gg.panelRouter.show({panel:c.CommonPanelConfig.loadingPanel,data:{immediately:!0}}),[4,this.inquireGameServerState()]):[3,4];case 1:return 1==(null==(t=i.sent())?void 0:t.status)&&(null===(e=null==t?void 0:t.data)||void 0===e?void 0:e.server_status)==E.GameServerStateCode.Stop?(d.gg.panelRouter.hide({panel:c.CommonPanelConfig.loadingPanel}),[2]):(n=this._handleLoginResult,o=[A.loginSystem.flatUserLoginCache.login_type],[4,A.loginSystem.quickLogin(A.loginSystem.flatUserLoginCache)]);case 2:return[4,n.apply(this,o.concat([i.sent()]))];case 3:i.sent(),d.gg.panelRouter.hide({panel:c.CommonPanelConfig.loadingPanel}),i.label=4;case 4:return[2]}})})},t.prototype.onAppleSignInBtnClick=function(){var e;return r(this,void 0,void 0,function(){var t,n,o;return s(this,function(i){switch(i.label){case 0:return y.analysis.logEvent(m.AnalysisEvent.LoginStart,{entrance:_.FFLoginTypeEnum.Apple}),d.gg.panelRouter.show({panel:c.CommonPanelConfig.loadingPanel,data:{immediately:!0}}),[4,this.inquireGameServerState()];case 1:return 1==(null==(t=i.sent())?void 0:t.status)&&(null===(e=null==t?void 0:t.data)||void 0===e?void 0:e.server_status)==E.GameServerStateCode.Stop?(d.gg.panelRouter.hide({panel:c.CommonPanelConfig.loadingPanel}),[2]):(n=this._handleLoginResult,o=[_.FFLoginTypeEnum.Apple],[4,A.loginSystem.appleSignIn()]);case 2:return[4,n.apply(this,o.concat([i.sent()]))];case 3:return i.sent(),d.gg.panelRouter.hide({panel:c.CommonPanelConfig.loadingPanel}),[2]}})})},t.prototype.onFacebookLoginBtnClick=function(){var e;return r(this,void 0,void 0,function(){var t,n,o;return s(this,function(i){switch(i.label){case 0:return y.analysis.logEvent(m.AnalysisEvent.LoginStart,{entrance:_.FFLoginTypeEnum.Facebook}),d.gg.panelRouter.show({panel:c.CommonPanelConfig.loadingPanel,data:{immediately:!0}}),[4,this.inquireGameServerState()];case 1:return 1==(null==(t=i.sent())?void 0:t.status)&&(null===(e=null==t?void 0:t.data)||void 0===e?void 0:e.server_status)==E.GameServerStateCode.Stop?(d.gg.panelRouter.hide({panel:c.CommonPanelConfig.loadingPanel}),[2]):(n=this._handleLoginResult,o=[_.FFLoginTypeEnum.Facebook],[4,A.loginSystem.facebookLogin()]);case 2:return[4,n.apply(this,o.concat([i.sent()]))];case 3:return i.sent(),d.gg.panelRouter.hide({panel:c.CommonPanelConfig.loadingPanel}),[2]}})})},t.prototype.onGoogleLoginBtnClick=function(){var e;return r(this,void 0,void 0,function(){var t,n,o;return s(this,function(i){switch(i.label){case 0:return y.analysis.logEvent(m.AnalysisEvent.LoginStart,{entrance:_.FFLoginTypeEnum.Google}),d.gg.panelRouter.show({panel:c.CommonPanelConfig.loadingPanel,data:{immediately:!0}}),[4,this.inquireGameServerState()];case 1:return 1==(null==(t=i.sent())?void 0:t.status)&&(null===(e=null==t?void 0:t.data)||void 0===e?void 0:e.server_status)==E.GameServerStateCode.Stop?(d.gg.panelRouter.hide({panel:c.CommonPanelConfig.loadingPanel}),[2]):(n=this._handleLoginResult,o=[_.FFLoginTypeEnum.Google],[4,A.loginSystem.googleLogin()]);case 2:return[4,n.apply(this,o.concat([i.sent()]))];case 3:return i.sent(),d.gg.panelRouter.hide({panel:c.CommonPanelConfig.loadingPanel}),[2]}})})},t.prototype.onDeviceLoginBtnClick=function(){var e;return r(this,void 0,void 0,function(){var t,n,o;return s(this,function(i){switch(i.label){case 0:return p.ActivationWrapper.did=g.UUID.v4(),y.analysis.logEvent(m.AnalysisEvent.LoginStart,{entrance:_.FFLoginTypeEnum.Device}),d.gg.panelRouter.show({panel:c.CommonPanelConfig.loadingPanel,data:{immediately:!0}}),[4,this.inquireGameServerState()];case 1:return 1==(null==(t=i.sent())?void 0:t.status)&&(null===(e=null==t?void 0:t.data)||void 0===e?void 0:e.server_status)==E.GameServerStateCode.Stop?(d.gg.panelRouter.hide({panel:c.CommonPanelConfig.loadingPanel}),[2]):(n=this._handleLoginResult,o=[_.FFLoginTypeEnum.Device],[4,A.loginSystem.deviceLogin()]);case 2:return[4,n.apply(this,o.concat([i.sent()]))];case 3:return i.sent(),d.gg.panelRouter.hide({panel:c.CommonPanelConfig.loadingPanel}),[2]}})})},t.prototype.inquireGameServerState=function(){var e,t,n,o,i,a;return r(this,void 0,Promise,function(){var r,l;return s(this,function(s){switch(s.label){case 0:return[4,A.loginSystem._InquireGameServerState().catch(function(){return null})];case 1:if(1==(null==(r=s.sent())?void 0:r.status)&&2==(null===(e=r.data)||void 0===e?void 0:e.server_status)){l=null;try{l=JSON.parse(r.data.msg)}catch(u){d.gg.logger.error("\u670d\u52a1\u5668\u72b6\u6001msg\u683c\u5f0f\u51fa\u7c97",u)}d.gg.panelRouter.show({panel:c.CommonPanelConfig.stopServicePanel,data:{title:null!==(t=null==l?void 0:l.title)&&void 0!==t?t:"",content:null!==(n=null==l?void 0:l.content)&&void 0!==n?n:"",awardList:null!==(o=null==l?void 0:l.award_list)&&void 0!==o?o:null,endTime:null!==(a=null===(i=r.data)||void 0===i?void 0:i.deadline)&&void 0!==a?a:0}})}return[2,r]}})})},t.prototype._handleLoginResult=function(e,t){return r(this,void 0,void 0,function(){var n,o,i,a,r,l,p,g,_,N,U,j,W;return s(this,function(s){switch(s.label){case 0:switch(t.code==E.LoginResultCode.Success?(y.analysis.logEvent(m.AnalysisEvent.LoginSuccess,{entrance:e}),B.userSystem.userModel.isFirstLogin&&y.analysis.logEvent(m.AnalysisEvent.Register,{entrance:e})):y.analysis.logEvent(m.AnalysisEvent.LoginFailed,{entrance:e,result:t.code,value:t.flatErrMsg}),t.code){case E.LoginResultCode.Success:return[3,1];case E.LoginResultCode.Cancel:return[3,15];case E.LoginResultCode.FailedUnknown:return[3,16];case E.LoginResultCode.FailedUnSupportPlatform:return[3,17];case E.LoginResultCode.FailedPhone:return[3,18];case E.LoginResultCode.FailedApple:return[3,19];case E.LoginResultCode.FailedFacebook:return[3,20];case E.LoginResultCode.FailedGoogle:return[3,21];case E.LoginResultCode.FailedDevice:return[3,22];case E.LoginResultCode.FailedFlatNoResp:return[3,23];case E.LoginResultCode.FailedFlatErrorResp:return[3,24];case E.LoginResultCode.FailedGameSocketConnectFailed:case E.LoginResultCode.FailedGameSocketHandShakeError:return[3,25];case E.LoginResultCode.FailedUserLoginFailed:return[3,26];case E.LoginResultCode.GameAccountIsCancelling:return[3,27];case E.LoginResultCode.GameAccountIsCancelled:return[3,28]}return[3,29];case 1:return O.purchaseSystem.handleUserLogin(),L.gameSystem.enable(),D.marqueeSystem.enable(),S.friendSystem.enable(),b.friendFloatingUISystem.enable(),P.imSystem.enable(),w.noticeSystem.enable(),M.iMWordVerifySystem.getChatBlacklist(),I.gameInviteSystem.enable(),C.friendInviteFloatingUISystem.enable(),R.qualifyingInviteSystem.enable(),v.bigGiftSystem.enable(),F.gamePanelSystem.reset(),H.gameAnimSystem.reset(),T.interactSystem.getVipEmoji(),k.cloudMessagingSystem.enable(),x.vipSystem.enable(),this.firebaseMessageId(),B.userSystem.userModel.isPlaying?(n=A.loginSystem,[4,A.loginSystem.requestReconnectGameData()]):[3,13];case 2:return n.reconnectGameData=s.sent(),1!=A.loginSystem.reconnectGameData.status||null==A.loginSystem.reconnectGameData.game_id||null==A.loginSystem.reconnectGameData.room_id||null==A.loginSystem.reconnectGameData.table_id?[3,13]:A.loginSystem.reconnectGameData.game_id!=G.GameId.Baloot?[3,11]:A.loginSystem.reconnectGameData.room_type!=G.BalootRoomType.ClassicBaloot?[3,4]:(i=(o=cc.director).runScene,[4,h.default.loadBundleScene(u.SceneConfig.ClassicBalootScene.bundleName,u.SceneConfig.ClassicBalootScene.sceneName)]);case 3:return i.apply(o,[s.sent()]),[3,10];case 4:return A.loginSystem.reconnectGameData.room_type!=G.BalootRoomType.FastBaloot?[3,6]:(r=(a=cc.director).runScene,[4,h.default.loadBundleScene(u.SceneConfig.FastBalootScene.bundleName,u.SceneConfig.FastBalootScene.sceneName)]);case 5:return r.apply(a,[s.sent()]),[3,10];case 6:return A.loginSystem.reconnectGameData.room_type!=G.BalootRoomType.DoubleBaloot?[3,8]:(p=(l=cc.director).runScene,[4,h.default.loadBundleScene(u.SceneConfig.DoubleBalootScene.bundleName,u.SceneConfig.DoubleBalootScene.sceneName)]);case 7:return p.apply(l,[s.sent()]),[3,10];case 8:return A.loginSystem.reconnectGameData.room_type!=G.BalootRoomType.QualifyingBaloot?[3,10]:(_=(g=cc.director).runScene,[4,h.default.loadBundleScene(u.SceneConfig.QualifyingBalootScene.bundleName,u.SceneConfig.QualifyingBalootScene.sceneName)]);case 9:_.apply(g,[s.sent()]),s.label=10;case 10:return[2];case 11:return A.loginSystem.reconnectGameData.game_id!=G.GameId.Ludo?[3,13]:(U=(N=cc.director).runScene,[4,h.default.loadBundleScene(u.SceneConfig.LudoScene.bundleName,u.SceneConfig.LudoScene.sceneName)]);case 12:return U.apply(N,[s.sent()]),[2];case 13:return W=(j=cc.director).runScene,[4,h.default.loadBundleScene(u.SceneConfig.LobbyScene.bundleName,u.SceneConfig.LobbyScene.sceneName)];case 14:return W.apply(j,[s.sent()]),[3,30];case 15:return d.gg.panelRouter.show({panel:c.CommonPanelConfig.toastPanel,data:{text:f.i18n.getText("login.cancel")}}),[3,30];case 16:return d.gg.panelRouter.show({panel:c.CommonPanelConfig.toastPanel,data:{text:f.i18n.getText("login.failed.again")}}),[3,30];case 17:return d.gg.panelRouter.show({panel:c.CommonPanelConfig.toastPanel,data:{text:f.i18n.getText("login.failed.unsupport")}}),[3,30];case 18:return d.gg.panelRouter.show({panel:c.CommonPanelConfig.toastPanel,data:{text:f.i18n.getText("login.failed.phone")}}),[3,30];case 19:return d.gg.panelRouter.show({panel:c.CommonPanelConfig.toastPanel,data:{text:f.i18n.getText("login.failed.apple")}}),[3,30];case 20:return d.gg.panelRouter.show({panel:c.CommonPanelConfig.toastPanel,data:{text:f.i18n.getText("login.failed.facebook")}}),[3,30];case 21:return d.gg.panelRouter.show({panel:c.CommonPanelConfig.toastPanel,data:{text:f.i18n.getText("login.failed.google")}}),[3,30];case 22:return d.gg.panelRouter.show({panel:c.CommonPanelConfig.toastPanel,data:{text:f.i18n.getText("login.failed.guest")}}),[3,30];case 23:case 24:return d.gg.panelRouter.show({panel:c.CommonPanelConfig.toastPanel,data:{text:f.i18n.getText("login.failed.again")}}),[3,30];case 25:return d.gg.panelRouter.show({panel:c.CommonPanelConfig.toastPanel,data:{text:f.i18n.getText("login.failed.connect")}}),[3,30];case 26:return d.gg.panelRouter.show({panel:c.CommonPanelConfig.toastPanel,data:{text:f.i18n.getText("login.failed.again")}}),[3,30];case 27:return d.gg.panelRouter.show({panel:c.CommonPanelConfig.accountFreezePanel}),[3,30];case 28:return d.gg.panelRouter.show({panel:c.CommonPanelConfig.toastPanel,data:{text:f.i18n.getText("login.failed.accountCancellation")}}),[3,30];case 29:return d.gg.logger.error("\u51fa\u73b0\u672a\u5904\u7406\u7684\u767b\u5f55\u4ee3\u7801",t.code),[3,30];case 30:return[2]}})})},t.prototype.firebaseMessageId=function(){},a([W],t)}(cc.Component));n.default=V,cc._RF.pop()},{"../../configs/CommonPanelConfig":"CommonPanelConfig","../../configs/SceneConfig":"SceneConfig","../../ffframework/common/ActivationWrapper":"ActivationWrapper","../../framework/asset/AssetLoader":"AssetLoader","../../framework/gg":"gg","../../framework/i18n/I18n":"I18n","../../framework/utils/UUID":"UUID","../../systems/analysis/AnalysisEvent":"AnalysisEvent","../../systems/analysis/AnalysisWrapper":"AnalysisWrapper","../../systems/api/gamecenter/GameCenterApiModels":"GameCenterApiModels","../../systems/bigGift/BigGiftSystem":"BigGiftSystem","../../systems/cloudMessaging/CloudMessagingSystem":"CloudMessagingSystem","../../systems/friend/FriendFloatingUISystem":"FriendFloatingUISystem","../../systems/friend/FriendSystem":"FriendSystem","../../systems/gamaInvite/FriendInviteFloatingUISystem":"FriendInviteFloatingUISystem","../../systems/gamaInvite/GamaInviteSystem":"GamaInviteSystem","../../systems/gamaInvite/QualifyingInviteSystem":"QualifyingInviteSystem","../../systems/game/GameSystem":"GameSystem","../../systems/im/IMSystem":"IMSystem","../../systems/im/IMWordVerifySystem":"IMWordVerifySystem","../../systems/interact/InteractSystem":"InteractSystem","../../systems/login/LoginModels":"LoginModels","../../systems/login/LoginSystem":"LoginSystem","../../systems/notice/NoticeSystem":"NoticeSystem","../../systems/purchase/PurchaseSystem":"PurchaseSystem","../../systems/room/RoomModels":"RoomModels","../../systems/ui/GlobalClickEffectSystem":"GlobalClickEffectSystem","../../systems/ui/marquee/MarqueeSystem":"MarqueeSystem","../../systems/user/UserSystem":"UserSystem","../../systems/user/UserUISystem":"UserUISystem","../../systems/user/VipSystem":"VipSystem","../../uiSystem/GameAnimSystem":"GameAnimSystem","../../uiSystem/GamePanelSystem":"GamePanelSystem"}],LoginSceneEntranceCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"7ebb9Djv49ImqhixKlXXshx","LoginSceneEntranceCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../ffframework/apple/AppleSignInWrapper"),s=e("../../framework/gg"),l=e("../../systems/remoteconfig/RemoteConfigModel"),c=e("../../systems/remoteconfig/RemoteConfigSystem"),u=cc._decorator,p=u.ccclass,h=u.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.appleSignInBtnNode=null,t.facebookLoginBtnNode=null,t.googleLoginBtnNode=null,t.guestLoginBtnNode=null,t}return i(t,e),t.prototype.onLoad=function(){this.appleSignInBtnNode.active=r.AppleSignInWrapper.enableSignIn();var e=c.remoteConfigSystem.getConfig(l.RemoteCoinfigType.LoginSwitch);s.gg.logger.log("\u767b\u5f55\u4e91\u63a7\u914d\u7f6e",e),e&&(this.facebookLoginBtnNode.active=null==e.facebook||e.facebook,this.googleLoginBtnNode.active=null==e.google||e.google,this.guestLoginBtnNode.active=null==e.guest||e.guest)},a([h(cc.Node)],t.prototype,"appleSignInBtnNode",void 0),a([h(cc.Node)],t.prototype,"facebookLoginBtnNode",void 0),a([h(cc.Node)],t.prototype,"googleLoginBtnNode",void 0),a([h(cc.Node)],t.prototype,"guestLoginBtnNode",void 0),a([p],t)}(cc.Component);n.default=d,cc._RF.pop()},{"../../ffframework/apple/AppleSignInWrapper":"AppleSignInWrapper","../../framework/gg":"gg","../../systems/remoteconfig/RemoteConfigModel":"RemoteConfigModel","../../systems/remoteconfig/RemoteConfigSystem":"RemoteConfigSystem"}],LoginSystem:[function(e,t,n){"use strict";cc._RF.push(t,"5dd22ZNczRLjqB/51vTHQ1B","LoginSystem");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.loginSystem=void 0;var r=e("../../configs/AppConfig"),s=e("../../configs/GameConfig"),l=e("../../ffframework/apple/AppleSignInWrapper"),c=e("../../ffframework/appsflyer/AppsFlyerWrapper"),u=e("../../ffframework/common/ActivationWrapper"),p=e("../../ffframework/common/DeviceInfoWrapper"),h=e("../../framework/gg"),d=a(e("../../framework/utils/StringUtils")),f=e("../api/core/GameCenterCommonParams"),g=e("../api/gameapi/GameApi"),m=e("../api/gamecenter/GameCenterApi"),y=e("../api/gamecenter/GameCenterApiModels"),_=e("../gamews/BaseProto"),v=e("../gamews/GameSocketSystem"),b=e("../rankOnline/RankOnlineSystem"),S=e("../user/UserModel"),C=e("../user/UserSystem"),I=e("../user/UserWalletModel"),R=e("../user/UserWalletSystem"),L=e("./LLLoginModel"),P=e("./LLLoginWrapper"),M=e("./LoginConst"),T=e("./LoginEvent"),E=e("./LoginModels"),A=e("./LoginProto"),w=function(){function e(){this.reconnectGameData=null,this.kickLogoutData=null,this._flatUserLoginCache=null}return Object.defineProperty(e.prototype,"flatUserLoginCache",{get:function(){if(null==this._flatUserLoginCache)try{var e=h.gg.localStorage.getItem(M.loginSystemConst.UserResponseLocalCacheKey);null!=e&&""!=e.trim()&&(this._flatUserLoginCache=JSON.parse(h.gg.localStorage.getItem(M.loginSystemConst.UserResponseLocalCacheKey)))}catch(t){h.gg.logger.error("\u83b7\u53d6\u672c\u5730\u7528\u6237\u7f13\u5b58\u6d88\u606f\u5931\u8d25"),h.gg.logger.error(t),this._flatUserLoginCache=null}return this._flatUserLoginCache},set:function(e){if(null==e)this._flatUserLoginCache=null,h.gg.localStorage.removeItem(M.loginSystemConst.UserResponseLocalCacheKey);else{if(e==this._flatUserLoginCache)return;this._flatUserLoginCache=e,h.gg.localStorage.setItem(M.loginSystemConst.UserResponseLocalCacheKey,JSON.stringify(this._flatUserLoginCache))}},enumerable:!1,configurable:!0}),e.prototype.logOut=function(){return o(this,void 0,void 0,function(){var e;return i(this,function(t){switch(t.label){case 0:return[4,P.LLLoginWrapper.logOut({uid:this.flatUserLoginCache.data.uid,login_type:this.flatUserLoginCache.login_type})];case 1:return 1===(null==(e=t.sent())?void 0:e.status)?h.gg.logger.log("Flat LogOut Success"):h.gg.logger.warn("Flat LogOut Failed"),this.flatUserLoginCache=null,v.gameSocketSystem.close(),h.gg.eventManager.emit(T.LoginEvent.OnUserLogout),[2]}})})},e.prototype.quickLogin=function(e){return o(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,this._handleCommonLogin(e)];case 1:return[2,t.sent()]}})})},e.prototype.appleSignIn=function(){return o(this,void 0,Promise,function(){var e,t;return i(this,function(n){switch(n.label){case 0:if(!l.AppleSignInWrapper.enableSignIn())return h.gg.logger.error("\u4e0d\u652f\u6301\u5728\u5f53\u524d\u5e73\u53f0\u8fdb\u884c Apple \u767b\u5f55\u64cd\u4f5c"),[2,{code:E.LoginResultCode.FailedUnSupportPlatform}];e=null,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,P.LLLoginWrapper.appleLogin()];case 2:return e=n.sent(),[3,4];case 3:return t=n.sent(),h.gg.logger.error("Flat: Apple\u767b\u5f55\u5931\u8d25",t),[3,4];case 4:return[4,this._handleCommonLogin(e)];case 5:return[2,n.sent()]}})})},e.prototype.facebookLogin=function(){return o(this,void 0,Promise,function(){var e,t;return i(this,function(n){switch(n.label){case 0:return h.gg.logger.error("\u4e0d\u652f\u6301\u5728\u5f53\u524d\u5e73\u53f0\u8fdb\u884c facebook \u64cd\u4f5c"),[2,{code:E.LoginResultCode.FailedUnSupportPlatform}];case 1:return n.trys.push([1,3,,4]),[4,P.LLLoginWrapper.facebookLogin()];case 2:return e=n.sent(),[3,4];case 3:return t=n.sent(),h.gg.logger.error("Flat: Facebook\u767b\u5f55\u5931\u8d25",t),[3,4];case 4:return[4,this._handleCommonLogin(e)];case 5:return[2,n.sent()]}})})},e.prototype.googleLogin=function(){return o(this,void 0,Promise,function(){var e,t;return i(this,function(n){switch(n.label){case 0:return h.gg.logger.error("\u4e0d\u652f\u6301\u5728\u5f53\u524d\u5e73\u53f0\u8fdb\u884c google \u64cd\u4f5c"),[2,{code:E.LoginResultCode.FailedUnSupportPlatform}];case 1:return n.trys.push([1,3,,4]),[4,P.LLLoginWrapper.googleLogin()];case 2:return e=n.sent(),[3,4];case 3:return t=n.sent(),h.gg.logger.error("Flat: Google\u767b\u5f55\u5931\u8d25",t),[3,4];case 4:return[4,this._handleCommonLogin(e)];case 5:return[2,n.sent()]}})})},e.prototype.deviceLogin=function(e){return o(this,void 0,Promise,function(){var t,n;return i(this,function(o){switch(o.label){case 0:t=null,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,P.LLLoginWrapper.deviceLogin(e)];case 2:return t=o.sent(),[3,4];case 3:return n=o.sent(),h.gg.logger.error("Flat: \u8bbe\u5907\u53f7\u767b\u5f55\u5931\u8d25",n),[3,4];case 4:return[4,this._handleCommonLogin(t)];case 5:return[2,o.sent()]}})})},e.prototype._InquireGameServerState=function(){return o(this,void 0,Promise,function(){var e;return i(this,function(t){switch(t.label){case 0:h.gg.logger.log("\u83b7\u53d6\u670d\u52a1\u5668\u72b6\u6001"),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,m.gameCenterApi.getGameServerStatus()];case 2:return[2,t.sent()];case 3:return e=t.sent(),h.gg.logger.error("\u83b7\u53d6\u670d\u52a1\u5668\u72b6\u6001\u62a5\u9519 "+e),[2,null];case 4:return[2]}})})},e.prototype._handleCommonLogin=function(e){return o(this,void 0,void 0,function(){var t;return i(this,function(n){switch(n.label){case 0:return(t=this._handleFlatLoginResponse(e)).code!=E.LoginResultCode.Success?[2,t]:[4,this._initGameServerHost(e)];case 1:return n.sent(),[4,this._connectToGameSocket()];case 2:return(t=n.sent()).code!=E.LoginResultCode.Success?[2,t]:[4,this._loginToGameServer(e)];case 3:return[2,t=n.sent()]}})})},e.prototype._handleFlatLoginResponse=function(e){if(!e)return h.gg.logger.error("Flat: \u767b\u5f55\u5931\u8d25\uff0c\u6ca1\u6709\u8fd4\u56de\u767b\u5f55\u7ed3\u679c"),{code:E.LoginResultCode.FailedFlatNoResp};switch(e.code){case L.LLLoginResultCode.Success:return e.data?(h.gg.logger.log("Flat: "+e.login_type+" \u767b\u5f55\u6210\u529f\n"+JSON.stringify(e,null,2)),{code:E.LoginResultCode.Success}):(h.gg.logger.error("Flat: "+e.login_type+" \u767b\u5f55\u6210\u529f\uff0c\u4f46\u662f\u6ca1\u6709\u8fd4\u56de\u7528\u6237\u4fe1\u606f"),{code:E.LoginResultCode.FailedFlatNoResp});case L.LLLoginResultCode.Cancel:return h.gg.logger.warn("Flat: "+e.login_type+" \u767b\u5f55\u53d6\u6d88"),{code:E.LoginResultCode.Cancel};case L.LLLoginResultCode.Error:if(null!=e.platform_err_code){h.gg.logger.error("Flat: "+e.login_type+" \u767b\u5f55\u5931\u8d25\uff0c\u9519\u8bef\u4ee3\u7801: "+e.platform_err_code+" \u9519\u8bef\u6d88\u606f: "+e.platform_err_msg);var t=void 0;switch(e.login_type){case y.FFLoginTypeEnum.Apple:t=E.LoginResultCode.FailedApple;break;case y.FFLoginTypeEnum.Facebook:t=E.LoginResultCode.FailedFacebook;break;case y.FFLoginTypeEnum.Google:t=E.LoginResultCode.FailedGoogle;break;case y.FFLoginTypeEnum.Device:t=E.LoginResultCode.FailedDevice;break;case y.FFLoginTypeEnum.Phone:t=E.LoginResultCode.FailedPhone;break;default:t=E.LoginResultCode.FailedUnknown}return{code:t}}return null!=e.api_err_code?(h.gg.logger.error("Flat: \u7528\u6237\u4e2d\u5fc3\u767b\u5f55\u5931\u8d25\uff0c\u9519\u8bef\u4ee3\u7801: "+e.api_err_code+" \u9519\u8bef\u6d88\u606f: "+e.api_err_msg),{code:E.LoginResultCode.FailedFlatErrorResp,flatErrCode:e.api_err_code,flatErrMsg:e.api_err_msg}):(h.gg.logger.error("Flat: \u767b\u5f55\u5931\u8d25"),{code:E.LoginResultCode.FailedUnknown});default:return h.gg.logger.error("Flat: \u672a\u77e5\u767b\u5f55\u7ed3\u679c "+e.code),{code:E.LoginResultCode.FailedUnknown}}},e.prototype._initGameServerHost=function(e){return o(this,void 0,void 0,function(){var t,n,o,a,s,l,c,u,p,f;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,m.gameCenterApi.getGameServerHost({uid:e.data.uid,token:e.data.user_token})];case 1:return(t=i.sent()).status===y.FlatHttpResponseCode.Success&&t.data&&(n=t.data.http_scheme,o=t.data.http_host,a=t.data.http_port,null!=t.data.http_scheme&&null!=t.data.http_host&&("",s=d.default.isEmpty(a)?n+"://"+o:n+"://"+o+":"+a,r.AppConfig.gameServerHttpHost=s),l=t.data.ws_scheme,c=t.data.ws_host,u=t.data.ws_port,null!=l&&null!=c&&("",p=d.default.isEmpty(u)?l+"://"+c:l+"://"+c+":"+u,r.AppConfig.gameServerWsHost=p)),[3,3];case 2:return f=i.sent(),h.gg.logger.error("\u83b7\u53d6\u6e38\u620f\u5206\u6876ip\u5730\u5740\u5931\u8d25\uff0c\u5c06\u91c7\u7528\u9ed8\u8ba4\u6e38\u620f\u670d\u52a1\u5668\u5730\u5740"),h.gg.logger.error(f),[3,3];case 3:return h.gg.logger.log("\u6700\u7ec8\u6e38\u620f\u670d\u52a1\u5730\u5740:\n* http\u5730\u5740: "+r.AppConfig.gameServerHttpHost+"\n* ws\u5730\u5740: "+r.AppConfig.gameServerWsHost),[2,{code:E.LoginResultCode.Success}]}})})},e.prototype._connectToGameSocket=function(){return o(this,void 0,void 0,function(){var e=this;return i(this,function(){return[2,new Promise(function(t){v.gameSocketSystem.onClose=function(){t({code:E.LoginResultCode.FailedGameSocketConnectFailed})},v.gameSocketSystem.connect(r.AppConfig.gameServerWsHost,function(){v.gameSocketSystem.onClose=function(){return o(e,void 0,void 0,function(){return i(this,function(){return h.gg.logger.log("\u8fde\u63a5\u5df2\u65ad\u5f00"),h.gg.eventManager.emit(T.LoginEvent.OnUserLostConnection),[2]})})};var n={onResponse:function(e){1==e.status?t({code:E.LoginResultCode.Success}):t({code:E.LoginResultCode.FailedGameSocketHandShakeError})}};v.gameSocketSystem.onOnce(_.BaseProtoMsg.HandShakingResponse,n.onResponse,n),v.gameSocketSystem.send(_.BaseProtoMsg.HandShakingRequest,{key:"Z2kGd3ksGM4Gs35f769K32X"})})})]})})},e.prototype._loginToGameServer=function(e){return o(this,void 0,void 0,function(){var t=this;return i(this,function(){return[2,new Promise(function(n){var o,i,a=A.UserLoginType.Device;switch(e.login_type){case y.FFLoginTypeEnum.Facebook:a=A.UserLoginType.Facebook;break;case y.FFLoginTypeEnum.Google:a=A.UserLoginType.Google;break;case y.FFLoginTypeEnum.Device:a=A.UserLoginType.Device;break;case y.FFLoginTypeEnum.Phone:a=A.UserLoginType.Phone;break;case y.FFLoginTypeEnum.Apple:a=A.UserLoginType.Apple}var l=new S.UserModel;l.uid=null!==(o=e.data.uid)&&void 0!==o?o:"",l.userToken=null!==(i=e.data.user_token)&&void 0!==i?i:"",C.userSystem.userModel=l;var d={onResponse:function(o){var i,r,s,c,u,p,d,f,m,_,v,S,L,P,M,T,w,O,G,N,D,B,U,k,x,F,H,j;if(1==o.status){l.loginType=a,l.userToken=null!==(i=e.data.user_token)&&void 0!==i?i:"",l.playerId=null!==(r=o.player_id)&&void 0!==r?r:0,l.uid=null!==(s=e.data.uid)&&void 0!==s?s:"",l.userName=null!==(c=o.nick)&&void 0!==c?c:"",l.userIcon=null!==(u=o.facelook)&&void 0!==u?u:"1",l.userIconFrame=null!==(p=o.frame)&&void 0!==p?p:"1010000",l.gender=null==o.gender||""==o.gender?A.UserGenderType.Unknown:o.gender,l.phone=null!==(d=o.phone)&&void 0!==d?d:"",l.isPlaying=null!==(f=o.has_playing)&&void 0!==f&&f,l.isFirstLogin=null!==(m=o.first_login)&&void 0!==m&&m,l.loginDay=null!==(_=o.login_day)&&void 0!==_?_:1,l.isOfficeAccount=null!==(v=o.is_office_acc)&&void 0!==v&&v,l.isBlockAccount=null!==(S=o.is_block_acc)&&void 0!==S&&S,l.isReturnPlayer=null!==(L=o.is_return_player)&&void 0!==L&&L,l.isfirstrecharge=null!==(P=o.is_first_recharge)&&void 0!==P&&P,l.level=null!==(M=o.level)&&void 0!==M?M:0,l.exp=null!==(T=o.exp)&&void 0!==T?T:0,l.nextLevelExp=null!==(w=o.next_level_exp)&&void 0!==w?w:0,l.fashion=null!==(O=o.fashion)&&void 0!==O?O:0,l.charm=null!==(G=o.charm)&&void 0!==G?G:0,l.grade=null!==(N=o.grade)&&void 0!==N?N:0,l.star=null!==(D=o.star)&&void 0!==D?D:0,l.heart=null!==(B=o.heart)&&void 0!==B?B:0,l.vipInfo=null!==(U=o.vip_info)&&void 0!==U?U:null,C.userSystem.userModel=l,C.userSystem.enable();var W=new I.UserWalletModel;W.bonus=null!==(k=o.bonus)&&void 0!==k?k:0,W.deposit=null!==(x=o.deposit)&&void 0!==x?x:0,W.winning=null!==(F=o.winning)&&void 0!==F?F:0,W.diamondDeposit=null!==(H=o.diamond_deposit)&&void 0!==H?H:0,W.diamondBonus=null!==(j=o.diamond_bonus)&&void 0!==j?j:0,R.userWalletSystem.wallet=W,R.userWalletSystem.enable(),t.flatUserLoginCache=e,t._initPlayKickLogoutBroadcast(),t._playerOfflineBroadCast(),n({code:E.LoginResultCode.Success}),g.gameApi.getPlyaerDesignList({qurey_uid:C.userSystem.userModel.uid}).then(function(e){e.status===y.FlatHttpResponseCode.Success&&C.userSystem.updataUserDesignList(e.data.design_list)}).catch(function(e){h.gg.logger.error("login--\x3egetPlyaerDesignList----\x3e",e)}),b.rankOnlineSystem.enable()}else{h.gg.logger.warn("ws user login \u767b\u5f55\u5931\u8d25",o.msg);var V=E.LoginResultCode.FailedUserLoginFailed;o.status==E.LoginResultCode.GameAccountIsCancelling?V=E.LoginResultCode.GameAccountIsCancelling:o.status==E.LoginResultCode.GameAccountIsCancelled&&(V=E.LoginResultCode.GameAccountIsCancelled),n({code:V})}}};v.gameSocketSystem.onOnce(A.LoginProtoMsg.UserLoginResponse,d.onResponse,d),v.gameSocketSystem.send(A.LoginProtoMsg.UserLoginRequest,{identity_type:a,acc_uid:e.data.uid,acc_name:e.data.nick_name,facelook:e.data.user_icon,token:e.data.user_token,did:u.ActivationWrapper.did,pkg_name:r.AppConfig.packageName,gaid:p.DeviceInfoWrapper.gaid,idfv:p.DeviceInfoWrapper.idfv,apps_flyer_id:c.AppsFlyerWrapper.appsFlyerUid,game_version:s.GameConfig.gameVersionName,platform:f.GameCenterCommonParams.getPlatform()})})]})})},e.prototype._initPlayKickLogoutBroadcast=function(){var e=this,t={onResponse:function(t){h.gg.logger.warn("\u4f60\u5df2\u7ecf\u88ab\u8e22\u4e0b\u7ebf",t),e.kickLogoutData=t,h.gg.eventManager.emit(T.LoginEvent.OnUserKickOut)}};v.gameSocketSystem.onOnce(A.LoginProtoMsg.PlayerKickLogoutBroadCast,t.onResponse,t)},e.prototype._playerOfflineBroadCast=function(){var e={onResponse:function(e){e.player_id===C.userSystem.userModel.playerId&&(h.gg.logger.warn("\u5f02\u5e38\u8fde\u63a5\u65ad\u5f00\u5e7f\u64ad"),h.gg.eventManager.emit(T.LoginEvent.OnUserKickOut))}};v.gameSocketSystem.onOnce(A.LoginProtoMsg.PlayerOfflineBroadCast,e.onResponse,e)},e.prototype.requestReconnectGameData=function(){return o(this,void 0,Promise,function(){return i(this,function(e){switch(e.label){case 0:return[4,v.gameSocketSystem.requestAsync({requestMsg:A.LoginProtoMsg.ReConnectRequest,requestData:{},responseMsg:A.LoginProtoMsg.ReConnectResponse})];case 1:return[2,e.sent()]}})})},e}();n.loginSystem=new w,cc._RF.pop()},{"../../configs/AppConfig":"AppConfig","../../configs/GameConfig":"GameConfig","../../ffframework/apple/AppleSignInWrapper":"AppleSignInWrapper","../../ffframework/appsflyer/AppsFlyerWrapper":"AppsFlyerWrapper","../../ffframework/common/ActivationWrapper":"ActivationWrapper","../../ffframework/common/DeviceInfoWrapper":"DeviceInfoWrapper","../../framework/gg":"gg","../../framework/utils/StringUtils":"StringUtils","../api/core/GameCenterCommonParams":"GameCenterCommonParams","../api/gameapi/GameApi":"GameApi","../api/gamecenter/GameCenterApi":"GameCenterApi","../api/gamecenter/GameCenterApiModels":"GameCenterApiModels","../gamews/BaseProto":"BaseProto","../gamews/GameSocketSystem":"GameSocketSystem","../rankOnline/RankOnlineSystem":"RankOnlineSystem","../user/UserModel":"UserModel","../user/UserSystem":"UserSystem","../user/UserWalletModel":"UserWalletModel","../user/UserWalletSystem":"UserWalletSystem","./LLLoginModel":"LLLoginModel","./LLLoginWrapper":"LLLoginWrapper","./LoginConst":"LoginConst","./LoginEvent":"LoginEvent","./LoginModels":"LoginModels","./LoginProto":"LoginProto"}],Log:[function(e,t,n){"use strict";cc._RF.push(t,"d60aa2khOlKgqt1pGq1bjIm","Log"),Object.defineProperty(n,"__esModule",{value:!0}),n.Log=void 0;var o=e("./Browser"),i=function(){function e(){}return e.enable=function(){e._logdiv||(e._logdiv=o.Browser.createElement("div"),e._logdiv.style.cssText="border:white;padding:4px;overflow-y:auto;z-index:1000000;background:rgba(100,100,100,0.6);color:white;position: absolute;left:0px;top:0px;width:50%;height:50%;",o.Browser.document.body.appendChild(e._logdiv),e._btn=o.Browser.createElement("button"),e._btn.innerText="Hide",e._btn.style.cssText="z-index:1000001;position: absolute;left:10px;top:10px;",e._btn.onclick=e.toggle,o.Browser.document.body.appendChild(e._btn))},e.toggle=function(){var t=e._logdiv.style;""===t.display?(e._btn.innerText="Show",t.display="none"):(e._btn.innerText="Hide",t.display="")},e.print=function(t){e._logdiv&&(e._count>=e.maxCount&&e.clear(),e._count++,e._logdiv.innerText+=t+"\n",e.autoScrollToBottom&&e._logdiv.scrollHeight-e._logdiv.scrollTop-e._logdiv.clientHeight<50&&(e._logdiv.scrollTop=e._logdiv.scrollHeight))},e.clear=function(){e._logdiv.innerText="",e._count=0},e._count=0,e.maxCount=50,e.autoScrollToBottom=!0,e}();n.Log=i,cc._RF.pop()},{"./Browser":"Browser"}],MailAppendixItem:[function(e,t,n){"use strict";cc._RF.push(t,"6509eeYjIRMv65KpnFd03st","MailAppendixItem");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../../../../main/scripts/framework/gg"),s=e("../../../../../main/scripts/framework/i18n/I18n"),l=e("../../../../../main/scripts/systems/api/gameapi/GameApiModels"),c=e("../../../../../main/scripts/systems/item/CommonItemConfig"),u=e("../../../../../main/scripts/systems/item/ItemSystem"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iconFrame=[],t.iconSprite=null,t.spine=null,t.claimedNode=null,t.numLab=null,t.awardModel=null,t.getStatus=0,t.itemScale={avatar_frame:.3,chat_bubble:.25,baloot_card:.45,baloot_bg:.25,ludo_chessboard:.25,ludo_dice:.55,game_gift:.55},t}return i(t,e),t.prototype.updataUI=function(e){var t,n=this;if(e)if(1==this.getStatus?this.claimedNode.active=!0:this.claimedNode.active=!1,e.award_type===l.AwardType.Item){var o=!0;e.item_id===(null===(t=this.awardModel)||void 0===t?void 0:t.item_id)&&(o=!1),this.awardModel=e;var i=u.itemSystem.getItem(this.awardModel.item_id);i.item_class===l.ItemClass.design?-1==this.awardModel.effective_days?this.numLab.string=s.i18n.getText("item.showTime"):this.numLab.string=s.i18n.getText("item.dayNum",this.awardModel.effective_days):this.numLab.string="X"+this.awardModel.count,o&&(this.iconSprite.node.active=!1,this.spine.node.active=!1,u.itemSystem.getItemIconInfo(this.awardModel.item_id).then(function(e){null!=e&&(e.iconType===c.IconType.Image?(n.iconSprite.spriteFrame=e.spriteFrame,n.iconSprite.node.active=!0):e.iconType===c.IconType.Dragon?r.gg.logger.log("\u5f53\u524d\u7248\u672c\u4e0d\u652f\u6301\u9f99\u9aa8\u6570\u636e-\u8bf7\u68c0\u67e5\u914d\u7f6e\u8868"):e.iconType===c.IconType.Spine&&(n.spine.skeletonData=e.spineData,n.spine.node.active=!0,n.spine.setAnimation(0,"animation",!0)),n.itemScale[i.item_type]?(n.iconSprite.node.scale=n.itemScale[i.item_type],n.spine.node.scale=n.itemScale[i.item_type]):(n.iconSprite.node.scale=.6,n.spine.node.scale=.6))}))}else this.awardModel=e,this.spine.node.active=!1,this.iconSprite.node.active=!0,this.iconSprite.node.scale=.6,e.award_type===l.AwardType.Coin?this.iconSprite.spriteFrame=this.iconFrame[0]:this.iconSprite.spriteFrame=this.iconFrame[1],this.numLab.string="X"+this.awardModel.count},a([d({type:cc.SpriteFrame,tooltip:"\u91d1\u5e01/\u94bb\u77f3\u56fe\u96c6"})],t.prototype,"iconFrame",void 0),a([d({type:cc.Sprite,tooltip:"\u9053\u5177\u56fe\u6807"})],t.prototype,"iconSprite",void 0),a([d({type:sp.Skeleton,tooltip:"\u9053\u5177spine"})],t.prototype,"spine",void 0),a([d({type:cc.Node,tooltip:"\u5df2\u9886\u53d6\u6807\u8bc6"})],t.prototype,"claimedNode",void 0),a([d({type:cc.Label,tooltip:"\u5956\u52b1\u6570\u91cf"})],t.prototype,"numLab",void 0),a([h],t)}(cc.Component);n.default=f,cc._RF.pop()},{"../../../../../main/scripts/framework/gg":"gg","../../../../../main/scripts/framework/i18n/I18n":"I18n","../../../../../main/scripts/systems/api/gameapi/GameApiModels":"GameApiModels","../../../../../main/scripts/systems/item/CommonItemConfig":"CommonItemConfig","../../../../../main/scripts/systems/item/ItemSystem":"ItemSystem"}],MailDetailsPanel:[function(e,t,n){"use strict";cc._RF.push(t,"a45e2pkYnhFl7BrvVlYmgl2","MailDetailsPanel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.FriendMail=void 0;var c=l(e("../../../../../main/scripts/components/UserIconStyle1Component")),u=e("../../../../../main/scripts/configs/CommonAudioConfig"),p=e("../../../../../main/scripts/configs/CommonPanelConfig"),h=l(e("../../../../../main/scripts/framework/components/dialogstyle/MoveStyleDialogPanelV1")),d=e("../../../../../main/scripts/framework/gg"),f=e("../../../../../main/scripts/framework/i18n/I18n"),g=e("../../../../../main/scripts/systems/api/gameapi/GameApi"),m=e("../../../../../main/scripts/systems/api/gameapi/GameApiModels"),y=e("../../../../../main/scripts/systems/item/ItemSystem"),_=e("../../../../../main/scripts/systems/user/UserUISystem"),v=e("../../../../../main/scripts/systems/user/UserWalletSystem"),b=e("../../../systems/ui/lobby/LobbyUIEvent"),S=l(e("./MailAppendixItem")),C=cc._decorator,I=C.ccclass,R=C.property,L=function(){function e(){this.friendMailLay=null,this.friendMailContent=null,this.friendMailLab=null,this.userIconStyle=null,this.vipSprite=null,this.userNameLab=null,this.userIDLab=null}return a([R({type:cc.Node,tooltip:"\u4e3b\u8282\u70b9"})],e.prototype,"friendMailLay",void 0),a([R({type:cc.Node,tooltip:"\u5185\u5bb9\u6ed1\u52a8\u8282\u70b9"})],e.prototype,"friendMailContent",void 0),a([R({type:cc.Label,tooltip:"\u5185\u5bb9"})],e.prototype,"friendMailLab",void 0),a([R({type:cc.Node,tooltip:"\u73a9\u5bb6\u5934\u50cf\u4fe1\u606f"})],e.prototype,"userIconStyle",void 0),a([R({type:cc.Sprite,tooltip:"\u7528\u6237vip\u56fe\u6807"})],e.prototype,"vipSprite",void 0),a([R({type:cc.Label,tooltip:"\u73a9\u5bb6\u540d\u79f0"})],e.prototype,"userNameLab",void 0),a([R({type:cc.Label,tooltip:"\u73a9\u5bb6ID"})],e.prototype,"userIDLab",void 0),a([I("FriendMail")],e)}();n.FriendMail=L;var P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.titlleLabel=null,t.deleteNode=null,t.claimNode=null,t.systemLay=null,t.systemContentView=null,t.contentLabel=null,t.friendMail=null,t.contentAppendix=null,t.appendixPre=null,t.appendixItemPool=new cc.NodePool,t.emailInfo=null,t}return i(t,e),t.prototype.show=function(e){this.emailInfo=e.data,this.setAppendixItemPool(),this.updataUI(),this.showContentAppendix(),this._playShowAnim(function(){e.onShowed()})},t.prototype.hide=function(e){this._playHideAnim(function(){e.onHided()})},t.prototype.updataUI=function(){var e;return r(this,void 0,void 0,function(){var t,n=this;return s(this,function(o){switch(o.label){case 0:return this.emailInfo.award_list&&this.emailInfo.award_list.length>0&&0===this.emailInfo.get_status?(this.claimNode.active=!0,this.deleteNode.active=!1):(this.claimNode.active=!1,this.deleteNode.active=!0),this.titlleLabel.string=this.emailInfo.title,this.emailInfo.email_type!==m.EmailType.System?[3,1]:(this.systemLay.active=!0,this.friendMail.friendMailLay.active=!1,this.contentLabel.string=this.emailInfo.content.replace(/\r/g,"\n"),this.scheduleOnce(function(){n.systemContentView.height=n.contentLabel.node.height},.1),[3,4]);case 1:return this.emailInfo.email_type!==m.EmailType.Friend?[3,4]:(this.systemLay.active=!1,this.friendMail.friendMailLay.active=!0,this.friendMail.userNameLab.string=this.emailInfo.sender_name,this.friendMail.userIDLab.string=this.emailInfo.from_uid+":ID",this.friendMail.friendMailLab.string=this.emailInfo.content.replace(/\r/g,"\n"),this.scheduleOnce(function(){n.friendMail.friendMailContent.height=n.friendMail.friendMailLab.node.height},.1),this.friendMail.userIconStyle.getComponent(c.default).updateIcon(this.emailInfo.sender_avatar?this.emailInfo.sender_avatar:""),this.friendMail.userIconStyle.getComponent(c.default).updateIconFrame(this.emailInfo.sender_frame?this.emailInfo.sender_frame:""),(null===(e=this.emailInfo)||void 0===e?void 0:e.sender_vip_info)?(this.friendMail.vipSprite.node.active=!0,t=this.friendMail.vipSprite,[4,_.userUISystem.loadUserVipIcon(this.emailInfo.sender_vip_info.vip_level,this.emailInfo.sender_vip_info.vip_status)]):[3,3]);case 2:return t.spriteFrame=o.sent(),[3,4];case 3:this.friendMail.vipSprite.node.active=!1,o.label=4;case 4:return[2]}})})},t.prototype.setAppendixItemPool=function(){for(var e=0,t=this.contentAppendix.children;e<t.length;e++){var n=t[e];this.appendixItemPool.put(n)}this.contentAppendix.removeAllChildren()},t.prototype.showContentAppendix=function(){if(null!=this.emailInfo.award_list){this.contentAppendix.width=this.emailInfo.award_list.length*this.appendixPre.width,this.contentAppendix.setPosition(cc.v3(260,0,0));for(var e=0,t=0,n=this.emailInfo.award_list;t<n.length;t++){var o=n[t],i=this.appendixItemPool.get();i||(i=cc.instantiate(this.appendixPre)),this.contentAppendix.addChild(i),i.position=cc.v3(0-e*this.appendixPre.width,0,0);var a=i.getComponent(S.default);a.getStatus=this.emailInfo.get_status,a.updataUI(o),e++}}},t.prototype.onclickThanks=function(){this.emailInfo.email_type==m.EmailType.Friend?d.gg.panelRouter.show({panel:p.CommonPanelConfig.userInfoPanel,data:{qurey_uid:this.emailInfo.from_uid,userName:this.emailInfo.sender_name,userIcon:this.emailInfo.sender_avatar,userIconFrame:this.emailInfo.sender_frame}}):d.gg.logger.error("\u90ae\u4ef6\u7c7b\u578b\u51fa\u9519---\x3eemail_type")},t.prototype.onCloseBtnClick=function(){d.gg.panelRouter.hide({panel:p.CommonPanelConfig.mailDetailsPanel}),d.gg.audio.playOneShot(u.CommonAudioConfig.btnClose)},t.prototype.onClickDelete=function(){var e=this,t={email_id:String(this.emailInfo.id)};d.gg.panelRouter.show({panel:p.CommonPanelConfig.loadingPanel}),g.gameApi.deleteEmail(t).then(function(t){d.gg.panelRouter.hide({panel:p.CommonPanelConfig.loadingPanel}),t?(e.onCloseBtnClick(),d.gg.eventManager.emit(b.LobbyUIEvent.LobbyMailDeleteEvent)):d.gg.panelRouter.show({panel:p.CommonPanelConfig.toastPanel,data:{text:f.i18n.getText("lobby.mail.deleteFailed")}})}).catch(function(){d.gg.panelRouter.hide({panel:p.CommonPanelConfig.loadingPanel,onHided:function(){d.gg.panelRouter.show({panel:p.CommonPanelConfig.toastPanel,data:{text:f.i18n.getText("lobby.mail.deleteFailed")}})}})})},t.prototype.onClickGetEmilAward=function(){var e=this,t={email_id:String(this.emailInfo.id)},n=v.userWalletSystem.coinBalance,o=v.userWalletSystem.diamondBalance;d.gg.panelRouter.show({panel:p.CommonPanelConfig.loadingPanel}),g.gameApi.getEmailAward(t).then(function(t){var i;if(d.gg.panelRouter.hide({panel:p.CommonPanelConfig.loadingPanel}),t){e.onCloseBtnClick();for(var a=[],r=0,s=e.emailInfo.award_list;r<s.length;r++){var l=s[r],c=n,u=f.i18n.getText("item.showTime");l.award_type===m.AwardType.Coin?c=n:l.award_type===m.AwardType.Diamond?c=o:l.award_type===m.AwardType.Item&&((null===(i=y.itemSystem.getItem(l.item_id))||void 0===i?void 0:i.item_class)===m.ItemClass.props?u=l.count+"":l.effective_days&&-1!==l.effective_days&&(u=f.i18n.getText("item.dayNum",l.effective_days)));var h={award_type:l.award_type,count:l.count,initValue:c,itemId:l.item_id,itemCount:u};a.push(h)}var g={giftList:a};d.gg.panelRouter.show({panel:p.CommonPanelConfig.receiveFeaturesPanel,data:g}),d.gg.eventManager.emit(b.LobbyUIEvent.LobbyGetEmilAwardeEvent,e.emailInfo.id)}else d.gg.panelRouter.show({panel:p.CommonPanelConfig.toastPanel,data:{text:f.i18n.getText("lobby.mail.claimFailed")}})}).catch(function(e){d.gg.logger.error("mail---\x3eonClickGetEmilAward--\x3e",e),d.gg.panelRouter.hide({panel:p.CommonPanelConfig.loadingPanel,onHided:function(){d.gg.panelRouter.show({panel:p.CommonPanelConfig.toastPanel,data:{text:f.i18n.getText("lobby.mail.claimFailed")}})}})})},a([R({type:cc.Label,tooltip:"\u90ae\u4ef6\u6807\u9898"})],t.prototype,"titlleLabel",void 0),a([R({type:cc.Node,tooltip:"\u90ae\u4ef6\u5220\u9664\u8282\u70b9"})],t.prototype,"deleteNode",void 0),a([R({type:cc.Node,tooltip:"\u90ae\u4ef6\u9886\u53d6\u8282\u70b9"})],t.prototype,"claimNode",void 0),a([R({type:cc.Node,tooltip:"\u7cfb\u7edf\u90ae\u4ef6\u5e03\u5c40"})],t.prototype,"systemLay",void 0),a([R({type:cc.Node,tooltip:"\u7cfb\u7edf\u90ae\u4ef6\u5185\u5bb9\u6ed1\u52a8view"})],t.prototype,"systemContentView",void 0),a([R({type:cc.Label,tooltip:"\u90ae\u4ef6\u5185\u5bb9"})],t.prototype,"contentLabel",void 0),a([R({type:L,tooltip:"\u73a9\u5bb6\u90ae\u4ef6\u76f8\u5173\u7279\u6709\u5e03\u5c40"})],t.prototype,"friendMail",void 0),a([R({type:cc.Node,tooltip:"\u9644\u4ef6\u6ed1\u52a8view"})],t.prototype,"contentAppendix",void 0),a([R({type:cc.Node,tooltip:"\u9644\u4ef6item"})],t.prototype,"appendixPre",void 0),a([I],t)}(h.default);n.default=P,cc._RF.pop()},{"../../../../../main/scripts/components/UserIconStyle1Component":"UserIconStyle1Component","../../../../../main/scripts/configs/CommonAudioConfig":"CommonAudioConfig","../../../../../main/scripts/configs/CommonPanelConfig":"CommonPanelConfig","../../../../../main/scripts/framework/components/dialogstyle/MoveStyleDialogPanelV1":"MoveStyleDialogPanelV1","../../../../../main/scripts/framework/gg":"gg","../../../../../main/scripts/framework/i18n/I18n":"I18n","../../../../../main/scripts/systems/api/gameapi/GameApi":"GameApi","../../../../../main/scripts/systems/api/gameapi/GameApiModels":"GameApiModels","../../../../../main/scripts/systems/item/ItemSystem":"ItemSystem","../../../../../main/scripts/systems/user/UserUISystem":"UserUISystem","../../../../../main/scripts/systems/user/UserWalletSystem":"UserWalletSystem","../../../systems/ui/lobby/LobbyUIEvent":"LobbyUIEvent","./MailAppendixItem":"MailAppendixItem"}],MailItem:[function(e,t,n){"use strict";cc._RF.push(t,"9285apjW4BL1asMoToP36DM","MailItem");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../../../../main/scripts/framework/gg"),s=e("../../../../../main/scripts/framework/utils/TimeUtils"),l=e("../../../../../main/scripts/systems/api/gameapi/GameApi"),c=e("../../../../../main/scripts/systems/api/gameapi/GameApiModels"),u=e("../../../configs/CommonPanelConfig"),p=e("../../../systems/ui/lobby/LobbyUIEvent"),h=cc._decorator,d=h.ccclass,f=h.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.timeLab=null,t.newNode=null,t.appendixNode=null,t.claimedNode=null,t.sendLab=null,t.emilInfoModel=null,t}return i(t,e),t.prototype.onEnable=function(){this.node.on(cc.Node.EventType.TOUCH_END,this.onLookEmailClick,this),r.gg.eventManager.on(p.LobbyUIEvent.LobbyGetEmilAwardeEvent,this.onGetEmilAwarde,this)},t.prototype.onDisable=function(){this.node.off(cc.Node.EventType.TOUCH_END,this.onLookEmailClick,this),r.gg.eventManager.offTarget(this)},t.prototype.onGetEmilAwarde=function(e){e===this.emilInfoModel.id&&(this.emilInfoModel.get_status=1,this.claimedNode.opacity=255)},t.prototype.updataUI=function(){var e;null!=this.emilInfoModel&&(this.timeLab.string=s.TimeUtils.formatData(this.emilInfoModel.send_time),0===this.emilInfoModel.look_status?this.newNode.opacity=255:this.newNode.opacity=0,null==this.emilInfoModel.award_list||0===this.emilInfoModel.award_list.length?this.appendixNode.opacity=0:this.appendixNode.opacity=255,1===this.emilInfoModel.get_status?this.claimedNode.opacity=255:this.claimedNode.opacity=0,this.emilInfoModel.email_type===c.EmailType.System?this.sendLab.string=this.emilInfoModel.title:this.sendLab.string=null!==(e=this.emilInfoModel.sender_name)&&void 0!==e?e:"")},t.prototype.onLookEmailClick=function(){var e=this;if(null!=this.emilInfoModel){if(0===this.emilInfoModel.look_status){var t={email_id:String(this.emilInfoModel.id)};l.gameApi.lookEamil(t).then(function(t){e.newNode.opacity=t?0:255,t&&r.gg.eventManager.emit(p.LobbyUIEvent.LobbyLookMailEvent,e.emilInfoModel.id)}).catch(function(){e.newNode.opacity=255})}r.gg.panelRouter.loadAsync(u.CommonPanelConfig.mailDetailsPanel).then(function(){r.gg.panelRouter.show({panel:u.CommonPanelConfig.mailDetailsPanel,data:e.emilInfoModel})})}},a([f({type:cc.Label,tooltip:"\u90ae\u4ef6\u65f6\u95f4"})],t.prototype,"timeLab",void 0),a([f({type:cc.Node,tooltip:"\u672a\u8bfb\u6807\u8bc6"})],t.prototype,"newNode",void 0),a([f({type:cc.Node,tooltip:"\u9644\u4ef6\u6807\u8bc6"})],t.prototype,"appendixNode",void 0),a([f({type:cc.Node,tooltip:"\u5df2\u9886\u53d6\u6807\u8bc6"})],t.prototype,"claimedNode",void 0),a([f({type:cc.Label,tooltip:"\u53d1\u9001\u8005id"})],t.prototype,"sendLab",void 0),a([d],t)}(cc.Component);n.default=g,cc._RF.pop()},{"../../../../../main/scripts/framework/gg":"gg","../../../../../main/scripts/framework/utils/TimeUtils":"TimeUtils","../../../../../main/scripts/systems/api/gameapi/GameApi":"GameApi","../../../../../main/scripts/systems/api/gameapi/GameApiModels":"GameApiModels","../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../systems/ui/lobby/LobbyUIEvent":"LobbyUIEvent"}],MailList:[function(e,t,n){"use strict";cc._RF.push(t,"e0ccfOKh9tCloHz191lpAmO","MailList");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../../../../main/scripts/framework/gg"),l=e("../../../systems/ui/lobby/LobbyUIEvent"),c=r(e("./MailItem")),u=cc._decorator,p=u.ccclass,h=u.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mailView=null,t.mailItemParentNode=null,t.mailItem=null,t.spaceingY=10,t.paddingTop=10,t.visableAreaMarginTop=0,t.visableAreaMarginBottom=0,t.virtualNodes=[],t.mailNodeArray=new Array,t.mailInfos=null,t.lastTimer=0,t}return i(t,e),t.prototype.onEnable=function(){this.mailItemParentNode.on(cc.Node.EventType.POSITION_CHANGED,this.onPositionChanged,this),s.gg.eventManager.on(l.LobbyUIEvent.LobbyLookMailEvent,this.onLookEmal,this),s.gg.eventManager.on(l.LobbyUIEvent.LobbyGetEmilAwardeEvent,this.onGetEmilAwarde,this),this.mailView.node.on("scroll-ended",this.updateList,this)},t.prototype.onDisable=function(){this.mailItemParentNode.off(cc.Node.EventType.POSITION_CHANGED,this.onPositionChanged,this),s.gg.eventManager.offTarget(this),this.mailView.node.off("scroll-ended",this.updateList,this)},t.prototype.onLookEmal=function(e){for(var t=0,n=this.mailInfos;t<n.length;t++){var o=n[t];o.id===e&&(o.look_status=1)}},t.prototype.onGetEmilAwarde=function(e){for(var t=0,n=this.mailInfos;t<n.length;t++){var o=n[t];o.id===e&&(o.get_status=1)}},t.prototype.init=function(e){this.mailInfos=e,this.virtualNodes=[],this.mailView.stopAutoScroll(),null!==this.mailInfos&&(this.virtualNodes=this.mailInfos.map(function(){return null}),this.initParentHeight()),this.mailItemParentNode.position=cc.v3(),this.updateList()},t.prototype.reset=function(){this.virtualNodes=[],this.mailNodeArray=[];for(var e=this.mailItemParentNode.childrenCount-1;e>=0;--e)this.mailNodeArray.push(this.mailItemParentNode.children[e]),this.mailItemParentNode.children[e].active=!1,this.mailItemParentNode.children[e].getComponent(c.default)&&(this.mailItemParentNode.children[e].getComponent(c.default).emilInfoModel=null);this.mailItemParentNode.position=cc.v3()},t.prototype.initParentHeight=function(){var e=this.mailInfos.length;this.mailItemParentNode.height=this.paddingTop+this.mailItem.height*e+this.spaceingY*e,this.mailItemParentNode.height<this.mailView.node.height&&(this.mailItemParentNode.height=this.mailView.node.height)},t.prototype.onPositionChanged=function(){var e=Date.now();(e-this.lastTimer)/1e3>=.1&&(this.lastTimer=e,this.updateList())},t.prototype.updateList=function(){for(var e=0;e<this.virtualNodes.length;++e){var t=this.virtualNodes[e];if(this.isVisable(e)){t||((t=this.mailNodeArray.pop())||(t=cc.instantiate(this.mailItem),this.mailItemParentNode.addChild(t)),t.active=!0,this.virtualNodes[e]=t),t.position=this.getIndexPos(e);var n=t.getComponent(c.default);n.emilInfoModel=this.mailInfos[e],n.updataUI()}else t&&(t.active=!1,this.mailNodeArray.push(t)),this.virtualNodes[e]=null}},t.prototype.isVisable=function(e){var t=this.getIndexPos(e),n=-this.mailItemParentNode.position.y+this.visableAreaMarginTop,o=n-this.visableAreaMarginTop-this.mailView.node.height-this.visableAreaMarginBottom;return t.y+.5*this.mailItem.height<=n&&t.y-.5*this.mailItem.height>=o},t.prototype.getIndexPos=function(e){return cc.v3(0,-this.paddingTop-this.mailItem.height*(e+.5)-e*this.spaceingY)},a([h({type:cc.ScrollView,tooltip:"\u90ae\u4ef6\u5217\u8868"})],t.prototype,"mailView",void 0),a([h({type:cc.Node,tooltip:"\u90ae\u4ef6\u5217\u8868\u7236\u8282\u70b9"})],t.prototype,"mailItemParentNode",void 0),a([h({type:cc.Node,tooltip:"\u90ae\u4ef6itme"})],t.prototype,"mailItem",void 0),a([h({tooltip:"Item \u95f4\u9694\uff08px\uff09"})],t.prototype,"spaceingY",void 0),a([h({tooltip:"Item \u8ddd\u79bb\u4e0a\u8fb9\uff08px\uff09"})],t.prototype,"paddingTop",void 0),a([h({tooltip:"\u53ef\u89c6\u533a\u57df margin, \u8d1f\u6570\u4e3a\u5f80\u5916\u6269\u5c55"})],t.prototype,"visableAreaMarginTop",void 0),a([h({tooltip:"\u53ef\u89c6\u533a\u57df margin, \u8d1f\u6570\u4e3a\u5f80\u5916\u6269\u5c55"})],t.prototype,"visableAreaMarginBottom",void 0),a([p],t)}(cc.Component);n.default=d,cc._RF.pop()},{"../../../../../main/scripts/framework/gg":"gg","../../../systems/ui/lobby/LobbyUIEvent":"LobbyUIEvent","./MailItem":"MailItem"}],MailPanel:[function(e,t,n){"use strict";cc._RF.push(t,"6707csznPpFrbTmiArBigGU","MailPanel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=e("../../../../../main/scripts/configs/CommonAudioConfig"),u=l(e("../../../../../main/scripts/framework/components/dialogstyle/MoveStyleDialogPanelV2")),p=e("../../../../../main/scripts/framework/gg"),h=e("../../../../../main/scripts/systems/api/gameapi/GameApi"),d=e("../../../../../main/scripts/systems/api/gameapi/GameApiModels"),f=e("../../../configs/CommonPanelConfig"),g=e("../../../systems/lobby/LobbyHintSystem"),m=e("../../../systems/ui/lobby/LobbyUIEvent"),y=l(e("./MailList")),_=cc._decorator,v=_.ccclass,b=_.property,S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mailList=null,t.noMailLay=null,t.systemChoose=null,t.friendChoose=null,t.sysRedNode=null,t.friendRedNode=null,t.emailType=d.EmailType.System,t}return i(t,e),t.prototype.onEnable=function(){p.gg.eventManager.on(m.LobbyUIEvent.LobbyMailDeleteEvent,this.onMailDelete,this),p.gg.eventManager.on(m.LobbyUIEvent.LobbyGetEmilAwardeEvent,this.onAwarded,this)},t.prototype.onDisable=function(){p.gg.eventManager.offTarget(this)},t.prototype.show=function(e){this.updateBtnState(),this._playShowAnim(function(){e.onShowed()}),this.checkRedDot()},t.prototype.hide=function(e){this._playHideAnim(function(){e.onHided(),g.lobbyHintSystem.getHintData(d.LobbyHintEnum.MailReddot)})},t.prototype.onMailDelete=function(){this.getMailList()},t.prototype.onCloseBtnClick=function(){p.gg.panelRouter.hide({panel:f.CommonPanelConfig.mailPanel}),p.gg.audio.playOneShot(c.CommonAudioConfig.btnClose)},t.prototype.getMailList=function(){var e=this;this.mailList.reset();var t={email_type:this.emailType};h.gameApi.getEmailListList(t).then(function(t){var n;e.noMailLay.active=!1,e.mailList.node.opacity=0,(null===(n=t.data)||void 0===n?void 0:n.length)>0?(e.mailList.node.opacity=255,e.mailList.init(t.data)):e.noMailLay.active=!0}).catch(function(){e.noMailLay.active=!0,e.mailList.node.opacity=0})},t.prototype.onClickSystem=function(){this.emailType!==d.EmailType.System&&(this.emailType=d.EmailType.System,this.updateBtnState())},t.prototype.onClickFriend=function(){this.emailType!==d.EmailType.Friend&&(this.emailType=d.EmailType.Friend,this.updateBtnState())},t.prototype.updateBtnState=function(){switch(this.systemChoose.active=!1,this.friendChoose.active=!1,this.emailType){case d.EmailType.System:this.systemChoose.active=!0;break;case d.EmailType.Friend:this.friendChoose.active=!0;break;default:p.gg.logger.error("error: EmailType")}this.getMailList()},t.prototype.checkRedDot=function(){var e,t;return r(this,void 0,Promise,function(){var n,o,i,a,r;return s(this,function(s){switch(s.label){case 0:return n={email_type:d.EmailType.Friend},o={email_type:d.EmailType.System},[4,Promise.all([h.gameApi.getEmailListList(n),h.gameApi.getEmailListList(o)])];case 1:return i=s.sent(),a=i[0],r=i[1],(null===(e=a.data)||void 0===e?void 0:e.length)>0?this.friendRedNode.active=this.checkMailRedDot(a.data):this.friendRedNode.active=!1,(null===(t=r.data)||void 0===t?void 0:t.length)>0?this.sysRedNode.active=this.checkMailRedDot(r.data):this.sysRedNode.active=!1,[2]}})})},t.prototype.checkMailRedDot=function(e){var t=e,n=t.filter(function(e){return 0===e.look_status}),o=t.filter(function(e){return 0===e.get_status});return n.length>0||o.length>0},t.prototype.onAwarded=function(){this.checkRedDot()},a([b({type:y.default,tooltip:"\u90ae\u4ef6\u5217\u8868"})],t.prototype,"mailList",void 0),a([b({type:cc.Node,tooltip:"\u6682\u65e0\u90ae\u4ef6"})],t.prototype,"noMailLay",void 0),a([b({type:cc.Node,tooltip:"\u9009\u4e2d\u7cfb\u7edf\u90ae\u4ef6"})],t.prototype,"systemChoose",void 0),a([b({type:cc.Node,tooltip:"\u9009\u4e2d\u597d\u53cb\u90ae\u4ef6"})],t.prototype,"friendChoose",void 0),a([b({type:cc.Node,tooltip:"\u7cfb\u7edf\u7ea2\u70b9"})],t.prototype,"sysRedNode",void 0),a([b({type:cc.Node,tooltip:"\u670b\u53cb\u7ea2\u70b9"})],t.prototype,"friendRedNode",void 0),a([v],t)}(u.default);n.default=S,cc._RF.pop()},{"../../../../../main/scripts/configs/CommonAudioConfig":"CommonAudioConfig","../../../../../main/scripts/framework/components/dialogstyle/MoveStyleDialogPanelV2":"MoveStyleDialogPanelV2","../../../../../main/scripts/framework/gg":"gg","../../../../../main/scripts/systems/api/gameapi/GameApi":"GameApi","../../../../../main/scripts/systems/api/gameapi/GameApiModels":"GameApiModels","../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../systems/lobby/LobbyHintSystem":"LobbyHintSystem","../../../systems/ui/lobby/LobbyUIEvent":"LobbyUIEvent","./MailList":"MailList"}],"Main.generated":[function(e,t,n){"use strict";cc._RF.push(t,"a1abfKOiiRL8r5DekRI8zim","Main.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.MainBase=void 0;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Button_yin2=null,t.Button_ph7=null,t.Button_bx2=null,t}return i(t,e),t}(e("./halls/halllib/laya/Laya").Laya.Scene);n.MainBase=a,cc._RF.pop()},{"./halls/halllib/laya/Laya":"Laya"}],MainQualifyingProto:[function(e,t,n){"use strict";cc._RF.push(t,"4179ao0WDNDs7kUKXQMpfmC","MainQualifyingProto"),Object.defineProperty(n,"__esModule",{value:!0}),n.MainQualifyingProto=void 0,function(e){e.JoinQualifyingRoomRequest="JoinQualifyingRoomRequest",e.JoinQualifyingRoomResponse="JoinQualifyingRoomResponse"}(n.MainQualifyingProto||(n.MainQualifyingProto={})),cc._RF.pop()},{}],MainQualifyingSystem:[function(e,t,n){"use strict";cc._RF.push(t,"0413en0Mk9MVZZCZNrgHzhN","MainQualifyingSystem");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.mainQualifyingSystem=void 0;var a=e("../../framework/gg"),r=e("../gamews/GameSocketSystem"),s=e("./MainQualifyingProto"),l=function(){function e(){this.isPostJoinQualifying=!1}return e.prototype.joinQualifyingRoom=function(e){return o(this,void 0,Promise,function(){var t;return i(this,function(n){switch(n.label){case 0:return this.isPostJoinQualifying?[2]:(this.isPostJoinQualifying=!0,[4,r.gameSocketSystem.requestAsync({requestMsg:s.MainQualifyingProto.JoinQualifyingRoomRequest,requestData:e,responseMsg:s.MainQualifyingProto.JoinQualifyingRoomResponse})]);case 1:return t=n.sent(),a.gg.logger.log("\u8bf7\u6c42\u8fdb\u5165\u6392\u4f4d\u8d5b\u623f\u95f4--\x3e",t),this.isPostJoinQualifying=!1,[2,t]}})})},e}();n.mainQualifyingSystem=new l,cc._RF.pop()},{"../../framework/gg":"gg","../gamews/GameSocketSystem":"GameSocketSystem","./MainQualifyingProto":"MainQualifyingProto"}],Main:[function(e,t,n){"use strict";cc._RF.push(t,"7bad1dCbu1NjYHAUB3FvwPW","Main");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.Main=void 0;var r=e("./halls/halllib/net/ICom"),s=e("./Main.generated"),l=e("./halls/halllib/laya/Laya"),c=l.Laya.regClass,u=(l.Laya.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onStart=function(){console.log("Game start")},t.prototype.onAwake=function(){this.Button_yin2.on(l.Laya.Event.CLICK,this,this.OpenScene,["yin2"]),this.Button_ph7.on(l.Laya.Event.CLICK,this,this.OpenScene,["ph7"]),this.Button_bx2.on(l.Laya.Event.CLICK,this,this.OpenScene,["bx2"]);var e=new h;e.test1=100,e.test2=200,e.test3="66666666",e.test4=[100,200,300];var t=new p;t.age=100,t.name2="\u4f60\u597d\u554a",e.test5=t,e.test6=-5678;var n=h.WriteFrom(e);console.log("========>>>>buffs: "+n.length),n.pos=0;var o=h.ReadFrom(n);console.log("========>>>>dt: "+o.test3),console.log("========>>>>dt: "+o.test5.name2),console.log("========>>>>dt number array[0]: "+o.test4[0]),console.log("========>>>>test6 long: "+o.test6),console.log("========>>>>test6 long: "+o.test6)},t.prototype.OpenScene=function(e){switch(e){case"yin2":l.Laya.Scene.open("resources/halls/hallyin2/scenes/SceneLoading.ls");break;case"ph7":l.Laya.Scene.open("resources/halls/hallph7/scenes/SceneLoading.ls");break;case"bx2":l.Laya.Scene.open("scenes/hall/Loading.scene")}},a([c()],t)}(s.MainBase));n.Main=u;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.age=0,t}return i(t,e),t.age=new r.ICom.Int32,t.name2=new r.ICom.String,t}(r.ICom.BaseMessage),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.test1=0,t.test2=0,t.test4=[],t}return i(t,e),t.test1=r.ICom.bit.double,t.test2=r.ICom.bit.int,t.test3=new r.ICom.String(50),t.test4=new r.ICom.ArrayNumber(r.ICom.Int32,3),t.test5=new r.ICom.ClassTb(p),t.test6=r.ICom.bit.long,t}(r.ICom.BaseMessage);cc._RF.pop()},{"./Main.generated":"Main.generated","./halls/halllib/laya/Laya":"Laya","./halls/halllib/net/ICom":"ICom"}],MarqueeCacheModel:[function(e,t,n){"use strict";cc._RF.push(t,"eb1aahYCuVE1qRf2fZMavwl","MarqueeCacheModel"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],MarqueeItem:[function(e,t,n){"use strict";cc._RF.push(t,"313f5Vpb/NFO5u8Cm8XFuX+","MarqueeItem");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=r.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.richText=null,t}return i(t,e),t.prototype.bindData=function(e){var t;this.richText.string=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.content},a([l(cc.RichText)],t.prototype,"richText",void 0),a([s],t)}(cc.Component);n.default=c,cc._RF.pop()},{}],MarqueePanel:[function(e,t,n){"use strict";cc._RF.push(t,"599c4uOJ6BBPKdJmGWX0btT","MarqueePanel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../../configs/CommonPanelConfig"),l=e("../../../framework/gg"),c=e("../../../framework/panelrouter/PanelComponent"),u=e("../../../systems/ui/marquee/MarqueeSystem"),p=e("../../../uiSystem/GameAnimSystem"),h=r(e("./MarqueeItem")),d=cc._decorator,f=d.ccclass,g=d.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.marqueeContent=null,t.contentBgNode=null,t.itemParentNode=null,t.itemNode=null,t.speed=88,t._itemNodePool=new cc.NodePool,t._isShowing=!1,t}return i(t,e),t.prototype._getItemNode=function(){var e=this._itemNodePool.get();return e||(e=cc.instantiate(this.itemNode)),e},t.prototype._putItemNode=function(e){this._itemNodePool.put(e)},t.prototype.onLoad=function(){this._putItemNode(this.itemNode),this.contentBgNode.scaleY=0},t.prototype.onEnable=function(){},t.prototype.onDisable=function(){},t.prototype.show=function(e){var t=this;this._isShowing?e.onShowed():(this.updateMarqueePos(),u.marqueeSystem.hasMessage()&&this._playShowAnim(function(){t._newMarquee(u.marqueeSystem.pop())}),e.onShowed())},t.prototype.updateMarqueePos=function(){p.gamePanelSystem.gameShowPanel===p.GamePanelType.Other?this.marqueeContent.top=70:this.marqueeContent.top=10,this.marqueeContent.updateAlignment()},t.prototype.hide=function(e){this._isShowing=!1,this._playHideAnim(function(){e.onHided()})},t.prototype._newMarquee=function(e){var t=this;this._isShowing=!0;var n=this._getItemNode();n.parent=this.itemParentNode,n.position=cc.v3(-Number.MAX_SAFE_INTEGER),n.getComponent(h.default).bindData(e),this.scheduleOnce(function(){var e=(n.width+t.itemParentNode.width)/t.speed;cc.tween(n).set({position:cc.v3(.5*-t.itemParentNode.width-.5*n.width)}).to(e,{position:cc.v3(.5*t.itemParentNode.width+.5*n.width)}).call(function(){t._putItemNode(n),t._isShowing=!1,u.marqueeSystem.hasMessage()?l.gg.panelRouter.show({panel:s.CommonPanelConfig.marqueePanel}):l.gg.panelRouter.hide({panel:s.CommonPanelConfig.marqueePanel})}).start()})},t.prototype._playShowAnim=function(e){1==this.contentBgNode.scaleY?(cc.Tween.stopAllByTarget(this.contentBgNode),null==e||e()):(cc.Tween.stopAllByTarget(this.contentBgNode),this.contentBgNode.scaleY=0,cc.tween(this.contentBgNode).to(.24,{scaleY:1},{easing:"sineOut"}).call(function(){null==e||e()}).start())},t.prototype._playHideAnim=function(e){cc.Tween.stopAllByTarget(this.contentBgNode),cc.tween(this.contentBgNode).to(.24,{scaleY:0},{easing:"sineOut"}).call(function(){null==e||e()}).start()},a([g(cc.Widget)],t.prototype,"marqueeContent",void 0),a([g(cc.Node)],t.prototype,"contentBgNode",void 0),a([g(cc.Node)],t.prototype,"itemParentNode",void 0),a([g(cc.Node)],t.prototype,"itemNode",void 0),a([g({tooltip:"\u8dd1\u9a6c\u706f\u6d88\u606f\u901f\u5ea6\uff08px\uff09"})],t.prototype,"speed",void 0),a([f],t)}(c.PanelComponent);n.default=m,cc._RF.pop()},{"../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../framework/gg":"gg","../../../framework/panelrouter/PanelComponent":"PanelComponent","../../../systems/ui/marquee/MarqueeSystem":"MarqueeSystem","../../../uiSystem/GameAnimSystem":"GameAnimSystem","./MarqueeItem":"MarqueeItem"}],MarqueeProto:[function(e,t,n){"use strict";cc._RF.push(t,"d7b8fT20XRNQoqc3/aM69Ri","MarqueeProto"),Object.defineProperty(n,"__esModule",{value:!0}),n.MarqueeShowScene=n.MarqueeProtoMsg=void 0,(n.MarqueeProtoMsg||(n.MarqueeProtoMsg={})).MarqueeBroadCast="MarqueeBroadCast",function(e){e[e.Global=1]="Global",e[e.Lobby=2]="Lobby",e[e.BlaootRoom=4]="BlaootRoom",e[e.BalootGame=8]="BalootGame",e[e.LudoRoom=16]="LudoRoom",e[e.LudoGame=32]="LudoGame"}(n.MarqueeShowScene||(n.MarqueeShowScene={})),cc._RF.pop()},{}],MarqueeSystem:[function(e,t,n){"use strict";cc._RF.push(t,"6329cFETEpFQKk/C9qhbQph","MarqueeSystem");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.marqueeSystem=void 0;var a=e("../../../configs/CommonPanelConfig"),r=e("../../../framework/gg"),s=e("../../gamews/GameSocketSystem"),l=e("../../login/LoginEvent"),c=e("./MarqueeProto"),u=function(){function e(){this._msgArray=[]}return e.prototype.enable=function(){r.gg.eventManager.on(l.LoginEvent.OnUserKickOut,this._onUserOut,this),r.gg.eventManager.on(l.LoginEvent.OnUserLogout,this._onUserOut,this),r.gg.eventManager.on(l.LoginEvent.OnUserLostConnection,this._onUserOut,this),s.gameSocketSystem.on(c.MarqueeProtoMsg.MarqueeBroadCast,this._onMarqueeBroadCast,this),cc.director.on(cc.Director.EVENT_AFTER_SCENE_LAUNCH,this._onSceneLaunched,this)},e.prototype.disable=function(){s.gameSocketSystem.offTarget(this),r.gg.eventManager.offTarget(this),cc.director.off(cc.Director.EVENT_AFTER_SCENE_LAUNCH,this._onSceneLaunched,this),this._msgArray=[]},e.prototype._onUserOut=function(){return o(this,void 0,void 0,function(){return i(this,function(){return this.disable(),[2]})})},e.prototype._onSceneLaunched=function(){this.hasMessage()&&r.gg.panelRouter.show({panel:a.CommonPanelConfig.marqueePanel})},e.prototype._onMarqueeBroadCast=function(e){this._msgArray.unshift({data:e,deadlineTimestamp:Date.now()+1e4}),r.gg.panelRouter.show({panel:a.CommonPanelConfig.marqueePanel})},e.prototype.hasMessage=function(){for(var e=this._msgArray.length-1;e>=0&&this._msgArray[e].deadlineTimestamp<Date.now();--e)this._msgArray.splice(e,1);return this._msgArray.length>0},e.prototype.pop=function(){return this._msgArray.shift()},e}();n.marqueeSystem=new u,cc._RF.pop()},{"../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../framework/gg":"gg","../../gamews/GameSocketSystem":"GameSocketSystem","../../login/LoginEvent":"LoginEvent","./MarqueeProto":"MarqueeProto"}],MathUtils3D:[function(e,t,n){"use strict";cc._RF.push(t,"abfb0JRQT9FaKZOM+Wg/UpX","MathUtils3D"),Object.defineProperty(n,"__esModule",{value:!0}),n.MathUtils3D=void 0;var o=function(){function e(){}return e.isZero=function(t){return Math.abs(t)<e.zeroTolerance},e.nearEqual=function(t,n){return!!e.isZero(t-n)},e.fastInvSqrt=function(t){return e.isZero(t)?t:1/Math.sqrt(t)},e.zeroTolerance=1e-6,e.MaxValue=340282347e30,e.MinValue=-340282347e30,e.Deg2Rad=Math.PI/180,e}();n.MathUtils3D=o,cc._RF.pop()},{}],MathUtils:[function(e,t,n){"use strict";cc._RF.push(t,"605e7+IjitOf5h9DrZn5Gzx","MathUtils"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.toRadian=function(e){return e*(Math.PI/180)},e.toAngle=function(e){return e*(180/Math.PI)},e.cos=function(e){return Math.cos(this.toRadian(e))},e.sin=function(e){return Math.sin(this.toRadian(e))},e.randomInt=function(e,t){var n=Math.ceil(e),o=Math.floor(t)-n,i=Math.random();return n+Math.round(i*o)},e.toFixed=function(e,t){if(t<0||t>20)throw new Error("\u8d85\u51fa\u7cbe\u5ea6");var n=String(Math.round(Math.pow(10,t)*e)/Math.pow(10,t));if(-1==n.indexOf("."))0!=t&&(n+=".",n+=new Array(t+1).join("0"));else{var o=n.split(".");o[1].length<t&&(o[1]+=new Array(t-o[1].length+1).join("0"),n=o.join("."))}return n},e.toFixedWithoutRound=function(e,t){if(t<0||t>20)throw new Error("\u8d85\u51fa\u7cbe\u5ea6");var n=String(e);if(-1==n.indexOf("."))0!=t&&(n+=".",n+=new Array(t+1).join("0"));else{var o=n.split(".");o[1].length<t?(o[1]+=new Array(t-o[1].length+1).join("0"),n=o.join(".")):o[1].length>t&&(o[1]=o[1].substr(0,t),n=o.join("."))}return n},e}();n.default=o,cc._RF.pop()},{}],MathUtil:[function(e,t,n){"use strict";cc._RF.push(t,"470e5ds8htJOLQGFH/lhnEh","MathUtil"),Object.defineProperty(n,"__esModule",{value:!0}),n.MathUtil=void 0;var o=function(){function e(){}return e.subtractVector3=function(e,t,n){n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2]},e.lerp=function(e,t,n){return e*(1-n)+t*n},e.scaleVector3=function(e,t,n){n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t},e.lerpVector3=function(e,t,n,o){var i=e[0],a=e[1],r=e[2];o[0]=i+n*(t[0]-i),o[1]=a+n*(t[1]-a),o[2]=r+n*(t[2]-r)},e.lerpVector4=function(e,t,n,o){var i=e[0],a=e[1],r=e[2],s=e[3];o[0]=i+n*(t[0]-i),o[1]=a+n*(t[1]-a),o[2]=r+n*(t[2]-r),o[3]=s+n*(t[3]-s)},e.slerpQuaternionArray=function(e,t,n,o,i,a,r){var s,l,c,u,p,h=e[t+0],d=e[t+1],f=e[t+2],g=e[t+3],m=n[o+0],y=n[o+1],_=n[o+2],v=n[o+3];return(l=h*m+d*y+f*_+g*v)<0&&(l=-l,m=-m,y=-y,_=-_,v=-v),1-l>1e-6?(s=Math.acos(l),c=Math.sin(s),u=Math.sin((1-i)*s)/c,p=Math.sin(i*s)/c):(u=1-i,p=i),a[r+0]=u*h+p*m,a[r+1]=u*d+p*y,a[r+2]=u*f+p*_,a[r+3]=u*g+p*v,a},e.getRotation=function(e,t,n,o){return Math.atan2(o-t,n-e)/Math.PI*180},e.sortBigFirst=function(e,t){return e==t?0:t>e?1:-1},e.sortSmallFirst=function(e,t){return e==t?0:t>e?-1:1},e.sortNumBigFirst=function(e,t){return parseFloat(t)-parseFloat(e)},e.sortNumSmallFirst=function(e,t){return parseFloat(e)-parseFloat(t)},e.sortByKey=function(t,n,o){var i;return void 0===n&&(n=!1),void 0===o&&(o=!0),i=n?o?e.sortNumBigFirst:e.sortBigFirst:o?e.sortNumSmallFirst:e.sortSmallFirst,function(e,n){return i(e[t],n[t])}},e}();n.MathUtil=o,cc._RF.pop()},{}],Matrix3x3:[function(e,t,n){"use strict";cc._RF.push(t,"5f7d8N7SopIs5bC+LzGVvMo","Matrix3x3"),Object.defineProperty(n,"__esModule",{value:!0}),n.Matrix3x3=void 0;var o=e("./Vector3"),i=new Float32Array([1,0,0,0,1,0,0,0,1]),a=new o.Vector3,r=new o.Vector3,s=new o.Vector3,l=function(){function e(e){void 0===e&&(e=!0),e&&(this.elements=i.slice())}return e.createRotationQuaternion=function(e,t){var n=e.x,o=e.y,i=e.z,a=e.w,r=n*n,s=o*o,l=i*i,c=n*o,u=i*a,p=i*n,h=o*a,d=o*i,f=n*a,g=t.elements;g[0]=1-2*(s+l),g[1]=2*(c+u),g[2]=2*(p-h),g[3]=2*(c-u),g[4]=1-2*(l+r),g[5]=2*(d+f),g[6]=2*(p+h),g[7]=2*(d-f),g[8]=1-2*(s+r)},e.createFromTranslation=function(e,t){var n=t.elements;n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=1,n[5]=0,n[6]=e.x,n[7]=e.y,n[8]=1},e.createFromRotation=function(e,t){var n=t.elements,o=Math.sin(e),i=Math.cos(e);n[0]=i,n[1]=o,n[2]=0,n[3]=-o,n[4]=i,n[5]=0,n[6]=0,n[7]=0,n[8]=1},e.createFromScaling=function(e,t){var n=t.elements;n[0]=e.x,n[1]=0,n[2]=0,n[3]=0,n[4]=e.y,n[5]=0,n[6]=0,n[7]=0,n[8]=e.z},e.createFromMatrix4x4=function(e,t){var n=e.elements,o=t.elements;o[0]=n[0],o[1]=n[1],o[2]=n[2],o[3]=n[4],o[4]=n[5],o[5]=n[6],o[6]=n[8],o[7]=n[9],o[8]=n[10]},e.multiply=function(e,t,n){var o=e.elements,i=t.elements,a=n.elements,r=o[0],s=o[1],l=o[2],c=o[3],u=o[4],p=o[5],h=o[6],d=o[7],f=o[8],g=i[0],m=i[1],y=i[2],_=i[3],v=i[4],b=i[5],S=i[6],C=i[7],I=i[8];a[0]=g*r+m*c+y*h,a[1]=g*s+m*u+y*C,a[2]=g*l+m*p+y*f,a[3]=_*r+v*c+b*h,a[4]=_*s+v*u+b*d,a[5]=_*l+v*p+b*f,a[6]=S*r+C*c+I*h,a[7]=S*s+C*u+I*d,a[8]=S*l+C*p+I*f},e.prototype.cloneByArray=function(e){this.elements.set(e)},e.prototype.determinant=function(){var e=this.elements,t=e[0],n=e[1],o=e[2],i=e[3],a=e[4],r=e[5],s=e[6],l=e[7],c=e[8];return t*(c*a-r*l)+n*(-c*i+r*s)+o*(l*i-a*s)},e.prototype.translate=function(e,t){var n=t.elements,o=this.elements,i=o[0],a=o[1],r=o[2],s=o[3],l=o[4],c=o[5],u=o[6],p=o[7],h=o[8],d=e.x,f=e.y;n[0]=i,n[1]=a,n[2]=r,n[3]=s,n[4]=l,n[5]=c,n[6]=d*i+f*s+u,n[7]=d*a+f*l+p,n[8]=d*r+f*c+h},e.prototype.rotate=function(e,t){var n=t.elements,o=this.elements,i=o[0],a=o[1],r=o[2],s=o[3],l=o[4],c=o[5],u=o[6],p=o[7],h=o[8],d=Math.sin(e),f=Math.cos(e);n[0]=f*i+d*s,n[1]=f*a+d*l,n[2]=f*r+d*c,n[3]=f*s-d*i,n[4]=f*l-d*a,n[5]=f*c-d*r,n[6]=u,n[7]=p,n[8]=h},e.prototype.scale=function(e,t){var n=t.elements,o=this.elements,i=e.x,a=e.y;n[0]=i*o[0],n[1]=i*o[1],n[2]=i*o[2],n[3]=a*o[3],n[4]=a*o[4],n[5]=a*o[5],n[6]=o[6],n[7]=o[7],n[8]=o[8]},e.prototype.invert=function(e){var t=e.elements,n=this.elements,o=n[0],i=n[1],a=n[2],r=n[3],s=n[4],l=n[5],c=n[6],u=n[7],p=n[8],h=p*s-l*u,d=-p*r+l*c,f=u*r-s*c,g=o*h+i*d+a*f;g&&(g=1/g,t[0]=h*g,t[1]=(-p*i+a*u)*g,t[2]=(l*i-a*s)*g,t[3]=d*g,t[4]=(p*o-a*c)*g,t[5]=(-l*o+a*r)*g,t[6]=f*g,t[7]=(-u*o+i*c)*g,t[8]=(s*o-i*r)*g)},e.prototype.transpose=function(e){var t=e.elements,n=this.elements;if(e===this){var o=n[1],i=n[2],a=n[5];t[1]=n[3],t[2]=n[6],t[3]=o,t[5]=n[7],t[6]=i,t[7]=a}else t[0]=n[0],t[1]=n[3],t[2]=n[6],t[3]=n[1],t[4]=n[4],t[5]=n[7],t[6]=n[2],t[7]=n[5],t[8]=n[8]},e.prototype.identity=function(){this.elements.set(i)},e.prototype.cloneTo=function(e){var t,n;(t=this.elements)!==(n=e.elements)&&n.set(t)},e.prototype.clone=function(){var t=new e(!1);return t.elements=this.elements.slice(),t},e.lookAt=function(e,t,n,i){o.Vector3.subtract(e,t,a),o.Vector3.normalize(a,a),o.Vector3.cross(n,a,r),o.Vector3.normalize(r,r),o.Vector3.cross(a,r,s);var l=a,c=r,u=s,p=i.elements;p[0]=c.x,p[3]=c.y,p[6]=c.z,p[1]=u.x,p[4]=u.y,p[7]=u.z,p[2]=l.x,p[5]=l.y,p[8]=l.z},e.forwardLookAt=function(e,t,n,o){var i=r,l=s,c=a;t.vsub(e,c).normalize(),n.cross(c,i).normalize(),c.cross(i,l);var u=o.elements;u[0]=i.x,u[1]=i.y,u[2]=i.z,u[3]=l.x,u[4]=l.y,u[5]=l.z,u[6]=c.x,u[7]=c.y,u[8]=c.z},e.DEFAULT=new e,e.Temp=new e,e}();n.Matrix3x3=l,cc._RF.pop()},{"./Vector3":"Vector3"}],Matrix4x4:[function(e,t,n){"use strict";cc._RF.push(t,"2e790Gv8XpHqZE2dqSfV1ns","Matrix4x4"),Object.defineProperty(n,"__esModule",{value:!0}),n.Matrix4x4=void 0;var o=e("./Vector3"),i=e("./Quaternion"),a=e("./MathUtils3D"),r=new o.Vector3,s=new o.Vector3,l=new o.Vector3,c=new o.Vector3,u=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),p=function(){function e(e,t,n,o,i,a,r,s,l,c,p,h,d,f,g,m,y){if(void 0===e&&(e=1),void 0===t&&(t=0),void 0===n&&(n=0),void 0===o&&(o=0),void 0===i&&(i=0),void 0===a&&(a=1),void 0===r&&(r=0),void 0===s&&(s=0),void 0===l&&(l=0),void 0===c&&(c=0),void 0===p&&(p=1),void 0===h&&(h=0),void 0===d&&(d=0),void 0===f&&(f=0),void 0===g&&(g=0),void 0===m&&(m=1),void 0===y&&(y=null),0!=arguments.length){if(1!==arguments.length||null!==arguments[0]){var _=this.elements=y||new Float32Array(16);_[0]=e,_[1]=t,_[2]=n,_[3]=o,_[4]=i,_[5]=a,_[6]=r,_[7]=s,_[8]=l,_[9]=c,_[10]=p,_[11]=h,_[12]=d,_[13]=f,_[14]=g,_[15]=m}}else this.elements=u.slice()}return e.createRotationX=function(e,t){var n=t.elements,o=Math.sin(e),i=Math.cos(e);n[1]=n[2]=n[3]=n[4]=n[7]=n[8]=n[11]=n[12]=n[13]=n[14]=0,n[0]=n[15]=1,n[5]=n[10]=i,n[6]=o,n[9]=-o},e.createRotationY=function(e,t){var n=t.elements,o=Math.sin(e),i=Math.cos(e);n[1]=n[3]=n[4]=n[6]=n[7]=n[9]=n[11]=n[12]=n[13]=n[14]=0,n[5]=n[15]=1,n[0]=n[10]=i,n[2]=-o,n[8]=o},e.createRotationZ=function(e,t){var n=t.elements,o=Math.sin(e),i=Math.cos(e);n[2]=n[3]=n[6]=n[7]=n[8]=n[9]=n[11]=n[12]=n[13]=n[14]=0,n[10]=n[15]=1,n[0]=n[5]=i,n[1]=o,n[4]=-o},e.createRotationYawPitchRoll=function(t,n,o,a){i.Quaternion.createFromYawPitchRoll(t,n,o,i.Quaternion.TEMP),e.createRotationQuaternion(i.Quaternion.TEMP,a)},e.createRotationAxis=function(e,t,n){var o=e.x,i=e.y,a=e.z,r=Math.cos(t),s=Math.sin(t),l=o*o,c=i*i,u=a*a,p=o*i,h=o*a,d=i*a,f=n.elements;f[3]=f[7]=f[11]=f[12]=f[13]=f[14]=0,f[15]=1,f[0]=l+r*(1-l),f[1]=p-r*p+s*a,f[2]=h-r*h-s*i,f[4]=p-r*p-s*a,f[5]=c+r*(1-c),f[6]=d-r*d+s*o,f[8]=h-r*h+s*i,f[9]=d-r*d-s*o,f[10]=u+r*(1-u)},e.createRotationQuaternion=function(e,t){var n=t.elements,o=e.x,i=e.y,a=e.z,r=e.w,s=o*o,l=i*i,c=a*a,u=o*i,p=a*r,h=a*o,d=i*r,f=i*a,g=o*r;n[3]=n[7]=n[11]=n[12]=n[13]=n[14]=0,n[15]=1,n[0]=1-2*(l+c),n[1]=2*(u+p),n[2]=2*(h-d),n[4]=2*(u-p),n[5]=1-2*(c+s),n[6]=2*(f+g),n[8]=2*(h+d),n[9]=2*(f-g),n[10]=1-2*(l+s)},e.createTranslate=function(e,t){var n=t.elements;n[4]=n[8]=n[1]=n[9]=n[2]=n[6]=n[3]=n[7]=n[11]=0,n[0]=n[5]=n[10]=n[15]=1,n[12]=e.x,n[13]=e.y,n[14]=e.z},e.createScaling=function(e,t){var n=t.elements;n[0]=e.x,n[5]=e.y,n[10]=e.z,n[1]=n[4]=n[8]=n[12]=n[9]=n[13]=n[2]=n[6]=n[14]=n[3]=n[7]=n[11]=0,n[15]=1},e.multiply=function(e,t,n){var o=t.elements,i=e.elements,a=n.elements,r=o[0],s=o[1],l=o[2],c=o[3],u=o[4],p=o[5],h=o[6],d=o[7],f=o[8],g=o[9],m=o[10],y=o[11],_=o[12],v=o[13],b=o[14],S=o[15],C=i[0],I=i[1],R=i[2],L=i[3],P=i[4],M=i[5],T=i[6],E=i[7],A=i[8],w=i[9],O=i[10],G=i[11],N=i[12],D=i[13],B=i[14],U=i[15];a[0]=r*C+s*P+l*A+c*N,a[1]=r*I+s*M+l*w+c*D,a[2]=r*R+s*T+l*O+c*B,a[3]=r*L+s*E+l*G+c*U,a[4]=u*C+p*P+h*A+d*N,a[5]=u*I+p*M+h*w+d*D,a[6]=u*R+p*T+h*O+d*B,a[7]=u*L+p*E+h*G+d*U,a[8]=f*C+g*P+m*A+y*N,a[9]=f*I+g*M+m*w+y*D,a[10]=f*R+g*T+m*O+y*B,a[11]=f*L+g*E+m*G+y*U,a[12]=_*C+v*P+b*A+S*N,a[13]=_*I+v*M+b*w+S*D,a[14]=_*R+v*T+b*O+S*B,a[15]=_*L+v*E+b*G+S*U},e.createFromQuaternion=function(e,t){var n=t.elements,o=e.x,i=e.y,a=e.z,r=e.w,s=o+o,l=i+i,c=a+a,u=o*s,p=i*s,h=i*l,d=a*s,f=a*l,g=a*c,m=r*s,y=r*l,_=r*c;n[0]=1-h-g,n[1]=p+_,n[2]=d-y,n[3]=0,n[4]=p-_,n[5]=1-u-g,n[6]=f+m,n[7]=0,n[8]=d+y,n[9]=f-m,n[10]=1-u-h,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1},e.createAffineTransformation=function(e,t,n,o){var i=o.elements,a=t.x,r=t.y,s=t.z,l=t.w,c=a+a,u=r+r,p=s+s,h=a*c,d=a*u,f=a*p,g=r*u,m=r*p,y=s*p,_=l*c,v=l*u,b=l*p,S=n.x,C=n.y,I=n.z;i[0]=(1-(g+y))*S,i[1]=(d+b)*S,i[2]=(f-v)*S,i[3]=0,i[4]=(d-b)*C,i[5]=(1-(h+y))*C,i[6]=(m+_)*C,i[7]=0,i[8]=(f+v)*I,i[9]=(m-_)*I,i[10]=(1-(h+g))*I,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1},e.createLookAt=function(e,t,n,i){var a=i.elements,c=r,u=s,p=l;o.Vector3.subtract(e,t,p),o.Vector3.normalize(p,p),o.Vector3.cross(n,p,c),o.Vector3.normalize(c,c),o.Vector3.cross(p,c,u),a[3]=a[7]=a[11]=0,a[15]=1,a[0]=c.x,a[4]=c.y,a[8]=c.z,a[1]=u.x,a[5]=u.y,a[9]=u.z,a[2]=p.x,a[6]=p.y,a[10]=p.z,a[12]=-o.Vector3.dot(c,e),a[13]=-o.Vector3.dot(u,e),a[14]=-o.Vector3.dot(p,e)},e.createPerspective=function(t,n,o,i,a){var r=1/Math.tan(.5*t),s=o/(r/n),l=o/r;e.createPerspectiveOffCenter(-s,s,-l,l,o,i,a)},e.createPerspectiveOffCenter=function(e,t,n,o,i,a,r){var s=r.elements,l=a/(a-i);s[1]=s[2]=s[3]=s[4]=s[6]=s[7]=s[12]=s[13]=s[15]=0,s[0]=2*i/(t-e),s[5]=2*i/(o-n),s[8]=(e+t)/(t-e),s[9]=(o+n)/(o-n),s[10]=-l,s[11]=-1,s[14]=-i*l},e.createOrthoOffCenter=function(e,t,n,o,i,a,r){var s=r.elements,l=1/(a-i);s[1]=s[2]=s[3]=s[4]=s[6]=s[8]=s[7]=s[9]=s[11]=0,s[15]=1,s[0]=2/(t-e),s[5]=2/(o-n),s[10]=-l,s[12]=(e+t)/(e-t),s[13]=(o+n)/(n-o),s[14]=-i*l},e.prototype.getElementByRowColumn=function(e,t){if(e<0||e>3)throw new Error("row Rows and columns for matrices run from 0 to 3, inclusive.");if(t<0||t>3)throw new Error("column Rows and columns for matrices run from 0 to 3, inclusive.");return this.elements[4*e+t]},e.prototype.setElementByRowColumn=function(e,t,n){if(e<0||e>3)throw new Error("row Rows and columns for matrices run from 0 to 3, inclusive.");if(t<0||t>3)throw new Error("column Rows and columns for matrices run from 0 to 3, inclusive.");this.elements[4*e+t]=n},e.prototype.setRotation=function(e){var t=e.x,n=e.y,o=e.z,i=e.w,a=t*t,r=n*n,s=o*o,l=t*n,c=o*i,u=o*t,p=n*i,h=n*o,d=t*i,f=this.elements;f[0]=1-2*(r+s),f[1]=2*(l+c),f[2]=2*(u-p),f[4]=2*(l-c),f[5]=1-2*(s+a),f[6]=2*(h+d),f[8]=2*(u+p),f[9]=2*(h-d),f[10]=1-2*(r+a)},e.prototype.setPosition=function(e){var t=this.elements;t[12]=e.x,t[13]=e.y,t[14]=e.z},e.prototype.equalsOtherMatrix=function(e){var t=this.elements,n=e.elements;return a.MathUtils3D.nearEqual(t[0],n[0])&&a.MathUtils3D.nearEqual(t[1],n[1])&&a.MathUtils3D.nearEqual(t[2],n[2])&&a.MathUtils3D.nearEqual(t[3],n[3])&&a.MathUtils3D.nearEqual(t[4],n[4])&&a.MathUtils3D.nearEqual(t[5],n[5])&&a.MathUtils3D.nearEqual(t[6],n[6])&&a.MathUtils3D.nearEqual(t[7],n[7])&&a.MathUtils3D.nearEqual(t[8],n[8])&&a.MathUtils3D.nearEqual(t[9],n[9])&&a.MathUtils3D.nearEqual(t[10],n[10])&&a.MathUtils3D.nearEqual(t[11],n[11])&&a.MathUtils3D.nearEqual(t[12],n[12])&&a.MathUtils3D.nearEqual(t[13],n[13])&&a.MathUtils3D.nearEqual(t[14],n[14])&&a.MathUtils3D.nearEqual(t[15],n[15])},e.prototype.decomposeTransRotScale=function(e,t,n){var o=h;return this.decomposeTransRotMatScale(e,o,n)?(i.Quaternion.createFromMatrix4x4(o,t),!0):(t.identity(),!1)},e.prototype.decomposeTransRotMatScale=function(e,t,n){var i=this.elements,c=e,u=t.elements,p=n;c.x=i[12],c.y=i[13],c.z=i[14];var h=i[0],d=i[1],f=i[2],g=i[4],m=i[5],y=i[6],_=i[8],v=i[9],b=i[10],S=p.x=Math.sqrt(h*h+d*d+f*f),C=p.y=Math.sqrt(g*g+m*m+y*y),I=p.z=Math.sqrt(_*_+v*v+b*b);if(a.MathUtils3D.isZero(S)||a.MathUtils3D.isZero(C)||a.MathUtils3D.isZero(I))return u[1]=u[2]=u[3]=u[4]=u[6]=u[7]=u[8]=u[9]=u[11]=u[12]=u[13]=u[14]=0,u[0]=u[5]=u[10]=u[15]=1,!1;var R=r;R.x=_/I,R.y=v/I,R.z=b/I;var L=s;L.x=h/S,L.y=d/S,L.z=f/S;var P=l;o.Vector3.cross(R,L,P);var M=s;return o.Vector3.cross(P,R,M),u[3]=u[7]=u[11]=u[12]=u[13]=u[14]=0,u[15]=1,u[0]=M.x,u[1]=M.y,u[2]=M.z,u[4]=P.x,u[5]=P.y,u[6]=P.z,u[8]=R.x,u[9]=R.y,u[10]=R.z,u[0]*h+u[1]*d+u[2]*f<0&&(p.x=-S),u[4]*g+u[5]*m+u[6]*y<0&&(p.y=-C),u[8]*_+u[9]*v+u[10]*b<0&&(p.z=-I),!0},e.prototype.decomposeYawPitchRoll=function(e){var t=Math.asin(-this.elements[9]);e.y=t,Math.cos(t)>a.MathUtils3D.zeroTolerance?(e.z=Math.atan2(this.elements[1],this.elements[5]),e.x=Math.atan2(this.elements[8],this.elements[10])):(e.z=Math.atan2(-this.elements[4],this.elements[0]),e.x=0)},e.prototype.normalize=function(){var e=this.elements,t=e[0],n=e[1],o=e[2],i=Math.sqrt(t*t+n*n+o*o);if(!i)return e[0]=0,e[1]=0,void(e[2]=0);1!=i&&(i=1/i,e[0]=t*i,e[1]=n*i,e[2]=o*i)},e.prototype.transpose=function(){var e,t;return t=(e=this.elements)[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},e.prototype.invert=function(e){var t=this.elements,n=e.elements,o=t[0],i=t[1],a=t[2],r=t[3],s=t[4],l=t[5],c=t[6],u=t[7],p=t[8],h=t[9],d=t[10],f=t[11],g=t[12],m=t[13],y=t[14],_=t[15],v=o*l-i*s,b=o*c-a*s,S=o*u-r*s,C=i*c-a*l,I=i*u-r*l,R=a*u-r*c,L=p*m-h*g,P=p*y-d*g,M=p*_-f*g,T=h*y-d*m,E=h*_-f*m,A=d*_-f*y,w=v*A-b*E+S*T+C*M-I*P+R*L;0!==Math.abs(w)&&(w=1/w,n[0]=(l*A-c*E+u*T)*w,n[1]=(a*E-i*A-r*T)*w,n[2]=(m*R-y*I+_*C)*w,n[3]=(d*I-h*R-f*C)*w,n[4]=(c*M-s*A-u*P)*w,n[5]=(o*A-a*M+r*P)*w,n[6]=(y*S-g*R-_*b)*w,n[7]=(p*R-d*S+f*b)*w,n[8]=(s*E-l*M+u*L)*w,n[9]=(i*M-o*E-r*L)*w,n[10]=(g*I-m*S+_*v)*w,n[11]=(h*S-p*I-f*v)*w,n[12]=(l*P-s*T-c*L)*w,n[13]=(o*T-i*P+a*L)*w,n[14]=(m*b-g*C-y*v)*w,n[15]=(p*C-h*b+d*v)*w)},e.billboard=function(e,t,n,i,u){o.Vector3.subtract(e,t,r);var p=o.Vector3.scalarLengthSquared(r);a.MathUtils3D.isZero(p)?(o.Vector3.scale(i,-1,s),s.cloneTo(r)):o.Vector3.scale(r,1/Math.sqrt(p),r),o.Vector3.cross(n,r,l),o.Vector3.normalize(l,l),o.Vector3.cross(r,l,c);var h=l,d=c,f=r,g=e,m=u.elements;m[0]=h.x,m[1]=h.y,m[2]=h.z,m[3]=0,m[4]=d.x,m[5]=d.y,m[6]=d.z,m[7]=0,m[8]=f.x,m[9]=f.y,m[10]=f.z,m[11]=0,m[12]=g.x,m[13]=g.y,m[14]=g.z,m[15]=1},e.prototype.identity=function(){this.elements.set(u)},e.prototype.isIdentity=function(){for(var t,n,o=this.elements,i=e.DEFAULT.elements,a=0,r=o.length;a<r;a++)if(t=o[a],n=i[a],!(Math.abs(t-n)<1e-7))return!1;return!0},e.prototype.cloneTo=function(e){this.elements!==e.elements&&e.elements.set(this.elements)},e.prototype.cloneByArray=function(e){this.elements.set(e)},e.prototype.clone=function(){var t=new e(null);return t.elements=this.elements.slice(),t},e.translation=function(e,t){var n=t.elements;n[0]=n[5]=n[10]=n[15]=1,n[12]=e.x,n[13]=e.y,n[14]=e.z},e.prototype.getTranslationVector=function(e){var t=this.elements;e.x=t[12],e.y=t[13],e.z=t[14]},e.prototype.setTranslationVector=function(e){var t=this.elements,n=e;t[12]=n.x,t[13]=n.y,t[14]=n.z},e.prototype.getForward=function(e){var t=this.elements;e.x=-t[8],e.y=-t[9],e.z=-t[10]},e.prototype.setForward=function(e){var t=this.elements;t[8]=-e.x,t[9]=-e.y,t[10]=-e.z},e.prototype.getInvertFront=function(){this.decomposeTransRotScale(r,i.Quaternion.TEMP,s);var e=s,t=e.x<0;return e.y<0&&(t=!t),e.z<0&&(t=!t),t},e.TEMPMatrix0=new e,e.TEMPMatrix1=new e,e.DEFAULT=new e,e.DEFAULTINVERT=new e(-1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),e.ZERO=new e(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0),e}();n.Matrix4x4=p;var h=new p;cc._RF.pop()},{"./MathUtils3D":"MathUtils3D","./Quaternion":"Quaternion","./Vector3":"Vector3"}],Matrix:[function(e,t,n){"use strict";cc._RF.push(t,"460f1vWolxIf49mG0GI8WuW","Matrix"),Object.defineProperty(n,"__esModule",{value:!0}),n.Matrix=void 0;var o=e("../utils/Pool"),i=function(){function e(t,n,o,i,a,r,s){if(void 0===t&&(t=1),void 0===n&&(n=0),void 0===o&&(o=0),void 0===i&&(i=1),void 0===a&&(a=0),void 0===r&&(r=0),void 0===s&&(s=0),this._bTransform=!1,null!=e._createFun)return e._createFun(t,n,o,i,a,r,s);this.a=t,this.b=n,this.c=o,this.d=i,this.tx=a,this.ty=r,this._checkTransform()}return e.prototype.identity=function(){return this.a=this.d=1,this.b=this.tx=this.ty=this.c=0,this._bTransform=!1,this},e.prototype._checkTransform=function(){return this._bTransform=1!==this.a||0!==this.b||0!==this.c||1!==this.d},e.prototype.setTranslate=function(e,t){return this.tx=e,this.ty=t,this},e.prototype.translate=function(e,t){return this.tx+=e,this.ty+=t,this},e.prototype.scale=function(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this._bTransform=!0,this},e.prototype.rotate=function(e){var t=Math.cos(e),n=Math.sin(e),o=this.a,i=this.c,a=this.tx;return this.a=o*t-this.b*n,this.b=o*n+this.b*t,this.c=i*t-this.d*n,this.d=i*n+this.d*t,this.tx=a*t-this.ty*n,this.ty=a*n+this.ty*t,this._bTransform=!0,this},e.prototype.skew=function(e,t){var n=Math.tan(e),o=Math.tan(t),i=this.a,a=this.b;return this.a+=o*this.c,this.b+=o*this.d,this.c+=n*i,this.d+=n*a,this},e.prototype.invertTransformPoint=function(e){var t=this.a,n=this.b,o=this.c,i=this.d,a=this.tx,r=t*i-n*o,s=i/r,l=-n/r,c=-o/r,u=t/r,p=(o*this.ty-i*a)/r,h=-(t*this.ty-n*a)/r;return e.setTo(s*e.x+c*e.y+p,l*e.x+u*e.y+h)},e.prototype.transformPoint=function(e){return e.setTo(this.a*e.x+this.c*e.y+this.tx,this.b*e.x+this.d*e.y+this.ty)},e.prototype.transformPointN=function(e){return e.setTo(this.a*e.x+this.c*e.y,this.b*e.x+this.d*e.y)},e.prototype.getScaleX=function(){return 0===this.b?this.a:Math.sqrt(this.a*this.a+this.b*this.b)},e.prototype.getScaleY=function(){return 0===this.c?this.d:Math.sqrt(this.c*this.c+this.d*this.d)},e.prototype.invert=function(){var e=this.a,t=this.b,n=this.c,o=this.d,i=this.tx,a=e*o-t*n;return this.a=o/a,this.b=-t/a,this.c=-n/a,this.d=e/a,this.tx=(n*this.ty-o*i)/a,this.ty=-(e*this.ty-t*i)/a,this},e.prototype.setTo=function(e,t,n,o,i,a){return this.a=e,this.b=t,this.c=n,this.d=o,this.tx=i,this.ty=a,this},e.prototype.concat=function(e){var t=this.a,n=this.c,o=this.tx;return this.a=t*e.a+this.b*e.c,this.b=t*e.b+this.b*e.d,this.c=n*e.a+this.d*e.c,this.d=n*e.b+this.d*e.d,this.tx=o*e.a+this.ty*e.c+e.tx,this.ty=o*e.b+this.ty*e.d+e.ty,this},e.mul=function(e,t,n){var o=e.a,i=e.b,a=e.c,r=e.d,s=e.tx,l=e.ty,c=t.a,u=t.b,p=t.c,h=t.d,d=t.tx,f=t.ty;return 0!==u||0!==p?(n.a=o*c+i*p,n.b=o*u+i*h,n.c=a*c+r*p,n.d=a*u+r*h,n.tx=c*s+p*l+d,n.ty=u*s+h*l+f):(n.a=o*c,n.b=i*h,n.c=a*c,n.d=r*h,n.tx=c*s+d,n.ty=h*l+f),n},e.mul16=function(e,t,n){var o=e.a,i=e.b,a=e.c,r=e.d,s=e.tx,l=e.ty,c=t.a,u=t.b,p=t.c,h=t.d,d=t.tx,f=t.ty;return 0!==u||0!==p?(n[0]=o*c+i*p,n[1]=o*u+i*h,n[4]=a*c+r*p,n[5]=a*u+r*h,n[12]=c*s+p*l+d,n[13]=u*s+h*l+f):(n[0]=o*c,n[1]=i*h,n[4]=a*c,n[5]=r*h,n[12]=c*s+d,n[13]=h*l+f),n},e.prototype.scaleEx=function(e,t){var n=this.a,o=this.b,i=this.c,a=this.d;0!==o||0!==i?(this.a=e*n,this.b=e*o,this.c=t*i,this.d=t*a):(this.a=e*n,this.b=0*a,this.c=0*n,this.d=t*a),this._bTransform=!0},e.prototype.rotateEx=function(e){var t=Math.cos(e),n=Math.sin(e),o=this.a,i=this.b,a=this.c,r=this.d;0!==i||0!==a?(this.a=t*o+n*a,this.b=t*i+n*r,this.c=-n*o+t*a,this.d=-n*i+t*r):(this.a=t*o,this.b=n*r,this.c=-n*o,this.d=t*r),this._bTransform=!0},e.prototype.clone=function(){var t=e.create();return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t._bTransform=this._bTransform,t},e.prototype.copyTo=function(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e._bTransform=this._bTransform,e},e.prototype.toString=function(){return this.a+","+this.b+","+this.c+","+this.d+","+this.tx+","+this.ty},e.prototype.destroy=function(){this.recover()},e.prototype.recover=function(){o.Pool.recover("Matrix",this.identity())},e.create=function(){return o.Pool.getItemByClass("Matrix",e)},e.EMPTY=new e,e.TEMP=new e,e._createFun=null,e}();n.Matrix=i,cc._RF.pop()},{"../utils/Pool":"Pool"}],MenuPanel31800:[function(e,t,n){"use strict";cc._RF.push(t,"7ba25UJQGtAkoCYl/HBNQw0","MenuPanel31800");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.MenuPanel31800=void 0;var r=e("./BasePanel31800"),s=e("./SoundManager31800"),l=e("../../halls/halllib/laya/Laya"),c=l.Laya.regClass,u=(l.Laya.property,function(e){function t(){return e.call(this)||this}var n;return i(t,e),n=t,t.prototype.onAwake=function(){e.prototype.onAwake.call(this),n.Instance=this,this.CheckMusic=this.owner.getChildByName("CheckMusic"),this.CheckSound=this.owner.getChildByName("CheckSound"),this.CheckMusic.on(l.Laya.Event.CHANGE,this,this.onCheckMusic),this.CheckSound.on(l.Laya.Event.CHANGE,this,this.onCheckSound),this.PanelObj.on(l.Laya.Event.CHANGE,this,this.onClosePanel),this.CheckMusic.selected=s.SoundManager31800.Instance.IsPlayMusic,this.CheckSound.selected=s.SoundManager31800.Instance.IsPlaySound},t.prototype.onCheckMusic=function(){s.SoundManager31800.Instance.IsPlayMusic=this.CheckMusic.selected},t.prototype.onCheckSound=function(){s.SoundManager31800.Instance.IsPlaySound=this.CheckSound.selected},t.prototype.onClosePanel=function(){e.prototype.Hide.call(this)},t.prototype.Show=function(){this.IsShow?e.prototype.Hide.call(this):e.prototype.Show.call(this)},n=a([c()],t)}(r.BasePanel31800));n.MenuPanel31800=u,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya","./BasePanel31800":"BasePanel31800","./SoundManager31800":"SoundManager31800"}],MicroPhoneComponent:[function(e,t,n){"use strict";cc._RF.push(t,"64669YMKq1FeJNg2CaLYeb5","MicroPhoneComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.MicroPhoneUIState=void 0;var r,s=e("../framework/gg"),l=cc._decorator,c=l.ccclass,u=l.property;(function(e){e.Disable="disable",e.Enable="enable",e.Speaking="speaking"})(r=n.MicroPhoneUIState||(n.MicroPhoneUIState={}));var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.uiStateDisable=null,t.uiStateEnable=null,t.uiStateSpeaking=null,t._uid=null,t}var n;return i(t,e),n=t,t.prototype.reset=function(){this.node.active=!1,this._uid=null,this.setState(r.Disable)},t.prototype.init=function(e){this.node.active=!0,this._uid=e,this.setState(r.Disable)},t.prototype.setState=function(e,t){var n=this;this.unscheduleAllCallbacks(),this.uiStateDisable.active=e==r.Disable,this.uiStateEnable.active=e==r.Enable,this.uiStateSpeaking.active=e==r.Speaking,t&&this.scheduleOnce(function(){n.uiStateDisable.active=t==r.Disable,n.uiStateEnable.active=t==r.Enable,n.uiStateSpeaking.active=t==r.Speaking},1)},t.prototype.onClick=function(){s.gg.eventManager.emit(n.OnClick,this._uid)},t.OnClick="MicroPhoneComponent.OnClick",a([u({type:cc.Node,tooltip:"\u5173\u9ea6\u72b6\u6001"})],t.prototype,"uiStateDisable",void 0),a([u({type:cc.Node,tooltip:"\u5f00\u9ea6\u72b6\u6001"})],t.prototype,"uiStateEnable",void 0),a([u({type:cc.Node,tooltip:"\u8bf4\u8bdd\u72b6\u6001"})],t.prototype,"uiStateSpeaking",void 0),n=a([c],t)}(cc.Component);n.default=p,cc._RF.pop()},{"../framework/gg":"gg"}],MoreGamePanel:[function(e,t,n){"use strict";cc._RF.push(t,"36036YccbNHtqVeVo9Cw/uW","MoreGamePanel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=e("../../../../../main/scripts/configs/SceneConfig"),u=l(e("../../../../../main/scripts/framework/asset/AssetLoader")),p=e("../../../../../main/scripts/framework/gg"),h=e("../../../../../main/scripts/framework/panelrouter/PanelComponent"),d=e("../../../configs/CommonPanelConfig"),f=cc._decorator,g=f.ccclass,m=f.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gameSpineList=[],t.isOpenScene=!1,t}return i(t,e),t.prototype.show=function(e){this.isOpenScene=!1,e.onShowed(),this.showUI()},t.prototype.hide=function(e){e.onHided()},t.prototype.showUI=function(){for(var e=0;e<this.gameSpineList.length;e++)this.playItemShowAnim(this.gameSpineList[e],.05*e)},t.prototype.playItemShowAnim=function(e,t){cc.Tween.stopAllByTarget(e),e.setPosition(80,0),e.scale=.5,e.opacity=0,cc.tween(e).delay(t).to(.16,{opacity:255}).start(),cc.tween(e).delay(t).to(.36,{scale:1},{easing:"backOut"}).start(),cc.tween(e).delay(t).to(.6,{position:cc.v3(0,0)},{easing:"sineOut"}).start()},t.prototype.onClickLuckynumber=function(){return r(this,void 0,void 0,function(){var e,t;return s(this,function(n){switch(n.label){case 0:return this.isOpenScene?[2]:(this.isOpenScene=!0,t=(e=cc.director).runScene,[4,u.default.loadBundleScene(c.SceneConfig.UpDownScene.bundleName,c.SceneConfig.UpDownScene.sceneName)]);case 1:return t.apply(e,[n.sent()]),[2]}})})},t.prototype.onClickTexas=function(){return r(this,void 0,void 0,function(){var e,t;return s(this,function(n){switch(n.label){case 0:return this.isOpenScene?[2]:(this.isOpenScene=!0,t=(e=cc.director).runScene,[4,u.default.loadBundleScene(c.SceneConfig.TexasScene.bundleName,c.SceneConfig.TexasScene.sceneName)]);case 1:return t.apply(e,[n.sent()]),[2]}})})},t.prototype.onClickClose=function(){p.gg.panelRouter.hide({panel:d.CommonPanelConfig.moreGamePanel})},a([m({type:cc.Node,tooltip:"\u6240\u6709\u6e38\u620fspine\u52a8\u753b"})],t.prototype,"gameSpineList",void 0),a([g],t)}(h.PanelComponent);n.default=y,cc._RF.pop()},{"../../../../../main/scripts/configs/SceneConfig":"SceneConfig","../../../../../main/scripts/framework/asset/AssetLoader":"AssetLoader","../../../../../main/scripts/framework/gg":"gg","../../../../../main/scripts/framework/panelrouter/PanelComponent":"PanelComponent","../../../configs/CommonPanelConfig":"CommonPanelConfig"}],Mouse:[function(e,t,n){"use strict";cc._RF.push(t,"9e2c5xFwX9B7ru758waLNzi","Mouse"),Object.defineProperty(n,"__esModule",{value:!0}),n.Mouse=void 0;var o=e("./Browser"),i=function(){function e(){}return Object.defineProperty(e,"cursor",{get:function(){return e._style.cursor},set:function(t){e._style.cursor=t},enumerable:!1,configurable:!0}),e.__init__=function(){e._style=o.Browser.document.body.style},e.hide=function(){"none"!=e.cursor&&(e._preCursor=e.cursor,e.cursor="none")},e.show=function(){"none"==e.cursor&&(e._preCursor?e.cursor=e._preCursor:e.cursor="auto")},e}();n.Mouse=i,cc._RF.pop()},{"./Browser":"Browser"}],MoveStyleDialogPanelV1:[function(e,t,n){"use strict";cc._RF.push(t,"60382Qs0fNH1JPvZAOOibma","MoveStyleDialogPanelV1");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../panelrouter/PanelComponent"),s=cc._decorator,l=s.ccclass,c=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dialogBgNode=null,t.dialogContentNode=null,t._moveSpeedPerSecond=500,t._hidePos=cc.v3(0,-100),t._showPos=cc.v3(),t}return i(t,e),t.prototype._playShowAnim=function(e,t){if(void 0===t&&(t=!1),t)cc.Tween.stopAllByTarget(this.dialogBgNode),this.dialogBgNode.opacity=180,cc.Tween.stopAllByTarget(this.dialogContentNode),this.dialogContentNode.position=this._showPos,this.dialogContentNode.opacity=255,e&&e();else{this.dialogContentNode.position.y==this._showPos.y&&(this.dialogContentNode.position=this._hidePos,this.dialogContentNode.opacity=0,this.dialogBgNode.opacity=0);var n=Math.abs((this.dialogContentNode.position.y-this._showPos.y)/this._moveSpeedPerSecond);cc.Tween.stopAllByTarget(this.dialogBgNode),cc.tween(this.dialogBgNode).to(n,{opacity:180}).start(),cc.Tween.stopAllByTarget(this.dialogContentNode),cc.tween(this.dialogContentNode).to(n,{position:this._showPos,opacity:255},{easing:"sineOut"}).call(function(){e&&e()}).start()}},t.prototype._playHideAnim=function(e,t){if(void 0===t&&(t=!1),t)cc.Tween.stopAllByTarget(this.dialogBgNode),this.dialogBgNode.opacity=0,cc.Tween.stopAllByTarget(this.dialogContentNode),this.dialogContentNode.position=this._hidePos,this.dialogContentNode.opacity=0,e&&e();else{var n=Math.abs((this.dialogContentNode.position.y-this._hidePos.y)/this._moveSpeedPerSecond);cc.Tween.stopAllByTarget(this.dialogBgNode),cc.tween(this.dialogBgNode).to(n,{opacity:0}).start(),cc.Tween.stopAllByTarget(this.dialogContentNode),cc.tween(this.dialogContentNode).to(n,{position:this._hidePos,opacity:0},{easing:"sineOut"}).call(function(){e&&e()}).start()}},a([c({type:cc.Node,tooltip:"\u5bf9\u8bdd\u6846\u80cc\u666f"})],t.prototype,"dialogBgNode",void 0),a([c({type:cc.Node,tooltip:"\u5bf9\u8bdd\u6846\u5185\u5bb9"})],t.prototype,"dialogContentNode",void 0),a([l],t)}(r.PanelComponent);n.default=u,cc._RF.pop()},{"../../panelrouter/PanelComponent":"PanelComponent"}],MoveStyleDialogPanelV2:[function(e,t,n){"use strict";cc._RF.push(t,"7d3b6TWDmJGRamzYzy4iTzd","MoveStyleDialogPanelV2");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=r(e("./MoveStyleDialogPanelV1")),l=cc._decorator,c=l.ccclass,u=l.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.decor=null,t.topTitleImg=null,t}return i(t,e),t.prototype._playShowAnim=function(t,n){this._playTitleAnim(),e.prototype._playShowAnim.call(this,t,n)},t.prototype._playHideAnim=function(t,n){this._stopTitleAnim(),e.prototype._playHideAnim.call(this,t,n)},t.prototype._stopTitleAnim=function(){null!=this.decor&&(cc.Tween.stopAllByTarget(this.decor),this.decor.opacity=0),null!=this.topTitleImg&&(cc.Tween.stopAllByTarget(this.topTitleImg),this.topTitleImg.y=0)},t.prototype._playTitleAnim=function(){null!=this.decor&&(cc.Tween.stopAllByTarget(this.decor),cc.tween(this.decor).repeatForever(cc.tween().to(.1,{opacity:255}).to(.4,{opacity:100,scale:1.2}).to(.3,{opacity:0}).to(0,{opacity:0,scale:1}).delay(1)).start()),null!=this.topTitleImg&&(cc.Tween.stopAllByTarget(this.topTitleImg),cc.tween(this.topTitleImg).repeatForever(cc.tween().to(.2,{y:this.topTitleImg.y+10}).to(.2,{y:this.topTitleImg.y}).to(.2,{y:this.topTitleImg.y+5}).to(.2,{y:this.topTitleImg.y}).delay(1)).start())},a([u({type:cc.Node,tooltip:"\u5de6\u4e0a\u89d2\u6843\u5fc3"})],t.prototype,"decor",void 0),a([u({type:cc.Node,tooltip:"\u5de6\u4e0a\u89d2\u6807\u8bc6\u56fe"})],t.prototype,"topTitleImg",void 0),a([c],t)}(s.default);n.default=p,cc._RF.pop()},{"./MoveStyleDialogPanelV1":"MoveStyleDialogPanelV1"}],MultiTypeVerticalVirtualList:[function(e,t,n){"use strict";cc._RF.push(t,"1cf28T/1F9LdIaMGiAI3lar","MultiTypeVerticalVirtualList");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../framework/gg"),s=e("../CommonProperty"),l=e("./MultiTypeVitrualListItemComponent"),c=cc._decorator,u=c.ccclass,p=c.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scrollView=null,t.itemNodes=[],t.layoutProperty=null,t._virtualNodes=[],t._virtualNodeDatas=[],t._lastUpdateTime=0,t._templeNodeMap=new Map,t._nodePoolMap=new Map,t}return i(t,e),t.prototype.onLoad=function(){var e=this;this.itemNodes.forEach(function(t){var n=t.getComponent(l.MultiTypeVitrualListItemComponent).itemType;e._templeNodeMap.set(n,t)})},t.prototype.onDestroy=function(){this._templeNodeMap.clear()},t.prototype._getNode=function(e){var t=this._nodePoolMap.get(e);null==t&&(t=new cc.NodePool,this._nodePoolMap.set(e,t));var n=t.get();if(!n){var o=this.itemNodes.find(function(t){return t.getComponent(l.MultiTypeVitrualListItemComponent).itemType==e});o&&(n=cc.instantiate(o))}return n||r.gg.logger.error("\u51fa\u73b0\u65e0\u6548\u7c7b\u578b\u7684 item\uff0c\u83b7\u53d6\u5931\u8d25"),n},t.prototype._putNode=function(e){var t=e.getComponent(l.MultiTypeVitrualListItemComponent).itemType;if(null!=t){var n=this._nodePoolMap.get(t);null==n&&(n=new cc.NodePool,this._nodePoolMap.set(t,n)),n.put(e)}else r.gg.logger.error("\u51fa\u73b0\u65e0\u6548\u7c7b\u578b\u7684 item\uff0c\u56de\u6536\u5931\u8d25")},t.prototype.resetVirtualList=function(){this._virtualNodes=[];for(var e=this.scrollView.content.children.length-1;e>=0;--e)this._putNode(this.scrollView.content.children[e]);this.scrollView.scrollToTop(0),this.scrollView.content.height=0},t.prototype.onEnable=function(){this.scrollView.content.on(cc.Node.EventType.POSITION_CHANGED,this._onPositionChanged,this),this.scrollView.node.on("scroll-ended",this._updateVisableList,this)},t.prototype.onDisable=function(){this.scrollView.content.off(cc.Node.EventType.POSITION_CHANGED,this._onPositionChanged,this),this.scrollView.node.off("scroll-ended",this._updateVisableList,this),r.gg.eventManager.offTarget(this)},t.prototype._onPositionChanged=function(){var e=Date.now();e-this._lastUpdateTime>100&&(this._lastUpdateTime=e,this._updateVisableList())},t.prototype.bindData=function(e){this._virtualNodeDatas=e},t.prototype.insert=function(e,t){for(var n=0;n<t;++n)this._virtualNodes.splice(e,0,null);this._updateListHeight(),this._updateVisableList()},t.prototype.splice=function(e){var t=this._virtualNodes[e];t&&this._putNode(t),this._virtualNodes.splice(e,1),this._updateListHeight(),this._updateVisableList()},t.prototype._updateListHeight=function(){var e=this,t=0;this._virtualNodeDatas.forEach(function(n){t+=e._templeNodeMap.get(n.itemType).height}),t+=this.layoutProperty.paddingTop+this.layoutProperty.paddingBottom+this.layoutProperty.spaceingY*(this._virtualNodes.length-1),this.scrollView.content.height=t,this.scrollView.content.height<this.scrollView.node.height&&(this.scrollView.content.height=this.scrollView.node.height)},t.prototype._updateVisableList=function(){for(var e=0;e<this._virtualNodes.length;++e){var t=this._virtualNodes[e];if(this._isVisable(e)){if(!t){var n=this._virtualNodeDatas[e];(t=this._getNode(n.itemType)).parent=this.scrollView.content,this._virtualNodes[e]=t,t.getComponent(l.MultiTypeVitrualListItemComponent).bindData(n)}t.position=this._getItemPosition(e),t.getComponent(l.MultiTypeVitrualListItemComponent).refresh()}else t&&this._putNode(t),this._virtualNodes[e]=null}},t.prototype._isVisable=function(e){var t=this._templeNodeMap.get(this._virtualNodeDatas[e].itemType),n=this._getItemPosition(e),o=-this.scrollView.content.position.y+this.layoutProperty.paddingTop;return-this.scrollView.content.position.y-this.scrollView.node.height-this.layoutProperty.paddingBottom-.5*t.height<=n.y&&n.y<=o+.5*t.height},t.prototype._getItemPosition=function(e){for(var t=0,n=0;n<e;++n){var o=this._virtualNodeDatas[n];if(t-=this.layoutProperty.spaceingY,t-=this._templeNodeMap.get(o.itemType).height,n==e)break}return t+=this.layoutProperty.spaceingY,t-=this.layoutProperty.paddingTop,cc.v3(0,t)},a([p({type:cc.ScrollView,tooltip:"scrollView"})],t.prototype,"scrollView",void 0),a([p({type:[cc.Node],tooltip:"\u5217\u8868Items"})],t.prototype,"itemNodes",void 0),a([p({type:s.LayoutProperty,tooltip:"\u865a\u62dfLayout\u5c5e\u6027"})],t.prototype,"layoutProperty",void 0),a([u],t)}(cc.Component);n.default=h,cc._RF.pop()},{"../../framework/gg":"gg","../CommonProperty":"CommonProperty","./MultiTypeVitrualListItemComponent":"MultiTypeVitrualListItemComponent"}],MultiTypeVitrualListItemComponent:[function(e,t,n){"use strict";cc._RF.push(t,"8918fkeWohPZaiYlrvk0PDz","MultiTypeVitrualListItemComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.MultiTypeVitrualListItemComponent=void 0;var r=cc._decorator,s=r.ccclass,l=r.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.itemType="",t}return i(t,e),a([l({tooltip:"Item\u7c7b\u578b string \u552f\u4e00"})],t.prototype,"itemType",void 0),a([s],t)}(cc.Component);n.MultiTypeVitrualListItemComponent=c,cc._RF.pop()},{}],MyHttpRequest:[function(e,t,n){"use strict";cc._RF.push(t,"c0f565j6fFOFZSPc9vZgJ3i","MyHttpRequest");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.MyHttpRequest=void 0;var a=e("../common/LogBase"),r=e("../common/Tools"),s=e("./HttpClient"),l=e("./InnerEvent"),c=e("../laya/Laya"),u=function(e){function t(){var t=e.call(this)||this;return t.callBack=null,t.isEncrypt=!1,t.isImage=!1,t.isRetry=!1,t.m_url="",t.m_method="get",t.m_responseType="text",t.m_headers=null,t.m_data=null,t}return i(t,e),t.reSend=function(){t.instanceLast&&t.instanceLast.mySend(t.instanceLast.m_url,t.instanceLast.data,t.instanceLast.m_method,t.instanceLast.m_responseType,t.instanceLast.m_headers)},t.decryptData=function(e,t){return void 0===t&&(t=""),""==t&&(t=s.HttpClient.CONTENT_DES_KEY),r.DES.decryptBase64_CBC(e,t)},t.prototype.Init=function(e,n,o){this.callBack=e,this.isEncrypt=n,this.isImage=o,this.http.timeout=5e3,this.on(c.Laya.Event.COMPLETE,this,this.responeService),this.on(c.Laya.Event.ERROR,this,this.errorService),t.instanceLast=this},t.prototype.mySend=function(n,o,i,r,s){void 0===o&&(o=null),void 0===i&&(i="get"),void 0===r&&(r="text");try{this.m_url=n,this.m_data=o,this.m_method=i,this.m_responseType=r,this.m_headers=s,this.http.ontimeout=function(){a.LogBase.error("http.ontimeout:",n);var e=n.split("?");if(e.length>1){var o=e[0].split("/");if(o.length>0){var i=o[o.length-1];l.HallEvent.event(l.HallEvent.SHOW_MESSAGE,["Http ["+i+"] Request TimeOut!",!0,c.Laya.Handler.create(t,t.reSend)])}}},e.prototype.send.call(this,n,o,i,r,s)}catch(u){a.LogBase.error("MyHttpRequest send",u)}},t.prototype._onError=function(){a.LogBase.error("MyHttpRequest _onError",this.m_url);var e=this.m_url.split("?");if(e.length>1){var n=e[0].split("/");if(n.length>0){var o=n[n.length-1];l.HallEvent.event(l.HallEvent.SHOW_MESSAGE,["["+o+"] Request Error!",!0,c.Laya.Handler.create(t,t.reSend)])}}},t.prototype.error=function(e){a.LogBase.error("MyHttpRequest error",e)},t.prototype.responeService=function(){if(this.offAll(),null!=this.callBack){var e=this.data;if(e&&this.isEncrypt&&(e=t.decryptData(e)),this.isImage){var n=this.http.getResponseHeader("Captcha"),o=this.http.getResponseHeader("Verifytoken"),i=new FileReader,r=this.callBack;return i.onloadend=function(e){if(null!=r){var t={url:e.target.result,Captcha:n,Verifytoken:o};r.runWith(t)}a.LogBase.log("oFileReader url",e.target.result)},i.onerror=function(e){a.LogBase.error("load error:",e)},void i.readAsDataURL(this.http.response)}if(e){var s=JSON.parse(e);s&&0!=s.code&&a.LogBase.warn("responeService",this.m_url,s.code,s.msg)}this.callBack.runWith(e)}},t.prototype.errorService=function(e){a.LogBase.error("MyHttpRequest errorService",this.url,this,e),this.offAll(),null!=this.callBack&&this.callBack.runWith(this.data)},t}(c.Laya.HttpRequest);n.MyHttpRequest=u,cc._RF.pop()},{"../common/LogBase":"LogBase","../common/Tools":"Tools","../laya/Laya":"Laya","./HttpClient":"HttpClient","./InnerEvent":"InnerEvent"}],MyRankComponent:[function(e,t,n){"use strict";cc._RF.push(t,"af11dxa0j5FsKIlVHsG8HDM","MyRankComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=r.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rankNodes=[],t.rankLab=null,t}return i(t,e),t.prototype.updataUI=function(e){var t=e-1;this.rankNodes.forEach(function(e,n){e.active=t===n}),(t>=3||t<0)&&(this.rankNodes[3].active=!0,this.rankLab.string=e+"",(e>50||0==e)&&(this.rankLab.string="50+"))},a([l({type:cc.Node,tooltip:"\u540d\u6b21\u8282\u70b9"})],t.prototype,"rankNodes",void 0),a([l({type:cc.Label,tooltip:"\u6392\u540dlab"})],t.prototype,"rankLab",void 0),a([s],t)}(cc.Component);n.default=c,cc._RF.pop()},{}],NativeCacheConst:[function(e,t,n){"use strict";cc._RF.push(t,"dc7344f2C9E2oSW8tbHf+Kn","NativeCacheConst"),Object.defineProperty(n,"__esModule",{value:!0}),n.NativeCacheConst=void 0,function(e){e.Did="CacheConst.Did",e.DidGenTimestamp="CacheConst.DidGenTimestamp",e.Abslot="CacheConst.Abslot",e.Country="CacheConst.Country",e.SofewareId="CacheConst.SofewareId",e.LastVersionName="CacheConst.LastVersionName",e.InstallTime="CacheConst.InstallTime",e.RemoteConfigUpdateTime="CacheConst.RemoteConfigUpdateTime",e.FFUserInfo="CacheConst.UserInfo"}(n.NativeCacheConst||(n.NativeCacheConst={})),cc._RF.pop()},{}],NavBarComponent:[function(e,t,n){"use strict";cc._RF.push(t,"5643cI79hxOCaYJgxpDYN7Y","NavBarComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=r(e("./NavBarOptionComponent")),l=cc._decorator,c=l.ccclass,u=l.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.optionsParentNode=null,t.optionNode=null,t._selectedIndex=null,t._nodePool=new cc.NodePool(s.default),t}var n;return i(t,e),n=t,t.prototype._getNode=function(){var e=this._nodePool.get();return e||(e=cc.instantiate(this.optionNode)),e},t.prototype._putNode=function(e){this._nodePool.put(e)},t.prototype.reset=function(){for(var e=this.optionsParentNode.children.length-1;e>=0;--e)this._putNode(this.optionsParentNode.children[e]);this._selectedIndex=null},t.prototype.onLoad=function(){this.reset()},t.prototype.setSelectedIndex=function(e){this._selectedIndex!=e&&(this._selectedIndex=e,this._updateSelectedOptionUI(),this.node.emit(n.OnNavBarOptionSelectedChanged,e))},t.prototype.updateHintIndex=function(e,t){this.optionsParentNode.children[e].getComponent(s.default).setHintVisable(t)},t.prototype.init=function(e){this.reset();for(var t=0,n=e;t<n.length;t++){var o=n[t],i=this._getNode();i.parent=this.optionsParentNode,i.getComponent(s.default).init(o),i.on("click",this._onClick,this)}},t.prototype._onClick=function(e){var t=e.node.getSiblingIndex();this.setSelectedIndex(t)},t.prototype._updateSelectedOptionUI=function(){var e=this;this.optionsParentNode.children.forEach(function(t,n){t.getComponent(s.default).setSelected(n==e._selectedIndex)})},t.OnNavBarOptionSelectedChanged="NavBarComponent.OnNavBarOptionSelectedChanged",a([u(cc.Node)],t.prototype,"optionsParentNode",void 0),a([u(cc.Node)],t.prototype,"optionNode",void 0),n=a([c],t)}(cc.Component);n.default=p,cc._RF.pop()},{"./NavBarOptionComponent":"NavBarOptionComponent"}],NavBarOptionComponent:[function(e,t,n){"use strict";cc._RF.push(t,"0f0f29yIEVG0qaRM9fhkJhD","NavBarOptionComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=r.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.defaultNode=null,t.defaultLabel=null,t.selectedNode=null,t.selectedLabel=null,t.hint=null,t}return i(t,e),t.prototype.init=function(e){this.selectedLabel.string=e,this.defaultLabel.string=e},t.prototype.setSelected=function(e){this.selectedNode.active=e,this.defaultNode.active=!e},t.prototype.setHintVisable=function(e){this.hint.active=e},a([l({type:cc.Node,tooltip:"\u672a\u9009\u4e2d\u8282\u70b9"})],t.prototype,"defaultNode",void 0),a([l({type:cc.Label,tooltip:"\u672a\u9009\u4e2d\u6587\u672c"})],t.prototype,"defaultLabel",void 0),a([l({type:cc.Node,tooltip:"\u5df2\u9009\u4e2d\u8282\u70b9"})],t.prototype,"selectedNode",void 0),a([l({type:cc.Label,tooltip:"\u9009\u4e2d\u6587\u672c"})],t.prototype,"selectedLabel",void 0),a([l({type:cc.Node,tooltip:"\u7ea2\u70b9"})],t.prototype,"hint",void 0),a([s],t)}(cc.Component);n.default=c,cc._RF.pop()},{}],NewVersionAndRankRewardPanel:[function(e,t,n){"use strict";cc._RF.push(t,"e902fG+ujdM/os4NYK2UrMF","NewVersionAndRankRewardPanel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.NewVersionAndRankRewardPanel=void 0;var c=l(e("../../../../../main/scripts/framework/components/dialogstyle/MoveStyleDialogPanelV1")),u=e("../../../../../main/scripts/systems/api/gameapi/GameApiModels"),p=e("../../../../../main/scripts/systems/api/gameapi/GameApi"),h=e("../../../../../main/scripts/framework/gg"),d=e("../../../../../main/scripts/framework/i18n/I18n"),f=e("../../../../../main/scripts/systems/item/ItemSystem"),g=e("../../../../../main/scripts/systems/user/UserWalletSystem"),m=e("../../../../../main/scripts/configs/CommonPanelConfig"),y=e("../../../../../main/scripts/systems/user/UserSystem"),_=cc._decorator,v=_.ccclass,b=_.property,S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getRewardButton=null,t.awardList=null,t.isPost=!1,t.lastCoinBalance=0,t.lastDiamonBalance=0,t.lastFashion=0,t}return i(t,e),t.prototype.hide=function(e){this.unscheduleAllCallbacks(),this.getRewardButton&&(this.getRewardButton.clickEvents=[],this.getRewardButton.node.off("click",this.onClickGetReward,this)),this._playHideAnim(function(){e.onHided()})},t.prototype.show=function(e){var t,n,o,i;this.isPost=!1;var a=(null==e?void 0:e.data).awardList;a&&(this.awardList=a),this._playShowAnim(function(){e.onShowed()}),this.getRewardButton&&(this.getRewardButton.clickEvents=[],this.getRewardButton.node.on("click",this.onClickGetReward,this)),this.lastCoinBalance=null!==(t=g.userWalletSystem.coinBalance)&&void 0!==t?t:0,this.lastDiamonBalance=null!==(n=g.userWalletSystem.diamondBalance)&&void 0!==n?n:0,this.lastFashion=null!==(i=null===(o=y.userSystem.userModel)||void 0===o?void 0:o.fashion)&&void 0!==i?i:0},t.prototype.onClickGetReward=function(){var e,t;return r(this,void 0,Promise,function(){var n,o,i,a,r,l,c=this;return s(this,function(s){switch(s.label){case 0:return this.isPost?[2]:(this.isPost=!0,[4,p.gameApi.getNewVersionReward().catch(function(){c.isPost=!1,h.gg.logger.error("getNewVersionReward error")})]);case 1:return n=s.sent(),h.gg.logger.log("getNewVersionReward",n),n&&1===(null==n?void 0:n.status)&&(null===(t=null===(e=n.data)||void 0===e?void 0:e.award_list)||void 0===t?void 0:t.length)>0?(this.awardList=n.data.award_list,this.awardList&&this.awardList.length>0?(o=this.lastCoinBalance,i=this.lastDiamonBalance,a=this.lastFashion,r=new Array,h.gg.panelRouter.hide({panel:m.CommonPanelConfig.receiveFeaturesPanel}),this.awardList.forEach(function(e){var t,n=null,s=d.i18n.getText("item.showTime");switch(e.award_type){case u.AwardType.Coin:n={award_type:u.AwardType.Coin,count:e.count,initValue:o};break;case u.AwardType.Diamond:n={award_type:u.AwardType.Diamond,count:e.count,initValue:i};break;case u.AwardType.Item:(null===(t=f.itemSystem.getItem(e.item_id))||void 0===t?void 0:t.item_class)===u.ItemClass.props?s=e.count+"":e.effective_days&&-1!==e.effective_days&&(s=d.i18n.getText("item.dayNum",e.effective_days)),n={award_type:e.award_type,itemCount:s,initValue:a,itemId:e.item_id,fashionAdd:0}}r.push(n)}),l={giftList:r},[4,h.gg.panelRouter.loadAsync(m.CommonPanelConfig.receiveFeaturesPanel)]):[3,3]):(this.failed(),[2]);case 2:return s.sent(),h.gg.panelRouter.show({panel:m.CommonPanelConfig.receiveFeaturesPanel,data:l}),this.scheduleOnce(function(){h.gg.panelRouter.hide({panel:m.CommonPanelConfig.newVersionAndRankRewardPanel}),h.gg.panelRouter.hide({panel:m.CommonPanelConfig.receiveFeaturesPanel})},3),[3,4];case 3:this.failed(),s.label=4;case 4:return[2]}})})},t.prototype.failed=function(){h.gg.panelRouter.show({panel:m.CommonPanelConfig.toastPanel,data:{text:d.i18n.getText("toast.claimAwardFailed")}}),h.gg.panelRouter.hide({panel:m.CommonPanelConfig.newVersionAndRankRewardPanel})},a([b({type:cc.Button,tooltip:"\u9886\u53d6\u6309\u94ae"})],t.prototype,"getRewardButton",void 0),a([v],t)}(c.default);n.NewVersionAndRankRewardPanel=S,cc._RF.pop()},{"../../../../../main/scripts/configs/CommonPanelConfig":"CommonPanelConfig","../../../../../main/scripts/framework/components/dialogstyle/MoveStyleDialogPanelV1":"MoveStyleDialogPanelV1","../../../../../main/scripts/framework/gg":"gg","../../../../../main/scripts/framework/i18n/I18n":"I18n","../../../../../main/scripts/systems/api/gameapi/GameApi":"GameApi","../../../../../main/scripts/systems/api/gameapi/GameApiModels":"GameApiModels","../../../../../main/scripts/systems/item/ItemSystem":"ItemSystem","../../../../../main/scripts/systems/user/UserSystem":"UserSystem","../../../../../main/scripts/systems/user/UserWalletSystem":"UserWalletSystem"}],NewbieSignInComponent:[function(e,t,n){"use strict";cc._RF.push(t,"7c723MtuUZNX57DJCZptPKX","NewbieSignInComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=e("../../../../../../main/scripts/configs/CommonPanelConfig"),u=e("../../../../../../main/scripts/framework/gg"),p=e("../../../../../../main/scripts/framework/i18n/I18n"),h=e("../../../../../../main/scripts/systems/api/gameapi/GameApi"),d=e("../../../../../../main/scripts/systems/game/GameUISystem"),f=e("../../../../../../main/scripts/systems/user/UserSystem"),g=e("../../../../../../main/scripts/systems/user/UserWalletSystem"),m=e("../../../../systems/task/TaskSystem"),y=l(e("./NewbieSignInItem")),_=e("./NoviceSevenDaysUIEvent"),v=cc._decorator,b=v.ccclass,S=v.property,C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allNewbieSignInItem=[],t.checkinBtn=null,t.spine=null,t.dayStr=["checkIn.firstDay","checkIn.secondDay","checkIn.thirdDay","checkIn.fourthDay","checkIn.fifthDay","checkIn.sixthDay","checkIn.seventhDay"],t.allNewbieSignInCom=null,t.signInInfolist=null,t.lastCoinBalance=0,t.lastDiamonBalance=0,t.lastFashion=0,t.isPost=!1,t}return i(t,e),t.prototype.onLoad=function(){this.reset()},t.prototype.onEnable=function(){u.gg.eventManager.on(_.NoviceSevenDaysUIEvent.onCheckInByItemClick,this.onCheckInByItemClick,this)},t.prototype.onDisable=function(){u.gg.eventManager.offTarget(this)},t.prototype.reset=function(){this.isPost=!1,this.checkinBtn.node.opacity=0,this.checkinBtn.interactable=!1,this.signInInfolist=null,this.spine.node.active=!1},t.prototype.closePanel=function(){u.gg.panelRouter.hide({panel:c.CommonPanelConfig.noviceSevenDaysPanel})},t.prototype.showUI=function(){var e;this.allNewbieSignInCom||this.initNewbieSignInCom(),(null===(e=this.signInInfolist)||void 0===e?void 0:e.length)>0?this.playDailyCheckInUIAnim():this.getSignInlist()},t.prototype.initNewbieSignInCom=function(){this.allNewbieSignInCom=[];for(var e=0;e<this.allNewbieSignInItem.length;e++){var t=this.allNewbieSignInItem[e];t.opacity=0,this.allNewbieSignInCom.push(t.getComponent(y.default)),this.allNewbieSignInCom[e].initUI(p.i18n.getText(this.dayStr[e]))}},t.prototype.getSignInlist=function(){return r(this,void 0,void 0,function(){var e,t=this;return s(this,function(n){switch(n.label){case 0:return[4,h.gameApi.getNewSignInList().catch(function(e){u.gg.logger.log("\u83b7\u53d6\u65b0\u624b\u7b7e\u5230\u6d3b\u52a8\u5931\u8d25",e),t.closePanel()})];case 1:return(e=n.sent())&&1==e.status&&e.data?(this.signInInfolist=e.data.list,this.signInDays=e.data.sign_in_days,this.canSign=e.data.can_sign,this.playDailyCheckInUI(),this.playDailyCheckInUIAnim(),u.gg.eventManager.emit(_.NoviceSevenDaysUIEvent.ActivityRemainingTime,e.data.deadline)):(u.gg.logger.log("\u83b7\u53d6\u65b0\u624b\u7b7e\u5230\u6d3b\u52a8\u5931\u8d25-----\u6392\u67e5"),this.closePanel()),[2]}})})},t.prototype.playDailyCheckInUI=function(){for(var e=0;e<this.signInInfolist.length;e++){var t=this.signInInfolist[e];this.allNewbieSignInCom[e].signInInfo=t,this.allNewbieSignInCom[e].updataUI(e+1,this.signInDays)}if(this.signInDays<m.TaskShowNewbieDays){var n=this.allNewbieSignInCom[this.signInDays-1].node.parent.convertToWorldSpaceAR(this.allNewbieSignInCom[this.signInDays-1].node.getPosition()),o=this.spine.node.parent.convertToNodeSpaceAR(n);this.spine.node.setPosition(o)}},t.prototype.playDailyCheckInUIAnim=function(){var e=this;this.checkinBtn.node.opacity=0,this.checkinBtn.interactable=!1,1===this.canSign?(this.checkinBtn.node.stopAllActions(),cc.tween(this.checkinBtn.node).delay(.7).call(function(){e.spine.node.active=!0}).to(.256,{opacity:255},{easing:"sineIn"}).start(),this.checkinBtn.interactable=!0,u.gg.eventManager.emit(_.NoviceSevenDaysUIEvent.NewbieSignInHint,!0)):u.gg.eventManager.emit(_.NoviceSevenDaysUIEvent.NewbieSignInHint,!1);for(var t=0;t<this.signInInfolist.length;t++)this.signInDays-1===t&&1===this.canSign?this.allNewbieSignInCom[t].updataUIAnim(!0,t):this.allNewbieSignInCom[t].updataUIAnim(!1,t)},t.prototype.onClickCheckIn=function(){return r(this,void 0,void 0,function(){var e;return s(this,function(t){switch(t.label){case 0:return this.isPost?[2]:(this.isPost=!0,this.lastCoinBalance=g.userWalletSystem.coinBalance,this.lastDiamonBalance=g.userWalletSystem.diamondBalance,this.lastFashion=f.userSystem.userModel.fashion,[4,h.gameApi.getNewSignInAward().catch(function(e){u.gg.logger.log("\u9886\u53d6\u65b0\u624b7\u5929\u7b7e\u5230\u5956\u52b1",e),u.gg.panelRouter.show({panel:c.CommonPanelConfig.toastPanel,data:{text:p.i18n.getText("checkIn.fail")}})})]);case 1:return(e=t.sent())&&1==e.status?(this.checkinBtn.node.opacity=0,this.checkinBtn.interactable=!1,this.allNewbieSignInCom[this.signInDays-1].signInInfo.is_got=1,this.allNewbieSignInCom[this.signInDays-1].updataIsGotUI(),this.canSign=0,u.gg.eventManager.emit(_.NoviceSevenDaysUIEvent.NewbieSignInHint,!1),d.gameUISystem.showReceiveFeatures(this.lastCoinBalance,this.lastDiamonBalance,this.lastFashion,this.signInInfolist[this.signInDays-1].award_list)):u.gg.panelRouter.show({panel:c.CommonPanelConfig.toastPanel,data:{text:p.i18n.getText("checkIn.fail")}}),[2]}})})},t.prototype.onCheckInByItemClick=function(){this.onClickCheckIn()},a([S({type:cc.Node,tooltip:"\u7b7e\u5230\u5b50\u8282\u70b9"})],t.prototype,"allNewbieSignInItem",void 0),a([S({type:cc.Button,tooltip:"\u7b7e\u5230\u6309\u94ae"})],t.prototype,"checkinBtn",void 0),a([S({type:sp.Skeleton,tooltip:"\u7b7e\u5230\u6807\u8bc6\u52a8\u753b"})],t.prototype,"spine",void 0),a([b],t)}(cc.Component);n.default=C,cc._RF.pop()},{"../../../../../../main/scripts/configs/CommonPanelConfig":"CommonPanelConfig","../../../../../../main/scripts/framework/gg":"gg","../../../../../../main/scripts/framework/i18n/I18n":"I18n","../../../../../../main/scripts/systems/api/gameapi/GameApi":"GameApi","../../../../../../main/scripts/systems/game/GameUISystem":"GameUISystem","../../../../../../main/scripts/systems/user/UserSystem":"UserSystem","../../../../../../main/scripts/systems/user/UserWalletSystem":"UserWalletSystem","../../../../systems/task/TaskSystem":"TaskSystem","./NewbieSignInItem":"NewbieSignInItem","./NoviceSevenDaysUIEvent":"NoviceSevenDaysUIEvent"}],NewbieSignInItem:[function(e,t,n){"use strict";cc._RF.push(t,"1913dm1VvFCia88V4K3KiiV","NewbieSignInItem");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var l=e("../../../../../../main/scripts/framework/gg"),c=e("../../../../../../main/scripts/framework/i18n/I18n"),u=e("../../../../../../main/scripts/systems/api/gameapi/GameApiModels"),p=e("../../../../../../main/scripts/systems/item/CommonItemConfig"),h=e("../../../../../../main/scripts/systems/item/ItemSystem"),d=e("./NoviceSevenDaysUIEvent"),f=cc._decorator,g=f.ccclass,m=f.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dayLab=null,t.selectNode=null,t.countLab=null,t.rightNode=null,t.rxpiredNode=null,t.projectionNode=null,t.iconFrame=[],t.iconSprite=null,t.spine=null,t.dragon=null,t.signInInfo=null,t.isTodayAllowSign=!1,t.animTime=.128,t.day=-1,t.signInDays=-1,t.itemScale={avatar_frame:.45,chat_bubble:.35,baloot_card:.7,baloot_bg:.45,ludo_chessboard:.5,ludo_dice:1,game_gift:1},t}return i(t,e),t.prototype.onDisable=function(){this.selectNode.stopAllActions(),this.node.opacity=0,this.selectNode.opacity=0,this.isTodayAllowSign=!1},t.prototype.initUI=function(e){this.dayLab.string=e},t.prototype.updataUIAnim=function(e,t){var n=this;void 0===e&&(e=!1),void 0===t&&(t=-1),this.isTodayAllowSign=!1,this.node.opacity=0;var o=t%3;6===t&&(o=3),cc.tween(this.node).delay(o*this.animTime/2).to(this.animTime,{opacity:255},{easing:"sineIn"}).start(),this.selectNode.opacity=0,e?cc.tween(this.selectNode).delay(5*this.animTime).call(function(){n.isTodayAllowSign=!0,cc.tween(n.selectNode).repeatForever(cc.tween().to(.5,{opacity:255}).to(.5,{opacity:0})).start()}).start():(this.selectNode.stopAllActions(),this.selectNode.opacity=0)},t.prototype.updataUI=function(e,t){this.day=e,this.signInDays=t,this.updataIsGotUI(),this.updateItemUI()},t.prototype.updataIsGotUI=function(){1===this.signInInfo.is_got?(this.rightNode.opacity=255,this.projectionNode.opacity=255,this.rxpiredNode.opacity=0):(this.rightNode.opacity=0,this.day<this.signInDays?(this.rxpiredNode.opacity=255,this.projectionNode.opacity=255):this.projectionNode.opacity=0),this.selectNode.stopAllActions(),this.selectNode.opacity=0},t.prototype.updateItemUI=function(){var e;if(this.iconSprite.node.active=!1,this.spine.node.active=!1,this.dragon.node.active=!1,(null===(e=this.signInInfo.award_list)||void 0===e?void 0:e.length)>0){var t=this.signInInfo.award_list[0];t.award_type===u.AwardType.Item?this.updaIconContent(t):(this.iconSprite.node.active=!0,this.countLab.string=t.count+"",t.award_type===u.AwardType.Coin?this.iconSprite.spriteFrame=this.iconFrame[0]:t.award_type===u.AwardType.Diamond&&(this.iconSprite.spriteFrame=this.iconFrame[1]))}},t.prototype.updaIconContent=function(e){return r(this,void 0,void 0,function(){var t,n,o=this;return s(this,function(){return(t=h.itemSystem.getItem(e.item_id)).item_class==u.ItemClass.design?(n=c.i18n.getText("item.dayNum",e.effective_days),-1===e.effective_days&&(n=c.i18n.getText("item.showTime")),this.countLab.string=n):this.countLab.string=e.count+"",h.itemSystem.getItemIconInfo(e.item_id).then(function(e){if(null!=e&&(e.iconType===p.IconType.Image?(o.iconSprite.spriteFrame=e.spriteFrame,o.iconSprite.node.active=!0):e.iconType===p.IconType.Dragon?(o.dragon.node.active=!0,o.dragon.dragonAsset=e.dragonAsset,o.dragon.dragonAtlasAsset=e.dragonAtlasAsset,o.dragon.armatureName="armatureName",o.dragon.playAnimation("animation",0)):e.iconType===p.IconType.Spine&&(o.spine.skeletonData=e.spineData,o.spine.node.active=!0,o.spine.setAnimation(0,"animation",!0)),o.itemScale[t.item_type])){var n=o.itemScale[t.item_type];7==o.day&&(n*=2),o.iconSprite.node.scale=n,o.dragon.node.scale=n,o.spine.node.scale=n}}),[2]})})},t.prototype.onDailyCheckInItemClick=function(){this.isTodayAllowSign&&l.gg.eventManager.emit(d.NoviceSevenDaysUIEvent.onCheckInByItemClick)},a([m({type:cc.Label,tooltip:"\u7b2c\u51e0\u5929"})],t.prototype,"dayLab",void 0),a([m({type:cc.Node,tooltip:"\u9700\u8981\u7b7e\u5230\u6807\u8bc6\u53d1\u5149\u8282\u70b9"})],t.prototype,"selectNode",void 0),a([m({type:cc.Label,tooltip:"\u5956\u52b1\u6570"})],t.prototype,"countLab",void 0),a([m({type:cc.Node,tooltip:"\u5df2\u9886\u53d6\u5bf9\u53f7"})],t.prototype,"rightNode",void 0),a([m({type:cc.Node,tooltip:"\u5df2\u8fc7\u671f\u8282\u70b9"})],t.prototype,"rxpiredNode",void 0),a([m({type:cc.Node,tooltip:"\u5df2\u9886\u53d6\u906e\u7f69"})],t.prototype,"projectionNode",void 0),a([m({type:cc.SpriteFrame,tooltip:"\u91d1\u5e01/\u94bb\u77f3\u56fe\u6807"})],t.prototype,"iconFrame",void 0),a([m({type:cc.Sprite,tooltip:"\u9053\u5177\u56fe\u6807"})],t.prototype,"iconSprite",void 0),a([m({type:sp.Skeleton,tooltip:"\u9053\u5177spine"})],t.prototype,"spine",void 0),a([m({type:dragonBones.ArmatureDisplay,tooltip:"\u9053\u5177dragon"})],t.prototype,"dragon",void 0),a([g],t)}(cc.Component);n.default=y,cc._RF.pop()},{"../../../../../../main/scripts/framework/gg":"gg","../../../../../../main/scripts/framework/i18n/I18n":"I18n","../../../../../../main/scripts/systems/api/gameapi/GameApiModels":"GameApiModels","../../../../../../main/scripts/systems/item/CommonItemConfig":"CommonItemConfig","../../../../../../main/scripts/systems/item/ItemSystem":"ItemSystem","./NoviceSevenDaysUIEvent":"NoviceSevenDaysUIEvent"}],NoticeProto:[function(e,t,n){"use strict";cc._RF.push(t,"44a02EXb9xAkZmadck7Q1kj","NoticeProto"),Object.defineProperty(n,"__esModule",{value:!0}),n.NoticeType=n.NoticeProtoMsg=void 0,(n.NoticeProtoMsg||(n.NoticeProtoMsg={})).NoticeBroadCast="NoticeBroadCast",function(e){e[e.ChatRoom=1]="ChatRoom"}(n.NoticeType||(n.NoticeType={})),cc._RF.pop()},{}],NoticeSystem:[function(e,t,n){"use strict";cc._RF.push(t,"ee6f7jz0PpEpqbrQxosLlyM","NoticeSystem"),Object.defineProperty(n,"__esModule",{value:!0}),n.noticeSystem=void 0;var o=e("../../framework/gg"),i=e("../gamews/GameSocketSystem"),a=e("../im/IMSystem"),r=e("../login/LoginEvent"),s=e("./NoticeProto"),l=function(){function e(){}return e.prototype.enable=function(){o.gg.eventManager.on(r.LoginEvent.OnUserKickOut,this._onUserOut,this),o.gg.eventManager.on(r.LoginEvent.OnUserLogout,this._onUserOut,this),o.gg.eventManager.on(r.LoginEvent.OnUserLostConnection,this._onUserOut,this),i.gameSocketSystem.on(s.NoticeProtoMsg.NoticeBroadCast,this.onNoticeBroadCast,this)},e.prototype._onUserOut=function(){this.disable()},e.prototype.disable=function(){i.gameSocketSystem.offTarget(this)},e.prototype.onNoticeBroadCast=function(e){switch(o.gg.logger.log("\u7cfb\u7edf\u901a\u77e5--\x3e",e),null==e?void 0:e.notice_type){case s.NoticeType.ChatRoom:a.imSystem.setNoticeMessageToConversation(e)}},e}();n.noticeSystem=new l,cc._RF.pop()},{"../../framework/gg":"gg","../gamews/GameSocketSystem":"GameSocketSystem","../im/IMSystem":"IMSystem","../login/LoginEvent":"LoginEvent","./NoticeProto":"NoticeProto"}],NoviceSevenDaysPanel:[function(e,t,n){"use strict";cc._RF.push(t,"09f00j7kSpGPJ9COekEJ/Zm","NoviceSevenDaysPanel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.NoviceSevenDaysType=void 0;var s,l=e("../../../../../../main/scripts/configs/CommonAudioConfig"),c=r(e("../../../../../../main/scripts/framework/components/dialogstyle/MoveStyleDialogPanelV1")),u=e("../../../../../../main/scripts/framework/gg"),p=e("../../../../../../main/scripts/framework/utils/TimeUtils"),h=e("../../../../../../main/scripts/systems/api/gameapi/GameApiModels"),d=e("../../../../configs/CommonPanelConfig"),f=e("../../../../systems/lobby/LobbyHintSystem"),g=e("../../../../systems/task/TaskEvent"),m=e("../../../../systems/task/TaskSystem"),y=r(e("./NewbieSignInComponent")),_=e("./NoviceSevenDaysUIEvent"),v=r(e("./NoviceTaskComponent")),b=cc._decorator,S=b.ccclass,C=b.property;(function(e){e.NoviceTask="noviceTask",e.NewbieSignIn="newbieSignIn"})(s=n.NoviceSevenDaysType||(n.NoviceSevenDaysType={}));var I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.noviceTaskComponent=null,t.noviceTaskChoose=null,t.noviceTaskTip=null,t.newbieSignInComponent=null,t.newbieSignInChoose=null,t.newbieSignInTip=null,t.taskHint=null,t.signInHint=null,t.timeDayLabel=null,t.timeHourLabel=null,t.timeMinuteLabel=null,t.timeSecondLabel=null,t.activityNode=null,t.awardNode=null,t.noviceType=s.NewbieSignIn,t.activityTime=0,t.endClaimingTime=86400,t}return i(t,e),t.prototype.onEnable=function(){u.gg.eventManager.on(_.NoviceSevenDaysUIEvent.NewbieSignInHint,this.onNewbieSignInHint,this),u.gg.eventManager.on(g.TaskEvent.onClaimAwardResponse,this.onClaimAwardResponse,this),u.gg.eventManager.on(g.TaskEvent.onTaskListResponse,this.onTaskListResponse,this),u.gg.eventManager.on(_.NoviceSevenDaysUIEvent.ActivityRemainingTime,this.onActivityRemainingTime,this)},t.prototype.onDisable=function(){u.gg.eventManager.offTarget(this),this.unscheduleAllCallbacks()},t.prototype.onLoad=function(){this.reset()},t.prototype.show=function(e){this._playShowAnim(function(){e.onShowed()}),m.taskSystem.taskDataInit(null),this.changeDesign()},t.prototype.hide=function(e){var t=this;this._playHideAnim(function(){t.reset(),e.onHided()})},t.prototype.reset=function(){this.awardNode.active=!1,this.timeDayLabel.string="0",this.timeHourLabel.string="00",this.timeMinuteLabel.string="00",this.timeSecondLabel.string="00",this.taskHint.active=!1,this.signInHint.active=!1,this.noviceTaskComponent.node.active=!1,this.newbieSignInComponent.node.active=!1,this.newbieSignInComponent.reset(),this.noviceTaskComponent.reset(),m.taskSystem.noviceTaskListData={},this.noviceType=s.NewbieSignIn,f.lobbyHintSystem.getHintData(h.LobbyHintEnum.NewPlayerReddot)},t.prototype.onActivityRemainingTime=function(e){this.activityTime=e-Date.now()/1e3,this.updateTimerStr(),this.schedule(this.updateActivityTimer,1)},t.prototype.updateActivityTimer=function(){this.activityTime--,this.updateTimerStr(),this.activityTime<=0&&(this.unschedule(this.updateActivityTimer),this.onCloseBtnClick())},t.prototype.updateTimerStr=function(){var e,t,n,o="";if(this.activityTime>=86400){var i=Math.floor((this.activityTime-this.endClaimingTime)/60/60/24);o=p.TimeUtils.formatSecond2(this.activityTime-this.endClaimingTime-86400*i),this.timeDayLabel.string=i+"",this.activityNode.active=!0,this.awardNode.active=!1}else o=p.TimeUtils.formatSecond2(this.activityTime),this.timeDayLabel.string="0",this.activityNode.active=!1,this.awardNode.active=!0;var a=o.split(":");a&&(this.timeHourLabel.string=null!==(e=a[0])&&void 0!==e?e:"00",this.timeMinuteLabel.string=null!==(t=a[1])&&void 0!==t?t:"00",this.timeSecondLabel.string=null!==(n=a[2])&&void 0!==n?n:"00")},t.prototype.onClaimAwardResponse=function(){var e=m.taskSystem.checkNoviceTakRedPointStatus();this.taskHint.active=e[e.length-1]},t.prototype.onTaskListResponse=function(e){if(e){var t=m.taskSystem.checkNoviceTakRedPointStatus();this.taskHint.active=t[t.length-1]}},t.prototype.onNewbieSignInHint=function(e){this.signInHint.active=e},t.prototype.onCloseBtnClick=function(){u.gg.panelRouter.hide({panel:d.CommonPanelConfig.noviceSevenDaysPanel}),u.gg.audio.playOneShot(l.CommonAudioConfig.btnClose)},t.prototype.changeDesign=function(){switch(this.noviceType){case s.NewbieSignIn:this.noviceTaskComponent.node.active=!1,this.noviceTaskChoose.active=!1,this.noviceTaskTip.active=!1,this.newbieSignInComponent.node.active=!0,this.newbieSignInTip.active=!0,this.newbieSignInChoose.active=!0,this.newbieSignInComponent.showUI();break;case s.NoviceTask:this.noviceTaskComponent.node.active=!0,this.noviceTaskChoose.active=!0,this.noviceTaskTip.active=!0,this.noviceTaskComponent.showUI(),this.newbieSignInComponent.node.active=!1,this.newbieSignInTip.active=!1,this.newbieSignInChoose.active=!1}},t.prototype.onClickNewbieSignIn=function(){this.noviceType!=s.NewbieSignIn&&(this.noviceType=s.NewbieSignIn,this.changeDesign())},t.prototype.onClickNoviceTask=function(){this.noviceType!=s.NoviceTask&&(this.noviceType=s.NoviceTask,this.changeDesign())},a([C({type:v.default,tooltip:"\u65b0\u624b7\u5929\u4efb\u52a1\u7ec4\u4ef6"})],t.prototype,"noviceTaskComponent",void 0),a([C({type:cc.Node,tooltip:"\u9009\u4e2d\u65b0\u624b7\u5929\u4efb\u52a1"})],t.prototype,"noviceTaskChoose",void 0),a([C({type:cc.Node,tooltip:"\u65b0\u624b7\u5929\u4efb\u52a1\u8bf4\u660e"})],t.prototype,"noviceTaskTip",void 0),a([C({type:y.default,tooltip:"\u65b0\u624b7\u5929\u767b\u7b7e\u5230\u7ec4\u4ef6"})],t.prototype,"newbieSignInComponent",void 0),a([C({type:cc.Node,tooltip:"\u9009\u4e2d\u65b0\u624b7\u5929\u767b\u7b7e\u5230"})],t.prototype,"newbieSignInChoose",void 0),a([C({type:cc.Node,tooltip:"\u65b0\u624b7\u5929\u767b\u7b7e\u5230\u8bf4\u660e"})],t.prototype,"newbieSignInTip",void 0),a([C({type:cc.Node,tooltip:"\u5f53\u524d\u4efb\u52a1\u7ea2\u70b9\u7ea2\u70b9"})],t.prototype,"taskHint",void 0),a([C({type:cc.Node,tooltip:"\u5f53\u524d\u7b7e\u5230\u7ea2\u70b9"})],t.prototype,"signInHint",void 0),a([C({type:cc.Label,tooltip:"\u6d3b\u52a8\u5269\u4f59\u65f6\u95f4/\u5956\u52b1\u9886\u53d6\u5269\u4f59\u65f6\u95f4"})],t.prototype,"timeDayLabel",void 0),a([C({type:cc.Label,tooltip:"\u6d3b\u52a8\u5269\u4f59\u65f6\u95f4/\u5956\u52b1\u9886\u53d6\u5269\u4f59\u65f6\u95f4"})],t.prototype,"timeHourLabel",void 0),a([C({type:cc.Label,tooltip:"\u6d3b\u52a8\u5269\u4f59\u65f6\u95f4/\u5956\u52b1\u9886\u53d6\u5269\u4f59\u65f6\u95f4"})],t.prototype,"timeMinuteLabel",void 0),a([C({type:cc.Label,tooltip:"\u6d3b\u52a8\u5269\u4f59\u65f6\u95f4/\u5956\u52b1\u9886\u53d6\u5269\u4f59\u65f6\u95f4"})],t.prototype,"timeSecondLabel",void 0),a([C({type:cc.Node,tooltip:"\u6d3b\u52a8\u5269\u4f59\u65f6\u95f4"})],t.prototype,"activityNode",void 0),a([C({type:cc.Node,tooltip:"\u5956\u52b1\u9886\u53d6\u5269\u4f59\u65f6\u95f4"})],t.prototype,"awardNode",void 0),a([S],t)}(c.default);n.default=I,cc._RF.pop()},{"../../../../../../main/scripts/configs/CommonAudioConfig":"CommonAudioConfig","../../../../../../main/scripts/framework/components/dialogstyle/MoveStyleDialogPanelV1":"MoveStyleDialogPanelV1","../../../../../../main/scripts/framework/gg":"gg","../../../../../../main/scripts/framework/utils/TimeUtils":"TimeUtils","../../../../../../main/scripts/systems/api/gameapi/GameApiModels":"GameApiModels","../../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../../systems/lobby/LobbyHintSystem":"LobbyHintSystem","../../../../systems/task/TaskEvent":"TaskEvent","../../../../systems/task/TaskSystem":"TaskSystem","./NewbieSignInComponent":"NewbieSignInComponent","./NoviceSevenDaysUIEvent":"NoviceSevenDaysUIEvent","./NoviceTaskComponent":"NoviceTaskComponent"}],NoviceSevenDaysUIEvent:[function(e,t,n){"use strict";cc._RF.push(t,"a7305ciRf1IC7I7aD02880M","NoviceSevenDaysUIEvent"),Object.defineProperty(n,"__esModule",{value:!0}),n.NoviceSevenDaysUIEvent=void 0,function(e){e.onChangeTabItem="NoviceSevenDaysUIEvent.onChangeTabItem",e.onSetHintStatus="NoviceSevenDaysUIEvent.onSetHintStatus",e.onCheckInByItemClick="NoviceSevenDaysUIEvent.onCheckInByItemClick",e.NewbieSignInHint="NoviceSevenDaysUIEvent.NewbieSignInHint",e.ActivityRemainingTime="NoviceSevenDaysUIEvent.ActivityRemainingTime"}(n.NoviceSevenDaysUIEvent||(n.NoviceSevenDaysUIEvent={})),cc._RF.pop()},{}],NoviceTaskComponent:[function(e,t,n){"use strict";cc._RF.push(t,"22f8cBjNTtGyYkvZn6WyOk9","NoviceTaskComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=e("../../../../../../main/scripts/configs/CommonPanelConfig"),u=e("../../../../../../main/scripts/framework/gg"),p=e("../../../../../../main/scripts/framework/i18n/I18n"),h=e("../../../../../../main/scripts/systems/api/gameapi/GameApiModels"),d=e("../../../../systems/task/TaskEvent"),f=e("../../../../systems/task/TaskSystem"),g=l(e("../TaskList")),m=e("./NoviceSevenDaysUIEvent"),y=l(e("./TaskTabComponent")),_=cc._decorator,v=_.ccclass,b=_.property,S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.taskList=null,t.taskTabComponent=null,t}return i(t,e),t.prototype.onLoad=function(){this.reset()},t.prototype.onEnable=function(){u.gg.eventManager.on(d.TaskEvent.onTaskListResponse,this.onTaskListResponse,this),u.gg.eventManager.on(d.TaskEvent.onClaimAwardResponse,this.onClaimAwardResponse,this),u.gg.eventManager.on(m.NoviceSevenDaysUIEvent.onChangeTabItem,this.onChangeTaskList,this)},t.prototype.onDisable=function(){u.gg.eventManager.offTarget(this),this.reset()},t.prototype.reset=function(){this.node.stopAllActions(),this.node.opacity=0,this.taskList.reset()},t.prototype.showUI=function(){this.reset(),cc.tween(this.node).to(.26,{opacity:255},{easing:"sineIn"}).start();var e=f.taskSystem.getTaskList(h.TaskType.NewPlayerSevenDay,0);(null==e?void 0:e.length)>0?this.setTabStatus():(u.gg.panelRouter.show({panel:c.CommonPanelConfig.loadingPanel}),f.taskSystem.taskDataInit(null))},t.prototype.onTaskListResponse=function(e){u.gg.panelRouter.hide({panel:c.CommonPanelConfig.loadingPanel}),e?this.setTabStatus():u.gg.panelRouter.show({panel:c.CommonPanelConfig.toastPanel,data:{text:p.i18n.getText("toast.loadTaskListFailed")}})},t.prototype.setTabStatus=function(){f.taskSystem.userRegisterDay<=f.TaskShowNewbieDays&&this.taskTabComponent.initTabItem(f.taskSystem.userRegisterDay),this.setHintStatus();var e=f.taskSystem.userRegisterDay-1;7==e&&(e=6),u.gg.eventManager.emit(m.NoviceSevenDaysUIEvent.onChangeTabItem,e)},t.prototype.setHintStatus=function(){var e=f.taskSystem.checkNoviceTakRedPointStatus();this.taskTabComponent.setTabItemHintStatus(e)},t.prototype.setTaskList=function(e){this.taskList.reset(),this.taskList.node.opacity=255;var t=f.taskSystem.getTaskList(h.TaskType.NewPlayerSevenDay,e);this.taskList.init(t,e)},t.prototype.onChangeTaskList=function(e){void 0===e&&(e=0),this.setTaskList(e)},t.prototype.onClaimAwardResponse=function(e,t,n,o){return void 0===e&&(e=null),void 0===n&&(n=null),void 0===o&&(o=null),r(this,void 0,void 0,function(){return s(this,function(i){switch(i.label){case 0:return n!=h.TaskType.NewPlayerSevenDay?[3,3]:(u.gg.panelRouter.hide({panel:c.CommonPanelConfig.loadingPanel}),1!==e?[3,2]:[4,u.gg.panelRouter.showAsync({panel:c.CommonPanelConfig.receiveFeaturesPanel,data:t})]);case 1:return i.sent(),this.setTaskList(o),this.setHintStatus(),[3,3];case 2:0===e?(u.gg.panelRouter.show({panel:c.CommonPanelConfig.toastPanel,data:{text:p.i18n.getText("toast.taskOverdue")}}),u.gg.panelRouter.show({panel:c.CommonPanelConfig.loadingPanel}),f.taskSystem.taskDataInit(null)):u.gg.panelRouter.show({panel:c.CommonPanelConfig.toastPanel,data:{text:p.i18n.getText("toast.getTaskAwardFailed")}}),i.label=3;case 3:return[2]}})})},a([b({type:g.default,tooltip:"\u4efb\u52a1\u5217\u8868"})],t.prototype,"taskList",void 0),a([b({type:y.default,tooltip:"\u65b0\u624b\u4efb\u52a1\u5934\u90e8\u5207\u6362\u680f"})],t.prototype,"taskTabComponent",void 0),a([v],t)}(cc.Component);n.default=S,cc._RF.pop()},{"../../../../../../main/scripts/configs/CommonPanelConfig":"CommonPanelConfig","../../../../../../main/scripts/framework/gg":"gg","../../../../../../main/scripts/framework/i18n/I18n":"I18n","../../../../../../main/scripts/systems/api/gameapi/GameApiModels":"GameApiModels","../../../../systems/task/TaskEvent":"TaskEvent","../../../../systems/task/TaskSystem":"TaskSystem","../TaskList":"TaskList","./NoviceSevenDaysUIEvent":"NoviceSevenDaysUIEvent","./TaskTabComponent":"TaskTabComponent"}],NumberBitLabel:[function(e,t,n){"use strict";cc._RF.push(t,"8b11a4VtK9LvIicLsevbtZ2","NumberBitLabel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=(r.property,r.requireComponent),c=r.disallowMultiple,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._label=null,t._targetNumber=0,t._curNumber="0",t._singleTime=0,t._maxArrLength=0,t.lastCurNumberStr="",t.updataNumberStr="",t._scrollArr=null,t._bitCount=0,t._bitIndex=0,t.isSub=!1,t}return i(t,e),Object.defineProperty(t.prototype,"curNumber",{get:function(){return this._curNumber},set:function(e){this._curNumber!=e&&(this._curNumber=e,this._label.string=this._curNumber)},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){this._label=this.getComponent(cc.Label)},t.prototype.set=function(e,t){void 0===t&&(t=.8),this._targetNumber=e,t>0&&this._targetNumber!==Number(this.curNumber)?(this.isSub=!1,this.getScrollArr(),this._singleTime=t/this._maxArrLength,this._bitCount=0,this._bitIndex=0,this.lastCurNumberStr=this._curNumber,this.updataNumberStr="",this.unschedule(this.updateNum),this.schedule(this.updateNum,this._singleTime,this._maxArrLength)):this.curNumber=String(this._targetNumber)},t.prototype.updateNum=function(){var e=this._bitIndex,t=this.lastCurNumberStr.substring(e+1,this.lastCurNumberStr.length),n=this._scrollArr[e][this._bitCount];this.curNumber=this.updataNumberStr+n+t,this.isSub||(e=this._scrollArr.length-this._bitIndex-1,t=this.lastCurNumberStr.substring(0,this.lastCurNumberStr.length-this._bitIndex-1),n=this._scrollArr[e][this._bitCount],this.curNumber=t+n+this.updataNumberStr),this._bitCount++,this._bitCount>=this._scrollArr[e].length&&(this.isSub?(this.updataNumberStr=this.updataNumberStr+n,this.updataNumberStr=String(Number(this.updataNumberStr)),"0"===this.updataNumberStr&&(this.updataNumberStr="")):this.updataNumberStr=n+this.updataNumberStr,this._bitCount=0,this._bitIndex++,this._bitIndex>=this._scrollArr.length&&this.unschedule(this.updateNum))},t.prototype.getScrollArr=function(){var e=this.curNumber,t=this._targetNumber,n=String(e).split(""),o=String(t).split("");this._scrollArr=[],this._maxArrLength=0,Number(this.curNumber)>this._targetNumber?(this.isSub=!0,this.getSubScrollArr(o,n)):this.getAddScrollArr(o,n)},t.prototype.getAddScrollArr=function(e,t){for(var n=e.length-t.length,o=0;o<e.length;o++){var i=[],a=0,r=Number(e[o]);o-n>=0&&(a=Number(t[o-n])),a===r?r=10+r:r<a&&(r=10+r);for(var s=a+1;s<=r;s++){var l=String(s%10);i.push(l)}this._scrollArr.push(i),this._maxArrLength=this._maxArrLength+i.length}},t.prototype.getSubScrollArr=function(e,t){for(var n=t.length-e.length,o=0;o<t.length;o++){var i=[],a=Number(t[o]),r=0;o-n>=0&&(r=Number(e[o-n])),a===r?a=10+r:r>a&&(r=a-r-1);for(var s=a;s>=r;s--){var l=String(s%10);s<0&&(l=String(10+s)),i.push(l)}this._scrollArr.push(i),this._maxArrLength=this._maxArrLength+i.length}},a([s,l(cc.Label),c],t)}(cc.Component);n.default=u,cc._RF.pop()},{}],NumberLabel:[function(e,t,n){"use strict";cc._RF.push(t,"ea3991vb59ENq7tjS5ZZqS7","NumberLabel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=(r.property,r.requireComponent),c=r.disallowMultiple,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._label=null,t._maxRemainDuration=2,t._remainDuration=0,t._targetNumber=0,t._curNumber=0,t._speed=0,t.prefix="",t.suffix="",t}return i(t,e),Object.defineProperty(t.prototype,"curNumber",{get:function(){return this._curNumber},set:function(e){this._curNumber!=e&&(this._curNumber=e,this._label.string=this.prefix+String(Math.floor(this._curNumber))+this.suffix)},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){this._label=this.getComponent(cc.Label)},t.prototype.set=function(e,t){void 0===t&&(t=.8),this._targetNumber=e,this._remainDuration=t,this._speed=this._remainDuration>0?(this._targetNumber-this.curNumber)/this._remainDuration:0},t.prototype.add=function(e,t){void 0===t&&(t=.8),this._targetNumber+=e,this._remainDuration+=t,this._remainDuration>this._maxRemainDuration&&(this._remainDuration=this._maxRemainDuration),this._speed=this._remainDuration>0?(this._targetNumber-this.curNumber)/this._remainDuration:0},t.prototype.update=function(e){if(this._remainDuration<=0||this._remainDuration-e<=0)return this._remainDuration=0,void(this.curNumber=this._targetNumber);this._remainDuration-=e,this.curNumber+=this._speed*e},a([s,l(cc.Label),c],t)}(cc.Component);n.default=u,cc._RF.pop()},{}],PackageDesignTabComponent:[function(e,t,n){"use strict";cc._RF.push(t,"d325faQzPFFDovpWnNQCB00","PackageDesignTabComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../../../systems/item/CommonItemConfig"),l=r(e("./PackageDesignTabItemPrefab")),c=cc._decorator,u=c.ccclass,p=c.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.designItemPrefab=null,t}return i(t,e),t.prototype.onLoad=function(){this.initAllDesignItem()},t.prototype.initAllDesignItem=function(){if(!(this.node.childrenCount>0))for(var e in s.CommonItemConfig.designType)if(Object.prototype.hasOwnProperty.call(s.CommonItemConfig.designType,e)){var t=s.CommonItemConfig.designType[e],n=cc.instantiate(this.designItemPrefab);this.node.addChild(n),n.getComponent(l.default).initUI(t)}},a([p({type:cc.Prefab,tooltip:"\u6743\u9650\u7269\u54c1"})],t.prototype,"designItemPrefab",void 0),a([u],t)}(cc.Component);n.default=h,cc._RF.pop()},{"../../../../systems/item/CommonItemConfig":"CommonItemConfig","./PackageDesignTabItemPrefab":"PackageDesignTabItemPrefab"}],PackageDesignTabItemPrefab:[function(e,t,n){"use strict";cc._RF.push(t,"51393xniBFIZIMBziBMXLyB","PackageDesignTabItemPrefab");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../../../../../main/scripts/framework/gg"),s=e("../../../../systems/analysis/AnalysisEvent"),l=e("../../../../systems/analysis/AnalysisWrapper"),c=e("../../../../systems/api/gameapi/GameApiModels"),u=e("../uiSystems/PackageUIEvent"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.btnItemSpriteAtlas=null,t.chooseNode=null,t.chooseSprite=null,t.unchoose=null,t.unchooseSprite=null,t.designType="",t}return i(t,e),t.prototype.onEnable=function(){r.gg.eventManager.on(u.PackageUIEvent.DesignTopItemEvent,this.onChooseHandler,this)},t.prototype.onDisable=function(){r.gg.eventManager.offTarget(this)},t.prototype.initUI=function(e){this.designType=e,this.chooseSprite.spriteFrame=this.btnItemSpriteAtlas.getSpriteFrame("package_"+e+"_2"),this.unchooseSprite.spriteFrame=this.btnItemSpriteAtlas.getSpriteFrame("package_"+e+"_1"),e===c.ItemType.avatarFrame&&this.onChooseHandler(c.ItemType.avatarFrame)},t.prototype.onChooseHandler=function(e){this.designType===e?(this.chooseNode.active=!0,this.unchoose.active=!1):(this.chooseNode.active=!1,this.unchoose.active=!0)},t.prototype.onClickChoose=function(){switch(r.gg.eventManager.emit(u.PackageUIEvent.DesignTopItemEvent,this.designType),this.designType){case c.ItemType.avatarFrame:l.analysis.logEvent(s.AnalysisEvent.BagAvatarFrameClick);break;case c.ItemType.chatBubble:l.analysis.logEvent(s.AnalysisEvent.BagChatBubbleClick);break;case c.ItemType.balootCard:l.analysis.logEvent(s.AnalysisEvent.BagBalootCardClick);break;case c.ItemType.balootBg:l.analysis.logEvent(s.AnalysisEvent.BagBalootBgClick);break;case c.ItemType.ludoChessboard:l.analysis.logEvent(s.AnalysisEvent.BagLudoChessboardClick);break;case c.ItemType.ludoDice:l.analysis.logEvent(s.AnalysisEvent.BagLudoDiceClick)}},a([d({type:cc.SpriteAtlas,tooltip:"\u9009\u4e2d\u5e03\u5c40\u56fe\u6807"})],t.prototype,"btnItemSpriteAtlas",void 0),a([d({type:cc.Node,tooltip:"\u9009\u4e2d\u5e03\u5c40"})],t.prototype,"chooseNode",void 0),a([d({type:cc.Sprite,tooltip:"\u9009\u4e2d\u5e03\u5c40\u56fe\u6807"})],t.prototype,"chooseSprite",void 0),a([d({type:cc.Node,tooltip:"\u672a\u9009\u4e2d\u5e03\u5c40"})],t.prototype,"unchoose",void 0),a([d({type:cc.Sprite,tooltip:"\u672a\u9009\u4e2d\u5e03\u5c40\u56fe\u6807"})],t.prototype,"unchooseSprite",void 0),a([h],t)}(cc.Component);n.default=f,cc._RF.pop()},{"../../../../../../main/scripts/framework/gg":"gg","../../../../systems/analysis/AnalysisEvent":"AnalysisEvent","../../../../systems/analysis/AnalysisWrapper":"AnalysisWrapper","../../../../systems/api/gameapi/GameApiModels":"GameApiModels","../uiSystems/PackageUIEvent":"PackageUIEvent"}],PackageExhibitComponent:[function(e,t,n){"use strict";cc._RF.push(t,"27e6aWOPLFGWKECzL+DzVc3","PackageExhibitComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=e("../../../configs/BundleConfig"),u=l(e("../../../framework/asset/AssetLoader")),p=e("../../../systems/item/CommonItemConfig"),h=cc._decorator,d=h.ccclass,f=h.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.exhibitIcon=null,t.localItemInfo=null,t}return i(t,e),t.prototype.updataUI=function(){return r(this,void 0,void 0,function(){var e,t;return s(this,function(n){switch(n.label){case 0:return e=p.CommonItemConfig.itemTypeStr[this.localItemInfo.item_type],[4,u.default.loadBundleAsset(c.BundleConfig.Resources+"/textures/item/"+this.localItemInfo.item_class+"/"+e+"/Exhibit_"+this.localItemInfo.item_asset_name,cc.SpriteFrame)];case 1:return t=n.sent(),this.exhibitIcon.spriteFrame=t,this.node.stopAllActions(),this.node.opacity=0,this.node.active=!0,cc.tween(this.node).to(.5,{opacity:255}).start(),[2]}})})},t.prototype.onClickClose=function(){var e=this;this.node.stopAllActions(),this.node.opacity=255,cc.tween(this.node).to(.5,{opacity:0}).call(function(){e.node.active=!1}).start()},a([f({type:cc.Sprite,tooltip:"\u5546\u54c1\u56fe\u6807\u724c"})],t.prototype,"exhibitIcon",void 0),a([d],t)}(cc.Component);n.default=g,cc._RF.pop()},{"../../../configs/BundleConfig":"BundleConfig","../../../framework/asset/AssetLoader":"AssetLoader","../../../systems/item/CommonItemConfig":"CommonItemConfig"}],PackageItem:[function(e,t,n){"use strict";cc._RF.push(t,"c96a0TRmOBGyJcBZVd6mM/U","PackageItem");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../../../../main/scripts/framework/gg"),s=e("../../../../../main/scripts/systems/api/gameapi/GameApiModels"),l=e("../../../systems/item/CommonItemConfig"),c=e("../../../systems/item/ItemSystem"),u=e("./uiSystems/PackageUIEvent"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iconSprite=null,t.spine=null,t.dragon=null,t.iconNumLab=null,t.selectedNode=null,t.useNode=null,t.LockNode=null,t.remoteItemInfo=null,t.itemScale={avatar_frame:.5,chat_bubble:.45,baloot_card:.6,baloot_bg:.45,ludo_chessboard:.5,ludo_dice:1,game_gift:1,big_gift:.8,vip_card:.8},t}return i(t,e),t.prototype.onEnable=function(){r.gg.eventManager.on(u.PackageUIEvent.ItemDetailsEvent,this.onSelectedHandler,this),r.gg.eventManager.on(u.PackageUIEvent.NavOnceItemEvent,this.onSelectedHandler,this),r.gg.eventManager.on(u.PackageUIEvent.ChangeDesignEvent,this.onChangeDesignHandler,this)},t.prototype.onDisable=function(){r.gg.eventManager.offTarget(this)},t.prototype.onChangeDesignHandler=function(e){var t;e===(null===(t=this.remoteItemInfo)||void 0===t?void 0:t.item_id)?(this.remoteItemInfo.use=1,this.useNode.opacity=255):this.useNode.opacity=0},t.prototype.onSelectedHandler=function(e){var t=this;null!=e&&(e.item_id===this.remoteItemInfo.item_id?0==this.selectedNode.opacity&&cc.tween(this.selectedNode).to(.2,{opacity:255},{easing:"sineIn"}).call(function(){t.selectedNode.opacity=255}).start():this.selectedNode.opacity>0&&cc.tween(this.selectedNode).to(.1,{opacity:0},{easing:"sineOut"}).start())},t.prototype.updateUI=function(e){var t,n=this,o=!0;e.item_id===(null===(t=this.remoteItemInfo)||void 0===t?void 0:t.item_id)&&(o=!1),this.remoteItemInfo=e;var i=c.itemSystem.getItem(this.remoteItemInfo.item_id);this.useNode.opacity=0,this.LockNode.opacity=0,i.item_class===s.ItemClass.design?(this.iconNumLab.node.active=!1,this.remoteItemInfo.status===s.ItemStatusType.Owned?null!=this.remoteItemInfo.use&&1===this.remoteItemInfo.use&&(this.useNode.opacity=255):this.LockNode.opacity=255):i.item_class===s.ItemClass.props&&(this.iconNumLab.node.active=!0,this.iconNumLab.string=this.remoteItemInfo.count+""),o&&(this.iconSprite.node.active=!1,this.dragon.node.active=!1,this.spine.node.active=!1,c.itemSystem.getItemIconInfo(this.remoteItemInfo.item_id).then(function(e){null!=e&&(e.iconType===l.IconType.Image?(n.iconSprite.spriteFrame=e.spriteFrame,n.iconSprite.node.active=!0):e.iconType===l.IconType.Dragon?(n.dragon.node.active=!0,n.dragon.dragonAsset=e.dragonAsset,n.dragon.dragonAtlasAsset=e.dragonAtlasAsset,n.dragon.armatureName="armatureName",n.dragon.playAnimation("animation",0)):e.iconType===l.IconType.Spine&&(n.spine.skeletonData=e.spineData,n.spine.node.active=!0,n.spine.setAnimation(0,"animation",!0)),n.itemScale[i.item_type]?(n.iconSprite.node.scale=n.itemScale[i.item_type],n.dragon.node.scale=n.itemScale[i.item_type],n.spine.node.scale=n.itemScale[i.item_type]):(n.iconSprite.node.scale=1,n.dragon.node.scale=1,n.spine.node.scale=1))}))},t.prototype.onClickDetails=function(){r.gg.eventManager.emit(u.PackageUIEvent.ItemDetailsEvent,this.remoteItemInfo)},a([d({type:cc.Sprite,tooltip:"\u9053\u5177\u56fe\u6807"})],t.prototype,"iconSprite",void 0),a([d({type:sp.Skeleton,tooltip:"\u9053\u5177spine"})],t.prototype,"spine",void 0),a([d({type:dragonBones.ArmatureDisplay,tooltip:"\u9053\u5177dragon"})],t.prototype,"dragon",void 0),a([d({type:cc.Label,tooltip:"\u9053\u5177\u56fe\u6807\u4e2a\u6570"})],t.prototype,"iconNumLab",void 0),a([d({type:cc.Node,tooltip:"\u76ee\u524d\u9009\u4e2d\u7269\u54c1"})],t.prototype,"selectedNode",void 0),a([d({type:cc.Node,tooltip:"\u76ee\u524d\u4f7f\u7528\u7269\u54c1"})],t.prototype,"useNode",void 0),a([d({type:cc.Node,tooltip:"\u76ee\u524d\u8fd8\u672a\u89e3\u9501\u7269\u54c1"})],t.prototype,"LockNode",void 0),a([h],t)}(cc.Component);n.default=f,cc._RF.pop()},{"../../../../../main/scripts/framework/gg":"gg","../../../../../main/scripts/systems/api/gameapi/GameApiModels":"GameApiModels","../../../systems/item/CommonItemConfig":"CommonItemConfig","../../../systems/item/ItemSystem":"ItemSystem","./uiSystems/PackageUIEvent":"PackageUIEvent"}],PackageList:[function(e,t,n){"use strict";cc._RF.push(t,"f3789P1hc9HhJ99edWM0npg","PackageList");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../../../../main/scripts/framework/gg"),l=r(e("./PackageItem")),c=e("./uiSystems/PackageUIEvent"),u=cc._decorator,p=u.ccclass,h=u.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.propsItemScrollView=null,t.propsItemParentNode=null,t.propsItemNode=null,t.propsItemNodeHeight=30,t.spaceingY=10,t.paddingTop=10,t.paddingBottom=10,t.visableAreaMarginTop=0,t.visableAreaMarginBottom=0,t.itemLsit=[],t._virtualNodes=[],t.lastTimer=0,t._itemNodeAll=[],t}return i(t,e),t.prototype.getTableNode=function(){var e=this._itemNodeAll.pop();return e||((e=cc.instantiate(this.propsItemNode)).parent=this.propsItemParentNode),e},t.prototype.reset=function(){this.itemLsit=[],this._virtualNodes=[],this.propsItemScrollView.stopAutoScroll(),this.propsItemParentNode.position=cc.v3(),this._itemNodeAll=[];for(var e=this.propsItemParentNode.children.length-1;e>=0;--e)this._itemNodeAll.push(this.propsItemParentNode.children[e]),this.propsItemParentNode.children[e].opacity=0,this.propsItemParentNode.children[e].active=!1},t.prototype.init=function(e){this.itemLsit=e,this.itemLsit&&this.itemLsit.length>0&&(this._virtualNodes=this.itemLsit.map(function(e){var t=Date.now();return e.timestamp=1e3*e.remain_time+t,null}),this._updateListWidth(),this.propsItemParentNode.position=cc.v3(),this._updateList())},t.prototype._updateListWidth=function(){var e=Math.ceil(this.itemLsit.length/4);this.propsItemParentNode.height=this.paddingTop+this.paddingBottom+this.propsItemNodeHeight*e+this.spaceingY*e,this.propsItemParentNode.height<this.propsItemScrollView.node.height&&(this.propsItemParentNode.height=this.propsItemScrollView.node.height)},t.prototype.onEnable=function(){s.gg.eventManager.on(c.PackageUIEvent.ChangeDesignEvent,this.onChangeDesign,this),this.propsItemParentNode.on(cc.Node.EventType.POSITION_CHANGED,this._onPositionChanged,this),this.propsItemScrollView.node.on("scroll-ended",this._updateList,this)},t.prototype.onDisable=function(){s.gg.eventManager.offTarget(this),this.propsItemParentNode.off(cc.Node.EventType.POSITION_CHANGED,this._onPositionChanged,this),this.propsItemScrollView.node.off("scroll-ended",this._updateList,this)},t.prototype.onChangeDesign=function(e){for(var t=0,n=this.itemLsit;t<n.length;t++){var o=n[t];o.item_id===e?o.use=1:o.use=0}},t.prototype._onPositionChanged=function(){var e=Date.now();(e-this.lastTimer)/1e3>=.1&&(this.lastTimer=e,this._updateList())},t.prototype._updateList=function(){for(var e=0;e<this._virtualNodes.length;++e){var t=this._virtualNodes[e];this._isVisable(e)?(null==t&&(t=this.getTableNode(),this._virtualNodes[e]=t,t.getComponent(l.default).updateUI(this.itemLsit[e]),t.opacity=255,t.active=!0),t.position=this._convertIndexToPosition(e)):(t&&(t.opacity=0,t.active=!1,this._itemNodeAll.push(t)),this._virtualNodes[e]=null)}},t.prototype._isVisable=function(e){var t=this._convertIndexToPosition(e),n=-this.propsItemParentNode.position.y+this.visableAreaMarginTop,o=n-this.visableAreaMarginTop-this.propsItemScrollView.node.height-this.visableAreaMarginBottom;return t.y+.5*this.propsItemNodeHeight<=n&&t.y-.5*this.propsItemNodeHeight>=o},t.prototype._convertIndexToPosition=function(e){var t=Math.floor(e/4),n=this.propsItemParentNode.width/2-this.propsItemNodeHeight/2-this.spaceingY-e%4*this.propsItemNodeHeight-e%4*this.spaceingY;return cc.v3(n,-this.paddingTop-this.propsItemNodeHeight*(t+.5)-t*this.spaceingY)},a([h({type:cc.ScrollView,tooltip:"\u9053\u5177ScrollView"})],t.prototype,"propsItemScrollView",void 0),a([h({type:cc.Node,tooltip:"\u9053\u5177\u7236\u8282\u70b9"})],t.prototype,"propsItemParentNode",void 0),a([h({type:cc.Prefab,tooltip:"\u9053\u5177\u8282\u70b9"})],t.prototype,"propsItemNode",void 0),a([h({tooltip:"\u9884\u5236\u4f53item\u8282\u70b9\u7684\u9ad8\u5ea6"})],t.prototype,"propsItemNodeHeight",void 0),a([h({tooltip:"Item \u95f4\u9694\uff08px\uff09"})],t.prototype,"spaceingY",void 0),a([h({tooltip:"Item \u8ddd\u79bb\u4e0a\u8fb9\uff08px\uff09"})],t.prototype,"paddingTop",void 0),a([h({tooltip:"Item \u8ddd\u79bb\u4e0b\u8fb9\uff08px\uff09"})],t.prototype,"paddingBottom",void 0),a([h({tooltip:"\u53ef\u89c6\u533a\u57df margin, \u8d1f\u6570\u4e3a\u5f80\u5916\u6269\u5c55"})],t.prototype,"visableAreaMarginTop",void 0),a([h({tooltip:"\u53ef\u89c6\u533a\u57df margin, \u8d1f\u6570\u4e3a\u5f80\u5916\u6269\u5c55"})],t.prototype,"visableAreaMarginBottom",void 0),a([p],t)}(cc.Component);n.default=d,cc._RF.pop()},{"../../../../../main/scripts/framework/gg":"gg","./PackageItem":"PackageItem","./uiSystems/PackageUIEvent":"PackageUIEvent"}],PackagePanel:[function(e,t,n){"use strict";cc._RF.push(t,"faa93uthuJLzJw497nc55oy","PackagePanel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../../../../main/scripts/configs/CommonAudioConfig"),l=e("../../../../../main/scripts/configs/CommonPanelConfig"),c=r(e("../../../../../main/scripts/framework/components/dialogstyle/MoveStyleDialogPanelV2")),u=e("../../../../../main/scripts/framework/gg"),p=e("../../../../../main/scripts/systems/api/gameapi/GameApiModels"),h=e("../../../framework/i18n/I18n"),d=e("../../../systems/item/ItemSystem"),f=e("../store/Item/uiSystems/StoreItemUIEvent"),g=r(e("./PackageList")),m=e("./uiSystems/PackageUIEvent"),y=cc._decorator,_=y.ccclass,v=y.property,b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.packageList=null,t.itemDetails=null,t.notOtherNode=null,t.designTopLay=null,t.itemClass=p.ItemClass.design,t.itemType=p.ItemType.avatarFrame,t.packageInfo=null,t}return i(t,e),t.prototype.onEnable=function(){this.notOtherNode.active=!1,u.gg.eventManager.on(m.PackageUIEvent.DesignTopItemEvent,this.onChooseDesignHandler,this),u.gg.eventManager.on(m.PackageUIEvent.RightNacBarItemEvent,this.onChooseItemClassHandler,this),u.gg.eventManager.on(f.StoreItemUIEvent.BuyItemSuccessEvent,this.onUpdataItemList,this),u.gg.eventManager.on(m.PackageUIEvent.UsePropsEvent,this.onUpdataItemList,this)},t.prototype.onDisable=function(){u.gg.eventManager.offTarget(this),this.packageList.reset()},t.prototype.onUpdataItemList=function(){this.getItemList()},t.prototype.onChooseItemClassHandler=function(e){this.itemClass!==e&&(this.itemClass=e,this.itemClass===p.ItemClass.design?(this.designTopLay.active=!0,u.gg.eventManager.emit(m.PackageUIEvent.DesignTopItemEvent,p.ItemType.avatarFrame)):(this.designTopLay.active=!1,this.itemType=p.ItemType.gameGift,this.getItemList()))},t.prototype.onChooseDesignHandler=function(e){this.itemType!==e&&(this.itemType=e,u.gg.logger.log("\u6d4b\u8bd5\u9009\u4e2d\u76ae\u80a4\u7c7b\u522b\uff1a",this.itemType),this.getItemList())},t.prototype.show=function(e){var t=this;this.packageInfo=e.data,null!=this.packageInfo&&this.initShowUI(),this._playShowAnim(function(){e.onShowed(),t.getItemList()})},t.prototype.initShowUI=function(){this.itemClass=this.packageInfo.localItemInfo.item_class,u.gg.eventManager.emit(m.PackageUIEvent.RightNacBarItemEvent,this.itemClass),this.itemClass===p.ItemClass.design?this.designTopLay.active=!0:this.designTopLay.active=!1,this.itemClass===p.ItemClass.design?(this.itemType=this.packageInfo.localItemInfo.item_type,u.gg.eventManager.emit(m.PackageUIEvent.DesignTopItemEvent,this.itemType)):this.itemClass===p.ItemClass.props&&(this.itemType=this.packageInfo.localItemInfo.item_type)},t.prototype.hide=function(e){this._playHideAnim(function(){e.onHided()})},t.prototype.onCloseBtnClick=function(){u.gg.panelRouter.hide({panel:l.CommonPanelConfig.packagePanel}),u.gg.audio.playOneShot(s.CommonAudioConfig.btnClose)},t.prototype.getItemList=function(){var e=this;this.packageList.reset();var t=[];t.push(this.itemType),this.itemType===p.ItemType.gameGift&&(t.push(p.ItemType.bigGift),t.push(p.ItemType.qualifyingProps),t.push(p.ItemType.vipCard));var n={item_class:this.itemClass,item_type:t,on_sale:!1};d.itemSystem.getItemList(n).then(function(t){var n;t?(null===(n=t.data)||void 0===n?void 0:n.length)>0?(e.itemClass===p.ItemClass.design&&t.data[0].item_class===e.itemClass&&t.data[0].item_type===e.itemType||e.itemClass===p.ItemClass.props&&t.data[0].item_class===e.itemClass)&&(e.packageList.init(t.data),e.itemDetails.active=!0,e.notOtherNode.active=!1,u.gg.eventManager.emit(m.PackageUIEvent.NavOnceItemEvent,t.data[0])):(e.itemDetails.active=!1,e.notOtherNode.active=!0):u.gg.panelRouter.show({panel:l.CommonPanelConfig.toastPanel,data:{text:h.i18n.getText("toast.getPackageItemFailed")}})}).catch(function(){u.gg.panelRouter.show({panel:l.CommonPanelConfig.toastPanel,data:{text:h.i18n.getText("toast.getPackageItemFailed")}})})},a([v({type:g.default,tooltip:"\u9053\u5177\u5217\u8868"})],t.prototype,"packageList",void 0),a([v({type:cc.Node,tooltip:"\u8be6\u60c5lay"})],t.prototype,"itemDetails",void 0),a([v({type:cc.Node,tooltip:"\u6682\u65e0\u5176\u4ed6\u9053\u5177\u63d0\u793a\u8bed"})],t.prototype,"notOtherNode",void 0),a([v({type:cc.Node,tooltip:"\u88c5\u626e\u7c7b\u9053\u5177\u9876\u90e8\u5185\u5bb9"})],t.prototype,"designTopLay",void 0),a([_],t)}(c.default);n.default=b,cc._RF.pop()},{"../../../../../main/scripts/configs/CommonAudioConfig":"CommonAudioConfig","../../../../../main/scripts/configs/CommonPanelConfig":"CommonPanelConfig","../../../../../main/scripts/framework/components/dialogstyle/MoveStyleDialogPanelV2":"MoveStyleDialogPanelV2","../../../../../main/scripts/framework/gg":"gg","../../../../../main/scripts/systems/api/gameapi/GameApiModels":"GameApiModels","../../../framework/i18n/I18n":"I18n","../../../systems/item/ItemSystem":"ItemSystem","../store/Item/uiSystems/StoreItemUIEvent":"StoreItemUIEvent","./PackageList":"PackageList","./uiSystems/PackageUIEvent":"PackageUIEvent"}],PackageSideBarComponent:[function(e,t,n){"use strict";cc._RF.push(t,"46a2fvd0N1NI75FZDiexX1G","PackageSideBarComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../../../../main/scripts/systems/api/gameapi/GameApiModels"),l=r(e("./PackageSideBarItemPrefab")),c=cc._decorator,u=c.ccclass,p=c.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sideBarItem=null,t}return i(t,e),t.prototype.onLoad=function(){this.initAllRightNavBarItem()},t.prototype.initAllRightNavBarItem=function(){if(!(this.node.childrenCount>0))for(var e in s.ItemClass)if(Object.prototype.hasOwnProperty.call(s.ItemClass,e)){var t=s.ItemClass[e],n=cc.instantiate(this.sideBarItem);this.node.addChild(n),n.getComponent(l.default).initUI(t)}},a([p({type:cc.Prefab,tooltip:"\u53f3\u4fa7\u9009\u62e9\u6309\u94ae"})],t.prototype,"sideBarItem",void 0),a([u],t)}(cc.Component);n.default=h,cc._RF.pop()},{"../../../../../main/scripts/systems/api/gameapi/GameApiModels":"GameApiModels","./PackageSideBarItemPrefab":"PackageSideBarItemPrefab"}],PackageSideBarItemPrefab:[function(e,t,n){"use strict";cc._RF.push(t,"badd1+GBfBL4bdSJ9x85zQs","PackageSideBarItemPrefab");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../../../../main/scripts/framework/gg"),s=e("../../../../../main/scripts/systems/api/gameapi/GameApiModels"),l=e("../../../framework/i18n/I18n"),c=e("../../../systems/analysis/AnalysisEvent"),u=e("../../../systems/analysis/AnalysisWrapper"),p=e("./uiSystems/PackageUIEvent"),h=cc._decorator,d=h.ccclass,f=h.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.chooseNode=null,t.chooseLab=null,t.unchoose=null,t.unchooseLab=null,t.itemClass="",t.itemClassStr={design:"item.design",props:"item.others"},t}return i(t,e),t.prototype.onEnable=function(){r.gg.eventManager.on(p.PackageUIEvent.RightNacBarItemEvent,this.onChooseHandler,this)},t.prototype.onDisable=function(){r.gg.eventManager.offTarget(this)},t.prototype.initUI=function(e){this.itemClass=e,this.chooseLab.string=l.i18n.getText(this.itemClassStr[this.itemClass]),this.unchooseLab.string=l.i18n.getText(this.itemClassStr[this.itemClass]),e===s.ItemClass.design&&this.onChooseHandler(s.ItemClass.design)},t.prototype.onChooseHandler=function(e){this.itemClass===e?(this.chooseNode.active=!0,this.unchoose.active=!1):(this.chooseNode.active=!1,this.unchoose.active=!0)},t.prototype.onClickChoose=function(){switch(r.gg.eventManager.emit(p.PackageUIEvent.RightNacBarItemEvent,this.itemClass),this.itemClass){case s.ItemClass.props:u.analysis.logEvent(c.AnalysisEvent.BagOtherClick)}},a([f({type:cc.Node,tooltip:"\u9009\u4e2d\u5e03\u5c40"})],t.prototype,"chooseNode",void 0),a([f({type:cc.Label,tooltip:"\u9009\u4e2d"})],t.prototype,"chooseLab",void 0),a([f({type:cc.Node,tooltip:"\u672a\u9009\u4e2d\u5e03\u5c40"})],t.prototype,"unchoose",void 0),a([f({type:cc.Label,tooltip:"\u672a\u9009\u4e2d"})],t.prototype,"unchooseLab",void 0),a([d],t)}(cc.Component);n.default=g,cc._RF.pop()},{"../../../../../main/scripts/framework/gg":"gg","../../../../../main/scripts/systems/api/gameapi/GameApiModels":"GameApiModels","../../../framework/i18n/I18n":"I18n","../../../systems/analysis/AnalysisEvent":"AnalysisEvent","../../../systems/analysis/AnalysisWrapper":"AnalysisWrapper","./uiSystems/PackageUIEvent":"PackageUIEvent"}],PackageUIEvent:[function(e,t,n){"use strict";cc._RF.push(t,"1bbf1w0J1RCKrw68vpJZD6t","PackageUIEvent"),Object.defineProperty(n,"__esModule",{value:!0}),n.PackageUIEvent=void 0,function(e){e.RightNacBarItemEvent="PackageUIEvent.RightNacBarItemEvent",e.DesignTopItemEvent="PackageUIEvent.DesignTopItemEvent",e.ItemDetailsEvent="PackageUIEvent.ItemDetailsEvent",e.NavOnceItemEvent="PackageUIEvent.NavOnceItemEvent",e.ChangeDesignEvent="PackageUIEvent.ChangeDesignEvent",e.UsePropsEvent="PackageUIEvent.UsePropsEvent"}(n.PackageUIEvent||(n.PackageUIEvent={})),cc._RF.pop()},{}],PackageWrapper:[function(e,t,n){"use strict";cc._RF.push(t,"9b9180E5zxCzqjGlag49La8","PackageWrapper"),Object.defineProperty(n,"__esModule",{value:!0}),n.PackageWrapper=void 0;var o=function(){function e(){}return e.openGpDetailPage=function(){return!1},e.openGpLink=function(){return!1},e._javaClassPath="com/gxx/wrapper/PackageWrapper",e}();n.PackageWrapper=o,cc._RF.pop()},{}],PanelComponent:[function(e,t,n){"use strict";cc._RF.push(t,"7612cZQA4xOIYcfgaxPXzI9","PanelComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.PanelComponent=void 0;var r=cc._decorator,s=r.ccclass,l=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),a([s],t)}(cc.Component));n.PanelComponent=l,cc._RF.pop()},{}],PanelInterfaces:[function(e,t,n){"use strict";cc._RF.push(t,"e5f73gW3/xFGLtRtNj9+QxW","PanelInterfaces"),Object.defineProperty(n,"__esModule",{value:!0}),n.PanelStateEnum=void 0,function(e){e.Loading="Loading",e.LoadFailure="LoadingFailure",e.LoadSuccess="LoadingSuccess",e.Showing="Showing",e.Showed="Showed",e.Hiding="Hiding",e.Hided="Hided"}(n.PanelStateEnum||(n.PanelStateEnum={})),cc._RF.pop()},{}],PanelLayerEnum:[function(e,t,n){"use strict";cc._RF.push(t,"1f7d0sD0xxFSL1h5fnfteel","PanelLayerEnum"),Object.defineProperty(n,"__esModule",{value:!0}),n.PanelLayerEnum=void 0,function(e){e[e.UILayer=0]="UILayer",e[e.DialogLayer1=10]="DialogLayer1",e[e.DialogLayer2=20]="DialogLayer2",e[e.DialogLayer3=30]="DialogLayer3",e[e.PopLayer=40]="PopLayer",e[e.ToastLayer=50]="ToastLayer"}(n.PanelLayerEnum||(n.PanelLayerEnum={})),cc._RF.pop()},{}],PanelRouterV2:[function(e,t,n){"use strict";cc._RF.push(t,"5d025dMa/dJfrtr3BB9iK/9","PanelRouterV2");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.PanelRouterV2=void 0;var r=e("../../systems/autoOpen/autoOpenEvent"),s=a(e("../asset/AssetLoader")),l=e("../gg"),c=e("./PanelComponent"),u=e("../../configs/CommonPanelConfig"),p=e("../../uiSystem/GamePanelSystem"),h=function(){function e(){this.showHandler=null}return e.prototype.preload=function(e){s.default.preloadBundleAsset(e.prefabPath,cc.Prefab)},e.prototype.loadAsync=function(e){return o(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,s.default.loadBundleAsset(e.prefabPath,cc.Prefab)];case 1:return t.sent(),[2]}})})},e.prototype.showAsync=function(e){var t=this;return new Promise(function(n,o){t.show({panel:e.panel,data:e.data,onShowed:function(e){e?o(e):n()}})})},e.prototype.show=function(t){var n=this;l.gg.logger.log(e.Tag,"\u5c1d\u8bd5\u5c55\u793a\u9762\u677f",t.panel.prefabPath);var o=cc.find("Canvas");if(t.panel===u.CommonPanelConfig.receiveFeaturesPanel&&p.gameAnimSystem.setShowReceiveFeaturesPanel(),!o)return l.gg.logger.error("can not find canvas"),void(t.onShowed&&t.onShowed());var i=t.panel.prefabPath.substring(t.panel.prefabPath.lastIndexOf("/")+1),a=o.getChildByName(i);if(a)return a.setSiblingIndex(o.children.length),a.active=!0,void a.getComponent(c.PanelComponent).show({data:t.data,onShowed:function(){l.gg.logger.log(e.Tag,"\u9762\u677f\u5df2\u7ecf\u5c55\u793a\u5b8c\u6210",t.panel.prefabPath),t.onShowed&&t.onShowed()}});var r=s.default.getBundleAsset(t.panel.prefabPath,cc.Prefab);r?this._instancePanel(i,r,t):this.showHandler?this.showHandler.beforeLoadPrefabPanel(function(){s.default.loadBundleAsset(t.panel.prefabPath,cc.Prefab).then(function(e){n.showHandler.afterLoadPrefabPanel(function(){n._instancePanel(i,e,t)})}).catch(function(){n.showHandler.afterLoadPrefabPanel(function(){n._instancePanel(i,null,t)})})}):s.default.loadBundleAsset(t.panel.prefabPath,cc.Prefab).then(function(e){n._instancePanel(i,e,t)}).catch(function(){n._instancePanel(i,null,t)})},e.prototype._instancePanel=function(t,n,o){if(null==n)return l.gg.logger.error("load panel failed: "+o.panel),void(o.onShowed&&o.onShowed());var i=cc.find("Canvas");if(!i)return l.gg.logger.error("can not find canvas"),void(o.onShowed&&o.onShowed());var a=i.getChildByName(t);if(a)return a.setSiblingIndex(i.children.length),a.active=!0,void a.getComponent(c.PanelComponent).show({data:o.data,onShowed:function(){l.gg.logger.log(e.Tag,"\u9762\u677f\u5df2\u7ecf\u5c55\u793a\u5b8c\u6210",o.panel.prefabPath),o.onShowed&&o.onShowed()}});(a=cc.instantiate(n)).name=t,a.setPosition(cc.v2(0,0)),a.setParent(i),a.setSiblingIndex(i.children.length),a.getComponent(c.PanelComponent).show({data:o.data,onShowed:function(){l.gg.logger.log(e.Tag,"\u9762\u677f\u5df2\u7ecf\u5c55\u793a\u5b8c\u6210",o.panel.prefabPath),o.onShowed&&o.onShowed()}})},e.prototype.isShowed=function(e){var t=cc.find("Canvas");if(!t)return l.gg.logger.error("can not find canvas"),!1;var n=e.prefabPath.substring(e.prefabPath.lastIndexOf("/")+1),o=t.getChildByName(n);return o&&o.active},e.prototype.hideAsync=function(e){var t=this;return new Promise(function(n,o){t.hide({panel:e.panel,data:e.data,onHided:function(e){e?o(e):n()}})})},e.prototype.hide=function(t){var n=cc.find("Canvas");if(!n)return l.gg.logger.error("can not find canvas"),void(t.onHided&&t.onHided());var o=t.panel.prefabPath.substring(t.panel.prefabPath.lastIndexOf("/")+1),i=n.getChildByName(o);i&&i.activeInHierarchy?i.getComponent(c.PanelComponent).hide({data:t.data,onHided:function(){l.gg.logger.log(e.Tag,"\u9762\u677f\u9690\u85cf\u6210\u529f",t.panel.prefabPath),i.active=!1,l.gg.eventManager.emit(r.AutoOpenUIEvent.onLobbyAutoClosePanel,t.panel.prefabPath),t.onHided&&t.onHided()}}):(l.gg.logger.warn(e.Tag,"\u9762\u677f\u9690\u85cf\u6210\u529f\uff08\u9762\u677f\u4e0d\u5b58\u5728\u6216\u5df2\u7ecf\u9690\u85cf\uff09",t.panel.prefabPath),t.onHided&&t.onHided())},e.prototype.destroy=function(t){var n=cc.find("Canvas");if(n){var o=t.prefabPath.substring(t.prefabPath.lastIndexOf("/")+1),i=n.getChildByName(o);i&&(i.destroy(),i=null),s.default.decRef(t.prefabPath),l.gg.logger.log(e.Tag,"\u9762\u677f\u9500\u6bc1\u6210\u529f",t.prefabPath)}else l.gg.logger.error("can not find canvas")},e.Tag="PanelRouterV2",e}();n.PanelRouterV2=h,cc._RF.pop()},{"../../configs/CommonPanelConfig":"CommonPanelConfig","../../systems/autoOpen/autoOpenEvent":"autoOpenEvent","../../uiSystem/GamePanelSystem":"GamePanelSystem","../asset/AssetLoader":"AssetLoader","../gg":"gg","./PanelComponent":"PanelComponent"}],PanelRouter:[function(e,t,n){"use strict";cc._RF.push(t,"9b8f8wdRkFFppBPR3cVnLQK","PanelRouter"),Object.defineProperty(n,"__esModule",{value:!0}),n.PanelRouter=void 0;var o=e("./PanelComponent"),i=e("./PanelInterfaces"),a=function(){function e(){this._rootNode=null,this._panelCacheMap=new Map}return e.prototype.init=function(e){this._rootNode=e},e.prototype.preload=function(e){var t=function(t){var n=e.prefabPath.substring(e.prefabPath.indexOf("/")+1);t.preload(n)},n=e.prefabPath.substring(0,e.prefabPath.indexOf("/")),o=cc.assetManager.getBundle(n);null==o?cc.assetManager.loadBundle(n,function(e,n){t(n)}):t(o)},e.prototype.loadAsync=function(e){var t=this;return new Promise(function(n,o){t.load(e,function(e){e?o(e):n()})})},e.prototype.load=function(t,n){var o=this,a=t.prefabPath,r=this._panelCacheMap.get(a);if(r)return console.log(e.Tag,a,"\u5c1d\u8bd5\u52a0\u8f7d\u9762\u677f","\u9762\u677f\u5df2\u52a0\u8f7d\u6210\u529f"),void n(null);console.log(e.Tag,a,"\u5c1d\u8bd5\u52a0\u8f7d\u9762\u677f","\u9762\u677f\u8fd8\u4e0d\u5b58\u5728\uff0c\u5c06\u5f00\u59cb\u52a0\u8f7d\u9762\u677f"),r={node:null,prefab:null,state:i.PanelStateEnum.Loading},this._panelCacheMap.set(a,r),r.state=i.PanelStateEnum.Loading,this._loadBundlePrefab(t,null,function(t,s){r=o._panelCacheMap.get(a),t?(console.error(e.Tag,a,"\u5c1d\u8bd5\u52a0\u8f7d\u9762\u677f","\u52a0\u8f7d\u9762\u677f\u5931\u8d25",t),r?r.state===i.PanelStateEnum.LoadFailure||r.state===i.PanelStateEnum.LoadSuccess||r.state===i.PanelStateEnum.Showing||r.state===i.PanelStateEnum.Showed||r.state===i.PanelStateEnum.Hiding||r.state===i.PanelStateEnum.Hided?console.error(e.Tag,a,"\u5c1d\u8bd5\u52a0\u8f7d\u9762\u677f","\u9762\u677f\u72b6\u6001\u5f02\u5e38\uff0c\u539f\u5219\u4e0a\u4e0d\u4f1a\u51fa\u73b0\u8fd9\u4e2a\u72b6\u6001",r.state):(r.node=null,r.prefab=null,r.state=i.PanelStateEnum.LoadFailure):console.warn(e.Tag,a,"\u5c1d\u8bd5\u52a0\u8f7d\u9762\u677f","\u5f53\u524d\u5df2\u7ecf\u627e\u4e0d\u5230\u9762\u677f\u8bb0\u5f55\uff0c\u53ef\u80fd\u9762\u677f\u52a0\u8f7d\u8fc7\u7a0b\u4e2d\u89e6\u53d1\u9500\u6bc1\uff0c\u5bfc\u81f4\u52a0\u8f7d\u7ed3\u675f\u540e\u627e\u4e0d\u5230\u5bf9\u5e94\u9762\u677f\u8bb0\u5f55")):(console.log(e.Tag,a,"\u5c1d\u8bd5\u52a0\u8f7d\u9762\u677f","\u52a0\u8f7d\u9762\u677f\u6210\u529f"),r?r.state===i.PanelStateEnum.LoadFailure||r.state===i.PanelStateEnum.LoadSuccess||r.state===i.PanelStateEnum.Showing||r.state===i.PanelStateEnum.Showed||r.state===i.PanelStateEnum.Hiding||r.state===i.PanelStateEnum.Hided?console.error(e.Tag,a,"\u5c1d\u8bd5\u52a0\u8f7d\u9762\u677f","\u9762\u677f\u72b6\u6001\u5f02\u5e38\uff0c\u539f\u5219\u4e0a\u4e0d\u4f1a\u51fa\u73b0\u8fd9\u4e2a\u72b6\u6001",r.state):(r.node=null,r.prefab=s,r.state=i.PanelStateEnum.LoadSuccess,r.prefab.addRef()):(console.warn(e.Tag,a,"\u5c1d\u8bd5\u52a0\u8f7d\u9762\u677f","\u5f53\u524d\u5df2\u7ecf\u627e\u4e0d\u5230\u9762\u677f\u8bb0\u5f55\uff0c\u53ef\u80fd\u9762\u677f\u52a0\u8f7d\u8fc7\u7a0b\u4e2d\u89e6\u53d1\u9500\u6bc1\uff0c\u5bfc\u81f4\u52a0\u8f7d\u7ed3\u675f\u540e\u627e\u4e0d\u5230\u5bf9\u5e94\u9762\u677f\u8bb0\u5f55"),s.decRef())),n(t)})},e.prototype._loadBundlePrefab=function(e,t,n){var o=function(o){var i=e.prefabPath.substring(e.prefabPath.indexOf("/")+1);o.load(i,cc.Prefab,t,function(e,t){n(e,t)})},i=e.prefabPath.substring(0,e.prefabPath.indexOf("/")),a=cc.assetManager.getBundle(i);null==a?cc.assetManager.loadBundle(i,function(e,t){o(t)}):o(a)},e.prototype.offScreenRendering=function(t){var n=this._panelCacheMap.get(t.prefabPath);if(null==n.node){var a=cc.instantiate(n.prefab);a.setParent(this._rootNode),a.zIndex=t.layerZIndex,n.node=a}n.state=i.PanelStateEnum.Hided,n.node.active=!0;var r=n.node.getComponent(o.PanelComponent);r.offScreenRendering&&(console.time(e.Tag+" \u79bb\u5c4f\u6e32\u67d3 "+t.prefabPath+" \u8017\u65f6"),r.offScreenRendering(),console.timeEnd(e.Tag+" \u79bb\u5c4f\u6e32\u67d3 "+t.prefabPath+" \u8017\u65f6"))},e.prototype.cancelOffScreenRendering=function(e){var t=this._panelCacheMap.get(e.prefabPath);t.state=i.PanelStateEnum.Hided,t.node.active=!1},e.prototype.showAsync=function(e){var t=this;return new Promise(function(n,o){t.show({panel:e.panel,data:e.data,onShowed:function(e){e?o(e):n()}})})},e.prototype.show=function(t){var n=t.panel.prefabPath,o=this._panelCacheMap.get(n);return o?o.state===i.PanelStateEnum.Loading?(console.error(e.Tag,n,"\u5c1d\u8bd5\u5c55\u793a\u9762\u677f","\u9762\u677f\u5728\u52a0\u8f7d\u4e2d\uff0c\u4e0d\u80fd\u5c55\u793a"),void(t.onShowed&&t.onShowed(new Error("show error")))):o.state===i.PanelStateEnum.LoadFailure?(console.error(e.Tag,n,"\u5c1d\u8bd5\u5c55\u793a\u9762\u677f","\u9762\u677f\u52a0\u8f7d\u5931\u8d25\uff0c\u4e0d\u80fd\u5c55\u793a"),void(t.onShowed&&t.onShowed(new Error("show error")))):o.state===i.PanelStateEnum.LoadSuccess?(console.log(e.Tag,n,"\u5c1d\u8bd5\u5c55\u793a\u9762\u677f","\u9762\u677f\u5df2\u52a0\u8f7d\u6210\u529f\uff0c\u5c06\u5c1d\u8bd5\u5c55\u793a\u9762\u677f"),void this._showPanel(t,o)):o.state===i.PanelStateEnum.Showing?(console.log(e.Tag,n,"\u5c1d\u8bd5\u5c55\u793a\u9762\u677f","\u9762\u677f\u6b63\u5728\u5c55\u793a\u4e2d"),void this._showPanel(t,o)):o.state===i.PanelStateEnum.Showed?(console.log(e.Tag,n,"\u5c1d\u8bd5\u5c55\u793a\u9762\u677f","\u9762\u677f\u5df2\u5c55\u793a"),void this._showPanel(t,o)):o.state===i.PanelStateEnum.Hiding?(console.log(e.Tag,n,"\u5c1d\u8bd5\u5c55\u793a\u9762\u677f","\u9762\u677f\u5728\u9690\u85cf\u4e2d\uff0c\u5c06\u505c\u6b62\u9690\u85cf\u52a8\u753b\uff0c\u5e76\u7acb\u5373\u5f00\u59cb\u5c55\u793a"),void this._showPanel(t,o)):o.state===i.PanelStateEnum.Hided?(console.log(e.Tag,n,"\u5c1d\u8bd5\u5c55\u793a\u9762\u677f","\u9762\u677f\u5df2\u9690\u85cf\uff0c\u5c06\u91cd\u65b0\u5c55\u793a"),void this._showPanel(t,o)):void 0:(console.error(e.Tag,n,"\u5c1d\u8bd5\u5c55\u793a\u9762\u677f","\u9762\u677f\u8fd8\u6ca1\u6709\u52a0\u8f7d\uff0c\u4e0d\u80fd\u5c55\u793a"),void(t.onShowed&&t.onShowed(new Error("show error"))))},e.prototype._showPanel=function(t,n){if(null==n.node){var a=cc.instantiate(n.prefab);a.setPosition(cc.v2(0,0)),a.setParent(this._rootNode),a.zIndex=t.panel.layerZIndex,n.node=a}n.state=i.PanelStateEnum.Showing,n.node.active=!0,n.node.getComponent(o.PanelComponent).show({data:t.data,onShowed:function(){console.log(e.Tag,t.panel.prefabPath,"\u5c1d\u8bd5\u5c55\u793a\u9762\u677f","\u9762\u677f\u5df2\u7ecf\u5c55\u793a\u5b8c\u6210"),n.state=i.PanelStateEnum.Showed,t.onShowed&&t.onShowed()}})},e.prototype.hideAsync=function(e){var t=this;return new Promise(function(n,o){t.hide({panel:e.panel,data:e.data,onHided:function(e){e?o(e):n()}})})},e.prototype.hide=function(t){var n=t.panel.prefabPath,o=this._panelCacheMap.get(n);return o?o.state===i.PanelStateEnum.Loading?(console.error(e.Tag,n,"\u5c1d\u8bd5\u9690\u85cf\u9762\u677f","\u9762\u677f\u5728\u52a0\u8f7d\u4e2d\uff0c\u4e0d\u80fd\u9690\u85cf"),void(t.onHided&&t.onHided(new Error("hide error")))):o.state===i.PanelStateEnum.LoadFailure?(console.error(e.Tag,n,"\u5c1d\u8bd5\u9690\u85cf\u9762\u677f","\u9762\u677f\u52a0\u8f7d\u5931\u8d25\uff0c\u4e0d\u80fd\u9690\u85cf"),void(t.onHided&&t.onHided(new Error("hide error")))):o.state===i.PanelStateEnum.LoadSuccess?(console.error(e.Tag,n,"\u5c1d\u8bd5\u9690\u85cf\u9762\u677f","\u9762\u677f\u5df2\u52a0\u8f7d\u6210\u529f\uff0c\u4f46\u672a\u5c55\u793a\uff0c\u4e0d\u80fd\u9690\u85cf"),void(t.onHided&&t.onHided(new Error("hide error")))):o.state===i.PanelStateEnum.Showing?(console.log(e.Tag,n,"\u5c1d\u8bd5\u9690\u85cf\u9762\u677f","\u9762\u677f\u5728\u5c55\u793a\u4e2d\uff08\u53ef\u80fd\u6b63\u5728\u6267\u884c\u5c55\u793a\u52a8\u753b\uff09\uff0c\u5c06\u505c\u6b62\u5c55\u793a\u5e76\u7acb\u5373\u9690\u85cf"),void this._hidePanel(t,o)):o.state===i.PanelStateEnum.Showed?(console.log(e.Tag,n,"\u5c1d\u8bd5\u9690\u85cf\u9762\u677f","\u9762\u677f\u5df2\u5c55\u793a\uff0c\u5c06\u7acb\u5373\u9690\u85cf"),void this._hidePanel(t,o)):o.state===i.PanelStateEnum.Hiding?(console.log(e.Tag,n,"\u5c1d\u8bd5\u9690\u85cf\u9762\u677f","\u9762\u677f\u6b63\u5728\u9690\u85cf\u4e2d"),void this._hidePanel(t,o)):o.state===i.PanelStateEnum.Hided?(console.log(e.Tag,n,"\u5c1d\u8bd5\u9690\u85cf\u9762\u677f","\u9762\u677f\u5df2\u9690\u85cf"),void this._hidePanel(t,o)):void 0:(console.error(e.Tag,n,"\u5c1d\u8bd5\u9690\u85cf\u9762\u677f","\u9762\u677f\u8fd8\u6ca1\u6709\u52a0\u8f7d\uff0c\u4e0d\u80fd\u9690\u85cf"),void(t.onHided&&t.onHided(new Error("hide error"))))},e.prototype._hidePanel=function(t,n){n.state=i.PanelStateEnum.Hiding,n.node.getComponent(o.PanelComponent).hide({data:t.data,onHided:function(){console.log(e.Tag,t.panel.prefabPath,"\u5c1d\u8bd5\u9690\u85cf\u9762\u677f","\u9762\u677f\u9690\u85cf\u6210\u529f"),n.state=i.PanelStateEnum.Hided,n.node.active=!1,t.onHided&&t.onHided()}})},e.prototype.destroy=function(t){var n=t.panel.prefabPath,o=this._panelCacheMap.get(n);if(o)return o.state===i.PanelStateEnum.Loading?(console.warn(e.Tag,n,"\u5c1d\u8bd5\u9500\u6bc1\u9762\u677f","\u9762\u677f\u5728\u52a0\u8f7d\u4e2d\u65f6\uff0c\u5c06\u9500\u6bc1\u9762\u677f\u8d44\u6e90\uff08\u5efa\u8bae\u68c0\u67e5\u4e3a\u4ec0\u4e48\u6b64\u65f6\u89e6\u53d1\u4e86\u9500\u6bc1\u65b9\u6cd5\uff09"),void this._destroyPanel(o,n)):o.state===i.PanelStateEnum.LoadFailure?(console.log(e.Tag,n,"\u5c1d\u8bd5\u9500\u6bc1\u9762\u677f","\u9762\u677f\u52a0\u8f7d\u5df2\u7ecf\u5931\u8d25\uff0c\u5c06\u9500\u6bc1\u9762\u677f\u8d44\u6e90"),void this._destroyPanel(o,n)):o.state===i.PanelStateEnum.LoadSuccess?(console.log(e.Tag,n,"\u5c1d\u8bd5\u9500\u6bc1\u9762\u677f","\u9762\u677f\u52a0\u8f7d\u5df2\u7ecf\u6210\u529f\uff08\u4f46\u65e0\u540e\u7eed\u64cd\u4f5c\uff09\uff0c\u5c06\u9500\u6bc1\u9762\u677f\u8d44\u6e90"),void this._destroyPanel(o,n)):o.state===i.PanelStateEnum.Showing?(console.warn(e.Tag,n,"\u5c1d\u8bd5\u9500\u6bc1\u9762\u677f","\u9762\u677f\u5728\u5c55\u793a\u4e2d\uff08\u53ef\u80fd\u6b63\u5728\u6267\u884c\u5c55\u793a\u52a8\u753b\uff09\uff0c\u5c06\u9500\u6bc1\u9762\u677f\u8d44\u6e90\uff08\u5efa\u8bae\u68c0\u67e5\u4e3a\u4ec0\u4e48\u6b64\u65f6\u89e6\u53d1\u4e86\u9500\u6bc1\u65b9\u6cd5\uff09"),void this._destroyPanel(o,n)):o.state===i.PanelStateEnum.Showed?(console.warn(e.Tag,n,"\u5c1d\u8bd5\u9500\u6bc1\u9762\u677f","\u9762\u677f\u5df2\u5c55\u793a\uff0c\u5c06\u9500\u6bc1\u9762\u677f\u8d44\u6e90\uff08\u5efa\u8bae\u68c0\u67e5\u4e3a\u4ec0\u4e48\u6b64\u65f6\u89e6\u53d1\u4e86\u9500\u6bc1\u65b9\u6cd5\uff09"),void this._destroyPanel(o,n)):o.state===i.PanelStateEnum.Hiding?(console.warn(e.Tag,n,"\u5c1d\u8bd5\u9500\u6bc1\u9762\u677f","\u9762\u677f\u5728\u9690\u85cf\u4e2d\uff08\u53ef\u80fd\u6b63\u5728\u6267\u884c\u9690\u85cf\u52a8\u753b\uff09\uff0c\u5c06\u9500\u6bc1\u9762\u677f\u8d44\u6e90\uff08\u5efa\u8bae\u68c0\u67e5\u4e3a\u4ec0\u4e48\u6b64\u65f6\u89e6\u53d1\u4e86\u9500\u6bc1\u65b9\u6cd5\uff09"),void this._destroyPanel(o,n)):o.state===i.PanelStateEnum.Hided?(console.log(e.Tag,n,"\u5c1d\u8bd5\u9500\u6bc1\u9762\u677f","\u9762\u677f\u5df2\u9690\u85cf\uff0c\u5c06\u9500\u6bc1\u9762\u677f\u8d44\u6e90"),void this._destroyPanel(o,n)):void 0;console.error(e.Tag,n,"\u5c1d\u8bd5\u9500\u6bc1\u9762\u677f","\u5f53\u524d\u9762\u677f\u8fd8\u4e0d\u5b58\u5728\uff08\u5efa\u8bae\u68c0\u67e5\u4e3a\u4ec0\u4e48\u6b64\u65f6\u89e6\u53d1\u9500\u6bc1\u65b9\u6cd5\uff09")},e.prototype._destroyPanel=function(t,n){t.node&&(t.node.destroy(),t.node=null),t.prefab&&(t.prefab.decRef(),t.prefab=null),this._panelCacheMap.delete(n),console.log(e.Tag,n,"\u5c1d\u8bd5\u9500\u6bc1\u9762\u677f","\u9762\u677f\u9500\u6bc1\u6210\u529f")},e.prototype.getPanelState=function(e){var t=this._panelCacheMap.get(e.prefabPath);return t?t.state:null},e.Tag="PanelRouter",e}();n.PanelRouter=a,cc._RF.pop()},{"./PanelComponent":"PanelComponent","./PanelInterfaces":"PanelInterfaces"}],ParseJSON:[function(e,t,n){"use strict";cc._RF.push(t,"cf900N8eHZLHI6EH8Ykicaw","ParseJSON"),Object.defineProperty(n,"__esModule",{value:!0}),n.ParseJSON=void 0;var o=function(){function e(){}return e.parse=function(e){return this.parseStart(e)},e.findIndex=function(e,t,n,o){var i=e.indexOf(n,t+1);return 0>i&&(i=o),{str:e.substring(t+1,i),i:i}},e.finCurrObj=function(){if(this.type=1,null==this.cobj)return null;if(0==this.currArr.length)return this.cobj.k&&(this.ret[this.cobj.k]=this.cobj.val),null;var e=this.currArr.pop();if(this.cobj.k)if(Array.isArray(e.val)){if(null!=this.cobj.k){var t={};t[this.cobj.k]=this.cobj.val,e.val.push(t)}}else e.val[this.cobj.k]=this.cobj.val;else Array.isArray(this.cobj.val)&&(Array.isArray(e.val)?e.val.push(this.cobj.val):e.val=this.cobj.val);return e},e.formatVal=function(e){if(null==e)return null;var t=Number(e);return isNaN(t)?"false"!=e.toLowerCase()&&("true"==e.toLowerCase()||("null"==e?null:e)):t},e.finCurrStr=function(){null!=this.currStr&&(this.currStr=this.currStr.trim(),""!=this.currStr&&(null!=this.cobj&&(Array.isArray(this.cobj.val)?this.cobj.val.push(this.formatVal(this.currStr)):(this.cobj.val=this.formatVal(this.currStr),this.cobj=this.finCurrObj())),this.currStr=""))},e.parseStart=function(e){this.len=e.length;var t=0;for(this.ret={},this.currStr=null,this.currArr=[],this.cobj=null,this.type=0;t<this.len;){var n=e.charAt(t);if("/"==n){if(t+1<this.len){t+=1;var o=e.charAt(t),i=null;if("/"==o?i="\n":"*"==o&&(i="*/"),null!=i){this.finCurrStr();var a=e.indexOf(i,t);0>a?(console.log("\u6ca1\u6709\u627e\u5230\u6ce8\u91ca\u7ed3\u5c3e\uff0c\u5e94\u8be5\u662f\u4e00\u76f4\u6ce8\u91ca\u5230\u6700\u540e\u4e86"),t=this.len):t=a+i.length-1}}}else if("}"==n)null!=this.cobj&&(this.finCurrStr(),null!=this.cobj&&(this.cobj=this.finCurrObj())),this.currStr="",this.type=1;else if("{"==n)this.currStr="",this.type=1;else if("'"==n||'"'==n||"\u2018"==n||"\u201c"==n){"\u2018"==n?n="\u2019":"\u201c"==n&&(n="\u201d");var r=this.findIndex(e,t,n,this.len);2==this.type&&null!=this.cobj&&Array.isArray(this.cobj.val)?(null!=this.currStr&&(this.currStr=this.currStr.trim(),""!=this.currStr&&this.cobj.val.push(this.formatVal(this.currStr))),this.cobj.val.push(r.str),this.currStr=""):null!=this.currStr&&(this.currStr+=r.str),t=r.i}else if(";"==n||","==n||"\n"==n)this.finCurrStr();else if("]"==n)null!=this.currStr&&null!=this.cobj&&Array.isArray(this.cobj.val)&&(this.currStr=this.currStr.trim(),""!=this.currStr&&this.cobj.val.push(this.formatVal(this.currStr))),null!=this.cobj&&(this.cobj=this.finCurrObj(),this.cobj=this.finCurrObj()),this.currStr="";else if("["==n)2!=this.type?console.warn("\u6ca1\u6709key\u503c\uff0c\u5ffd\u7565\u6389\u4e00\u4e2a\u6570\u7ec4"):(null!=this.cobj&&this.currArr.push(this.cobj),this.cobj={val:[]});else if(":"==n){if(null!=this.currStr&&1==this.type){if(this.type=2,null!=this.cobj&&this.currArr.push(this.cobj),null!=this.cobj&&Array.isArray(this.cobj.val)){var s=this.cobj;this.cobj={val:{}},s.val.push(this.cobj.val),this.currArr.push(this.cobj)}this.cobj={k:this.currStr.trim(),val:{}},this.currStr=""}}else null!=this.currStr&&(this.currStr+=n);t++}return this.ret},e}();n.ParseJSON=o,cc._RF.pop()},{}],PayApiModels:[function(e,t,n){"use strict";cc._RF.push(t,"e2411ooDptJR5fB6sOctBL4","PayApiModels"),Object.defineProperty(n,"__esModule",{value:!0}),n.WalletEnum=n.PayStatusEnum=n.CustomGoogleSkuTypeEnum=n.GoodsResultErrorEnum=n.GoodsType=n.GoodsTag=n.GoodsTypeEnum=void 0,function(e){e.Coin="coin",e.Diamond="diamond",e.Item="item",e.VIP="vip",e.VIPDiscount="vip_discount",e.All="all"}(n.GoodsTypeEnum||(n.GoodsTypeEnum={})),function(e){e.LudoUndoGoods="ludo_undo_goods",e.FirstRecharge="first_recharge",e.LimitedTimeGift="limited_time_gift",e.RamadanDiscount="ramadan_discount",e.VIPCard="vip_card",e.VIPPack="vip_pack",e.VIPWeeklyBonus="vip_weekly_bonus"}(n.GoodsTag||(n.GoodsTag={})),function(e){e.Coin="coin",e.Diamond="diamond"}(n.GoodsType||(n.GoodsType={})),function(e){e[e.LoadGoodsFailed=1]="LoadGoodsFailed",e[e.ConnectToGpFailed=2]="ConnectToGpFailed"}(n.GoodsResultErrorEnum||(n.GoodsResultErrorEnum={})),function(e){e.Unknown="",e.InApp="INAPP",e.Subs="SUBS"}(n.CustomGoogleSkuTypeEnum||(n.CustomGoogleSkuTypeEnum={})),function(e){e[e.Pending=1]="Pending",e[e.Success=2]="Success",e[e.Failed=3]="Failed"}(n.PayStatusEnum||(n.PayStatusEnum={})),function(e){e.Deposit="deposit",e.Winning="winning",e.Bonus="bonus",e.DiamondDeposit="diamond_deposit",e.DiamondWinning="diamond_winning"}(n.WalletEnum||(n.WalletEnum={})),cc._RF.pop()},{}],PerfData:[function(e,t,n){"use strict";cc._RF.push(t,"c092e8ka+xLc6dMKZ+7PRV7","PerfData"),Object.defineProperty(n,"__esModule",{value:!0}),n.PerfData=void 0;var o=300,i=function(){function e(e,t,n,i){this.scale=1,this.datas=new Array(o),this.datapos=0,this.id=e,this.color=t,this.name=n,this.scale=i}return e.prototype.addData=function(e){this.datas[this.datapos]=e,this.datapos++,this.datapos%=o},e}();n.PerfData=i,cc._RF.pop()},{}],PerfHUD:[function(e,t){"use strict";cc._RF.push(t,"25035EKgO9I4KS+E1PNQaxy","PerfHUD"),cc._RF.pop()},{}],PermissionEvent:[function(e,t,n){"use strict";cc._RF.push(t,"ce3734S7EVINLdrvb5DZNct","PermissionEvent"),Object.defineProperty(n,"__esModule",{value:!0}),n.PermissionEvent=void 0,(n.PermissionEvent||(n.PermissionEvent={})).OnRequestPermissionCallBack="PermissionEvent.OnRequestPermissionCallBack",cc._RF.pop()},{}],PermissionModel:[function(e,t,n){"use strict";cc._RF.push(t,"bfa8ecZKHVIe4B6UdzY7ln5","PermissionModel"),Object.defineProperty(n,"__esModule",{value:!0}),n.AndroidPermissionEnum=n.AndroidPermissionGrantedEnum=void 0,function(e){e[e.GRANTED=0]="GRANTED",e[e.DENIED=-1]="DENIED"}(n.AndroidPermissionGrantedEnum||(n.AndroidPermissionGrantedEnum={})),function(e){e.RECORD_AUDIO="android.permission.RECORD_AUDIO",e.READ_EXTERNAL_STORAGE="android.permission.READ_EXTERNAL_STORAGE",e.WRITE_EXTERNAL_STORAGE="android.permission.WRITE_EXTERNAL_STORAGE",e.CAMERA="android.permission.CAMERA"}(n.AndroidPermissionEnum||(n.AndroidPermissionEnum={})),cc._RF.pop()},{}],PermissionWrapper:[function(e,t,n){"use strict";cc._RF.push(t,"93a23gtliJM/IDPuSxAPn6c","PermissionWrapper"),Object.defineProperty(n,"__esModule",{value:!0}),n.PermissionWrapper=void 0,e("../../framework/eventmanager/EventManager"),e("./PermissionEvent");var o=function(){function e(){}return e.requestPermissions=function(){return new Promise(function(e){e({permissions:[]})})},e.isPermissionGranted=function(){return!0},e._javaClassPath="com/gxx/wrapper/PermissionWrapper",e._reqCode=100,e}();n.PermissionWrapper=o,cc._RF.pop()},{"../../framework/eventmanager/EventManager":"EventManager","./PermissionEvent":"PermissionEvent"}],PlatformAdapter:[function(e,t,n){"use strict";cc._RF.push(t,"0fbbaLoISpGvL2x88ESHdN+","PlatformAdapter"),Object.defineProperty(n,"__esModule",{value:!0}),n.platformAdapter=void 0,e("./android/AndroidPlatformAdapter");var o=function(){function e(){this._instance=null}return e.prototype.init=function(){var e;null===(e=this._instance)||void 0===e||e.init()},e}();n.platformAdapter=new o,cc._RF.pop()},{"./android/AndroidPlatformAdapter":"AndroidPlatformAdapter"}],PlatformConfig:[function(e,t,n){"use strict";cc._RF.push(t,"b06c5NPSKNFJpLL8Tl+Y683","PlatformConfig");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.servicedata=void 0;var a=e("../common/LogBase"),r=e("../common/Tools"),s=e("../core/RunData"),l=e("./InnerEvent"),c=e("../laya/Laya"),u=c.Laya.Socket,p=c.Laya.Event;(function(e){var t=function(){function e(){}return e.parseList=function(e,t,n){if(e){for(var o,i=0;i<e.length;i++)i<t.length?o=t[i]:(o=new n,t.push(o)),o.parse(e[i]);t.length=e.length}else t.length=0},e.prototype.parse=function(t){var n;if(t)for(n in t)this.hasOwnProperty(n)?this[n]instanceof e?this[n].parse(t[n]):this[n]=t[n]:a.LogBase.log("ConfigBaseItem \u6709\u5c5e\u6027\u6ca1\u5b9a\u4e49:"+n)},e.prototype.getClass=function(){return null},e}(),n=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.GameCategory=0,t.GameCode="0",t.GameID=0,t.GameTag=0,t.MaxBet=0,t.MinBet=0,t.PlatformType=0,t.SortNum=0,t}return i(t,e),t}(t);e.GameListItem=n;var o=function(){function e(){this.list=[]}return e.prototype.parse=function(e){if(this.list.length=0,e)for(var t=0;t<e.length;t++){var o=new n;o.parse(e[t]),this.list.push(o)}},e}();e.GameList=o;var h=function(){function e(){this.gameGroups=[],this.Games=[],this.Functions=new m}return e.prototype.parse=function(e){this.Functions.parse(e?e.Functions:null),this.gameGroups.length=0;for(var t,n,o=e&&e.Games?e.Games:[],i=0;i<o.length;i++)(n=new _).parse(o[i]),null==(t=this.getGameGroup(n.CategoryID))&&((t=new y).CategoryID=n.CategoryID,this.gameGroups.push(t)),t.list.push(n),this.Games.push(n);this.gameGroups.sort(this.gameGroupSort)},e.prototype.getGameGroup=function(e){for(var t=0;t<this.gameGroups.length;t++)if(this.gameGroups[t].CategoryID==e)return this.gameGroups[t];return null},e.prototype.hasGame=function(e){for(var t=0;t<this.gameGroups.length;t++)for(var n=0;n<this.gameGroups[t].list.length;n++)if(this.gameGroups[t].list[n].GameID==e)return!0;return!1},e.prototype.getGame=function(e){for(var t=0;t<this.gameGroups.length;t++)for(var n=0;n<this.gameGroups[t].list.length;n++)if(this.gameGroups[t].list[n].GameID==e)return this.gameGroups[t].list[n];return null},e.prototype.gameGroupSort=function(e,t){return e.CategoryID<t.CategoryID?-1:e.CategoryID==t.CategoryID?0:1},e}();e.AgentGameClientConfig=h;var d=function(){function e(){this.gameGroups=[],this.Functions=new m}return e.prototype.parse=function(e){this.Functions.parse(e?e.Functions:null),this.gameGroups.length=0;for(var t,n,o=e&&e.Games?e.Games:[],i=0;i<o.length;i++)(n=new _).parse(o[i]),null==(t=this.getGameGroup(n.CategoryID))&&((t=new y).CategoryID=n.CategoryID,this.gameGroups.push(t)),t.list.push(n);this.gameGroups.sort(this.gameGroupSort)},e.prototype.getGameGroup=function(e){for(var t=0;t<this.gameGroups.length;t++)if(this.gameGroups[t].CategoryID==e)return this.gameGroups[t];return null},e.prototype.hasGame=function(e){for(var t=0;t<this.gameGroups.length;t++)for(var n=0;n<this.gameGroups[t].list.length;n++)if(this.gameGroups[t].list[n].GameID==e)return!0;return!1},e.prototype.getGame=function(e){for(var t=0;t<this.gameGroups.length;t++)for(var n=0;n<this.gameGroups[t].list.length;n++)if(this.gameGroups[t].list[n].GameID==e)return this.gameGroups[t].list[n];return null},e.prototype.gameGroupSort=function(e,t){return e.CategoryID<t.CategoryID?-1:e.CategoryID==t.CategoryID?0:1},e}();e.AgentGameClientConfig_bak=d;var f=function(e){function t(){var t=e.call(this)||this;return t.ServiceUrl="",t.Ver=0,t}return i(t,e),t}(t);e.versionCfg=f;var g=function(e){function t(){var t=e.call(this)||this;return t.versionCfg=[],t}return i(t,e),t.prototype.getVersion=function(e){for(var t=0;t<this.versionCfg.length;t++)if(this.versionCfg[t].ServiceUrl==e)return String(this.versionCfg[t].Ver)},t}(t);e.VersionConfig=g;var m=function(e){function t(){var t=e.call(this)||this;return t.MainMenus=[],t.Pay=[],t.Platform=[],t.ExActBanks=[],t.ExActType=[],t.PayBanks=[],t}return i(t,e),t}(t);e.FunctionsInfo=m;var y=function(){function e(){this.CategoryID=0,this.list=[]}return e.prototype.getGame=function(e){for(var t=0;t<this.list.length;t++)if(this.list[t].GameID==e)return this.list[t];return null},e}();e.GameGroup=y;var _=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.CategoryID=0,t.GameID=0,t.GameName="",t.Version=0,t.Tag=0,t.IsShowGameLevel=!1,t}return i(t,e),t}(t);e.GameInfo=_;var v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Award=0,t.IsEnabled=!1,t}return i(t,e),t}(t);e.H5UpClientAwardCfg=v;var b=function(e){function t(){var t=e.call(this)||this;return t.ResDownLoadUrl="",t.VipCustomerService="",t.OfficialUrl="",t.IOSQuickGameUrl="",t.H5QuickGameUrl="",t.GetClientIpUrl="",t.CustomerService="",t.PayTutorial="",t.Install=new P,t.Register=[],t}return i(t,e),t.prototype.parse=function(t){e.prototype.parse.call(this,t)},t}(t);e.GameAppConfig=b;var S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ID=0,t.MaxRange=0,t.MinRange=0,t.Name="",t.Rebate=0,t}return i(t,e),t}(t);e.Income=S;var C=function(e){function t(){var t=e.call(this)||this;return t.IsRebate=!1,t.RebateDay=0,t.LastRebateDate="",t.RebateType=0,t.Income=[],t}return i(t,e),t.prototype.parse=function(t){e.prototype.parse.call(this,t)},t}(t);e.UserBetRebateConfig=C;var I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ID="",t.AwardType=0,t.AwardConfig=0,t.Amount=0,t.Probability=0,t.WinningLimit=0,t.WinningCnt=0,t.Description="",t.SortNum=0,t}return i(t,e),t}(t);e.AwardConfigList=I;var R=function(e){function t(){var t=e.call(this)||this;return t.AwardConfigList=[],t.BeginDate="",t.BgImg="",t.DayMaxTimes=0,t.EndDate="",t.IsDayClean=!1,t.IsEnabled=!1,t.LotteryID=0,t.LotteryImg="",t.LotteryName="",t.PointerImg="",t.ShowType=0,t.Where1=0,t.Where2=0,t.Where3=0,t.AwardConfigList=[],t}return i(t,e),t}(t);e.lotteryData=R;var L=function(e){function t(){var t=e.call(this)||this;return t.AwardConfigList=[],t.BeginDate="",t.BgImg="",t.DayMaxTimes=0,t.EndDate="",t.IsDayClean=!1,t.IsEnabled=!1,t.LotteryID=0,t.LotteryImg="",t.LotteryName="",t.PointerImg="",t.ShowType=0,t.Where1=0,t.Where2=0,t.Where3=0,t.AwardConfigList=[],t}return i(t,e),t.prototype.parse=function(t){for(var n=0;n<t.length;n++)if(1002==t[n].LotteryID){e.prototype.parse.call(this,t[n]);break}},t}(t);e.LotteryCfgList=L;var P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.DownLoadUrl="",t.HallVersion=0,t.IsUpdate=!1,t.IsDisableEmulator=!1,t.Version=0,t}return i(t,e),t}(t);e.InstallInfo=P;var M=function(){function e(){this.list=[],this.bSucceed=!1}return e.prototype.parse=function(e){if(this.list.length=0,e)for(var t=0;t<e.length;t++){var n=new T;n.parse(e[t]),this.list.push(n)}},e.prototype.searchUseful=function(e){if(null==e)throw new Error("callBack\u4e0d\u80fd\u4e3anull");if(0!=this.list.length){if(null!=this.socket)throw new Error("\u8bf7\u52ff\u91cd\u590d\u8bf7\u6c42");a.LogBase.log("\u641c\u7d22\u53ef\u7528\u7684\u670d\u52a1\u5668..."),l.HallEvent.event(l.HallEvent.LOADING_MSG,":Try to connect to the server"),this.callBack=e,this.testIndex=0,this.socket=new u,this.socket.on(p.OPEN,this,this.socketOpenHandler),this.socket.on(p.ERROR,this,this.socketErrorHandler),this.socket.connectByUrl("ws://"+this.list[this.testIndex].ServerIP+":"+this.list[this.testIndex].Port),c.Laya.timer.once(5e3,this,this.timeout)}else e.runWith(null)},e.prototype.timeout=function(){a.LogBase.warn("connect timeout!ws://"+this.list[this.testIndex].ServerIP+":"+this.list[this.testIndex].Port),this.testIndex<this.list.length-1?(this.testIndex++,this.socket.connectByUrl("ws://"+this.list[this.testIndex].ServerIP+":"+this.list[this.testIndex].Port),c.Laya.timer.once(5e3,this,this.timeout)):this.searchOver(null)},e.prototype.socketOpenHandler=function(){c.Laya.timer.clearAll(this),this.socket.close(),this.bSucceed||this.searchOver("ws://"+this.list[this.testIndex].ServerIP+":"+this.list[this.testIndex].Port),this.bSucceed=!0},e.prototype.socketErrorHandler=function(){a.LogBase.log("\u670d\u52a1\u5668"+(this.testIndex+1)+"\u8fde\u63a5\u5931\u8d25"),l.HallEvent.event(l.HallEvent.LOADING_MSG,":Server "+(this.testIndex+1)+" Connection failed!")},e.prototype.searchOver=function(e){null==e?(a.LogBase.error("\u6ca1\u6709\u53ef\u7528\u7684\u670d\u52a1\u5668"),this.list.length>0&&(e="ws://"+this.list[this.testIndex].ServerIP+":"+this.list[this.testIndex].Port)):a.LogBase.log("\u83b7\u53d6\u53ef\u7528\u670d\u52a1\u5668\u6210\u529f"),this.callBack&&(this.callBack.runWith(e),this.callBack=null,this.socket.offAll(),this.socket=null)},e}();e.ConnectServerIpConfig=M;var T=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Port=0,t.ServerIP="",t.NetworkDelay=0,t.ConnectCount=0,t}return i(t,e),t}(t),E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Discount=0,t.HideLimitMoney=0,t.ID=0,t.Name="",t.PayChannel="",t.PayMoney="",t.PayWay=0,t.ShowLimitMoeny=0,t}return i(t,e),t.parse=function(e){if(e){for(var n,o=0;o<e.length;o++)o<this.list.length?n=this.list[o]:(n=new t,this.list.push(n)),n.parse(e[o]);this.list.length=e.length}else this.list.length=0},t.list=[],t}(t);e.PayWayConfig=E;var A=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.HeadImg=0,t.ID=0,t.Name="",t.QQ="",t.Wechat="",t}return i(t,e),t.parse=function(e){if(e){for(var n,o=0;o<e.length;o++)o<this.list.length?n=this.list[o]:(n=new t,this.list.push(n)),n.parse(e[o]);this.list.length=e.length}else this.list.length=0},t.list=[],t}(t);e.AgentPayConfig=A;var w=function(e){function t(){var t=e.call(this)||this;return t.ID=0,t.Money=0,t.CurrencyType=0,t.Value=0,t.IsFirstPay=!1,t.FirstPayValue=0,t}return i(t,e),t.parseOfficialPayList=function(e){if(e){for(var n,o=0;o<e.length;o++)o<this.officialPayList.length?n=this.officialPayList[o]:(n=new t,this.officialPayList.push(n)),n.parse(e[o]);this.officialPayList.length=e.length}else this.officialPayList.length=0},t.parseAliPayList=function(e){if(e){for(var n,o=0;o<e.length;o++)o<this.aliPayList.length?n=this.aliPayList[o]:(n=new t,this.aliPayList.push(n)),n.parse(e[o]);this.aliPayList.length=e.length}else this.aliPayList.length=0},t.parseWeChatPayList=function(e){if(e){for(var n,o=0;o<e.length;o++)o<this.weChatPayList.length?n=this.weChatPayList[o]:(n=new t,this.weChatPayList.push(n)),n.parse(e[o]);this.weChatPayList.length=e.length}else this.weChatPayList.length=0},t.parseBankPayList=function(e){this.parseDefault(e,this.bankPayList)},t.parseAgentPayList=function(e){this.parseDefault(e,this.agentPayList)},t.parseDefault=function(e,n){if(e){for(var o,i=0;i<e.length;i++)i<n.length?o=n[i]:(o=new t,n.push(o)),o.parse(e[i]);n.length=e.length}else n.length=0},t.officialPayList=[],t.aliPayList=[],t.weChatPayList=[],t.bankPayList=[],t.agentPayList=[],t}(t);e.DenominationConfig=w;var O=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.ID=0,t.Title="",t.PublishDate="",t.IsAttachments=!1,t.Status=0,t.IsGetAttachments=!1,t.content=null,t}return i(n,e),n.hasNewMail=function(){for(var e=0;e<this.list.length;e++)if(0==this.list[e].Status)return!0;return!1},n.getMail=function(e){for(var t=0;t<this.list.length;t++)if(this.list[t].ID==e)return this.list[t];return null},n.removeMail=function(e){for(var t=0;t<this.list.length;t++)if(this.list[t].ID==e)return void this.list.splice(t,1)},n.clearMail=function(){this.list.length=0},n.parse=function(e){var o,i=this.list.concat();this.list.length=0,t.parseList(e,this.list,n);for(var a=0;a<i.length;a++)null!=(o=this.getMail(i[a].ID))&&1==o.Status&&(o.content=i[a].content)},n.list=[],n}(t);e.MailData=O;var G=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Content="",t.Attachments=[],t}return i(t,e),t}(t);e.MailContent=G;var N=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.MailID=0,t.Type=0,t.TypeVal=0,t.Amounts=0,t}return i(t,e),t}(t);e.MailAttachment=N;var D=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Amount=0,t.AwardConfig="",t.AwardType=0,t.Description="",t.ID=0,t.SortNum=0,t}return i(t,e),t}(t);e.VIPAwardConfig=D;var B=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(t);e.VIPItem=B;var U=function(){function e(){this.list=[]}return e.prototype.parse=function(e){this.list=e},e.prototype.getVIPItem=function(e){for(var t=0;t<this.list.length;t++)if(this.list[t].VipLevel==e)return this.list[t];return null},e}();e.VIPConfig=U;e.PayGiftItem=function(){this.PayMoney="",this.PayAward=""};var k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.IsStart=!1,t.PayMoney="",t.PayAward="",t.BeginTime="",t.EndTime="",t.AwardType=0,t}return i(t,e),t.prototype.getGiftAward=function(e){if(null==this.PayMoney||null==this.PayAward||""==this.PayMoney||""==this.PayAward)return 0;for(var t=this.PayMoney.split(","),n=this.PayAward.split(","),o=0;o<t.length;o++)if(console.debug("getGiftAward i",o,e,Number(t[o])),e==Number(t[o]))return Number(n[o]);return 0},t}(t);e.PayGiftActConfig=k;var x,F=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.PromoterUrl="",t.FeeRate=0,t.Min=0,t.Max=0,t.TodayLimit=0,t.MinGb=0,t.MaxGb=0,t.TodayLimitGb=0,t.Income=[],t}return i(t,e),t}(t);e.PromoterConfig=F,i(function(){var e=null!==x&&x.apply(this,arguments)||this;return e.FixedReward=0,e.ID=0,e.MaxRange=0,e.MinRange=0,e.Rebate=0,e.Name="",e.RelationLevel=0,e.ReturnType=0,e},x=t);var H=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ChildCount=0,t.GrandChildCount=0,t.IncomeMoney=0,t.ParentID=0,t.TeamCount=0,t.TodayAdd=0,t.TodayDate="",t.TodayIncomeMoney=0,t.TotalIncomeMoney=0,t.UserID=0,t}return i(t,e),t}(t);e.PromoterIncome=H;var j=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.TotalCount=0,t.TodayDate="",t.Income=[],t}return i(t,e),t}(t);e.PromoterIncomeDetailsList=j;var W=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ChildCount=0,t.ChildIncome=0,t.ChildPayMoney=0,t.GrandChildCount=0,t.GrandChildIncome=0,t.GrandChildPayMoney=0,t.ID=0,t.IncomeMoney=0,t.InputDate="",t.Status=0,t.TotalIncome=0,t.UserID=0,t.PayUser=0,t.ChildPayUser=0,t.GrandChildPayUser=0,t}return i(t,e),t}(t);e.PromoterIncomeDetails=W;var V=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.recordLog=[],t.totalPage=0,t}return i(t,e),t}(t);e.RecordLog=V;var Y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.InputDate="",t.ReceiverGb=0,t.SenderGb=0,t}return i(t,e),t}(t);e.RecordDataItem=Y;var z=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Amount=0,t.GoodsID=0,t.ID=0,t.InputDate="",t.NickName="",t.Status=0,t.UnitPrice=0,t.UserID=0,t}return i(t,e),t}(t);e.RecordLogItem=z;var K=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ID=0,t.Question="",t.Answer="",t.SortNum=0,t}return i(t,e),t.parse=function(e){if(e){for(var n,o=0;o<e.length;o++)o<this.list.length?n=this.list[o]:(n=new t,this.list.push(n)),n.parse(e[o]);this.list.length=e.length}else this.list.length=0},t.list=[],t}(t);e.TFAQData=K;var q=function(e){function t(){var t=e.call(this)||this;return t.Min=-1,t.Multiple=-1,t.LockMoney=-1,t.MinPayMoney=-1,t.FeeRate=-1,t.GameBetMultiple=-1,t.MoneyList="",t.Max=0,t.TodayLimit=0,t}return i(t,e),t}(t);e.TExchangeLimt=q;var J=function(e){function t(){var t=e.call(this)||this;return t.MinLimit=-1,t.CheckLimit=-1,t.Tax=-1,t.MoneyList="",t}return i(t,e),t}(t);e.TTransferLimit=J;var X=function(e){function t(){var t=e.call(this)||this;return t.IsDiamond=!0,t.CurrencyRate=1e4,t.Country=0,t.AreaCode=0,t.IsPhoneVerif=!1,t.TransferLimit=new J,t.ExchangeLimt=new q,t.PayGiftActConfig=new k,t.PromoterConfig=new F,t.GameAppConfig=new b,t.UserBetRebateConfig=new C,t.H5UpClientAwardCfg=new v,t.LotteryCfgList=new L,t}return i(t,e),t}(t);e.PlantformConfig=X;var Z=function(e){function t(){var t=e.call(this)||this;return t.PixType=-1,t.PixAccountName="",t.PixAccountNum="",t.ExActType=-1,t}return i(t,e),t.prototype.release=function(){this.PixType=-1,this.PixAccountName="",this.PixAccountNum="",this.ExActType=-1},t}(t);e.PixAccount=Z;var Q=function(e){function t(){var t=e.call(this)||this;return t.BankType=0,t.BankAccountName="",t.BankAccountNum="",t.ExActType=0,t}return i(t,e),t.prototype.release=function(){this.BankType=0,this.BankAccountName="",this.BankAccountNum="",this.ExActType=0},t}(t);e.BankAccount=Q;var $=function(e){function t(){var t=e.call(this)||this;return t.WalletType=0,t.WalletAccountName="",t.WalletAccountNum="",t.ExActType=0,t}return i(t,e),t.prototype.release=function(){this.WalletType=0,this.WalletAccountName="",this.WalletAccountNum="",this.ExActType=0},t}(t);e.WalletAccount=$;var ee=function(){function e(){this.isFirstPay=!1,this.isGetH5UpClientAward=!1,this.nickName="",this.phone="",this.payMoney=0,this.appsflyerMoney=0,this.winLost=0,this.regDate="",this.onlineDuration=0,this.withdrawLimit=0,this.withdrawMoney=0,this.pixAccount=new Z,this.bankAccount=new Q,this.walletAccount=new $}return e.prototype.release=function(){this.isFirstPay=!1,this.isGetH5UpClientAward=!1,this.pixAccount.release(),this.bankAccount.release(),this.walletAccount.release(),this.nickName="",this.phone="",this.payMoney=0,this.appsflyerMoney=0,this.winLost=0,this.regDate="",this.onlineDuration=0,this.withdrawLimit=0,this.withdrawMoney=0},e.prototype.parse=function(e){var n;if(e)for(n in e)this.hasOwnProperty(n)?this[n]instanceof t?this[n].parse(e[n]):this[n]=e[n]:a.LogBase.log("\u6709\u5c5e\u6027\u6ca1\u5b9a\u4e49:"+n)},e}();e.UserWalletAccount=ee;var te=function(){function e(){this.sensitiveWordRegExp=[],this._sensitiveWords=[]}return Object.defineProperty(e.prototype,"sensitiveWords",{get:function(){return this._sensitiveWords},set:function(e){e||(e=[]),this._sensitiveWords=e,this.sensitiveWordRegExp.length=0;for(var t=0;t<this._sensitiveWords.length;t++)this.sensitiveWordRegExp.push(new RegExp(r.StringUtil.escapeUnicode(this._sensitiveWords[t]),"gi"))},enumerable:!1,configurable:!0}),e}(),ne=function(){function e(){}return e.InitPayGift=function(){if(this.PlantformConfig.PayGiftActConfig.IsStart)for(var e=this.PlantformConfig.PayGiftActConfig.PayMoney.split(","),t=this.PlantformConfig.PayGiftActConfig.PayAward.split(","),n=0;n<e.length;n++)console.debug("CheckPayGift.set",Number(e[n]),s.GameTool.formatMoneyNumber(Number(t[n]))),this.mapPayGift.set(Number(e[n]),s.GameTool.formatMoneyNumber(Number(t[n])))},e.CheckPayGift=function(e,t){if(console.debug("CheckPayGift",e,t),this.PlantformConfig.PayGiftActConfig.IsStart&&1!=this.PlantformConfig.PayGiftActConfig.AwardType){if(3==this.PlantformConfig.PayGiftActConfig.AwardType){var n=new Date(t);console.log("PayGiftActConfig BeginTime:",this.PlantformConfig.PayGiftActConfig.BeginTime,this.PlantformConfig.PayGiftActConfig.EndTime);var o=new Date(this.PlantformConfig.PayGiftActConfig.BeginTime),i=new Date(this.PlantformConfig.PayGiftActConfig.EndTime);if(n.getTime()<o.getTime()||n.getTime()>i.getTime())return}if(2==this.PlantformConfig.PayGiftActConfig.AwardType){n=new Date(t);var a=new Date;if(n.getFullYear()!=a.getFullYear()||n.getMonth()!=a.getMonth()||n.getDate()!=a.getDate())return}console.debug("CheckPayGift delete",e,t),this.mapPayGift.delete(e)}},e.VersionConfig=new g,e.AgentGameClientConfig=new h,e.ConnectServerIpConfig=new M,e.VIPConfig=new U,e.PromoterConfig=new F,e.szCustomUrl=[],e.SensitiveWordConfig=new te,e.PlantformConfig=new X,e.FAQData=new K,e.PayWayData=new E,e.gemtList=new o,e.mapPayGift=new Map,e}();e.ServiceConfigs=ne;e.GameHistoryData=function(){};e.GameHistoryVideoData=function(){};e.GameHistoryVideoUserData=function(){}})(n.servicedata||(n.servicedata={})),cc._RF.pop()},{"../common/LogBase":"LogBase","../common/Tools":"Tools","../core/RunData":"RunData","../laya/Laya":"Laya","./InnerEvent":"InnerEvent"}],PlatformService:[function(e,t,n){"use strict";cc._RF.push(t,"6477b90gOVMGK7Re0zU62vY","PlatformService");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.RankService=void 0;var i=e("../common/LogBase"),a=e("../core/RunData"),r=e("./HttpClient"),s=e("../common/Define"),l=e("./InnerEvent"),c=e("./PlatformConfig"),u=e("../common/ConfigMng"),p=e("../core/HallData"),h=o(e("../../hall/LoadH5Game")),d=o(e("../../hallph7/LoadingView7")),f=e("../../hallph7/SceneSysTips7"),g=e("../common/Tools"),m=e("./Client"),y=e("../laya/Laya"),_=c.servicedata,v=_.ServiceConfigs,b=y.Laya.Handler,S=function(){function e(){}return e.Init=function(){},e.getJson=function(e){return e?JSON.parse(e):{code:-1,msg:s.Define.TIPS.PLANTFORM_NO_RESPONSE}},e.Login3thGameRequst=function(e,t,n,o){d.default.OpenScene();var i={};i.plantform=a.RunData.clientPlantform,i.userId=a.RunData.myUserInfo.dwUserID,i.platformType=e,i.gameId=t,i.gameCode=n,this.handerName="Login.ws",r.HttpClient.RequestService(u.ConfigMng.serviceconfigJson.serviceURL+"/GameService/VGames/Login.ws",i,o,!0,!1,!0,!0)},e.onLogin3thGameRespone=function(e){i.LogBase.log("onLogin3thGameRespone",e)},e.Logout3thGame=function(t){t&&d.default.OpenScene(),i.LogBase.log("Logout3thGame");var n={};n.userId=a.RunData.myUserInfo.dwUserID,this.handerName="Logout.ws",r.HttpClient.RequestService(u.ConfigMng.serviceconfigJson.serviceURL+"/GameService/VGames/Logout.ws",n,y.Laya.Handler.create(e,e.onLogout3thGameRespone,[t]),!0,!1)},e.onLogout3thGameRespone=function(t,n){i.LogBase.log("onLogout3thGameRespone1",n,t,n.code);var o=e.getJson(n);if(t&&0==o.code){d.default.CloseScene(),h.default.gameid="",h.default.logoutElement.style.display="none";var a=y.Laya.Browser.getElementById("gameEle");y.Laya.Browser.removeElement(a)}},e.LoadPlatformData=function(t){e.handlerCallBack=t,e.requestVersion()},e.getPayRequestCallBack=function(t){var n={};n.clientPlantform=a.RunData.clientPlantform,n.agentId=a.RunData.agentId,this.handerName="PayWay.ws",r.HttpClient.RequestService(u.ConfigMng.serviceconfigJson.serviceURL+"/GameService/Pay/PayWay.ws",n,y.Laya.Handler.create(e,e.getPayResponeCallBack,[t]),!0,!1)},e.Reload=function(){g.BrowserUtil.isAndroidApp()?g.BrowserUtil.openNewPage("luckylionsys://reload"):y.Laya.Browser.window.location.reload()},e.SMSCodeRequest=function(e,t,n,o){var i={};i.phone=Number(t).toString(),i.codeType=n,i.agentId=a.RunData.agentId,i.areaCode=e,""!=p.LocalTempData.getSendChannel()&&(i.channel=p.LocalTempData.getSendChannel()),this.handerName="Send.ws",r.HttpClient.RequestService(u.ConfigMng.serviceconfigJson.serviceURL+"/GameService/SMS/Send.ws",i,b.create(this,this.defaultResponse,[o]))},e.SMSVerifyRequest=function(e,t,n,o,i){var s={};s.codeType=n,s.agentId=a.RunData.agentId,s.areaCode=e,s.phone=Number(t),s.phoneCode=o,this.handerName="Verify.ws",r.HttpClient.RequestService(u.ConfigMng.serviceconfigJson.serviceURL+"/GameService/SMS/Verify.ws",s,b.create(this,this.defaultResponse,[i]))},e.ImageVerifyRequest=function(e,t){var n={};n.phone=Number(e).toString(),n.agentId=a.RunData.agentId,n.plantform=a.RunData.clientPlantform,this.handerName="Captcha.aspx",r.HttpClient.RequestService(u.ConfigMng.serviceconfigJson.serviceURL+"/Captcha.aspx",n,t,!0,!1,!1,!1,!0)},e.createOrder=function(e,t,n,o,i,s,l){void 0===l&&(l=!1);var c={};c.clientPlantform=a.RunData.clientPlantform,c.payChannel=o,c.userId=e,c.moneyId=t,l?c.bid=i:(c.cid=i,c.payWay=n),this.handerName="CreateOrder.ws",r.HttpClient.RequestService(u.ConfigMng.serviceconfigJson.serviceURL+"/GameService/Pay/CreateOrder.ws",c,b.create(this,this.defaultResponse,[s]),!0,!0)},e.OfficialCardPay=function(e,t,n,o){var i={};i.userId=e,i.cardNumber=t,i.cardPwd=n,this.handerName="OfficialCardPay.ws",r.HttpClient.RequestService(u.ConfigMng.serviceconfigJson.serviceURL+"/GameService/Pay/OfficialCardPay.ws",i,b.create(this,this.defaultResponse,[o]))},e.PayRecordLog=function(e){var t={};t.userId=a.RunData.myUserInfo.dwUserID,t.agentId=a.RunData.agentId,t.pageIndex=1,t.pageSize=30,this.handerName="PayRecordLog.ws",r.HttpClient.RequestService(u.ConfigMng.serviceconfigJson.serviceURL+"/GameService/User/PayRecordLog.ws",t,b.create(this,this.defaultResponse,[e]))},e.getShowPixRequest=function(){var e={};e.userId=a.RunData.myUserInfo.dwUserID,e.agentId=a.RunData.agentId,e.plantform=a.RunData.clientPlantform,this.handerName="Show.ws",r.HttpClient.RequestService(u.ConfigMng.serviceconfigJson.serviceURL+"/GameService/User/Show.ws",e,b.create(this,this.getShowPixResponse),!0,!0)},e.bindPixRequest=function(e,t,n,o){var i={};i.userId=a.RunData.myUserInfo.dwUserID,i.agentId=a.RunData.agentId,i.plantform=a.RunData.clientPlantform,i.pixType=e,i.pixAccountName=t,i.pixAccountNum=n,this.handerName="BindPIX.ws",r.HttpClient.RequestService(u.ConfigMng.serviceconfigJson.serviceURL+"/GameService/User/BindPIX.ws",i,b.create(this,this.bindPixResponse,[o]),!0,!1)},e.bindBankRequest=function(e,t,n,o){var i={};i.userId=a.RunData.myUserInfo.dwUserID,i.agentId=a.RunData.agentId,i.plantform=a.RunData.clientPlantform,i.bankType=e,i.bankAccountName=t,i.bankAccountNum=n,this.handerName="BindBank.ws",r.HttpClient.RequestService(u.ConfigMng.serviceconfigJson.serviceURL+"/GameService/User/BindBank.ws",i,b.create(this,this.bindBankResponse,[o]),!0,!1)},e.bindWalletRequest=function(e,t,n,o,i,s){var l={};l.userId=a.RunData.myUserInfo.dwUserID,l.agentId=a.RunData.agentId,l.plantform=a.RunData.clientPlantform,l.walletType=e,l.walletAccountName=t,l.walletAccountNum=n,l.phone=o,l.phoneCode=i,this.handerName="BindWallet.ws",r.HttpClient.RequestService(u.ConfigMng.serviceconfigJson.serviceURL+"/GameService/User/BindWallet.ws",l,b.create(this,this.bindWalletResponse,[s]),!0,!1)},e.withdrawRequest=function(e,t,n){var o={};o.userId=a.RunData.myUserInfo.dwUserID,o.agentId=a.RunData.agentId,o.exAccountType=e,o.exAmount=a.GameTool.restoreMoney(t),this.handerName="ExMoney.ws",r.HttpClient.RequestService(u.ConfigMng.serviceconfigJson.serviceURL+"/GameService/User/ExMoney.ws",o,b.create(this,this.withdrawResponse,[n]),!0,!1)},e.getWithdrawRecordRequest=function(e,t){var n={};n.userId=a.RunData.myUserInfo.dwUserID,n.agentId=a.RunData.agentId,n.exType=e,this.handerName="ExMoneyLogs.ws",r.HttpClient.RequestService(u.ConfigMng.serviceconfigJson.serviceURL+"/GameService/User/ExMoneyLogs.ws",n,b.create(this,this.getWithdrawRecordResponse,[t]),!0,!1)},e.getMailListRequest=function(e){var t={};t.userId=a.RunData.myUserInfo.dwUserID,t.agentId=a.RunData.agentId,this.handerName="List.ws",r.HttpClient.RequestService(u.ConfigMng.serviceconfigJson.serviceURL+"/GameService/User/Mail/List.ws",t,b.create(this,this.defaultResponse,[e]),!0,!1)},e.getMailDetailsRequest=function(e,t){var n={};n.userId=a.RunData.myUserInfo.dwUserID,n.mailId=e,this.handerName="Details.ws",r.HttpClient.RequestService(u.ConfigMng.serviceconfigJson.serviceURL+"/GameService/User/Mail/Details.ws",n,b.create(this,this.defaultResponse,[t]),!0,!1)},e.DeleteMailRequest=function(e,t){var n={};n.userId=a.RunData.myUserInfo.dwUserID,n.mailId=e,this.handerName="Delete.ws",r.HttpClient.RequestService(u.ConfigMng.serviceconfigJson.serviceURL+"/GameService/User/Mail/Delete.ws",n,b.create(this,this.defaultResponse,[t]),!0,!1)},e.getMailGetAttachmentsRequest=function(e,t){var n={};n.userId=a.RunData.myUserInfo.dwUserID,n.mailId=e,this.handerName="GetAttachments.ws",r.HttpClient.RequestService(u.ConfigMng.serviceconfigJson.serviceURL+"/GameService/User/Mail/GetAttachments.ws",n,b.create(this,this.defaultResponse,[t]),!0,!1)},e.RequestRebateRecord=function(e){var t={};t.userId=a.RunData.myUserInfo.dwUserID,t.agentId=a.RunData.agentId,t.pageIndex=0,t.pageSize=100,r.HttpClient.RequestService(u.ConfigMng.serviceconfigJson.serviceURL+"/GameService/User/BetRebate/BetRebateLog.ws",t,b.create(this,this.defaultResponse,[e]),!0,!1)},e.RequestCollectRebate=function(e,t){var n={};n.userId=a.RunData.myUserInfo.dwUserID,n.agentId=a.RunData.agentId,n.logId=e,r.HttpClient.RequestService(u.ConfigMng.serviceconfigJson.serviceURL+"/GameService/User/BetRebate/GetBetRebate.ws",n,b.create(this,this.defaultResponse,[t]),!0,!1)},e.RequestLuckyRoulette=function(e,t){var n={};n.userId=a.RunData.myUserInfo.dwUserID,n.agentId=a.RunData.agentId,n.lotteryId=e,r.HttpClient.RequestService(u.ConfigMng.serviceconfigJson.serviceURL+"/GameService/Lottery/UserLottery.ws",n,b.create(this,this.defaultResponse,[t]),!0,!1)},e.RequestLuckyRouletteSpin=function(e,t){var n={};n.userId=a.RunData.myUserInfo.dwUserID,n.agentId=a.RunData.agentId,n.lotteryId=e,r.HttpClient.RequestService(u.ConfigMng.serviceconfigJson.serviceURL+"/GameService/Lottery/StartLottery.ws",n,b.create(this,this.defaultResponse,[t]),!0,!1)},e.RequestMyPromoterPayIncome=function(e){var t={};t.userId=a.RunData.myUserInfo.dwUserID,t.agentId=a.RunData.agentId,r.HttpClient.RequestService(u.ConfigMng.serviceconfigJson.serviceURL+"/GameService/User/Promoter/MyPromoterPayIncome.ws",t,b.create(this,this.defaultResponse,[e]),!0,!1)},e.RequestGetPromoterPayIncome=function(e,t,n){var o={};o.userId=a.RunData.myUserInfo.dwUserID,o.agentId=a.RunData.agentId,o.payUser=e,o.source=t,r.HttpClient.RequestService(u.ConfigMng.serviceconfigJson.serviceURL+"/GameService/User/Promoter/GetPromoterPayIncome.ws",o,b.create(this,this.defaultResponse,[n]),!0,!1)},e.RequestGetH5UpClientAward=function(e){var t={};t.userId=a.RunData.myUserInfo.dwUserID,t.agentId=a.RunData.agentId,r.HttpClient.RequestService(u.ConfigMng.serviceconfigJson.serviceURL+"/GameService/User/GetH5UpClientAward.ws",t,b.create(this,this.defaultResponse,[e]),!0,!1)},e.requestVersion=function(){l.HallEvent.event(l.HallEvent.LOADING_MSG,"NetConfig Version");var e={};e.agentId=a.RunData.agentId,e.plantform=a.RunData.clientPlantform,this.handerName="Version.ws",r.HttpClient.RequestService(u.ConfigMng.serviceconfigJson.serviceURL+"/GameService/Config/Version.ws",e,y.Laya.Handler.create(this,this.VersionResponse),!0,!1)},e.VersionResponse=function(t){var n=e.getJson(t);0==n.code?(v.VersionConfig.parse(n.data),this.requestAgantGameClient()):e.getLoadingConfigOver(!1,n.msg,n)},e.requestAgantGameClient=function(){if(i.LogBase.log("\u83b7\u53d6\u4ee3\u7406\u914d\u7f6e"),this.handerName="/GameService/Config/AgentGameClient.ws",p.LocalTempData.getServiceVersion(this.handerName)==v.VersionConfig.getVersion(this.handerName)){var e=p.LocalTempData.getServiceData(this.handerName);return i.LogBase.log("AgentGameClient LocalTempData:",e),void this.agentGameClientResponse(e)}l.HallEvent.event(l.HallEvent.LOADING_MSG,"NetConfig AgentGameClient");var t={};t.agentId=a.RunData.agentId,t.plantform=a.RunData.clientPlantform,r.HttpClient.RequestService(u.ConfigMng.serviceconfigJson.serviceURL+"/GameService/Config/AgentGameClient.ws",t,y.Laya.Handler.create(this,this.agentGameClientResponse),!0,!0)},e.agentGameClientResponse=function(t){var n=e.getJson(t);i.LogBase.log("agentGameClientResponse",n),0==n.code?(v.AgentGameClientConfig.parse(n.data),i.LogBase.log("AgentGameClientConfig",v.AgentGameClientConfig),u.ConfigMng.LoadMyGameList(v.AgentGameClientConfig),p.LocalTempData.getServiceVersion(this.handerName)!=v.VersionConfig.getVersion(this.handerName)&&(p.LocalTempData.setServiceVersion(this.handerName,v.VersionConfig.getVersion(this.handerName)),p.LocalTempData.setServiceData(this.handerName,t)),e.getGameListRequest()):e.getLoadingConfigOver(!1,n.msg,n)},e.getGameListRequest=function(){l.HallEvent.event(l.HallEvent.LOADING_MSG,"NetConfig GetGames");var t={};t.plantform=a.RunData.clientPlantform,this.handerName="GetGames.ws",console.log("------123-----",u.ConfigMng.serviceconfigJson.serviceURL),r.HttpClient.RequestService(u.ConfigMng.serviceconfigJson.serviceURL+"/GameService/VGames/GetGames.ws",t,y.Laya.Handler.create(e,e.getGameListRespone),!0,!1)},e.getGameListRespone=function(t){var n=JSON.parse(t);if(0!=n.code)return i.LogBase.warn(this.handerName,n.code,n.msg),void this.getLoadingConfigOver(!1,n.msg,n);v.gemtList.parse(n.data),i.LogBase.log(" ServiceConfigs.gemtList",v.gemtList),u.ConfigMng.gamelistJson.data=n.data,i.LogBase.log(" ConfigMng.gamelistJson",u.ConfigMng.gamelistJson),u.ConfigMng.LoadGameList(n.data),e.moneyListRequest()},e.moneyListRequest=function(){i.LogBase.log("\u83b7\u53d6\u652f\u4ed8\u9762\u989d\u914d\u7f6e:"),l.HallEvent.event(l.HallEvent.LOADING_MSG,"NetConfig MoneyList"),this.handerName="MoneyList.ws",r.HttpClient.RequestService(u.ConfigMng.serviceconfigJson.serviceURL+"/GameService/Pay/MoneyList.ws",{},b.create(this,this.moneyListResponse),!0,!1)},e.moneyListResponse=function(t){var n=e.getJson(t);if(0!=n.code)return i.LogBase.warn(this.handerName,n.code,n.msg),void this.getLoadingConfigOver(!1,n.msg,n);i.LogBase.log("recharge moneyListResponse:",n),_.DenominationConfig.parseOfficialPayList(n.data),this.plantformConfigRequest()},e.getPayRequest=function(){l.HallEvent.event(l.HallEvent.LOADING_MSG,"NetConfig PayWay");var t={};t.clientPlantform=a.RunData.clientPlantform,t.agentId=a.RunData.agentId,this.handerName="PayWay.ws",r.HttpClient.RequestService(u.ConfigMng.serviceconfigJson.serviceURL+"/GameService/Pay/PayWay.ws",t,y.Laya.Handler.create(e,e.getPayRespone),!0,!1)},e.getPayRespone=function(e){var t=JSON.parse(e);if(0!=t.code)return i.LogBase.warn(this.handerName,t.code,t.msg),void this.getLoadingConfigOver(!1,t.msg,t);i.LogBase.log("recharge getPayRespone:",t),_.PayWayConfig.parse(t.data),i.LogBase.log("recharge ServiceData.ServiceConfigs.PayWayData ",_.PayWayConfig),this.plantformConfigRequest()},e.getPayResponeCallBack=function(e,t){i.LogBase.debug("getGameListRespone data",t);var n=JSON.parse(t);if(0!=n.code)return i.LogBase.warn(this.handerName,n.code,n.msg),void e.runWith(n);i.LogBase.log("recharge getPayRespone:",n),_.PayWayConfig.parse(n.data),i.LogBase.log("recharge ServiceData.ServiceConfigs.PayWayData ",_.PayWayConfig),e&&e.runWith(n)},e.plantformConfigRequest=function(){i.LogBase.log("\u83b7\u53d6\u5e73\u53f0\u914d\u7f6e(\u91d1\u5e01\u6bd4\u4f8b)"),l.HallEvent.event(l.HallEvent.LOADING_MSG,"NetConfig PlantformConfig");var e={};if(e.plantform=a.RunData.clientPlantform,e.agentId=a.RunData.agentId,this.handerName="/GameService/Config/PlantformConfig.ws",p.LocalTempData.getServiceVersion(this.handerName)==v.VersionConfig.getVersion(this.handerName)){var t=p.LocalTempData.getServiceData(this.handerName);return i.LogBase.log("PlantformConfig LocalTempData:",t),void this.PlantformConfigResponse(t)}r.HttpClient.RequestService(u.ConfigMng.serviceconfigJson.serviceURL+"/GameService/Config/PlantformConfig.ws",e,b.create(this,this.PlantformConfigResponse))},e.PlantformConfigResponse=function(t){var n=e.getJson(t);if(0!=n.code)return i.LogBase.error("PlantformConfig.ws Error!",n),void this.getLoadingConfigOver(!1,n.msg,n);v.PlantformConfig.parse(n.data),v.szCustomUrl=v.PlantformConfig.GameAppConfig.CustomerService.split(","),i.LogBase.debug("PlantformConfigResponse json",n),i.LogBase.log("PlantformConfigResponse",v.PlantformConfig),c.servicedata.ServiceConfigs.InitPayGift(),""!=v.PlantformConfig.GameAppConfig.GetClientIpUrl&&e.GetClientIP(v.PlantformConfig.GameAppConfig.GetClientIpUrl),p.LocalTempData.getServiceVersion(this.handerName)!=v.VersionConfig.getVersion(this.handerName)&&(p.LocalTempData.setServiceVersion(this.handerName,v.VersionConfig.getVersion(this.handerName)),p.LocalTempData.setServiceData(this.handerName,t)),e.getQAQListRequest()},e.GetClientIP=function(e){r.HttpClient.RequestService(e,{},b.create(this,this.onGetClientIP))},e.onGetClientIP=function(t){i.LogBase.log("onGetClientIP",t);var n=e.getJson(t);0==n.code&&m.Client.Instance.SetclientIP(n.data.ip)},e.gameAppConfigRequest=function(){i.LogBase.log("\u83b7\u53d6GameApp\u914d\u7f6e"),l.HallEvent.event(l.HallEvent.LOADING_MSG,"NetConfig GameApp");var e={};e.agentId=a.RunData.agentId,e.plantform=a.RunData.clientPlantform,this.handerName="GameApp.ws",r.HttpClient.RequestService(u.ConfigMng.serviceconfigJson.serviceURL+"/GameService/Config/GameApp.ws",e,b.create(this,this.gameAppConfigResponse),!0,!0)},e.gameAppConfigResponse=function(t){var n=e.getJson(t);if(0!=n.code)return i.LogBase.warn(this.handerName,n.code,n.msg),i.LogBase.error("\u83b7\u53d6GameApp\u914d\u7f6e\u5931\u8d25"),void e.getPlatformConfigOver(!1,s.Define.TIPS.GET_GAMEAPP_ERROR);i.LogBase.log("gameAppConfigResponse",n)},e.getQAQListRequest=function(){i.LogBase.log("\u83b7\u53d6QAQList\u914d\u7f6e"),l.HallEvent.event(l.HallEvent.LOADING_MSG,"NetConfig QAQList");var e={};if(e.agentId=a.RunData.agentId,e.plantform=a.RunData.clientPlantform,this.handerName="/GameService/Config/QAQList.ws",p.LocalTempData.getServiceVersion(this.handerName)==v.VersionConfig.getVersion(this.handerName)){var t=p.LocalTempData.getServiceData(this.handerName);return i.LogBase.log("getQAQListResponse LocalTempData:",t),void this.getQAQListResponse(t)}r.HttpClient.RequestService(u.ConfigMng.serviceconfigJson.serviceURL+"/GameService/Config/QAQList.ws",e,b.create(this,this.getQAQListResponse),!0,!1)},e.getQAQListResponse=function(t){var n=e.getJson(t);if(0!=n.code)return i.LogBase.warn(this.handerName,n.code,n.msg),i.LogBase.error("\u83b7\u53d6QAQList\u914d\u7f6e\u5931\u8d25"),void e.getLoadingConfigOver(!1,s.Define.TIPS.GET_PLANTFORM_ERROR);i.LogBase.log("getQAQListResponse",n),c.servicedata.TFAQData.parse(n.data),p.LocalTempData.getServiceVersion(this.handerName)!=v.VersionConfig.getVersion(this.handerName)&&(p.LocalTempData.setServiceVersion(this.handerName,v.VersionConfig.getVersion(this.handerName)),p.LocalTempData.setServiceData(this.handerName,t)),e.connectServerIpRequest()},e.connectServerIpRequest=function(){l.HallEvent.event(l.HallEvent.LOADING_MSG,"NetConfig ConnectServerIp");var t={};t.plantform=a.RunData.clientPlantform,this.handerName="ConnectServerIp.ws",r.HttpClient.RequestService(u.ConfigMng.serviceconfigJson.serviceURL+"/GameService/Config/ConnectServerIp.ws",t,y.Laya.Handler.create(e,e.ConnectServerIPResponse),!0,!1)},e.ConnectServerIPResponse=function(t){var n=e.getJson(t);if(0==n.code){var o=v.ConnectServerIpConfig;if(o.parse(n.data),o.list.length<=0)return i.LogBase.error("\u83b7\u53d6\u670d\u52a1\u5668\u5217\u8868\u5931\u8d25"),void e.getLoadingConfigOver(!1,s.Define.TIPS.SERVER_LIST_ERROR);1==u.ConfigMng.serviceconfigJson.localserver?e.searchServerConnectHandler(u.ConfigMng.serviceconfigJson.serverURL):o.searchUseful(y.Laya.Handler.create(e,e.searchServerConnectHandler))}else e.getLoadingConfigOver(!1,n.msg,n)},e.searchServerConnectHandler=function(t){null!=t?(u.ConfigMng.serviceconfigJson.serverURL=t,e.getLoadingConfigOver(!0,"succeed")):e.getLoadingConfigOver(!1,s.Define.TIPS.SERVER_NOT_READY)},e.getPlatformConfigOver=function(t,n){t?(l.HallEvent.event(l.HallEvent.LOADING_MSG,"NetConfig Succeed!"),i.LogBase.debug("getPlatformConfigOver",n),e.handlerCallBack.run()):(l.HallEvent.event(l.HallEvent.LOADING_MSG,"Load Error:"+this.handerName),l.HallEvent.event(l.HallEvent.SHOW_MESSAGE,"Load Error:"+this.handerName))},e.getLoadingConfigOver=function(t,n,o){if(!t){l.HallEvent.event(l.HallEvent.LOADING_MSG,"Load Error:"+this.handerName);var a;return a=o?"Load Error:"+this.handerName+"\n"+o.code+":"+n+"\nPlease Click Yes and Reload Page!":"Load Error:"+this.handerName+"\n"+n+"\nPlease Click Yes and Reload Page!",void f.SceneSysTips7.OpenScene(null,a,y.Laya.Handler.create(this,this.Reload))}l.HallEvent.event(l.HallEvent.LOADING_MSG,"NetConfig Succeed!"),i.LogBase.debug("getPlatformConfigOver",n),e.handlerCallBack.run()},e.getShowPixResponse=function(t){var n=e.getJson(t);0==n.code?(i.LogBase.log("userPixAccount",n),a.RunData.userPixAccount.parse(n.data),i.LogBase.log("userPixAccount obj",a.RunData.userPixAccount),l.HallEvent.event(l.HallEvent.REFRESH_HALL_FIRSTRECHARGE)):i.LogBase.warn("userPixAccount",this.handerName,n.code,n.msg)},e.bindPixResponse=function(t,n){var o=e.getJson(n);0!=o.code?i.LogBase.warn(this.handerName,o.code,o.msg):null==a.RunData.userPixAccount?i.LogBase.warn("RunData.userPixAccount == null"):(a.RunData.userPixAccount.pixAccount.parse(o.data),i.LogBase.log("UPDATE_WALLETINFO",a.RunData.userPixAccount.pixAccount),l.HallEvent.event(l.HallEvent.UPDATE_WALLETINFO)),t&&t.runWith(o)},e.bindBankResponse=function(t,n){var o=e.getJson(n);0!=o.code?i.LogBase.warn(this.handerName,o.code,o.msg):a.RunData.userPixAccount.bankAccount.parse(o.data),t&&t.runWith(o)},e.bindWalletResponse=function(t,n){var o=e.getJson(n);0!=o.code?i.LogBase.warn(this.handerName,o.code,o.msg):(a.RunData.userPixAccount.walletAccount.parse(o.data),l.HallEvent.event(l.HallEvent.UPDATE_WALLETINFO)),i.LogBase.log("bindWalletResponse",o),t&&t.runWith(o)},e.withdrawResponse=function(t,n){var o=e.getJson(n);0!=o.code&&i.LogBase.warn(this.handerName,o.code,o.msg),i.LogBase.log("withdrawResponse",o),t&&t.runWith(o)},e.getWithdrawRecordResponse=function(t,n){var o=e.getJson(n);0!=o.code&&i.LogBase.warn(this.handerName,o.code,o.msg),i.LogBase.log("withdrawResponse",o),t&&t.runWith(o)},e.defaultResponse=function(t,n){var o=e.getJson(n);0!=o.code?i.LogBase.warn(this.handerName,o.code,o.msg):("Send.ws"==this.handerName&&(i.LogBase.debug("respone send.ws",o),0==o.code&&o.data&&o.data.channel&&p.LocalTempData.setSendChannel(o.data.channel.toString())),"Verify.ws"==this.handerName&&0==o.code&&p.LocalTempData.setSendChannel("")),null!=t&&null!=t&&t.runWith(o)},e}();n.default=S;var C=function(){function e(){}return e.BindPromoterRequest=function(e,t){var n={};n.userId=a.RunData.myUserInfo.dwUserID,n.agentId=a.RunData.agentId,n.code=e,r.HttpClient.RequestService(u.ConfigMng.serviceconfigJson.serviceURL+"/GameService/User/Promoter/BindPromoter.ws",n,b.create(this,this.defaultResponse,[t]))},e.DailyRankRequest=function(e){var t={};t.userId=a.RunData.myUserInfo.dwUserID,t.agentId=a.RunData.agentId,r.HttpClient.RequestService(u.ConfigMng.serviceconfigJson.serviceURL+"/GameService/User/Promoter/DailyRank.ws",t,b.create(this,this.defaultResponse,[e]))},e.MonthRankRequest=function(e){var t={};t.userId=a.RunData.myUserInfo.dwUserID,t.agentId=a.RunData.agentId,r.HttpClient.RequestService(u.ConfigMng.serviceconfigJson.serviceURL+"/GameService/User/Promoter/MonthRank.ws",t,b.create(this,this.defaultResponse,[e]))},e.MyPromoterRequest=function(e){var t={};t.userId=a.RunData.myUserInfo.dwUserID,t.agentId=a.RunData.agentId,t.pageIndex=1,t.pageSize=30,r.HttpClient.RequestService(u.ConfigMng.serviceconfigJson.serviceURL+"/GameService/User/Promoter/MyPromoter.ws",t,b.create(this,this.defaultResponse,[e]))},e.LoadPromoterConfigRequest=function(){var e={};e.userId=a.RunData.myUserInfo.dwUserID,e.agentId=a.RunData.agentId,r.HttpClient.RequestService(u.ConfigMng.serviceconfigJson.serviceURL+"/GameService/Config/PromoterConfig.ws",e,b.create(this,this.onLoadPromoterConfigRsp))},e.onLoadPromoterConfigRsp=function(e){var t=S.getJson(e);0!=t.code?i.LogBase.warn("PromoterConfig.ws",t.code,t.msg):(u.ConfigMng.promoterConfig=t.data,i.LogBase.log("PromoterConfig",t))},e.MyPromoterIncomeRequest=function(e){var t={};t.userId=a.RunData.myUserInfo.dwUserID,t.agentId=a.RunData.agentId,t.pageIndex=1,t.pageSize=30,r.HttpClient.RequestService(u.ConfigMng.serviceconfigJson.serviceURL+"/GameService/User/Promoter/MyPromoterIncome.ws",t,b.create(this,this.defaultResponse,[e]))},e.GetPromoterIncomeRequest=function(e,t,n){var o={};o.userId=a.RunData.myUserInfo.dwUserID,o.agentId=a.RunData.agentId,o.amount=e,r.HttpClient.RequestService(u.ConfigMng.serviceconfigJson.serviceURL+"/GameService/User/Promoter/GetPromoterIncome.ws",o,b.create(this,this.defaultResponse,[n]))},e.ExPromoterIncomeRequest=function(e,t,n){var o={};o.userId=a.RunData.myUserInfo.dwUserID,o.agentId=a.RunData.agentId,o.exAmount=e,o.exAccountType=t,r.HttpClient.RequestService(u.ConfigMng.serviceconfigJson.serviceURL+"/GameService/User/Promoter/ExPromoterIncome.ws",o,b.create(this,this.defaultResponse,[n]))},e.PromoterIncomeLogsRequest=function(e){var t={};t.userId=a.RunData.myUserInfo.dwUserID,t.agentId=a.RunData.agentId,t.pageIndex=1,t.pageSize=30,r.HttpClient.RequestService(u.ConfigMng.serviceconfigJson.serviceURL+"/GameService/User/Promoter/PromoterIncomeLogs.ws",t,b.create(this,this.defaultResponse,[e]))},e.MyPromoterTeamRequest=function(e){var t={};t.userId=a.RunData.myUserInfo.dwUserID,t.agentId=a.RunData.agentId,t.pageIndex=1,t.pageSize=30,r.HttpClient.RequestService(u.ConfigMng.serviceconfigJson.serviceURL+"/GameService/User/Promoter/MyPromoterTeam.ws",t,b.create(this,this.defaultResponse,[e]))},e.getLuckyCodeRequest=function(e,t){var n={};n.userId=a.RunData.myUserInfo.dwUserID,n.code=e,n.agentId=a.RunData.agentId,r.HttpClient.RequestService(u.ConfigMng.serviceconfigJson.serviceURL+"/GameService/User/GetLuckyCode.ws",n,b.create(this,this.defaultResponse,[t]))},e.defaultResponse=function(e,t){var n=S.getJson(t);0!=n.code&&i.LogBase.warn(n.msg),e?e.runWith(n):i.LogBase.log(n)},e}();n.RankService=C,cc._RF.pop()},{"../../hall/LoadH5Game":"LoadH5Game","../../hallph7/LoadingView7":"LoadingView7","../../hallph7/SceneSysTips7":"SceneSysTips7","../common/ConfigMng":"ConfigMng","../common/Define":"Define","../common/LogBase":"LogBase","../common/Tools":"Tools","../core/HallData":"HallData","../core/RunData":"RunData","../laya/Laya":"Laya","./Client":"Client","./HttpClient":"HttpClient","./InnerEvent":"InnerEvent","./PlatformConfig":"PlatformConfig"}],Point:[function(e,t,n){"use strict";cc._RF.push(t,"9bbd191ooNHc7xWVmkG2i4b","Point"),Object.defineProperty(n,"__esModule",{value:!0}),n.Point=void 0;var o=e("../utils/Pool"),i=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.x=e,this.y=t}return e.create=function(){return o.Pool.getItemByClass("Point",e)},e.prototype.setTo=function(e,t){return this.x=e,this.y=t,this},e.prototype.reset=function(){return this.x=this.y=0,this},e.prototype.recover=function(){o.Pool.recover("Point",this.reset())},e.prototype.distance=function(e,t){return Math.sqrt((this.x-e)*(this.x-e)+(this.y-t)*(this.y-t))},e.prototype.toString=function(){return this.x+","+this.y},e.prototype.normalize=function(){var e=Math.sqrt(this.x*this.x+this.y*this.y);if(e>0){var t=1/e;this.x*=t,this.y*=t}},e.prototype.copy=function(e){return this.setTo(e.x,e.y)},e.TEMP=new e,e.EMPTY=new e,e}();n.Point=i,cc._RF.pop()},{"../utils/Pool":"Pool"}],PokerCardUtil:[function(e,t,n){"use strict";var o;cc._RF.push(t,"b510e8kigNIh5T24qReM//S","PokerCardUtil"),Object.defineProperty(n,"__esModule",{value:!0}),n.PokerCardUtil=n.PokerCardColor=void 0,function(e){e[e.Diamond=0]="Diamond",e[e.Club=1]="Club",e[e.Hearts=2]="Hearts",e[e.Spade=3]="Spade"}(o=n.PokerCardColor||(n.PokerCardColor={}));var i=function(){function e(){}return e.getCardColor=function(e){return Math.floor(e/16)},e.getCardNumber=function(e){return e%16},e.getReadableCardNumber=function(e){if("number"==typeof e)return this._getReadableCardNumber(e);if(Array.isArray(e)){var t="[";if(e.length>0)for(var n=0;n<e.length;++n)t+=this._getReadableCardNumber(e[n]),n!=e.length-1&&(t+=", ");return t+"]"}return""},e._getReadableCardNumber=function(e){if(0==e)return"";var t=this.getCardNumber(e)+"";return"11"==t?t="J":"12"==t?t="Q":"13"==t&&(t="K"),""+this.getReadableCardColorName(this.getCardColor(e))+t},e.getReadableCardColorName=function(e){var t="";switch(e){case o.Spade:t="\u9ed1\u6843";break;case o.Hearts:t="\u7ea2\u6843";break;case o.Club:t="\u6885\u82b1";break;case o.Diamond:t="\u65b9\u5757"}return t},e}();n.PokerCardUtil=i,cc._RF.pop()},{}],PoolCache:[function(e,t,n){"use strict";cc._RF.push(t,"9c8d2ersfpEhpBYu/hNl/Dq","PoolCache"),Object.defineProperty(n,"__esModule",{value:!0}),n.PoolCache=void 0;var o=e("./CacheManger"),i=e("./Pool"),a=function(){function e(){this.maxCount=1e3}return e.prototype.getCacheList=function(){return i.Pool.getPoolBySign(this.sign)},e.prototype.tryDispose=function(){var e;(e=i.Pool.getPoolBySign(this.sign)).length>this.maxCount&&e.splice(this.maxCount,e.length-this.maxCount)},e.addPoolCacheManager=function(t,n){var i;void 0===n&&(n=100),(i=new e).sign=t,i.maxCount=n,o.CacheManger.regCacheByFunction(i.tryDispose.bind(i),i.getCacheList.bind(i))},e}();n.PoolCache=a,cc._RF.pop()},{"./CacheManger":"CacheManger","./Pool":"Pool"}],Pool:[function(e,t,n){"use strict";cc._RF.push(t,"0279e+tyedP0KBH+eRpCmVB","Pool"),Object.defineProperty(n,"__esModule",{value:!0}),n.Pool=void 0;var o=function(){function e(){}return e.getPoolBySign=function(t){return e._poolDic[t]||(e._poolDic[t]=[])},e.clearBySign=function(t){e._poolDic[t]&&(e._poolDic[t].length=0)},e.recover=function(t,n){!1===n[e.POOLSIGN]&&(n[e.POOLSIGN]=!0,e.getPoolBySign(t).push(n))},e.recoverByClass=function(t){if(t){var n=t.__className||t.constructor._$gid;n&&e.recover(n,t)}},e._getClassSign=function(t){var n=t.__className||t._$gid;return n||(t._$gid=n=e._CLSID+"",e._CLSID++),n},e.createByClass=function(t){return e.getItemByClass(e._getClassSign(t),t)},e.getItemByClass=function(t,n){var o,i=e.getPoolBySign(t);return(o=i.length?i.pop():new n)[e.POOLSIGN]=!1,o},e.getItemByCreateFun=function(t,n,o){void 0===o&&(o=null);var i=e.getPoolBySign(t),a=i.length?i.pop():n.call(o);return a[e.POOLSIGN]=!1,a},e.getItem=function(t){var n=e.getPoolBySign(t),o=n.length?n.pop():null;return o&&(o[e.POOLSIGN]=!1),o},e._CLSID=0,e.POOLSIGN="__InPool",e._poolDic={},e}();n.Pool=o,cc._RF.pop()},{}],"PreComboBox6.generated":[function(e,t,n){"use strict";cc._RF.push(t,"b34e2XqNJZBzLdS0VC5w623","PreComboBox6.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.PreComboBoxBase6=void 0;var r=e("../halllib/laya/Laya"),s=(r.Laya.regClass,r.Laya.property),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.PanelCombo=null,t.ImageGcash=null,t.ImageMaya=null,t.ImageBank=null,t.ImageSelect=null,t.ImageIcon=null,t.LabelSelect=null,t}return i(t,e),a([s(cc.Node)],t.prototype,"PanelCombo",void 0),a([s(cc.Sprite)],t.prototype,"ImageGcash",void 0),a([s(cc.Sprite)],t.prototype,"ImageMaya",void 0),a([s(cc.Sprite)],t.prototype,"ImageBank",void 0),a([s(cc.Sprite)],t.prototype,"ImageSelect",void 0),a([s(cc.Sprite)],t.prototype,"ImageIcon",void 0),a([s(cc.Label)],t.prototype,"LabelSelect",void 0),t}(r.Laya.Scene);n.PreComboBoxBase6=l,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],PreComboBox6:[function(e,t,n){"use strict";cc._RF.push(t,"85ea1h1Gz9BJqxNgU6OpOx3","PreComboBox6");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.PreComboBox6=void 0;var r=e("./PreComboBox6.generated"),s=e("../halllib/laya/Laya"),l=s.Laya.regClass,c=(s.Laya.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.text="",t.bOpen=!1,t.indexSelect=0,t.listRes={0:{img:"resources/halls/hallph6/res/hallres/Agent/img_biaozhi-2.png",label:"GCash",value:"GCash"}},t}return i(t,e),Object.defineProperty(t.prototype,"SelectedValue",{get:function(){return this.listRes[this.indexSelect.toString()].value},enumerable:!1,configurable:!0}),t.prototype.onAwake=function(){this.PanelCombo.opacity=0,this.PanelCombo.height=0,this.ImageSelect.node.on(s.Laya.Event.CLICK,this,this.onClick),this.ImageGcash.node.on(s.Laya.Event.CLICK,this,this.onSelect,[0])},t.prototype.onClick=function(){this.bOpen?s.Laya.Tween.to(this.PanelCombo,{height:0,alpha:0},200):s.Laya.Tween.to(this.PanelCombo,{height:156,alpha:1},200),this.bOpen=!this.bOpen},t.prototype.onSelect=function(e){this.listRes[e.toString()],this.ImageIcon.spriteFrame=this.listRes[e.toString()].img,this.LabelSelect.string=this.listRes[e.toString()].label,this.indexSelect=e,this.onClick()},a([l()],t)}(r.PreComboBoxBase6));n.PreComboBox6=c,cc._RF.pop()},{"../halllib/laya/Laya":"Laya","./PreComboBox6.generated":"PreComboBox6.generated"}],"PreRechargeTab6.generated":[function(e,t,n){"use strict";cc._RF.push(t,"5df1dabGKRE9L0wMTvjO4rs","PreRechargeTab6.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.PreRechargeTabBase6=void 0;var r=e("../halllib/laya/Laya"),s=(r.Laya.regClass,r.Laya.property),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ListTab=null,t.tabItem=null,t}return i(t,e),a([s(cc.ScrollView)],t.prototype,"ListTab",void 0),a([s(cc.Prefab)],t.prototype,"tabItem",void 0),t}(r.Laya.Scene);n.PreRechargeTabBase6=l,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],PreRechargeTab6:[function(e,t,n){"use strict";cc._RF.push(t,"5105aNaQNlD+rRb4v5fwswX","PreRechargeTab6");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.PreRechargeTab6=void 0;var r=e("./PreRechargeTab6.generated"),s=e("../halllib/laya/Laya"),l=s.Laya.regClass,c=(s.Laya.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.leftItemArray=null,t}return i(t,e),t.prototype.clickItem=function(){},a([l()],t)}(r.PreRechargeTabBase6));n.PreRechargeTab6=c,cc._RF.pop()},{"../halllib/laya/Laya":"Laya","./PreRechargeTab6.generated":"PreRechargeTab6.generated"}],"PrefabReChargeItem7.generated":[function(e,t,n){"use strict";cc._RF.push(t,"a332a2RqlVKjJykmL+ffzUB","PrefabReChargeItem7.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.PrefabReChargeItemBase7=void 0;var r=e("../halllib/laya/Laya"),s=(r.Laya.regClass,r.Laya.property),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bg=null,t.labCoins=null,t.labelMoney=null,t.Imggift=null,t.Labelgift=null,t}return i(t,e),a([s(cc.Sprite)],t.prototype,"bg",void 0),a([s(cc.Label)],t.prototype,"labCoins",void 0),a([s(cc.Label)],t.prototype,"labelMoney",void 0),a([s(cc.Sprite)],t.prototype,"Imggift",void 0),a([s(cc.Label)],t.prototype,"Labelgift",void 0),t}(r.Laya.Scene);n.PrefabReChargeItemBase7=l,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],"PrefabRecharge7.generated":[function(e,t,n){"use strict";cc._RF.push(t,"e8f9de8uvBHIp2CUOTISe0S","PrefabRecharge7.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.PrefabRechargeBase7=void 0;var r=e("../halllib/laya/Laya"),s=(r.Laya.regClass,r.Laya.property),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ViewStack=null,t.ListTab=null,t.item=null,t.rechargeItem=null,t}return i(t,e),a([s(cc.Node)],t.prototype,"ViewStack",void 0),a([s(cc.Node)],t.prototype,"ListTab",void 0),a([s(cc.Prefab)],t.prototype,"item",void 0),a([s(cc.Prefab)],t.prototype,"rechargeItem",void 0),t}(r.Laya.Scene);n.PrefabRechargeBase7=l,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],PrefabRecharge7:[function(e,t,n){"use strict";cc._RF.push(t,"ae3f0U5YOFB1K8+LA4lKht+","PrefabRecharge7");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.PrefabRecharge7=void 0;var c=e("./PrefabRecharge7.generated"),u=e("../halllib/net/InnerEvent"),p=e("../halllib/net/PlatformConfig"),h=e("./PrefabRechargeList7"),d=e("../halllib/common/ConfigMng"),f=e("../halllib/common/Types"),g=e("../halllib/common/LogBase"),m=e("../halllib/laya/Laya"),y=e("../halllib/laya/utils/Handler"),_=l(e("../hallph6/Rechargeitem")),v=m.Laya.regClass,b=(m.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.text="",t.payChannel=0,t.listName=[],t.name="",t.curItemClick=null,t}return i(t,e),t.LoadRes=function(e){return r(this,void 0,Promise,function(){var t=this;return s(this,function(){return[2,new Promise(function(n,o){u.HallEvent.event(u.HallEvent.LOADING_MSG,"PrefabRecharge7"),console.log("---------------PrefabRecharge7",d.ConfigMng.getSceneAddr("PrefabRecharge")),m.Laya.loader.load(d.ConfigMng.getSceneAddr("PrefabRecharge"),null,null).then(function(i){null==i?(g.LogBase.error("LoadScene Error:",d.ConfigMng.getSceneAddr("PrefabRecharge")),u.HallEvent.event(u.HallEvent.LOADING_MSG,"Error:PrefabRecharge7"),o("Error:PrefabRecharge7")):(t.resData=i,h.PrefabRechargeList7.LoadRes(m.Laya.Handler.create(t,t.LoadCompete,[e])),n())})})]})})},t.LoadCompete=function(e){e&&e.run()},t.CreateNew=function(e){return r(this,void 0,Promise,function(){return s(this,function(t){switch(t.label){case 0:return null!=this.resData?[3,2]:[4,this.LoadRes(e)];case 1:t.sent(),t.label=2;case 2:return[2,this.resData]}})})},t.prototype.onAwake=function(){},t.prototype.onSelectTab=function(){},t.prototype.onSelectListTab=function(){},t.prototype.LoadData=function(e,t,n){return r(this,void 0,Promise,function(){var o,i,a,r,l,c,u;return s(this,function(s){switch(s.label){case 0:return this.payChannel=e,g.LogBase.log("PrefabRecharge7 LoadData:",e),e!=f.RechargeChannels.Bank?[3,2]:[4,this.LoadBankData()];case 1:return[2,s.sent()];case 2:if(this.ListTab.removeAllChildren(),o=!1,!(null!=p.servicedata.PayWayConfig.list&&null!=p.servicedata.PayWayConfig.list&&p.servicedata.PayWayConfig.list.length>0))return[3,8];i="",console.log("servicedata.PayWayConfig.list-----",p.servicedata.PayWayConfig.list),a=0,s.label=3;case 3:if(!(a<p.servicedata.PayWayConfig.list.length))return[3,8];if(n){if(console.log("loadData---bOffical--",p.servicedata.PayWayConfig.list[a].PayWay,f.RechargeWays.OfficalPay),p.servicedata.PayWayConfig.list[a].PayWay!=f.RechargeWays.OfficalPay)return[3,7]}else if(console.log("loadData---falsebOffical--",p.servicedata.PayWayConfig.list[a].PayWay,f.RechargeWays.OfficalPay),p.servicedata.PayWayConfig.list[a].PayWay==f.RechargeWays.OfficalPay)return[3,7];r=p.servicedata.PayWayConfig.list[a].PayChannel.split(","),l=0,s.label=4;case 4:return l<r.length?(console.log("paychannel------",this.payChannel,r[l]),this.payChannel.toString()!=r[l]?[3,6]:[4,this.AddPayConfig(p.servicedata.PayWayConfig.list[a])]):[3,7];case 5:return s.sent()&&(i.length>0?i+=","+t+p.servicedata.PayWayConfig.list[a].Name:i+=t+p.servicedata.PayWayConfig.list[a].Name,g.LogBase.debug("ListTab",a,t+p.servicedata.PayWayConfig.list[a].Name),c=cc.instantiate(this.item),(u=c.getComponent(_.default)).setIndex(this.ListTab.childrenCount),u.setCallBack(this.setcurItemClick.bind(this)),u.SetLabeName(t+p.servicedata.PayWayConfig.list[a].Name),0==this.ListTab.children.length&&u.btnClick(),this.ListTab.addChild(c),this.listName.push(t+p.servicedata.PayWayConfig.list[a].Name),o=!0),[3,7];case 6:return l++,[3,4];case 7:return a++,[3,3];case 8:return console.log("\u8fd4\u56de\u6570\u636e\u8868\u793a---",o),[2,o]}})})},t.prototype.topContenItemClick=function(){},t.prototype.AddPayConfig=function(e){return r(this,void 0,Promise,function(){var t,n,o,i,a,r;return s(this,function(s){switch(s.label){case 0:return[4,h.PrefabRechargeList7.CreateNew(new y.Handler(this,this.comPleteRes))];case 1:if(t=s.sent(),console.log("------AddPayConfig--------",t),(n=cc.instantiate(t[0])).name="item"+this.ViewStack.children.length.toString(),o=!1,g.LogBase.log("AddPayConfig payconfig ",e),""==e.PayMoney)for(r=0;r<p.servicedata.DenominationConfig.officialPayList.length;r++)o=!0,n.getComponent(h.PrefabRechargeList7).addData(e.ID,e.PayWay,this.payChannel,r,p.servicedata.DenominationConfig.officialPayList[r]);else for(a in i=e.PayMoney.split(","))for(r=0;r<p.servicedata.DenominationConfig.officialPayList.length;r++)if(g.LogBase.log("recharge payconfig szSplit: ",p.servicedata.DenominationConfig.officialPayList[r].Money.toFixed(2),i[a]),p.servicedata.DenominationConfig.officialPayList[r].Money==Number(i[a])){g.LogBase.log("recharge arr.push:",i[a],p.servicedata.DenominationConfig.officialPayList[r]),n.getComponent("PrefabRechargeList7").addData(e.ID,e.PayWay,this.payChannel,r,p.servicedata.DenominationConfig.officialPayList[r]),o=!0;break}return o&&this.ViewStack.addChild(n),[2,o]}})})},t.prototype.LoadBankData=function(){return r(this,void 0,Promise,function(){var e,t,n,o,i,a,r;return s(this,function(s){switch(s.label){case 0:e="",t=!1,n=0,s.label=1;case 1:return n<p.servicedata.ServiceConfigs.AgentGameClientConfig.Functions.PayBanks.length?(o=p.servicedata.ServiceConfigs.AgentGameClientConfig.Functions.PayBanks[n],i=f.PayConfig.BankValue.get(o),[4,this.AddBankPayConfig(o)]):[3,4];case 2:s.sent()&&(e.length>0?e+=","+i:e+=i,a=cc.instantiate(this.item),(r=a.getComponent(_.default)).SetLabeName(i),r.setIndex(this.ListTab.childrenCount),r.setCallBack(this.setcurItemClick.bind(this)),this.ListTab.addChild(a),0==this.ListTab.children.length&&this.initLeftBtn(),this.listName.push(i),t=!0),s.label=3;case 3:return n++,[3,1];case 4:return[2,t]}})})},t.prototype.initLeftBtn=function(){var e,t;null===(t=null===(e=this.ListTab)||void 0===e?void 0:e.children[0])||void 0===t||t.getComponent(_.default).btnClick()},t.prototype.chageItemsStatus=function(e){for(var t=0;t<this.ListTab.children.length;t++){var n=this.ListTab.children[t].getComponent(_.default);n.index!=e&&n.setNormalStatus()}},t.prototype.setcurItemClick=function(e){this.curItemClick=e,console.log("setcurItemClick--prefabrecharge7--",this.ViewStack.children,e);for(var t=0;t<this.ViewStack.children.length;t++)this.ViewStack.children[t].active=t==e;this.chageItemsStatus(e)},t.prototype.getcurItemClick=function(){return this.curItemClick},t.prototype.comPleteRes=function(){},t.prototype.AddBankPayConfig=function(e){return r(this,void 0,Promise,function(){var t,n,o,i,a,r,l,c,u,d,g;return s(this,function(s){switch(s.label){case 0:return[4,h.PrefabRechargeList7.CreateNew(new y.Handler(this,this.comPleteRes))];case 1:for(t=s.sent(),n=cc.instantiate(t[0]),console.log("\u52a0\u8f7d--AddBankPayConfig--",t,n),n.name="item"+String(this.ViewStack.children.length),o=!1,i=!1,a=!1,r=0;r<p.servicedata.PayWayConfig.list.length;r++){for(l=!1,c=p.servicedata.PayWayConfig.list[r].PayChannel.split(","),g=0;g<c.length;g++)if(c[g]==String(f.ExchangeActType.Bank)){a=!0,l=!0;break}if(l)for(u=0;u<p.servicedata.DenominationConfig.officialPayList.length;u++)if(i=!1,""!=p.servicedata.PayWayConfig.list[r].PayMoney){for(d=p.servicedata.PayWayConfig.list[r].PayMoney.split(","),g=0;g<d.length;g++)if(p.servicedata.DenominationConfig.officialPayList[u].Money==Number(d[g])){i=!0;break}(i||o)&&n.getComponent("PrefabRechargeList7").addData(e,0,this.payChannel,u,p.servicedata.DenominationConfig.officialPayList[u])}else o=!0,n.getComponent("PrefabRechargeList7").addData(e,0,this.payChannel,u,p.servicedata.DenominationConfig.officialPayList[u])}return a&&this.ViewStack.addChild(n),[2,a]}})})},t.prototype.RefreshList=function(){},a([v()],t)}(c.PrefabRechargeBase7));n.PrefabRecharge7=b,cc._RF.pop()},{"../halllib/common/ConfigMng":"ConfigMng","../halllib/common/LogBase":"LogBase","../halllib/common/Types":"Types","../halllib/laya/Laya":"Laya","../halllib/laya/utils/Handler":"Handler","../halllib/net/InnerEvent":"InnerEvent","../halllib/net/PlatformConfig":"PlatformConfig","../hallph6/Rechargeitem":"Rechargeitem","./PrefabRecharge7.generated":"PrefabRecharge7.generated","./PrefabRechargeList7":"PrefabRechargeList7"}],PrefabRechargeItem7:[function(e,t,n){"use strict";cc._RF.push(t,"f93859zvgxHALVxx04qKiM+","PrefabRechargeItem7");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.PrefabRechargeItem7=void 0;var c=e("../halllib/common/LogBase"),u=e("../halllib/common/ConfigMng"),p=e("../halllib/common/Define"),h=e("../halllib/common/Tools"),d=e("../halllib/common/Types"),f=e("../halllib/core/RunData"),g=e("../halllib/net/InnerEvent"),m=e("../halllib/net/PlatformConfig"),y=l(e("../halllib/net/PlatformService")),_=e("./PrefabReChargeItem7.generated"),v=l(e("../hall/LoadH5Game")),b=e("../halllib/laya/Laya"),S=b.Laya.regClass,C=(b.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.text="",t.ID=0,t.payChannel=0,t.payWay=0,t.PayCID=0,t.data=null,t.gift=0,t.payMoney=0,t}return i(t,e),t.prototype.initData=function(e,t,n,o,i,a,r,s){console.log("PrefabReChargeItem7-----:",e,t,n,o,i,a,r,s),this.payMoney=e,this.PayCID=t,this.payWay=n,this.payChannel=o,this.data=i,this.labelMoney.string=s,this.labCoins.string=r.replace("coins","");var l=this,c=a.replace("resources/","");cc.loader.loadRes(c,cc.SpriteFrame,function(e,t){e&&console.error(e),l.bg.spriteFrame=t})},t.LoadRes=function(e){return r(this,void 0,Promise,function(){var t=this;return s(this,function(){return[2,new Promise(function(n,o){g.HallEvent.event(g.HallEvent.LOADING_MSG,"PrefabRechargeItem"),console.log("---------------PrefabRechargeItem",u.ConfigMng.getSceneAddr("PrefabRechargeItem")),b.Laya.loader.load(u.ConfigMng.getSceneAddr("PrefabRechargeItem"),null,null).then(function(i){null==i?(c.LogBase.error("LoadScene Error:",u.ConfigMng.getSceneAddr("PrefabRechargeItem")),g.HallEvent.event(g.HallEvent.LOADING_MSG,"Error:PrefabRechargeItem"),o("Error:PrefabRechargeItem")):(t.resData=i,e&&e.run(),n())})})]})})},t.CreateNew=function(e){return r(this,void 0,Promise,function(){return s(this,function(t){switch(t.label){case 0:return null!=this.resData?[3,2]:[4,this.LoadRes(e)];case 1:t.sent(),t.label=2;case 2:return[2,this.resData]}})})},t.prototype.onAwake=function(){g.HallEvent.on(g.HallEvent.UPDATE_RECHARGE_GIFT,this,this.onUpdateGift),this.node.on(b.Laya.Event.CLICK,this.onClick,this)},t.prototype.onEnable=function(){if(!f.RunData.userPixAccount.isFirstPay)return this.Imggift.node.active=!1,void(this.Labelgift.node.active=!1);this.gift=m.servicedata.ServiceConfigs.mapPayGift.get(this.payMoney),null==this.gift||this.gift<1?(this.Imggift.node.active=!1,this.Labelgift.node.active=!1):(this.Imggift.node.active=!0,this.Labelgift.node.active=!0,this.Labelgift.string=this.gift.toString())},t.prototype.onUpdateGift=function(){if(!f.RunData.userPixAccount.isFirstPay)return this.Imggift.node.active=!1,void(this.Labelgift.node.active=!1);this.gift=m.servicedata.ServiceConfigs.mapPayGift.get(this.payMoney),null==this.gift||this.gift<1?(this.Imggift.node.active=!1,this.Labelgift.node.active=!1):(this.Imggift.node.active=!0,this.Labelgift.node.active=!0,this.Labelgift.string=this.gift.toString())},t.prototype.onUpdateItem=function(){},t.prototype.onClick=function(){g.HallEvent.dispatcher.event(g.HallEvent.SHOW_WAITTING_MSG,p.Define.TIPS.PAY_ORDERING);var e=this.payChannel==d.RechargeChannels.Bank;y.default.createOrder(f.RunData.myUserInfo.dwUserID,this.data.ID,this.payWay,this.payChannel,this.PayCID,b.Laya.Handler.create(this,this.orderResponse),e),c.LogBase.info("ClickRechargeItem:",this.data.ID,this.payWay,this.payChannel,this.PayCID,e)},t.prototype.orderResponse=function(e){c.LogBase.log("orderResponse",e),g.HallEvent.dispatcher.event(g.HallEvent.CLOSE_WAITTING_MSG),0==e.code?(f.RunData.isPaying=!0,e.data.payOpenType==d.RechargeOpenType.H5?null==e.data.payData?g.HallEvent.dispatcher.event(g.HallEvent.SHOW_MESSAGE,p.Define.TIPS.PAY_URL_ERROR):h.BrowserUtil.getOSType()==d.OSType.IOS||h.BrowserUtil.getOSType()==d.OSType.ANDROID?v.default.LoadInnerFrame(e.data.payData):b.Laya.Browser.window.open(e.data.payData):g.HallEvent.event(g.HallEvent.SHOW_MESSAGE,p.Define.TIPS.PAY_APP_OPEN_ERROR)):g.HallEvent.event(g.HallEvent.SHOW_MESSAGE,p.Define.TIPS.PAY_ORDER_ERROR)},a([S()],t)}(_.PrefabReChargeItemBase7));n.PrefabRechargeItem7=C,cc._RF.pop()},{"../hall/LoadH5Game":"LoadH5Game","../halllib/common/ConfigMng":"ConfigMng","../halllib/common/Define":"Define","../halllib/common/LogBase":"LogBase","../halllib/common/Tools":"Tools","../halllib/common/Types":"Types","../halllib/core/RunData":"RunData","../halllib/laya/Laya":"Laya","../halllib/net/InnerEvent":"InnerEvent","../halllib/net/PlatformConfig":"PlatformConfig","../halllib/net/PlatformService":"PlatformService","./PrefabReChargeItem7.generated":"PrefabReChargeItem7.generated"}],"PrefabRechargeList6.generated":[function(e,t,n){"use strict";cc._RF.push(t,"58fa8Ofo/9L4rwgR90/qEDY","PrefabRechargeList6.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.PrefabRechargeListBase6=void 0;var r=e("../halllib/laya/Laya"),s=(r.Laya.regClass,r.Laya.property),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.list=null,t.giftItem=null,t}return i(t,e),a([s(cc.Node)],t.prototype,"list",void 0),a([s(cc.Prefab)],t.prototype,"giftItem",void 0),t}(r.Laya.Scene);n.PrefabRechargeListBase6=l,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],PrefabRechargeList6:[function(e,t,n){"use strict";cc._RF.push(t,"aaee9q9jIhD7LtyWF7DATVN","PrefabRechargeList6");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.PrefabRechargeList7=void 0;var l=e("../halllib/common/LogBase"),c=e("../halllib/common/ConfigMng"),u=e("../halllib/net/InnerEvent"),p=e("./PrefabRechargeList6.generated"),h=e("../halllib/laya/Laya"),d=h.Laya.regClass,f=(h.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.text="",t}var n;return i(t,e),n=t,t.LoadRes=function(e){return r(this,void 0,Promise,function(){var t=this;return s(this,function(){return[2,new Promise(function(o,i){u.HallEvent.event(u.HallEvent.LOADING_MSG,"PrefabRechargeList"),console.log("---------------PrefabRecharge7",c.ConfigMng.getSceneAddr("PrefabRechargeList")),h.Laya.loader.load(c.ConfigMng.getSceneAddr("PrefabRechargeList"),null,null).then(function(a){null==a?(l.LogBase.error("LoadScene Error:",c.ConfigMng.getSceneAddr("PrefabRechargeList")),u.HallEvent.event(u.HallEvent.LOADING_MSG,"Error:PrefabRechargeList"),i("Error:PrefabRechargeList")):(t.resData=a,n.LoadRes(h.Laya.Handler.create(t,t.LoadCompete,[e])),e&&e.run(),o())})})]})})},t.LoadCompete=function(e){console.log("\u52a0\u8f7d\u5b8c\u6210PrefabReChargeList",c.ConfigMng.hallconfigJson.recharge.item.list);for(var t=[],n=0;n<c.ConfigMng.hallconfigJson.recharge.item.list.length;n++)t.push(c.ConfigMng.hallconfigJson.recharge.item.list[n]);h.Laya.loader.load(t,null,null).then(function(){e&&e.run()})},t.CreateNew=function(e){return r(this,void 0,Promise,function(){return s(this,function(t){switch(t.label){case 0:return null!=this.resData?[3,2]:[4,this.LoadRes(e)];case 1:t.sent(),t.label=2;case 2:return[2,this.resData]}})})},t.prototype.onAwake=function(){},t.prototype.Init=function(){},t.prototype.addData=function(){},t.prototype.onClick=function(){},t.prototype.onSelect=function(){},n=a([d()],t)}(p.PrefabRechargeListBase6));n.PrefabRechargeList7=f,cc._RF.pop()},{"../halllib/common/ConfigMng":"ConfigMng","../halllib/common/LogBase":"LogBase","../halllib/laya/Laya":"Laya","../halllib/net/InnerEvent":"InnerEvent","./PrefabRechargeList6.generated":"PrefabRechargeList6.generated"}],"PrefabRechargeList7.generated":[function(e,t,n){"use strict";cc._RF.push(t,"237f0XpHCVM8byKCVJst5UO","PrefabRechargeList7.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.PrefabRechargeListBase7=void 0;var r=e("../halllib/laya/Laya"),s=(r.Laya.regClass,r.Laya.property),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.list=null,t.giftItem=null,t}return i(t,e),a([s(cc.Node)],t.prototype,"list",void 0),a([s(cc.Prefab)],t.prototype,"giftItem",void 0),t}(r.Laya.Scene);n.PrefabRechargeListBase7=l,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],PrefabRechargeList7:[function(e,t,n){"use strict";cc._RF.push(t,"1c8b8NVa5NHuJroTtKJc+Fs","PrefabRechargeList7");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.PrefabRechargeList7=void 0;var l=e("../halllib/common/LogBase"),c=e("../halllib/common/ConfigMng"),u=e("../halllib/core/RunData"),p=e("../halllib/net/InnerEvent"),h=e("../halllib/net/PlatformConfig"),d=e("./PrefabRechargeItem7"),f=e("./PrefabRechargeList7.generated"),g=e("../halllib/laya/Laya"),m=g.Laya.regClass,y=(g.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.text="",t}return i(t,e),t.LoadRes=function(e){return r(this,void 0,Promise,function(){var t=this;return s(this,function(){return[2,new Promise(function(n,o){p.HallEvent.event(p.HallEvent.LOADING_MSG,"PrefabRechargeList"),console.log("---------------PrefabRecharge7",c.ConfigMng.getSceneAddr("PrefabRechargeList")),g.Laya.loader.load(c.ConfigMng.getSceneAddr("PrefabRechargeList"),null,null).then(function(i){null==i?(l.LogBase.error("LoadScene Error:",c.ConfigMng.getSceneAddr("PrefabRechargeList")),p.HallEvent.event(p.HallEvent.LOADING_MSG,"Error:PrefabRechargeList"),o("Error:PrefabRechargeList")):(t.resData=i,d.PrefabRechargeItem7.LoadRes(g.Laya.Handler.create(t,t.LoadCompete,[e])),e&&e.run(),n())})})]})})},t.LoadCompete=function(e){console.log("\u52a0\u8f7d\u5b8c\u6210PrefabReChargeList",c.ConfigMng.hallconfigJson.recharge.item.list);for(var t=[],n=0;n<c.ConfigMng.hallconfigJson.recharge.item.list.length;n++)t.push(c.ConfigMng.hallconfigJson.recharge.item.list[n]);g.Laya.loader.load(t,null,null).then(function(){e&&e.run()})},t.CreateNew=function(e){return r(this,void 0,Promise,function(){return s(this,function(t){switch(t.label){case 0:return null!=this.resData?[3,2]:[4,this.LoadRes(e)];case 1:t.sent(),t.label=2;case 2:return[2,this.resData]}})})},t.prototype.onAwake=function(){},t.prototype.Init=function(){},t.prototype.addData=function(e,t,n,o,i){var a=c.ConfigMng.hallconfigJson.recharge.item.list[0];o<c.ConfigMng.hallconfigJson.recharge.item.list.length&&(a=c.ConfigMng.hallconfigJson.recharge.item.list[o]);var r=u.GameTool.formatMoneyString(i.Value,0)+"coins";i.IsFirstPay&&!u.RunData.userPixAccount.isFirstPay&&i.FirstPayValue>0&&(r=u.GameTool.formatMoneyString(i.Value,0)+"+"+u.GameTool.formatMoneyString(i.FirstPayValue,0)+"coins");var s=c.ConfigMng.hallconfigJson.recharge.item.moneytype+i.Money,l=h.servicedata.ServiceConfigs.mapPayGift.get(i.Money);console.log("PrefabRechargeList7 addData",i.Money,l,r,t,n,i);var p=cc.instantiate(this.giftItem);p.getComponent(d.PrefabRechargeItem7).initData(i.Money,e,t,n,i,a,r,s),this.list.addChild(p)},t.prototype.onClick=function(){},t.prototype.onSelect=function(){},a([m()],t)}(f.PrefabRechargeListBase7));n.PrefabRechargeList7=y,cc._RF.pop()},{"../halllib/common/ConfigMng":"ConfigMng","../halllib/common/LogBase":"LogBase","../halllib/core/RunData":"RunData","../halllib/laya/Laya":"Laya","../halllib/net/InnerEvent":"InnerEvent","../halllib/net/PlatformConfig":"PlatformConfig","./PrefabRechargeItem7":"PrefabRechargeItem7","./PrefabRechargeList7.generated":"PrefabRechargeList7.generated"}],"PrefabRecord7.generated":[function(e,t,n){"use strict";cc._RF.push(t,"3e8bb2jq09Mqo85wPQ8xeJe","PrefabRecord7.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.PrefabRecordBase7=void 0;var r=e("../halllib/laya/Laya"),s=(r.Laya.regClass,r.Laya.property),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.listRecord=null,t.content=null,t.recordPrefab=null,t}return i(t,e),a([s(cc.ScrollView)],t.prototype,"listRecord",void 0),a([s(cc.Node)],t.prototype,"content",void 0),a([s(cc.Prefab)],t.prototype,"recordPrefab",void 0),t}(r.Laya.Scene);n.PrefabRecordBase7=l,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],PrefabRecord7:[function(e,t,n){"use strict";cc._RF.push(t,"f735cKWDRBNLL5CrlwS/qx4","PrefabRecord7");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.PrefabRecord7=void 0;var c=e("../halllib/common/LogBase"),u=e("../halllib/common/ConfigMng"),p=e("../halllib/net/InnerEvent"),h=l(e("../halllib/net/PlatformService")),d=e("./PrefabRecord7.generated"),f=e("./PrefabRecordItem7"),g=e("../halllib/net/PlatformConfig"),m=e("../halllib/core/RunData"),y=e("../halllib/laya/Laya"),_=y.Laya.regClass,v=(y.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.name="",t}return i(t,e),t.LoadRes=function(e){return r(this,void 0,Promise,function(){var t=this;return s(this,function(){return[2,new Promise(function(n,o){p.HallEvent.event(p.HallEvent.LOADING_MSG,"PrefabRecord"),console.log("---------------PrefabRecord7",u.ConfigMng.getSceneAddr("PrefabRecharge")),y.Laya.loader.load(u.ConfigMng.getSceneAddr("PrefabRecord"),null,null).then(function(i){null==i?(c.LogBase.error("LoadScene Error:",u.ConfigMng.getSceneAddr("PrefabRecordItem")),p.HallEvent.event(p.HallEvent.LOADING_MSG,"Error:PrefabRechargeList"),o("Error:PrefabRechargeList7")):(t.resData=i,f.PrefabRecordItem7.LoadRes(y.Laya.Handler.create(t,t.LoadCompete,[e])),e&&e.run(),n())})})]})})},t.LoadCompete=function(e){e&&e.run()},t.CreateNew=function(e){return r(this,void 0,Promise,function(){return s(this,function(t){switch(t.label){case 0:return null!=this.resData?[3,2]:[4,this.LoadRes(e)];case 1:t.sent(),t.label=2;case 2:return[2,this.resData]}})})},t.prototype.onAwake=function(){},t.prototype.onEnable=function(){},t.prototype.Init=function(){h.default.PayRecordLog(y.Laya.Handler.create(this,this.onGetRecord))},t.prototype.onGetRecord=function(e){if(c.LogBase.log("onGetRecord:",e),0==e.code){if(e.data)for(var t=0;t<e.data.recordLog.length;t++){var n=0;g.servicedata.ServiceConfigs.PlantformConfig.PayGiftActConfig&&(n=g.servicedata.ServiceConfigs.PlantformConfig.PayGiftActConfig.getGiftAward(e.data.recordLog[t].PayMoney)),Number(e.data.recordLog[t].ActivityGiftValue)>0&&n>0&&(g.servicedata.ServiceConfigs.CheckPayGift(e.data.recordLog[t].PayMoney,e.data.recordLog[t].InputDate),n=m.GameTool.formatMoneyNumber(n));var o=cc.instantiate(this.recordPrefab);o.getComponent(f.PrefabRecordItem7).Init(e.data.recordLog[t].OrderNo,e.data.recordLog[t].InputDate,e.data.recordLog[t].PayMoney,{text:e.data.recordLog[t].IsPay?"Finish":"Waiting",color:e.data.recordLog[t].IsPay?"#279c0b":"#ff0101"}),this.content.addChild(o)}p.HallEvent.event(p.HallEvent.UPDATE_RECHARGE_GIFT)}},a([_()],t)}(d.PrefabRecordBase7));n.PrefabRecord7=v,cc._RF.pop()},{"../halllib/common/ConfigMng":"ConfigMng","../halllib/common/LogBase":"LogBase","../halllib/core/RunData":"RunData","../halllib/laya/Laya":"Laya","../halllib/net/InnerEvent":"InnerEvent","../halllib/net/PlatformConfig":"PlatformConfig","../halllib/net/PlatformService":"PlatformService","./PrefabRecord7.generated":"PrefabRecord7.generated","./PrefabRecordItem7":"PrefabRecordItem7"}],"PrefabRecordItem7.generated":[function(e,t,n){"use strict";cc._RF.push(t,"6b0ecDBlxFE67KZOowEcdDR","PrefabRecordItem7.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.PrefabRecordItemBase7=void 0;var r=e("../halllib/laya/Laya"),s=(r.Laya.regClass,r.Laya.property),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.imgCopy=null,t.LabelNO=null,t.LabelTime=null,t.LabelPrice=null,t.LabelResult=null,t}return i(t,e),a([s(cc.Sprite)],t.prototype,"imgCopy",void 0),a([s(cc.Label)],t.prototype,"LabelNO",void 0),a([s(cc.Label)],t.prototype,"LabelTime",void 0),a([s(cc.Label)],t.prototype,"LabelPrice",void 0),a([s(cc.Label)],t.prototype,"LabelResult",void 0),t}(r.Laya.Scene);n.PrefabRecordItemBase7=l,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],PrefabRecordItem7:[function(e,t,n){"use strict";cc._RF.push(t,"c74ee2VBAhIh6+Kv+rmV15U","PrefabRecordItem7");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.PrefabRecordItem7=void 0;var c=l(e("../hall/Tips")),u=e("../halllib/common/LogBase"),p=e("../halllib/common/ConfigMng"),h=e("../halllib/common/Define"),d=e("../halllib/common/Tools"),f=e("../halllib/net/InnerEvent"),g=e("./PrefabRecordItem7.generated"),m=e("../halllib/laya/Laya"),y=m.Laya.regClass,_=(m.Laya.property,function(e){function t(){return e.call(this)||this}return i(t,e),t.LoadRes=function(e){return r(this,void 0,Promise,function(){var t=this;return s(this,function(){return[2,new Promise(function(n,o){f.HallEvent.event(f.HallEvent.LOADING_MSG,"PrefabRecordItem"),console.log("---------------PrefabRecord7",p.ConfigMng.getSceneAddr("PrefabRecordItem")),m.Laya.loader.load(p.ConfigMng.getSceneAddr("PrefabRecordItem"),null,null).then(function(i){null==i?(u.LogBase.error("LoadScene Error:",p.ConfigMng.getSceneAddr("PrefabRecordItem")),f.HallEvent.event(f.HallEvent.LOADING_MSG,"Error:PrefabRechargeList"),o("Error:PrefabRechargeList7")):(t.resData=i,e&&e.run(),n())})})]})})},t.CreateNew=function(e){return r(this,void 0,Promise,function(){return s(this,function(t){switch(t.label){case 0:return null!=this.resData?[3,2]:[4,this.LoadRes(e)];case 1:t.sent(),t.label=2;case 2:return[2,this.resData]}})})},t.prototype.Init=function(e,t,n,o,i,a){void 0===i&&(i=null),void 0===a&&(a=null),this.LabelNO.string=e,this.LabelTime.string=t,this.LabelPrice.string=n,this.LabelResult.string=o.text,this.LabelResult.node.color.fromHEX(o.color)},t.prototype.onAwake=function(){this.imgCopy.node.on(m.Laya.Event.CLICK,this.onCopy,this)},t.prototype.onCopy=function(){d.BrowserUtil.CopyToSys(this.LabelNO.string),c.default.SetText(p.ConfigMng.getTips(h.Define.TIPS.RECORD_NO_COPY))},a([y()],t)}(g.PrefabRecordItemBase7));n.PrefabRecordItem7=_,cc._RF.pop()},{"../hall/Tips":"Tips","../halllib/common/ConfigMng":"ConfigMng","../halllib/common/Define":"Define","../halllib/common/LogBase":"LogBase","../halllib/common/Tools":"Tools","../halllib/laya/Laya":"Laya","../halllib/net/InnerEvent":"InnerEvent","./PrefabRecordItem7.generated":"PrefabRecordItem7.generated"}],"PrefabTab6.generated":[function(e,t,n){"use strict";cc._RF.push(t,"41abccqkQ9GopFW6iwFml5u","PrefabTab6.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.PrefabTabBase6=void 0;var s=e("../halllib/laya/Laya"),l=r(e("../../main/scripts/components/vitruallist/List")),c=(s.Laya.regClass,s.Laya.property),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ListTab=null,t}return i(t,e),a([c({type:l.default})],t.prototype,"ListTab",void 0),t}(s.Laya.Scene);n.PrefabTabBase6=u,cc._RF.pop()},{"../../main/scripts/components/vitruallist/List":"List","../halllib/laya/Laya":"Laya"}],PrefabTab6:[function(e,t,n){"use strict";cc._RF.push(t,"9ddf7DH9TdG46Hgj9ZCMyKj","PrefabTab6");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.PrefabTab6=void 0;var r=e("./PrefabTab6.generated"),s=e("../halllib/laya/Laya"),l=s.Laya.regClass,c=(s.Laya.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.labels="",t.LabelSize=25,t.skin="",t.tabrotation=0,t._selectIndex=0,t.itemList=[],t.clickHandler=null,t}return i(t,e),Object.defineProperty(t.prototype,"selectedIndex",{get:function(){return this._selectIndex},set:function(e){this._selectIndex=e},enumerable:!1,configurable:!0}),t.prototype.onListRender=function(e,t){var n=this,o=this.itemList[t],i=e.getChildByName("Button"),a=i.getChildByName("Label"),r=e.getChildByName("Imagef1"),l=e.getChildByName("Imagef2"),c=i.getComponent(cc.Button),u=a.getComponent(cc.Label),p=r.getComponent(cc.Sprite),h=l.getComponent(cc.Sprite);c.interactable=!o.Button.selected,u.string=o.Button.label,u.fontSize=o.Button.labelSize,p.enabled=o.Imagef1.visible,h.enabled=o.Imagef2.visible,c.node.targetOff(this),c.node.on("click",function(e){console.log("click:",t,e),n.clickItem(s.Laya.Event.CLICK,t)},this)},t.prototype.onAwake=function(){},t.prototype.updateList=function(){this.szLabel=this.labels.split(","),this.itemList=[];var e=10;console.log("this.szLabel:",this.szLabel);for(var t=0;t<this.szLabel.length;t++)0==t?this.itemList.push({zOrder:--e,Button:{labelSize:this.LabelSize,label:this.szLabel[t],selected:!0},Imagef1:{visible:!0},Imagef2:{visible:!1}}):this.itemList.push({zOrder:--e,Button:{labelSize:this.LabelSize,label:this.szLabel[t],selected:!1},Imagef1:{visible:!1},Imagef2:{visible:!0}});this.ListTab.numItems=this.itemList.length},t.prototype.clickItem=function(e,t){if(console.log("clickItem",e,t),e==s.Laya.Event.CLICK){this._selectIndex=t;for(var n=0;n<this.szLabel.length;n++){var o=!1;n==t&&(o=!0),this.itemList[n]=0==n?{zOrder:this.itemList[n].zOrder,Button:{labelSize:this.LabelSize,label:this.szLabel[n],selected:o},Imagef1:{visible:!0},Imagef2:{visible:!1}}:{zOrder:this.itemList[n].zOrder,Button:{labelSize:this.LabelSize,label:this.szLabel[n],selected:o},Imagef1:{visible:!1},Imagef2:{visible:!0}}}this.ListTab.updateAll(),null!=this.clickHandler&&this.clickHandler.runWith(t)}},a([l()],t)}(r.PrefabTabBase6));n.PrefabTab6=c,cc._RF.pop()},{"../halllib/laya/Laya":"Laya","./PrefabTab6.generated":"PrefabTab6.generated"}],PromiseWrapper:[function(e,t,n){"use strict";cc._RF.push(t,"60de3QUI/hIhr1muFUXByx7","PromiseWrapper"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.sleep=function(e){return this.delayResolve(e)},e.delayResolve=function(e){return new Promise(function(t){setTimeout(function(){t()},e)})},e.delayReject=function(e){return new Promise(function(t,n){setTimeout(function(){n(new Error("\u5ef6\u8fdf Reject"))},e)})},e}();n.default=o,cc._RF.pop()},{}],PurchaseOrderCacheSystem:[function(e,t,n){"use strict";cc._RF.push(t,"6e0ferq2zJOvYhGXf259Cw1","PurchaseOrderCacheSystem");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.purchaseOrderCacheSystem=void 0;var i=e("../../framework/gg"),a=o(e("../../framework/utils/StringUtils")),r=function(){function e(){this._keyPurchaseOrderPrefix="purchase_order_",this._keyConsumedOrderIds="consumed_order_ids"}return e.prototype.addOrder=function(e){i.gg.localStorage.setItem(this._keyPurchaseOrderPrefix+e.product_id,JSON.stringify(e))},e.prototype.getOrderByProductId=function(e){var t=i.gg.localStorage.getItem(this._keyPurchaseOrderPrefix+e);if(a.default.isEmpty(t))return null;var n=null;try{n=JSON.parse(t)}catch(o){i.gg.logger.error("\u89e3\u6790\u5546\u54c1 "+e+" \u7684\u672c\u5730\u8ba2\u5355\u7f13\u5b58\u5931\u8d25")}return n},e.prototype.removeOrder=function(e){i.gg.localStorage.removeItem(this._keyPurchaseOrderPrefix+e)},e.prototype.addConsumedProductId=function(e){var t=this.getAllConsumedProductIds();t.includes(e)||(t.push(e),this.setComsumedProductIds(t))},e.prototype.removeConsumedProductIds=function(e){if(null!=e&&0!=e.length){for(var t=this.getAllConsumedProductIds(),n=e.length-1;n>=0;--n)t.includes(e[n])&&t.splice(n,1);this.setComsumedProductIds(t)}},e.prototype.setComsumedProductIds=function(e){i.gg.localStorage.setItem(this._keyConsumedOrderIds,JSON.stringify(e))},e.prototype.getAllConsumedProductIds=function(){var e=i.gg.localStorage.getItem(this._keyConsumedOrderIds);if(a.default.isEmpty(e))return[];var t=[];try{t=JSON.parse(e)}catch(n){i.gg.logger.error("\u89e3\u6790\u5df2\u6d88\u8017\u5546\u54c1\u7f13\u5b58\u5217\u8868\u5931\u8d25"),t=[]}return t},e}();n.purchaseOrderCacheSystem=new r,cc._RF.pop()},{"../../framework/gg":"gg","../../framework/utils/StringUtils":"StringUtils"}],PurchaseOrderCache:[function(e,t,n){"use strict";cc._RF.push(t,"24bd2JzcfZO4YW69JWeKqB2","PurchaseOrderCache"),Object.defineProperty(n,"__esModule",{value:!0}),n.PurchaseOrderState=void 0,function(e){e.Pending="pending",e.Consumed="consumed"}(n.PurchaseOrderState||(n.PurchaseOrderState={})),cc._RF.pop()},{}],PurchaseSystemInterface:[function(e,t,n){"use strict";cc._RF.push(t,"18670l+Dn5ClYDPDS22fy9X","PurchaseSystemInterface"),Object.defineProperty(n,"__esModule",{value:!0}),n.PurchaseSystemProductType=void 0,function(e){e.InApp="inapp",e.Subs="subs"}(n.PurchaseSystemProductType||(n.PurchaseSystemProductType={})),cc._RF.pop()},{}],PurchaseSystem:[function(e,t,n){"use strict";cc._RF.push(t,"6bc5eMt/w9IN47fK5b+XrFg","PurchaseSystem");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.purchaseSystem=void 0;var a=e("../../configs/AppConfig"),r=e("../../framework/gg"),s=e("../api/gameapi/GameApi"),l=e("../api/gameapi/PayApiModels"),c=e("../login/LoginEvent"),u=(e("./apple/ApplePurchaseSystemAdapter"),e("./debug/DebugPurchaseSystemAdapter")),p=(e("./google/GooglePurchaseSystemAdapter"),e("./PurchaseSystemInterface")),h=function(){function e(){this._instance=null,(null==this._instance||a.AppConfig.isDebug&&"mobi.club.game.card"==a.AppConfig.packageName)&&(this._instance=new u.DebugPaySystemAdapter),r.gg.eventManager.on(c.LoginEvent.OnUserKickOut,this._onUserOut,this),r.gg.eventManager.on(c.LoginEvent.OnUserLogout,this._onUserOut,this),r.gg.eventManager.on(c.LoginEvent.OnUserLostConnection,this._onUserOut,this)}return e.prototype.handleUserLogout=function(){this._instance.handleUserLogout()},e.prototype.handleUserLogin=function(){this._instance.handleUserLogin()},e.prototype.fetchProducts=function(e,t){return void 0===t&&(t=p.PurchaseSystemProductType.InApp),o(this,void 0,Promise,function(){var n,o;return i(this,function(i){switch(i.label){case 0:n=null,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,s.gameApi.getGoodsListAsync(e)];case 2:return o=i.sent(),console.log("fetchProducts resp",o),1===o.status&&(n=o.data)&&e.tags&&(n=n.filter(function(t){return null!=t.tags&&-1!==t.tags.indexOf(e.tags)})),[3,4];case 3:return i.sent(),[3,4];case 4:return null==n||0==n.length?[2,{errorCode:l.GoodsResultErrorEnum.LoadGoodsFailed}]:[4,this._instance.handleBackEndProductList(t,n)];case 5:return[2,i.sent()]}})})},e.prototype.fetchVIPProducts=function(e,t){return void 0===t&&(t=p.PurchaseSystemProductType.InApp),o(this,void 0,Promise,function(){var n,o,a,c,u;return i(this,function(i){switch(i.label){case 0:n=null,o=null,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,s.gameApi.getVIPInfo(e)];case 2:return 1===(a=i.sent()).status&&(n=a.data,c=new Array,(null==n?void 0:n.goods_list)&&n.goods_list.forEach(function(e){c.push(e)}),(null==n?void 0:n.list)&&n.list.length>0&&n.list.forEach(function(e){(null==e?void 0:e.vip_goods)&&c.push(e.vip_goods)}),r.gg.logger.log("allGoodsModels:",c),c.length>0&&n&&e.tags&&n.goods_list&&(o=c.filter(function(t){return null!=t.tags&&-1!==t.tags.indexOf(e.tags)}))),[3,4];case 3:return i.sent(),[3,4];case 4:return null==o||0==o.length?[2,{errorCode:l.GoodsResultErrorEnum.LoadGoodsFailed,goodsModels:n,storeProduct:{errorCode:l.GoodsResultErrorEnum.LoadGoodsFailed}}]:[4,Promise.all([this._instance.handleBackEndProductList(t,o)])];case 5:return u=i.sent()[0],[2,{goodsModels:n,storeProduct:u}]}})})},e.prototype.purchase=function(e){return o(this,void 0,Promise,function(){return i(this,function(t){switch(t.label){case 0:return[4,this._instance.purchase(e)];case 1:return[2,t.sent()]}})})},e.prototype._onUserOut=function(){this._instance.handleUserLogout()},e}();n.purchaseSystem=new h,cc._RF.pop()},{"../../configs/AppConfig":"AppConfig","../../framework/gg":"gg","../api/gameapi/GameApi":"GameApi","../api/gameapi/PayApiModels":"PayApiModels","../login/LoginEvent":"LoginEvent","./PurchaseSystemInterface":"PurchaseSystemInterface","./apple/ApplePurchaseSystemAdapter":"ApplePurchaseSystemAdapter","./debug/DebugPurchaseSystemAdapter":"DebugPurchaseSystemAdapter","./google/GooglePurchaseSystemAdapter":"GooglePurchaseSystemAdapter"}],QualifyingFriendInviteFloatingItem:[function(e,t,n){"use strict";cc._RF.push(t,"11484LBldJKfIiE8cvLm5rM","QualifyingFriendInviteFloatingItem");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=l(e("../../../../components/GradeStarComponent")),u=l(e("../../../../components/UserIconStyle1Component")),p=e("../../../../configs/CommonAudioConfig"),h=e("../../../../configs/CommonPanelConfig"),d=e("../../../../configs/SceneConfig"),f=l(e("../../../../framework/asset/AssetLoader")),g=e("../../../../framework/gg"),m=e("../../../../framework/i18n/I18n"),y=l(e("../../../../framework/utils/StringUtils")),_=e("../../../../systems/analysis/AnalysisEvent"),v=e("../../../../systems/analysis/AnalysisWrapper"),b=e("../../../../systems/gamews/WebSocketResponseCode"),S=e("../../../../systems/qualifying/MainQualifyingSystem"),C=e("../../../../systems/room/RoomModels"),I=e("../../../../systems/user/UserUISystem"),R=cc._decorator,L=R.ccclass,P=R.property,M=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.userIconComp=null,t.userNameLabel=null,t.gradeStarComponent=null,t.vipSprite=null,t.inviteInfo=null,t._onHidedCallBack=null,t.isOpenScene=!1,t}return i(t,e),t.prototype.onLoad=function(){this.refresh()},t.prototype.getData=function(){return this.inviteInfo},t.prototype.bindData=function(e){this.node.opacity=0,this.inviteInfo=e},t.prototype.onDisable=function(){this.inviteInfo=null,this._onHidedCallBack=null},t.prototype.refresh=function(){this.isOpenScene=!1,this.userNameLabel.string="",this.userIconComp.getComponent(u.default).updateIcon(null),this.userIconComp.getComponent(u.default).updateIconFrame(null),this.gradeStarComponent.getComponent(c.default).reset()},t.prototype.onAcceptBtnClick=function(){return r(this,void 0,void 0,function(){var e,t,n,o;return s(this,function(i){switch(i.label){case 0:return this.isOpenScene?[2]:(this.isOpenScene=!0,this.inviteInfo.game_id!==C.GameId.Baloot?[3,4]:[4,S.mainQualifyingSystem.joinQualifyingRoom({game_id:this.inviteInfo.game_id,room_id:this.inviteInfo.room_id})]);case 1:return 1!=(e=i.sent()).status?[3,3]:(v.analysis.logEvent(_.AnalysisEvent.LobbyQualifyingBalootClick),n=(t=cc.director).runScene,[4,f.default.loadBundleScene(d.SceneConfig.QualifyingBalootScene.bundleName,d.SceneConfig.QualifyingBalootScene.sceneName)]);case 2:return n.apply(t,[i.sent()]),[3,4];case 3:o=m.i18n.getText("toast.joinRoomFailed"),(null==e?void 0:e.status)==b.WebSocketResponseCode.LevelIsNotEnough&&(o=m.i18n.getText("toast.qualifyingRoomLevel",null==e?void 0:e.min_level)),g.gg.panelRouter.show({panel:h.CommonPanelConfig.toastPanel,data:{text:o}}),this.isOpenScene=!1,i.label=4;case 4:return[2]}})})},t.prototype.onResuseBtnClick=function(){return r(this,void 0,void 0,function(){return s(this,function(){return this._hide(),[2]})})},t.prototype.show=function(e){var t,n,o,i,a,l;return r(this,void 0,void 0,function(){var r=this;return s(this,function(){return this.updataUserVip(),this._onHidedCallBack=e,this.userNameLabel.string=y.default.clampStr(null!==(n=null===(t=this.inviteInfo)||void 0===t?void 0:t.nick)&&void 0!==n?n:""),this.userIconComp.getComponent(u.default).updateIcon(null!==(i=null===(o=this.inviteInfo)||void 0===o?void 0:o.facelook)&&void 0!==i?i:null),this.userIconComp.getComponent(u.default).updateIconFrame(null!==(l=null===(a=this.inviteInfo)||void 0===a?void 0:a.frame)&&void 0!==l?l:null),this.gradeStarComponent.getComponent(c.default).updateStarUI(this.inviteInfo.star,this.inviteInfo.grade),g.gg.audio.playOneShot(p.CommonAudioConfig.friendApplication),cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).set({opacity:0,position:cc.v3(0,.5*this.node.parent.height+this.node.height)}).to(.36,{opacity:255,position:cc.v3(0,.5*this.node.parent.height)},{easing:"sineOut"}).delay(5).to(.36,{opacity:0,position:cc.v3(0,.5*this.node.parent.height+this.node.height)},{easing:"sineIn"}).call(function(){var e;null===(e=r._onHidedCallBack)||void 0===e||e.call(r)}).start(),[2]})})},t.prototype.updataUserVip=function(){var e;return r(this,void 0,void 0,function(){var t;return s(this,function(n){switch(n.label){case 0:return(null===(e=this.inviteInfo)||void 0===e?void 0:e.vip_info)?(this.vipSprite.node.active=!0,t=this.vipSprite,[4,I.userUISystem.loadUserVipIcon(this.inviteInfo.vip_info.vip_level,this.inviteInfo.vip_info.vip_status)]):[3,2];case 1:return t.spriteFrame=n.sent(),[3,3];case 2:this.vipSprite.node.active=!1,n.label=3;case 3:return[2]}})})},t.prototype._hide=function(){var e=this;cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).to(.36,{opacity:0,position:cc.v3(0,.5*this.node.parent.height+this.node.height)},{easing:"sineIn"}).call(function(){var t;null===(t=e._onHidedCallBack)||void 0===t||t.call(e)}).start()},a([P({type:cc.Node,tooltip:"\u7528\u6237\u5934\u50cf\u6837\u5f0f1"})],t.prototype,"userIconComp",void 0),a([P({type:cc.Label,tooltip:"\u7528\u6237\u540d\u5b57"})],t.prototype,"userNameLabel",void 0),a([P({type:cc.Node,tooltip:"\u7528\u6237\u6bb5\u4f4d\u661f\u661f\u4e2a\u6570\u5e03\u5c40"})],t.prototype,"gradeStarComponent",void 0),a([P({type:cc.Sprite,tooltip:"\u7528\u6237vip\u56fe\u6807"})],t.prototype,"vipSprite",void 0),a([L],t)}(cc.Component);n.default=M,cc._RF.pop()},{"../../../../components/GradeStarComponent":"GradeStarComponent","../../../../components/UserIconStyle1Component":"UserIconStyle1Component","../../../../configs/CommonAudioConfig":"CommonAudioConfig","../../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../../configs/SceneConfig":"SceneConfig","../../../../framework/asset/AssetLoader":"AssetLoader","../../../../framework/gg":"gg","../../../../framework/i18n/I18n":"I18n","../../../../framework/utils/StringUtils":"StringUtils","../../../../systems/analysis/AnalysisEvent":"AnalysisEvent","../../../../systems/analysis/AnalysisWrapper":"AnalysisWrapper","../../../../systems/gamews/WebSocketResponseCode":"WebSocketResponseCode","../../../../systems/qualifying/MainQualifyingSystem":"MainQualifyingSystem","../../../../systems/room/RoomModels":"RoomModels","../../../../systems/user/UserUISystem":"UserUISystem"}],QualifyingFriendInviteFloatingPanel:[function(e,t,n){"use strict";cc._RF.push(t,"fb509jFWYdLPYrfwkv4NCO0","QualifyingFriendInviteFloatingPanel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../../../configs/CommonPanelConfig"),l=e("../../../../framework/gg"),c=e("../../../../framework/panelrouter/PanelComponent"),u=e("../../../../systems/gamaInvite/QualifyingInviteSystem"),p=r(e("./QualifyingFriendInviteFloatingItem")),h=cc._decorator,d=h.ccclass,f=h.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.itemParentNode=null,t.itemNode=null,t._itemNodePool=new cc.NodePool,t._isShowing=!1,t}return i(t,e),t.prototype._getNode=function(){var e=this._itemNodePool.get();return e||(e=cc.instantiate(this.itemNode)),e},t.prototype._putNode=function(e){this._itemNodePool.put(e)},t.prototype._reset=function(){for(var e=this.itemParentNode.children.length;e>=0;--e)this._putNode(this.itemParentNode.children[e])},t.prototype.onLoad=function(){this._reset()},t.prototype.show=function(e){this._isShowing?e.onShowed():(u.qualifyingInviteSystem.hasMessage()&&this._newFloatingApplication(u.qualifyingInviteSystem.pop()),e.onShowed())},t.prototype.hide=function(e){this._isShowing=!1,e.onHided()},t.prototype._newFloatingApplication=function(e){var t=this;this._isShowing=!0;var n=this._getNode();n.parent=this.itemParentNode;var o=n.getComponent(p.default);o.refresh(),o.bindData(e),o.show(function(){t._putNode(n),t._isShowing=!1,u.qualifyingInviteSystem.hasMessage()?l.gg.panelRouter.show({panel:s.CommonPanelConfig.qualifyingFriendInviteFloatingPanel}):l.gg.panelRouter.hide({panel:s.CommonPanelConfig.qualifyingFriendInviteFloatingPanel})})},a([f(cc.Node)],t.prototype,"itemParentNode",void 0),a([f(cc.Node)],t.prototype,"itemNode",void 0),a([d],t)}(c.PanelComponent);n.default=g,cc._RF.pop()},{"../../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../../framework/gg":"gg","../../../../framework/panelrouter/PanelComponent":"PanelComponent","../../../../systems/gamaInvite/QualifyingInviteSystem":"QualifyingInviteSystem","./QualifyingFriendInviteFloatingItem":"QualifyingFriendInviteFloatingItem"}],QualifyingInviteProto:[function(e,t,n){"use strict";cc._RF.push(t,"06ef2GG8clFGYt6+A7ZCJbJ","QualifyingInviteProto"),Object.defineProperty(n,"__esModule",{value:!0}),n.QualifyingInviteProto=void 0,function(e){e.QualifyingInvitePlayerRequest="QualifyingInvitePlayerRequest",e.QualifyingInvitePlayerResponse="QualifyingInvitePlayerResponse",e.QualifyingInvitePlayerBroadCast="QualifyingInvitePlayerBroadCast"}(n.QualifyingInviteProto||(n.QualifyingInviteProto={})),cc._RF.pop()},{}],QualifyingInviteSystem:[function(e,t,n){"use strict";cc._RF.push(t,"4d068CLiURKCr8PZ6pZUn5a","QualifyingInviteSystem");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.qualifyingInviteSystem=void 0;var a=e("../../configs/CommonPanelConfig"),r=e("../../framework/gg"),s=e("../../uiSystem/GameAnimSystem"),l=e("../gamews/GameSocketSystem"),c=e("../login/LoginEvent"),u=e("./GamaInviteSystem"),p=e("./QualifyingInviteProto"),h=function(){function e(){this.qualifyingInvitePlayerBroadCastList=[]}return e.prototype.enable=function(){this.reset(),r.gg.eventManager.on(c.LoginEvent.OnUserKickOut,this._onUserOut,this),r.gg.eventManager.on(c.LoginEvent.OnUserLogout,this._onUserOut,this),r.gg.eventManager.on(c.LoginEvent.OnUserLostConnection,this._onUserOut,this),l.gameSocketSystem.on(p.QualifyingInviteProto.QualifyingInvitePlayerBroadCast,this.onQualifyingInvitePlayerBroadCast,this),cc.director.on(cc.Director.EVENT_AFTER_SCENE_LAUNCH,this.onSceneLaunched,this)},e.prototype.disable=function(){this.reset(),l.gameSocketSystem.offTarget(this),r.gg.eventManager.offTarget(this),cc.director.off(cc.Director.EVENT_AFTER_SCENE_LAUNCH,this.onSceneLaunched,this)},e.prototype._onUserOut=function(){this.disable()},e.prototype.reset=function(){this.qualifyingInvitePlayerBroadCastList=[]},e.prototype.onSceneLaunched=function(){this.hasMessage()&&null==u.gameInviteSystem.inteveRespinseInfo&&s.gamePanelSystem.gameShowPanel===s.GamePanelType.Other&&r.gg.panelRouter.show({panel:a.CommonPanelConfig.qualifyingFriendInviteFloatingPanel})},e.prototype.hasMessage=function(){return this.qualifyingInvitePlayerBroadCastList.length>0},e.prototype.pop=function(){return this.qualifyingInvitePlayerBroadCastList.shift()},e.prototype.onQualifyingInvitePlayerBroadCast=function(e){r.gg.logger.log("\u8fd4\u56de--\x3e\u9080\u8bf7\u5e7f\u64ad",e),(null==e?void 0:e.game_id)&&(null==e?void 0:e.room_id)&&null==u.gameInviteSystem.inteveRespinseInfo&&s.gamePanelSystem.gameShowPanel===s.GamePanelType.Other&&(this.qualifyingInvitePlayerBroadCastList.push(e),r.gg.panelRouter.show({panel:a.CommonPanelConfig.qualifyingFriendInviteFloatingPanel}))},e.prototype.qualifyingInvitePlayer=function(e){return o(this,void 0,Promise,function(){var t;return i(this,function(n){switch(n.label){case 0:return[4,l.gameSocketSystem.requestAsync({requestMsg:p.QualifyingInviteProto.QualifyingInvitePlayerRequest,requestData:e,responseMsg:p.QualifyingInviteProto.QualifyingInvitePlayerResponse})];case 1:return t=n.sent(),r.gg.logger.log("\u9080\u8bf7\u73a9\u5bb6\u52a0\u5165\u6392\u4f4d\u8d5b\u623f\u95f4--\x3e",t),[2,t]}})})},e}();n.qualifyingInviteSystem=new h,cc._RF.pop()},{"../../configs/CommonPanelConfig":"CommonPanelConfig","../../framework/gg":"gg","../../uiSystem/GameAnimSystem":"GameAnimSystem","../gamews/GameSocketSystem":"GameSocketSystem","../login/LoginEvent":"LoginEvent","./GamaInviteSystem":"GamaInviteSystem","./QualifyingInviteProto":"QualifyingInviteProto"}],QualifyingRankingComponent:[function(e,t,n){"use strict";cc._RF.push(t,"1239cBlMZ9Jm7hN9FVuMzBA","QualifyingRankingComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../../../../../main/scripts/configs/CommonPanelConfig"),l=e("../../../../../../main/scripts/framework/gg"),c=e("../../../../../../main/scripts/framework/i18n/I18n"),u=e("../../../../../../main/scripts/systems/api/gameapi/GameApi"),p=e("../../../../../../main/scripts/systems/api/gameapi/GameApiModels"),h=e("../../../../../../main/scripts/systems/api/gamecenter/GameCenterApiModels"),d=r(e("../components/MyRankComponent")),f=r(e("../components/RankingQualifyingTopThreeLayComponent")),g=e("../RankingStorageConfig"),m=r(e("./QualifyingRankingItemComponent")),y=cc._decorator,_=y.ccclass,v=y.property,b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.myRank=null,t.rankingTopThreeLayNode=null,t.myQualifyingRanking=null,t.qualifyingRankingItemScrollView=null,t.qualifyingRankingItemParentNode=null,t.qualifyingRankingItemNode=null,t.qualifyingRankingItemNodeHeight=78,t.spaceingY=0,t.paddingTop=0,t.paddingBottom=0,t.visableAreaMarginTop=78,t.visableAreaMarginBottom=78,t.itemList=[],t._virtualNodes=[],t.lastTimer=0,t._itemNodeAll=[],t}return i(t,e),t.prototype.onEnable=function(){this.reset(),this.getQualifyingRankingData(),this.qualifyingRankingItemParentNode.on(cc.Node.EventType.POSITION_CHANGED,this._onPositionChanged,this),this.qualifyingRankingItemScrollView.node.on("scroll-ended",this._updateList,this)},t.prototype.onDisable=function(){this.reset(),this.qualifyingRankingItemParentNode.off(cc.Node.EventType.POSITION_CHANGED,this._onPositionChanged,this),this.qualifyingRankingItemScrollView.node.off("scroll-ended",this._updateList,this)},t.prototype.onClickOpenHelp=function(){l.gg.panelRouter.show({panel:s.CommonPanelConfig.rankingHelpPanel,data:{rankingType:p.RankingType.QualifyingScore}})},t.prototype.reset=function(){this.myQualifyingRanking.node.active=!1,this.rankingTopThreeLayNode.getComponent(f.default).initTopThreeUI(),this.itemList=[],this._virtualNodes=[],this.qualifyingRankingItemScrollView.stopAutoScroll(),this.qualifyingRankingItemParentNode.position=cc.v3(),this._itemNodeAll=[];for(var e=this.qualifyingRankingItemParentNode.children.length-1;e>=0;--e)this._itemNodeAll.push(this.qualifyingRankingItemParentNode.children[e]),this.qualifyingRankingItemParentNode.children[e].active=!1},t.prototype.getQualifyingRankingData=function(){var e=this;u.gameApi.getRankingList({type:p.RankingType.QualifyingScore,page:"1",size:"50"}).then(function(t){var n,o,i=!1;if((null===(o=null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.rankings)||void 0===o?void 0:o.length)>0)for(var a=0,r=t.data.rankings;a<r.length;a++){var u=r[a];if(u.type===p.RankingType.QualifyingScore){for(var g=0;g<u.list.length;g++)i=!0,g<3?e.rankingTopThreeLayNode.getComponent(f.default).topThree.push(u.list[g]):e.itemList.push(u.list[g]);e.myQualifyingRanking.rankingUserInfo=u.my;break}}if(i)e.myQualifyingRanking.rankingUserInfo?(e.myQualifyingRanking.updateUI(),e.myRank.getComponent(d.default).updataUI(e.myQualifyingRanking.rankingUserInfo.ranking),e.myQualifyingRanking.node.active=!0):e.myQualifyingRanking.node.active=!1,e.init(),e.rankingTopThreeLayNode.getComponent(f.default).updateTopThreeUI(),e.checkFistPanel();else{var m="toast.rankingListFail";t.status===h.FlatHttpResponseCode.Success&&(m="toast.rankingNotData"),l.gg.panelRouter.show({panel:s.CommonPanelConfig.toastPanel,data:{text:c.i18n.getText(m)}})}}).catch(function(e){l.gg.logger.error(e),l.gg.panelRouter.hide({panel:s.CommonPanelConfig.loadingPanel,onHided:function(){l.gg.panelRouter.show({panel:s.CommonPanelConfig.toastPanel,data:{text:c.i18n.getText("toast.rankingListFail")}})}})})},t.prototype.checkFistPanel=function(){var e=!0,t=l.gg.localStorage.getItem(g.RankingStorageConfig.RankingTatalQualifyingTimeStr);if(""!==t){var n=parseInt(t),o=Math.floor(n/864e5);Math.floor(Date.now()/864e5)===o&&(e=!1)}var i=this.rankingTopThreeLayNode.getComponent(f.default).topThree;e&&i.length>0&&l.gg.panelRouter.show({panel:s.CommonPanelConfig.rankingFristExhibitPanel,data:{rankingUserInfo:i[0]}}),l.gg.localStorage.setItem(g.RankingStorageConfig.RankingTatalQualifyingTimeStr,Date.now().toString())},t.prototype.getItemNode=function(){var e=this._itemNodeAll.pop();return e||(e=cc.instantiate(this.qualifyingRankingItemNode),this.qualifyingRankingItemParentNode.addChild(e)),e},t.prototype.init=function(){this.itemList&&this.itemList.length>0&&(this._virtualNodes=this.itemList.map(function(){return null}),this._updateListWidth(),this.qualifyingRankingItemParentNode.position=cc.v3(),this._updateList())},t.prototype._updateListWidth=function(){var e=this.itemList.length;this.qualifyingRankingItemParentNode.height=this.paddingTop+this.paddingBottom+this.qualifyingRankingItemNodeHeight*e+this.spaceingY*e,this.qualifyingRankingItemParentNode.height<this.qualifyingRankingItemScrollView.node.height&&(this.qualifyingRankingItemParentNode.height=this.qualifyingRankingItemScrollView.node.height)},t.prototype._onPositionChanged=function(){var e=Date.now();(e-this.lastTimer)/1e3>=.1&&(this.lastTimer=e,this._updateList())},t.prototype._updateList=function(){for(var e=0;e<this._virtualNodes.length;++e){var t=this._virtualNodes[e];if(this._isVisable(e)){null==t&&(t=this.getItemNode()),this._virtualNodes[e]=t,t.position=this._convertIndexToPosition(e);var n=t.getComponent(m.default);n.rankingUserInfo=this.itemList[e],n.updateUI()}else t&&(t.active=!1,this._itemNodeAll.push(t)),this._virtualNodes[e]=null}},t.prototype._isVisable=function(e){var t=this._convertIndexToPosition(e),n=-this.qualifyingRankingItemParentNode.position.y+this.visableAreaMarginTop,o=n-this.visableAreaMarginTop-this.qualifyingRankingItemScrollView.node.height-this.visableAreaMarginBottom;return t.y+.5*this.qualifyingRankingItemNodeHeight<=n&&t.y-.5*this.qualifyingRankingItemNodeHeight>=o},t.prototype._convertIndexToPosition=function(e){return cc.v3(0,-this.paddingTop-this.qualifyingRankingItemNodeHeight*(e+.5)-e*this.spaceingY)},a([v({type:cc.Node,tooltip:"\u81ea\u5df1\u540d\u6b21\u7ec4\u4ef6"})],t.prototype,"myRank",void 0),a([v({type:cc.Node,tooltip:"\u524d\u4e09\u540d\u73a9\u5bb6\u7ec4\u4ef6"})],t.prototype,"rankingTopThreeLayNode",void 0),a([v({type:m.default,tooltip:"\u73a9\u5bb6\u81ea\u5df1\u7684\u6392\u540d"})],t.prototype,"myQualifyingRanking",void 0),a([v({type:cc.ScrollView,tooltip:"\u6bb5\u4f4dScrollView"})],t.prototype,"qualifyingRankingItemScrollView",void 0),a([v({type:cc.Node,tooltip:"\u6bb5\u4f4d\u7236\u8282\u70b9"})],t.prototype,"qualifyingRankingItemParentNode",void 0),a([v({type:cc.Prefab,tooltip:"\u6bb5\u4f4d\u9884\u5236\u8282\u70b9"})],t.prototype,"qualifyingRankingItemNode",void 0),a([v({tooltip:"\u9884\u5236\u4f53item\u8282\u70b9\u7684\u9ad8\u5ea6"})],t.prototype,"qualifyingRankingItemNodeHeight",void 0),a([v({tooltip:"Item \u95f4\u9694\uff08px\uff09"})],t.prototype,"spaceingY",void 0),a([v({tooltip:"Item \u8ddd\u79bb\u4e0a\u8fb9\uff08px\uff09"})],t.prototype,"paddingTop",void 0),a([v({tooltip:"Item \u8ddd\u79bb\u4e0b\u8fb9\uff08px\uff09"})],t.prototype,"paddingBottom",void 0),a([v({tooltip:"\u53ef\u89c6\u533a\u57df margin, \u8d1f\u6570\u4e3a\u5f80\u5916\u6269\u5c55"})],t.prototype,"visableAreaMarginTop",void 0),a([v({tooltip:"\u53ef\u89c6\u533a\u57df margin, \u8d1f\u6570\u4e3a\u5f80\u5916\u6269\u5c55"})],t.prototype,"visableAreaMarginBottom",void 0),a([_],t)}(cc.Component);n.default=b,cc._RF.pop()},{"../../../../../../main/scripts/configs/CommonPanelConfig":"CommonPanelConfig","../../../../../../main/scripts/framework/gg":"gg","../../../../../../main/scripts/framework/i18n/I18n":"I18n","../../../../../../main/scripts/systems/api/gameapi/GameApi":"GameApi","../../../../../../main/scripts/systems/api/gameapi/GameApiModels":"GameApiModels","../../../../../../main/scripts/systems/api/gamecenter/GameCenterApiModels":"GameCenterApiModels","../RankingStorageConfig":"RankingStorageConfig","../components/MyRankComponent":"MyRankComponent","../components/RankingQualifyingTopThreeLayComponent":"RankingQualifyingTopThreeLayComponent","./QualifyingRankingItemComponent":"QualifyingRankingItemComponent"}],QualifyingRankingItemComponent:[function(e,t,n){"use strict";cc._RF.push(t,"357a7FYWgBBLbAbxz06y6jB","QualifyingRankingItemComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=l(e("../../../../../../main/scripts/components/GradeStarComponent")),u=l(e("../../../../../../main/scripts/components/UserIconStyle1Component")),p=e("../../../../../../main/scripts/configs/CommonPanelConfig"),h=e("../../../../../../main/scripts/framework/gg"),d=l(e("../../../../../../main/scripts/framework/utils/StringUtils")),f=e("../../../../../../main/scripts/systems/user/UserUISystem"),g=cc._decorator,m=g.ccclass,y=g.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.playerRankingLab=null,t.playerNameLab=null,t.gradeStarComponent=null,t.playerIcon=null,t.vipSprite=null,t.rankingUserInfo=null,t.userIconId=null,t.userFrameId=null,t.userGradeData=0,t.userStar=1,t.vipInfo=null,t}return i(t,e),t.prototype.updateUI=function(){var e,t,n,o,i,a,l,p,h,f,g,m,y,_;return r(this,void 0,void 0,function(){return s(this,function(){return this.updataUserVip(),this.node.active=!0,this.playerNameLab.string=d.default.clampStr(this.rankingUserInfo.nick,15),this.playerRankingLab&&(this.playerRankingLab.string=this.rankingUserInfo.ranking+""),(null===(e=this.rankingUserInfo)||void 0===e?void 0:e.grade)==this.userGradeData&&(null===(t=this.rankingUserInfo)||void 0===t?void 0:t.star)==this.userStar||this.gradeStarComponent.getComponent(c.default).updateStarUI(this.rankingUserInfo.star,this.rankingUserInfo.grade),(null===(n=this.rankingUserInfo)||void 0===n?void 0:n.facelook)!=this.userIconId&&this.playerIcon.getComponent(u.default).updateIcon(null!==(i=null===(o=this.rankingUserInfo)||void 0===o?void 0:o.facelook)&&void 0!==i?i:""),(null===(a=this.rankingUserInfo)||void 0===a?void 0:a.frame)!=this.userFrameId&&this.playerIcon.getComponent(u.default).updateIconFrame(null!==(p=null===(l=this.rankingUserInfo)||void 0===l?void 0:l.frame)&&void 0!==p?p:""),this.userIconId=null!==(f=null===(h=this.rankingUserInfo)||void 0===h?void 0:h.facelook)&&void 0!==f?f:"",this.userFrameId=null!==(m=null===(g=this.rankingUserInfo)||void 0===g?void 0:g.frame)&&void 0!==m?m:"",this.userGradeData=null!==(y=this.rankingUserInfo.grade)&&void 0!==y?y:0,this.userStar=null!==(_=this.rankingUserInfo.grade)&&void 0!==_?_:1,[2]})})},t.prototype.updataUserVip=function(){var e,t,n,o;return r(this,void 0,void 0,function(){var i;return s(this,function(a){switch(a.label){case 0:return(null===(e=this.rankingUserInfo)||void 0===e?void 0:e.vip_info)?(this.vipSprite.node.active=!0,this.vipInfo==(null===(t=this.rankingUserInfo)||void 0===t?void 0:t.vip_info)?[3,2]:(i=this.vipSprite,[4,f.userUISystem.loadUserVipIcon(this.rankingUserInfo.vip_info.vip_level,this.rankingUserInfo.vip_info.vip_status)])):[3,3];case 1:i.spriteFrame=a.sent(),a.label=2;case 2:return[3,4];case 3:this.vipSprite.node.active=!1,a.label=4;case 4:return this.vipInfo=null!==(o=null===(n=this.rankingUserInfo)||void 0===n?void 0:n.vip_info)&&void 0!==o?o:null,[2]}})})},t.prototype.onClickShowUserInfo=function(){h.gg.panelRouter.show({panel:p.CommonPanelConfig.userInfoPanel,data:{qurey_uid:this.rankingUserInfo.uid,userName:this.rankingUserInfo.nick,userIcon:this.rankingUserInfo.facelook,userIconFrame:this.rankingUserInfo.frame}})},a([y({type:cc.Label,tooltip:"\u73a9\u5bb6\u6392\u540d"})],t.prototype,"playerRankingLab",void 0),a([y({type:cc.Label,tooltip:"\u73a9\u5bb6\u540d\u5b57"})],t.prototype,"playerNameLab",void 0),a([y({type:cc.Node,tooltip:"\u7528\u6237\u6bb5\u4f4d\u661f\u661f\u4e2a\u6570\u5e03\u5c40"})],t.prototype,"gradeStarComponent",void 0),a([y({type:cc.Node,tooltip:"\u73a9\u5bb6\u5934\u50cf\u4fe1\u606f"})],t.prototype,"playerIcon",void 0),a([y({type:cc.Sprite,tooltip:"\u7528\u6237vip\u56fe\u6807"})],t.prototype,"vipSprite",void 0),a([m],t)}(cc.Component);n.default=_,cc._RF.pop()},{"../../../../../../main/scripts/components/GradeStarComponent":"GradeStarComponent","../../../../../../main/scripts/components/UserIconStyle1Component":"UserIconStyle1Component","../../../../../../main/scripts/configs/CommonPanelConfig":"CommonPanelConfig","../../../../../../main/scripts/framework/gg":"gg","../../../../../../main/scripts/framework/utils/StringUtils":"StringUtils","../../../../../../main/scripts/systems/user/UserUISystem":"UserUISystem"}],Quaternion:[function(e,t,n){"use strict";cc._RF.push(t,"5d2fchgyeJOcaeatkb3is4W","Quaternion"),Object.defineProperty(n,"__esModule",{value:!0}),n.Quaternion=void 0;var o=e("./Vector3"),i=e("./Matrix4x4"),a=e("./Matrix3x3"),r=e("./MathUtils3D"),s=e("./Vector2"),l=new o.Vector3,c=new o.Vector3,u=new o.Vector3,p=new o.Vector3,h=new a.Matrix3x3,d=function(){function e(e,t,n,o){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===o&&(o=1),this.x=e,this.y=t,this.z=n,this.w=o}return e.createFromYawPitchRoll=function(e,t,n,o){var i=.5*n,a=.5*t,r=.5*e,s=Math.sin(i),l=Math.cos(i),c=Math.sin(a),u=Math.cos(a),p=Math.sin(r),h=Math.cos(r);o.x=h*c*l+p*u*s,o.y=p*u*l-h*c*s,o.z=h*u*s-p*c*l,o.w=h*u*l+p*c*s},e.multiply=function(e,t,n){var o=e.x,i=e.y,a=e.z,r=e.w,s=t.x,l=t.y,c=t.z,u=t.w,p=i*c-a*l,h=a*s-o*c,d=o*l-i*s,f=o*s+i*l+a*c;n.x=o*u+s*r+p,n.y=i*u+l*r+h,n.z=a*u+c*r+d,n.w=r*u-f},e.rotationAxisAngle=function(e,t,n){var i=o.Vector3._tempVector3;o.Vector3.normalize(e,i),t*=.5;var a=Math.sin(t);n.x=i.x*a,n.y=i.y*a,n.z=i.z*a,n.w=Math.cos(t)},e.arcTanAngle=function(e,t){return 0==e?1==t?Math.PI/2:-Math.PI/2:e>0?Math.atan(t/e):e<0?t>0?Math.atan(t/e)+Math.PI:Math.atan(t/e)-Math.PI:0},e.angleTo=function(t,n,i){o.Vector3.subtract(n,t,l),o.Vector3.normalize(l,l),i.x=Math.asin(l.y),i.y=e.arcTanAngle(-l.z,-l.x)},e.createFromAxisAngle=function(e,t,n){t*=.5;var o=Math.sin(t);n.x=o*e.x,n.y=o*e.y,n.z=o*e.z,n.w=Math.cos(t)},e.createFromMatrix4x4=function(e,t){var n,o,i=e.elements,a=i[0]+i[5]+i[10];a>0?(n=Math.sqrt(a+1),t.w=.5*n,n=.5/n,t.x=(i[6]-i[9])*n,t.y=(i[8]-i[2])*n,t.z=(i[1]-i[4])*n):i[0]>=i[5]&&i[0]>=i[10]?(o=.5/(n=Math.sqrt(1+i[0]-i[5]-i[10])),t.x=.5*n,t.y=(i[1]+i[4])*o,t.z=(i[2]+i[8])*o,t.w=(i[6]-i[9])*o):i[5]>i[10]?(o=.5/(n=Math.sqrt(1+i[5]-i[0]-i[10])),t.x=(i[4]+i[1])*o,t.y=.5*n,t.z=(i[9]+i[6])*o,t.w=(i[8]-i[2])*o):(o=.5/(n=Math.sqrt(1+i[10]-i[0]-i[5])),t.x=(i[8]+i[2])*o,t.y=(i[9]+i[6])*o,t.z=.5*n,t.w=(i[1]-i[4])*o)},e.slerp=function(e,t,n,o){var i,a,r,s,l,c=e.x,u=e.y,p=e.z,h=e.w,d=t.x,f=t.y,g=t.z,m=t.w;return(a=c*d+u*f+p*g+h*m)<0&&(a=-a,d=-d,f=-f,g=-g,m=-m),1-a>1e-6?(i=Math.acos(a),r=Math.sin(i),s=Math.sin((1-n)*i)/r,l=Math.sin(n*i)/r):(s=1-n,l=n),o.x=s*c+l*d,o.y=s*u+l*f,o.z=s*p+l*g,o.w=s*h+l*m,o},e.lerp=function(t,n,o,i){var a=1-o;e.dot(t,n)>=0?(i.x=a*t.x+o*n.x,i.y=a*t.y+o*n.y,i.z=a*t.z+o*n.z,i.w=a*t.w+o*n.w):(i.x=a*t.x-o*n.x,i.y=a*t.y-o*n.y,i.z=a*t.z-o*n.z,i.w=a*t.w-o*n.w),i.normalize(i)},e.add=function(e,t,n){n.x=e.x+t.x,n.y=e.y+t.y,n.z=e.z+t.z,n.w=e.w+t.w},e.dot=function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z+e.w*t.w},e.prototype.setValue=function(e,t,n,o){this.x=e,this.y=t,this.z=n,this.w=o},e.prototype.set=function(e,t,n,o){return this.x=e,this.y=t,this.z=n,this.w=o,this},e.prototype.scaling=function(e,t){t.x=this.x*e,t.y=this.y*e,t.z=this.z*e,t.w=this.w*e},e.prototype.normalize=function(e){var t=this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w;t>0&&(t=1/Math.sqrt(t),e.x=this.x*t,e.y=this.y*t,e.z=this.z*t,e.w=this.w*t)},e.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},e.prototype.rotateX=function(e,t){e*=.5;var n=Math.sin(e),o=Math.cos(e);t.x=this.x*o+this.w*n,t.y=this.y*o+this.z*n,t.z=this.z*o-this.y*n,t.w=this.w*o-this.x*n},e.prototype.rotateY=function(e,t){e*=.5;var n=Math.sin(e),o=Math.cos(e);t.x=this.x*o-this.z*n,t.y=this.y*o+this.w*n,t.z=this.z*o+this.x*n,t.w=this.w*o-this.y*n},e.prototype.rotateZ=function(e,t){e*=.5;var n=Math.sin(e),o=Math.cos(e);t.x=this.x*o+this.y*n,t.y=this.y*o-this.x*n,t.z=this.z*o+this.w*n,t.w=this.w*o-this.z*n},e.prototype.getYawPitchRoll=function(t){o.Vector3.transformQuat(o.Vector3.ForwardRH,this,c),o.Vector3.transformQuat(o.Vector3.Up,this,u);var n=u;e.angleTo(o.Vector3.ZERO,c,p);var a=p;a.x==Math.PI/2?(a.y=e.arcTanAngle(n.z,n.x),a.z=0):a.x==-Math.PI/2?(a.y=e.arcTanAngle(-n.z,-n.x),a.z=0):(i.Matrix4x4.createRotationY(-a.y,i.Matrix4x4.TEMPMatrix0),i.Matrix4x4.createRotationX(-a.x,i.Matrix4x4.TEMPMatrix1),o.Vector3.transformCoordinate(u,i.Matrix4x4.TEMPMatrix0,u),o.Vector3.transformCoordinate(u,i.Matrix4x4.TEMPMatrix1,u),a.z=e.arcTanAngle(n.y,-n.x)),a.y<=-Math.PI&&(a.y=Math.PI),a.z<=-Math.PI&&(a.z=Math.PI),a.y>=Math.PI&&a.z>=Math.PI&&(a.y=0,a.z=0,a.x=Math.PI-a.x);var r=t;r.x=a.y,r.y=a.x,r.z=a.z},e.prototype.invert=function(e){var t=this.x,n=this.y,o=this.z,i=this.w,a=t*t+n*n+o*o+i*i,r=a?1/a:0;e.x=-t*r,e.y=-n*r,e.z=-o*r,e.w=i*r},e.prototype.identity=function(){this.x=0,this.y=0,this.z=0,this.w=1},e.prototype.fromArray=function(e,t){void 0===t&&(t=0),this.x=e[t+0],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3]},e.prototype.cloneTo=function(e){this!==e&&(e.x=this.x,e.y=this.y,e.z=this.z,e.w=this.w)},e.prototype.clone=function(){var t=new e;return this.cloneTo(t),t},e.prototype.equals=function(e){return r.MathUtils3D.nearEqual(this.x,e.x)&&r.MathUtils3D.nearEqual(this.y,e.y)&&r.MathUtils3D.nearEqual(this.z,e.z)&&r.MathUtils3D.nearEqual(this.w,e.w)},e.rotationLookAt=function(t,n,i){e.lookAt(o.Vector3.ZERO,t,n,i)},e.lookAt=function(t,n,o,i){a.Matrix3x3.lookAt(t,n,o,h),e.rotationMatrix(h,i)},e.forwardLookAt=function(t,n,o,i){a.Matrix3x3.forwardLookAt(t,n,o,h),e.rotationMatrix(h,i)},e.prototype.lengthSquared=function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},e.invert=function(e,t){var n=e.lengthSquared();r.MathUtils3D.isZero(n)||(n=1/n,t.x=-e.x*n,t.y=-e.y*n,t.z=-e.z*n,t.w=e.w*n)},e.rotationMatrix=function(e,t){var n,o,i=e.elements,a=i[0],r=i[1],s=i[2],l=i[3],c=i[4],u=i[5],p=i[6],h=i[7],d=i[8],f=a+c+d;f>0?(n=Math.sqrt(f+1),t.w=.5*n,n=.5/n,t.x=(u-h)*n,t.y=(p-s)*n,t.z=(r-l)*n):a>=c&&a>=d?(o=.5/(n=Math.sqrt(1+a-c-d)),t.x=.5*n,t.y=(r+l)*o,t.z=(s+p)*o,t.w=(u-h)*o):c>d?(o=.5/(n=Math.sqrt(1+c-a-d)),t.x=(l+r)*o,t.y=.5*n,t.z=(h+u)*o,t.w=(p-s)*o):(o=.5/(n=Math.sqrt(1+d-a-c)),t.x=(p+s)*o,t.y=(h+u)*o,t.z=.5*n,t.w=(r-l)*o)},e.prototype.forNativeElement=function(e){void 0===e&&(e=null),e?(this.elements=e,this.elements[0]=this.x,this.elements[1]=this.y,this.elements[2]=this.z,this.elements[3]=this.w):this.elements=new Float32Array([this.x,this.y,this.z,this.w]),s.Vector2.rewriteNumProperty(this,"x",0),s.Vector2.rewriteNumProperty(this,"y",1),s.Vector2.rewriteNumProperty(this,"z",2),s.Vector2.rewriteNumProperty(this,"w",3)},e.TEMP=new e,e.DEFAULT=new e,e.NAN=new e(NaN,NaN,NaN,NaN),e}();n.Quaternion=d,cc._RF.pop()},{"./MathUtils3D":"MathUtils3D","./Matrix3x3":"Matrix3x3","./Matrix4x4":"Matrix4x4","./Vector2":"Vector2","./Vector3":"Vector3"}],QueueTask:[function(e,t,n){"use strict";cc._RF.push(t,"98fa5Ky3uVOV5WT7xC+FvE7","QueueTask");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.QueueTask=void 0;var i=o(e("./Queue")),a=function(){function e(){this._queue=new i.default,this._enableRun=!1,this._isRunning=!1}return e.prototype.add=function(e){this._queue.push(e),this._isRunning||(this._enableRun=!0,this._isRunning=!0,this._run())},e.prototype.stop=function(){this._isRunning=!1,this._enableRun=!1,this._queue.clear()},e.prototype._run=function(){var e=this;if(this._enableRun){var t=this._queue.pop();t&&t.execute(function(){0==e._queue.size()?e._isRunning=!1:e._run()})}},e}();n.QueueTask=a,cc._RF.pop()},{"./Queue":"Queue"}],Queue:[function(e,t,n){"use strict";cc._RF.push(t,"20d51gLuExBl4qneL7MElwa","Queue"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){this._array=new Array}return e.prototype.push=function(e){return null!=e&&(this._array.push(e),!0)},e.prototype.pop=function(){return this._array.shift()},e.prototype.first=function(){return this.isEmpty()?null:this._array[0]},e.prototype.last=function(){return this.isEmpty()?null:this._array[this.size()-1]},e.prototype.size=function(){return this._array.length},e.prototype.isEmpty=function(){return 0===this.size()},e.prototype.clear=function(){this._array=[]},e}();n.default=o,cc._RF.pop()},{}],RadioBoxComponent:[function(e,t,n){"use strict";cc._RF.push(t,"9d284pUTT9FRLaC5OPzMEhu","RadioBoxComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../framework/gg"),l=r(e("./RadioBoxOptionComponent")),c=cc._decorator,u=c.ccclass,p=c.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.optionsParentNode=null,t.optionNode=null,t.nodePool=new cc.NodePool(l.default),t.selectedIndex=null,t}var n;return i(t,e),n=t,t.prototype.getNode=function(){var e=this.nodePool.get();return e||(e=cc.instantiate(this.optionNode)),e},t.prototype.putNode=function(e){this.nodePool.put(e)},t.prototype.updateSelectedRadio=function(e){if(this.selectedIndex!=e){var t=this.optionsParentNode.children[e],o=this.optionsParentNode.children[this.selectedIndex];t?(t.getComponent(l.default).checkedIcon.active=!0,o&&(o.getComponent(l.default).checkedIcon.active=!1),this.selectedIndex=e,this.node.emit(n.OnRadioBoxSelectedChanged,e)):s.gg.logger.error("\u51fa\u9519\u4e86")}},t.prototype.reset=function(){for(var e=this.optionsParentNode.children.length-1;e>=0;--e)this.putNode(this.optionsParentNode.children[e]);this.selectedIndex=null},t.prototype.init=function(e){this.reset();for(var t=0,n=e;t<n.length;t++){var o=n[t],i=this.getNode();i.parent=this.optionsParentNode,i.getComponent(l.default).init(o),i.on("click",this.onClick,this)}},t.prototype.onClick=function(e){var t=e.node.getSiblingIndex();this.updateSelectedRadio(t)},t.OnRadioBoxSelectedChanged="RadioBoxComponent.OnRadioBoxSelectedChanged",a([p({type:cc.Node,tooltip:"\u5355\u9009\u6846\u7236\u8282\u70b9"})],t.prototype,"optionsParentNode",void 0),a([p({type:cc.Node,tooltip:"\u5355\u9009\u6846\u8282\u70b9"})],t.prototype,"optionNode",void 0),n=a([u],t)}(cc.Component);n.default=h,cc._RF.pop()},{"../framework/gg":"gg","./RadioBoxOptionComponent":"RadioBoxOptionComponent"}],RadioBoxOptionComponent:[function(e,t,n){"use strict";cc._RF.push(t,"22c37bf+tJHArsHIO0wKLmq","RadioBoxOptionComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=r.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.radioLabel=null,t.checkedIcon=null,t}return i(t,e),t.prototype.init=function(e){this.radioLabel.string=e,this.checkedIcon.active=!1,this.node.getComponent(cc.Layout)&&this.node.getComponent(cc.Layout).updateLayout()},a([l({type:cc.Label,tooltip:"\u9009\u9879\u6587\u672c\u8282\u70b9"})],t.prototype,"radioLabel",void 0),a([l({type:cc.Node,tooltip:"\u9009\u4e2dIcon"})],t.prototype,"checkedIcon",void 0),a([s],t)}(cc.Component);n.default=c,cc._RF.pop()},{}],RankAwardItem:[function(e,t,n){"use strict";cc._RF.push(t,"c946eyTqQRPPZGeapP6Lu1R","RankAwardItem");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../../../../../main/scripts/framework/gg"),s=e("../../../../../../main/scripts/framework/i18n/I18n"),l=e("../../../../../../main/scripts/systems/api/gameapi/GameApiModels"),c=e("../../../../../../main/scripts/systems/item/CommonItemConfig"),u=e("../../../../../../main/scripts/systems/item/ItemSystem"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iconFrame=[],t.iconSprite=null,t.spine=null,t.iconNumLab=null,t.iconName=null,t.awardModel=null,t.itemScale={avatar_frame:.35,chat_bubble:.3,baloot_card:.5,baloot_bg:.3,ludo_chessboard:.3,ludo_dice:.7,game_gift:.6},t}return i(t,e),t.prototype.updataUI=function(e){var t,n,o=this;if(e.award_type===l.AwardType.Item){var i=!0;e.item_id===(null===(t=this.awardModel)||void 0===t?void 0:t.item_id)&&(i=!1),this.awardModel=e;var a=u.itemSystem.getItem(this.awardModel.item_id);this.iconName.string=null!==(n=null==a?void 0:a.item_name_ar)&&void 0!==n?n:"",(null==a?void 0:a.item_class)===l.ItemClass.design?this.iconNumLab.string=s.i18n.getText("item.dayNum",this.awardModel.effective_days):this.iconNumLab.string=this.awardModel.count+"",i&&(this.iconSprite.node.active=!1,this.spine.node.active=!1,u.itemSystem.getItemIconInfo(this.awardModel.item_id).then(function(e){null!=e&&(e.iconType===c.IconType.Image?(o.iconSprite.spriteFrame=e.spriteFrame,o.iconSprite.node.active=!0):e.iconType===c.IconType.Dragon?r.gg.logger.log("\u5f53\u524d\u7248\u672c\u4e0d\u652f\u6301\u9f99\u9aa8\u6570\u636e-\u8bf7\u68c0\u67e5\u914d\u7f6e\u8868"):e.iconType===c.IconType.Spine&&(o.spine.skeletonData=e.spineData,o.spine.node.active=!0,o.spine.setAnimation(0,"animation",!0)),o.itemScale[a.item_type]?(o.iconSprite.node.scale=o.itemScale[a.item_type],o.spine.node.scale=o.itemScale[a.item_type]):(o.iconSprite.node.scale=.7,o.spine.node.scale=.7))}))}else this.awardModel=e,this.spine.node.active=!1,this.iconSprite.node.active=!0,this.iconSprite.node.scale=.7,e.award_type===l.AwardType.Coin?(this.iconSprite.spriteFrame=this.iconFrame[0],this.iconName.string=s.i18n.getText("ranking.helpCoin")):(this.iconSprite.spriteFrame=this.iconFrame[1],this.iconName.string=s.i18n.getText("storanking.helpDiamond")),this.iconNumLab.string="X"+this.awardModel.count},a([d({type:cc.SpriteFrame,tooltip:"\u91d1\u5e01/\u94bb\u77f3\u56fe\u96c6"})],t.prototype,"iconFrame",void 0),a([d({type:cc.Sprite,tooltip:"\u9053\u5177\u56fe\u6807"})],t.prototype,"iconSprite",void 0),a([d({type:sp.Skeleton,tooltip:"\u9053\u5177spine"})],t.prototype,"spine",void 0),a([d({type:cc.Label,tooltip:"\u9053\u5177\u56fe\u6807\u4e2a\u6570"})],t.prototype,"iconNumLab",void 0),a([d({type:cc.Label,tooltip:"\u9053\u5177\u540d\u79f0"})],t.prototype,"iconName",void 0),a([h],t)}(cc.Component);n.default=f,cc._RF.pop()},{"../../../../../../main/scripts/framework/gg":"gg","../../../../../../main/scripts/framework/i18n/I18n":"I18n","../../../../../../main/scripts/systems/api/gameapi/GameApiModels":"GameApiModels","../../../../../../main/scripts/systems/item/CommonItemConfig":"CommonItemConfig","../../../../../../main/scripts/systems/item/ItemSystem":"ItemSystem"}],RankOnlinePanel:[function(e,t,n){"use strict";cc._RF.push(t,"92127hWeyRK5IzZynvvXJFJ","RankOnlinePanel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=l(e("../../../components/UserIconStyle1Component")),u=e("../../../configs/CommonAudioConfig"),p=e("../../../configs/CommonPanelConfig"),h=e("../../../framework/gg"),d=e("../../../framework/i18n/I18n"),f=e("../../../framework/panelrouter/PanelComponent"),g=l(e("../../../framework/utils/StringUtils")),m=e("../../../systems/api/gameapi/GameApiModels"),y=e("../../../systems/rankOnline/RankOnlineSystem"),_=e("../../../systems/user/UserUISystem"),v=cc._decorator,b=v.ccclass,S=v.property,C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rankContent=null,t.userName=null,t.userHeadNode=null,t.rankNodes=[],t.typeNodes=[],t.noteNode=null,t.noteLable=null,t.userGrade=null,t.userStage=null,t.dtX=100,t.isShowing=!1,t}return i(t,e),t.prototype.onLoad=function(){this.rankContent.opacity=0},t.prototype.onDisable=function(){this.reset()},t.prototype.reset=function(){this.unscheduleAllCallbacks(),this.rankContent.stopAllActions(),this.rankContent.x=0,this.rankContent.opacity=0},t.prototype.show=function(e){this.isShowing?e.onShowed():(y.rankOnlineSystem.hasMessage()&&this.newFloatingApplication(y.rankOnlineSystem.pop()),e.onShowed())},t.prototype.hide=function(e){this.isShowing=!1,this.hideAnim(function(){e.onHided()})},t.prototype.hideAnim=function(e){this.rankContent.stopAllActions(),this.rankContent.x=0,cc.tween(this.rankContent).to(.128,{opacity:0},{easing:"sineOut"}).call(function(){e()}).start()},t.prototype.newFloatingApplication=function(e){var t=this;h.gg.audio.playOneShot(u.CommonAudioConfig.rankOnline),this.isShowing=!0,this.updateUI(e),this.rankContent.stopAllActions(),this.rankContent.x=-this.rankContent.width-this.dtX,this.rankContent.opacity=255,cc.tween(this.rankContent).to(.3,{x:0},{easing:"sineOut"}).call(function(){t.scheduleOnce(function(){y.rankOnlineSystem.hasMessage()?(t.newFloatingApplication(y.rankOnlineSystem.pop()),h.gg.panelRouter.show({panel:p.CommonPanelConfig.rankOnlinePanel})):h.gg.panelRouter.hide({panel:p.CommonPanelConfig.rankOnlinePanel})},1.8)}).start()},t.prototype.updateUI=function(e){return r(this,void 0,void 0,function(){var t,n,o,i,a;return s(this,function(r){switch(r.label){case 0:for(this.userName.string=g.default.clampStr(e.nick,10),this.userHeadNode.getComponent(c.default).updateIcon(e.facelook),this.userHeadNode.getComponent(c.default).updateIconFrame(e.frame),t=0;t<this.rankNodes.length;t++)n=Number(e.ranking),this.rankNodes[t].active=!1,t===n-1&&(this.rankNodes[t].active=!0);for(o=0,i=this.typeNodes;o<i.length;o++)i[o].active=!1;switch(this.noteNode.active=!1,e.type){case m.RankingType.TotalCoin:return[3,1];case m.RankingType.TotalDiamond:return[3,2];case m.RankingType.TotalLevel:return[3,3];case m.RankingType.TotalCharm:return[3,4];case m.RankingType.MonthCharm:return[3,5];case m.RankingType.WeekCharm:return[3,6];case m.RankingType.TotalFashion:return[3,7];case m.RankingType.MonthFashion:return[3,8];case m.RankingType.WeekFashion:return[3,9];case m.RankingType.QualifyingScore:return[3,10]}return[3,12];case 1:return this.typeNodes[0].active=!0,[3,12];case 2:return this.typeNodes[1].active=!0,[3,12];case 3:return this.typeNodes[2].active=!0,[3,12];case 4:return this.typeNodes[3].active=!0,this.noteNode.active=!0,this.noteLable.string=d.i18n.getText("ranking.onLineTatal"),[3,12];case 5:return this.typeNodes[3].active=!0,this.noteNode.active=!0,this.noteLable.string=d.i18n.getText("ranking.onLineMonth"),[3,12];case 6:return this.typeNodes[3].active=!0,this.noteNode.active=!0,this.noteLable.string=d.i18n.getText("ranking.onLineWeek"),[3,12];case 7:return this.typeNodes[4].active=!0,this.noteNode.active=!0,this.noteLable.string=d.i18n.getText("ranking.onLineTatal"),[3,12];case 8:return this.typeNodes[4].active=!0,this.noteNode.active=!0,this.noteLable.string=d.i18n.getText("ranking.onLineMonth"),[3,12];case 9:return this.typeNodes[4].active=!0,this.noteNode.active=!0,this.noteLable.string=d.i18n.getText("ranking.onLineWeek"),[3,12];case 10:return this.typeNodes[5].active=!0,[4,_.userUISystem.loadUserGrade(e.grade)];case 11:return(a=r.sent())&&(this.userGrade.spriteFrame=a[0],this.userStage.spriteFrame=a[1]),[3,12];case 12:return[2]}})})},a([S({type:cc.Node,tooltip:"\u5185\u5bb9\u8282\u70b9"})],t.prototype,"rankContent",void 0),a([S({type:cc.Label,tooltip:"\u73a9\u5bb6\u540d\u5b57"})],t.prototype,"userName",void 0),a([S({type:cc.Node,tooltip:"\u73a9\u5bb6\u5934\u50cf\u4fe1\u606f"})],t.prototype,"userHeadNode",void 0),a([S({type:cc.Node,tooltip:"\u73a9\u5bb6\u6392\u540d"})],t.prototype,"rankNodes",void 0),a([S({type:cc.Node,tooltip:"\u6392\u884c\u699c\u7c7b\u578b\u56fe\u6807"})],t.prototype,"typeNodes",void 0),a([S({type:cc.Node,tooltip:"\u5468/\u6708/\u603b\u4e0b\u6807\u8282\u70b9"})],t.prototype,"noteNode",void 0),a([S({type:cc.Label,tooltip:"\u5468/\u6708/\u603b\u4e0b\u6807\u6587\u672c"})],t.prototype,"noteLable",void 0),a([S({type:cc.Sprite,tooltip:"\u7528\u6237\u5927\u6bb5\u4f4d"})],t.prototype,"userGrade",void 0),a([S({type:cc.Sprite,tooltip:"\u7528\u6237\u5c0f\u6bb5"})],t.prototype,"userStage",void 0),a([b],t)}(f.PanelComponent);n.default=C,cc._RF.pop()},{"../../../components/UserIconStyle1Component":"UserIconStyle1Component","../../../configs/CommonAudioConfig":"CommonAudioConfig","../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../framework/gg":"gg","../../../framework/i18n/I18n":"I18n","../../../framework/panelrouter/PanelComponent":"PanelComponent","../../../framework/utils/StringUtils":"StringUtils","../../../systems/api/gameapi/GameApiModels":"GameApiModels","../../../systems/rankOnline/RankOnlineSystem":"RankOnlineSystem","../../../systems/user/UserUISystem":"UserUISystem"}],RankOnlineProto:[function(e,t,n){"use strict";cc._RF.push(t,"e48e8a+i+BOLYZm/+PoYaJ4","RankOnlineProto"),Object.defineProperty(n,"__esModule",{value:!0}),n.RankOnlineProtoMsg=void 0,(n.RankOnlineProtoMsg||(n.RankOnlineProtoMsg={})).RankBroadCast="RankBroadCast",cc._RF.pop()},{}],RankOnlineSystem:[function(e,t,n){"use strict";cc._RF.push(t,"a1612AYO/BBLaN0ELV72Z9t","RankOnlineSystem"),Object.defineProperty(n,"__esModule",{value:!0}),n.rankOnlineSystem=void 0;var o=e("../../configs/CommonPanelConfig"),i=e("../../framework/gg"),a=e("../gamews/GameSocketSystem"),r=e("../login/LoginEvent"),s=e("./RankOnlineProto"),l=function(){function e(){this.rankBroadCastModelList=[],this.isShowScenes=!0}return e.prototype.enable=function(){this.reset(),i.gg.eventManager.on(r.LoginEvent.OnUserKickOut,this._onUserOut,this),i.gg.eventManager.on(r.LoginEvent.OnUserLogout,this._onUserOut,this),i.gg.eventManager.on(r.LoginEvent.OnUserLostConnection,this._onUserOut,this),a.gameSocketSystem.on(s.RankOnlineProtoMsg.RankBroadCast,this.onRankBroadCast,this),cc.director.on(cc.Director.EVENT_AFTER_SCENE_LAUNCH,this.onSceneLaunched,this)},e.prototype.onSceneLaunched=function(){this.isShowScenes=!0,this.hasMessage()&&i.gg.panelRouter.show({panel:o.CommonPanelConfig.rankOnlinePanel})},e.prototype.disable=function(){a.gameSocketSystem.offTarget(this),this.reset()},e.prototype.reset=function(){this.isShowScenes=!1,this.rankBroadCastModelList=[]},e.prototype._onUserOut=function(){this.disable()},e.prototype.onRankBroadCast=function(e){i.gg.logger.log("\u6392\u884c\u699c\u73a9\u5bb6\u4e0a\u7ebf\u5e7f\u64ad",e),this.rankBroadCastModelList.unshift(e),this.isShowScenes&&i.gg.panelRouter.show({panel:o.CommonPanelConfig.rankOnlinePanel})},e.prototype.hasMessage=function(){return this.rankBroadCastModelList.length>0&&this.isShowScenes},e.prototype.pop=function(){return this.rankBroadCastModelList.shift()},e}();n.rankOnlineSystem=new l,cc._RF.pop()},{"../../configs/CommonPanelConfig":"CommonPanelConfig","../../framework/gg":"gg","../gamews/GameSocketSystem":"GameSocketSystem","../login/LoginEvent":"LoginEvent","./RankOnlineProto":"RankOnlineProto"}],RankingFristExhibitPanel:[function(e,t,n){"use strict";cc._RF.push(t,"c50b1J497pIkp0KIftNcudm","RankingFristExhibitPanel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=r(e("../../../../../main/scripts/components/UserIconStyle1Component")),l=e("../../../../../main/scripts/configs/CommonAudioConfig"),c=e("../../../../../main/scripts/framework/gg"),u=e("../../../../../main/scripts/framework/panelrouter/PanelComponent"),p=e("../../../configs/CommonPanelConfig"),h=cc._decorator,d=h.ccclass,f=h.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rankIcon=null,t.playerIcon=null,t.spine=null,t.nameLab=null,t.rankingUserInfo=null,t.initY=0,t}return i(t,e),t.prototype.show=function(e){e.onShowed(),this.rankingUserInfo=e.data.rankingUserInfo,this.updataUI()},t.prototype.hide=function(e){e.onHided()},t.prototype.onLoad=function(){this.initY=this.rankIcon.y},t.prototype.onEnable=function(){this.spine.clearTracks(),this.spine.setCompleteListener(this.overSpineHandler.bind(this))},t.prototype.onDisable=function(){this.spine.setCompleteListener(null)},t.prototype.overSpineHandler=function(){c.gg.panelRouter.hide({panel:p.CommonPanelConfig.rankingFristExhibitPanel})},t.prototype.updataUI=function(){var e,t,n,o,i=this;c.gg.audio.playOneShot(l.CommonAudioConfig.rankShow),this.nameLab.node.opacity=0,this.nameLab.string=this.rankingUserInfo.nick,this.playerIcon.getComponent(s.default).updateIcon(null!==(t=null===(e=this.rankingUserInfo)||void 0===e?void 0:e.facelook)&&void 0!==t?t:""),this.playerIcon.getComponent(s.default).updateIconFrame(null!==(o=null===(n=this.rankingUserInfo)||void 0===n?void 0:n.frame)&&void 0!==o?o:""),this.spine.setAnimation(0,"animation",!1),this.rankIcon.opacity=0,this.rankIcon.y=this.initY+50,this.playerIcon.opacity=0,this.scheduleOnce(function(){cc.tween(i.rankIcon).to(.1,{opacity:255}).to(.4,{y:i.rankIcon.y-50},{easing:"sineOut"}).start(),cc.tween(i.playerIcon).to(.5,{opacity:255},{easing:"sineOut"}).start(),cc.tween(i.nameLab.node).to(.5,{opacity:255},{easing:"sineOut"}).start()},.3),this.scheduleOnce(function(){cc.tween(i.rankIcon).to(.2,{opacity:0},{easing:"sineIn"}).start(),cc.tween(i.playerIcon).to(.2,{opacity:0},{easing:"sineIn"}).start(),cc.tween(i.nameLab.node).to(.5,{opacity:0},{easing:"sineOut"}).start()},2)},a([f({type:cc.Node,tooltip:"\u73a9\u5bb6\u6392\u540dicon"})],t.prototype,"rankIcon",void 0),a([f({type:cc.Node,tooltip:"\u73a9\u5bb6\u5934\u50cf\u4fe1\u606f"})],t.prototype,"playerIcon",void 0),a([f({type:sp.Skeleton,tooltip:"\u6e38\u620f\u51c6\u5907\u5f00\u59cb"})],t.prototype,"spine",void 0),a([f({type:cc.Label,tooltip:"\u73a9\u5bb6\u540d\u5b57"})],t.prototype,"nameLab",void 0),a([d],t)}(u.PanelComponent);n.default=g,cc._RF.pop()},{"../../../../../main/scripts/components/UserIconStyle1Component":"UserIconStyle1Component","../../../../../main/scripts/configs/CommonAudioConfig":"CommonAudioConfig","../../../../../main/scripts/framework/gg":"gg","../../../../../main/scripts/framework/panelrouter/PanelComponent":"PanelComponent","../../../configs/CommonPanelConfig":"CommonPanelConfig"}],RankingHelpItem:[function(e,t,n){"use strict";cc._RF.push(t,"47e06hO19BAnbAvD+jQVphs","RankingHelpItem");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=r(e("./RankAwardItem")),l=cc._decorator,c=l.ccclass,u=l.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rankNodes=[],t.rankLab=null,t.awardNode=null,t.awardLayout=null,t.captionInfo=null,t.awardListNode=[],t}return i(t,e),t.prototype.updataUI=function(e){0===this.awardListNode.length&&this.initAwardListNode(),this.rankNodes.forEach(function(t,n){t.active=e===n}),e>=3&&(this.rankNodes[3].active=!0,this.rankLab.string=this.captionInfo.ranking);for(var t=0;t<this.awardListNode.length;t++)this.awardListNode[t].node.opacity=0,this.captionInfo.award_list[t]&&(this.awardListNode[t].node.opacity=255,this.awardListNode[t].updataUI(this.captionInfo.award_list[t]))},t.prototype.initAwardListNode=function(){for(var e=0;e<2;e++){var t=cc.instantiate(this.awardNode);this.awardLayout.addChild(t),t.opacity=0,this.awardListNode.push(t.getComponent(s.default))}},a([u({type:cc.Node,tooltip:"\u540d\u6b21\u8282\u70b9"})],t.prototype,"rankNodes",void 0),a([u({type:cc.Label,tooltip:"\u6392\u540dlab"})],t.prototype,"rankLab",void 0),a([u({type:cc.Prefab,tooltip:"\u5956\u52b1\u9884\u5236\u4f53"})],t.prototype,"awardNode",void 0),a([u({type:cc.Node,tooltip:"\u5956\u52b1\u7236\u8282\u70b9"})],t.prototype,"awardLayout",void 0),a([c],t)}(cc.Component);n.default=p,cc._RF.pop()},{"./RankAwardItem":"RankAwardItem"}],RankingHelpPanel:[function(e,t,n){"use strict";cc._RF.push(t,"d7f4eXgu95LJKuKBVuNyzE7","RankingHelpPanel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../../../../../main/scripts/configs/CommonPanelConfig"),l=r(e("../../../../../../main/scripts/framework/components/dialogstyle/MoveStyleDialogPanelV2")),c=e("../../../../../../main/scripts/framework/gg"),u=e("../../../../../../main/scripts/framework/i18n/I18n"),p=e("../../../../../../main/scripts/systems/api/gameapi/GameApi"),h=e("../../../../../../main/scripts/systems/api/gameapi/GameApiModels"),d=e("../../../../systems/lobby/LobbyHintSystem"),f=r(e("./RankingHelpItem")),g=cc._decorator,m=g.ccclass,y=g.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.helpTitle=null,t.helpStr1=null,t.helpStr2=null,t.helpItemScrollView=null,t.helpItemParentNode=null,t.helpItemNode=null,t.helpItemNodeHeight=78,t.spaceingY=0,t.paddingTop=0,t.paddingBottom=0,t.visableAreaMarginTop=78,t.visableAreaMarginBottom=78,t.itemList=[],t._virtualNodes=[],t.lastTimer=0,t._itemNodeAll=[],t.rankingType=null,t.helpStr={total_coin:{title:"ranking.titleCoin",str1:"ranking.coinHelp1",str2:"ranking.coinHelp2"},total_diamond:{title:"ranking.titleDiamond",str1:"ranking.diamondHelp1",str2:"ranking.diamondHelp2"},total_level:{title:"ranking.titleLevel",str1:"ranking.levelHelp1",str2:"ranking.levelHelp2"},week_charm:{title:"ranking.titleCharm",str1:"ranking.charmHelp1",str2:"ranking.charmHelp2"},week_fashion:{title:"ranking.titleFashion",str1:"ranking.fashionHelp1",str2:"ranking.fashionHelp2"},qualifying_score:{title:"ranking.titleQualifying",str1:"ranking.fashionHelp1",str2:"ranking.fashionHelp2"}},t}return i(t,e),t.prototype.show=function(e){this.rankingType=e.data.rankingType,this.updataUI(),this._playShowAnim(function(){e.onShowed()})},t.prototype.hide=function(e){this._playHideAnim(function(){e.onHided(),d.lobbyHintSystem.getHintData(h.LobbyHintEnum.MailReddot)})},t.prototype.onEnable=function(){this.reset(),this.helpItemParentNode.on(cc.Node.EventType.POSITION_CHANGED,this._onPositionChanged,this),this.helpItemScrollView.node.on("scroll-ended",this._updateList,this)},t.prototype.onDisable=function(){this.reset(),this.helpItemParentNode.off(cc.Node.EventType.POSITION_CHANGED,this._onPositionChanged,this),this.helpItemScrollView.node.off("scroll-ended",this._updateList,this)},t.prototype.updataUI=function(){this.rankingType&&(this.helpTitle.string=u.i18n.getText(this.helpStr[this.rankingType].title),this.helpStr1.string=u.i18n.getText(this.helpStr[this.rankingType].str1),this.helpStr2.string=u.i18n.getText(this.helpStr[this.rankingType].str2),this.rankingType!==h.RankingType.QualifyingScore?(this.helpItemScrollView.node.parent.active=!0,this.getCharmRankingData()):this.helpItemScrollView.node.parent.active=!1)},t.prototype.onClickClose=function(){c.gg.panelRouter.hide({panel:s.CommonPanelConfig.rankingHelpPanel})},t.prototype.reset=function(){this.itemList=[],this._virtualNodes=[],this.helpItemScrollView.stopAutoScroll(),this.helpItemParentNode.position=cc.v3(),this._itemNodeAll=[];for(var e=this.helpItemParentNode.children.length-1;e>=0;--e)this._itemNodeAll.push(this.helpItemParentNode.children[e]),this.helpItemParentNode.children[e].opacity=0},t.prototype.getCharmRankingData=function(){var e=this;this.reset(),c.gg.panelRouter.show({panel:s.CommonPanelConfig.loadingPanel}),p.gameApi.getRankingAwardList({type:this.rankingType}).then(function(t){c.gg.panelRouter.hide({panel:s.CommonPanelConfig.loadingPanel,onHided:function(){var n,o;(null===(o=null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.list)||void 0===o?void 0:o.length)>0?(e.itemList=t.data.list,e.init()):c.gg.panelRouter.show({panel:s.CommonPanelConfig.toastPanel,data:{text:u.i18n.getText("toast.rankingHelpFail")}})}})}).catch(function(e){c.gg.logger.error(e),c.gg.panelRouter.hide({panel:s.CommonPanelConfig.loadingPanel,onHided:function(){c.gg.panelRouter.show({panel:s.CommonPanelConfig.toastPanel,data:{text:u.i18n.getText("toast.rankingHelpFail")}})}})})},t.prototype.getItemNode=function(){var e=this._itemNodeAll.pop();return e||(e=cc.instantiate(this.helpItemNode),this.helpItemParentNode.addChild(e)),e},t.prototype.init=function(){this.itemList&&this.itemList.length>0&&(this._virtualNodes=this.itemList.map(function(){return null}),this._updateListWidth(),this.helpItemParentNode.position=cc.v3(),this._updateList())},t.prototype._updateListWidth=function(){var e=this.itemList.length;this.helpItemParentNode.height=this.paddingTop+this.paddingBottom+this.helpItemNodeHeight*e+this.spaceingY*e,this.helpItemParentNode.height<this.helpItemScrollView.node.height&&(this.helpItemParentNode.height=this.helpItemScrollView.node.height)},t.prototype._onPositionChanged=function(){var e=Date.now();e-this.lastTimer>=50&&(this.lastTimer=e,this._updateList())},t.prototype._updateList=function(){for(var e=0;e<this._virtualNodes.length;++e){var t=this._virtualNodes[e];if(this._isVisable(e)){null==t&&(t=this.getItemNode()),this._virtualNodes[e]=t,t.position=this._convertIndexToPosition(e);var n=t.getComponent(f.default);n.captionInfo=this.itemList[e],n.updataUI(e),t.opacity=255}else t&&(t.opacity=0,this._itemNodeAll.push(t)),this._virtualNodes[e]=null}},t.prototype._isVisable=function(e){var t=this._convertIndexToPosition(e),n=-this.helpItemParentNode.position.y+this.visableAreaMarginTop,o=n-this.visableAreaMarginTop-this.helpItemScrollView.node.height-this.visableAreaMarginBottom;return t.y+.5*this.helpItemNodeHeight<=n&&t.y-.5*this.helpItemNodeHeight>=o},t.prototype._convertIndexToPosition=function(e){return cc.v3(0,-this.paddingTop-this.helpItemNodeHeight*(e+.5)-e*this.spaceingY)},a([y({type:cc.Label,tooltip:"\u6392\u884c\u699c\u6807\u9898"})],t.prototype,"helpTitle",void 0),a([y({type:cc.Label,tooltip:"\u6392\u884c\u699c\u8bf4\u660e1"})],t.prototype,"helpStr1",void 0),a([y({type:cc.Label,tooltip:"\u6392\u884c\u699c\u8bf4\u660e2"})],t.prototype,"helpStr2",void 0),a([y({type:cc.ScrollView,tooltip:"\u6392\u884c\u699c\u8bf4\u660eScrollView"})],t.prototype,"helpItemScrollView",void 0),a([y({type:cc.Node,tooltip:"\u6392\u884c\u699c\u8bf4\u660e\u7236\u8282\u70b9"})],t.prototype,"helpItemParentNode",void 0),a([y({type:cc.Prefab,tooltip:"\u6392\u884c\u699c\u8bf4\u660e\u9884\u5236\u8282\u70b9"})],t.prototype,"helpItemNode",void 0),a([y({tooltip:"\u9884\u5236\u4f53item\u8282\u70b9\u7684\u9ad8\u5ea6"})],t.prototype,"helpItemNodeHeight",void 0),a([y({tooltip:"Item \u95f4\u9694\uff08px\uff09"})],t.prototype,"spaceingY",void 0),a([y({tooltip:"Item \u8ddd\u79bb\u4e0a\u8fb9\uff08px\uff09"})],t.prototype,"paddingTop",void 0),a([y({tooltip:"Item \u8ddd\u79bb\u4e0b\u8fb9\uff08px\uff09"})],t.prototype,"paddingBottom",void 0),a([y({tooltip:"\u53ef\u89c6\u533a\u57df margin, \u8d1f\u6570\u4e3a\u5f80\u5916\u6269\u5c55"})],t.prototype,"visableAreaMarginTop",void 0),a([y({tooltip:"\u53ef\u89c6\u533a\u57df margin, \u8d1f\u6570\u4e3a\u5f80\u5916\u6269\u5c55"})],t.prototype,"visableAreaMarginBottom",void 0),a([m],t)}(l.default);n.default=_,cc._RF.pop()},{"../../../../../../main/scripts/configs/CommonPanelConfig":"CommonPanelConfig","../../../../../../main/scripts/framework/components/dialogstyle/MoveStyleDialogPanelV2":"MoveStyleDialogPanelV2","../../../../../../main/scripts/framework/gg":"gg","../../../../../../main/scripts/framework/i18n/I18n":"I18n","../../../../../../main/scripts/systems/api/gameapi/GameApi":"GameApi","../../../../../../main/scripts/systems/api/gameapi/GameApiModels":"GameApiModels","../../../../systems/lobby/LobbyHintSystem":"LobbyHintSystem","./RankingHelpItem":"RankingHelpItem"}],RankingPanel:[function(e,t,n){"use strict";cc._RF.push(t,"63895tcKUxDA7QsszymLanL","RankingPanel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.RankingSidebarType=void 0;var s,l=e("../../../../../main/scripts/configs/BundleConfig"),c=e("../../../../../main/scripts/configs/CommonAudioConfig"),u=r(e("../../../../../main/scripts/framework/asset/AssetLoader")),p=e("../../../../../main/scripts/framework/gg"),h=e("../../../../../main/scripts/framework/panelrouter/PanelComponent"),d=e("../../../configs/CommonPanelConfig"),f=e("../../../systems/ranking/RankingUIEvent"),g=r(e("./prefabs/CharmRankingComponent")),m=r(e("./prefabs/CoinRankingComponent")),y=r(e("./prefabs/DiamondRankingComponent")),_=r(e("./prefabs/FashionRankingComponent")),v=r(e("./prefabs/LevelRankingComponent")),b=r(e("./prefabs/QualifyingRankingComponent")),S=cc._decorator,C=S.ccclass,I=S.property;(function(e){e.CoinRanking="CoinRanking",e.DiamondRanking="DiamondRanking",e.LevelRanking="LevelRanking",e.CharmRanking="CharmRanking",e.FashionRanking="FashionRanking",e.QualifyingRanking="QualifyingRanking"})(s=n.RankingSidebarType||(n.RankingSidebarType={}));var R=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dialogContentPos=null,t.dialogContent=null,t.coinRankingNode=null,t.diamondRankingNode=null,t.levelRankingNode=null,t.charmRankingNode=null,t.fashionRankingNode=null,t.qualifyingRankingNode=null,t.coinRankingComponent=null,t.diamondRankingComponent=null,t.levelRankingComponent=null,t.charmRankingComponent=null,t.fashionRankingComponent=null,t.qualifyingRankingComponent=null,t.rankingSidebarType=s.CoinRanking,t.dialogContentX=0,t.dialogContentMoveX=0,t.isCloseRankPanel=!1,t}return i(t,e),t.prototype.onLoad=function(){this.dialogContent.opacity=0,this.dialogContentMoveX=this.dialogContentPos.width+200},t.prototype.onEnable=function(){p.gg.eventManager.on(f.RankingUIEvent.ChooseRankingSidebarEvent,this.onChooseRankingSidebar,this),window.addEventListener("resize",this.onUpdataDialogContentPos.bind(this)),window.addEventListener("orientationchange",this.onUpdataDialogContentPos.bind(this)),this.unscheduleAllCallbacks()},t.prototype.onDisable=function(){p.gg.eventManager.offTarget(this),window.removeEventListener("resize",this.onUpdataDialogContentPos.bind(this)),window.removeEventListener("orientationchange",this.onUpdataDialogContentPos.bind(this)),this.unscheduleAllCallbacks()},t.prototype.show=function(e){p.gg.audio.playOneShot(c.CommonAudioConfig.popping),this.playShowAnim(function(){e.onShowed()})},t.prototype.hide=function(e){this.playHideAnim(function(){e.onHided()})},t.prototype.onUpdataDialogContentPos=function(){var e=this;this.scheduleOnce(function(){e.dialogContentPos&&(e.dialogContentPos.width=e.dialogContent.width,e.dialogContentPos.getComponent(cc.Widget).updateAlignment(),e.dialogContentX=e.dialogContentPos.x,e.dialogContent.x=e.dialogContentX)},.3)},t.prototype.getinitPosX=function(){this.dialogContentX=this.dialogContentPos.x},t.prototype.playShowAnim=function(e){var t=this;this.dialogContent.opacity=0,this.dialogContent.stopAllActions(),this.scheduleOnce(function(){t.getinitPosX(),t.dialogContent.x=t.dialogContentX-t.dialogContentMoveX,t.dialogContent.opacity=255,cc.tween(t.dialogContent).to(.5,{x:t.dialogContent.x+t.dialogContentMoveX},{easing:"sineOut"}).call(function(){e()}).start()},.1)},t.prototype.playHideAnim=function(e){this.dialogContent.stopAllActions(),this.dialogContent.x=this.dialogContentX,cc.tween(this.dialogContent).to(.5,{x:this.dialogContent.x-this.dialogContentMoveX},{easing:"sineIn"}).call(function(){e()}).start()},t.prototype.onClickClose=function(){var e=this;this.isCloseRankPanel||(this.isCloseRankPanel=!0,p.gg.audio.playOneShot(c.CommonAudioConfig.btnClose),p.gg.panelRouter.hide({panel:d.CommonPanelConfig.rankingPanel,onHided:function(){e.isCloseRankPanel=!1,p.gg.eventManager.emit(f.RankingUIEvent.CloseRankingPanelEvent)}}))},t.prototype.onChooseRankingSidebar=function(e){var t=this;if(e!==this.rankingSidebarType)switch(this.coinRankingNode.active=!1,this.diamondRankingNode.active=!1,this.levelRankingNode.active=!1,this.charmRankingNode.active=!1,this.fashionRankingNode.active=!1,this.qualifyingRankingNode.active=!1,this.rankingSidebarType=e,this.rankingSidebarType){case s.CoinRanking:this.coinRankingNode.active=!0;break;case s.DiamondRanking:this.diamondRankingNode.active=!0,this.diamondRankingComponent||u.default.loadBundleAsset(l.BundleConfig.Resources+"/prefabs/panels/ranking/prefabs/DiamondRankingComponent",cc.Prefab).then(function(e){var n=cc.instantiate(e);t.diamondRankingNode.addChild(n),t.diamondRankingComponent=n.getComponent(y.default)}).catch(function(e){p.gg.logger.error("DiamondRankingComponent-----",e)});break;case s.LevelRanking:this.levelRankingNode.active=!0,this.levelRankingComponent||u.default.loadBundleAsset(l.BundleConfig.Resources+"/prefabs/panels/ranking/prefabs/LevelRankingComponent",cc.Prefab).then(function(e){var n=cc.instantiate(e);t.levelRankingNode.addChild(n),t.levelRankingComponent=n.getComponent(v.default)}).catch(function(e){p.gg.logger.error("LevelRankingComponent-----",e)});break;case s.CharmRanking:this.charmRankingNode.active=!0,this.charmRankingComponent||u.default.loadBundleAsset(l.BundleConfig.Resources+"/prefabs/panels/ranking/prefabs/CharmRankingComponent",cc.Prefab).then(function(e){var n=cc.instantiate(e);t.charmRankingNode.addChild(n),t.charmRankingComponent=n.getComponent(g.default)}).catch(function(e){p.gg.logger.error("CharmRankingComponent-----",e)});break;case s.FashionRanking:this.fashionRankingNode.active=!0,this.fashionRankingComponent||u.default.loadBundleAsset(l.BundleConfig.Resources+"/prefabs/panels/ranking/prefabs/FashionRankingComponent",cc.Prefab).then(function(e){var n=cc.instantiate(e);t.fashionRankingNode.addChild(n),t.fashionRankingComponent=n.getComponent(_.default)}).catch(function(e){p.gg.logger.error("FashionRankingComponent-----",e)});break;case s.QualifyingRanking:this.qualifyingRankingNode.active=!0,this.qualifyingRankingComponent||u.default.loadBundleAsset(l.BundleConfig.Resources+"/prefabs/panels/ranking/prefabs/QualifyingRankingComponent",cc.Prefab).then(function(e){var n=cc.instantiate(e);t.qualifyingRankingNode.addChild(n),t.qualifyingRankingComponent=n.getComponent(b.default)}).catch(function(e){p.gg.logger.error("QualifyingRankingComponent-----",e)})}},a([I({type:cc.Node,tooltip:"\u7528\u6765\u65f6\u65f6\u83b7\u53d6\u4f4d\u7f6e\u7684\u603b\u8282\u70b9"})],t.prototype,"dialogContentPos",void 0),a([I({type:cc.Node,tooltip:"\u603b\u8282\u70b9"})],t.prototype,"dialogContent",void 0),a([I({type:cc.Node,tooltip:"\u91d1\u5e01\u6392\u540d\u8282\u70b9"})],t.prototype,"coinRankingNode",void 0),a([I({type:cc.Node,tooltip:"\u94bb\u77f3\u6392\u540d\u8282\u70b9"})],t.prototype,"diamondRankingNode",void 0),a([I({type:cc.Node,tooltip:"\u7b49\u7ea7\u6392\u540d\u8282\u70b9"})],t.prototype,"levelRankingNode",void 0),a([I({type:cc.Node,tooltip:"\u9b45\u529b\u503c\u6392\u540d\u8282\u70b9"})],t.prototype,"charmRankingNode",void 0),a([I({type:cc.Node,tooltip:"\u65f6\u5c1a\u503c\u6392\u540d\u8282\u70b9"})],t.prototype,"fashionRankingNode",void 0),a([I({type:cc.Node,tooltip:"\u6bb5\u4f4d\u6392\u540d\u8282\u70b9"})],t.prototype,"qualifyingRankingNode",void 0),a([I({type:m.default,tooltip:"\u91d1\u5e01\u6392\u540d\u7ec4\u4ef6"})],t.prototype,"coinRankingComponent",void 0),a([C],t)}(h.PanelComponent);n.default=R,cc._RF.pop()},{"../../../../../main/scripts/configs/BundleConfig":"BundleConfig","../../../../../main/scripts/configs/CommonAudioConfig":"CommonAudioConfig","../../../../../main/scripts/framework/asset/AssetLoader":"AssetLoader","../../../../../main/scripts/framework/gg":"gg","../../../../../main/scripts/framework/panelrouter/PanelComponent":"PanelComponent","../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../systems/ranking/RankingUIEvent":"RankingUIEvent","./prefabs/CharmRankingComponent":"CharmRankingComponent","./prefabs/CoinRankingComponent":"CoinRankingComponent","./prefabs/DiamondRankingComponent":"DiamondRankingComponent","./prefabs/FashionRankingComponent":"FashionRankingComponent","./prefabs/LevelRankingComponent":"LevelRankingComponent","./prefabs/QualifyingRankingComponent":"QualifyingRankingComponent"}],RankingQualifyingTopThreeLayComponent:[function(e,t,n){"use strict";cc._RF.push(t,"96148HCSZRGzImu+rdxXDNQ","RankingQualifyingTopThreeLayComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=l(e("../../../../../../main/scripts/components/GradeStarComponent")),u=l(e("../../../../../../main/scripts/components/UserIconStyle1Component")),p=e("../../../../../../main/scripts/configs/CommonPanelConfig"),h=e("../../../../../../main/scripts/framework/gg"),d=l(e("../../../../../../main/scripts/framework/utils/StringUtils")),f=e("../../../../../../main/scripts/systems/user/UserUISystem"),g=cc._decorator,m=g.ccclass,y=g.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.topThreeCommon=[],t.topThreeNameLab=[],t.topThreeIcon=[],t.rankIcon=[],t.gradeStarComponent=[],t.vipSprites=[],t.topThree=[],t}return i(t,e),t.prototype.initTopThreeUI=function(){this.topThree=[];for(var e=0;e<this.topThreeCommon.length;e++)this.topThreeCommon[e].active=!1,this.topThreeNameLab[e].node.active=!1,this.topThreeIcon[e].active=!1,this.rankIcon[e].active=!1,this.vipSprites[e].node.active=!1},t.prototype.updateTopThreeUI=function(){var e,t,n,o,i;return r(this,void 0,void 0,function(){var a,r;return s(this,function(s){switch(s.label){case 0:a=0,s.label=1;case 1:return a<this.topThree.length?(this.rankIcon[a].active=!0,this.topThreeCommon[a].active=!0,this.topThreeNameLab[a].node.active=!0,this.topThreeNameLab[a].string=d.default.clampStr(this.topThree[a].nick,10),this.topThreeIcon[a].active=!0,this.topThreeIcon[a].getComponent(u.default).updateIcon(null!==(t=null===(e=this.topThree[a])||void 0===e?void 0:e.facelook)&&void 0!==t?t:""),this.topThreeIcon[a].getComponent(u.default).updateIconFrame(null!==(o=null===(n=this.topThree[a])||void 0===n?void 0:n.frame)&&void 0!==o?o:""),this.gradeStarComponent[a].getComponent(c.default).updateStarUI(this.topThree[a].star,this.topThree[a].grade),(null===(i=this.topThree[a])||void 0===i?void 0:i.vip_info)?(this.vipSprites[a].node.active=!0,r=this.vipSprites[a],[4,f.userUISystem.loadUserVipIcon(this.topThree[a].vip_info.vip_level,this.topThree[a].vip_info.vip_status)]):[3,3]):[3,5];case 2:return r.spriteFrame=s.sent(),[3,4];case 3:this.vipSprites[a].node.active=!1,s.label=4;case 4:return a++,[3,1];case 5:return[2]}})})},t.prototype.onClickShowUserInfo=function(e,t){if(this.topThree[Number(t)]){var n=this.topThree[Number(t)];h.gg.panelRouter.show({panel:p.CommonPanelConfig.userInfoPanel,data:{qurey_uid:n.uid,userName:n.nick,userIcon:n.facelook,userIconFrame:n.frame}})}else h.gg.logger.error("RankingTopThreeLayComponent--\x3eonClickShowUserInfo--\x3eButton--\x3edata err")},a([y({type:cc.Node,tooltip:"\u73a9\u5bb6\u4fe1\u606f\u80cc\u666f\u5c42"})],t.prototype,"topThreeCommon",void 0),a([y({type:cc.Label,tooltip:"\u73a9\u5bb6\u540d\u5b57"})],t.prototype,"topThreeNameLab",void 0),a([y({type:cc.Node,tooltip:"\u73a9\u5bb6\u5934\u50cf\u4fe1\u606f"})],t.prototype,"topThreeIcon",void 0),a([y({type:cc.Node,tooltip:"\u6392\u540d\u56fe\u6807"})],t.prototype,"rankIcon",void 0),a([y({type:cc.Node,tooltip:"\u7528\u6237\u6bb5\u4f4d\u661f\u661f\u4e2a\u6570\u5e03\u5c40"})],t.prototype,"gradeStarComponent",void 0),a([y({type:cc.Sprite,tooltip:"\u6392\u540d\u56fe\u6807"})],t.prototype,"vipSprites",void 0),a([m],t)}(cc.Component);n.default=_,cc._RF.pop()},{"../../../../../../main/scripts/components/GradeStarComponent":"GradeStarComponent","../../../../../../main/scripts/components/UserIconStyle1Component":"UserIconStyle1Component","../../../../../../main/scripts/configs/CommonPanelConfig":"CommonPanelConfig","../../../../../../main/scripts/framework/gg":"gg","../../../../../../main/scripts/framework/utils/StringUtils":"StringUtils","../../../../../../main/scripts/systems/user/UserUISystem":"UserUISystem"}],RankingSidebarItemComponent:[function(e,t,n){"use strict";cc._RF.push(t,"a6516lAuLBFe499OFZ2viz4","RankingSidebarItemComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../../../../../main/scripts/framework/gg"),s=e("../../../../systems/ranking/RankingUIEvent"),l=cc._decorator,c=l.ccclass,u=l.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.choose=null,t.unchoose=null,t.tagLab=null,t.sidebarType="",t}return i(t,e),t.prototype.onEnable=function(){r.gg.eventManager.on(s.RankingUIEvent.ChooseRankingSidebarEvent,this.onChooseRankingSidebar,this)},t.prototype.onDisable=function(){r.gg.eventManager.offTarget(this)},t.prototype.onChooseRankingSidebar=function(e){this.sidebarType===e?(this.choose.active=!0,this.tagLab.node.color=new cc.Color(126,66,28,255)):(this.choose.active=!1,this.tagLab.node.color=new cc.Color(253,241,223,255))},t.prototype.onClickChooseSidebar=function(){r.gg.eventManager.emit(s.RankingUIEvent.ChooseRankingSidebarEvent,this.sidebarType)},a([u({type:cc.Node,tooltip:"\u9009\u4e2d\u6807\u7b7e"})],t.prototype,"choose",void 0),a([u({type:cc.Node,tooltip:"\u672a\u9009\u4e2d"})],t.prototype,"unchoose",void 0),a([u({type:cc.Label,tooltip:"lab"})],t.prototype,"tagLab",void 0),a([u({tooltip:"\u9009\u9879\u7c7b\u578b"})],t.prototype,"sidebarType",void 0),a([c],t)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../../../../main/scripts/framework/gg":"gg","../../../../systems/ranking/RankingUIEvent":"RankingUIEvent"}],RankingStorageConfig:[function(e,t,n){"use strict";cc._RF.push(t,"80f5brIAiJBtLOFJcaTv+IN","RankingStorageConfig"),Object.defineProperty(n,"__esModule",{value:!0}),n.RankingStorageConfig=void 0,function(e){e.RankingTatalCoinTimeStr="RankingStorageConfig.RankingtatalCoinTimeStr",e.RankingTatalDiamonTimeStr="RankingStorageConfig.RankingtatalDiamonTimeStr",e.RankingTatalLevelTimeStr="RankingStorageConfig.RankingTatalLevelTimeStr",e.RankingTatalCharmTimeStr="RankingStorageConfig.RankingTatalCharmTimeStr",e.RankingMonthCharmTimeStr="RankingStorageConfig.RankingMonthCharmTimeStr",e.RankingWeekCharmTimeStr="RankingStorageConfig.RankingWeekCharmTimeStr",e.RankingTatalFashionTimeStr="RankingStorageConfig.RankingTatalFashionTimeStr",e.RankingMonthFashionTimeStr="RankingStorageConfig.RankingMonthFashionTimeStr",e.RankingWeekFashionTimeStr="RankingStorageConfig.RankingWeekFashionTimeStr",e.RankingTatalQualifyingTimeStr="RankingStorageConfig.RankingTatalQualifyingTimeStr"}(n.RankingStorageConfig||(n.RankingStorageConfig={})),cc._RF.pop()},{}],RankingTabSelectorComponent:[function(e,t,n){"use strict";cc._RF.push(t,"efb9cyKzFFJ85lDPSQC1G3L","RankingTabSelectorComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../../../../../main/scripts/framework/gg"),l=r(e("./RankingTabSelectorOptionComponent")),c=cc._decorator,u=c.ccclass,p=c.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.optionsParentNode=null,t.optionNode=null,t.selectedBarNode=null,t._nodePool=new cc.NodePool(l.default),t._selectedIndex=null,t._lastIndex=null,t}var n;return i(t,e),n=t,t.prototype._getNode=function(){var e=this._nodePool.get();return e||(e=cc.instantiate(this.optionNode)),e},t.prototype._putNode=function(e){this._nodePool.put(e)},t.prototype.setSelectedIndex=function(e){this._selectedIndex!=e&&(this._lastIndex=this._selectedIndex,this._selectedIndex=e,this._updateSelectedBar(),this.node.emit(n.OnTabSelectorSelectedChanged,e))},t.prototype.reset=function(){for(var e=this.optionsParentNode.children.length-1;e>=0;--e)this._putNode(this.optionsParentNode.children[e]);this._selectedIndex=null,cc.Tween.stopAllByTarget(this.selectedBarNode),this.selectedBarNode.width=0,this.selectedBarNode.position=cc.v3()},t.prototype.init=function(e){this.reset();for(var t=0,n=e;t<n.length;t++){var o=n[t],i=this._getNode();i.parent=this.optionsParentNode,i.getComponent(l.default).init(o),i.on("click",this._onClick,this)}this.optionsParentNode.getComponent(cc.Layout).updateLayout()},t.prototype._onClick=function(e){var t=e.node.getSiblingIndex();this.setSelectedIndex(t)},t.prototype._updateSelectedBar=function(){var e=this.optionsParentNode.children[this._selectedIndex];if(e.getComponent(l.default).updataShowColor(),null!=this._lastIndex&&this.optionsParentNode.children[this._lastIndex].getComponent(l.default).initShowColor(),e){var t=e.position,n=e.width;cc.Tween.stopAllByTarget(this.selectedBarNode),cc.tween(this.selectedBarNode).to(.2,{position:t,width:n},{easing:"sineOut"}).start()}else s.gg.logger.error("\u8d8a\u754c\u4e86")},t.OnTabSelectorSelectedChanged="RankingTabSelectorComponent.OnTabSelectorSelectedChanged",a([p(cc.Node)],t.prototype,"optionsParentNode",void 0),a([p(cc.Node)],t.prototype,"optionNode",void 0),a([p(cc.Node)],t.prototype,"selectedBarNode",void 0),n=a([u],t)}(cc.Component);n.default=h,cc._RF.pop()},{"../../../../../../main/scripts/framework/gg":"gg","./RankingTabSelectorOptionComponent":"RankingTabSelectorOptionComponent"}],RankingTabSelectorOptionComponent:[function(e,t,n){"use strict";cc._RF.push(t,"87213+YFi9Bo7/H2KgY3ZKw","RankingTabSelectorOptionComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=r.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.descLabel=null,t}return i(t,e),t.prototype.init=function(e){this.descLabel.string=e,this.descLabel._forceUpdateRenderData&&this.descLabel._forceUpdateRenderData(!0),this.initShowColor()},t.prototype.updataShowColor=function(){this.descLabel.node.color=new cc.Color(126,66,28,255)},t.prototype.initShowColor=function(){this.descLabel.node.color=new cc.Color(253,241,223,255)},a([l(cc.Label)],t.prototype,"descLabel",void 0),a([s],t)}(cc.Component);n.default=c,cc._RF.pop()},{}],RankingTopThreeLayComponent:[function(e,t,n){"use strict";cc._RF.push(t,"a4ea0PmwhJOF5yz5UlDXBv9","RankingTopThreeLayComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=l(e("../../../../../../main/scripts/components/UserIconStyle1Component")),u=e("../../../../../../main/scripts/configs/CommonPanelConfig"),p=e("../../../../../../main/scripts/framework/gg"),h=l(e("../../../../../../main/scripts/framework/utils/StringUtils")),d=e("../../../../../../main/scripts/systems/api/gameapi/GameApiModels"),f=e("../../../../../../main/scripts/systems/user/UserUISystem"),g=cc._decorator,m=g.ccclass,y=g.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.topThreeCommon=[],t.topThreeNameLab=[],t.topThreeValueLab=[],t.topThreeIcon=[],t.rankIcon=[],t.rankTypeIcon=[],t.rankTypeIconFrame=[],t.vipSprites=[],t.topThree=[],t}return i(t,e),t.prototype.initTypeIcon=function(e){var t=0;switch(e){case d.RankingType.TotalCoin:t=0;break;case d.RankingType.TotalDiamond:t=1;break;case d.RankingType.TotalLevel:t=2;break;case d.RankingType.TotalCharm:t=3;break;case d.RankingType.TotalFashion:t=4}for(var n=0,o=this.rankTypeIcon;n<o.length;n++)o[n].spriteFrame=this.rankTypeIconFrame[t]},t.prototype.initTopThreeUI=function(){this.topThree=[];for(var e=0;e<this.topThreeCommon.length;e++)this.topThreeCommon[e].active=!1,this.topThreeNameLab[e].node.active=!1,this.topThreeValueLab[e].node.active=!1,this.topThreeIcon[e].active=!1,this.rankIcon[e].active=!1,this.vipSprites[e].node.active=!1},t.prototype.updateTopThreeUI=function(){var e,t,n,o,i;return r(this,void 0,void 0,function(){var a,r;return s(this,function(s){switch(s.label){case 0:a=0,s.label=1;case 1:return a<this.topThree.length?(this.rankIcon[a].active=!0,this.topThreeCommon[a].active=!0,this.topThreeNameLab[a].node.active=!0,this.topThreeNameLab[a].string=h.default.clampStr(this.topThree[a].nick,10),this.topThreeValueLab[a].node.active=!0,this.topThreeValueLab[a].string=this.topThree[a].ranking_value+"",this.topThreeIcon[a].active=!0,this.topThreeIcon[a].getComponent(c.default).updateIcon(null!==(t=null===(e=this.topThree[a])||void 0===e?void 0:e.facelook)&&void 0!==t?t:""),this.topThreeIcon[a].getComponent(c.default).updateIconFrame(null!==(o=null===(n=this.topThree[a])||void 0===n?void 0:n.frame)&&void 0!==o?o:""),(null===(i=this.topThree[a])||void 0===i?void 0:i.vip_info)?(this.vipSprites[a].node.active=!0,r=this.vipSprites[a],[4,f.userUISystem.loadUserVipIcon(this.topThree[a].vip_info.vip_level,this.topThree[a].vip_info.vip_status)]):[3,3]):[3,5];case 2:return r.spriteFrame=s.sent(),[3,4];case 3:this.vipSprites[a].node.active=!1,s.label=4;case 4:return a++,[3,1];case 5:return[2]}})})},t.prototype.onClickShowUserInfo=function(e,t){if(this.topThree[Number(t)]){var n=this.topThree[Number(t)];p.gg.panelRouter.show({panel:u.CommonPanelConfig.userInfoPanel,data:{qurey_uid:n.uid,userName:n.nick,userIcon:n.facelook,userIconFrame:n.frame}})}else p.gg.logger.error("RankingTopThreeLayComponent--\x3eonClickShowUserInfo--\x3eButton--\x3edata err")},a([y({type:cc.Node,tooltip:"\u73a9\u5bb6\u4fe1\u606f\u80cc\u666f\u5c42"})],t.prototype,"topThreeCommon",void 0),a([y({type:cc.Label,tooltip:"\u73a9\u5bb6\u540d\u5b57"})],t.prototype,"topThreeNameLab",void 0),a([y({type:cc.Label,tooltip:"\u73a9\u5bb6\u5c5e\u6027\u503c"})],t.prototype,"topThreeValueLab",void 0),a([y({type:cc.Node,tooltip:"\u73a9\u5bb6\u5934\u50cf\u4fe1\u606f"})],t.prototype,"topThreeIcon",void 0),a([y({type:cc.Node,tooltip:"\u6392\u540d\u56fe\u6807"})],t.prototype,"rankIcon",void 0),a([y({type:cc.Sprite,tooltip:"\u6392\u884c\u699c\u7c7b\u578bsprite"})],t.prototype,"rankTypeIcon",void 0),a([y({type:cc.SpriteFrame,tooltip:"\u6392\u884c\u699c\u7c7b\u578bsprite"})],t.prototype,"rankTypeIconFrame",void 0),a([y({type:cc.Sprite,tooltip:"\u6392\u540d\u56fe\u6807"})],t.prototype,"vipSprites",void 0),a([m],t)}(cc.Component);n.default=_,cc._RF.pop()},{"../../../../../../main/scripts/components/UserIconStyle1Component":"UserIconStyle1Component","../../../../../../main/scripts/configs/CommonPanelConfig":"CommonPanelConfig","../../../../../../main/scripts/framework/gg":"gg","../../../../../../main/scripts/framework/utils/StringUtils":"StringUtils","../../../../../../main/scripts/systems/api/gameapi/GameApiModels":"GameApiModels","../../../../../../main/scripts/systems/user/UserUISystem":"UserUISystem"}],RankingUIEvent:[function(e,t,n){"use strict";cc._RF.push(t,"e8192ZQU9FBXKvZs7jYoICP","RankingUIEvent"),Object.defineProperty(n,"__esModule",{value:!0}),n.RankingUIEvent=void 0,function(e){e.ChooseRankingSidebarEvent="RankingUIEvent.ChooseRankingSidebarEvent",e.CloseRankingPanelEvent="RankingUIEvent.CloseRankingPanelEvent"}(n.RankingUIEvent||(n.RankingUIEvent={})),cc._RF.pop()},{}],ReceiveFeaturesPanel:[function(e,t,n){"use strict";cc._RF.push(t,"63b37BVOh1NI5Qe7AIVkJib","ReceiveFeaturesPanel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=r(e("../../../../../main/scripts/framework/components/label/NumberBitLabel")),l=e("../../../../../main/scripts/framework/gg"),c=e("../../../../../main/scripts/framework/panelrouter/PanelComponent"),u=e("../../../../../main/scripts/systems/api/gameapi/GameApiModels"),p=e("../../../configs/CommonAudioConfig"),h=e("../../../configs/CommonPanelConfig"),d=e("../../../systems/user/UserSystem"),f=e("../../../uiSystem/GamePanelSystem"),g=r(e("./ReceiveGiftItem")),m=e("./uiSystems/ReceiveFeaturesUIEvent"),y=cc._decorator,_=y.ccclass,v=y.property,b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dialogBgNode=null,t.dialogContentNode=null,t.bgFrameDragon=null,t.receiveAwardLayout=null,t.receiveAwardPre=null,t.fashionLab=null,t.fashionAnimLab=null,t.fashionLay=null,t.coinLay=null,t.coinIcon=null,t.coinLab=null,t.diamondLay=null,t.diamondIcon=null,t.diamondLab=null,t.flyLay=null,t.flyCoin=null,t.flyDiamond=null,t._scaleSpeedPerSecond=4,t.flyCoinAll=null,t.flyDiamondAll=null,t.flyWalletLength=5,t.giftData=null,t.fashionAddAll=0,t.fashionInitValue=0,t.receiveAwardPool=new cc.NodePool,t.delayTimer=1,t.animTimer=2,t}return i(t,e),t.prototype.onLoad=function(){this.bgFrameDragon.addEventListener(dragonBones.EventObject.COMPLETE,this.finishDragonHandler,this)},t.prototype.show=function(e){this.dialogBgNode.getComponent(cc.Button).interactable=!1,this.dialogBgNode.opacity=180,this.dialogContentNode.scale=1;var t=e.data;this.giftData=t.giftList,this.initFlyCoinAll(),this.initFlyDiamondAll(),this.updataShowUI(),e.onShowed()},t.prototype.hide=function(e){f.gameAnimSystem.setHideReceiveFeaturesPanel(),this.setAppendixItemPool(),this.playHideAnim(function(){e.onHided(),l.gg.eventManager.emit(m.ReceiveFeaturesUIEvent.CloseReceiveFeaturesPanelEvent)})},t.prototype.playHideAnim=function(e){this.dialogBgNode.stopAllActions(),this.dialogContentNode.stopAllActions();var t=this.dialogContentNode.scale/this._scaleSpeedPerSecond;cc.tween(this.dialogBgNode).to(t,{opacity:0}).start(),cc.tween(this.dialogContentNode).to(t,{scale:0},{easing:"backIn"}).call(function(){e&&e()}).start()},t.prototype.setAppendixItemPool=function(){for(var e=0,t=this.receiveAwardLayout.children;e<t.length;e++){var n=t[e];this.receiveAwardPool.put(n)}this.receiveAwardLayout.removeAllChildren()},t.prototype.finishDragonHandler=function(){},t.prototype.updataShowUI=function(){var e=this;this.fashionAddAll=0,this.coinLay.active=!1,this.diamondLay.active=!1,this.fashionLay.active=!1;for(var t=0,n=this.giftData;t<n.length;t++){var o=n[t],i=this.receiveAwardPool.get();i||(i=cc.instantiate(this.receiveAwardPre)),o.award_type===u.AwardType.Item&&(this.fashionAddAll=this.fashionAddAll+o.fashionAdd,this.fashionLab.set(o.initValue,0),this.fashionInitValue=o.initValue),i.scale=0,this.receiveAwardLayout.addChild(i);var a=i.getComponent(g.default);a.giftInfo=o,a.updataUI()}this.fashionAddAll>0&&(this.fashionLay.active=!0,d.userSystem.userModel.fashion=d.userSystem.userModel.fashion+this.fashionAddAll),this.bgFrameDragon.playAnimation("newAnimation",1),this.scheduleOnce(function(){l.gg.audio.playOneShot(p.CommonAudioConfig.reward),e.playAwardanim(),e.playFashionAnim()},.5)},t.prototype.playFashionAnim=function(){var e=this;this.fashionAddAll>0&&(this.fashionAnimLab.node.opacity=255,this.fashionLay.active=!0,this.fashionAnimLab.string="+"+this.fashionAddAll,cc.tween(this.fashionAnimLab.node).to(.2,{scale:1.5}).to(.4,{scale:1}).to(.3,{opacity:0}).call(function(){e.fashionLab.set(e.fashionAddAll+e.fashionInitValue,.6)}).start())},t.prototype.playAwardanim=function(){for(var e=this,t=function(t){cc.tween(t).to(.5,{scale:1},{easing:"elasticOut"}).call(function(){var n=t.getComponent(g.default);if(n.giftInfo.award_type===u.AwardType.Coin){e.setFlyNodePos(e.flyCoinAll,t.getPosition());var o=n.giftInfo.initValue;o<0&&(o=0),e.coinLab.set(o,0)}else if(n.giftInfo.award_type===u.AwardType.Diamond){var i=0;i<0&&(i=0),e.diamondLab.set(n.giftInfo.initValue,0),e.setFlyNodePos(e.flyDiamondAll,t.getPosition())}e.nodeFly(n.giftInfo)}).start()},n=0,o=this.receiveAwardLayout.children;n<o.length;n++)t(o[n]);this.scheduleOnce(function(){e.onClickClose()},this.receiveAwardLayout.childrenCount*this.delayTimer+this.animTimer)},t.prototype.onClickClose=function(){this.dialogBgNode.getComponent(cc.Button).interactable=!1,this.coinLay.active=!1,this.diamondLay.active=!1,this.unscheduleAllCallbacks(),l.gg.panelRouter.hide({panel:h.CommonPanelConfig.receiveFeaturesPanel})},t.prototype.nodeFly=function(e){var t=this,n=null,o=null,i=null,a=null,r=e.initValue+e.count;e.award_type===u.AwardType.Coin?(n=this.flyCoinAll,o=this.coinLay,i=this.coinIcon,a=this.coinLab):e.award_type===u.AwardType.Diamond&&(n=this.flyDiamondAll,o=this.diamondLay,i=this.diamondIcon,a=this.diamondLab),null!=n&&(o.scale=1,o.opacity=255,o.active=!0,cc.tween(o).to(.2,{opacity:255},{easing:"quadIn"}).call(function(){for(var e=function(e){var o=n[e],s=t.receiveAwardLayout.convertToNodeSpaceAR(i.parent.convertToWorldSpaceAR(i.getPosition())),c=s.x-o.x,u=s.y-o.y;cc.tween(o).delay(.1*e).to(.1,{opacity:255},{easing:"quadIn"}).bezierTo(.5,cc.v2(o.x+c/2,o.y),cc.v2(s.x,o.y+u/10),s).call(function(){l.gg.audio.playOneShot(p.CommonAudioConfig.flyGold)}).to(.1,{opacity:0}).call(function(){0===e&&(a.set(r,.4),cc.tween(a.node).delay(1).to(.25,{scale:1.2},{easing:"sineIn"}).start(),t.dialogBgNode.getComponent(cc.Button).interactable=!0)}).start()},o=0;o<n.length;o++)e(o)}).start())},t.prototype.initFlyCoinAll=function(){if(null==this.flyCoinAll){this.flyCoinAll=[];for(var e=0;e<this.flyWalletLength;e++){var t=cc.instantiate(this.flyCoin);t.setPosition(cc.v2(0,0)),t.opacity=0,t.zIndex=this.flyWalletLength-e,this.flyLay.addChild(t),this.flyCoinAll.push(t)}}},t.prototype.initFlyDiamondAll=function(){if(null==this.flyDiamondAll){this.flyDiamondAll=[];for(var e=0;e<this.flyWalletLength;e++){var t=cc.instantiate(this.flyDiamond);t.setPosition(cc.v2(0,0)),t.opacity=0,t.zIndex=this.flyWalletLength-e,this.flyLay.addChild(t),this.flyDiamondAll.push(t)}}},t.prototype.setFlyNodePos=function(e,t){for(var n=0,o=e;n<o.length;n++){var i=o[n];i.setPosition(t),i.opacity=0}},a([v({type:cc.Node,tooltip:"\u5bf9\u8bdd\u6846\u80cc\u666f"})],t.prototype,"dialogBgNode",void 0),a([v({type:cc.Node,tooltip:"\u5bf9\u8bdd\u6846\u5185\u5bb9"})],t.prototype,"dialogContentNode",void 0),a([v({type:dragonBones.ArmatureDisplay,tooltip:"\u80cc\u666f\u5f39\u51fa\u52a8\u753b"})],t.prototype,"bgFrameDragon",void 0),a([v({type:cc.Node,tooltip:"\u5956\u52b1\u5217\u8868lay"})],t.prototype,"receiveAwardLayout",void 0),a([v({type:cc.Prefab,tooltip:"\u5956\u52b1Item\u9884\u5236\u4f53"})],t.prototype,"receiveAwardPre",void 0),a([v({type:s.default,tooltip:"\u65f6\u5c1a\u503c"})],t.prototype,"fashionLab",void 0),a([v({type:cc.Label,tooltip:"\u65f6\u5c1a\u503c\u52a8\u753b"})],t.prototype,"fashionAnimLab",void 0),a([v({type:cc.Node,tooltip:"\u65f6\u5c1a\u503c\u8282\u70b9"})],t.prototype,"fashionLay",void 0),a([v({type:cc.Node,tooltip:"\u98de\u5230\u76ee\u6807\u4f4d\u7f6e\u7684\u91d1\u5e01\u7236\u8282\u70b9"})],t.prototype,"coinLay",void 0),a([v({type:cc.Node,tooltip:"\u98de\u5230\u76ee\u6807\u4f4d\u7f6e\u7684\u91d1\u5e01"})],t.prototype,"coinIcon",void 0),a([v({type:s.default,tooltip:"\u98de\u5230\u76ee\u6807\u4f4d\u7f6e\u7684\u91d1\u5e01lab"})],t.prototype,"coinLab",void 0),a([v({type:cc.Node,tooltip:"\u98de\u5230\u76ee\u6807\u4f4d\u7f6e\u7684\u94bb\u77f3\u7236\u8282\u70b9"})],t.prototype,"diamondLay",void 0),a([v({type:cc.Node,tooltip:"\u98de\u5230\u76ee\u6807\u4f4d\u7f6e\u7684\u94bb\u77f3"})],t.prototype,"diamondIcon",void 0),a([v({type:s.default,tooltip:"\u98de\u5230\u76ee\u6807\u4f4d\u7f6e\u7684\u94bb\u77f3lab"})],t.prototype,"diamondLab",void 0),a([v({type:cc.Node,tooltip:"\u98de\u7684\u8d27\u5e01\u7236\u8282\u70b9"})],t.prototype,"flyLay",void 0),a([v({type:cc.Node,tooltip:"\u98de\u7684\u91d1\u5e01"})],t.prototype,"flyCoin",void 0),a([v({type:cc.Node,tooltip:"\u98de\u7684\u94bb\u77f3"})],t.prototype,"flyDiamond",void 0),a([_],t)}(c.PanelComponent);n.default=b,cc._RF.pop()},{"../../../../../main/scripts/framework/components/label/NumberBitLabel":"NumberBitLabel","../../../../../main/scripts/framework/gg":"gg","../../../../../main/scripts/framework/panelrouter/PanelComponent":"PanelComponent","../../../../../main/scripts/systems/api/gameapi/GameApiModels":"GameApiModels","../../../configs/CommonAudioConfig":"CommonAudioConfig","../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../systems/user/UserSystem":"UserSystem","../../../uiSystem/GamePanelSystem":"GamePanelSystem","./ReceiveGiftItem":"ReceiveGiftItem","./uiSystems/ReceiveFeaturesUIEvent":"ReceiveFeaturesUIEvent"}],ReceiveFeaturesUIEvent:[function(e,t,n){"use strict";cc._RF.push(t,"8e9f8Z7td5JI6xpAFQrp5kh","ReceiveFeaturesUIEvent"),Object.defineProperty(n,"__esModule",{value:!0}),n.ReceiveFeaturesUIEvent=void 0,(n.ReceiveFeaturesUIEvent||(n.ReceiveFeaturesUIEvent={})).CloseReceiveFeaturesPanelEvent="ReceiveFeaturesUIEvent.CloseReceiveFeaturesPanelEvent",cc._RF.pop()},{}],ReceiveGiftItem:[function(e,t,n){"use strict";cc._RF.push(t,"672cehXR8xLHaZssnhKZYQK","ReceiveGiftItem");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var l=e("../../../../../main/scripts/systems/api/gameapi/GameApiModels"),c=e("../../../framework/gg"),u=e("../../../systems/api/gameapi/GameApi"),p=e("../../../systems/item/CommonItemConfig"),h=e("../../../systems/item/ItemSystem"),d=e("../../../systems/user/UserSystem"),f=cc._decorator,g=f.ccclass,m=f.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.awardNum=null,t.iconSprite=null,t.iconFrame=[],t.spine=null,t.dragon=null,t.giftInfo=null,t.itemScale={avatar_frame:.5,chat_bubble:.43,baloot_card:.6,baloot_bg:.4,ludo_chessboard:.5,ludo_dice:1,game_gift:1},t}return i(t,e),t.prototype.updataUI=function(){this.iconSprite.node.active=!1,this.dragon.node.active=!1,this.spine.node.active=!1,this.giftInfo.award_type===l.AwardType.Item?(this.awardNum.string=this.giftInfo.itemCount,this.updaIconContent()):(this.iconSprite.node.active=!0,this.iconSprite.node.scale=.5,this.awardNum.string=this.giftInfo.count+"",this.giftInfo.award_type===l.AwardType.Coin?this.iconSprite.spriteFrame=this.iconFrame[0]:this.giftInfo.award_type===l.AwardType.Diamond&&(this.iconSprite.spriteFrame=this.iconFrame[1]))},t.prototype.updaIconContent=function(){return r(this,void 0,void 0,function(){var e,t=this;return s(this,function(){return(null==(e=h.itemSystem.getItem(this.giftInfo.itemId))?void 0:e.item_class)===l.ItemClass.design&&this.getChangeDesign(e.item_type,this.giftInfo.itemId),h.itemSystem.getItemIconInfo(this.giftInfo.itemId).then(function(n){null!=n&&(n.iconType===p.IconType.Image?(t.iconSprite.spriteFrame=n.spriteFrame,t.iconSprite.node.active=!0):n.iconType===p.IconType.Dragon?(t.dragon.node.active=!0,t.dragon.dragonAsset=n.dragonAsset,t.dragon.dragonAtlasAsset=n.dragonAtlasAsset,t.dragon.armatureName="armatureName",t.dragon.playAnimation("animation",0)):n.iconType===p.IconType.Spine&&(t.spine.skeletonData=n.spineData,t.spine.node.active=!0,t.spine.setAnimation(0,"animation",!0)),t.itemScale[e.item_type]&&(t.iconSprite.node.scale=t.itemScale[e.item_type],t.dragon.node.scale=t.itemScale[e.item_type],t.spine.node.scale=t.itemScale[e.item_type]))}),[2]})})},t.prototype.getChangeDesign=function(e,t){var n={item_id:t};u.gameApi.changeDesign(n).then(function(n){n?d.userSystem.updataUserDesign(e,t):c.gg.logger.error("changeDesign--fail")}).catch(function(e){c.gg.logger.error("changeDesign--",e)})},a([m({type:cc.Label,tooltip:"\u5956\u52b1\u6570\u91cf"})],t.prototype,"awardNum",void 0),a([m({type:cc.Sprite,tooltip:"\u5956\u52b1\u7c7b\u578b"})],t.prototype,"iconSprite",void 0),a([m({type:cc.SpriteFrame,tooltip:"\u5956\u52b1\u7c7b\u578b"})],t.prototype,"iconFrame",void 0),a([m({type:sp.Skeleton,tooltip:"\u9053\u5177spine"})],t.prototype,"spine",void 0),a([m({type:dragonBones.ArmatureDisplay,tooltip:"\u9053\u5177dragon"})],t.prototype,"dragon",void 0),a([g],t)}(cc.Component);n.default=y,cc._RF.pop()},{"../../../../../main/scripts/systems/api/gameapi/GameApiModels":"GameApiModels","../../../framework/gg":"gg","../../../systems/api/gameapi/GameApi":"GameApi","../../../systems/item/CommonItemConfig":"CommonItemConfig","../../../systems/item/ItemSystem":"ItemSystem","../../../systems/user/UserSystem":"UserSystem"}],Rechargeitem:[function(e,t,n){"use strict";cc._RF.push(t,"ef9c6rle7FAuIfZvpVyYMqd","Rechargeitem");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.callback=null,t.index=null,t}return i(t,e),t.prototype.setCallBack=function(e){this.callback=e},t.prototype.btnClick=function(){this.node.getChildByName("normal").active=!1,this.node.getChildByName("press").active=!0,console.log("-\u5f53\u524d\u6309\u94ae\u70b9\u51fb----",this.index),this.node.getChildByName("name").color=cc.color(255,255,255),this.callback&&this.callback(this.index)},t.prototype.setNormalStatus=function(){this.node.getChildByName("normal").active=!0,this.node.getChildByName("press").active=!1,this.node.getChildByName("name").color=cc.color(241,148,98)},t.prototype.setIndex=function(e){console.log("rechargeitem-----",e),this.index=e},t.prototype.SetLabeName=function(e){this.node.getChildByName("name").getComponent(cc.Label).string=e},a([s],t)}(cc.Component));n.default=l,cc._RF.pop()},{}],RecordComponent:[function(e,t,n){"use strict";cc._RF.push(t,"552a9koKv9D+4wmip48zHCJ","RecordComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=r(e("../../../../components/TabSelectorComponent")),l=e("../../../../framework/i18n/I18n"),c=e("../../../../systems/api/gameapi/GameApi"),u=e("../../../../systems/api/gameapi/GameApiModels"),p=e("../../../../systems/room/RoomModels"),h=r(e("./RecordList")),d=r(e("./RecordWinRateComponent")),f=cc._decorator,g=f.ccclass,m=f.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tabSelectorNode=null,t.balootWinRateLay=null,t.balootWinRate=null,t.balootFastWinRate=null,t.balootDoubleWinRate=null,t.balootQualifyingWinRate=null,t.ludoWinRateLay=null,t.ludoWinRate4=null,t.ludoWinRate2=null,t.recordList=null,t.notRecord=null,t.playerInfoType=null,t.balootWinRateInfo=null,t.ludoWinRateInfo=null,t.gameId=p.GameId.Baloot,t}return i(t,e),t.prototype.onLoad=function(){this.reset(),this.balootWinRate.getComponent(d.default).initUI("152"),this.balootFastWinRate.getComponent(d.default).initUI(l.i18n.getText("lobby.userInfo.fastBaloot")),this.balootDoubleWinRate.getComponent(d.default).initUI(l.i18n.getText("doublebaloot.label.title")),this.balootQualifyingWinRate.getComponent(d.default).initUI(l.i18n.getText("item.tag.qualifyingProps")),this.ludoWinRate4.getComponent(d.default).initUI(l.i18n.getText("common.pepole4")),this.ludoWinRate2.getComponent(d.default).initUI(l.i18n.getText("common.pepole2"))},t.prototype.reset=function(){this.recordList.node.active=!1,this.notRecord.active=!1,this.balootWinRateInfo=null,this.ludoWinRateInfo=null,this.gameId=p.GameId.Baloot,this.recordList.reset(),this.ludoWinRateLay.opacity=0,this.ludoWinRateLay.stopAllActions(),this.balootWinRateLay.opacity=0,this.balootWinRateLay.stopAllActions(),this.balootWinRate.getComponent(d.default).resetUI(),this.balootFastWinRate.getComponent(d.default).resetUI(),this.balootDoubleWinRate.getComponent(d.default).resetUI(),this.balootQualifyingWinRate.getComponent(d.default).resetUI(),this.ludoWinRate4.getComponent(d.default).resetUI(),this.ludoWinRate2.getComponent(d.default).resetUI()},t.prototype.updateUI=function(e){this.playerInfoType=e,this.updateTabSelector(),null!=this.balootWinRateInfo&&null!=this.ludoWinRateInfo||this.getWinRate()},t.prototype.updateTabSelector=function(){var e=this.tabSelectorNode.getComponent(s.default);e.node.on(s.default.OnTabSelectorSelectedChanged,this.onTabSelectorSelectedChanged,this);var t=l.i18n.getText("common.ludo"),n=l.i18n.getText("common.baloot");e.init([t,n],100),e.setSelectedIndex(1)},t.prototype.onTabSelectorSelectedChanged=function(e){switch(e){case 0:this.gameId=p.GameId.Ludo;break;case 1:this.gameId=p.GameId.Baloot}this.updateRecordUI()},t.prototype.updateRecordUI=function(){var e,t,n,o;switch(this.ludoWinRateLay.stopAllActions(),this.balootWinRateLay.stopAllActions(),this.gameId){case p.GameId.Ludo:this.balootWinRateLay.opacity=0,cc.tween(this.ludoWinRateLay).to(.26,{opacity:255},{easing:"sineIn"}).start();break;case p.GameId.Baloot:this.ludoWinRateLay.opacity=0,cc.tween(this.balootWinRateLay).to(.26,{opacity:255},{easing:"sineIn"}).start()}var i=[];(null===(t=null===(e=this.balootWinRateInfo)||void 0===e?void 0:e.game_record)||void 0===t?void 0:t.length)>0&&(i=this.balootWinRateInfo.game_record);var a=[];(null===(o=null===(n=this.ludoWinRateInfo)||void 0===n?void 0:n.game_record)||void 0===o?void 0:o.length)>0&&(a=this.ludoWinRateInfo.game_record),this.gameId==p.GameId.Ludo&&a.length>0||this.gameId==p.GameId.Baloot&&i.length>0?(this.recordList.reset(),this.recordList.init(i,a,this.gameId),this.recordList.node.active=!0,this.notRecord.active=!1):(this.recordList.node.active=!1,this.notRecord.active=!0),this.updateBalootWinRateUI(),this.updateLudoWinRateUI()},t.prototype.getWinRate=function(){var e,t,n,o,i=this,a={query_uid:null!==(t=null===(e=this.playerInfoType)||void 0===e?void 0:e.qurey_uid)&&void 0!==t?t:"",player_id:null!==(o=null===(n=this.playerInfoType)||void 0===n?void 0:n.player_id)&&void 0!==o?o:0,need_game_record:"1"};c.gameApi.getWinRate(a).then(function(e){var t;1==e.status&&(null===(t=e.data)||void 0===t?void 0:t.baloot)&&e.data.ludo&&(i.balootWinRateInfo=e.data.baloot,i.ludoWinRateInfo=e.data.ludo,i.updateRecordUI())})},t.prototype.updateBalootWinRateUI=function(){if(null!=this.balootWinRateInfo)for(var e=0,t=this.balootWinRateInfo.win_rate_list;e<t.length;e++){var n=t[e];switch(n.room_type){case u.WinRateRoomType.Classic:this.balootWinRate.getComponent(d.default).updateWinRateUI(n);break;case u.WinRateRoomType.Fast:this.balootFastWinRate.getComponent(d.default).updateWinRateUI(n);break;case u.WinRateRoomType.Double:this.balootDoubleWinRate.getComponent(d.default).updateWinRateUI(n);break;case u.WinRateRoomType.Qualifying:this.balootQualifyingWinRate.getComponent(d.default).updateWinRateUI(n)}}},t.prototype.updateLudoWinRateUI=function(){if(null!=this.ludoWinRateInfo)for(var e=0,t=this.ludoWinRateInfo.win_rate_list;e<t.length;e++){var n=t[e];switch(n.player_num){case 2:this.ludoWinRate2.getComponent(d.default).updateWinRateUI(n);break;case 4:this.ludoWinRate4.getComponent(d.default).updateWinRateUI(n)}}},a([m({type:cc.Node,tooltip:"top\u8d5b\u5b63\u6a21\u5f0f\u9009\u62e9"})],t.prototype,"tabSelectorNode",void 0),a([m({type:cc.Node,tooltip:"baloot\u80dc\u7387\u7236\u8282\u70b9"})],t.prototype,"balootWinRateLay",void 0),a([m({type:cc.Node,tooltip:"baloot\u80dc\u7387\u7ec4\u4ef6"})],t.prototype,"balootWinRate",void 0),a([m({type:cc.Node,tooltip:"\u5feb\u901fbaloot\u80dc\u7387\u7ec4\u4ef6"})],t.prototype,"balootFastWinRate",void 0),a([m({type:cc.Node,tooltip:"\u52a0\u500d\u6a21\u5f0fbaloot\u80dc\u7387\u7ec4\u4ef6"})],t.prototype,"balootDoubleWinRate",void 0),a([m({type:cc.Node,tooltip:"\u6392\u4f4d\u8d5bbaloot\u80dc\u7387\u7ec4\u4ef6"})],t.prototype,"balootQualifyingWinRate",void 0),a([m({type:cc.Node,tooltip:"ludo\u80dc\u7387\u7236\u8282\u70b9"})],t.prototype,"ludoWinRateLay",void 0),a([m({type:cc.Node,tooltip:"ludo4\u4eba\u80dc\u7387\u7ec4\u4ef6"})],t.prototype,"ludoWinRate4",void 0),a([m({type:cc.Node,tooltip:"ludo2\u4eba\u80dc\u7387\u7ec4\u4ef6"})],t.prototype,"ludoWinRate2",void 0),a([m({type:h.default,tooltip:"\u6218\u7ee9\u5217\u8868"})],t.prototype,"recordList",void 0),a([m({type:cc.Node,tooltip:"\u6ca1\u6709\u6218\u7ee9"})],t.prototype,"notRecord",void 0),a([g],t)}(cc.Component);n.default=y,cc._RF.pop()},{"../../../../components/TabSelectorComponent":"TabSelectorComponent","../../../../framework/i18n/I18n":"I18n","../../../../systems/api/gameapi/GameApi":"GameApi","../../../../systems/api/gameapi/GameApiModels":"GameApiModels","../../../../systems/room/RoomModels":"RoomModels","./RecordList":"RecordList","./RecordWinRateComponent":"RecordWinRateComponent"}],RecordItemBaloot:[function(e,t,n){"use strict";cc._RF.push(t,"f725dyDtadHToVAbl5f7mXq","RecordItemBaloot");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=r(e("../../../../components/UserIconStyle1Component")),l=e("../../../../framework/i18n/I18n"),c=e("../../../../systems/api/gameapi/GameApiModels"),u=cc._decorator,p=u.ccclass,h=u.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gameWinBg=null,t.gameWinLab=null,t.gameTypeLab=null,t.playerNodes=[],t.gameScoreLab=null,t}return i(t,e),t.prototype.reset=function(){for(var e=0,t=this.playerNodes;e<t.length;e++)t[e].active=!1;this.gameTypeLab.string="",this.gameScoreLab.string="",this.gameWinBg.active=!1},t.prototype.updataUI=function(e){var t=this;switch(this.reset(),this.gameScoreLab.string=e.total_scores[0]+":"+e.total_scores[1],e.players.forEach(function(e){var n,o;e&&(t.playerNodes[e.pos-1].active=!0,t.playerNodes[e.pos-1].getComponent(s.default).updateIcon(null!==(n=e.avatar)&&void 0!==n?n:""),t.playerNodes[e.pos-1].getComponent(s.default).updateIconFrame(null!==(o=e.frame)&&void 0!==o?o:""))}),1==e.is_win?(this.gameWinLab.string=l.i18n.getText("lobby.userInfo.winLab"),this.gameWinLab.node.color=new cc.Color(30,88,16,255),this.gameWinBg.active=!0):(this.gameWinLab.string=l.i18n.getText("lobby.userInfo.loseLab"),this.gameWinLab.node.color=new cc.Color(86,85,84,255)),e.room_type){case c.WinRateRoomType.Classic:this.gameTypeLab.string="152";break;case c.WinRateRoomType.Fast:this.gameTypeLab.string=l.i18n.getText("lobby.userInfo.fastBaloot");break;case c.WinRateRoomType.Double:this.gameTypeLab.string=l.i18n.getText("doublebaloot.label.title");break;case c.WinRateRoomType.Qualifying:this.gameTypeLab.string=l.i18n.getText("item.tag.qualifyingProps")}},a([h({type:cc.Node,tooltip:"\u6e38\u620f\u8d62\u80cc\u666f"})],t.prototype,"gameWinBg",void 0),a([h({type:cc.Label,tooltip:"\u6e38\u620f\u8f93\u8d62"})],t.prototype,"gameWinLab",void 0),a([h({type:cc.Label,tooltip:"\u6e38\u620f\u7c7b\u578b"})],t.prototype,"gameTypeLab",void 0),a([h({type:cc.Node,tooltip:"\u73a9\u5bb6\u5217\u8868"})],t.prototype,"playerNodes",void 0),a([h({type:cc.Label,tooltip:"\u6e38\u620f\u6bd4\u5206"})],t.prototype,"gameScoreLab",void 0),a([p],t)}(cc.Component);n.default=d,cc._RF.pop()},{"../../../../components/UserIconStyle1Component":"UserIconStyle1Component","../../../../framework/i18n/I18n":"I18n","../../../../systems/api/gameapi/GameApiModels":"GameApiModels"}],RecordItemLudo:[function(e,t,n){"use strict";cc._RF.push(t,"35976DtSwtE+5zAHLei0a/G","RecordItemLudo");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=r(e("../../../../components/UserIconStyle1Component")),l=cc._decorator,c=l.ccclass,u=l.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gameRankLab=null,t.gameWinBg=null,t.playerNodes=[],t}return i(t,e),t.prototype.reset=function(){for(var e=0,t=this.playerNodes;e<t.length;e++)t[e].active=!1;this.gameWinBg.active=!1,this.gameRankLab.string=""},t.prototype.updataUI=function(e){var t,n;this.reset();for(var o=0,i=0;i<e.players.length;i++){o=i,2==e.player_num&&(o+=1);var a=e.players[i];this.playerNodes[o].active=!0,this.playerNodes[o].getComponent(s.default).updateIcon(null!==(t=null==a?void 0:a.avatar)&&void 0!==t?t:""),this.playerNodes[o].getComponent(s.default).updateIconFrame(null!==(n=null==a?void 0:a.frame)&&void 0!==n?n:"")}1==e.is_win?(this.gameWinBg.active=!0,this.gameRankLab.string=e.rank+" st",this.gameRankLab.node.color=new cc.Color(30,88,16,255)):(this.gameRankLab.string=e.rank+" th",this.gameRankLab.node.color=new cc.Color(86,85,84,255))},a([u({type:cc.Label,tooltip:"\u6392\u540d"})],t.prototype,"gameRankLab",void 0),a([u({type:cc.Node,tooltip:"\u8d62\u80cc\u666f"})],t.prototype,"gameWinBg",void 0),a([u({type:cc.Node,tooltip:"\u73a9\u5bb6\u5217\u8868"})],t.prototype,"playerNodes",void 0),a([c],t)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../../components/UserIconStyle1Component":"UserIconStyle1Component"}],RecordList:[function(e,t,n){"use strict";cc._RF.push(t,"a28a5I24D5EWb17G7X98wd1","RecordList");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../../../systems/room/RoomModels"),l=r(e("./RecordItemBaloot")),c=r(e("./RecordItemLudo")),u=cc._decorator,p=u.ccclass,h=u.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.recordItemScrollView=null,t.recordItemParentNode=null,t.recordBalootItemNode=null,t.recordLudoItemNode=null,t.recordItemNodeHeight=30,t.spaceingY=10,t.paddingTop=10,t.paddingBottom=10,t.visableAreaMarginTop=0,t.visableAreaMarginBottom=0,t.count=2,t.itemBalootList=[],t.itemLudoList=[],t._virtualNodes=[],t.lastTimer=0,t.balootItemNodeAll=[],t.ludoItemNodeAll=[],t.gameId=null,t.itemDataLength=0,t}return i(t,e),t.prototype.getItemNode=function(){var e=null;switch(this.gameId){case s.GameId.Baloot:(e=this.balootItemNodeAll.pop())||((e=cc.instantiate(this.recordBalootItemNode)).parent=this.recordItemParentNode);break;case s.GameId.Ludo:(e=this.ludoItemNodeAll.pop())||((e=cc.instantiate(this.recordLudoItemNode)).parent=this.recordItemParentNode)}return e},t.prototype.reset=function(){this.itemBalootList=[],this.itemLudoList=[],this._virtualNodes=[],this.recordItemScrollView.stopAutoScroll(),this.recordItemParentNode.position=cc.v3(),this.ludoItemNodeAll=[],this.balootItemNodeAll=[];for(var e=this.recordItemParentNode.children.length-1;e>=0;--e){var t=this.recordItemParentNode.children[e].getComponent(l.default);t&&(this.balootItemNodeAll.push(this.recordItemParentNode.children[e]),t.reset());var n=this.recordItemParentNode.children[e].getComponent(c.default);n&&(this.ludoItemNodeAll.push(this.recordItemParentNode.children[e]),n.reset()),this.recordItemParentNode.children[e].active=!1}},t.prototype.init=function(e,t,n){switch(void 0===e&&(e=[]),void 0===t&&(t=[]),this.gameId=n,this.itemBalootList=e,this.itemLudoList=t,this.gameId){case s.GameId.Baloot:this.itemDataLength=this.itemBalootList.length,this.itemBalootList&&this.itemBalootList.length>0&&(this._virtualNodes=this.itemBalootList.map(function(){return null}));break;case s.GameId.Ludo:this.itemDataLength=this.itemLudoList.length,this.itemLudoList&&this.itemLudoList.length>0&&(this._virtualNodes=this.itemLudoList.map(function(){return null}))}this.itemDataLength>0&&(this._updateListWidth(),this.recordItemParentNode.position=cc.v3(),this._updateList())},t.prototype._updateListWidth=function(){var e=Math.ceil(this.itemDataLength/this.count);this.recordItemParentNode.height=this.paddingTop+this.paddingBottom+this.recordItemNodeHeight*e+this.spaceingY*e,this.recordItemParentNode.height<this.recordItemScrollView.node.height&&(this.recordItemParentNode.height=this.recordItemScrollView.node.height)},t.prototype.onEnable=function(){this.recordItemParentNode.on(cc.Node.EventType.POSITION_CHANGED,this._onPositionChanged,this),this.recordItemScrollView.node.on("scroll-ended",this._updateList,this)},t.prototype.onDisable=function(){this.recordItemParentNode.off(cc.Node.EventType.POSITION_CHANGED,this._onPositionChanged,this),this.recordItemScrollView.node.off("scroll-ended",this._updateList,this)},t.prototype._onPositionChanged=function(){var e=Date.now();(e-this.lastTimer)/1e3>=.1&&(this.lastTimer=e,this._updateList())},t.prototype._updateList=function(){for(var e=0;e<this._virtualNodes.length;++e){var t=this._virtualNodes[e];if(this._isVisable(e)){if(null==t)switch(t=this.getItemNode(),this._virtualNodes[e]=t,t.active=!0,this.gameId){case s.GameId.Baloot:t.getComponent(l.default).updataUI(this.itemBalootList[e]);break;case s.GameId.Ludo:t.getComponent(c.default).updataUI(this.itemLudoList[e])}t.position=this._convertIndexToPosition(e)}else t&&(t.active=!1,this.balootItemNodeAll.push(t)),this._virtualNodes[e]=null}},t.prototype._isVisable=function(e){var t=this._convertIndexToPosition(e),n=-this.recordItemParentNode.position.y+this.visableAreaMarginTop,o=n-this.visableAreaMarginTop-this.recordItemScrollView.node.height-this.visableAreaMarginBottom;return t.y+.5*this.recordItemNodeHeight<=n&&t.y-.5*this.recordItemNodeHeight>=o},t.prototype._convertIndexToPosition=function(e){var t=Math.floor(e/this.count),n=this.recordItemParentNode.width/this.count,o=this.recordItemParentNode.width/2-n/2-n*(e%this.count);return cc.v3(o,-this.paddingTop-this.recordItemNodeHeight*t-t*this.spaceingY)},a([h({type:cc.ScrollView,tooltip:"ScrollView"})],t.prototype,"recordItemScrollView",void 0),a([h({type:cc.Node,tooltip:"\u5217\u8868\u7236\u8282\u70b9"})],t.prototype,"recordItemParentNode",void 0),a([h({type:cc.Prefab,tooltip:"item baloot\u8282\u70b9"})],t.prototype,"recordBalootItemNode",void 0),a([h({type:cc.Prefab,tooltip:"item ludo\u8282\u70b9"})],t.prototype,"recordLudoItemNode",void 0),a([h({tooltip:"\u9884\u5236\u4f53item\u8282\u70b9\u7684\u9ad8\u5ea6"})],t.prototype,"recordItemNodeHeight",void 0),a([h({tooltip:"Item \u95f4\u9694\uff08px\uff09"})],t.prototype,"spaceingY",void 0),a([h({tooltip:"Item \u8ddd\u79bb\u4e0a\u8fb9\uff08px\uff09"})],t.prototype,"paddingTop",void 0),a([h({tooltip:"Item \u8ddd\u79bb\u4e0b\u8fb9\uff08px\uff09"})],t.prototype,"paddingBottom",void 0),a([h({tooltip:"\u53ef\u89c6\u533a\u57df margin, \u8d1f\u6570\u4e3a\u5f80\u5916\u6269\u5c55"})],t.prototype,"visableAreaMarginTop",void 0),a([h({tooltip:"\u53ef\u89c6\u533a\u57df margin, \u8d1f\u6570\u4e3a\u5f80\u5916\u6269\u5c55"})],t.prototype,"visableAreaMarginBottom",void 0),a([p],t)}(cc.Component);n.default=d,cc._RF.pop()},{"../../../../systems/room/RoomModels":"RoomModels","./RecordItemBaloot":"RecordItemBaloot","./RecordItemLudo":"RecordItemLudo"}],RecordWinRateComponent:[function(e,t,n){"use strict";cc._RF.push(t,"e4fbavr/AVHVaR4477pd9B+","RecordWinRateComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=r.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.titleLab=null,t.winRateSpr=null,t.winRateLab=null,t.gameCountLab=null,t.speedTime=.5,t}return i(t,e),t.prototype.initUI=function(e){this.titleLab.string=e},t.prototype.resetUI=function(){this.winRateLab.string="0%",this.gameCountLab.string="0/0",this.winRateSpr.fillRange=0,cc.Tween.stopAllByTarget(this.winRateSpr)},t.prototype.updateWinRateUI=function(e){if(e){var t=e.win_rate/100;this.winRateLab.string=e.win_rate+"%",this.gameCountLab.string=e.win_game_count+"/"+e.all_game_count,this.winRateSpr.fillRange=0,cc.Tween.stopAllByTarget(this.winRateSpr),cc.tween(this.winRateSpr).target(this.winRateSpr).to(t*this.speedTime,{fillRange:t}).start()}},a([l({type:cc.Label,tooltip:"\u6807\u9898"})],t.prototype,"titleLab",void 0),a([l({type:cc.Sprite,tooltip:"\u80dc\u7387\u56fe"})],t.prototype,"winRateSpr",void 0),a([l({type:cc.Label,tooltip:"\u80dc\u7387"})],t.prototype,"winRateLab",void 0),a([l({type:cc.Label,tooltip:"\u5c40\u6570\u6bd4"})],t.prototype,"gameCountLab",void 0),a([s],t)}(cc.Component);n.default=c,cc._RF.pop()},{}],Rectangle:[function(e,t,n){"use strict";cc._RF.push(t,"98f68U04vdMDoY8RnGZsP/G","Rectangle"),Object.defineProperty(n,"__esModule",{value:!0}),n.Rectangle=void 0;var o=e("../utils/Pool"),i=e("./Point"),a=function(){function e(e,t,n,o){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===o&&(o=0),this.x=e,this.y=t,this.width=n,this.height=o}return Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),e.prototype.setTo=function(e,t,n,o){return this.x=e,this.y=t,this.width=n,this.height=o,this},e.prototype.reset=function(){return this.x=this.y=this.width=this.height=0,this},e.prototype.recover=function(){this!=e.TEMP&&this!=e.EMPTY&&o.Pool.recover("Rectangle",this.reset())},e.create=function(){return o.Pool.getItemByClass("Rectangle",e)},e.prototype.copyFrom=function(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this},e.prototype.contains=function(e,t){return!(this.width<=0||this.height<=0)&&e>=this.x&&e<this.right&&t>=this.y&&t<this.bottom},e.prototype.intersects=function(e){return!(e.x>this.x+this.width||e.x+e.width<this.x||e.y>this.y+this.height||e.y+e.height<this.y)},e.prototype.intersection=function(t,n){return void 0===n&&(n=null),this.intersects(t)?(n||(n=new e),n.x=Math.max(this.x,t.x),n.y=Math.max(this.y,t.y),n.width=Math.min(this.right,t.right)-n.x,n.height=Math.min(this.bottom,t.bottom)-n.y,n):null},e.prototype.union=function(t,n){return void 0===n&&(n=null),n||(n=new e),this.clone(n),t.width<=0||t.height<=0?n:(n.addPoint(t.x,t.y),n.addPoint(t.right,t.bottom),this)},e.prototype.clone=function(t){return void 0===t&&(t=null),t||(t=new e),t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},e.prototype.toString=function(){return this.x+","+this.y+","+this.width+","+this.height},e.prototype.equals=function(e){return!(!e||e.x!==this.x||e.y!==this.y||e.width!==this.width||e.height!==this.height)},e.prototype.addPoint=function(e,t){return this.x>e&&(this.width+=this.x-e,this.x=e),this.y>t&&(this.height+=this.y-t,this.y=t),this.width<e-this.x&&(this.width=e-this.x),this.height<t-this.y&&(this.height=t-this.y),this},e.prototype._getBoundPoints=function(){var t=e._temB;return t.length=0,0==this.width||0==this.height?t:(t.push(this.x,this.y,this.x+this.width,this.y,this.x,this.y+this.height,this.x+this.width,this.y+this.height),t)},e._getBoundPointS=function(t,n,o,i,a){var r=e._temA;return r.length=0,0==o||0==i?r:(a&&(t*=a.width,n*=a.height,o*=a.width,i*=a.height),r.push(t,n,t+o,n,t,n+i,t+o,n+i),r)},e._getWrapRec=function(t,n){if(void 0===n&&(n=null),!t||t.length<1)return n?n.setTo(0,0,0,0):e.TEMP.setTo(0,0,0,0);n=n||e.create();var o,a,r,s,l,c=t.length,u=i.Point.TEMP;for(r=l=-(a=s=99999),o=0;o<c;o+=2)u.x=t[o],u.y=t[o+1],a=a<u.x?a:u.x,s=s<u.y?s:u.y,r=r>u.x?r:u.x,l=l>u.y?l:u.y;return n.setTo(a,s,r-a,l-s)},e.prototype.isEmpty=function(){return this.width<=0||this.height<=0},e.EMPTY=new e,e.TEMP=new e,e._temB=[],e._temA=[],e}();n.Rectangle=a,cc._RF.pop()},{"../utils/Pool":"Pool","./Point":"Point"}],RemoteConfigModel:[function(e,t,n){"use strict";cc._RF.push(t,"0daacApzDdLios3a5MPnS3t","RemoteConfigModel"),Object.defineProperty(n,"__esModule",{value:!0}),n.RemoteCoinfigType=void 0,function(e){e.Update="update",e.Hotupdate="hotupdate",e.LoginSwitch="login_switch",e.GameSwitch="game_switch",e.MoreGameSwitch="more_game_switch",e.PayConfig="pay_config",e.Feedback="feedback",e.CancelAccount="cancel_account",e.Questionnaire="questionnaire"}(n.RemoteCoinfigType||(n.RemoteCoinfigType={})),cc._RF.pop()},{}],RemoteConfigSystem:[function(e,t,n){"use strict";cc._RF.push(t,"a55f2cbI6tB/5BOXA4QTaRY","RemoteConfigSystem");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.remoteConfigSystem=void 0;var r=e("../../ffframework/common/cache/NativeCacheConst"),s=e("../../framework/gg"),l=a(e("../../framework/utils/StringUtils")),c=e("../api/gamecenter/GameCenterApi"),u=function(){function e(){this._configCache=null,this._pollingIntervalId=null}return Object.defineProperty(e.prototype,"lastUpdateTime",{get:function(){var e=s.gg.localStorage.getItem(r.NativeCacheConst.RemoteConfigUpdateTime);return l.default.isEmpty(e)?0:parseInt(e)},set:function(e){s.gg.localStorage.setItem(r.NativeCacheConst.RemoteConfigUpdateTime,String(e))},enumerable:!1,configurable:!0}),e.prototype.startPolling=function(e){var t=this;void 0===e&&(e=1800),null!=this._pollingIntervalId&&clearInterval(this._pollingIntervalId),this._pollingIntervalId=setInterval(function(){t.fetch().catch(function(e){s.gg.logger.error("\u62c9\u53d6\u8fdc\u7a0b\u914d\u7f6e\u5931\u8d25",e)})},1e3*e)},e.prototype.stopPolling=function(){null!=this._pollingIntervalId&&clearInterval(this._pollingIntervalId)},e.prototype.getConfig=function(e){return this._configCache&&null!=this._configCache[e]?this._configCache[e]:null},e.prototype.fetch=function(){var e;return o(this,void 0,Promise,function(){var t,n;return i(this,function(o){switch(o.label){case 0:return[4,c.gameCenterApi.loadRemoteConfigAsync({last_update_time:this.lastUpdateTime})];case 1:return 1===(t=o.sent()).status&&(n=t.data)&&(null!=n.last_update_time&&(this.lastUpdateTime=n.last_update_time),this._configCache=null!==(e=n.config)&&void 0!==e?e:null),s.gg.logger.debug("\u5f53\u524d\u8fdc\u7a0b\u914d\u7f6e",this._configCache),[2,t]}})})},e}();n.remoteConfigSystem=new u,cc._RF.pop()},{"../../ffframework/common/cache/NativeCacheConst":"NativeCacheConst","../../framework/gg":"gg","../../framework/utils/StringUtils":"StringUtils","../api/gamecenter/GameCenterApi":"GameCenterApi"}],ReviseUserHeadCompontent:[function(e,t,n){"use strict";cc._RF.push(t,"beed9bpofZGgpryQR5B7TnV","ReviseUserHeadCompontent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=l(e("../../../../../../main/scripts/framework/asset/AssetLoader")),u=e("../../../../../../main/scripts/framework/gg"),p=e("../../../../../../main/scripts/systems/user/UserSystem"),h=e("../uiSystems/UserInfoUIEvent"),d=cc._decorator,f=d.ccclass,g=d.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.userHeadSpr=null,t.userHeadChoose=null,t.headIndex=-1,t}return i(t,e),t.prototype.onEnable=function(){u.gg.eventManager.on(h.UserInfoUIEvent.UserInfoChooseHeadEvent,this.onReviseChooseUserHead,this)},t.prototype.onDisable=function(){u.gg.eventManager.offTarget(this)},t.prototype.onShowHead=function(e){return r(this,void 0,void 0,function(){var t,n;return s(this,function(o){switch(o.label){case 0:return-1!==this.headIndex?[2]:(this.headIndex=e,[4,c.default.loadBundleAsset("resources/textures/user/icon/"+e,cc.SpriteFrame)]);case 1:return t=o.sent(),this.userHeadSpr.spriteFrame=t,n=p.userSystem.userModel.userIcon,this.userHeadChoose.active=!1,String(e)===n&&(this.userHeadChoose.active=!0),[2]}})})},t.prototype.changeUserHeadChoose=function(){var e=p.userSystem.userModel.userIcon;this.userHeadChoose.active=!1,String(this.headIndex)===e&&(this.userHeadChoose.active=!0)},t.prototype.onClickChooseHead=function(){u.gg.eventManager.emit(h.UserInfoUIEvent.UserInfoChooseHeadEvent,this.headIndex)},t.prototype.onReviseChooseUserHead=function(e){this.headIndex===e?this.userHeadChoose.active=!0:this.userHeadChoose.active=!1},a([g({type:cc.Sprite,tooltip:"\u5934\u50cf"})],t.prototype,"userHeadSpr",void 0),a([g({type:cc.Node,tooltip:"\u5934\u50cf\u9009\u4e2d\u6846"})],t.prototype,"userHeadChoose",void 0),a([f],t)}(cc.Component);n.default=m,cc._RF.pop()},{"../../../../../../main/scripts/framework/asset/AssetLoader":"AssetLoader","../../../../../../main/scripts/framework/gg":"gg","../../../../../../main/scripts/systems/user/UserSystem":"UserSystem","../uiSystems/UserInfoUIEvent":"UserInfoUIEvent"}],RewardGalleryPanel:[function(e,t,n){"use strict";cc._RF.push(t,"86512fNHClM5a1y9WhwgtKP","RewardGalleryPanel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../../../../main/scripts/framework/gg"),l=r(e("../../../../../main/scripts/framework/components/dialogstyle/MoveStyleDialogPanelV1")),c=e("../../../configs/CommonPanelConfig"),u=cc._decorator,p=u.ccclass,h=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.config=c.CommonPanelConfig.rewardGalleryPanel,t}return i(t,e),t.prototype.hide=function(e){this._playHideAnim(function(){null==e||e.onHided()})},t.prototype.show=function(e){this._playShowAnim(function(){null==e||e.onShowed()})},t.prototype.onClose=function(){s.gg.panelRouter.hide({panel:this.config})},a([p],t)}(l.default));n.default=h,cc._RF.pop()},{"../../../../../main/scripts/framework/components/dialogstyle/MoveStyleDialogPanelV1":"MoveStyleDialogPanelV1","../../../../../main/scripts/framework/gg":"gg","../../../configs/CommonPanelConfig":"CommonPanelConfig"}],RongyunImCore:[function(e,t,n){"use strict";cc._RF.push(t,"f1e4a4IN9hCxJSx9VtzZwt1","RongyunImCore"),Object.defineProperty(n,"__esModule",{value:!0}),n.RongyunIMMessageBlockType=n.RongyunMessageDirection=n.RongyunTablePosType=n.RongyunIMExtraType=n.RongyunIMConnectionErrorCode=n.RongyunIMErrorCode=n.RongyunIMDatabaseOpenStatus=n.RongyunIMConnectionStatus=n.RongyunIMConversationType=void 0,function(e){e[e.PRIVATE=1]="PRIVATE",e[e.GROUP=3]="GROUP",e[e.CHATROOM=4]="CHATROOM",e[e.SYSTEM=6]="SYSTEM",e[e.GAME=999]="GAME",e[e.NONE=0]="NONE",e[e.DISCUSSION=2]="DISCUSSION",e[e.CUSTOMER_SERVICE=5]="CUSTOMER_SERVICE",e[e.APP_PUBLIC_SERVICE=7]="APP_PUBLIC_SERVICE",e[e.PUBLIC_SERVICE=8]="PUBLIC_SERVICE",e[e.PUSH_SERVICE=9]="PUSH_SERVICE",e[e.ULTRA_GROUP=10]="ULTRA_GROUP",e[e.ENCRYPTED=11]="ENCRYPTED",e[e.RTC_ROOM=12]="RTC_ROOM"}(n.RongyunIMConversationType||(n.RongyunIMConversationType={})),function(e){e[e.NETWORK_UNAVAILABLE=-1]="NETWORK_UNAVAILABLE",e[e.CONNECTED=0]="CONNECTED",e[e.CONNECTING=1]="CONNECTING",e[e.UNCONNECTED=2]="UNCONNECTED",e[e.KICKED_OFFLINE_BY_OTHER_CLIENT=3]="KICKED_OFFLINE_BY_OTHER_CLIENT",e[e.TOKEN_INCORRECT=4]="TOKEN_INCORRECT",e[e.CONN_USER_BLOCKED=6]="CONN_USER_BLOCKED",e[e.SIGN_OUT=12]="SIGN_OUT",e[e.SUSPEND=13]="SUSPEND",e[e.TIMEOUT=14]="TIMEOUT"}(n.RongyunIMConnectionStatus||(n.RongyunIMConnectionStatus={})),function(e){e[e.DATABASE_OPEN_SUCCESS=0]="DATABASE_OPEN_SUCCESS",e[e.DATABASE_OPEN_ERROR=33002]="DATABASE_OPEN_ERROR"}(n.RongyunIMDatabaseOpenStatus||(n.RongyunIMDatabaseOpenStatus={})),function(e){e[e.APP_NOT_CONNECT=-4]="APP_NOT_CONNECT",e[e.PARAMETER_ERROR=33003]="PARAMETER_ERROR",e[e.IPC_DISCONNECT=-2]="IPC_DISCONNECT",e[e.UNKNOWN=-1]="UNKNOWN",e[e.CONNECTED=0]="CONNECTED",e[e.MSG_SEND_OVERFREQUENCY=20604]="MSG_SEND_OVERFREQUENCY",e[e.RC_OPERATION_BLOCKED=20605]="RC_OPERATION_BLOCKED",e[e.RC_OPERATION_NOT_SUPPORT=20606]="RC_OPERATION_NOT_SUPPORT",e[e.RC_REQUEST_OVERFREQUENCY=20607]="RC_REQUEST_OVERFREQUENCY",e[e.MSG_ROAMING_SERVICE_UNAVAILABLE=33007]="MSG_ROAMING_SERVICE_UNAVAILABLE",e[e.RC_CHATROOM_RESET=33009]="RC_CHATROOM_RESET",e[e.NOT_IN_DISCUSSION=21406]="NOT_IN_DISCUSSION",e[e.RC_MSG_BLOCKED_SENSITIVE_WORD=21501]="RC_MSG_BLOCKED_SENSITIVE_WORD",e[e.RC_MSG_REPLACED_SENSITIVE_WORD=21502]="RC_MSG_REPLACED_SENSITIVE_WORD",e[e.NOT_IN_GROUP=22406]="NOT_IN_GROUP",e[e.FORBIDDEN_IN_GROUP=22408]="FORBIDDEN_IN_GROUP",e[e.NOT_IN_CHATROOM=23406]="NOT_IN_CHATROOM",e[e.FORBIDDEN_IN_CHATROOM=23408]="FORBIDDEN_IN_CHATROOM",e[e.KICKED_FROM_CHATROOM=23409]="KICKED_FROM_CHATROOM",e[e.RC_CHATROOM_NOT_EXIST=23410]="RC_CHATROOM_NOT_EXIST",e[e.RC_CHATROOM_IS_FULL=23411]="RC_CHATROOM_IS_FULL",e[e.RC_CHATROOM_ILLEGAL_ARGUMENT=23412]="RC_CHATROOM_ILLEGAL_ARGUMENT",e[e.RC_SETTING_SYNC_FAILED=26002]="RC_SETTING_SYNC_FAILED",e[e.RC_APP_PUBLICSERVICE_DEFFOLLOWED=29102]="RC_APP_PUBLICSERVICE_DEFFOLLOWED",e[e.RC_APP_PUBLICSERVICE_FOLLOWED=29103]="RC_APP_PUBLICSERVICE_FOLLOWED",e[e.RC_APP_PUBLICSERVICE_DEFUNFOLLOWED=29104]="RC_APP_PUBLICSERVICE_DEFUNFOLLOWED",e[e.RC_APP_PUBLICSERVICE_UNFOLLOWED=29105]="RC_APP_PUBLICSERVICE_UNFOLLOWED",e[e.RC_APP_PUBLICSERVICE_UNFOLLOW=29106]="RC_APP_PUBLICSERVICE_UNFOLLOW",e[e.RC_PUBLICSERVICE_ERROR_TYPE=29201]="RC_PUBLICSERVICE_ERROR_TYPE",e[e.RC_PUBLICSERVICE_DEFFOLLOWED=29202]="RC_PUBLICSERVICE_DEFFOLLOWED",e[e.RC_PUBLICSERVICE_FOLLOWED=29203]="RC_PUBLICSERVICE_FOLLOWED",e[e.RC_PUBLICSERVICE_DEFUNFOLLOWED=29204]="RC_PUBLICSERVICE_DEFUNFOLLOWED",e[e.RC_PUBLICSERVICE_UNFOLLOWED=29205]="RC_PUBLICSERVICE_UNFOLLOWED",e[e.RC_PUBLICSERVICE_UNFOLLOW=29206]="RC_PUBLICSERVICE_UNFOLLOW",e[e.REJECTED_BY_BLACKLIST=405]="REJECTED_BY_BLACKLIST",e[e.NOT_IN_WHITELIST=407]="NOT_IN_WHITELIST",e[e.RC_NET_CHANNEL_INVALID=30001]="RC_NET_CHANNEL_INVALID",e[e.RC_NET_UNAVAILABLE=30002]="RC_NET_UNAVAILABLE",e[e.RC_MSG_RESP_TIMEOUT=30003]="RC_MSG_RESP_TIMEOUT",e[e.RC_HTTP_SEND_FAIL=30004]="RC_HTTP_SEND_FAIL",e[e.RC_HTTP_REQ_TIMEOUT=30005]="RC_HTTP_REQ_TIMEOUT",e[e.RC_HTTP_RECV_FAIL=30006]="RC_HTTP_RECV_FAIL",e[e.RC_NAVI_RESOURCE_ERROR=30007]="RC_NAVI_RESOURCE_ERROR",e[e.RC_NODE_NOT_FOUND=30008]="RC_NODE_NOT_FOUND",e[e.RC_DOMAIN_NOT_RESOLVE=30009]="RC_DOMAIN_NOT_RESOLVE",e[e.RC_SOCKET_NOT_CREATED=30010]="RC_SOCKET_NOT_CREATED",e[e.RC_SOCKET_DISCONNECTED=30011]="RC_SOCKET_DISCONNECTED",e[e.RC_PING_SEND_FAIL=30012]="RC_PING_SEND_FAIL",e[e.RC_PONG_RECV_FAIL=30013]="RC_PONG_RECV_FAIL",e[e.RC_MSG_SEND_FAIL=30014]="RC_MSG_SEND_FAIL",e[e.RC_CONN_OVERFREQUENCY=30015]="RC_CONN_OVERFREQUENCY",e[e.RC_MSG_SIZE_OUT_OF_LIMIT=30016]="RC_MSG_SIZE_OUT_OF_LIMIT",e[e.RC_NETWORK_IS_DOWN_OR_UNREACHABLE=30019]="RC_NETWORK_IS_DOWN_OR_UNREACHABLE",e[e.RC_CONN_ACK_TIMEOUT=31e3]="RC_CONN_ACK_TIMEOUT",e[e.RC_CONN_PROTO_VERSION_ERROR=31001]="RC_CONN_PROTO_VERSION_ERROR",e[e.RC_CONN_ID_REJECT=31002]="RC_CONN_ID_REJECT",e[e.RC_CONN_SERVER_UNAVAILABLE=31003]="RC_CONN_SERVER_UNAVAILABLE",e[e.RC_CONN_USER_OR_PASSWD_ERROR=31004]="RC_CONN_USER_OR_PASSWD_ERROR",e[e.RC_CONN_NOT_AUTHRORIZED=31005]="RC_CONN_NOT_AUTHRORIZED",e[e.RC_CONN_REDIRECTED=31006]="RC_CONN_REDIRECTED",e[e.RC_CONN_PACKAGE_NAME_INVALID=31007]="RC_CONN_PACKAGE_NAME_INVALID",e[e.RC_CONN_APP_BLOCKED_OR_DELETED=31008]="RC_CONN_APP_BLOCKED_OR_DELETED",e[e.RC_CONN_USER_BLOCKED=31009]="RC_CONN_USER_BLOCKED",e[e.RC_DISCONN_KICK=31010]="RC_DISCONN_KICK",e[e.RC_DISCONN_USER_BLOCKED=31011]="RC_DISCONN_USER_BLOCKED",e[e.RC_CONN_TOKEN_EXPIRE=31020]="RC_CONN_TOKEN_EXPIRE",e[e.RC_CONN_OTHER_DEVICE_LOGIN=31023]="RC_CONN_OTHER_DEVICE_LOGIN",e[e.CONCURRENT_LIMIT_ERROR=31024]="CONCURRENT_LIMIT_ERROR",e[e.RC_CONN_CLUSTER_ERROR=31025]="RC_CONN_CLUSTER_ERROR",e[e.RC_CONN_APP_AUTH_FAILED=31026]="RC_CONN_APP_AUTH_FAILED",e[e.RC_CONN_DISPOSABLE_TOKEN_USED=31027]="RC_CONN_DISPOSABLE_TOKEN_USED",e[e.RC_QUERY_ACK_NO_DATA=32001]="RC_QUERY_ACK_NO_DATA",e[e.RC_MSG_DATA_INCOMPLETE=32002]="RC_MSG_DATA_INCOMPLETE",e[e.RC_CONN_REFUSED=32061]="RC_CONN_REFUSED",e[e.RC_CONNECTION_RESET_BY_PEER=32054]="RC_CONNECTION_RESET_BY_PEER",e[e.BIZ_ERROR_CLIENT_NOT_INIT=33001]="BIZ_ERROR_CLIENT_NOT_INIT",e[e.BIZ_ERROR_DATABASE_ERROR=33002]="BIZ_ERROR_DATABASE_ERROR",e[e.BIZ_ERROR_NO_CHANNEL=33004]="BIZ_ERROR_NO_CHANNEL",e[e.BIZ_ERROR_RECONNECT_SUCCESS=33005]="BIZ_ERROR_RECONNECT_SUCCESS",e[e.BIZ_ERROR_CONNECTING=33006]="BIZ_ERROR_CONNECTING",e[e.RC_TAG_INVALID_FOR_CONVERSATION=33102]="RC_TAG_INVALID_FOR_CONVERSATION",e[e.PARAMETER_INVALID_CHATROOM=23412]="PARAMETER_INVALID_CHATROOM",e[e.ROAMING_SERVICE_UNAVAILABLE_CHATROOM=23414]="ROAMING_SERVICE_UNAVAILABLE_CHATROOM",e[e.EXCCED_MAX_KV_SIZE=23423]="EXCCED_MAX_KV_SIZE",e[e.TRY_OVERWRITE_INVALID_KEY=23424]="TRY_OVERWRITE_INVALID_KEY",e[e.EXCCED_MAX_CALL_API_SIZE=23425]="EXCCED_MAX_CALL_API_SIZE",e[e.KV_STORE_NOT_AVAILABLE=23426]="KV_STORE_NOT_AVAILABLE",e[e.KEY_NOT_EXIST=23427]="KEY_NOT_EXIST",e[e.KV_STORE_NOT_ALL_SUCCESS=23428]="KV_STORE_NOT_ALL_SUCCESS",e[e.KV_STORE_OUT_OF_LIMIT=23429]="KV_STORE_OUT_OF_LIMIT",e[e.RC_CONNECTION_EXIST=34001]="RC_CONNECTION_EXIST",e[e.KV_STORE_NOT_SYNC=34004]="KV_STORE_NOT_SYNC",e[e.RC_RECALL_PARAMETER_INVALID=25101]="RC_RECALL_PARAMETER_INVALID",e[e.RC_PUSHSETTING_PARAMETER_INVALID=26001]="RC_PUSHSETTING_PARAMETER_INVALID",e[e.RC_PUSHSETTING_CONFIG_NOT_OPEN=26002]="RC_PUSHSETTING_CONFIG_NOT_OPEN",e[e.RC_SIGHT_SERVICE_UNAVAILABLE=26101]="RC_SIGHT_SERVICE_UNAVAILABLE",e[e.RC_SIGHT_MSG_DURATION_LIMIT_EXCEED=34002]="RC_SIGHT_MSG_DURATION_LIMIT_EXCEED",e[e.RC_GIF_MSG_SIZE_LIMIT_EXCEED=34003]="RC_GIF_MSG_SIZE_LIMIT_EXCEED",e[e.RC_ENVIRONMENT_ERROR=34005]="RC_ENVIRONMENT_ERROR",e[e.RC_CONNECT_TIMEOUT=34006]="RC_CONNECT_TIMEOUT",e[e.RC_PUBLIC_SERVICE_PROFILE_NOT_EXIST=34007]="RC_PUBLIC_SERVICE_PROFILE_NOT_EXIST",e[e.RC_MESSAGE_CANT_EXPAND=34008]="RC_MESSAGE_CANT_EXPAND",e[e.RC_MESSAGE_EXPAND_FAIL=34009]="RC_MESSAGE_EXPAND_FAIL",e[e.RC_MSG_EXPANSION_SIZE_LIMIT_EXCEED=34010]="RC_MSG_EXPANSION_SIZE_LIMIT_EXCEED",e[e.RC_FILE_UPLOAD_FAILED=34011]="RC_FILE_UPLOAD_FAILED",e[e.RC_VIDEO_COMPRESS_FAILED=34015]="RC_VIDEO_COMPRESS_FAILED",e[e.RC_MESSAGE_NULL_EXCEPTION=34017]="RC_MESSAGE_NULL_EXCEPTION",e[e.RC_MEDIA_EXCEPTION=34018]="RC_MEDIA_EXCEPTION",e[e.RC_FILE_EXPIRED=34020]="RC_FILE_EXPIRED"}(n.RongyunIMErrorCode||(n.RongyunIMErrorCode={})),function(e){e[e.UNKNOWN=-1]="UNKNOWN"}(n.RongyunIMConnectionErrorCode||(n.RongyunIMConnectionErrorCode={})),function(e){e.Emoji="emoji",e.Game="game",e.BigGift="bigGift",e.Qualifying="qualifying",e.Notice="notice"}(n.RongyunIMExtraType||(n.RongyunIMExtraType={})),function(e){e[e.FIXED=1]="FIXED",e[e.RANDOM=2]="RANDOM"}(n.RongyunTablePosType||(n.RongyunTablePosType={})),function(e){e[e.SEND=1]="SEND",e[e.RECEIVE=2]="RECEIVE"}(n.RongyunMessageDirection||(n.RongyunMessageDirection={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.BLOCK_GLOBAL=1]="BLOCK_GLOBAL",e[e.BLOCK_CUSTOM=2]="BLOCK_CUSTOM",e[e.BLOCK_THIRD_PATY=3]="BLOCK_THIRD_PATY"}(n.RongyunIMMessageBlockType||(n.RongyunIMMessageBlockType={})),cc._RF.pop()},{}],RongyunImEvent:[function(e,t,n){"use strict";cc._RF.push(t,"44641NBDJdM86BTKWbWYxkw","RongyunImEvent"),Object.defineProperty(n,"__esModule",{value:!0}),n.RongyunConnectResultEnum=n.RongyunImEvent=void 0,function(e){e.OnConnectCallBack="RongyunImEvent.OnConnectCallBack",e.OnConnectStatusChanged="RongyunImEvent.OnConnectStatusChanged",e.OnSendMessageAttached="RongyunImEvent.OnSendMessageAttached",e.OnSendMessageSuccess="RongyunImEvent.OnSendMessageSuccess",e.OnSendMessageFailed="RongyunImEvent.OnSendMessageFailed",e.OnReceivedMessage="RongyunImEvent.OnReceivedMessage",e.OnMessageBlocked="RongyunImEvent.OnMessageBlocked",e.OnJoinChatRoom="RongyunImEvent.OnJoinChatRoom",e.OnQuitChatRoom="RongyunImEvent.OnQuitChatRoom",e.OnGetConversationListResponse="RongyunImEvent.OnGetConversationListResponse",e.OnRemoveConversationResponse="RongyunImEvent.OnRemoveConversationResponse",e.OnGetHistoryMessagesResponse="RongyunImEvent.OnGetHistoryMessagesResponse",e.OnGetChatRoomHistoryMessagesResponse="RongyunImEvent.OnGetChatRoomHistoryMessagesResponse",e.OnDeleteMessagesResponse="RongyunImEvent.OnDeleteMessagesResponse",e.OnDeleteMessagesByMessageIdsResponse="RongyunImEvent.OnDeleteMessagesByMessageIdsResponse"}(n.RongyunImEvent||(n.RongyunImEvent={})),function(e){e[e.DatabaseOpened=0]="DatabaseOpened",e[e.Success=1]="Success",e[e.Error=2]="Error"}(n.RongyunConnectResultEnum||(n.RongyunConnectResultEnum={})),cc._RF.pop()},{}],RongyunImWrapper:[function(e,t,n){"use strict";cc._RF.push(t,"e0fd9S8CipBrbKg7GSFpy+s","RongyunImWrapper"),Object.defineProperty(n,"__esModule",{value:!0}),n.RongyunImWrapper=void 0;var o=e("../../../framework/eventmanager/EventManager"),i=e("./RongyunImCore"),a=(e("./RongyunImEvent"),function(){function e(){}return e.on=function(e,t,n){o.eventManager.on(e,t,n)},e.off=function(e,t,n){o.eventManager.off(e,t,n)},e.offTarget=function(e){o.eventManager.offTarget(e)},e.connect=function(e,t){void 0===t&&(t=0)},e.disconnect=function(){},e.logout=function(){},e.sendMessage=function(){},e.joinChatRoom=function(){return new Promise(function(e){e({error_code:i.RongyunIMErrorCode.UNKNOWN})})},e.quitChatRoom=function(){return new Promise(function(e){e({error_code:i.RongyunIMErrorCode.UNKNOWN})})},e.getConversationList=function(){return new Promise(function(e){e({error_code:i.RongyunIMErrorCode.UNKNOWN})})},e.removeConversation=function(){return new Promise(function(e){e({error_code:i.RongyunIMErrorCode.UNKNOWN})})},e.getHistoryMessages=function(){return new Promise(function(e){e({error_code:i.RongyunIMErrorCode.UNKNOWN})})},e.getChatRoomHistoryMessages=function(){return new Promise(function(e){e({error_code:i.RongyunIMErrorCode.UNKNOWN})})},e.deleteMessages=function(){return new Promise(function(e){e({error_code:i.RongyunIMErrorCode.UNKNOWN})})},e.deleteMessagesByMessageIds=function(){return new Promise(function(e){e({error_code:i.RongyunIMErrorCode.UNKNOWN})})},e._javaClassPath="com/gxx/rongyun/im/RongyunImWrapper",e._ocClassName="RongyunIMWrapper",e._joinChatRoomReqId=0,e._quitChatRoomReqId=0,e._getConversionReqId=0,e._removeConversionReqId=0,e._getHistoryMessagesReqId=0,e._getChatRoomHistoryMessagesReqId=0,e._deleteMessageReqId=0,e._deleteMessageByMessageIdsReqId=0,e}());n.RongyunImWrapper=a,cc._RF.pop()},{"../../../framework/eventmanager/EventManager":"EventManager","./RongyunImCore":"RongyunImCore","./RongyunImEvent":"RongyunImEvent"}],RoomMessage:[function(e,t,n){"use strict";cc._RF.push(t,"b6eedID5o1L/b2Vc4geFybZ","RoomMessage");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.roommsg=void 0;var r=e("./BaseMessage"),s=a(e("long"));(function(e){var t,n;(function(e){e[e.FANG_KUAI=0]="FANG_KUAI",e[e.MEI_HUA=16]="MEI_HUA",e[e.HONG_TAO=32]="HONG_TAO",e[e.HEI_TAO=48]="HEI_TAO",e[e.JOKER=64]="JOKER"})(e.PokerType||(e.PokerType={})),function(e){e[e.ERRORCODE_GR_ERROR_UNKNOW=0]="ERRORCODE_GR_ERROR_UNKNOW",e[e.ERRORCODE_GR_LOGON_SUCCESS=1]="ERRORCODE_GR_LOGON_SUCCESS",e[e.ERRORCODE_GR_USER_NO_FIND=2]="ERRORCODE_GR_USER_NO_FIND",e[e.ERRORCODE_GR_USER_PASS_ERROR=3]="ERRORCODE_GR_USER_PASS_ERROR",e[e.ERRORCODE_GR_USER_VALIDATA=4]="ERRORCODE_GR_USER_VALIDATA",e[e.ERRORCODE_GR_USER_IP_LIMITED=5]="ERRORCODE_GR_USER_IP_LIMITED",e[e.ERRORCODE_GR_IP_NO_ORDER=6]="ERRORCODE_GR_IP_NO_ORDER",e[e.ERRORCODE_GR_ONLY_MEMBER=7]="ERRORCODE_GR_ONLY_MEMBER",e[e.ERRORCODE_GR_IN_OTHER_ROOM=8]="ERRORCODE_GR_IN_OTHER_ROOM",e[e.ERRORCODE_GR_ACCOUNTS_IN_USE=9]="ERRORCODE_GR_ACCOUNTS_IN_USE",e[e.ERRORCODE_GR_PEOPLE_FULL=10]="ERRORCODE_GR_PEOPLE_FULL",e[e.ERRORCODE_GR_LIST_PART=11]="ERRORCODE_GR_LIST_PART",e[e.ERRORCODE_GR_LIST_FINISH=12]="ERRORCODE_GR_LIST_FINISH",e[e.ERRORCODE_GR_STOP_LOGON=13]="ERRORCODE_GR_STOP_LOGON",e[e.ERRORCODE_GR_NOMONEY=14]="ERRORCODE_GR_NOMONEY",e[e.ERRORCODE_GR_MATCH_LOGON=15]="ERRORCODE_GR_MATCH_LOGON",e[e.ERRORCODE_GR_TIME_OVER=16]="ERRORCODE_GR_TIME_OVER",e[e.ERRORCODE_GR_USER_LOCK=17]="ERRORCODE_GR_USER_LOCK",e[e.ERRORCODE_GR_GM_LOCK=18]="ERRORCODE_GR_GM_LOCK",e[e.ERRORCODE_GR_LAWLESS=19]="ERRORCODE_GR_LAWLESS",e[e.ERRORCODE_GR_MAXMONEY=20]="ERRORCODE_GR_MAXMONEY",e[e.ERRORCODE_GR_USERLEVEL=21]="ERRORCODE_GR_USERLEVEL"}(e.LOGON_ERROR||(e.LOGON_ERROR={})),function(e){e[e.SUB_GR_LOGONROOM_GW_ERROR=5]="SUB_GR_LOGONROOM_GW_ERROR"}(e.LOGON_ROOM_ERROR||(e.LOGON_ROOM_ERROR={})),function(e){e[e.ERRORCODE_GR_SIT_SUCCESS=50]="ERRORCODE_GR_SIT_SUCCESS",e[e.ERRORCODE_GR_BEGIN_GAME=51]="ERRORCODE_GR_BEGIN_GAME",e[e.ERRORCODE_GR_ALREAD_USER=52]="ERRORCODE_GR_ALREAD_USER",e[e.ERRORCODE_GR_PASS_ERROR=53]="ERRORCODE_GR_PASS_ERROR",e[e.ERRORCODE_GR_IP_SAME=54]="ERRORCODE_GR_IP_SAME",e[e.ERRORCODE_GR_CUT_HIGH=55]="ERRORCODE_GR_CUT_HIGH",e[e.ERRORCODE_GR_POINT_LOW=56]="ERRORCODE_GR_POINT_LOW",e[e.ERRORCODE_GR_POINT_HIGH=57]="ERRORCODE_GR_POINT_HIGH",e[e.ERRORCODE_GR_NO_FRIEND=58]="ERRORCODE_GR_NO_FRIEND",e[e.ERRORCODE_GR_POINT_LIMIT=59]="ERRORCODE_GR_POINT_LIMIT",e[e.ERRORCODE_GR_CAN_NOT_LEFT=60]="ERRORCODE_GR_CAN_NOT_LEFT",e[e.ERRORCODE_GR_NOT_FIX_STATION=61]="ERRORCODE_GR_NOT_FIX_STATION",e[e.ERRORCODE_GR_MATCH_FINISH=62]="ERRORCODE_GR_MATCH_FINISH",e[e.ERRORCODE_GR_MONEY_LIMIT=63]="ERRORCODE_GR_MONEY_LIMIT",e[e.ERRORCODE_GR_MATCH_WAIT=64]="ERRORCODE_GR_MATCH_WAIT",e[e.ERRORCODE_GR_IP_SAME_3=65]="ERRORCODE_GR_IP_SAME_3",e[e.ERRORCODE_GR_IP_SAME_4=66]="ERRORCODE_GR_IP_SAME_4",e[e.ERRORCODE_GR_UNENABLE_WATCH=67]="ERRORCODE_GR_UNENABLE_WATCH",e[e.ERRORCODE_GR_DESK_FULL=68]="ERRORCODE_GR_DESK_FULL"}(e.USER_SITDOWN||(e.USER_SITDOWN={})),function(e){e[e.en_task_type_playgame=1]="en_task_type_playgame",e[e.en_task_type_win_game=2]="en_task_type_win_game",e[e.en_task_type_special_card=3]="en_task_type_special_card",e[e.en_task_type_landlord_super=4]="en_task_type_landlord_super",e[e.en_task_type_point_crazy=5]="en_task_type_point_crazy"}(e.TASK_ENUM||(e.TASK_ENUM={})),function(e){e[e.SUB_C_TASKDAY_UPDATE_CODE_SUCC=0]="SUB_C_TASKDAY_UPDATE_CODE_SUCC",e[e.SUB_C_TASKDAY_UPDATE_CODE_NOTASK=1]="SUB_C_TASKDAY_UPDATE_CODE_NOTASK",e[e.SUB_C_TASKDAY_UPDATE_CODE_NOTCUR=2]="SUB_C_TASKDAY_UPDATE_CODE_NOTCUR",e[e.SUB_C_TASKDAY_UPDATE_CODE_NOGET=3]="SUB_C_TASKDAY_UPDATE_CODE_NOGET",e[e.SUB_C_TASKDAY_UPDATE_CODE_WAITAWARD=4]="SUB_C_TASKDAY_UPDATE_CODE_WAITAWARD"}(e.TASKDAY_UPDATE_ERROR||(e.TASKDAY_UPDATE_ERROR={})),function(e){e[e.SUB_C_TASKDAY_CUR_CODE_SUCC=0]="SUB_C_TASKDAY_CUR_CODE_SUCC",e[e.SUB_C_TASKDAY_CUR_CODE_NOGET=1]="SUB_C_TASKDAY_CUR_CODE_NOGET",e[e.SUB_C_TASKDAY_CUR_CODE_NOTASK=2]="SUB_C_TASKDAY_CUR_CODE_NOTASK",e[e.SUB_C_TASKDAY_CUR_CODE_WAITAWARD=3]="SUB_C_TASKDAY_CUR_CODE_WAITAWARD",e[e.SUB_C_TASKDAY_CUR_CODE_ALLCOMP=4]="SUB_C_TASKDAY_CUR_CODE_ALLCOMP"}(e.TASKDAY_GETCURTASK_ERROR||(e.TASKDAY_GETCURTASK_ERROR={})),function(e){e[e.MDM_GR_LOGONROOM=2000100]="MDM_GR_LOGONROOM",e[e.MDM_GR_USER_LIST=2000101]="MDM_GR_USER_LIST",e[e.MDM_GR_USER_ACTION=2000102]="MDM_GR_USER_ACTION",e[e.MDM_GR_ROOM_INFO=2000103]="MDM_GR_ROOM_INFO",e[e.MDM_GR_TASKDAY=2000118]="MDM_GR_TASKDAY",e[e.MDM_GM_FRAME=2000150]="MDM_GM_FRAME",e[e.MDM_GR_PROP=2000160]="MDM_GR_PROP",e[e.MDM_GM_GAME_NOTIFY=2000180]="MDM_GM_GAME_NOTIFY",e[e.MDM_GR_NETSIGNAL=116]="MDM_GR_NETSIGNAL",e[e.MDM_GR_BANK_MONEY=107]="MDM_GR_BANK_MONEY"}(t=e.ROOM_MDM_ID||(e.ROOM_MDM_ID={})),function(e){e[e.SUB_GR_C_LOGONROOM_ID=5]="SUB_GR_C_LOGONROOM_ID",e[e.SUB_GR_LOGONROOM_SUCCESS=2]="SUB_GR_LOGONROOM_SUCCESS",e[e.SUB_GR_LOGONROOM_ERROR=3]="SUB_GR_LOGONROOM_ERROR",e[e.SUB_GR_LOGONROOM_FINISH=4]="SUB_GR_LOGONROOM_FINISH",e[e.SUB_GR_LOGONROOM_GW_ERROR=5]="SUB_GR_LOGONROOM_GW_ERROR"}(e.SUB_GR_LOGONROOM||(e.SUB_GR_LOGONROOM={})),function(e){e[e.SUB_GR_ONLINE_USER=1]="SUB_GR_ONLINE_USER",e[e.SUB_GR_NETCUT_USER=2]="SUB_GR_NETCUT_USER",e[e.SUB_GR_DESKSTATION=3]="SUB_GR_DESKSTATION"}(e.SUB_GR_USER_LIST||(e.SUB_GR_USER_LIST={})),function(e){e[e.SUB_GR_ACTION_USER_UP=1]="SUB_GR_ACTION_USER_UP",e[e.SUB_GR_ACTION_WATCH_UP=3]="SUB_GR_ACTION_WATCH_UP",e[e.SUB_GR_ACTION_LEFT_DESK=26]="SUB_GR_ACTION_LEFT_DESK",e[e.SUB_GR_USER_SITDOWN=2]="SUB_GR_USER_SITDOWN",e[e.SUB_GR_WATCH_SITDOWN=4]="SUB_GR_WATCH_SITDOWN",e[e.SUB_GR_USER_IN_ROOM=5]="SUB_GR_USER_IN_ROOM",e[e.SUB_GR_USER_LEFTROOM=6]="SUB_GR_USER_LEFTROOM",e[e.SUB_GR_USER_SELF_LEFTROOM=106]="SUB_GR_USER_SELF_LEFTROOM",e[e.SUB_GR_USER_CUTNET=7]="SUB_GR_USER_CUTNET",e[e.SUB_GR_SIT_ERROR=8]="SUB_GR_SIT_ERROR",e[e.SUB_GR_USER_JOIN_QUEUE=11]="SUB_GR_USER_JOIN_QUEUE",e[e.SUB_GR_USER_LEFT_QUEUE=12]="SUB_GR_USER_LEFT_QUEUE",e[e.SUB_GR_QUEUE_USER_SITDOWN=13]="SUB_GR_QUEUE_USER_SITDOWN",e[e.SUB_GR_ACTION_LESS_REQUEUE=30]="SUB_GR_ACTION_LESS_REQUEUE",e[e.SUB_GR_LESSMONEY_LEFTROOM=16]="SUB_GR_LESSMONEY_LEFTROOM",e[e.SUB_GR_LESSMONEY_INGAME=17]="SUB_GR_LESSMONEY_INGAME",e[e.SUB_GR_KICKUSER_OUT_ROOM=18]="SUB_GR_KICKUSER_OUT_ROOM"}(n=e.SUB_GR_USER_ACTION||(e.SUB_GR_USER_ACTION={})),function(e){e[e.SUB_GR_TALK=1]="SUB_GR_TALK",e[e.SUB_GR_USER_AGREESTART=3]="SUB_GR_USER_AGREESTART",e[e.SUB_GR_GAME_START=4]="SUB_GR_GAME_START",e[e.SUB_GR_GAME_FINISH=5]="SUB_GR_GAME_FINISH",e[e.SUB_GR_USER_SCORE=6]="SUB_GR_USER_SCORE",e[e.SUB_GR_ACTIVE_REFRESH=9]="SUB_GR_ACTIVE_REFRESH",e[e.SUB_GR_GIVEMONEY_NOTFIY=30]="SUB_GR_GIVEMONEY_NOTFIY",e[e.SUB_GR_GAME_DESK_SIT_RULE=39]="SUB_GR_GAME_DESK_SIT_RULE"}(e.SUB_GR_ROOM_INFO||(e.SUB_GR_ROOM_INFO={})),e.SUB_GR_NETSIGNAL||(e.SUB_GR_NETSIGNAL={}),function(e){e[e.SUB_GR_TASKDAY_UPDATE=1]="SUB_GR_TASKDAY_UPDATE",e[e.SUB_GR_TASKDAY_GETCURTASK=2]="SUB_GR_TASKDAY_GETCURTASK",e[e.SUB_GR_TASKDAY_ACCEPT_NEW=3]="SUB_GR_TASKDAY_ACCEPT_NEW",e[e.SUB_GR_TASKDAY_AWARD=4]="SUB_GR_TASKDAY_AWARD"}(e.SUB_GR_TASKDAY||(e.SUB_GR_TASKDAY={})),function(e){e[e.SUB_GM_GAMEINFO=1]="SUB_GM_GAMEINFO",e[e.SUB_GM_FORCE_LEFT=3]="SUB_GM_FORCE_LEFT",e[e.SUB_GM_COMMON_TALK=4]="SUB_GM_COMMON_TALK"}(e.SUB_GM_FRAME||(e.SUB_GM_FRAME={})),function(e){e[e.SUB_GM_AGREE_INGAME=1]="SUB_GM_AGREE_INGAME",e[e.SUB_SAFE_FINISH=88]="SUB_SAFE_FINISH",e[e.SUB_GAME_START=51]="SUB_GAME_START",e[e.SUB_GM_SEND_ALL_CARD_AT_END=200]="SUB_GM_SEND_ALL_CARD_AT_END",e[e.SUB_GM_SEND_USERLOST_INFO=201]="SUB_GM_SEND_USERLOST_INFO",e[e.SUB_GR_UPDATE_GAME_USER_LIST=202]="SUB_GR_UPDATE_GAME_USER_LIST",e[e.SUB_GM_POOLDATA_FRESH=2]="SUB_GM_POOLDATA_FRESH",e[e.SUB_GM_POOL_DISTRIBUTE=3]="SUB_GM_POOL_DISTRIBUTE",e[e.SUB_GM_POOL_CONFIG=4]="SUB_GM_POOL_CONFIG",e[e.SUB_GM_POOL_RECORD=5]="SUB_GM_POOL_RECORD",e[e.SUB_TESTROOM_GAMETIME=6]="SUB_TESTROOM_GAMETIME",e[e.SUB_GM_GAME_CONFIG=7]="SUB_GM_GAME_CONFIG"}(e.SUB_GM_GAME_NOTIFY||(e.SUB_GM_GAME_NOTIFY={})),function(e){e[e.ASS_GR_BANK_OUT=2]="ASS_GR_BANK_OUT",e[e.ASS_GR_BANK_IN=3]="ASS_GR_BANK_IN"}(e.SUB_GR_BANK_MONEY||(e.SUB_GR_BANK_MONEY={})),e.SUB_GR_PROP||(e.SUB_GR_PROP={});var o=function(){function e(){}return e.prototype.readFrom=function(e){this.mainID=e.getUint32(),this.subID=e.getUint32(),this.time=e.getUint32(),this.seat=e.getUint8(),this.size=e.getUint32(),this.data=r.ByteUtil.copyByte(e,e.pos,this.size),e.pos+=this.size,this.mainID==t.MDM_GR_USER_ACTION&&(this.subID==n.SUB_GR_USER_SITDOWN?(this.msgList=[new a],this.msgList[0].readFrom(this.data)):this.subID==n.SUB_GR_ACTION_LEFT_DESK&&(this.msgList=[new l],this.msgList[0].readFrom(this.data))),this.data.pos=0},e.prototype.toString=function(){return"[\u4e3b\u6d88\u606f\u53f7:"+this.mainID+", \u5b50\u6d88\u606f\u53f7:"+this.subID+", \u65f6\u95f4:"+this.time+", \u5ea7\u4f4d\u53f7(\u6216\u684c\u5b50\u4eba\u6570):"+this.seat+", \u6570\u636e\u957f\u5ea6:"+this.size+"]"},e}();e.VideoHeadMessage=o;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.uUserId=0,t.sName="",t.i64Money=0,t.cbDeskStation=0,t.bBoy=!0,t.uLogoID=0,t.uPhotoFrame=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=83,t.ATTRIBUTES=[new r.MessageAttribute("uUserId","uint32",!1,""),new r.MessageAttribute("sName","string",!1,61),new r.MessageAttribute("i64Money","long2number",!1,""),new r.MessageAttribute("cbDeskStation","byte",!1,""),new r.MessageAttribute("bBoy","boolean",!1,""),new r.MessageAttribute("uLogoID","uint32",!1,""),new r.MessageAttribute("uPhotoFrame","uint32",!1,"")],t}(r.BaseMessage);e.VideoUserSitInfo=a;var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cbDeskStation=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=1,t.ATTRIBUTES=[new r.MessageAttribute("cbDeskStation","byte",!1,"")],t}(r.BaseMessage);e.VideoUserLeftInfo=l;var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.uNameID=0,t.dwUserID=0,t.uRoomLevel=0,t.uRoomId=0,t.szMD5Pass="",t.iLoginType=0,t.iRoomAgent=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=74,t.ATTRIBUTES=[new r.MessageAttribute("uNameID","uint32",!1,""),new r.MessageAttribute("dwUserID","int32",!1,""),new r.MessageAttribute("uRoomLevel","uint32",!1,""),new r.MessageAttribute("uRoomId","uint32",!1,""),new r.MessageAttribute("szMD5Pass","string",!1,50),new r.MessageAttribute("iLoginType","int32",!1,""),new r.MessageAttribute("iRoomAgent","int32",!1,"")],t}(r.BaseMessage);e.CMD_GR_C_LogonRoom=c;var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dwUserID=0,t.uWinCount=0,t.uLostCount=0,t.uMidCount=0,t.bDeskNO=0,t.bDeskStation=0,t.bUserState=0,t.uGameId=0,t.uRoomId=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.prototype.reset=function(){this.dwUserID=0,this.uWinCount=0,this.uLostCount=0,this.uMidCount=0,this.bDeskNO=0,this.bDeskStation=0,this.bUserState=0,this.uGameId=0,this.uRoomId=0},t.LENGTH=19,t.ATTRIBUTES=[new r.MessageAttribute("dwUserID","int32",!1,""),new r.MessageAttribute("uWinCount","uint32",!1,""),new r.MessageAttribute("uLostCount","uint32",!1,""),new r.MessageAttribute("uMidCount","uint32",!1,""),new r.MessageAttribute("bDeskNO","byte",!1,""),new r.MessageAttribute("bDeskStation","byte",!1,""),new r.MessageAttribute("bUserState","byte",!1,""),new r.MessageAttribute("uGameId","uint32",!1,""),new r.MessageAttribute("uRoomId","uint32",!1,"")],t}(r.BaseMessage);e.CSRoomMyUserInfo=u;var p=function(e){function t(){var t=e.call(this)||this;return t.uLessPoint=0,t.pUserInfoStruct=new u,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.prototype.reset=function(){this.uLessPoint=0,this.pUserInfoStruct.reset()},t.LENGTH=4+u.LENGTH,t.ATTRIBUTES=[new r.MessageAttribute("uLessPoint","uint32",!1,""),new r.MessageAttribute("pUserInfoStruct",u,!1,"")],t}(r.BaseMessage);e.CMD_GR_S_LogonRoom=p;var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dwUserID=0,t.nickName="",t.dwExperience=s.default.fromNumber(0),t.dwPoint=s.default.fromNumber(0),t.dwMoney=s.default.fromNumber(0),t.bLogoID=0,t.uPhotoFrame=0,t.uWinCount=0,t.uLostCount=0,t.uMidCount=0,t.bDeskNO=0,t.bDeskStation=0,t.bUserState=0,t.szSignature="",t.bBoy=0,t.iGameLevel=0,t.uUserIP=0,t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.prototype.copy=function(e){e&&(this.dwUserID=e.dwUserID,this.nickName=e.nickName,this.dwExperience=e.dwExperience,this.dwPoint=e.dwPoint,this.dwMoney=e.dwMoney,this.bLogoID=e.bLogoID,this.uPhotoFrame=e.uPhotoFrame,this.uWinCount=e.uWinCount,this.uLostCount=e.uLostCount,this.uMidCount=e.uMidCount,this.bDeskNO=e.bDeskNO,this.bDeskStation=e.bDeskStation,this.bUserState=e.bUserState,this.szSignature=e.szSignature,this.bBoy=e.bBoy,this.iGameLevel=e.iGameLevel,this.uUserIP=e.uUserIP)},t.prototype.clear=function(){this.dwUserID=0,this.nickName="",this.dwExperience=s.default.fromNumber(0),this.dwPoint=s.default.fromNumber(0),this.dwMoney=s.default.fromNumber(0),this.bLogoID=0,this.uPhotoFrame=0,this.uWinCount=0,this.uLostCount=0,this.uMidCount=0,this.bDeskNO=0,this.bDeskStation=0,this.bUserState=0,this.szSignature="",this.bBoy=0,this.iGameLevel=0,this.uUserIP=0},t.ATTRIBUTES=[new r.MessageAttribute("dwUserID","int32",!1,""),new r.MessageAttribute("nickName","string",!1,"NAME_STRING_LEN"),new r.MessageAttribute("dwExperience","long",!1,""),new r.MessageAttribute("dwPoint","long",!1,""),new r.MessageAttribute("dwMoney","long",!1,""),new r.MessageAttribute("bLogoID","uint32",!1,""),new r.MessageAttribute("uPhotoFrame","uint32",!1,""),new r.MessageAttribute("uWinCount","uint32",!1,""),new r.MessageAttribute("uLostCount","uint32",!1,""),new r.MessageAttribute("uMidCount","uint32",!1,""),new r.MessageAttribute("bDeskNO","byte",!1,""),new r.MessageAttribute("bDeskStation","byte",!1,""),new r.MessageAttribute("bUserState","byte",!1,""),new r.MessageAttribute("szSignature","string",!1,60),new r.MessageAttribute("bBoy","byte",!1,""),new r.MessageAttribute("iGameLevel","int32",!1,""),new r.MessageAttribute("uUserIP","uint32",!1,"")],t}(r.BaseMessage);e.CSRoomUserInfo=h;var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bDeskIndex=0,t.bDeskStation=0,t.szPassword="",t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=63,t.ATTRIBUTES=[new r.MessageAttribute("bDeskIndex","byte",!1,""),new r.MessageAttribute("bDeskStation","byte",!1,""),new r.MessageAttribute("szPassword","string",!1,61)],t}(r.BaseMessage);e.CMD_GR_C_UserSitDown=d;var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dwUserID=0,t.bLock=0,t.bDeskIndex=0,t.bDeskStation=0,t.bUserState=0,t.bIsDeskOwner=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=9,t.ATTRIBUTES=[new r.MessageAttribute("dwUserID","int32",!1,""),new r.MessageAttribute("bLock","byte",!1,""),new r.MessageAttribute("bDeskIndex","byte",!1,""),new r.MessageAttribute("bDeskStation","byte",!1,""),new r.MessageAttribute("bUserState","byte",!1,""),new r.MessageAttribute("bIsDeskOwner","byte",!1,"")],t}(r.BaseMessage);e.CMD_GR_S_UserSitDown=f;var g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new r.MessageAttribute("pUserInfoStruct",h,!1,"")],t}(r.BaseMessage);e.CMD_GR_S_UserInRoom=g;var m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.uRoomID=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=4,t.ATTRIBUTES=[new r.MessageAttribute("uRoomID","int32",!1,"")],t}(r.BaseMessage);e.CMD_GR_C_LeftRoom=m;var y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dwUserID=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=4,t.ATTRIBUTES=[new r.MessageAttribute("dwUserID","int32",!1,"")],t}(r.BaseMessage);e.CMD_GR_S_User_LeftRoom=y;var _=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dwUserID=0,t.bDeskNO=0,t.bDeskStation=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=6,t.ATTRIBUTES=[new r.MessageAttribute("dwUserID","int32",!1,""),new r.MessageAttribute("bDeskNO","byte",!1,""),new r.MessageAttribute("bDeskStation","byte",!1,"")],t}(r.BaseMessage);e.CMD_GR_S_UserCutNet=_;var v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bDeskNo=0,t.uOwnerUserID=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=5,t.ATTRIBUTES=[new r.MessageAttribute("bDeskNo","byte",!1,""),new r.MessageAttribute("uOwnerUserID","uint32",!1,"")],t}(r.BaseMessage);e.CMD_GR_DeskStation=v;var b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.byIsBaRenType=0,t.iBakFeild1=0,t.iBakFeild2=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=9,t.ATTRIBUTES=[new r.MessageAttribute("byIsBaRenType","byte",!1,""),new r.MessageAttribute("iBakFeild1","int32",!1,""),new r.MessageAttribute("iBakFeild2","int32",!1,"")],t}(r.BaseMessage);e.CMD_GR_GAME_DESK_SIT_RULE=b;var S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bDeskNO=0,t.bDeskStation=0,t.bAgreeGame=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=3,t.ATTRIBUTES=[new r.MessageAttribute("bDeskNO","byte",!1,""),new r.MessageAttribute("bDeskStation","byte",!1,""),new r.MessageAttribute("bAgreeGame","byte",!1,"")],t}(r.BaseMessage);e.SUB_GR_UserAgreeStart=S;var C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.szGameRound="",t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=32,t.ATTRIBUTES=[new r.MessageAttribute("szGameRound","string",!1,32)],t}(r.BaseMessage);e.CMD_GR_GAME_START=C;var I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iSendKickUserID=0,t.iKickedUserID=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=8,t.ATTRIBUTES=[new r.MessageAttribute("iSendKickUserID","int32",!1,""),new r.MessageAttribute("iKickedUserID","int32",!1,"")],t}(r.BaseMessage);e.CMD_C_GR_KICK_USER=I;var R=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iSendKickUserID=0,t.iKickedUserID=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=8,t.ATTRIBUTES=[new r.MessageAttribute("iSendKickUserID","int32",!1,""),new r.MessageAttribute("iKickedUserID","int32",!1,"")],t}(r.BaseMessage);e.CMD_S_GR_KICK_USER=R;var L=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.crColor=0,t.iLength=0,t.dwSendID=0,t.dwTargetID=0,t.nDefaultIndex=0,t.szMessage="",t}return i(t,e),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.ATTRIBUTES=[new r.MessageAttribute("crColor","uint32",!1,""),new r.MessageAttribute("iLength","int16",!1,""),new r.MessageAttribute("dwSendID","int32",!1,""),new r.MessageAttribute("dwTargetID","int32",!1,""),new r.MessageAttribute("nDefaultIndex","int32",!1,""),new r.MessageAttribute("szMessage","string",!1,"MAX_TALK_LEN")],t}(r.BaseMessage);e.CMD_GR_TalkData=L;var P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dwUserID=0,t.dwPoint=0,t.nExp=s.default.fromNumber(0),t.dwMoney=s.default.fromNumber(0),t.bWinCount=0,t.bLostCount=0,t.bMidCount=0,t.bCutCount=0,t.iTaxCom=0,t.iState=0,t.iTaskIndex=0,t.iTaskAwardUnit=0,t.iPerformLevel=0,t.iPlayerPlayCnt=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=44,t.ATTRIBUTES=[new r.MessageAttribute("dwUserID","int32",!1,""),new r.MessageAttribute("dwPoint","int32",!1,""),new r.MessageAttribute("nExp","long",!1,""),new r.MessageAttribute("dwMoney","long",!1,""),new r.MessageAttribute("bWinCount","byte",!1,""),new r.MessageAttribute("bLostCount","byte",!1,""),new r.MessageAttribute("bMidCount","byte",!1,""),new r.MessageAttribute("bCutCount","byte",!1,""),new r.MessageAttribute("iTaxCom","int32",!1,""),new r.MessageAttribute("iState","int32",!1,""),new r.MessageAttribute("iTaskIndex","int32",!1,""),new r.MessageAttribute("iTaskAwardUnit","int32",!1,""),new r.MessageAttribute("iPerformLevel","int32",!1,""),new r.MessageAttribute("iPlayerPlayCnt","int32",!1,"")],t}(r.BaseMessage);e.CMD_GR_UserScore=P;var M=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iUserID=0,t.iActiveVal=0,t.iSunshineVal=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=12,t.ATTRIBUTES=[new r.MessageAttribute("iUserID","int32",!1,""),new r.MessageAttribute("iActiveVal","int32",!1,""),new r.MessageAttribute("iSunshineVal","int32",!1,"")],t}(r.BaseMessage);e.CMD_GR_GAME_ACTIVE=M;var T=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iUserID=0,t.iSendAmount=0,t.iSendTimes=0,t.iTotalTimes=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=16,t.ATTRIBUTES=[new r.MessageAttribute("iUserID","int32",!1,""),new r.MessageAttribute("iSendAmount","int32",!1,""),new r.MessageAttribute("iSendTimes","int32",!1,""),new r.MessageAttribute("iTotalTimes","int32",!1,"")],t}(r.BaseMessage);e.CMD_GR_GIVE_MONEY_NOTFIY=T;var E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dwUserID=0,t.dwIndex=0,t.dwTimeFlag=0,t.dwSignalIndex=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=16,t.ATTRIBUTES=[new r.MessageAttribute("dwUserID","uint32",!1,""),new r.MessageAttribute("dwIndex","uint32",!1,""),new r.MessageAttribute("dwTimeFlag","uint32",!1,""),new r.MessageAttribute("dwSignalIndex","uint32",!1,"")],t}(r.BaseMessage);e.MSG_GP_Game_NETSignal=E;var A=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.TaskDailyID=0,t.iFinishCount=0,t.Status=0,t.tmStartData=s.default.fromNumber(0),t.iTaskTmLeft=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=24,t.ATTRIBUTES=[new r.MessageAttribute("TaskDailyID","int32",!1,""),new r.MessageAttribute("iFinishCount","int32",!1,""),new r.MessageAttribute("Status","int32",!1,""),new r.MessageAttribute("tmStartData","long",!1,""),new r.MessageAttribute("iTaskTmLeft","int32",!1,"")],t}(r.BaseMessage);e.CMD_GR_TaskDayRecord=A;var w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iUserID=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=4,t.ATTRIBUTES=[new r.MessageAttribute("iUserID","int32",!1,"")],t}(r.BaseMessage);e.CMD_GR_C_CurTaskDay=w;var O=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bGameStation=0,t.bWatchOther=0,t.bWaitTime=0,t.bReserve=0,t.szMessage="",t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=1004,t.ATTRIBUTES=[new r.MessageAttribute("bGameStation","byte",!1,""),new r.MessageAttribute("bWatchOther","byte",!1,""),new r.MessageAttribute("bWaitTime","byte",!1,""),new r.MessageAttribute("bReserve","byte",!1,""),new r.MessageAttribute("szMessage","string",!1,1e3)],t}(r.BaseMessage);e.CMD_GM_S_GameInfo=O;var G=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nUserIndexList=[],t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=40,t.ATTRIBUTES=[new r.MessageAttribute("nUserIndexList","int32",!0,10)],t}(r.BaseMessage);e.CMD_GR_S_UPDATE_DESK_USER_LIST=G;var N=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.uRoomId=0,t.iPoolMoney=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=12,t.ATTRIBUTES=[new r.MessageAttribute("uRoomId","uint32",!1,""),new r.MessageAttribute("iPoolMoney","long2number",!1,"")],t}(r.BaseMessage);e.CMD_GR_PoolData_Fresh=N;var D=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.uRoomId=0,t.uDeskId=0,t.uUserId=0,t.uCardType=0,t.uPoolMoney=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=20,t.ATTRIBUTES=[new r.MessageAttribute("uRoomId","uint32",!1,""),new r.MessageAttribute("uDeskId","uint32",!1,""),new r.MessageAttribute("uUserId","uint32",!1,""),new r.MessageAttribute("uCardType","uint32",!1,""),new r.MessageAttribute("uPoolMoney","uint32",!1,"")],t}(r.BaseMessage);e.CMD_GR_PoolData_Distrubute=D;var B=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.CardTypePro=[],t.CardTypeProCount=0,t.cbPoolSwitch=0,t.TaxKind=0,t.Tax=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=47,t.ATTRIBUTES=[new r.MessageAttribute("CardTypePro","int32",!0,10),new r.MessageAttribute("CardTypeProCount","byte",!1,""),new r.MessageAttribute("cbPoolSwitch","byte",!1,""),new r.MessageAttribute("TaxKind","byte",!1,""),new r.MessageAttribute("Tax","int32",!1,"")],t}(r.BaseMessage);e.CMD_GR_PoolConfig=B;var U=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sName="",t.sTime="",t.cbCardType=0,t.uFace=0,t.iPoolMoney=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=108,t.ATTRIBUTES=[new r.MessageAttribute("sName","string",!1,80),new r.MessageAttribute("sTime","string",!1,19),new r.MessageAttribute("cbCardType","byte",!1,""),new r.MessageAttribute("uFace","uint32",!1,""),new r.MessageAttribute("iPoolMoney","int32",!1,"")],t}(r.BaseMessage);e.tagPoolRecordData=U;var k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iUserId=0,t.iLeftSecond=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=8,t.ATTRIBUTES=[new r.MessageAttribute("iUserId","int32",!1,""),new r.MessageAttribute("iLeftSecond","int32",!1,"")],t}(r.BaseMessage);e.SUB_TestRoom_gameTime=k;var x=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iLowNoteLimit=0,t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=8,t.ATTRIBUTES=[new r.MessageAttribute("iLowNoteLimit","long2number",!1,"")],t}(r.BaseMessage);e.CMD_GM_Game_CommonConfig=x;var F=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.longNum=[],t}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return t.LENGTH},enumerable:!1,configurable:!0}),t.prototype.readFrom=function(e){this.readAttribute(e,t.ATTRIBUTES)},t.prototype.writeTo=function(e){return void 0===e&&(e=null),this.writeAttributeToBype(e,t.ATTRIBUTES)},t.LENGTH=80,t.ATTRIBUTES=[new r.MessageAttribute("longNum","long2number",!0,10)],t}(r.BaseMessage);e.Test_Long=F})(n.roommsg||(n.roommsg={})),cc._RF.pop()},{"./BaseMessage":"BaseMessage",long:43}],RoomMng:[function(e,t,n){"use strict";cc._RF.push(t,"fdb2bl1C61GLb24PuQ3BalY","RoomMng"),Object.defineProperty(n,"__esModule",{value:!0}),n.RoomMng=void 0;var o=e("../halllib/common/Dictionary"),i=e("../halllib/net/GameHallMessage").GameHallMessage.ROOM_RULE,a=function(){function e(){}return e.addGameRoomInfo=function(e){var t=this.getRoomInfoByGameId(e.uNameID,e.uRoomID);if(null==t||t.uNameID==e.uNameID){var n=this._roomListMap.get(e.uNameID);null==n&&(n=[],this._roomListMap.set(e.uNameID,n)),n.push(e)}},e.getRoomInfoByGameId=function(e,t){var n=this.getGameRoomList(e);if(null==n||0==n.length)return null;for(var o=0;o<n.length;o++)if(n[o].uRoomID==t)return n[o];return null},e.getRoomInfoById=function(e){for(var t,n=this._roomListMap.keys,o=0;o<n.length;o++){t=this._roomListMap.get(n[o]);for(var i=0;i<t.length;i++)if(t[i].uRoomID==e)return t[i]}return null},e.getGameRoomList=function(e){var t=this._roomListMap.get(e);return null==t?[]:t},e.clearGameRoomList=function(e){void 0===e&&(e=-1),e<0?this._roomListMap.clear():this._roomListMap.set(e,[])},e.isMemberRoom=function(e){return 0!=(e&i.ROOM_RULE_MEMBER_ROOM)},e.isIPLimited=function(e){return 0!=(e&i.ROOM_RULE_IP_LIMITED)},e.isVIPRoom=function(e){return 0!=(e&i.ROOM_RULE_VIP_ROOM)},e.isUnenableWatch=function(e){return 0!=(e&i.ROOM_RULE_UNENABLE_WATCH)},e.IsAutoSit=function(e){return 0!=(e&i.ROOM_RULE_AUTO_SIT_DESK)||0!=(e&i.ROOM_RULE_QUEUE_GAME)},e.isLimitSameIP=function(e){return 0!=(e&i.ROOM_RULE_LIMIT_SAME_IP)},e.isRecordGame=function(e){return 0!=(e&i.ROOM_RULE_RECORD_GAME)},e.isForbidRoomTalk=function(e){return 0!=(e&i.ROOM_RULE_FORBID_ROOM_TALK)},e.isVideoRoom=function(e){return 0!=(e&i.ROOM_RULE_VIDEO_ROOM)},e.isNotfufeng=function(e){return 0!=(e&i.ROOM_RULE_NOTFUFENG)},e.isShowName=function(e){return 0!=(e&i.ROOM_RULE_SHOW_NAME)},e.isAllNeedTax=function(e){return 0!=(e&i.ROOM_RULE_ALL_NEED_TAX)},e.isQueueGame=function(e){return 0!=(e&i.ROOM_RULE_QUEUE_GAME)},e.isRobotAutoSit=function(e){return 0!=(e&i.ROOM_RULE_ROBOTAUTO_SIT)},e.isUnity3D=function(e){return 0!=(e&i.ROOM_RULE_UNITY3D)},e.isDrawHand=function(e){return 0!=(e&i.ROOM_RULE_DRAWHAND)},e.isWatchRoom=function(e){return 0!=(e&i.ROOM_RULE_WATCHROOM)},e.isSunShine=function(e){return 0!=(e&i.ROOM_RULE_SUN_SHINE)},e.isActiveChest=function(e){return 0!=(e&i.ROOM_RULE_ACTIVE_CHEST)},e.isPkOpenPlayMethod=function(e){return 0!=(e&i.ROOM_RULE_PK_OPEN_PLAY_METHOD)},e.isPkRoom=function(e){return 0!=(e&i.ROOM_RULE_PK_ROOM)},e.ROOM_RULE_QUICK_ROOM=function(e){return 0!=(e&i.ROOM_RULE_PK_ROOM)},e.isTestRoom=function(e){return 0!=(e&i.ROOM_RULE_EXPERCISE_ROOM)},e.isRewardPoolOpen=function(e){return 0!=(e&i.ROOM_RULE_SHOW_POOL_FUN)},e.isNoTickRoom=function(e){return 0!=(e&i.ROOM_RULE_NO_TICK_ROOM)},e.GameIDList=[],e._roomListMap=new o.Dictionary,e}();n.RoomMng=a,cc._RF.pop()},{"../halllib/common/Dictionary":"Dictionary","../halllib/net/GameHallMessage":"GameHallMessage"}],RoomModels:[function(e,t,n){"use strict";cc._RF.push(t,"4e752dL4i9NtayM7AsYtUsM","RoomModels"),Object.defineProperty(n,"__esModule",{value:!0}),n.BalootRoomType=n.RoomId=n.GameId=void 0,function(e){e[e.Ludo=100001]="Ludo",e[e.Baloot=100002]="Baloot",e[e.Up7Down=100003]="Up7Down",e[e.AnimalSpin=100004]="AnimalSpin",e[e.Project=100005]="Project",e[e.Texas=100006]="Texas"}(n.GameId||(n.GameId={})),function(e){e[e.BalootDefaultRoom=999999]="BalootDefaultRoom",e[e.FastBalootDefaultRoom=1e5]="FastBalootDefaultRoom",e[e.LudoDefaultRoom=999999]="LudoDefaultRoom",e[e.Up7DownDefaultRoom=999999]="Up7DownDefaultRoom",e[e.AnimalSpinRoom=999999]="AnimalSpinRoom",e[e.ProjectRoom=999999]="ProjectRoom"}(n.RoomId||(n.RoomId={})),function(e){e[e.ClassicBaloot=1]="ClassicBaloot",e[e.FastBaloot=2]="FastBaloot",e[e.DoubleBaloot=3]="DoubleBaloot",e[e.QualifyingBaloot=4]="QualifyingBaloot"}(n.BalootRoomType||(n.BalootRoomType={})),cc._RF.pop()},{}],RoomMsgProxy:[function(e,t,n){"use strict";cc._RF.push(t,"c2b01uYK3FL7qarz7IlbLIQ","RoomMsgProxy");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var i=o(e("../../hall/BaseRoom")),a=e("../../hall/RoomMng"),r=e("../common/LogBase"),s=e("../common/ConfigMng"),l=e("../common/Define"),c=e("../core/RunData"),u=e("./Client"),p=e("./InnerEvent"),h=e("./RoomMessage"),d=o(e("../../hall/Tips")),f=h.roommsg.ROOM_MDM_ID,g=h.roommsg.SUB_GR_LOGONROOM,m=e("./GameHallMessage"),y=m.GameHallMessage.E_ERROR_CODE,_=m.GameHallMessage.ERROR_CODE_MSG,v=function(){function e(){}return e.Init=function(){p.HallEvent.on(p.HallEvent.LOGIN_GAME,e,e.sendLogonRoom)},e.EnableRoomMsg=function(){u.Client.Instance.addMsgListener(f.MDM_GR_LOGONROOM,g.SUB_GR_LOGONROOM_ERROR,this,this.subGrLogonRoomError),u.Client.Instance.addMsgListener(f.MDM_GR_LOGONROOM,g.SUB_GR_LOGONROOM_FINISH,this,this.subGrLogonroomFinish),u.Client.Instance.addMsgListener(f.MDM_GR_LOGONROOM,g.SUB_GR_LOGONROOM_GW_ERROR,this,this.subGrLogonRoomGwError),u.Client.Instance.addMsgListener(f.MDM_GR_LOGONROOM,g.SUB_GR_LOGONROOM_SUCCESS,this,this.subGrLogonroomSuccess),u.Client.Instance.addMsgListener(f.MDM_GR_USER_ACTION,h.roommsg.SUB_GR_USER_ACTION.SUB_GR_ACTION_LEFT_DESK,this,this.subGrActionLeftDesk),u.Client.Instance.addMsgListener(f.MDM_GR_USER_ACTION,h.roommsg.SUB_GR_USER_ACTION.SUB_GR_ACTION_LESS_REQUEUE,this,this.subGrActionLessRequeue),u.Client.Instance.addMsgListener(f.MDM_GR_USER_ACTION,h.roommsg.SUB_GR_USER_ACTION.SUB_GR_ACTION_USER_UP,this,this.subGrActionUserUp),u.Client.Instance.addMsgListener(f.MDM_GR_USER_ACTION,h.roommsg.SUB_GR_USER_ACTION.SUB_GR_ACTION_WATCH_UP,this,this.subGrActionWatchUp),u.Client.Instance.addMsgListener(f.MDM_GR_USER_ACTION,h.roommsg.SUB_GR_USER_ACTION.SUB_GR_KICKUSER_OUT_ROOM,this,this.subGrKickUserOutRoom),u.Client.Instance.addMsgListener(f.MDM_GR_USER_ACTION,h.roommsg.SUB_GR_USER_ACTION.SUB_GR_LESSMONEY_INGAME,this,this.subGrLessMoneyInGame),u.Client.Instance.addMsgListener(f.MDM_GR_USER_ACTION,h.roommsg.SUB_GR_USER_ACTION.SUB_GR_LESSMONEY_LEFTROOM,this,this.subGrLessMoneyLeftRoom),u.Client.Instance.addMsgListener(f.MDM_GR_USER_ACTION,h.roommsg.SUB_GR_USER_ACTION.SUB_GR_QUEUE_USER_SITDOWN,this,this.subGrQueueUserSitDown),u.Client.Instance.addMsgListener(f.MDM_GR_USER_ACTION,h.roommsg.SUB_GR_USER_ACTION.SUB_GR_SIT_ERROR,this,this.subGrSitError),u.Client.Instance.addMsgListener(f.MDM_GR_USER_ACTION,h.roommsg.SUB_GR_USER_ACTION.SUB_GR_USER_CUTNET,this,this.subGrUserCutNet),u.Client.Instance.addMsgListener(f.MDM_GR_USER_ACTION,h.roommsg.SUB_GR_USER_ACTION.SUB_GR_USER_IN_ROOM,this,this.subGrUserInRoom),u.Client.Instance.addMsgListener(f.MDM_GR_USER_ACTION,h.roommsg.SUB_GR_USER_ACTION.SUB_GR_USER_JOIN_QUEUE,this,this.subGrUserJoinQueue),u.Client.Instance.addMsgListener(f.MDM_GR_USER_ACTION,h.roommsg.SUB_GR_USER_ACTION.SUB_GR_USER_LEFT_QUEUE,this,this.subGrUserLeftQueue),u.Client.Instance.addMsgListener(f.MDM_GR_USER_ACTION,h.roommsg.SUB_GR_USER_ACTION.SUB_GR_USER_LEFTROOM,this,this.subGrUserLeftRoom),u.Client.Instance.addMsgListener(f.MDM_GR_USER_ACTION,h.roommsg.SUB_GR_USER_ACTION.SUB_GR_USER_SELF_LEFTROOM,this,this.subGruserSelfLeftRoom),u.Client.Instance.addMsgListener(f.MDM_GR_USER_ACTION,h.roommsg.SUB_GR_USER_ACTION.SUB_GR_USER_SITDOWN,this,this.subGrUserSitDown),u.Client.Instance.addMsgListener(f.MDM_GR_USER_ACTION,h.roommsg.SUB_GR_USER_ACTION.SUB_GR_WATCH_SITDOWN,this,this.subGrWatchSitDown),u.Client.Instance.addMsgListener(f.MDM_GR_ROOM_INFO,h.roommsg.SUB_GR_ROOM_INFO.SUB_GR_USER_SCORE,this,this.subGrUserScore),u.Client.Instance.addMsgListener(f.MDM_GR_ROOM_INFO,h.roommsg.SUB_GR_ROOM_INFO.SUB_GR_USER_AGREESTART,this,this.subGrUserAgreeStart),u.Client.Instance.addMsgListener(f.MDM_GR_ROOM_INFO,h.roommsg.SUB_GR_ROOM_INFO.SUB_GR_GAME_DESK_SIT_RULE,this,this.subGrUserSitRule),u.Client.Instance.addMsgListener(f.MDM_GR_USER_LIST,h.roommsg.SUB_GR_USER_LIST.SUB_GR_DESKSTATION,this,this.subGrDeskStation),u.Client.Instance.addMsgListener(f.MDM_GR_USER_LIST,h.roommsg.SUB_GR_USER_LIST.SUB_GR_NETCUT_USER,this,this.subGrNetCutUser),u.Client.Instance.addMsgListener(f.MDM_GR_USER_LIST,h.roommsg.SUB_GR_USER_LIST.SUB_GR_ONLINE_USER,this,this.subGrOnlineUser)},e.DisableRoomMsg=function(){u.Client.Instance.removeCallerListener(this)},e.sendLogonRoom=function(e,t,n){if(r.LogBase.c2sDebug("\u767b\u5f55\u623f\u95f4:",e,t,n),this.LoadingRoom!=e&&i.default.currentRoomInfo.uNameID!=e){this.LoadingRoom=e,this.EnableRoomMsg();var o=c.RunData.myUserInfo,a=new h.roommsg.CMD_GR_C_LogonRoom;a.dwUserID=o.dwUserID,a.iLoginType=o.iLoginType,a.szMD5Pass="ef6deedb331e1b7f27305e1b1ea735ad",a.uNameID=e,a.uRoomId=t,a.uRoomLevel=n,a.iRoomAgent=o.uAgencyID,r.LogBase.c2sDebug("\u767b\u5f55\u623f\u95f4 msg:",a),i.default.reset(),i.default.currentRoomInfo.uNameID=e,i.default.currentRoomInfo.uRoomID=t,i.default.currentRoomInfo.iRoomLevel=n,u.Client.Instance.sendData(f.MDM_GR_LOGONROOM,g.SUB_GR_C_LOGONROOM_ID,a.writeTo())}else r.LogBase.warn("\u91cd\u590d\u767b\u5f55\u623f\u95f4:",e,t,n)},e.sendUserUp=function(){r.LogBase.c2sDebug("\u79bb\u5f00\u5ea7\u4f4d"),u.Client.Instance.sendData(f.MDM_GR_USER_ACTION,h.roommsg.SUB_GR_USER_ACTION.SUB_GR_ACTION_USER_UP)},e.sendLeftRoom=function(){if(null!=i.default.currentRoomInfo){r.LogBase.c2sDebug("\u79bb\u5f00\u623f\u95f4");var e=new h.roommsg.CMD_GR_C_LeftRoom;e.uRoomID=i.default.currentRoomInfo.uRoomID,u.Client.Instance.sendData(f.MDM_GR_USER_ACTION,h.roommsg.SUB_GR_USER_ACTION.SUB_GR_USER_LEFTROOM,e.writeTo()),this.DisableRoomMsg()}else r.LogBase.error("\u79bb\u5f00\u623f\u95f4\u5f02\u5e38,\u5f53\u524d\u4e0d\u5728\u623f\u95f4\u91cc\uff1f")},e.sendQuickSitDown=function(){return r.LogBase.c2sDebug("\u81ea\u52a8\u9009\u62e9\u4e00\u4e2a\u7a7a\u4f4d\u5750\u4e0b"),u.Client.Instance.sendData(f.MDM_GR_USER_ACTION,h.roommsg.SUB_GR_USER_ACTION.SUB_GR_USER_JOIN_QUEUE,null),!0},e.sendChangeDesk=function(){r.LogBase.c2sDebug("\u6362\u684c(\u5feb\u901f\u5750\u4e0b)"),this.sendQuickSitDown()},e.sendSitDown=function(e,t){r.LogBase.c2sDebug("\u9009\u62e9\u4f4d\u7f6e\u5750\u4e0b");var n=new h.roommsg.CMD_GR_C_UserSitDown;n.bDeskIndex=e,n.bDeskStation=t,n.szPassword="",u.Client.Instance.sendData(f.MDM_GR_USER_ACTION,h.roommsg.SUB_GR_USER_ACTION.SUB_GR_USER_SITDOWN,n.writeTo())},e.SendGameInfo=function(){r.LogBase.c2sDebug("SendGameInfo"),u.Client.Instance.sendData(h.roommsg.ROOM_MDM_ID.MDM_GM_FRAME,h.roommsg.SUB_GM_FRAME.SUB_GM_GAMEINFO)},e.subGrLogonRoomError=function(e){i.default.reset(),this.LoadingRoom=0,this.DisableRoomMsg(),r.LogBase.s2cDebug("\u767b\u5f55\u623f\u95f4\u5931\u8d25:"+e.uHandleCode),p.HallEvent.event(p.HallEvent.SHOW_WAITTING_MSG,_.getCodeMsg(e.uHandleCode)),p.HallEvent.event(p.HallEvent.LOGIN_GAME_ERROR,e.uHandleCode)},e.subGrLogonRoomGwError=function(e){i.default.reset(),r.LogBase.s2cDebug("\u767b\u5f55\u623f\u95f4\u5931\u8d25,\u623f\u95f4\u6ca1\u542f\u52a8 head:",e),this.LoadingRoom=0,this.DisableRoomMsg(),p.HallEvent.event(p.HallEvent.SHOW_WAITTING_MSG,s.ConfigMng.getTips(l.Define.TIPS.LOGIN_GAMEROOM_ERROR)),p.HallEvent.event(p.HallEvent.LOGIN_GAME_ERROR,e.uHandleCode)},e.subGrLogonroomFinish=function(){r.LogBase.s2cDebug("\u767b\u5f55\u623f\u95f4\u5b8c\u6210"),this.LoadingRoom=0,p.HallEvent.event(p.HallEvent.CLOSE_WAITTING_MSG),p.HallEvent.dispatcher.event(p.HallEvent.LOGIN_GAME_SUCCEED,i.default.currentRoomInfo.uNameID)},e.subGrLogonroomSuccess=function(e,t){this.LoadingRoom=0,i.default.myUserRoomInfo.readFrom(t);for(var n=a.RoomMng.getGameRoomList(Number(i.default.currentRoomInfo.uNameID)),o=0;o<n.length;o++)i.default.currentRoomInfo.uRoomID==n[o].uRoomID&&(i.default.currentRoomInfo=n[o]);r.LogBase.s2cDebug("\u767b\u5f55\u623f\u95f4\u6210\u529f",i.default.myUserRoomInfo,i.default.currentRoomInfo,i.default.myUserRoomInfo.pUserInfoStruct.bDeskNO),p.HallEvent.eventByHead(e)},e.subGrActionLeftDesk=function(e,t){r.LogBase.s2cDebug("\u79bb\u5f00\u4f4d\u7f6e");var n=new h.roommsg.CMD_GR_S_UserSitDown;n.readFrom(t),null!=i.default.getUser(n.dwUserID)?(i.default.updateUserPos(n.dwUserID,n.bDeskIndex,n.bDeskStation),p.HallEvent.eventByHead(e,n)):r.LogBase.warn("\u4e0d\u5b58\u5728\u7684\u7528\u6237\u8d77\u6765\u4e86\uff1f(userID:"+n.dwUserID+")")},e.subGrActionLessRequeue=function(e){this._waitChangeDesk=!0,r.LogBase.s2cDebug("\u4eba\u6570\u8fc7\u5c11\uff0c\u9700\u8981\u91cd\u65b0\u6392\u961f"),p.HallEvent.eventByHead(e)},e.subGrActionUserUp=function(e,t){r.LogBase.s2cDebug("\u7528\u6237\u8d77\u6765,data:",t);var n=new h.roommsg.CMD_GR_S_UserSitDown;n.readFrom(t),r.LogBase.s2cDebug("\u7528\u6237\u8d77\u6765,userid:",n.dwUserID),null!=i.default.getUser(n.dwUserID)?(i.default.updateUserPos(n.dwUserID,-1,-1),p.HallEvent.eventByHead(e,n)):r.LogBase.warn("\u4e0d\u5b58\u5728\u7684\u7528\u6237\u8d77\u6765\u4e86\uff1f(userID:"+n.dwUserID+")")},e.subGrActionWatchUp=function(){r.LogBase.s2cDebug("\u65c1\u89c2\u8d77\u6765")},e.subGrKickUserOutRoom=function(e,t){r.LogBase.s2cDebug("\u8e22\u4eba\u3001\u88ab\u63d0\u51fa\u623f\u95f4"),d.default.SetWarnText(s.ConfigMng.getTips(l.Define.TIPS.BE_KICKED));var n=new h.roommsg.CMD_C_GR_KICK_USER;n.readFrom(t),i.default.removeUser(n.iKickedUserID),n.iKickedUserID==c.RunData.myUserInfo.dwUserID&&this._notEnoughMoneyExitRoom()},e.subGrLessMoneyInGame=function(){r.LogBase.s2cDebug("\u901a\u77e5\u73a9\u5bb6\u94b1\u4e0d\u591f"),d.default.SetWarnText(s.ConfigMng.getTips(l.Define.TIPS.INSUFFICIENT_GOLD_COINS)),p.HallEvent.event(p.HallEvent.SHOW_RECHARGE_TIP),this._notEnoughMoneyExitRoom()},e.subGrLessMoneyLeftRoom=function(){r.LogBase.s2cDebug("\u94b1\u4e0d\u591f\u5c06\u4f1a\u88ab\u8e22\u51fa\u623f\u95f4"),d.default.SetWarnText(s.ConfigMng.getTips(l.Define.TIPS.INSUFFICIENT_GOLD_COINS)),p.HallEvent.event(p.HallEvent.SHOW_RECHARGE_TIP),this._notEnoughMoneyExitRoom()},e._notEnoughMoneyExitRoom=function(){return p.HallEvent.event(p.HallEvent.GO_BACK_TO_HALL),!1},e.subGrQueueUserSitDown=function(e,t){r.LogBase.log("\u6392\u961f\u7528\u6237\u5750\u4e0b,");var n=t.getInt32();if(n<0||n>i.default.currentRoomInfo.uDeskCount)r.LogBase.error("\u684c\u5b50\u53f7\u5f02\u5e38:"+n+"(\u6700\u5927"+i.default.currentRoomInfo.uDeskCount+")");else{for(var o,a=-1,s=[];t.bytesAvailable;)a++,o=t.getInt32(),s.push(o),o==c.RunData.myUserInfo.dwUserID&&(this._waitChangeDesk=!1),i.default.updateUserPos(o,n,a);s.toString(),p.HallEvent.eventByHead(e)}},e.subGrSitError=function(){r.LogBase.s2cDebug("\u7528\u6237\u5750\u4e0b\u5931\u8d25"),p.HallEvent.event(p.HallEvent.GAME_SITE_ERROR)},e.subGrUserCutNet=function(){r.LogBase.s2cDebug("\u7528\u6237\u65ad\u7ebf")},e.subGrUserInRoom=function(e,t){var n=new h.roommsg.CMD_GR_S_UserInRoom;n.readFrom(t),i.default.addUser(n.pUserInfoStruct),p.HallEvent.eventByHead(e,n)},e.subGrUserJoinQueue=function(e){r.LogBase.s2cDebug("\u52a0\u5165\u6392\u961f\u673a(code: "+e.uHandleCode+")"),p.HallEvent.eventByHead(e)},e.subGrUserLeftQueue=function(e){r.LogBase.s2cDebug("\u9000\u51fa\u6392\u961f\u673a(code: "+e.uHandleCode+")"),p.HallEvent.eventByHead(e)},e.subGrUserLeftRoom=function(e,t){if(r.LogBase.s2cDebug("\u6709\u4eba\u79bb\u5f00\u623f\u95f4"),0==e.uHandleCode){var n=new h.roommsg.CMD_GR_S_User_LeftRoom;n.readFrom(t),i.default.removeUser(n.dwUserID),p.HallEvent.eventByHead(e,n)}},e.subGruserSelfLeftRoom=function(e){r.LogBase.s2cDebug("\u81ea\u5df1\u79bb\u5f00\u623f\u95f4"),i.default.reset(),p.HallEvent.eventByHead(e)},e.subGrUserSitDown=function(e,t){var n=new h.roommsg.CMD_GR_S_UserSitDown;n.readFrom(t);var o=i.default.getUser(n.dwUserID);null!=o?(n.dwUserID==c.RunData.myUserInfo.dwUserID&&(i.default.myUserRoomInfo.pUserInfoStruct.bDeskNO=n.bDeskIndex,i.default.myUserRoomInfo.pUserInfoStruct.bDeskStation=n.bDeskStation,this.SendGameInfo()),r.LogBase.s2cDebug("\u7528\u6237\u5750\u4e0b(name:"+o.nickName+",ID:"+o.dwUserID+", deskAndSeat:["+n.bDeskIndex+","+n.bDeskStation+"])",n),i.default.updateUserPos(n.dwUserID,n.bDeskIndex,n.bDeskStation),p.HallEvent.eventByHead(e,n)):r.LogBase.warn("\u7528\u6237\u5750\u4e0b\uff0c\u4f46\u7528\u6237\u4e0d\u5b58\u5728(userID:"+n.dwUserID+")")},e.subGrWatchSitDown=function(e,t){r.LogBase.s2cDebug("\u65c1\u89c2\u8005\u5750\u4e0b");var n=new h.roommsg.CMD_GR_S_UserSitDown;n.readFrom(t),null!=i.default.getUser(n.dwUserID)?(i.default.updateUserPos(n.dwUserID,n.bDeskIndex,n.bDeskStation),p.HallEvent.eventByHead(e,n)):r.LogBase.warn("\u7528\u6237\u4e0d\u5b58\u5728(userID:"+n.dwUserID+")")},e.subGrDeskStation=function(e,t){r.LogBase.s2cDebug("\u8fd4\u56de\u684c\u5b50\u72b6\u6001");var n=new h.roommsg.CMD_GR_DeskStation;n.readFrom(t),p.HallEvent.eventByHead(e,n)},e.subGrNetCutUser=function(e,t){var n;if(r.LogBase.s2cDebug("\u65ad\u7ebf\u7528\u6237"),null!=t)for(;t.bytesAvailable;)(n=new h.roommsg.CSRoomUserInfo).readFrom(t),i.default.addUser(n),r.LogBase.s2cDebug("subGrNetCutUser CSRoomUserInfo",n);e.uHandleCode==y.E_ERROR_GAME_LIST_FINISH&&p.HallEvent.eventByHead(e)},e.subGrOnlineUser=function(e,t){var n;for(r.LogBase.s2cDebug("\u5728\u7ebf\u7528\u6237");t.bytesAvailable;)(n=new h.roommsg.CSRoomUserInfo).readFrom(t),i.default.addUser(n),r.LogBase.s2cDebug("subGrOnlineUser CSRoomUserInfo",n);p.HallEvent.eventByHead(e)},e.subGrUserScore=function(e,t){var n=new h.roommsg.CMD_GR_UserScore;n.readFrom(t);var o=i.default.getUser(n.dwUserID);null!=o?(o.dwExperience=o.dwExperience.add(n.nExp),o.dwMoney=o.dwMoney.add(n.dwMoney),o.dwPoint=o.dwPoint.add(n.dwPoint),o.uWinCount+=n.bWinCount,o.uLostCount+=n.bLostCount,o.uMidCount+=n.bMidCount,c.RunData.myUserInfo.dwUserID==o.dwUserID&&(c.RunData.myUserInfo.dwMoney=o.dwMoney.toNumber(),c.RunData.myUserInfo.iExperience=o.dwExperience.toNumber()),i.default.eventUserUpdate(o)):r.LogBase.warn("\u627e\u4e0d\u5230\u7528\u6237(userID:"+n.dwUserID+")"),p.HallEvent.eventByHead(e,n)},e.subGrUserAgreeStart=function(e,t){var n=new h.roommsg.SUB_GR_UserAgreeStart;n.readFrom(t),r.LogBase.s2cDebug("[\u5e7f\u64ad]\u7528\u6237\u540c\u610f\u5f00\u59cb",n),p.HallEvent.eventByHead(e,n)},e.subGrUserSitRule=function(e,t){var n=new h.roommsg.SUB_GR_UserAgreeStart;n.readFrom(t),r.LogBase.s2cDebug("\u7528\u6237\u5750\u4e0b\u89c4\u5219...",n),p.HallEvent.eventByHead(e,n)},e._waitChangeDesk=!1,e}();n.default=v,cc._RF.pop()},{"../../hall/BaseRoom":"BaseRoom","../../hall/RoomMng":"RoomMng","../../hall/Tips":"Tips","../common/ConfigMng":"ConfigMng","../common/Define":"Define","../common/LogBase":"LogBase","../core/RunData":"RunData","./Client":"Client","./GameHallMessage":"GameHallMessage","./InnerEvent":"InnerEvent","./RoomMessage":"RoomMessage"}],RoomProto:[function(e,t,n){"use strict";cc._RF.push(t,"487175WMbtKR6qtmnZkRF//","RoomProto"),Object.defineProperty(n,"__esModule",{value:!0}),n.RoomProtoMsg=void 0,function(e){e.JoinRoomRequest="JoinRoomRequest",e.JoinRoomResponse="JoinRoomResponse",e.LeaveRoomRequest="LeaveRoomRequest",e.LeaveRoomResponse="LeaveRoomResponse"}(n.RoomProtoMsg||(n.RoomProtoMsg={})),cc._RF.pop()},{}],RoomSystem:[function(e,t,n){"use strict";cc._RF.push(t,"90ab5B4HoZOo7kZ/GbMaLLl","RoomSystem");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.roomSystem=void 0;var a=e("../gamews/GameSocketSystem"),r=e("./RoomProto"),s=function(){function e(){}return e.prototype.joinRoom=function(e){return o(this,void 0,Promise,function(){return i(this,function(t){switch(t.label){case 0:return[4,a.gameSocketSystem.requestAsync({requestMsg:r.RoomProtoMsg.JoinRoomRequest,requestData:e,responseMsg:r.RoomProtoMsg.JoinRoomResponse})];case 1:return[2,t.sent()]}})})},e.prototype.leaveRoom=function(e){return o(this,void 0,Promise,function(){return i(this,function(t){switch(t.label){case 0:return[4,a.gameSocketSystem.requestAsync({requestMsg:r.RoomProtoMsg.LeaveRoomRequest,requestData:e,responseMsg:r.RoomProtoMsg.LeaveRoomResponse})];case 1:return[2,t.sent()]}})})},e}();n.roomSystem=new s,cc._RF.pop()},{"../gamews/GameSocketSystem":"GameSocketSystem","./RoomProto":"RoomProto"}],RoundLayout:[function(e,t,n){"use strict";cc._RF.push(t,"6ea78qqypxH6r4BbSbRcz/h","RoundLayout");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=r.executeInEditMode,c=r.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._radius=100,t._target=null,t._tilt=!1,t}return i(t,e),Object.defineProperty(t.prototype,"radius",{get:function(){return this._radius},set:function(e){this._radius!==e&&(this._radius=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"target",{get:function(){return this._target},set:function(e){this._target=e,this.onTurnChange()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tilt",{get:function(){return this._tilt},set:function(e){this._tilt!==e&&(this._tilt=e)},enumerable:!1,configurable:!0}),t.prototype.onTurnChange=function(){if(this.target&&this.target.children.length>0)for(var e=this.target.children.length,t=360/e,n=0;n<e;n++){var o=this.radius*Math.cos(t*n*Math.PI/180),i=this.radius*Math.sin(t*n*Math.PI/180);this.target.children[n].setPosition(o,i)}},t.prototype.onChangeAngle=function(){if(this.target&&this.target.children.length>0){var e=this.target.children.length;if(this._tilt)for(var t=0;t<e;t++){var n=this.target.children[t].x,o=this.target.children[t].y,i=cc.v2(n,o).signAngle(cc.v2(1,0))/Math.PI*180;this.target.children[t].angle=-90-i}else for(t=0;t<e;t++)this.target.children[t].angle=0}},a([c({visible:!1})],t.prototype,"_radius",void 0),a([c({tooltip:"\u5706\u534a\u5f84",type:cc.Integer})],t.prototype,"radius",null),a([c({visible:!1})],t.prototype,"_target",void 0),a([c({type:cc.Node,tooltip:"\u8f6c\u76d8\u7236\u8282\u70b9"})],t.prototype,"target",null),a([c({visible:!1})],t.prototype,"_tilt",void 0),a([c({type:cc.Boolean,tooltip:"\u662f\u5426\u9700\u8981\u504f\u8f6c\u89d2\u5ea6"})],t.prototype,"tilt",null),a([s,l()],t)}(cc.Component);n.default=u,cc._RF.pop()},{}],RunData:[function(e,t,n){"use strict";cc._RF.push(t,"2858fhHIb9Jk7WEnFN2DD79","RunData"),Object.defineProperty(n,"__esModule",{value:!0}),n.GameTool=n.RunData=void 0;var o=e("../net/PlatformConfig"),i=e("../common/Types"),a=e("../common/ConfigMng"),r=e("../common/Tools"),s=e("../laya/Laya").Laya.Browser,l=function(){function e(){}return Object.defineProperty(e,"needFormatMoney",{get:function(){return!1},enumerable:!1,configurable:!0}),e.getTime=function(){return this.s2cTimeDelay+s.now()},e.getPixType=function(){return null==e.userPixAccount||null==e.userPixAccount?0:null==e.userPixAccount.pixAccount||null==e.userPixAccount.pixAccount?0:e.userPixAccount.pixAccount.PixType},e.init=function(){e.languageid=a.ConfigMng.tipsconfig.languageid,e.myUserInfo=null},e.release=function(){console.log("rundata release"),e.languageid=a.ConfigMng.tipsconfig.languageid,e.myUserInfo=null,e.userPixAccount.release(),e.urlParams=r.BrowserUtil.getUrlParams(),e.urlParams.get("u")&&(e.promoterId=e.urlParams.get("u"));var t=e.urlParams.get("a");e.agentId=t||a.ConfigMng.getDefaultAgent()},e.GetUserMoney=function(){return c.formatMoneyString(e.myUserInfo.dwMoney,2,"M","K")},e.GetPraseInfo=function(){var e=Math.floor((new Date).getTime()/1e3);return'#{"a":"'+this.agentId.toString()+'","u":"'+this.myUserInfo.dwUserID.toString()+'","ts":"'+e.toString()+'"}'},e.version="1.0.0",e.use3DMode=!0,e.particlesEnabled=!0,e.movieEffectEnabled=!0,e.szLoginState="",e.LotteryConfig=null,e.isPaying=!1,e.LuckyRouletteData=null,e.IsRunLuckyRoulette=!1,e.userPixAccount=new o.servicedata.UserWalletAccount,e.s2cTimeDelay=0,e.agentId=1,e.promoterId=0,e.PromoterIncome=new o.servicedata.PromoterIncome,e.PromoterIncomeDetailsList=new o.servicedata.PromoterIncomeDetailsList,e.clientPlantform=i.E_LOGIN_PLANTFORM.LPLAT_WEB,e.gameExitOverTime=1e3,e.GUEST_PWD="",e}();n.RunData=l;var c=function(){function e(){}return e.FormatScoreString=function(e){for(var t="",n=e.length-1;n>=0;n--)n<e.length-2&&(e.length-n)%3==1&&(t=","+t),t=e.charAt(n)+t;return t},e.restoreMoney=function(e){return e*this.BASE_MONEY_RATE/o.servicedata.ServiceConfigs.PlantformConfig.CurrencyRate},e.formatMoneyNumber=function(e,t,n){return void 0===t&&(t=2),void 0===n&&(n=!0),o.servicedata.ServiceConfigs.PlantformConfig.CurrencyRate==this.BASE_MONEY_RATE?e:(t=(e=e*o.servicedata.ServiceConfigs.PlantformConfig.CurrencyRate/this.BASE_MONEY_RATE)%1<.01?0:2,e=r.NumberUtil.round(e,Math.abs(t)))},e.formatMoneyString=function(e,t,n,i,s,l){return void 0===t&&(t=2),void 0===n&&(n="M"),void 0===i&&(i="K"),void 0===s&&(s=2),void 0===l&&(l=!0),a.ConfigMng.hallconfigJson.moneyunit?(n=a.ConfigMng.hallconfigJson.moneyunit.M,i=a.ConfigMng.hallconfigJson.moneyunit.K):(n="",i=""),o.servicedata.ServiceConfigs.PlantformConfig.CurrencyRate==this.BASE_MONEY_RATE?this.formatNormalMoneyString(e,n,i,s):(t=(e=e*o.servicedata.ServiceConfigs.PlantformConfig.CurrencyRate/this.BASE_MONEY_RATE)%1<.01?0:2,e=r.NumberUtil.round(e,Math.abs(t)),t>0?r.NumberUtil.formatDecimal(e,t):this.formatNormalMoneyString(e,n,i,s))},e.formatMoneyString2=function(e,t,n,i,a){return void 0===t&&(t=2),void 0===n&&(n=[[1e9,"B"],[1e6,"M"],[1e3,"K"]]),void 0===i&&(i=1),void 0===a&&(a=!0),o.servicedata.ServiceConfigs.PlantformConfig.CurrencyRate==this.BASE_MONEY_RATE?this.formatNormalMoneyString2(e,n,i):(a&&1!=o.servicedata.ServiceConfigs.PlantformConfig.CurrencyRate&&(t=0),t=(e=e*o.servicedata.ServiceConfigs.PlantformConfig.CurrencyRate/this.BASE_MONEY_RATE)%1<.01?0:2,e=r.NumberUtil.round(e,Math.abs(t)),t>0?r.NumberUtil.formatDecimal(e,t):this.formatNormalMoneyString2(e,n,i))},e.formatMoney64String=function(e,t,n,o,i,a){return void 0===t&&(t=2),void 0===n&&(n="M"),void 0===o&&(o="K"),void 0===i&&(i=1),void 0===a&&(a=!0),this.formatMoneyString(e.toNumber(),t,n,o,i,a)},e.formatNormalMoneyString=function(e,t,n,o){return void 0===t&&(t="M"),void 0===n&&(n="K"),void 0===o&&(o=2),o<0&&(o*=-1),t&&e>=1e6?r.NumberUtil.floor(e/1e6,o)+t:n&&e>=1e3?r.NumberUtil.floor(e/1e3,o)+n:0!=o?r.NumberUtil.floor(e,o).toString():Math.floor(e).toString()},e.formatNormalMoneyString2=function(e,t,n){if(void 0===t&&(t=[[1e9,"B"],[1e6,"M"],[1e3,"K"]]),void 0===n&&(n=2),n<0&&(n*=-1),null!=t)for(var o=Math.abs(e),i=0;i<t.length;i++)if(o>=t[i][0])return r.NumberUtil.floor(e/t[i][0],n)+t[i][1];return 0!=n?r.NumberUtil.floor(e,n).toString():Math.floor(e).toString()},e.formatNormalMoney64String=function(e,t,n,o){return void 0===t&&(t="M"),void 0===n&&(n="K"),void 0===o&&(o=2),this.formatNormalMoneyString(e.toNumber(),t,n,o)},e.formatMoneyString_digits=function(e,t,n,i,s,l){return void 0===t&&(t=-1),void 0===n&&(n="M"),void 0===i&&(i="K"),void 0===s&&(s=2),void 0===l&&(l=!0),a.ConfigMng.hallconfigJson.moneyunit?(n=a.ConfigMng.hallconfigJson.moneyunit.M,i=a.ConfigMng.hallconfigJson.moneyunit.K):(n="",i=""),o.servicedata.ServiceConfigs.PlantformConfig.CurrencyRate==this.BASE_MONEY_RATE?this.formatNormalMoneyString(e,n,i,s):(e=e*o.servicedata.ServiceConfigs.PlantformConfig.CurrencyRate/this.BASE_MONEY_RATE,t<0&&(t=e%1<.01?0:2),e=r.NumberUtil.round(e,Math.abs(t)),t>0?r.NumberUtil.formatDecimal(e,t):this.formatNormalMoneyString(e,n,i,s))},e.getWithdrawStatusInfo=function(e){switch(e){case 0:case 4:case 5:case 6:case 7:return"Processing";case 1:case 8:return"Completed";case 2:return"Returned";case 3:return"Frozen";default:return e.toString()}},e.BASE_MONEY_RATE=1e4,e}();n.GameTool=c,cc._RF.pop()},{"../common/ConfigMng":"ConfigMng","../common/Tools":"Tools","../common/Types":"Types","../laya/Laya":"Laya","../net/PlatformConfig":"PlatformConfig"}],RunDriver:[function(e,t){"use strict";cc._RF.push(t,"d9118Yg19hPlJEr2CBql+YQ","RunDriver"),cc._RF.pop()},{}],SafeAreaAdapterComponent:[function(e,t,n){"use strict";cc._RF.push(t,"21b6feR5pxE8IJhe/lKRJdR","SafeAreaAdapterComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return i(t,e),n=t,t.prototype.onLoad=function(){this._onResize()},t.prototype.onEnable=function(){var e=this._onResize.bind(this);window.addEventListener("resize",e),window.addEventListener("orientationchange",e)},t.prototype.onDisable=function(){var e=this._onResize.bind(this);window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e)},t.prototype._onResize=function(){n.safeArea=null,this.node&&(this.node.width=n.safeArea.safeAreaWidth/n.safeArea.designPxToScreenPxRatio,this.node.height=n.safeArea.safeAreaHeight/n.safeArea.designPxToScreenPxRatio,this.node.setPosition(cc.v2(n.safeArea.safeAreaXOffset/n.safeArea.designPxToScreenPxRatio,n.safeArea.safeAreaYOffset/n.safeArea.designPxToScreenPxRatio)))},Object.defineProperty(t,"safeArea",{get:function(){if(null==this._safeArea||null==this._safeArea){var e=cc.view.getCanvasSize().width,t=cc.view.getCanvasSize().height,n=cc.view.getVisibleSize().width,o=cc.view.getVisibleSize().height,i=Math.min(e/n,t/o),a=e-0-0,r=t-0-0;this._safeArea={screenWidth:e,screenHeight:t,safeAreaWidth:a,safeAreaHeight:r,safeAreaMarginTop:0,safeAreaMarginBottom:0,safeAreaMarginLeft:0,safeAreaMarginRight:0,safeAreaXOffset:0,safeAreaYOffset:0,designPxToScreenPxRatio:i}}return this._safeArea},set:function(e){this._safeArea=e},enumerable:!1,configurable:!0}),t.screenPxToDesignPx=function(e){return e/this.safeArea.designPxToScreenPxRatio},t.designPxToScreenPx=function(e){return e*this.safeArea.designPxToScreenPxRatio},n=a([s],t)}(cc.Component));n.default=l,cc._RF.pop()},{}],SafeAreaWidgetAdapterComponent:[function(e,t,n){"use strict";cc._RF.push(t,"b195dfi9LxKyqpKkECw6VC/","SafeAreaWidgetAdapterComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=r.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.withInsertTop=!1,t.withInsertBottom=!1,t.withInsertLeft=!1,t.withInsertRight=!1,t._srcWidth=0,t._srcHeight=0,t._onResizeCallBack=t._onResize.bind(t),t._onOrientationChangeCallBack=t._onOrientationChange.bind(t),t}return i(t,e),t.prototype.onLoad=function(){this._srcWidth=this.node.width,this._srcHeight=this.node.height},t.prototype.onEnable=function(){this.updateArea(),window.addEventListener("resize",this._onResizeCallBack),window.addEventListener("orientationchange",this._onOrientationChangeCallBack)},t.prototype.onDisable=function(){window.removeEventListener("resize",this._onResizeCallBack),window.removeEventListener("orientationchange",this._onOrientationChangeCallBack)},t.prototype._onResize=function(){this.updateArea()},t.prototype._onOrientationChange=function(){this.updateArea()},t.prototype.updateArea=function(){var e;if(this.node){var t=this.getComponent(cc.Widget);if(t&&t.enabled){this.node.parent&&(null===(e=this.node.parent.getComponent(cc.Widget))||void 0===e||e.updateAlignment());var n=cc.winSize.width,o=cc.winSize.height,i=cc.sys.getSafeAreaRect(),a=o-i.y-i.height,r=i.y,s=i.x,l=n-i.x-i.width;t.isAlignTop&&this.withInsertTop&&(t.isAbsoluteTop=!0,t.top=-a,this.node.height=this._srcHeight+a),t.isAlignBottom&&this.withInsertBottom&&(t.isAbsoluteBottom=!0,t.bottom=-r,this.node.height=this._srcHeight+r),t.isAlignLeft&&this.withInsertLeft&&(t.isAbsoluteLeft=!0,t.left=-s,this.node.width=this._srcWidth+s),t.isAlignRight&&this.withInsertRight&&(t.isAbsoluteRight=!0,t.right=-l,this.node.width=this._srcWidth+l),t.updateAlignment()}}},a([l({tooltip:"\u662f\u5426\u5305\u542b\u5b89\u5168\u533a\u57df\u548c\u5c4f\u5e55\u4e0a\u8fb9\u754c\u4e4b\u95f4\u7684\u7f1d\u9699"})],t.prototype,"withInsertTop",void 0),a([l({tooltip:"\u662f\u5426\u5305\u542b\u5b89\u5168\u533a\u57df\u548c\u5c4f\u5e55\u4e0b\u8fb9\u754c\u4e4b\u95f4\u7684\u7f1d\u9699"})],t.prototype,"withInsertBottom",void 0),a([l({tooltip:"\u662f\u5426\u5305\u542b\u5b89\u5168\u533a\u57df\u548c\u5c4f\u5e55\u5de6\u8fb9\u754c\u4e4b\u95f4\u7684\u7f1d\u9699"})],t.prototype,"withInsertLeft",void 0),a([l({tooltip:"\u662f\u5426\u5305\u542b\u5b89\u5168\u533a\u57df\u548c\u5c4f\u5e55\u53f3\u8fb9\u754c\u4e4b\u95f4\u7684\u7f1d\u9699"})],t.prototype,"withInsertRight",void 0),a([s],t)}(cc.Component);n.default=c,cc._RF.pop()},{}],ScaleStyleDialogPanelV1:[function(e,t,n){"use strict";cc._RF.push(t,"927130Lda5KSL9218EaVRv+","ScaleStyleDialogPanelV1");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../panelrouter/PanelComponent"),s=cc._decorator,l=s.ccclass,c=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dialogBgNode=null,t.dialogContentNode=null,t._scaleSpeedPerSecond=4,t}return i(t,e),t.prototype.onLoad=function(){this.dialogBgNode.opacity=0,this.dialogContentNode.scaleY=0},t.prototype._playShowAnim=function(e,t){if(void 0===t&&(t=!1),t)cc.Tween.stopAllByTarget(this.dialogBgNode),this.dialogBgNode.opacity=180,cc.Tween.stopAllByTarget(this.dialogContentNode),this.dialogContentNode.scaleY=1,e&&e();else{var n=1/this._scaleSpeedPerSecond;cc.Tween.stopAllByTarget(this.dialogBgNode),this.dialogBgNode.opacity=0,cc.tween(this.dialogBgNode).to(n,{opacity:180}).start(),cc.Tween.stopAllByTarget(this.dialogContentNode),this.dialogContentNode.scaleY=0,cc.tween(this.dialogContentNode).to(n,{scaleY:1},{easing:"sineOut"}).call(function(){e&&e()}).start()}},t.prototype._playHideAnim=function(e,t){if(void 0===t&&(t=!1),t)cc.Tween.stopAllByTarget(this.dialogBgNode),this.dialogBgNode.opacity=0,cc.Tween.stopAllByTarget(this.dialogContentNode),this.dialogContentNode.scaleY=0,e&&e();else{var n=this.dialogContentNode.scaleY/this._scaleSpeedPerSecond;cc.Tween.stopAllByTarget(this.dialogBgNode),cc.tween(this.dialogBgNode).to(n,{opacity:0}).start(),cc.Tween.stopAllByTarget(this.dialogContentNode),cc.tween(this.dialogContentNode).to(n,{scaleY:0},{easing:"sineOut"}).call(function(){e&&e()}).start()}},a([c({type:cc.Node,tooltip:"\u5bf9\u8bdd\u6846\u80cc\u666f"})],t.prototype,"dialogBgNode",void 0),a([c({type:cc.Node,tooltip:"\u5bf9\u8bdd\u6846\u5185\u5bb9"})],t.prototype,"dialogContentNode",void 0),a([l],t)}(r.PanelComponent);n.default=u,cc._RF.pop()},{"../../panelrouter/PanelComponent":"PanelComponent"}],ScaleStyleDialogPanelV2:[function(e,t,n){"use strict";cc._RF.push(t,"c0c84MwTiRM5r3Rj9aPIy6b","ScaleStyleDialogPanelV2");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../panelrouter/PanelComponent"),s=cc._decorator,l=s.ccclass,c=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dialogBgNode=null,t.dialogContentNode=null,t._scaleSpeedPerSecond=4,t}return i(t,e),t.prototype.onLoad=function(){this.dialogBgNode.opacity=0,this.dialogContentNode.scale=0},t.prototype._playShowAnim=function(e,t){if(void 0===t&&(t=!1),t)cc.Tween.stopAllByTarget(this.dialogBgNode),this.dialogBgNode.opacity=120,cc.Tween.stopAllByTarget(this.dialogContentNode),this.dialogContentNode.scale=1,e&&e();else{var n=1/this._scaleSpeedPerSecond;cc.Tween.stopAllByTarget(this.dialogBgNode),this.dialogBgNode.opacity=0,cc.tween(this.dialogBgNode).to(n,{opacity:120}).start(),cc.Tween.stopAllByTarget(this.dialogContentNode),this.dialogContentNode.scale=0,cc.tween(this.dialogContentNode).to(n,{scale:1},{easing:"backOut"}).call(function(){e&&e()}).start()}},t.prototype._playHideAnim=function(e,t){if(void 0===t&&(t=!1),t)cc.Tween.stopAllByTarget(this.dialogBgNode),this.dialogBgNode.opacity=0,cc.Tween.stopAllByTarget(this.dialogContentNode),this.dialogContentNode.scale=0,e&&e();else{var n=this.dialogContentNode.scale/this._scaleSpeedPerSecond;cc.Tween.stopAllByTarget(this.dialogBgNode),cc.tween(this.dialogBgNode).to(n,{opacity:0}).start(),cc.Tween.stopAllByTarget(this.dialogContentNode),cc.tween(this.dialogContentNode).to(n,{scale:0},{easing:"backIn"}).call(function(){e&&e()}).start()}},a([c({type:cc.Node,tooltip:"\u5bf9\u8bdd\u6846\u80cc\u666f"})],t.prototype,"dialogBgNode",void 0),a([c({type:cc.Node,tooltip:"\u5bf9\u8bdd\u6846\u5185\u5bb9"})],t.prototype,"dialogContentNode",void 0),a([l],t)}(r.PanelComponent);n.default=u,cc._RF.pop()},{"../../panelrouter/PanelComponent":"PanelComponent"}],ScaleStyleDialogPanelV3:[function(e,t,n){"use strict";cc._RF.push(t,"a9f0fzoUd5GxJ5m0GJiKtZ0","ScaleStyleDialogPanelV3");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../panelrouter/PanelComponent"),s=cc._decorator,l=s.ccclass,c=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dialogBgNode=null,t.dialogContentNode=null,t._scaleSpeedPerSecond=4,t._position=new cc.Vec2(0,0),t}return i(t,e),t.prototype.onLoad=function(){this.dialogBgNode.opacity=0,this.dialogContentNode.scale=0},t.prototype._playShowAnim=function(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=new cc.Vec2(0,0)),t)cc.Tween.stopAllByTarget(this.dialogBgNode),this.dialogBgNode.opacity=120,cc.Tween.stopAllByTarget(this.dialogContentNode),this.dialogContentNode.scale=1,e&&e();else{var o=1/this._scaleSpeedPerSecond;this._position=n,cc.Tween.stopAllByTarget(this.dialogBgNode),this.dialogBgNode.opacity=0,cc.tween(this.dialogBgNode).to(o,{opacity:120}).start(),cc.Tween.stopAllByTarget(this.dialogContentNode),this.dialogContentNode.scale=0,this.dialogContentNode.x=this._position.x,this.dialogContentNode.y=this._position.y,cc.tween(this.dialogContentNode).to(o,{scale:1,x:0,y:0},{easing:"backOut"}).call(function(){e&&e()}).start()}},t.prototype._playHideAnim=function(e,t){if(void 0===t&&(t=!1),t)cc.Tween.stopAllByTarget(this.dialogBgNode),this.dialogBgNode.opacity=0,cc.Tween.stopAllByTarget(this.dialogContentNode),this.dialogContentNode.scale=0,e&&e();else{var n=this.dialogContentNode.scale/this._scaleSpeedPerSecond;cc.Tween.stopAllByTarget(this.dialogBgNode),cc.tween(this.dialogBgNode).to(n,{opacity:0}).start(),cc.Tween.stopAllByTarget(this.dialogContentNode),cc.tween(this.dialogContentNode).to(n,{scale:0,x:this._position.x,y:this._position.y},{easing:"backIn"}).call(function(){e&&e()}).start()}},a([c({type:cc.Node,tooltip:"\u5bf9\u8bdd\u6846\u80cc\u666f"})],t.prototype,"dialogBgNode",void 0),a([c({type:cc.Node,tooltip:"\u5bf9\u8bdd\u6846\u5185\u5bb9"})],t.prototype,"dialogContentNode",void 0),a([l],t)}(r.PanelComponent);n.default=u,cc._RF.pop()},{"../../panelrouter/PanelComponent":"PanelComponent"}],"SceneAchieveRule7.generated":[function(e,t,n){"use strict";cc._RF.push(t,"dcf8dp3Nn1Dn5asmQx/2jBl","SceneAchieveRule7.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneAchieveRuleBase7=void 0;var r=e("../halllib/laya/Laya"),s=(r.Laya.regClass,r.Laya.property),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.BoxBg=null,t.ImageBg=null,t.ImageClose=null,t.List=null,t.item=null,t}return i(t,e),a([s(cc.Node)],t.prototype,"BoxBg",void 0),a([s(cc.Sprite)],t.prototype,"ImageBg",void 0),a([s(cc.Sprite)],t.prototype,"ImageClose",void 0),a([s(cc.Node)],t.prototype,"List",void 0),a([s(cc.Prefab)],t.prototype,"item",void 0),t}(r.Laya.Scene);n.SceneAchieveRuleBase7=l,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],SceneAchieveRule7:[function(e,t,n){"use strict";cc._RF.push(t,"11a58ZV9/RE+LhmCQkzsDfW","SceneAchieveRule7");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneAchieveRule7=void 0;var s=e("../halllib/common/LogBase"),l=e("../halllib/common/ConfigMng"),c=e("../halllib/core/RunData"),u=e("../halllib/net/InnerEvent"),p=e("../halllib/net/PlatformConfig"),h=r(e("./LoadingView7")),d=e("./SceneAchieveRule7.generated"),f=e("../halllib/laya/Laya"),g=f.Laya.regClass,m=(f.Laya.property,function(e){function t(){return e.call(this)||this}var n;return i(t,e),n=t,t.Load=function(e){var t=this;this.s_sceneName="SceneAchieveRule",this.LoadPrefab(e,this.s_sceneName,l.ConfigMng.getSceneAddr(this.s_sceneName),new f.Laya.Handler(this,function(e){console.log("success:",e,t.s_scene)}),new f.Laya.Handler(this,function(){s.LogBase.error("LoadScene Error:",l.ConfigMng.getSceneAddr(t.s_sceneName)),u.HallEvent.event(u.HallEvent.LOADING_MSG,"Error:"+t.s_sceneName)}))},t.OpenScene=function(t,n){this.bRegist=n,this.s_scene?e.OpenScene.call(this,t):(h.default.OpenScene(),this.Load(f.Laya.Handler.create(this,this.Show,[t,n])))},t.Show=function(t,n){h.default.CloseScene(),e.Show.call(this,t),this.bRegist=n},t.prototype.close=function(){n.s_scene=null,console.log("SceneFirstRecharge7 close",this,n.s_scene),e.prototype.close.call(this)},t.CloseScene=function(){this.s_scene&&this.s_scene.close()},t.prototype.onAwake=function(){this.ImageClose.node.on(f.Laya.Event.CLICK,this.close,this),this.BoxBg.on(f.Laya.Event.CLICK,this.close,this),this.ImageBg.node.on(f.Laya.Event.CLICK,function(){},this),this.InitBonus()},t.prototype.InitBonus=function(){for(var e=0;e<p.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Income.length;e++)if(3==p.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Income[e].ReturnType){var t=cc.instantiate(this.item);t.getChildByName("LabelUsers").getComponent(cc.Label).string=p.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Income[e].MinRange+"",t.getChildByName("LabelBonus").getComponent(cc.Label).string=c.GameTool.formatMoneyNumber(p.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Income[e].FixedReward)+"\u20b1",this.List.addChild(t)}},t.bRegist=!0,n=a([g()],t)}(d.SceneAchieveRuleBase7));n.SceneAchieveRule7=m,cc._RF.pop()},{"../halllib/common/ConfigMng":"ConfigMng","../halllib/common/LogBase":"LogBase","../halllib/core/RunData":"RunData","../halllib/laya/Laya":"Laya","../halllib/net/InnerEvent":"InnerEvent","../halllib/net/PlatformConfig":"PlatformConfig","./LoadingView7":"LoadingView7","./SceneAchieveRule7.generated":"SceneAchieveRule7.generated"}],"SceneActivity6.generated":[function(e,t,n){"use strict";cc._RF.push(t,"30b8awdDzBHv5i67ffpb9Qg","SceneActivity6.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneActivityBase6=void 0;var r=e("../halllib/laya/Laya"),s=(r.Laya.regClass,r.Laya.property),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.BoxBg=null,t.ImageBg=null,t.ImgClose=null,t.ViewStack=null,t.ImgToFB=null,t.ImgToTG=null,t.LabelFBGroup=null,t.LabelGroupName=null,t.inputLuckyCode=null,t.btnLuckCode=null,t.ImagePrix=null,t.ImageJoinNow=null,t.ListAchievement=null,t.Button_join=null,t.preTab=null,t.ListAchievementitem=null,t}return i(t,e),a([s(cc.Node)],t.prototype,"BoxBg",void 0),a([s(cc.Sprite)],t.prototype,"ImageBg",void 0),a([s(cc.Sprite)],t.prototype,"ImgClose",void 0),a([s(cc.Node)],t.prototype,"ViewStack",void 0),a([s(cc.Sprite)],t.prototype,"ImgToFB",void 0),a([s(cc.Sprite)],t.prototype,"ImgToTG",void 0),a([s(cc.Label)],t.prototype,"LabelFBGroup",void 0),a([s(cc.Label)],t.prototype,"LabelGroupName",void 0),a([s(cc.EditBox)],t.prototype,"inputLuckyCode",void 0),a([s(cc.Button)],t.prototype,"btnLuckCode",void 0),a([s(cc.Sprite)],t.prototype,"ImagePrix",void 0),a([s(cc.Sprite)],t.prototype,"ImageJoinNow",void 0),a([s(cc.Node)],t.prototype,"ListAchievement",void 0),a([s(cc.Button)],t.prototype,"Button_join",void 0),a([s(cc.Node)],t.prototype,"preTab",void 0),a([s(cc.Prefab)],t.prototype,"ListAchievementitem",void 0),t}(r.Laya.Scene);n.SceneActivityBase6=l,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],SceneActivity6:[function(e,t,n){"use strict";cc._RF.push(t,"40e019/hl1BLLgCGnWzgIMa","SceneActivity6");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneActivity6=void 0;var s=r(e("../hall/Tips")),l=r(e("../hall/Tips")),c=e("../halllib/common/LogBase"),u=e("../halllib/common/ConfigMng"),p=e("../halllib/common/Define"),h=e("../halllib/common/Tools"),d=e("../halllib/core/RunData"),f=e("../halllib/net/InnerEvent"),g=e("../halllib/net/PlatformConfig"),m=e("../halllib/net/PlatformService"),y=r(e("../hallph7/LoadingView7")),_=e("./SceneActivity6.generated"),v=e("../halllib/laya/Laya"),b=v.Laya.regClass,S=(v.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.LuckCodeTimer=0,t}var n;return i(t,e),n=t,t.Load=function(e){var t=this;this.s_sceneName="SceneActivity",this.LoadPrefab(e,this.s_sceneName,u.ConfigMng.getSceneAddr(this.s_sceneName),new v.Laya.Handler(this,function(e){console.log("success:",e,t.s_scene)}),new v.Laya.Handler(this,function(){c.LogBase.error("LoadScene Error:",u.ConfigMng.getSceneAddr(t.s_sceneName)),f.HallEvent.event(f.HallEvent.LOADING_MSG,"Error:"+t.s_sceneName)}))},t.prototype.close=function(){n.s_scene=null,console.log("SceneFirstRecharge7 close",this,n.s_scene),e.prototype.close.call(this)},t.OpenScene=function(t,n){this.bRegist=n,this.s_scene?e.OpenScene.call(this,t):(y.default.OpenScene(),this.Load(v.Laya.Handler.create(this,this.Show,[t,n])))},t.Show=function(t,n){y.default.CloseScene(),e.Show.call(this,t),this.bRegist=n},t.CloseScene=function(){e.CloseScene.call(this)},t.prototype.onAwake=function(){var e=this;this.ImgClose.node.on(v.Laya.Event.CLICK,this.close,this),this.BoxBg.on(v.Laya.Event.CLICK,this.close,this),this.ImageBg.node.on(v.Laya.Event.CLICK,function(){},this),this.ImgToFB.node.on(v.Laya.Event.CLICK,function(){e.onOpenPage(0)},this),this.ImgToTG.node.on(v.Laya.Event.CLICK,function(){e.onOpenPage(1)},this),this.ImageJoinNow.node.on(v.Laya.Event.CLICK,function(){f.HallEvent.event(f.HallEvent.SHOW_AGENT_DIALOG)},this),this.ImagePrix.node.on(v.Laya.Event.CLICK,function(){f.HallEvent.event(f.HallEvent.SHOW_MONTH_RANK_DIALOG)},this),this.btnLuckCode.node.on(v.Laya.Event.CLICK,this.onGetLuckCode,this),this.InitData(),this.preTab.on(v.Laya.Event.CLICK,this.onTab,this),this.InitBonus(),this.leftTabItemClick(null,0)},t.prototype.onTab=function(){},t.prototype.leftTabItemClick=function(e,t){for(var n=this.preTab.children,o=this.ViewStack.children,i=0;i<n.length;i++)n[i].getChildByName("Button").getChildByName("press").active=i==t,n[i].getChildByName("Button").getChildByName("normal").active=i!=t,o[i].active=i==t},t.prototype.InitData=function(){g.servicedata.ServiceConfigs.szCustomUrl.length>0&&(this.LabelFBGroup.string=g.servicedata.ServiceConfigs.szCustomUrl[0]),g.servicedata.ServiceConfigs.szCustomUrl.length>1&&(this.LabelGroupName.string=g.servicedata.ServiceConfigs.szCustomUrl[1])},t.prototype.onOpenPage=function(e){0==e&&g.servicedata.ServiceConfigs.szCustomUrl.length>0&&h.BrowserUtil.openNewPage(g.servicedata.ServiceConfigs.szCustomUrl[0]),1==e&&g.servicedata.ServiceConfigs.szCustomUrl.length>1&&h.BrowserUtil.openNewPage(g.servicedata.ServiceConfigs.szCustomUrl[1]),2==e&&g.servicedata.ServiceConfigs.szCustomUrl.length>2&&h.BrowserUtil.openNewPage(g.servicedata.ServiceConfigs.szCustomUrl[2])},t.prototype.onTimer=function(){var e=this;this.LuckCodeTimer=3,v.Laya.timer.loop(1e3,this,function(){e.LuckCodeTimer--,0==e.LuckCodeTimer&&v.Laya.timer.clearAll(e)})},t.prototype.onGetLuckCode=function(){this.CheckWallet()&&(""!=this.inputLuckyCode.string?this.LuckCodeTimer>0?s.default.SetWarnText(u.ConfigMng.getTips(p.Define.TIPS.PLEASE_WAIT)):(this.onTimer(),m.RankService.getLuckyCodeRequest(this.inputLuckyCode.string,v.Laya.Handler.create(this,this.onRspGetLuckCode))):s.default.SetWarnText(u.ConfigMng.getTips(p.Define.TIPS.INPUT_IS_NULL)))},t.prototype.CheckWallet=function(){return null==d.RunData.userPixAccount||null==d.RunData.userPixAccount.walletAccount||null==d.RunData.userPixAccount.walletAccount.WalletAccountNum?(l.default.SetWarnText(u.ConfigMng.getTips(p.Define.TIPS.PIX_ACCOUNT_NOT_BIND)),f.HallEvent.dispatcher.event(f.HallEvent.SHOW_BINDWALLET_DIALOG),!1):null!=d.RunData.userPixAccount.walletAccount&&null!=d.RunData.userPixAccount.walletAccount.WalletType||(l.default.SetWarnText(u.ConfigMng.getTips(p.Define.TIPS.PIX_ACCOUNT_NOT_BIND)),f.HallEvent.dispatcher.event(f.HallEvent.SHOW_BINDWALLET_DIALOG),!1)},t.prototype.onRspGetLuckCode=function(e){c.LogBase.log("onRspGetLuckCode:",e),0==e.code?f.HallEvent.event(f.HallEvent.SHOW_REWARD,d.GameTool.formatMoneyString(e.data.score)):s.default.SetWarnText(e.msg)},t.prototype.InitBonus=function(){for(var e=0;e<g.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Income.length;e++)if(3==g.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Income[e].ReturnType){var t=cc.instantiate(this.ListAchievementitem);t.getChildByName("LabelUsers").getComponent(cc.Label).string=""+g.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Income[e].MinRange,t.getChildByName("LabelBonus").getComponent(cc.Label).string=d.GameTool.formatMoneyNumber(g.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Income[e].FixedReward)+"\u20b1",this.ListAchievement.addChild(t)}},t.bRegist=!0,n=a([b()],t)}(_.SceneActivityBase6));n.SceneActivity6=S,cc._RF.pop()},{"../hall/Tips":"Tips","../halllib/common/ConfigMng":"ConfigMng","../halllib/common/Define":"Define","../halllib/common/LogBase":"LogBase","../halllib/common/Tools":"Tools","../halllib/core/RunData":"RunData","../halllib/laya/Laya":"Laya","../halllib/net/InnerEvent":"InnerEvent","../halllib/net/PlatformConfig":"PlatformConfig","../halllib/net/PlatformService":"PlatformService","../hallph7/LoadingView7":"LoadingView7","./SceneActivity6.generated":"SceneActivity6.generated"}],"SceneActivity7.generated":[function(e,t,n){"use strict";cc._RF.push(t,"3f2552msoVMUYylzi+/EmeV","SceneActivity7.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.SceneActivityBase7=void 0;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.BoxBg=null,t.ImageBg=null,t.ImgClose=null,t.Tab=null,t.ViewStack=null,t.ImgToFB=null,t.ImgToTG=null,t.LabelFBGroup=null,t.LabelGroupName=null,t}return i(t,e),t}(e("../halllib/laya/Laya").Laya.Scene);n.SceneActivityBase7=a,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],SceneActivity7:[function(e,t,n){"use strict";cc._RF.push(t,"339f3rz9ydIg4eoo7wqFR/4","SceneActivity7");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneActivity7=void 0;var s=e("../halllib/common/LogBase"),l=e("../halllib/common/ConfigMng"),c=e("../halllib/common/Tools"),u=e("../halllib/net/InnerEvent"),p=e("../halllib/net/PlatformConfig"),h=r(e("./LoadingView7")),d=e("./SceneActivity7.generated"),f=e("../halllib/laya/Laya"),g=f.Laya.regClass,m=(f.Laya.property,function(e){function t(){return e.call(this)||this}return i(t,e),t.Load=function(e){var t=this;this.load(l.ConfigMng.getSceneAddr("SceneActivity7"),null,null).then(function(n){null==n?(s.LogBase.error("LoadScene Error:",l.ConfigMng.getSceneAddr("SceneActivity7")),u.HallEvent.event(u.HallEvent.LOADING_MSG,"Error:SceneActivity7")):(t.s_scene=n,e&&e.run())})},t.OpenScene=function(e){this.s_scene?e?e.addChild(this.s_scene):f.Laya.stage.addChild(this.s_scene):(h.default.OpenScene(),this.Load(f.Laya.Handler.create(this,this.Show,[e])))},t.Show=function(e){h.default.CloseScene(),e?e.addChild(this.s_scene):f.Laya.stage.addChild(this.s_scene)},t.CloseScene=function(){this.s_scene&&this.s_scene.close()},t.prototype.onAwake=function(){this.Tab.selectedIndex=0,this.ViewStack.selectedIndex=0,this.Tab.on(f.Laya.Event.CLICK,this,this.onTab),this.ImgClose.on(f.Laya.Event.CLICK,this,this.close),this.BoxBg.on(f.Laya.Event.CLICK,this,this.close),this.ImageBg.on(f.Laya.Event.CLICK,this,function(){}),this.ImgToFB.on(f.Laya.Event.CLICK,this,this.onOpenPage,[0]),this.ImgToTG.on(f.Laya.Event.CLICK,this,this.onOpenPage,[1]),this.InitData()},t.prototype.onTab=function(){this.ViewStack.selectedIndex=this.Tab.selectedIndex},t.prototype.InitData=function(){p.servicedata.ServiceConfigs.szCustomUrl.length>0&&(this.LabelFBGroup.text=p.servicedata.ServiceConfigs.szCustomUrl[0]),p.servicedata.ServiceConfigs.szCustomUrl.length>1&&(this.LabelGroupName.text=p.servicedata.ServiceConfigs.szCustomUrl[1])},t.prototype.onOpenPage=function(e){0==e&&p.servicedata.ServiceConfigs.szCustomUrl.length>0&&c.BrowserUtil.openNewPage(p.servicedata.ServiceConfigs.szCustomUrl[0]),1==e&&p.servicedata.ServiceConfigs.szCustomUrl.length>1&&c.BrowserUtil.openNewPage(p.servicedata.ServiceConfigs.szCustomUrl[1]),2==e&&p.servicedata.ServiceConfigs.szCustomUrl.length>2&&c.BrowserUtil.openNewPage(p.servicedata.ServiceConfigs.szCustomUrl[2])},a([g()],t)}(d.SceneActivityBase7));n.SceneActivity7=m,cc._RF.pop()},{"../halllib/common/ConfigMng":"ConfigMng","../halllib/common/LogBase":"LogBase","../halllib/common/Tools":"Tools","../halllib/laya/Laya":"Laya","../halllib/net/InnerEvent":"InnerEvent","../halllib/net/PlatformConfig":"PlatformConfig","./LoadingView7":"LoadingView7","./SceneActivity7.generated":"SceneActivity7.generated"}],"SceneAddHomeScreen7.generated":[function(e,t,n){"use strict";cc._RF.push(t,"29d891J6TFNpp5ccCz/GnL7","SceneAddHomeScreen7.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneAddHomeScreenBase7=void 0;var r=e("../halllib/laya/Laya"),s=(r.Laya.regClass,r.Laya.property),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.BoxBg=null,t.ImageClose=null,t}return i(t,e),a([s(cc.Node)],t.prototype,"BoxBg",void 0),a([s(cc.Node)],t.prototype,"ImageClose",void 0),t}(r.Laya.Scene);n.SceneAddHomeScreenBase7=l,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],SceneAddHomeScreen7:[function(e,t,n){"use strict";cc._RF.push(t,"929bdQviBZGSqwrIu8sAxBC","SceneAddHomeScreen7");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneAddHomeScreen7=void 0;var s=e("../halllib/common/LogBase"),l=e("../halllib/common/ConfigMng"),c=e("../halllib/net/InnerEvent"),u=r(e("./LoadingView7")),p=e("./SceneAddHomeScreen7.generated"),h=e("../halllib/laya/Laya"),d=h.Laya.regClass,f=(h.Laya.property,function(e){function t(){return e.call(this)||this}return i(t,e),t.Load=function(e){var t=this;this.load(l.ConfigMng.getSceneAddr("SceneAddHomeScreen7"),null,null).then(function(n){null==n?(s.LogBase.error("LoadScene Error:",l.ConfigMng.getSceneAddr("SceneActivity")),c.HallEvent.event(c.HallEvent.LOADING_MSG,"Error:SceneActivity7")):(t.s_scene=n,e&&e.run())})},t.OpenScene=function(e){this.s_scene?e?e.addChild(this.s_scene):h.Laya.stage.addChild(this.s_scene):(u.default.OpenScene(),this.Load(h.Laya.Handler.create(this,this.Show,[e])))},t.Show=function(e){u.default.CloseScene(),e?e.addChild(this.s_scene):h.Laya.stage.addChild(this.s_scene)},t.CloseScene=function(){this.s_scene&&this.s_scene.close()},t.prototype.onAwake=function(){this.ImageClose.on(h.Laya.Event.CLICK,this,this.close),this.BoxBg.on(h.Laya.Event.CLICK,this,function(){})},a([d()],t)}(p.SceneAddHomeScreenBase7));n.SceneAddHomeScreen7=f,cc._RF.pop()},{"../halllib/common/ConfigMng":"ConfigMng","../halllib/common/LogBase":"LogBase","../halllib/laya/Laya":"Laya","../halllib/net/InnerEvent":"InnerEvent","./LoadingView7":"LoadingView7","./SceneAddHomeScreen7.generated":"SceneAddHomeScreen7.generated"}],"SceneAgent6.generated":[function(e,t,n){"use strict";cc._RF.push(t,"2c271SvAlVDLKzuSz3kmwch","SceneAgent6.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneAgentBase6=void 0;var r=e("../halllib/laya/Laya"),s=(r.Laya.regClass,r.Laya.property),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Tab=null,t.imgClose=null,t.LabelTime=null,t.LabelID=null,t.ViewStack=null,t.item0=null,t.LabelBet_2=null,t.LabelBet_1=null,t.LabelBet_3=null,t.inputUplineCode=null,t.ImgBind=null,t.LabelReferralID=null,t.ImgCopyRefID=null,t.ImgCopyLink=null,t.LabelMyLink=null,t.inputRefID=null,t.LabelGet_1=null,t.LabelGet_2=null,t.LabelGet_3=null,t.item1=null,t.ListPayRecord=null,t.ImageRule=null,t.LabelTotal=null,t.LabelReceive=null,t.item2=null,t.LabelTotalC=null,t.ListCommision=null,t.LabelComDate=null,t.LabelComNo=null,t.LabelComAmount=null,t.LabelComTotal=null,t.item3=null,t.LabelTotalCom=null,t.LabelCurrentCom=null,t.inputAmount=null,t.LabelLimit=null,t.imgWithdraw=null,t.LabelMax=null,t.imgExchange=null,t.item4=null,t.TabRecord=null,t.ViewStackRecord=null,t.ListWithdrawRecord=null,t.LabelRemark=null,t.LabelStatus=null,t.ListExchangeRecord=null,t.LabelDetails=null,t.item1prefab=null,t.ListCommisionitem=null,t.ListWithdrawRecorditem=null,t.ListExchangeRecorditem=null,t}return i(t,e),a([s(cc.Node)],t.prototype,"Tab",void 0),a([s(cc.Sprite)],t.prototype,"imgClose",void 0),a([s(cc.Label)],t.prototype,"LabelTime",void 0),a([s(cc.Label)],t.prototype,"LabelID",void 0),a([s(cc.Node)],t.prototype,"ViewStack",void 0),a([s(cc.Node)],t.prototype,"item0",void 0),a([s(cc.Label)],t.prototype,"LabelBet_2",void 0),a([s(cc.Label)],t.prototype,"LabelBet_1",void 0),a([s(cc.Label)],t.prototype,"LabelBet_3",void 0),a([s(cc.EditBox)],t.prototype,"inputUplineCode",void 0),a([s(cc.Sprite)],t.prototype,"ImgBind",void 0),a([s(cc.Label)],t.prototype,"LabelReferralID",void 0),a([s(cc.Sprite)],t.prototype,"ImgCopyRefID",void 0),a([s(cc.Sprite)],t.prototype,"ImgCopyLink",void 0),a([s(cc.Label)],t.prototype,"LabelMyLink",void 0),a([s(cc.EditBox)],t.prototype,"inputRefID",void 0),a([s(cc.Label)],t.prototype,"LabelGet_1",void 0),a([s(cc.Label)],t.prototype,"LabelGet_2",void 0),a([s(cc.Label)],t.prototype,"LabelGet_3",void 0),a([s(cc.Node)],t.prototype,"item1",void 0),a([s(cc.Node)],t.prototype,"ListPayRecord",void 0),a([s(cc.Sprite)],t.prototype,"ImageRule",void 0),a([s(cc.Label)],t.prototype,"LabelTotal",void 0),a([s(cc.Label)],t.prototype,"LabelReceive",void 0),a([s(cc.Node)],t.prototype,"item2",void 0),a([s(cc.Label)],t.prototype,"LabelTotalC",void 0),a([s(cc.Node)],t.prototype,"ListCommision",void 0),a([s(cc.Label)],t.prototype,"LabelComDate",void 0),a([s(cc.Label)],t.prototype,"LabelComNo",void 0),a([s(cc.Label)],t.prototype,"LabelComAmount",void 0),a([s(cc.Label)],t.prototype,"LabelComTotal",void 0),a([s(cc.Node)],t.prototype,"item3",void 0),a([s(cc.Label)],t.prototype,"LabelTotalCom",void 0),a([s(cc.Label)],t.prototype,"LabelCurrentCom",void 0),a([s(cc.EditBox)],t.prototype,"inputAmount",void 0),a([s(cc.Label)],t.prototype,"LabelLimit",void 0),a([s(cc.Button)],t.prototype,"imgWithdraw",void 0),a([s(cc.Label)],t.prototype,"LabelMax",void 0),a([s(cc.Button)],t.prototype,"imgExchange",void 0),a([s(cc.Node)],t.prototype,"item4",void 0),a([s(cc.Node)],t.prototype,"TabRecord",void 0),a([s(cc.Node)],t.prototype,"ViewStackRecord",void 0),a([s(cc.Node)],t.prototype,"ListWithdrawRecord",void 0),a([s(cc.Label)],t.prototype,"LabelRemark",void 0),a([s(cc.Label)],t.prototype,"LabelStatus",void 0),a([s(cc.Node)],t.prototype,"ListExchangeRecord",void 0),a([s(cc.Node)],t.prototype,"LabelDetails",void 0),a([s(cc.Prefab)],t.prototype,"item1prefab",void 0),a([s(cc.Prefab)],t.prototype,"ListCommisionitem",void 0),a([s(cc.Prefab)],t.prototype,"ListWithdrawRecorditem",void 0),a([s(cc.Prefab)],t.prototype,"ListExchangeRecorditem",void 0),t}(r.Laya.Scene);n.SceneAgentBase6=l,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],SceneAgent6:[function(e,t,n){"use strict";cc._RF.push(t,"b526bPgAkdK872A+f7UOX5t","SceneAgent6");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneAgent6=void 0;var u=c(e("../hall/Tips")),p=c(e("../hall/Tips")),h=e("../halllib/common/LogBase"),d=e("../halllib/common/ConfigMng"),f=e("../halllib/common/Define"),g=e("../halllib/common/Tools"),m=e("../halllib/core/RunData"),y=e("../halllib/net/InnerEvent"),_=e("../halllib/net/PlatformConfig"),v=l(e("../halllib/net/PlatformService")),b=c(e("../hallph7/LoadingView7")),S=e("./SceneAgent6.generated"),C=e("../halllib/laya/Laya"),I=C.Laya.regClass,R=(C.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.selectIndex=-1,t}var n;return i(t,e),n=t,t.Load=function(e){var t=this;this.s_sceneName="SceneAgent",this.LoadPrefab(e,this.s_sceneName,d.ConfigMng.getSceneAddr(this.s_sceneName),new C.Laya.Handler(this,function(e){console.log("success:",e,t.s_scene)}),new C.Laya.Handler(this,function(){h.LogBase.error("LoadScene Error:",d.ConfigMng.getSceneAddr(t.s_sceneName)),y.HallEvent.event(y.HallEvent.LOADING_MSG,"Error:"+t.s_sceneName)}))},t.prototype.close=function(){n.s_scene=null,console.log("SceneFirstRecharge7 close",this,n.s_scene),e.prototype.close.call(this)},t.OpenScene=function(t,n){this.bRegist=n,this.s_scene?e.OpenScene.call(this,t):(b.default.OpenScene(),this.Load(C.Laya.Handler.create(this,this.Show,[t,n])))},t.Show=function(t,n){b.default.CloseScene(),e.Show.call(this,t),this.bRegist=n},t.CloseScene=function(){e.CloseScene.call(this)},t.prototype.onAwake=function(){var e=this;this.Tab.on(C.Laya.Event.CLICK,this.onSelectTab,this),this.imgClose.node.on(C.Laya.Event.CLICK,this.close,this),this.ImgCopyRefID.node.on(C.Laya.Event.CLICK,function(){g.BrowserUtil.CopyToSys(e.inputRefID.string),u.default.SetText(d.ConfigMng.getTips(f.Define.TIPS.RECORD_NO_COPY))},this),this.ImgCopyLink.node.on(C.Laya.Event.CLICK,function(){g.BrowserUtil.CopyToSys(e.LabelMyLink.string),u.default.SetText(d.ConfigMng.getTips(f.Define.TIPS.RECORD_NO_COPY))},this),this.imgWithdraw.node.on(C.Laya.Event.CLICK,this.onWithdraw,this),this.imgExchange.node.on(C.Laya.Event.CLICK,this.onExchange,this),this.LabelDetails.on(C.Laya.Event.CLICK,function(){y.HallEvent.event(y.HallEvent.SHOW_ACHIEVERULE_DIALOG)},this),y.HallEvent.on(y.HallEvent.REFRESH_ACHIEVEMENT,this,this.onGetAgentdata),this.LabelLimit.string="Tip:withdrawable "+m.GameTool.formatMoneyString(_.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Min)+" - "+m.GameTool.formatMoneyString(_.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Max),this.LabelMax.string="Maximum daily withdrawal amount "+m.GameTool.formatMoneyString(_.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.TodayLimit),this.leftBtnClick(null,0),this.tabRecordClick(null,0)},t.prototype.tabRecordClick=function(e,t){for(var n=this.TabRecord.children,o=this.ViewStackRecord.children,i=0;i<n.length;i++)n[i].getChildByName("normal").active=i!=t,n[i].getChildByName("press").active=i==t,o[i].active=i==t},t.prototype.leftBtnClick=function(e,t){for(var n=this.Tab.children,o=this.ViewStack.children,i=0;i<n.length;i++)n[i].getChildByName("press").active=!1,n[i].getChildByName("New Label").color=cc.color(255,255,255),o[i].active=!1,t==i&&(n[i].getChildByName("press").active=!0,n[i].getChildByName("New Label").color=cc.color(247,89,89),o[i].active=!0)},t.prototype.onEnable=function(){this.LabelID.string="ID:"+m.RunData.myUserInfo.dwUserID.toString(),this.inputAmount.string="",this.Init(),C.Laya.timer.loop(1e3,this,this.onUpdateTime.bind(this)),this.selectIndex},t.prototype.onDisable=function(){C.Laya.timer.clearAll(this)},t.prototype.onUpdateTime=function(){var e=new Date;console.log("0----",e.toLocaleDateString()),this.LabelTime.string=e.toLocaleDateString()+""},t.prototype.onSelectTab=function(){},t.prototype.onSelectRecordTab=function(){},t.prototype.Init=function(){this.ListWithdrawRecord.removeAllChildren(),this.ListCommision.removeAllChildren();var e=d.ConfigMng.getDomain(m.RunData.agentId);if(""!=e){var t="http://"+e+"/?u="+m.RunData.myUserInfo.dwUserID.toString()+"&a="+m.RunData.agentId.toString();this.LabelMyLink.string=t}else t=m.RunData.urlParams.get("href")+"/?u="+m.RunData.myUserInfo.dwUserID.toString()+"&a="+m.RunData.agentId.toString(),this.LabelMyLink.string=t;this.inputRefID.string=m.RunData.myUserInfo.dwUserID.toString(),this.inputUplineCode.string=m.RunData.promoterId.toString(),m.RunData.promoterId>0?this.ImgBind.node.active=!1:this.ImgBind.node.on(C.Laya.Event.CLICK,this.onBind,this);var n=[],o=[];if(_.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig)for(var i=0;i<_.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Income.length;i++)if(1==_.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Income[i].ReturnType)this[a="LabelBet_"+_.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Income[i].RelationLevel.toString()]&&(this[a].text=(_.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Income[i].Rebate/100).toFixed(2)+"%");else if(2==_.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Income[i].ReturnType){var a;null==n[_.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Income[i].RelationLevel]?(n[_.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Income[i].RelationLevel]=_.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Income[i].MinRange,o[_.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Income[i].RelationLevel]=_.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Income[i].FixedReward):n[_.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Income[i].RelationLevel]<_.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Income[i].MinRange?this[a="LabelGet_"+_.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Income[i].RelationLevel.toString()].text=m.GameTool.formatMoneyString(o[_.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Income[i].RelationLevel])+"-"+m.GameTool.formatMoneyString(_.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Income[i].FixedReward)+"PHP":this[a="LabelGet_"+_.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Income[i].RelationLevel.toString()].text=m.GameTool.formatMoneyString(_.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Income[i].FixedReward)+"-"+m.GameTool.formatMoneyString(o[_.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Income[i].RelationLevel])+"PHP"}this.onGetAgentdata()},t.prototype.onGetAgentdata=function(){v.RankService.MyPromoterRequest(C.Laya.Handler.create(this,this.onMyPromoterRsp)),v.RankService.MyPromoterIncomeRequest(C.Laya.Handler.create(this,this.onMyPromoterIncomeRsp)),v.default.RequestMyPromoterPayIncome(C.Laya.Handler.create(this,this.onRspMyPromoterPayIncome))},t.prototype.onResposeRecord=function(e){if(h.LogBase.log("onResposeRecord 2:",e),0==e.code&&null!=e.data.exchangeLogs&&null!=e.data.exchangeLogs){this.ListWithdrawRecord.removeAllChildren();for(var t=0;t<e.data.exchangeLogs.length;t++){var n=cc.instantiate(this.ListWithdrawRecorditem);n.getChildByName("LabelID").getComponent(cc.Label).string=e.data.exchangeLogs[t].ID+"",n.getChildByName("LabelTime").getComponent(cc.Label).string=e.data.exchangeLogs[t].InputDate,n.getChildByName("LabelAmount").getComponent(cc.Label).string=m.GameTool.formatMoneyString(e.data.exchangeLogs[t].ExAmount),n.getChildByName("LabelFee").getComponent(cc.Label).string=m.GameTool.formatMoneyString(e.data.exchangeLogs[t].FreeAmount),n.getChildByName("LabelRemark").getComponent(cc.Label).string=e.data.exchangeLogs[t].Remarks,n.getChildByName("LabelStatus").getComponent(cc.Label).string=m.GameTool.getWithdrawStatusInfo(e.data.exchangeLogs[t].Status),this.ListWithdrawRecord.addChild(n)}}},t.prototype.onExChangeRecord=function(e){if(h.LogBase.log("onExChangeRecord 2:",e),this.ListExchangeRecord.removeAllChildren(),0==e.code&&null!=e.data.logs&&null!=e.data.logs)for(var t=0;t<e.data.logs.length;t++){var n=cc.instantiate(this.ListExchangeRecorditem);n.getChildByName("LabelTime").getComponent(cc.Label).string=e.data.logs[t].InputDate,n.getChildByName("LabelAmount").getComponent(cc.Label).string=m.GameTool.formatMoneyString(e.data.logs[t].IncomeMoney),n.getChildByName("LabelStatus").getComponent(cc.Label).string="Completed"}},t.prototype.onMyPromoterRsp=function(e){h.LogBase.log("onMyPromoterRsp",e),0==e.code&&(m.RunData.PromoterIncome.parse(e.data),this.LabelTotalC.string=m.GameTool.formatMoneyString(m.RunData.PromoterIncome.TotalIncomeMoney),this.LabelTotalCom.string=m.GameTool.formatMoneyString(m.RunData.PromoterIncome.TotalIncomeMoney),this.LabelCurrentCom.string=m.GameTool.formatMoneyString(m.RunData.PromoterIncome.IncomeMoney),m.RunData.promoterId=m.RunData.PromoterIncome.ParentID,this.inputUplineCode.string=m.RunData.PromoterIncome.ParentID.toString(),m.RunData.PromoterIncome.ParentID>0&&(this.ImgBind.node.active=!1))},t.prototype.onMyPromoterIncomeRsp=function(e){if(h.LogBase.log("onMyPromoterIncomeRsp",e),this.ListCommision.removeAllChildren(),0==e.code){m.RunData.PromoterIncomeDetailsList.parse(e.data);for(var t=0;t<m.RunData.PromoterIncomeDetailsList.Income.length;t++){var n=cc.instantiate(this.ListCommisionitem);n.getChildByName("LabelComDate").getComponent(cc.Label).string=m.RunData.PromoterIncomeDetailsList.Income[t].InputDate,n.getChildByName("LabelComNo").getComponent(cc.Label).string=m.RunData.PromoterIncomeDetailsList.Income[t].PayUser.toString(),n.getChildByName("LabelComAmount").getComponent(cc.Label).string=m.GameTool.formatMoneyString(m.RunData.PromoterIncomeDetailsList.Income[t].TotalIncome),n.getChildByName("LabelComTotal").getComponent(cc.Label).string=m.GameTool.formatMoneyString(m.RunData.PromoterIncomeDetailsList.Income[t].IncomeMoney),this.ListCommision.addChild(n)}}},t.prototype.onPromoterIncomeLogsRsp=function(e){h.LogBase.log("onPromoterIncomeLogsRsp",e)},t.prototype.onMyPromoterTeamRsp=function(e){h.LogBase.log("onMyPromoterTeamRsp",e)},t.prototype.onBind=function(){""!=this.inputUplineCode.string?v.RankService.BindPromoterRequest(this.inputUplineCode.string,C.Laya.Handler.create(this,this.onBindRsp)):u.default.SetWarnText(d.ConfigMng.getTips(f.Define.TIPS.INPUT_IS_NULL))},t.prototype.onBindRsp=function(e){0==e.code?(u.default.SetText(d.ConfigMng.getTips(f.Define.TIPS.BIND_SUCCEED)),this.ImgBind.node.active=!1):u.default.SetWarnText(d.ConfigMng.getTips(e.msg))},t.prototype.onCopy=function(e){h.LogBase.log("oncopy",e),g.BrowserUtil.CopyToSys(e),u.default.SetText(d.ConfigMng.getTips(f.Define.TIPS.RECORD_NO_COPY))},t.prototype.onWithdraw=function(){if(""!=this.inputAmount.string){if(null==m.RunData.userPixAccount||null==m.RunData.userPixAccount.walletAccount)return p.default.SetWarnText(d.ConfigMng.getTips(f.Define.TIPS.PIX_ACCOUNT_NOT_BIND)),void y.HallEvent.dispatcher.event(y.HallEvent.SHOW_BINDWALLET_DIALOG);if(null==m.RunData.userPixAccount.walletAccount||null==m.RunData.userPixAccount.walletAccount.WalletType||0==m.RunData.userPixAccount.walletAccount.WalletType)return p.default.SetWarnText(d.ConfigMng.getTips(f.Define.TIPS.PIX_ACCOUNT_NOT_BIND)),void y.HallEvent.dispatcher.event(y.HallEvent.SHOW_BINDWALLET_DIALOG);if(m.RunData.userPixAccount.walletAccount.WalletType<1)return p.default.SetWarnText(d.ConfigMng.getTips(f.Define.TIPS.PIX_ACCOUNT_NOT_BIND)),void y.HallEvent.dispatcher.event(y.HallEvent.SHOW_BINDWALLET_DIALOG);if(Number(this.inputAmount.string)>m.RunData.PromoterIncome.IncomeMoney)u.default.SetWarnText(d.ConfigMng.getTips(f.Define.TIPS.HAVE_NO_ENOUGH_DATA));else if(Number(this.inputAmount.string)<m.GameTool.formatMoneyNumber(_.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Min))u.default.SetWarnText(d.ConfigMng.getTips(f.Define.TIPS.INPUT_OUT_RANGE));else{var e=m.GameTool.formatMoneyNumber(_.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Max);if(e>0&&Number(this.inputAmount.string)>e)u.default.SetWarnText(d.ConfigMng.getTips(f.Define.TIPS.OUT_Withdraw_MAX));else{var t=m.GameTool.formatMoneyNumber(_.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.TodayLimit);t>0&&Number(this.inputAmount.string)>t?u.default.SetWarnText(d.ConfigMng.getTips(f.Define.TIPS.OUT_Withdraw_MAX)):v.RankService.ExPromoterIncomeRequest(m.GameTool.restoreMoney(Number(this.inputAmount.string)),m.RunData.userPixAccount.walletAccount.WalletType,C.Laya.Handler.create(this,this.onWithdrawRsp))}}}else u.default.SetWarnText(d.ConfigMng.getTips(f.Define.TIPS.INPUT_IS_NULL))},t.prototype.onWithdrawRsp=function(e){h.LogBase.log("onWithdrawRsp",e),0==e.code?(u.default.SetText(d.ConfigMng.getTips(f.Define.TIPS.SUCCEED)),this.onGetAgentdata()):u.default.SetWarnText(d.ConfigMng.getTips(e.msg))},t.prototype.onExchange=function(){if(""!=this.inputAmount.string)if(Number(this.inputAmount.string)<m.GameTool.formatMoneyNumber(_.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.MinGb))u.default.SetWarnText(d.ConfigMng.getTips(f.Define.TIPS.INPUT_OUT_RANGE));else if(Number(this.inputAmount.string)>m.RunData.PromoterIncome.IncomeMoney)u.default.SetWarnText(d.ConfigMng.getTips(f.Define.TIPS.HAVE_NO_ENOUGH_DATA));else{var e=m.GameTool.formatMoneyNumber(_.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.MaxGb);if(e>0&&Number(this.inputAmount.string)>e)u.default.SetWarnText(d.ConfigMng.getTips(f.Define.TIPS.OUT_Withdraw_MAX));else{var t=m.GameTool.formatMoneyNumber(_.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.TodayLimitGb);t>0&&Number(this.inputAmount.string)>t?u.default.SetWarnText(d.ConfigMng.getTips(f.Define.TIPS.OUT_Withdraw_MAX)):v.RankService.GetPromoterIncomeRequest(m.GameTool.restoreMoney(Number(this.inputAmount.string)),m.RunData.userPixAccount.walletAccount.WalletType,C.Laya.Handler.create(this,this.onExchangeRsp))}}else u.default.SetWarnText(d.ConfigMng.getTips(f.Define.TIPS.INPUT_IS_NULL))},t.prototype.onExchangeRsp=function(e){h.LogBase.log("onExchangeRsp",e),0==e.code?(u.default.SetText(d.ConfigMng.getTips(f.Define.TIPS.SUCCEED)),this.onGetAgentdata()):u.default.SetWarnText(d.ConfigMng.getTips(e.msg))},t.prototype.onRspMyPromoterPayIncome=function(e){h.LogBase.debug("onRspMyPromoterPayIncome",e),h.LogBase.debug("onRspMyPromoterPayIncome PromoterConfig",_.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig);var t=0;0==e.code&&(t=e.data.totalPayUser);var n=0,o=0;this.ListPayRecord.removeAllChildren();for(var i=0;i<_.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Income.length;i++)if(3==_.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Income[i].ReturnType){var a=_.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Income[i].MinRange,r=m.GameTool.formatMoneyNumber(_.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Income[i].FixedReward);if(n+=r,t<a)(s=cc.instantiate(this.item1prefab)).getComponent("ScriptAchievement6").initData(a,t+"/"+a,t/a,"0",r,{skin:"resources/halls/hallph6/res/hallres/Agent/Collect.png",gray:!0}),this.ListPayRecord.addChild(s),t=0;else{var s,l=!1;if(0==e.code&&e.data.recordLog.length>0)for(var c=0;c<e.data.recordLog.length;c++)if(a==e.data.recordLog[c].PayUserCnt){l=!0;break}l?(o+=r,(s=cc.instantiate(this.item1prefab)).getComponent("ScriptAchievement6").initData(a,a+"/"+a,1,r,"1",{skin:"resources/shalls/hallph6/res/hallres/Agent/received.png",gray:!1}),this.ListPayRecord.addChild(s)):((s=cc.instantiate(this.item1prefab)).getComponent("ScriptAchievement6").initData(a,a+"/"+a,1,r,"2",{skin:"resources/shalls/hallph6/res/hallres/Agent/Collect.png",gray:!1}),this.ListPayRecord.addChild(s)),t-=a}}this.LabelTotal.string=m.GameTool.FormatScoreString(n.toString())+"\u20b1",this.LabelReceive.string="Receive:"+o.toString()},t.bRegist=!0,n=s([I()],t)}(S.SceneAgentBase6));n.SceneAgent6=R,cc._RF.pop()},{"../hall/Tips":"Tips","../halllib/common/ConfigMng":"ConfigMng","../halllib/common/Define":"Define","../halllib/common/LogBase":"LogBase","../halllib/common/Tools":"Tools","../halllib/core/RunData":"RunData","../halllib/laya/Laya":"Laya","../halllib/net/InnerEvent":"InnerEvent","../halllib/net/PlatformConfig":"PlatformConfig","../halllib/net/PlatformService":"PlatformService","../hallph7/LoadingView7":"LoadingView7","./SceneAgent6.generated":"SceneAgent6.generated"}],"SceneAgent7.generated":[function(e,t,n){"use strict";cc._RF.push(t,"74c48/Vvd9KFLNnHxkOHQeA","SceneAgent7.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.SceneAgentBase7=void 0;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Tab=null,t.imgClose=null,t.LabelTime=null,t.LabelID=null,t.ViewStack=null,t.item0=null,t.LabelBet_2=null,t.LabelBet_1=null,t.LabelBet_3=null,t.inputUplineCode=null,t.ImgBind=null,t.LabelReferralID=null,t.ImgCopyRefID=null,t.ImgCopyLink=null,t.LabelMyLink=null,t.inputRefID=null,t.item1=null,t.ListPayRecord=null,t.ImageRule=null,t.LabelDetails=null,t.LabelTotal=null,t.LabelReceive=null,t.item2=null,t.LabelTotalC=null,t.ListCommision=null,t.LabelComDate=null,t.LabelComNo=null,t.LabelComAmount=null,t.LabelComTotal=null,t.item3=null,t.LabelTotalCom=null,t.LabelCurrentCom=null,t.inputAmount=null,t.LabelLimit=null,t.imgWithdraw=null,t.LabelMax=null,t.imgExchange=null,t.item4=null,t.TabRecord=null,t.ViewStackRecord=null,t.ListWithdrawRecord=null,t.LabelRemark=null,t.LabelStatus=null,t.ListExchangeRecord=null,t}return i(t,e),t}(e("../halllib/laya/Laya").Laya.Scene);n.SceneAgentBase7=a,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],SceneAgent7:[function(e,t,n){"use strict";cc._RF.push(t,"4230aTIQJJFBp3NE5Uxw5zz","SceneAgent7");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneAgent7=void 0;var u=c(e("../hall/Tips")),p=c(e("../hall/Tips")),h=e("../halllib/common/LogBase"),d=e("../halllib/common/ConfigMng"),f=e("../halllib/common/Define"),g=e("../halllib/common/Tools"),m=e("../halllib/common/Types"),y=e("../halllib/core/RunData"),_=e("../halllib/net/InnerEvent"),v=e("../halllib/net/PlatformConfig"),b=l(e("../halllib/net/PlatformService")),S=c(e("./LoadingView7")),C=e("./SceneAgent7.generated"),I=e("../halllib/laya/Laya"),R=I.Laya.regClass,L=(I.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.selectIndex=-1,t}return i(t,e),t.Load=function(e){var t=this;this.load(d.ConfigMng.getSceneAddr("SceneAgent7"),null,null).then(function(n){null==n?(h.LogBase.error("LoadScene Error:",d.ConfigMng.getSceneAddr("SceneAgent7")),_.HallEvent.event(_.HallEvent.LOADING_MSG,"Error:SceneAgent7")):(t.s_scene=n,e&&e.run())})},t.OpenScene=function(e,t){this.s_scene?(t&&(this.s_scene.selectIndex=t),e?e.addChild(this.s_scene):I.Laya.stage.addChild(this.s_scene)):(S.default.OpenScene(),this.Load(I.Laya.Handler.create(this,this.Show,[e,t])))},t.Show=function(e,t){S.default.CloseScene(),t&&(this.s_scene.selectIndex=t),e?e.addChild(this.s_scene):I.Laya.stage.addChild(this.s_scene)},t.CloseScene=function(){this.s_scene&&this.s_scene.close()},t.prototype.onAwake=function(){var e=this;this.Tab.on(I.Laya.Event.CLICK,this,this.onSelectTab),this.imgClose.on(I.Laya.Event.CLICK,this,this.close),this.ViewStack.selectedIndex=0,this.Tab.selectedIndex=0,this.ImgCopyRefID.on(I.Laya.Event.CLICK,this,function(){g.BrowserUtil.CopyToSys(e.inputRefID.text),u.default.SetText(d.ConfigMng.getTips(f.Define.TIPS.RECORD_NO_COPY))}),this.ImgCopyLink.on(I.Laya.Event.CLICK,this,function(){g.BrowserUtil.CopyToSys(e.LabelMyLink.text),u.default.SetText(d.ConfigMng.getTips(f.Define.TIPS.RECORD_NO_COPY))}),this.TabRecord.on(I.Laya.Event.CLICK,this,this.onSelectRecordTab),this.imgWithdraw.on(I.Laya.Event.CLICK,this,this.onWithdraw),this.imgExchange.on(I.Laya.Event.CLICK,this,this.onExchange),this.TabRecord.selectedIndex=0,this.ViewStackRecord.selectedIndex=0,this.ImageRule.on(I.Laya.Event.CLICK,this,function(){_.HallEvent.event(_.HallEvent.SHOW_ACHIEVERULE_DIALOG)}),this.LabelDetails.on(I.Laya.Event.CLICK,this,function(){_.HallEvent.event(_.HallEvent.SHOW_ACHIEVERULE_DIALOG)}),this.inputUplineCode.restrict=f.Define.COMM.RESTRICT_NUMBER,this.inputAmount.restrict=f.Define.COMM.RESTRICT_NUMBER,_.HallEvent.on(_.HallEvent.REFRESH_ACHIEVEMENT,this,this.onGetAgentdata),this.LabelLimit.text="Tip:withdrawable "+y.GameTool.formatMoneyString(v.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Min)+" - "+y.GameTool.formatMoneyString(v.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Max),this.LabelMax.text="Maximum daily withdrawal amount "+y.GameTool.formatMoneyString(v.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.TodayLimit)},t.prototype.onEnable=function(){this.LabelID.text="ID:"+y.RunData.myUserInfo.dwUserID.toString(),this.inputAmount.text="",this.Init(),I.Laya.timer.loop(1e3,this,this.onUpdateTime),this.selectIndex>0&&(this.Tab.selectedIndex=this.selectIndex,this.ViewStack.selectedIndex=this.selectIndex)},t.prototype.onDisable=function(){I.Laya.timer.clearAll(this)},t.prototype.onUpdateTime=function(){var e=new Date;this.LabelTime.text=e.toLocaleString()},t.prototype.onSelectTab=function(){this.ViewStack.selectedIndex=this.Tab.selectedIndex,2==this.Tab.selectedIndex&&this.onGetAgentdata(),4==this.Tab.selectedIndex&&(b.default.getWithdrawRecordRequest(m.ExChangeType.Promet,I.Laya.Handler.create(this,this.onResposeRecord)),b.RankService.PromoterIncomeLogsRequest(I.Laya.Handler.create(this,this.onExChangeRecord)))},t.prototype.onSelectRecordTab=function(){this.ViewStackRecord.selectedIndex=this.TabRecord.selectedIndex},t.prototype.Init=function(){this.ListWithdrawRecord.array=[],this.ListCommision.array=[];var e=d.ConfigMng.getDomain(y.RunData.agentId);if(""!=e){var t="http://"+e+"/?u="+y.RunData.myUserInfo.dwUserID.toString()+"&a="+y.RunData.agentId.toString();this.LabelMyLink.text=t}else t=y.RunData.urlParams.get("href")+"/?u="+y.RunData.myUserInfo.dwUserID.toString()+"&a="+y.RunData.agentId.toString(),this.LabelMyLink.text=t;this.inputRefID.text=y.RunData.myUserInfo.dwUserID.toString(),this.inputUplineCode.text=y.RunData.promoterId.toString(),y.RunData.promoterId>0?(this.ImgBind.visible=!1,this.inputUplineCode.mouseEnabled=!1):this.ImgBind.on(I.Laya.Event.CLICK,this,this.onBind);var n=[],o=[];if(v.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig)for(var i=0;i<v.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Income.length;i++)if(1==v.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Income[i].ReturnType){var a="LabelBet_"+v.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Income[i].RelationLevel.toString();this[a]&&(this[a].text=(v.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Income[i].Rebate/100).toFixed(2)+"%")}else 2==v.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Income[i].ReturnType&&(null==n[v.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Income[i].RelationLevel]?(n[v.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Income[i].RelationLevel]=v.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Income[i].MinRange,o[v.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Income[i].RelationLevel]=v.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Income[i].FixedReward):(n[v.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Income[i].RelationLevel],v.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Income[i].MinRange));this.onGetAgentdata()},t.prototype.onGetAgentdata=function(){b.RankService.MyPromoterRequest(I.Laya.Handler.create(this,this.onMyPromoterRsp)),b.RankService.MyPromoterIncomeRequest(I.Laya.Handler.create(this,this.onMyPromoterIncomeRsp)),b.default.RequestMyPromoterPayIncome(I.Laya.Handler.create(this,this.onRspMyPromoterPayIncome))},t.prototype.onResposeRecord=function(e){if(h.LogBase.log("onResposeRecord 2:",e),0==e.code&&null!=e.data.exchangeLogs&&null!=e.data.exchangeLogs){this.ListWithdrawRecord.array=[];for(var t=0;t<e.data.exchangeLogs.length;t++)this.ListWithdrawRecord.addItem({LabelID:{text:e.data.exchangeLogs[t].ID},LabelTime:{text:e.data.exchangeLogs[t].InputDate},LabelAmount:{text:y.GameTool.formatMoneyString(e.data.exchangeLogs[t].ExAmount)},LabelFee:{text:y.GameTool.formatMoneyString(e.data.exchangeLogs[t].FreeAmount)},LabelRemark:{text:e.data.exchangeLogs[t].Remarks},LabelStatus:{text:y.GameTool.getWithdrawStatusInfo(e.data.exchangeLogs[t].Status)}});this.ListWithdrawRecord.repeatY=e.data.exchangeLogs.length}},t.prototype.onExChangeRecord=function(e){if(h.LogBase.log("onExChangeRecord 2:",e),this.ListExchangeRecord.array=[],this.ListExchangeRecord.repeatY=0,0==e.code&&null!=e.data.logs&&null!=e.data.logs){for(var t=0;t<e.data.logs.length;t++)this.ListExchangeRecord.addItem({LabelTime:{text:e.data.logs[t].InputDate},LabelAmount:{text:y.GameTool.formatMoneyString(e.data.logs[t].IncomeMoney)},LabelStatus:{text:"Completed"}});this.ListExchangeRecord.repeatY=this.ListExchangeRecord.array.length}},t.prototype.onMyPromoterRsp=function(e){h.LogBase.log("onMyPromoterRsp",e),0==e.code&&(y.RunData.PromoterIncome.parse(e.data),this.LabelTotalC.text=y.GameTool.formatMoneyString(y.RunData.PromoterIncome.TotalIncomeMoney),this.LabelTotalCom.text=y.GameTool.formatMoneyString(y.RunData.PromoterIncome.TotalIncomeMoney),this.LabelCurrentCom.text=y.GameTool.formatMoneyString(y.RunData.PromoterIncome.IncomeMoney),y.RunData.promoterId=y.RunData.PromoterIncome.ParentID,this.inputUplineCode.text=y.RunData.PromoterIncome.ParentID.toString(),y.RunData.PromoterIncome.ParentID>0&&(this.ImgBind.visible=!1,this.inputUplineCode.mouseEnabled=!1))},t.prototype.onMyPromoterIncomeRsp=function(e){if(h.LogBase.log("onMyPromoterIncomeRsp",e),this.ListCommision.array=[],0==e.code){y.RunData.PromoterIncomeDetailsList.parse(e.data);for(var t=0;t<y.RunData.PromoterIncomeDetailsList.Income.length;t++)this.ListCommision.addItem({LabelComDate:{text:y.RunData.PromoterIncomeDetailsList.Income[t].InputDate},LabelComNo:{text:y.RunData.PromoterIncomeDetailsList.Income[t].PayUser.toString()},LabelComAmount:{text:y.GameTool.formatMoneyString(y.RunData.PromoterIncomeDetailsList.Income[t].TotalIncome)},LabelComTotal:{text:y.GameTool.formatMoneyString(y.RunData.PromoterIncomeDetailsList.Income[t].IncomeMoney)}});this.ListCommision.repeatY=this.ListCommision.array.length}},t.prototype.onPromoterIncomeLogsRsp=function(e){h.LogBase.log("onPromoterIncomeLogsRsp",e)},t.prototype.onMyPromoterTeamRsp=function(e){h.LogBase.log("onMyPromoterTeamRsp",e)},t.prototype.onBind=function(){""!=this.inputUplineCode.text?b.RankService.BindPromoterRequest(this.inputUplineCode.text,I.Laya.Handler.create(this,this.onBindRsp)):u.default.SetWarnText(d.ConfigMng.getTips(f.Define.TIPS.INPUT_IS_NULL))},t.prototype.onBindRsp=function(e){0==e.code?(u.default.SetText(d.ConfigMng.getTips(f.Define.TIPS.BIND_SUCCEED)),this.ImgBind.visible=!1,this.inputUplineCode.mouseEnabled=!1):u.default.SetWarnText(d.ConfigMng.getTips(e.msg))},t.prototype.onCopy=function(e){h.LogBase.log("oncopy",e),g.BrowserUtil.CopyToSys(e),u.default.SetText(d.ConfigMng.getTips(f.Define.TIPS.RECORD_NO_COPY))},t.prototype.onWithdraw=function(){if(""!=this.inputAmount.text){if(null==y.RunData.userPixAccount||null==y.RunData.userPixAccount.walletAccount)return p.default.SetWarnText(d.ConfigMng.getTips(f.Define.TIPS.PIX_ACCOUNT_NOT_BIND)),void _.HallEvent.dispatcher.event(_.HallEvent.SHOW_BINDWALLET_DIALOG);if(null==y.RunData.userPixAccount.walletAccount||null==y.RunData.userPixAccount.walletAccount.WalletType||0==y.RunData.userPixAccount.walletAccount.WalletType)return p.default.SetWarnText(d.ConfigMng.getTips(f.Define.TIPS.PIX_ACCOUNT_NOT_BIND)),void _.HallEvent.dispatcher.event(_.HallEvent.SHOW_BINDWALLET_DIALOG);if(y.RunData.userPixAccount.walletAccount.WalletType<1)return p.default.SetWarnText(d.ConfigMng.getTips(f.Define.TIPS.PIX_ACCOUNT_NOT_BIND)),void _.HallEvent.dispatcher.event(_.HallEvent.SHOW_BINDWALLET_DIALOG);if(Number(this.inputAmount.text)>y.RunData.PromoterIncome.IncomeMoney)u.default.SetWarnText(d.ConfigMng.getTips(f.Define.TIPS.HAVE_NO_ENOUGH_DATA));else if(Number(this.inputAmount.text)<y.GameTool.formatMoneyNumber(v.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Min))u.default.SetWarnText(d.ConfigMng.getTips(f.Define.TIPS.INPUT_OUT_RANGE));else{var e=y.GameTool.formatMoneyNumber(v.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Max);if(e>0&&Number(this.inputAmount.text)>e)u.default.SetWarnText(d.ConfigMng.getTips(f.Define.TIPS.OUT_Withdraw_MAX));else{var t=y.GameTool.formatMoneyNumber(v.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.TodayLimit);t>0&&Number(this.inputAmount.text)>t?u.default.SetWarnText(d.ConfigMng.getTips(f.Define.TIPS.OUT_Withdraw_MAX)):b.RankService.ExPromoterIncomeRequest(y.GameTool.restoreMoney(Number(this.inputAmount.text)),y.RunData.userPixAccount.walletAccount.WalletType,I.Laya.Handler.create(this,this.onWithdrawRsp))}}}else u.default.SetWarnText(d.ConfigMng.getTips(f.Define.TIPS.INPUT_IS_NULL))},t.prototype.onWithdrawRsp=function(e){h.LogBase.log("onWithdrawRsp",e),0==e.code?(u.default.SetText(d.ConfigMng.getTips(f.Define.TIPS.SUCCEED)),this.onGetAgentdata()):u.default.SetWarnText(d.ConfigMng.getTips(e.msg))},t.prototype.onExchange=function(){if(""!=this.inputAmount.text)if(Number(this.inputAmount.text)<y.GameTool.formatMoneyNumber(v.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.MinGb))u.default.SetWarnText(d.ConfigMng.getTips(f.Define.TIPS.INPUT_OUT_RANGE));else if(Number(this.inputAmount.text)>y.RunData.PromoterIncome.IncomeMoney)u.default.SetWarnText(d.ConfigMng.getTips(f.Define.TIPS.HAVE_NO_ENOUGH_DATA));else{var e=y.GameTool.formatMoneyNumber(v.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.MaxGb);if(e>0&&Number(this.inputAmount.text)>e)u.default.SetWarnText(d.ConfigMng.getTips(f.Define.TIPS.OUT_Withdraw_MAX));else{var t=y.GameTool.formatMoneyNumber(v.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.TodayLimitGb);t>0&&Number(this.inputAmount.text)>t?u.default.SetWarnText(d.ConfigMng.getTips(f.Define.TIPS.OUT_Withdraw_MAX)):b.RankService.GetPromoterIncomeRequest(y.GameTool.restoreMoney(Number(this.inputAmount.text)),y.RunData.userPixAccount.walletAccount.WalletType,I.Laya.Handler.create(this,this.onExchangeRsp))}}else u.default.SetWarnText(d.ConfigMng.getTips(f.Define.TIPS.INPUT_IS_NULL))},t.prototype.onExchangeRsp=function(e){h.LogBase.log("onExchangeRsp",e),0==e.code?(u.default.SetText(d.ConfigMng.getTips(f.Define.TIPS.SUCCEED)),this.onGetAgentdata()):u.default.SetWarnText(d.ConfigMng.getTips(e.msg))},t.prototype.onRspMyPromoterPayIncome=function(e){h.LogBase.debug("onRspMyPromoterPayIncome",e),h.LogBase.debug("onRspMyPromoterPayIncome PromoterConfig",v.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig);var t=0;0==e.code&&(t=e.data.totalPayUser);var n=0,o=0;this.ListPayRecord.array=[];for(var i=0;i<v.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Income.length;i++)if(3==v.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Income[i].ReturnType){var a=v.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Income[i].MinRange,r=y.GameTool.formatMoneyNumber(v.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Income[i].FixedReward);if(n+=r,t<a)this.ListPayRecord.addItem({LabelPlayers:{text:a},LabelPlayerRange:{text:t+"/"+a},ProgressBar:{value:t/a},LabelStatus:{text:"0"},LabelReward:{text:r},ImageReceive:{skin:"resources/halls/hallph7/res/hallres/wealthclub/collect.png",gray:!0}}),t=0;else{var s=!1;if(0==e.code&&e.data.recordLog.length>0)for(var l=0;l<e.data.recordLog.length;l++)if(a==e.data.recordLog[l].PayUserCnt){s=!0;break}s?(o+=r,this.ListPayRecord.addItem({LabelPlayers:{text:a},LabelPlayerRange:{text:a+"/"+a},ProgressBar:{value:1},LabelReward:{text:r},LabelStatus:{text:"1"},ImageReceive:{skin:"resources/halls/hallph7/res/hallres/wealthclub/Received.png",gray:!1}})):this.ListPayRecord.addItem({LabelPlayers:{text:a},LabelPlayerRange:{text:a+"/"+a},ProgressBar:{value:1},LabelReward:{text:r},LabelStatus:{text:"2"},ImageReceive:{skin:"resources/halls/hallph7/res/hallres/wealthclub/collect.png",gray:!1}})}}this.LabelTotal.text=y.GameTool.FormatScoreString(n.toString())+"\u20b1",this.LabelReceive.text="Receive:"+o.toString()},s([R()],t)}(C.SceneAgentBase7));n.SceneAgent7=L,cc._RF.pop()},{"../hall/Tips":"Tips","../halllib/common/ConfigMng":"ConfigMng","../halllib/common/Define":"Define","../halllib/common/LogBase":"LogBase","../halllib/common/Tools":"Tools","../halllib/common/Types":"Types","../halllib/core/RunData":"RunData","../halllib/laya/Laya":"Laya","../halllib/net/InnerEvent":"InnerEvent","../halllib/net/PlatformConfig":"PlatformConfig","../halllib/net/PlatformService":"PlatformService","./LoadingView7":"LoadingView7","./SceneAgent7.generated":"SceneAgent7.generated"}],"SceneBindPhone6.generated":[function(e,t,n){"use strict";cc._RF.push(t,"49c2eEvb5ZBnLzkAyes7JTL","SceneBindPhone6.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneBindPhoneBase6=void 0;var r=e("../halllib/laya/Laya"),s=(r.Laya.regClass,r.Laya.property),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.boxBackGround=null,t.ImageBg=null,t.imgClose=null,t.btnVincular=null,t.labMoney=null,t}return i(t,e),a([s(cc.Node)],t.prototype,"boxBackGround",void 0),a([s(cc.Sprite)],t.prototype,"ImageBg",void 0),a([s(cc.Sprite)],t.prototype,"imgClose",void 0),a([s(cc.Button)],t.prototype,"btnVincular",void 0),a([s(cc.Label)],t.prototype,"labMoney",void 0),t}(r.Laya.Scene);n.SceneBindPhoneBase6=l,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],SceneBindPhone6:[function(e,t,n){"use strict";cc._RF.push(t,"0fd22gZPCtCc7kjSpQ6tR3S","SceneBindPhone6");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneBindPhone6=void 0;var s=e("./SceneBindPhone6.generated"),l=e("../halllib/core/RunData"),c=e("../halllib/net/InnerEvent"),u=e("../halllib/common/ConfigMng"),p=e("../halllib/common/LogBase"),h=r(e("../hallph7/LoadingView7")),d=e("../halllib/laya/Laya"),f=d.Laya.regClass,g=(d.Laya.property,function(e){function t(){return e.call(this)||this}return i(t,e),t.Load=function(e){var t=this;this.load(u.ConfigMng.getSceneAddr("SceneBindPhone"),null,null).then(function(n){null==n?(p.LogBase.error("LoadScene Error:",u.ConfigMng.getSceneAddr("SceneBindPhone")),c.HallEvent.event(c.HallEvent.LOADING_MSG,"Error:SceneBindPhone7")):(t.s_scene=n,e&&e.run())})},t.OpenScene=function(e){this.s_scene?e?e.addChild(this.s_scene):d.Laya.stage.addChild(this.s_scene):(h.default.OpenScene(),this.Load(d.Laya.Handler.create(this,this.Show,[e])))},t.Show=function(e){h.default.CloseScene(),e?e.addChild(this.s_scene):d.Laya.stage.addChild(this.s_scene)},t.CloseScene=function(){this.s_scene&&this.s_scene.close()},t.prototype.onAwake=function(){this.boxBackGround.on(d.Laya.Event.CLICK,this,this.close),this.ImageBg.on(d.Laya.Event.CLICK,this,function(){}),this.imgClose.on(d.Laya.Event.CLICK,this,this.close),this.btnVincular.on(d.Laya.Event.CLICK,this,this.showBindPhone)},t.prototype.onEnable=function(){this.labMoney.text=l.GameTool.formatMoneyString(l.RunData.myUserInfo.i64UpgradeSendGb,0,"M","K")},t.prototype.showBindPhone=function(){c.HallEvent.event(c.HallEvent.SHOW_REGIST_DIALOG,!1),this.close()},a([f()],t)}(s.SceneBindPhoneBase6));n.SceneBindPhone6=g,cc._RF.pop()},{"../halllib/common/ConfigMng":"ConfigMng","../halllib/common/LogBase":"LogBase","../halllib/core/RunData":"RunData","../halllib/laya/Laya":"Laya","../halllib/net/InnerEvent":"InnerEvent","../hallph7/LoadingView7":"LoadingView7","./SceneBindPhone6.generated":"SceneBindPhone6.generated"}],"SceneBindPhone7.generated":[function(e,t,n){"use strict";cc._RF.push(t,"8d105gbWhpICbnagNK8465R","SceneBindPhone7.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.SceneBindPhoneBase7=void 0;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.boxBackGround=null,t.ImageBg=null,t.imgClose=null,t.btnVincular=null,t.labMoney=null,t}return i(t,e),t}(e("../halllib/laya/Laya").Laya.Scene);n.SceneBindPhoneBase7=a,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],SceneBindPhone7:[function(e,t,n){"use strict";cc._RF.push(t,"afa9bVpPkFGCboUDHA+7pzi","SceneBindPhone7");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneBindPhone7=void 0;var s=e("./SceneBindPhone7.generated"),l=e("../halllib/core/RunData"),c=e("../halllib/net/InnerEvent"),u=e("../halllib/common/ConfigMng"),p=e("../halllib/common/LogBase"),h=r(e("./LoadingView7")),d=e("../halllib/laya/Laya"),f=d.Laya.regClass,g=(d.Laya.property,function(e){function t(){return e.call(this)||this}return i(t,e),t.Load=function(e){var t=this;this.load(u.ConfigMng.getSceneAddr("SceneBindPhone7"),null,null).then(function(n){null==n?(p.LogBase.error("LoadScene Error:",u.ConfigMng.getSceneAddr("SceneBindPhone7")),c.HallEvent.event(c.HallEvent.LOADING_MSG,"Error:SceneBindPhone7")):(t.s_scene=n,e&&e.run())})},t.OpenScene=function(e){this.s_scene?e?e.addChild(this.s_scene):d.Laya.stage.addChild(this.s_scene):(h.default.OpenScene(),this.Load(d.Laya.Handler.create(this,this.Show,[e])))},t.Show=function(e){h.default.CloseScene(),e?e.addChild(this.s_scene):d.Laya.stage.addChild(this.s_scene)},t.CloseScene=function(){this.s_scene&&this.s_scene.close()},t.prototype.onAwake=function(){this.boxBackGround.on(d.Laya.Event.CLICK,this,this.close),this.ImageBg.on(d.Laya.Event.CLICK,this,function(){}),this.imgClose.on(d.Laya.Event.CLICK,this,this.close),this.btnVincular.on(d.Laya.Event.CLICK,this,this.showBindPhone)},t.prototype.onEnable=function(){this.labMoney.text=l.GameTool.formatMoneyString(l.RunData.myUserInfo.i64UpgradeSendGb,0,"M","K")},t.prototype.showBindPhone=function(){c.HallEvent.event(c.HallEvent.SHOW_REGIST_DIALOG,!1),this.close()},a([f()],t)}(s.SceneBindPhoneBase7));n.SceneBindPhone7=g,cc._RF.pop()},{"../halllib/common/ConfigMng":"ConfigMng","../halllib/common/LogBase":"LogBase","../halllib/core/RunData":"RunData","../halllib/laya/Laya":"Laya","../halllib/net/InnerEvent":"InnerEvent","./LoadingView7":"LoadingView7","./SceneBindPhone7.generated":"SceneBindPhone7.generated"}],"SceneBindWallet6.generated":[function(e,t,n){"use strict";cc._RF.push(t,"d42cdV9eoVFU51JPhDnN0Qh","SceneBindWallet6.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneBindWalletBase6=void 0;var r=e("../halllib/laya/Laya"),s=(r.Laya.regClass,r.Laya.property),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Imgclose=null,t.LabelType=null,t.inputWalletName=null,t.inputWalletNumber=null,t.btnSave=null,t.inputVerifyCode=null,t.btnSend=null,t.LabelPhoneNO=null,t.PhoneTips=null,t.SelectToggle=null,t}return i(t,e),a([s(cc.Sprite)],t.prototype,"Imgclose",void 0),a([s(cc.Label)],t.prototype,"LabelType",void 0),a([s(cc.EditBox)],t.prototype,"inputWalletName",void 0),a([s(cc.EditBox)],t.prototype,"inputWalletNumber",void 0),a([s(cc.Button)],t.prototype,"btnSave",void 0),a([s(cc.EditBox)],t.prototype,"inputVerifyCode",void 0),a([s(cc.Button)],t.prototype,"btnSend",void 0),a([s(cc.Label)],t.prototype,"LabelPhoneNO",void 0),a([s(cc.Label)],t.prototype,"PhoneTips",void 0),a([s(cc.Node)],t.prototype,"SelectToggle",void 0),t}(r.Laya.Scene);n.SceneBindWalletBase6=l,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],SceneBindWallet6:[function(e,t,n){"use strict";cc._RF.push(t,"bc760Tps31HZoQRdiFdwfsD","SceneBindWallet6");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneBindWallet6=void 0;var s=r(e("../hall/Tips")),l=e("../halllib/common/LogBase"),c=e("../halllib/common/ConfigMng"),u=e("../halllib/common/Define"),p=e("../halllib/common/Types"),h=e("../halllib/net/InnerEvent"),d=e("../halllib/net/PlatformConfig"),f=r(e("../halllib/net/PlatformService")),g=r(e("../hallph7/LoadingView7")),m=e("./SceneBindWallet6.generated"),y=e("../halllib/core/RunData"),_=e("../halllib/laya/Laya"),v=r(e("md5")),b=_.Laya.regClass,S=(_.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.CONST_TICKTIME=180,t.timetick=t.CONST_TICKTIME,t.bVerifyCode=!1,t.Captcha="",t.Verifytoken="",t}var n;return i(t,e),n=t,t.Load=function(e){var t=this;this.s_sceneName="SceneBindWallet",this.LoadPrefab(e,this.s_sceneName,c.ConfigMng.getSceneAddr(this.s_sceneName),new _.Laya.Handler(this,function(e){console.log("success:",e,t.s_scene)}),new _.Laya.Handler(this,function(){l.LogBase.error("LoadScene Error:",c.ConfigMng.getSceneAddr(t.s_sceneName)),h.HallEvent.event(h.HallEvent.LOADING_MSG,"Error:"+t.s_sceneName)}))},t.OpenScene=function(t,n){this.bRegist=n,this.s_scene?e.OpenScene.call(this,t):(g.default.OpenScene(),this.Load(_.Laya.Handler.create(this,this.Show,[t,n])))},t.prototype.close=function(){n.s_scene=null,console.log("SceneFirstRecharge7 close",this,n.s_scene),e.prototype.close.call(this)},t.Show=function(t,n){g.default.CloseScene(),e.Show.call(this,t),this.bRegist=n},t.prototype.onAwake=function(){this.Imgclose.node.on(_.Laya.Event.CLICK,this.close,this),this.btnSave.node.on(_.Laya.Event.CLICK,this.onBindWallet,this),this.SelectToggle.on(_.Laya.Event.CLICK,this.onSelectTypeToggle,this),this.btnSend.node.on(_.Laya.Event.CLICK,this.onGetVerifyCode,this)},t.prototype.onEnable=function(){this.inputWalletName.string="",this.inputWalletNumber.string="",this.Captcha="",this.Verifytoken="",this.bVerifyCode=!1,this.btnSend.node.getChildByName("text").getComponent(cc.Label).string="Send";var e=this,t=c.ConfigMng.hallconfigJson.verifybtn.replace("resources/","");cc.loader.loadRes(t,cc.SpriteFrame,function(t,n){t?console.error(t):(e.btnSend.node.getComponent(cc.Sprite).spriteFrame=n,e.btnSend.node.getChildByName("text").active=!1)}),this.inputVerifyCode.string="",l.LogBase.debug("byIsNeedBindQuick",y.RunData.myUserInfo.byIsNeedBindQuick),y.RunData.myUserInfo.szName.length>12||1==y.RunData.myUserInfo.byIsNeedBindQuick||3==y.RunData.myUserInfo.byIsNeedBindQuick?(this.LabelPhoneNO.string="bind phone number first!",h.HallEvent.event(h.HallEvent.SHOW_REGIST_DIALOG),s.default.SetText("Please bind your mobile phone number first!")):this.LabelPhoneNO.string=y.RunData.myUserInfo.szName,this.setCurSeletShow(null,0),this.onSelectTypeToggle()},t.prototype.onBindWallet=function(){return y.RunData.myUserInfo.szName.length>12||1==y.RunData.myUserInfo.byIsNeedBindQuick||3==y.RunData.myUserInfo.byIsNeedBindQuick?(this.LabelPhoneNO.string="bind phone number first!",h.HallEvent.event(h.HallEvent.SHOW_REGIST_DIALOG),void s.default.SetText("Please bind your mobile phone number first!")):1==y.RunData.myUserInfo.byIsNeedBindQuick||3==y.RunData.myUserInfo.byIsNeedBindQuick?(this.LabelPhoneNO.string="bind phone number first!",h.HallEvent.event(h.HallEvent.SHOW_REGIST_DIALOG),void s.default.SetText("Please bind your mobile phone number first!")):void(this.inputWalletName.string.length<1?s.default.SetWarnText(c.ConfigMng.getNetTips(u.Define.TIPS.WALLET_NAME_IS_TOO_SHORT)):this.checkPhoneNum()&&this.SMSVerifyRequest())},t.prototype.onBindResponse=function(e){l.LogBase.log("onBindResponse",e),0==e.code?(this.close(),h.HallEvent.event(h.HallEvent.SHOW_MESSAGE,u.Define.TIPS.BIND_SUCCEED)):h.HallEvent.event(h.HallEvent.SHOW_MESSAGE,e.msg)},t.prototype.onGetSMSCode=function(){this.timetick<this.CONST_TICKTIME||this.checkPhoneNum()&&(this.onTimer(),f.default.SMSCodeRequest(d.servicedata.ServiceConfigs.PlantformConfig.AreaCode.toString(),y.RunData.myUserInfo.szName,p.SMSCodeType.BindWallet,_.Laya.Handler.create(this,this.onSendRespone)))},t.prototype.onSendRespone=function(e){l.LogBase.log("onSendRespone",e),e&&(0==e.code?(this.bVerifyCode=!0,s.default.SetText(c.ConfigMng.getTips(u.Define.TIPS.SEND_VERIFY_CODE_SUCCEED))):(this.bVerifyCode=!1,e.msg&&s.default.SetWarnText(c.ConfigMng.getTips(e.msg)),this.timetick=this.CONST_TICKTIME,this.btnSend.node.getChildByName("text").getComponent(cc.Label).string="Send",_.Laya.timer.clearAll(this)))},t.prototype.onTimer=function(){var e=this;this.timetick=this.CONST_TICKTIME-1,this.btnSend.node.getChildByName("text").getComponent(cc.Label).string=this.timetick.toString(),_.Laya.timer.loop(1e3,this,function(){e.timetick--,e.btnSend.node.getChildByName("text").getComponent(cc.Label).string=e.timetick.toString(),0==e.timetick&&(e.timetick=e.CONST_TICKTIME,e.btnSend.node.getChildByName("text").getComponent(cc.Label).string="Send",_.Laya.timer.clearAll(e))})},t.prototype.SMSVerifyRequest=function(){this.bVerifyCode?this.checkPhoneNum()&&(this.inputVerifyCode.string.length<6?s.default.SetWarnText(c.ConfigMng.getTips(u.Define.TIPS.INPUT_ERROR_PASSWD_TOO_LESS)):f.default.SMSVerifyRequest(d.servicedata.ServiceConfigs.PlantformConfig.AreaCode.toString(),y.RunData.myUserInfo.szName,p.SMSCodeType.BindWallet,this.inputVerifyCode.string,_.Laya.Handler.create(this,this.onSMSVerifyRsp))):s.default.SetWarnText(c.ConfigMng.getTips(u.Define.TIPS.SEND_VERIFY_CODE_FIRST))},t.prototype.onSMSVerifyRsp=function(e){l.LogBase.log("onSMSVerifyRsp",e),0==e.code?this.BindWallet():s.default.SetWarnText(e.msg)},t.prototype.getImageVerify=function(){this.checkPhoneNum()&&f.default.ImageVerifyRequest(this.inputWalletNumber.string,_.Laya.Handler.create(this,this.onRspImageVerify))},t.prototype.onRspImageVerify=function(e){this.btnSend.node.getChildByName("text").getComponent(cc.Label).string="",this.btnSend.getComponent(cc.Sprite).spriteFrame=null,this.Captcha=e.Captcha;var t=this;this.Verifytoken=e.Verifytoken;var n=e.url.replace("resources/","");cc.loader.loadRes(n,cc.SpriteFrame,function(e,n){e&&console.error(e),t.btnSend.node.getComponent(cc.Sprite).spriteFrame=n})},t.prototype.ImgVerifyRequest=function(){this.checkPhoneNum()&&(this.inputVerifyCode.string.length<4?s.default.SetWarnText(c.ConfigMng.getTips(u.Define.TIPS.INPUT_ERROR_VERIFYCODE)):v.default(this.inputVerifyCode.string)==this.Captcha?this.BindWallet():s.default.SetWarnText(c.ConfigMng.getTips(u.Define.TIPS.INPUT_ERROR_VERIFYCODE)))},t.prototype.checkPhoneNum=function(){return this.inputWalletNumber.string=Number(this.inputWalletNumber.string).toString(),this.inputWalletNumber.string.length<c.ConfigMng.hallconfigJson.regist.phoneminlen||this.inputWalletNumber.string.length>c.ConfigMng.hallconfigJson.regist.phonemaxlen?(s.default.SetWarnText(c.ConfigMng.getTips(u.Define.TIPS.INPUT_ERROR_WALLETNO)),!1):"9"==this.inputWalletNumber.string.charAt(0)||(s.default.SetWarnText(c.ConfigMng.getTips(u.Define.TIPS.INPUT_ERROR_WALLETNO)),!1)},t.prototype.onGetVerifyCode=function(){if(y.RunData.myUserInfo.szName.length>12||1==y.RunData.myUserInfo.byIsNeedBindQuick||3==y.RunData.myUserInfo.byIsNeedBindQuick)return this.LabelPhoneNO.string="bind phone number first!",h.HallEvent.event(h.HallEvent.SHOW_REGIST_DIALOG),void s.default.SetText("Please bind your mobile phone number first!");this.onGetSMSCode()},t.prototype.BindWallet=function(){var e=0==this.getCurSeletInded()?"1001":"1002";f.default.bindWalletRequest(e,this.inputWalletName.string,this.inputWalletNumber.string,y.RunData.myUserInfo.szName,this.inputVerifyCode.string,_.Laya.Handler.create(this,this.onBindResponse))},t.prototype.onSelectTypeToggle=function(){0==this.getCurSeletInded()?(this.inputWalletName.placeholder="Input your Gcash Account Name.",this.inputWalletNumber.placeholder="Enter your Gcash mobile number."):(this.inputWalletName.placeholder="Input your MAYA Account Name.",this.inputWalletNumber.placeholder="Enter your MAYA mobile number.")},t.prototype.getCurSeletInded=function(){for(var e=this.SelectToggle.children,t=0;t<e.length;t++)if(e[t].getComponent(cc.Toggle).isChecked)return t},t.prototype.setCurSeletShow=function(e,t){for(var n=this.SelectToggle.children,o=0;o<n.length;o++)n[o].getComponent(cc.Toggle).isChecked=!1,t==o&&(n[o].getComponent(cc.Toggle).isChecked=!0);this.onSelectTypeToggle()},t.bRegist=!0,n=a([b()],t)}(m.SceneBindWalletBase6));n.SceneBindWallet6=S,cc._RF.pop()},{"../hall/Tips":"Tips","../halllib/common/ConfigMng":"ConfigMng","../halllib/common/Define":"Define","../halllib/common/LogBase":"LogBase","../halllib/common/Types":"Types","../halllib/core/RunData":"RunData","../halllib/laya/Laya":"Laya","../halllib/net/InnerEvent":"InnerEvent","../halllib/net/PlatformConfig":"PlatformConfig","../halllib/net/PlatformService":"PlatformService","../hallph7/LoadingView7":"LoadingView7","./SceneBindWallet6.generated":"SceneBindWallet6.generated",md5:44}],"SceneBindWallet7.generated":[function(e,t,n){"use strict";cc._RF.push(t,"5c10c4h3ndJr6jbQGreyhSy","SceneBindWallet7.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.SceneBindWalletBase7=void 0;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Imgclose=null,t.LabelType=null,t.inputWalletName=null,t.inputWalletNumber=null,t.btnSave=null,t.ComboBox=null,t.inputVerifyCode=null,t.btnSend=null,t.LabelPhoneNO=null,t.PhoneTips=null,t.SelectToggle=null,t}return i(t,e),t}(e("../halllib/laya/Laya").Laya.Scene);n.SceneBindWalletBase7=a,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],SceneBindWallet7:[function(e,t,n){"use strict";cc._RF.push(t,"24bd03+gk9CSIg/dW2ret5H","SceneBindWallet7");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneBindWallet7=void 0;var s=r(e("../hall/Tips")),l=e("../halllib/common/LogBase"),c=e("../halllib/common/ConfigMng"),u=e("../halllib/common/Define"),p=e("../halllib/common/Types"),h=e("../halllib/net/InnerEvent"),d=e("../halllib/net/PlatformConfig"),f=r(e("../halllib/net/PlatformService")),g=r(e("./LoadingView7")),m=e("./SceneBindWallet7.generated"),y=e("../halllib/core/RunData"),_=e("../halllib/laya/Laya"),v=_.Laya.regClass,b=(_.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.CONST_TICKTIME=180,t.timetick=t.CONST_TICKTIME,t.bVerifyCode=!1,t.Captcha="",t.Verifytoken="",t}return i(t,e),t.Load=function(e){var t=this;this.load(c.ConfigMng.getSceneAddr("SceneBindWallet7"),null,null).then(function(n){null==n?(l.LogBase.error("LoadScene Error:",c.ConfigMng.getSceneAddr("SceneBindWallet7")),h.HallEvent.event(h.HallEvent.LOADING_MSG,"Error:SceneBindWallet7")):(t.s_scene=n,e&&e.run())})},t.OpenScene=function(e){this.s_scene?e?e.addChild(this.s_scene):_.Laya.stage.addChild(this.s_scene):(g.default.OpenScene(),this.Load(_.Laya.Handler.create(this,this.Show,[e])))},t.Show=function(e){g.default.CloseScene(),e?e.addChild(this.s_scene):_.Laya.stage.addChild(this.s_scene)},t.prototype.onAwake=function(){this.Imgclose.on(_.Laya.Event.CLICK,this,this.close),this.btnSave.on(_.Laya.Event.CLICK,this,this.onBindWallet),this.SelectToggle.on(_.Laya.Event.CLICK,this,this.onSelectTypeToggle),this.btnSend.on(_.Laya.Event.CLICK,this,this.onGetVerifyCode),this.ComboBox.selectedIndex=0,this.inputWalletName.restrict=u.Define.COMM.RESTRICT_PURCHAR,this.inputWalletNumber.restrict=u.Define.COMM.RESTRICT_NUMBER,this.inputVerifyCode.restrict=u.Define.COMM.RESTRICT_NUMBER},t.prototype.onEnable=function(){this.inputWalletName.text="",this.inputWalletNumber.text="",this.Captcha="",this.Verifytoken="",this.bVerifyCode=!1,this.btnSend.label="Send",this.btnSend.loadImage(c.ConfigMng.hallconfigJson.verifybtn),this.inputVerifyCode.text="",l.LogBase.debug("byIsNeedBindQuick",y.RunData.myUserInfo.byIsNeedBindQuick),y.RunData.myUserInfo.szName.length>12||1==y.RunData.myUserInfo.byIsNeedBindQuick||3==y.RunData.myUserInfo.byIsNeedBindQuick?(this.LabelPhoneNO.text="bind phone number first!",h.HallEvent.event(h.HallEvent.SHOW_REGIST_DIALOG),s.default.SetText("Please bind your mobile phone number first!")):this.LabelPhoneNO.text=y.RunData.myUserInfo.szName,this.onSelectTypeToggle()},t.prototype.onBindWallet=function(){if(y.RunData.myUserInfo.szName.length>12||1==y.RunData.myUserInfo.byIsNeedBindQuick||3==y.RunData.myUserInfo.byIsNeedBindQuick)return this.LabelPhoneNO.text="bind phone number first!",h.HallEvent.event(h.HallEvent.SHOW_REGIST_DIALOG),void s.default.SetText("Please bind your mobile phone number first!");if(1==y.RunData.myUserInfo.byIsNeedBindQuick||3==y.RunData.myUserInfo.byIsNeedBindQuick)return this.LabelPhoneNO.text="bind phone number first!",h.HallEvent.event(h.HallEvent.SHOW_REGIST_DIALOG),void s.default.SetText("Please bind your mobile phone number first!");if(this.inputWalletName.text.length<1)s.default.SetWarnText(c.ConfigMng.getNetTips(u.Define.TIPS.WALLET_NAME_IS_TOO_SHORT));else if(this.checkPhoneNum()){var e=p.PayConfig.WalletType.get(this.ComboBox.selectedLabel);l.LogBase.log("onBindWallet",e,this.inputWalletName.text,this.inputWalletNumber.text),null!=e?this.SMSVerifyRequest():s.default.SetWarnText(c.ConfigMng.getNetTips(u.Define.TIPS.INPUT_IS_ERROR))}},t.prototype.onBindResponse=function(e){l.LogBase.log("onBindResponse",e),0==e.code?(this.close(),h.HallEvent.event(h.HallEvent.SHOW_MESSAGE,u.Define.TIPS.BIND_SUCCEED)):h.HallEvent.event(h.HallEvent.SHOW_MESSAGE,e.msg)},t.prototype.onGetSMSCode=function(){this.timetick<this.CONST_TICKTIME||this.checkPhoneNum()&&(this.onTimer(),f.default.SMSCodeRequest(d.servicedata.ServiceConfigs.PlantformConfig.AreaCode.toString(),y.RunData.myUserInfo.szName,p.SMSCodeType.BindWallet,_.Laya.Handler.create(this,this.onSendRespone)))},t.prototype.onSendRespone=function(e){l.LogBase.log("onSendRespone",e),e&&(0==e.code?(this.bVerifyCode=!0,s.default.SetText(c.ConfigMng.getTips(u.Define.TIPS.SEND_VERIFY_CODE_SUCCEED))):(this.bVerifyCode=!1,e.msg&&s.default.SetWarnText(c.ConfigMng.getTips(e.msg)),this.timetick=this.CONST_TICKTIME,this.btnSend.label="Send",_.Laya.timer.clearAll(this)))},t.prototype.onTimer=function(){var e=this;this.timetick=this.CONST_TICKTIME-1,this.btnSend.label=this.timetick.toString(),_.Laya.timer.loop(1e3,this,function(){e.timetick--,e.btnSend.label=e.timetick.toString(),0==e.timetick&&(e.timetick=e.CONST_TICKTIME,e.btnSend.label="Send",_.Laya.timer.clearAll(e))})},t.prototype.SMSVerifyRequest=function(){this.bVerifyCode?this.checkPhoneNum()&&(this.inputVerifyCode.text.length<6?s.default.SetWarnText(c.ConfigMng.getTips(u.Define.TIPS.INPUT_ERROR_PASSWD_TOO_LESS)):f.default.SMSVerifyRequest(d.servicedata.ServiceConfigs.PlantformConfig.AreaCode.toString(),y.RunData.myUserInfo.szName,p.SMSCodeType.BindWallet,this.inputVerifyCode.text,_.Laya.Handler.create(this,this.onSMSVerifyRsp))):s.default.SetWarnText(c.ConfigMng.getTips(u.Define.TIPS.SEND_VERIFY_CODE_FIRST))},t.prototype.onSMSVerifyRsp=function(e){l.LogBase.log("onSMSVerifyRsp",e),0==e.code?this.BindWallet():s.default.SetWarnText(e.msg)},t.prototype.getImageVerify=function(){this.checkPhoneNum()&&f.default.ImageVerifyRequest(this.inputWalletNumber.text,_.Laya.Handler.create(this,this.onRspImageVerify))},t.prototype.onRspImageVerify=function(e){var t=this;this.btnSend.label="",this.btnSend.skin="",this.btnSend.texture=null,this.Captcha=e.Captcha,this.Verifytoken=e.Verifytoken,_.Laya.loader.load(e.url,_.Laya.Loader.IMAGE).then(function(e){null!=e&&(t.btnSend.texture=e)})},t.prototype.ImgVerifyRequest=function(){this.checkPhoneNum()&&(this.inputVerifyCode.text.length<4?s.default.SetWarnText(c.ConfigMng.getTips(u.Define.TIPS.INPUT_ERROR_VERIFYCODE)):md5(this.inputVerifyCode.text)==this.Captcha?this.BindWallet():s.default.SetWarnText(c.ConfigMng.getTips(u.Define.TIPS.INPUT_ERROR_VERIFYCODE)))},t.prototype.checkPhoneNum=function(){return this.inputWalletNumber.text=Number(this.inputWalletNumber.text).toString(),this.inputWalletNumber.text.length<c.ConfigMng.hallconfigJson.regist.phoneminlen||this.inputWalletNumber.text.length>c.ConfigMng.hallconfigJson.regist.phonemaxlen?(s.default.SetWarnText(c.ConfigMng.getTips(u.Define.TIPS.INPUT_ERROR_WALLETNO)),!1):"9"==this.inputWalletNumber.text.charAt(0)||(s.default.SetWarnText(c.ConfigMng.getTips(u.Define.TIPS.INPUT_ERROR_WALLETNO)),!1)},t.prototype.onGetVerifyCode=function(){if(y.RunData.myUserInfo.szName.length>12||1==y.RunData.myUserInfo.byIsNeedBindQuick||3==y.RunData.myUserInfo.byIsNeedBindQuick)return this.LabelPhoneNO.text="bind phone number first!",h.HallEvent.event(h.HallEvent.SHOW_REGIST_DIALOG),void s.default.SetText("Please bind your mobile phone number first!");this.onGetSMSCode()},t.prototype.BindWallet=function(){var e=p.PayConfig.WalletType.get(this.ComboBox.selectedLabel);if(l.LogBase.log("onBindWallet",e,this.inputWalletName.text,this.inputWalletNumber.text),null!=e){var t=0==this.SelectToggle.selectedIndex?"1001":"1002";f.default.bindWalletRequest(t,this.inputWalletName.text,this.inputWalletNumber.text,y.RunData.myUserInfo.szName,this.inputVerifyCode.text,_.Laya.Handler.create(this,this.onBindResponse))}else s.default.SetWarnText(c.ConfigMng.getNetTips(u.Define.TIPS.INPUT_IS_ERROR))},t.prototype.onSelectTypeToggle=function(){0==this.SelectToggle.selectedIndex?(this.inputWalletName.prompt="Input your Gcash Account Name.",this.inputWalletNumber.prompt="Enter your Gcash mobile number."):(this.inputWalletName.prompt="Input your MAYA Account Name.",this.inputWalletNumber.prompt="Enter your MAYA mobile number.")},a([v()],t)}(m.SceneBindWalletBase7));n.SceneBindWallet7=b,cc._RF.pop()},{"../hall/Tips":"Tips","../halllib/common/ConfigMng":"ConfigMng","../halllib/common/Define":"Define","../halllib/common/LogBase":"LogBase","../halllib/common/Types":"Types","../halllib/core/RunData":"RunData","../halllib/laya/Laya":"Laya","../halllib/net/InnerEvent":"InnerEvent","../halllib/net/PlatformConfig":"PlatformConfig","../halllib/net/PlatformService":"PlatformService","./LoadingView7":"LoadingView7","./SceneBindWallet7.generated":"SceneBindWallet7.generated"}],SceneConfig:[function(e,t,n){"use strict";cc._RF.push(t,"59923qu4nlM9Z27jV0OCDmJ","SceneConfig"),Object.defineProperty(n,"__esModule",{value:!0}),n.SceneConfig=void 0;var o=e("./BundleConfig");n.SceneConfig={BootScene:{bundleName:o.BundleConfig.Main,sceneName:"BootScene"},LoginScene:{bundleName:o.BundleConfig.Main,sceneName:"LoginScene"},LobbyScene:{bundleName:o.BundleConfig.Main,sceneName:"LobbyScene"},UpDownScene:{bundleName:o.BundleConfig.Luckynumberbundle,sceneName:"UpDownScene"},ClassicBalootScene:{bundleName:o.BundleConfig.BalootBundle,sceneName:"ClassicBalootScene"},FastBalootScene:{bundleName:o.BundleConfig.BalootBundle,sceneName:"FastBalootScene"},DoubleBalootScene:{bundleName:o.BundleConfig.BalootBundle,sceneName:"DoubleBalootScene"},QualifyingBalootScene:{bundleName:o.BundleConfig.BalootBundle,sceneName:"QualifyingBalootScene"},LudoScene:{bundleName:o.BundleConfig.Ludobundle,sceneName:"LudoScene"},AnimalSpin:{bundleName:o.BundleConfig.AnimalSpinbundle,sceneName:"AnimalSpinScenes"},TexasScene:{bundleName:o.BundleConfig.TexasBundle,sceneName:"TexasScene"},projectTableScene:{bundleName:o.BundleConfig.ProjectTableBundle,sceneName:"projectTableBundleScene"}},cc._RF.pop()},{"./BundleConfig":"BundleConfig"}],"SceneDoc7.generated":[function(e,t,n){"use strict";cc._RF.push(t,"ea91dAL4tZMwLA/1BLGLdqR","SceneDoc7.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneDocBase7=void 0;var r=e("../halllib/laya/Laya"),s=(r.Laya.regClass,r.Laya.property),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.imgBg=null,t.Imagebg=null,t.imgClose=null,t.LabelVersion=null,t}return i(t,e),a([s(cc.Sprite)],t.prototype,"imgBg",void 0),a([s(cc.Sprite)],t.prototype,"Imagebg",void 0),a([s(cc.Sprite)],t.prototype,"imgClose",void 0),a([s(cc.Label)],t.prototype,"LabelVersion",void 0),t}(r.Laya.Scene);n.SceneDocBase7=l,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],SceneDoc7:[function(e,t,n){"use strict";cc._RF.push(t,"cba8fMPHvhPfq1tP2WToIka","SceneDoc7");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneDoc7=void 0;var s=e("../halllib/common/LogBase"),l=e("../halllib/common/ConfigMng"),c=e("../halllib/net/InnerEvent"),u=r(e("./LoadingView7")),p=e("./SceneDoc7.generated"),h=e("../halllib/laya/Laya"),d=h.Laya.regClass,f=(h.Laya.property,function(e){function t(){return e.call(this)||this}var n;return i(t,e),n=t,t.Load=function(e){var t=this;this.s_sceneName="SceneDoc",this.LoadPrefab(e,this.s_sceneName,l.ConfigMng.getSceneAddr(this.s_sceneName),new h.Laya.Handler(this,function(e){console.log("success:",e,t.s_scene)}),new h.Laya.Handler(this,function(){s.LogBase.error("LoadScene Error:",l.ConfigMng.getSceneAddr(t.s_sceneName)),c.HallEvent.event(c.HallEvent.LOADING_MSG,"Error:"+t.s_sceneName)}))},t.OpenScene=function(t,n){this.bRegist=n,this.s_scene?e.OpenScene.call(this,t):(u.default.OpenScene(),this.Load(h.Laya.Handler.create(this,this.Show,[t,n])))},t.Show=function(t,n){u.default.CloseScene(),e.Show.call(this,t),this.bRegist=n},t.CloseScene=function(){e.CloseScene.call(this)},t.prototype.onAwake=function(){this.imgClose.node.on(h.Laya.Event.CLICK,this.close,this),this.Imagebg.node.on(h.Laya.Event.CLICK,function(){},this),""!=l.ConfigMng.version&&(this.LabelVersion.string="Version: "+l.ConfigMng.version)},t.prototype.close=function(){n.s_scene=null,console.log("SceneSetting6 close",this,n.s_scene),e.prototype.close.call(this)},t.bRegist=!0,n=a([d()],t)}(p.SceneDocBase7));n.SceneDoc7=f,cc._RF.pop()},{"../halllib/common/ConfigMng":"ConfigMng","../halllib/common/LogBase":"LogBase","../halllib/laya/Laya":"Laya","../halllib/net/InnerEvent":"InnerEvent","./LoadingView7":"LoadingView7","./SceneDoc7.generated":"SceneDoc7.generated"}],"SceneFace7.generated":[function(e,t,n){"use strict";cc._RF.push(t,"2e56aMIVyRKaYnCf/ETcMzp","SceneFace7.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneFaceBase7=void 0;var r=e("../halllib/laya/Laya"),s=(r.Laya.regClass,r.Laya.property),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.boxBackGround=null,t.ImgClose=null,t.spFace=null,t.spSave=null,t.listFace=null,t.itemsprefab=null,t}return i(t,e),a([s(cc.Node)],t.prototype,"boxBackGround",void 0),a([s(cc.Sprite)],t.prototype,"ImgClose",void 0),a([s(cc.Sprite)],t.prototype,"spFace",void 0),a([s(cc.Sprite)],t.prototype,"spSave",void 0),a([s(cc.Node)],t.prototype,"listFace",void 0),a([s(cc.Prefab)],t.prototype,"itemsprefab",void 0),t}(r.Laya.Scene);n.SceneFaceBase7=l,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],SceneFace7:[function(e,t,n){"use strict";cc._RF.push(t,"8c145FtBkZLzqH5Ahaabj/C","SceneFace7");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.FlagItem=n.FaceItem=n.SceneFace7=void 0;var s=e("./SceneFace7.generated"),l=e("../halllib/core/RunData"),c=e("../halllib/net/InnerEvent"),u=r(e("../halllib/net/HallMsgProxy")),p=e("../halllib/common/ConfigMng"),h=e("../halllib/common/LogBase"),d=r(e("./LoadingView7")),f=e("../halllib/laya/Laya"),g=e("../halllib/net/GameHallMessage").GameHallMessage.CMD_C_UserInfo_Self_Update,m=f.Laya.regClass,y=(f.Laya.property,function(e){function t(){return e.call(this)||this}var n;return i(t,e),n=t,t.Load=function(e){var t=this;this.s_sceneName="SceneFace",this.LoadPrefab(e,this.s_sceneName,p.ConfigMng.getSceneAddr(this.s_sceneName),new f.Laya.Handler(this,function(e){console.log("success:",e,t.s_scene)}),new f.Laya.Handler(this,function(){c.HallEvent.event(c.HallEvent.LOADING_MSG,"Error:"+t.s_sceneName)}))},t.OpenScene=function(t,n){this.bRegist=n,this.s_scene?e.OpenScene.call(this,t):(d.default.OpenScene(),this.Load(f.Laya.Handler.create(this,this.Show,[t,n])))},t.Show=function(t,n){d.default.CloseScene(),e.Show.call(this,t),this.bRegist=n},t.CloseScene=function(){e.CloseScene.call(this)},t.prototype.close=function(){n.s_scene=null,console.log("SceneFirstRecharge7 close",this,n.s_scene),e.prototype.close.call(this)},t.prototype.onEnable=function(){this.faceid=l.RunData.myUserInfo.bLogoID,(this.faceid<0||this.faceid>p.ConfigMng.hallconfigJson.face.facelist.length)&&(this.faceid=0);var e=this,t=p.ConfigMng.hallconfigJson.face.facelist[this.faceid].replace("resources/","");cc.loader.loadRes(t,cc.SpriteFrame,function(t,n){t?console.error(t):e.spFace.spriteFrame=n})},t.prototype.onAwake=function(){this.spSave.node.on(f.Laya.Event.CLICK,this.onSave,this),this.boxBackGround.on(f.Laya.Event.CLICK,this.close,this),this.ImgClose.node.on(f.Laya.Event.CLICK,this.close,this),this.InitList()},t.prototype.InitList=function(){this.faceid=l.RunData.myUserInfo.bLogoID,(this.faceid<0||this.faceid>p.ConfigMng.hallconfigJson.face.facelist.length)&&(this.faceid=0);var e=this,t=p.ConfigMng.hallconfigJson.face.facelist[this.faceid].replace("resources/","");cc.loader.loadRes(t,cc.SpriteFrame,function(t,n){t?console.error(t):e.spFace.spriteFrame=n});var n=p.ConfigMng.hallconfigJson.face.facelist;console.log("listArray -------",n);for(var o=function(e){var t=cc.instantiate(i.itemsprefab);t.on(cc.Node.EventType.TOUCH_END,i.selectItem,i);var o=t.getChildByName("face").getComponent(cc.Sprite),a=n[e].replace("resources/","");cc.loader.loadRes(a,cc.SpriteFrame,function(e,t){e?console.error(e):o.spriteFrame=t}),t.getChildByName("index").getComponent(cc.Label).string=e+"",t.getChildByName("chose").active=!1,i.listFace.addChild(t)},i=this,a=0;a<n.length;a++)o(a);h.LogBase.log("this.listFace",this.listFace)},t.prototype.updateItem=function(e,t){null==e.texture||e.texture,t==this.faceid&&this.flagItem.ShowInBox(e)},t.prototype.selectItem=function(e){console.log("seletitem -----",e);var t=e.currentTarget,n=parseInt(t.getChildByName("index").getComponent(cc.Label).string);this.faceid=n;for(var o=this.listFace.children,i=0;i<o.length;i++)o[i].getChildByName("chose").active=i==n},t.prototype.onSave=function(){var e=this,t=p.ConfigMng.hallconfigJson.face.facelist[this.faceid].replace("resources/","");cc.loader.loadRes(t,cc.SpriteFrame,function(t,n){t?console.error(t):e.spFace.spriteFrame=n}),l.RunData.myUserInfo.bLogoID=this.faceid,c.HallEvent.dispatcher.event(c.HallEvent.UPDATE_FACE,this.faceid);var n=new g;n.iUserID=l.RunData.myUserInfo.dwUserID,n.bSex=l.RunData.myUserInfo.bBoy,n.iImageNo=this.faceid,n.szNickName=l.RunData.myUserInfo.nickName,n.szGameSign=l.RunData.myUserInfo.szGameSign,n.iPhotoFrame=l.RunData.myUserInfo.iPhotoFrame,u.default.sendUserInfoSelfUpdate(n)},t.bRegist=!0,n=a([m()],t)}(s.SceneFaceBase7));n.SceneFace7=y;var _=function(e){function t(){return e.call(this)||this}return i(t,e),t.prototype.onEnable=function(){},t}(f.Laya.Scene);n.FaceItem=_;var v=function(e){function t(){return e.call(this)||this}return i(t,e),t.prototype.ShowInBox=function(){},t}(f.Laya.Sprite);n.FlagItem=v,cc._RF.pop()},{"../halllib/common/ConfigMng":"ConfigMng","../halllib/common/LogBase":"LogBase","../halllib/core/RunData":"RunData","../halllib/laya/Laya":"Laya","../halllib/net/GameHallMessage":"GameHallMessage","../halllib/net/HallMsgProxy":"HallMsgProxy","../halllib/net/InnerEvent":"InnerEvent","./LoadingView7":"LoadingView7","./SceneFace7.generated":"SceneFace7.generated"}],"SceneFirstRecharge7.generated":[function(e,t,n){"use strict";cc._RF.push(t,"1c694LYOcdNX6kXNmqH656Y","SceneFirstRecharge7.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneFirstRechargeBase7=void 0;var r=e("../halllib/laya/Laya"),s=(r.Laya.regClass,r.Laya.property),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.BoxBG=null,t.ImageBg=null,t.spOK=null,t.labMoney2=null,t.LabelMoneyAdd2=null,t.labMoney1=null,t.LabelMoneyAdd1=null,t.imgClose=null,t}return i(t,e),a([s(cc.Node)],t.prototype,"BoxBG",void 0),a([s(cc.Sprite)],t.prototype,"ImageBg",void 0),a([s(cc.Sprite)],t.prototype,"spOK",void 0),a([s(cc.Label)],t.prototype,"labMoney2",void 0),a([s(cc.Label)],t.prototype,"LabelMoneyAdd2",void 0),a([s(cc.Label)],t.prototype,"labMoney1",void 0),a([s(cc.Label)],t.prototype,"LabelMoneyAdd1",void 0),a([s(cc.Sprite)],t.prototype,"imgClose",void 0),t}(r.Laya.Scene);n.SceneFirstRechargeBase7=l,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],SceneFirstRecharge7:[function(e,t,n){"use strict";cc._RF.push(t,"24dfaJg7ZFFaLymkxQdzJdv","SceneFirstRecharge7");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneFirstRecharge7=void 0;var s=e("./SceneFirstRecharge7.generated"),l=e("../halllib/core/RunData"),c=e("../halllib/net/InnerEvent"),u=e("../halllib/net/PlatformConfig"),p=e("../halllib/common/LogBase"),h=e("../halllib/common/ConfigMng"),d=r(e("./LoadingView7")),f=e("../halllib/laya/Laya"),g=f.Laya.regClass,m=(f.Laya.property,function(e){function t(){return e.call(this)||this}var n;return i(t,e),n=t,t.Load=function(e){var t=this;this.s_sceneName="SceneFirstRecharge",this.LoadPrefab(e,this.s_sceneName,h.ConfigMng.getSceneAddr(this.s_sceneName),new f.Laya.Handler(this,function(e){console.log("success:",e,t.s_scene)}),new f.Laya.Handler(this,function(){p.LogBase.error("LoadScene Error:",h.ConfigMng.getSceneAddr(t.s_sceneName)),c.HallEvent.event(c.HallEvent.LOADING_MSG,"Error:"+t.s_sceneName)}))},t.prototype.close=function(){n.s_scene=null,console.log("SceneFirstRecharge7 close",this,n.s_scene),e.prototype.close.call(this)},t.OpenScene=function(t,n){this.bRegist=n,this.s_scene?e.OpenScene.call(this,t):(d.default.OpenScene(),this.Load(f.Laya.Handler.create(this,this.Show,[t,n])))},t.Show=function(t,n){d.default.CloseScene(),e.Show.call(this,t),this.bRegist=n},t.CloseScene=function(){e.CloseScene.call(this)},t.prototype.onEnable=function(){this.spOK.node.on(f.Laya.Event.CLICK,this.onOK,this),this.imgClose.node.on(f.Laya.Event.CLICK,this.close,this),this.BoxBG.on(f.Laya.Event.CLICK,this.close,this),this.ImageBg.node.on(f.Laya.Event.CLICK,function(){},this);for(var e=!1,t=0;t<u.servicedata.DenominationConfig.officialPayList.length;t++){var n=u.servicedata.DenominationConfig.officialPayList[t];n.IsFirstPay&&(e?(this.LabelMoneyAdd2.string=l.GameTool.formatMoneyString(n.Value)+"+"+l.GameTool.formatMoneyString(n.FirstPayValue)+" Coins",this.labMoney2.string=l.GameTool.formatMoneyString(n.Value)):(this.LabelMoneyAdd1.string=l.GameTool.formatMoneyString(n.Value)+"+"+l.GameTool.formatMoneyString(n.FirstPayValue)+" Coins",this.labMoney1.string=l.GameTool.formatMoneyString(n.Value)),e=!0)}},t.prototype.onOK=function(){this.close(),c.HallEvent.event(c.HallEvent.SHOW_RECHARGE_VIEW)},t.bRegist=!0,n=a([g()],t)}(s.SceneFirstRechargeBase7));n.SceneFirstRecharge7=m,cc._RF.pop()},{"../halllib/common/ConfigMng":"ConfigMng","../halllib/common/LogBase":"LogBase","../halllib/core/RunData":"RunData","../halllib/laya/Laya":"Laya","../halllib/net/InnerEvent":"InnerEvent","../halllib/net/PlatformConfig":"PlatformConfig","./LoadingView7":"LoadingView7","./SceneFirstRecharge7.generated":"SceneFirstRecharge7.generated"}],"SceneGameLoad7.generated":[function(e,t,n){"use strict";cc._RF.push(t,"b64aduhz9xPGpwi4/QJjAxH","SceneGameLoad7.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneGameLoadBase7=void 0;var r=e("../halllib/laya/Laya"),s=(r.Laya.regClass,r.Laya.property),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ImageBg=null,t.ProgressBar=null,t.Spjindu=null,t}return i(t,e),a([s(cc.Sprite)],t.prototype,"ImageBg",void 0),a([s(cc.ProgressBar)],t.prototype,"ProgressBar",void 0),a([s(cc.Node)],t.prototype,"Spjindu",void 0),t}(r.Laya.Scene);n.SceneGameLoadBase7=l,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],SceneGameLoad7:[function(e,t,n){"use strict";cc._RF.push(t,"1540exbqUdL8LTZ30Bv75JH","SceneGameLoad7");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneGameLoad7=void 0;var c=l(e("../hall/DialogMng")),u=e("../halllib/common/LogBase"),p=e("../halllib/common/ConfigMng"),h=e("../halllib/net/InnerEvent"),d=l(e("./LoadingView7")),f=e("./SceneGameLoad7.generated"),g=e("./SceneMainHall7"),m=e("../halllib/common/Define"),y=e("../halllib/net/GameHallMessage"),_=e("../halllib/laya/Laya"),v=_.Laya.regClass,b=(_.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.gameLoadListConf=null,t.oldGameid="",t.olduRoomID=-1,t.oldiRoomLevel=-1,t.reload=!1,t.gameLoadingScene="",t}return i(t,e),t.Load=function(e){var t=this;this.s_sceneName="SceneGameLoad",this.LoadPrefab(e,this.s_sceneName,p.ConfigMng.getSceneAddr(this.s_sceneName),new _.Laya.Handler(this,function(e){console.log("success:",e,t.s_scene),t.s_scene.zOrder=m.Define.ZORDER_DEF.Z_GAMELOADING}),new _.Laya.Handler(this,function(){u.LogBase.error("LoadScene Error:",p.ConfigMng.getSceneAddr(t.s_sceneName)),h.HallEvent.event(h.HallEvent.LOADING_MSG,"Error:"+t.s_sceneName)}))},t.OpenScene=function(t,n,o,i){if(this.s_scene)return this.s_scene.gameid=n,this.s_scene.uRoomID=o,this.s_scene.iRoomLevel=i,this.s_scene.gameowner=t,e.OpenScene.call(this,t);d.default.OpenScene(),this.Load(_.Laya.Handler.create(this,this.Show,[t,n,o,i]))},t.Show=function(t,n,o,i){this.s_scene.gameid=n,this.s_scene.uRoomID=o,this.s_scene.iRoomLevel=i,this.s_scene.gameowner=t,d.default.CloseScene(),e.Show.call(this,t)},t.CloseScene=function(e){this.s_scene&&(e?this.s_scene.CloseGame():this.s_scene.close())},t.prototype.onAwake=function(){this.ImageBg.node.on(_.Laya.Event.CLICK,function(){},this),h.HallEvent.on(h.HallEvent.EXIT_HALL,this,this.CloseGame)},t.prototype.onEnable=function(){this.reload=!1,this.ProgressBar.progress=0,this.LoadConfig(),h.HallEvent.on(h.HallEvent.LOGIN_GAME_SUCCEED,this,this.onLoginGameSucceed),h.HallEvent.on(h.HallEvent.LOGIN_GAME_ERROR,this,this.onLoginGameError),h.HallEvent.on(h.HallEvent.GAME_SITE_ERROR,this,this.CloseGame)},t.prototype.onDisable=function(){c.default.CURRENT_OPEN_GAME=0,this.gameid="",this.gameScene=null,this.uRoomID=0,this.iRoomLevel=0,h.HallEvent.off(h.HallEvent.LOGIN_GAME_SUCCEED,this,this.onLoginGameSucceed),h.HallEvent.off(h.HallEvent.LOGIN_GAME_ERROR,this,this.onLoginGameError)},t.prototype.LoadConfig=function(){var e=this;if(null==this.gameid)return u.LogBase.error("SceneGameLoad7 LoadConfig",this.gameid),void h.HallEvent.event(h.HallEvent.SHOW_MESSAGE,"Game LoadingConf is not exist!"+this.gameid);var t=p.ConfigMng.getGameLoadingConf(this.gameid);if(""==t)return this.close(),void h.HallEvent.event(h.HallEvent.SHOW_MESSAGE,"Game LoadingConf is not exist!"+this.gameid);_.Laya.loader.load(t,null,new _.Laya.Handler(this,this.onLoading,[.1,.1]),_.Laya.Loader.JSON).then(function(n){if(null==n)return e.close(),u.LogBase.error("LoadConfig Error!",e.gameid,t),void h.HallEvent.event(h.HallEvent.SHOW_MESSAGE,"Game data == null Load error!!  :"+t);e.LoadSpine(n)})},t.prototype.LoadGameScene=function(){var e=this;if(this.gameLoadingScene=p.ConfigMng.getGameLoadingAddr(this.gameid),""==this.gameLoadingScene)return this.close(),void h.HallEvent.event(h.HallEvent.SHOW_MESSAGE,"Game Scene is not exist!");_.Laya.loader.load(this.gameLoadingScene,null,new _.Laya.Handler(this,this.onLoading,[.3,.8])).then(function(t){null==t?(e.close(),h.HallEvent.event(h.HallEvent.SHOW_MESSAGE,"Load Game Scene error!")):h.HallEvent.event(h.HallEvent.LOGIN_GAME,[e.gameid,e.uRoomID,e.iRoomLevel])})},t.prototype.onLoading=function(e,t,n){this.ProgressBar.progress=null!=e?t+e*n:n},t.prototype.onLoginGameSucceed=function(e){return r(this,void 0,Promise,function(){return s(this,function(){return console.log("onLoginGameSucceed:",e," scene:",this.gameLoadingScene),[2]})})},t.prototype.onLoginGameError=function(e){u.LogBase.log("onLoginGameError",e),this.reload?this.close():e==y.GameHallMessage.E_ERROR_CODE.E_ERROR_GAME_LOGIN_IN_OTHER_ROOM?(this.reload=!0,""!=this.oldGameid&&this.olduRoomID>0&&this.oldiRoomLevel>0?(this.gameid=this.oldGameid,this.uRoomID=this.olduRoomID,this.iRoomLevel=this.oldiRoomLevel,this.LoadConfig()):this.close()):this.close()},t.prototype.CloseGame=function(){g.SceneMainHall7.s_scene.visible=!0,this.gameScene&&this.gameScene.destroy(),u.LogBase.info("CloseLocalGame",this.gameid,this.uRoomID,this.iRoomLevel),this.close()},t.prototype.LoadSpine=function(){var e=this,t=p.ConfigMng.getGameLoadingConf(this.gameid);return""==t?(this.close(),void h.HallEvent.event(h.HallEvent.SHOW_MESSAGE,"Game LoadingConf is not exist!"+this.gameid)):(this.gameLoadListConf=_.Laya.loader.getRes(t,_.Laya.Loader.JSON).data,null==this.gameLoadListConf||null==this.gameLoadListConf?(this.close(),void h.HallEvent.event(h.HallEvent.SHOW_MESSAGE,"Game spineList Config is error!")):this.gameLoadListConf.hasOwnProperty("spineList")?void _.Laya.loader.load(this.gameLoadListConf.spineList,null,new _.Laya.Handler(this,this.onLoading,[.2,.3]),_.Laya.Loader.SPINE).then(function(t){if(null==t)return e.close(),void h.HallEvent.event(h.HallEvent.SHOW_MESSAGE,"Game spineList data is error!");e.LoadList()}):(this.close(),void h.HallEvent.event(h.HallEvent.SHOW_MESSAGE,"Game spineList Config is error!")))},t.prototype.LoadList=function(){var e=this;return null==this.gameLoadListConf||null==this.gameLoadListConf?(this.close(),void h.HallEvent.event(h.HallEvent.SHOW_MESSAGE,"Game Scene Config is error!")):this.gameLoadListConf.hasOwnProperty("loadList")?void _.Laya.loader.load(this.gameLoadListConf.loadList,null,new _.Laya.Handler(this,this.onLoading,[.2,.5])).then(function(t){if(null==t)return e.close(),void h.HallEvent.event(h.HallEvent.SHOW_MESSAGE,"Game loadList data is error!");e.LoadGameScene()}):(this.close(),void h.HallEvent.event(h.HallEvent.SHOW_MESSAGE,"Game Scene Config is error!"))},a([v()],t)}(f.SceneGameLoadBase7));n.SceneGameLoad7=b,cc._RF.pop()},{"../hall/DialogMng":"DialogMng","../halllib/common/ConfigMng":"ConfigMng","../halllib/common/Define":"Define","../halllib/common/LogBase":"LogBase","../halllib/laya/Laya":"Laya","../halllib/net/GameHallMessage":"GameHallMessage","../halllib/net/InnerEvent":"InnerEvent","./LoadingView7":"LoadingView7","./SceneGameLoad7.generated":"SceneGameLoad7.generated","./SceneMainHall7":"SceneMainHall7"}],"SceneLogin6.generated":[function(e,t,n){"use strict";cc._RF.push(t,"4ff39nqsklLab7ZGajU44Ur","SceneLogin6.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneLoginBase6=void 0;var r=e("../halllib/laya/Laya"),s=r.Laya.regClass,l=r.Laya.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spLoginQuest=null,t.spLoginAccount=null,t.spRegist=null,t.LabelVersion=null,t.ImageService=null,t}return i(t,e),a([l(cc.Sprite)],t.prototype,"spLoginQuest",void 0),a([l(cc.Sprite)],t.prototype,"spLoginAccount",void 0),a([l(cc.Sprite)],t.prototype,"spRegist",void 0),a([l(cc.Label)],t.prototype,"LabelVersion",void 0),a([l(cc.Sprite)],t.prototype,"ImageService",void 0),a([s()],t)}(r.Laya.Scene);n.SceneLoginBase6=c,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],SceneLogin6:[function(e,t,n){"use strict";cc._RF.push(t,"0b165y10RZDvZz/G+3aUGNa","SceneLogin6");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneLogin6=void 0;var s=e("../halllib/net/InnerEvent"),l=e("./SceneLogin6.generated"),c=r(e("../hall/LoginLogic")),u=e("../halllib/common/ConfigMng"),p=e("../halllib/common/LogBase"),h=e("../halllib/net/Client"),d=e("../halllib/common/Tools"),f=e("../halllib/net/PlatformConfig"),g=e("../halllib/common/Types"),m=e("../halllib/common/Define"),y=e("../halllib/core/RunData"),_=e("../halllib/laya/Laya"),v=_.Laya.regClass,b=(_.Laya.property,function(e){function t(){return e.call(this)||this}var n;return i(t,e),n=t,t.Load=function(e,t){var n=this;this.s_sceneName="SceneLogin",this.LoadPrefab(e,t,u.ConfigMng.getSceneAddr(this.s_sceneName),new _.Laya.Handler(this,function(e){console.log("success:",e,n.s_scene)}),new _.Laya.Handler(this,function(){p.LogBase.error("LoadScene Error:",u.ConfigMng.getSceneAddr("SceneLogin")),s.HallEvent.event(s.HallEvent.LOADING_MSG,"Error:SceneLogin7")}))},t.OpenScene=function(t){this.s_scene?e.OpenScene.call(this,t):this.Load(_.Laya.Handler.create(this,this.Show,[t]))},t.Show=function(t){e.Show.call(this,t)},t.CloseScene=function(){e.CloseScene.call(this)},t.prototype.onAwake=function(){console.log("SceneLogin6:",this.node),this.zOrder=m.Define.ZORDER_DEF.Z_LOGINSCEME,this.loginLogic=new c.default,this.LabelVersion.string=u.ConfigMng.version,this.ImageService.node.on(_.Laya.Event.CLICK,this.onService,this),this.spLoginQuest.node.on(_.Laya.Event.CLICK,this.onLoginQuick,this),this.spLoginAccount.node.on(_.Laya.Event.CLICK,this.onLoginAccount,this),this.spRegist.node.on(_.Laya.Event.CLICK,this.onRegist,this),this.Init(),s.HallEvent.on(s.HallEvent.OPEN_HALL,this,this.close)},t.prototype.onEnable=function(){y.RunData.release(),this.loginLogic.onEnable(),h.Client.Instance.isConnected||h.Client.Instance.connect(u.ConfigMng.serviceconfigJson.serverURL)},t.prototype.onDisable=function(){s.HallEvent.off(s.HallEvent.OPEN_HALL,this,this.close),this.loginLogic.onDisable()},t.prototype.Init=function(){for(var e=!1,t=0;t<f.servicedata.ServiceConfigs.PlantformConfig.GameAppConfig.Register.length;t++)if(f.servicedata.ServiceConfigs.PlantformConfig.GameAppConfig.Register[t]==g.UserRegWay.MacQuick){e=!0;break}this.spLoginQuest.node.active=e},t.prototype.onLoginQuick=function(){console.log("--------onLoginQuick-------------"),s.HallEvent.dispatcher.event(s.HallEvent.LOGIN_QUICK,"")},t.prototype.onLoginAccount=function(){console.log("--------onLoginAccount-------------"),s.HallEvent.dispatcher.event(s.HallEvent.SHOW_LOGINACCOUNT_DIALOG)},t.prototype.onRegist=function(){console.log("--------onRegist-------------"),s.HallEvent.dispatcher.event(s.HallEvent.SHOW_REGIST_DIALOG,!0)},t.prototype.onService=function(){var e=f.servicedata.ServiceConfigs.PlantformConfig.GameAppConfig.CustomerService.split(",");e.length>1&&e[1].length>5&&d.BrowserUtil.openNewPage(e[1])},t.prototype.close=function(){n.s_scene=null,console.log("SceneLogin6 close",this.node,n.s_scene),e.prototype.close.call(this)},n=a([v()],t)}(l.SceneLoginBase6));n.SceneLogin6=b,cc._RF.pop()},{"../hall/LoginLogic":"LoginLogic","../halllib/common/ConfigMng":"ConfigMng","../halllib/common/Define":"Define","../halllib/common/LogBase":"LogBase","../halllib/common/Tools":"Tools","../halllib/common/Types":"Types","../halllib/core/RunData":"RunData","../halllib/laya/Laya":"Laya","../halllib/net/Client":"Client","../halllib/net/InnerEvent":"InnerEvent","../halllib/net/PlatformConfig":"PlatformConfig","./SceneLogin6.generated":"SceneLogin6.generated"}],"SceneLogin7.generated":[function(e,t,n){"use strict";cc._RF.push(t,"ce9d76p6HxNOKZoLjirBBqA","SceneLogin7.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneLoginBase7=void 0;var r=e("../halllib/laya/Laya"),s=r.Laya.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spLoginQuest=null,t.spLoginAccount=null,t.spRegist=null,t.LabelVersion=null,t.ImageService=null,t}return i(t,e),a([s({type:cc.Sprite})],t.prototype,"spLoginQuest",void 0),a([s({type:cc.Sprite})],t.prototype,"spLoginAccount",void 0),a([s({type:cc.Sprite})],t.prototype,"spRegist",void 0),a([s({type:cc.Label})],t.prototype,"LabelVersion",void 0),a([s({type:cc.Sprite})],t.prototype,"ImageService",void 0),t}(r.Laya.Scene);n.SceneLoginBase7=l,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],SceneLogin7:[function(e,t,n){"use strict";cc._RF.push(t,"a72beVdn35Dr4WNdmOdj2b9","SceneLogin7");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneLogin7=void 0;var s=e("../halllib/net/InnerEvent"),l=e("./SceneLogin7.generated"),c=r(e("../hall/LoginLogic")),u=e("../halllib/common/ConfigMng"),p=e("../halllib/net/Client"),h=e("../halllib/common/Tools"),d=e("../halllib/net/PlatformConfig"),f=e("../halllib/common/Types"),g=e("../halllib/common/Define"),m=e("../halllib/core/RunData"),y=e("../halllib/laya/Laya"),_=e("../halllib/common/LogBase"),v=y.Laya.regClass,b=(y.Laya.property,function(e){function t(){return e.call(this)||this}return i(t,e),t.Load=function(e,t){var n=this;this.s_sceneName="SceneLogin",this.LoadPrefab(e,t,u.ConfigMng.getSceneAddr(this.s_sceneName),new y.Laya.Handler(this,function(e){console.log("success:",e,n.s_scene)}),new y.Laya.Handler(this,function(){_.LogBase.error("LoadScene Error:",u.ConfigMng.getSceneAddr(n.s_sceneName)),s.HallEvent.event(s.HallEvent.LOADING_MSG,"Error:"+n.s_sceneName)}))},t.OpenScene=function(t){this.s_scene?e.OpenScene.call(this,t):this.Load(y.Laya.Handler.create(this,this.Show,[t]))},t.Show=function(t){e.Show.call(this,t)},t.CloseScene=function(){e.CloseScene.call(this)},t.prototype.onAwake=function(){this.zOrder=g.Define.ZORDER_DEF.Z_LOGINSCEME,this.loginLogic=new c.default,this.LabelVersion.string=u.ConfigMng.version,this.ImageService.node.on(y.Laya.Event.CLICK,this.onService,this),this.spLoginQuest.node.on(y.Laya.Event.CLICK,this.onLoginQuick,this),this.spLoginAccount.node.on(y.Laya.Event.CLICK,this.onLoginAccount,this),this.spRegist.node.on(y.Laya.Event.CLICK,this.onRegist,this),this.Init(),s.HallEvent.on(s.HallEvent.OPEN_HALL,this,this.close)},t.prototype.onEnable=function(){m.RunData.release(),this.loginLogic.onEnable(),p.Client.Instance.isConnected||p.Client.Instance.connect(u.ConfigMng.serviceconfigJson.serverURL)},t.prototype.onDisable=function(){this.loginLogic.onDisable()},t.prototype.Init=function(){for(var e=!1,t=0;t<d.servicedata.ServiceConfigs.PlantformConfig.GameAppConfig.Register.length;t++)if(d.servicedata.ServiceConfigs.PlantformConfig.GameAppConfig.Register[t]==f.UserRegWay.MacQuick){e=!0;break}e?(this.spLoginQuest.node.active=!0,this.spLoginQuest.node.setPosition(952,518),this.spLoginAccount.node.setPosition(571,518),this.spRegist.node.setPosition(187,518)):(this.spLoginQuest.node.active=!1,this.spLoginAccount.node.setPosition(815,518),this.spRegist.node.setPosition(313,518))},t.prototype.onLoginQuick=function(){s.HallEvent.dispatcher.event(s.HallEvent.LOGIN_QUICK,"")},t.prototype.onLoginAccount=function(){s.HallEvent.dispatcher.event(s.HallEvent.SHOW_LOGINACCOUNT_DIALOG)},t.prototype.onRegist=function(){s.HallEvent.dispatcher.event(s.HallEvent.SHOW_REGIST_DIALOG,!0)},t.prototype.onService=function(){var e=d.servicedata.ServiceConfigs.PlantformConfig.GameAppConfig.CustomerService.split(",");e.length>1&&h.BrowserUtil.openNewPage(e[1])},a([v()],t)}(l.SceneLoginBase7));n.SceneLogin7=b,cc._RF.pop()},{"../hall/LoginLogic":"LoginLogic","../halllib/common/ConfigMng":"ConfigMng","../halllib/common/Define":"Define","../halllib/common/LogBase":"LogBase","../halllib/common/Tools":"Tools","../halllib/common/Types":"Types","../halllib/core/RunData":"RunData","../halllib/laya/Laya":"Laya","../halllib/net/Client":"Client","../halllib/net/InnerEvent":"InnerEvent","../halllib/net/PlatformConfig":"PlatformConfig","./SceneLogin7.generated":"SceneLogin7.generated"}],"SceneLoginAccount7.generated":[function(e,t,n){"use strict";cc._RF.push(t,"3a6d3xSrEhFGKqxw5kVOICb","SceneLoginAccount7.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneLoginAccountBase7=void 0;var r=e("../halllib/laya/Laya"),s=(r.Laya.regClass,r.Laya.property),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ImgClose=null,t.inputAreaNO=null,t.inputAccountNumber=null,t.inputPasswd=null,t.labMisspasswd=null,t.radioRemmber=null,t.labRegist=null,t.spLogin=null,t}return i(t,e),a([s(cc.Sprite)],t.prototype,"ImgClose",void 0),a([s(cc.EditBox)],t.prototype,"inputAreaNO",void 0),a([s(cc.EditBox)],t.prototype,"inputAccountNumber",void 0),a([s(cc.EditBox)],t.prototype,"inputPasswd",void 0),a([s(cc.Label)],t.prototype,"labMisspasswd",void 0),a([s(cc.Toggle)],t.prototype,"radioRemmber",void 0),a([s(cc.Label)],t.prototype,"labRegist",void 0),a([s(cc.Sprite)],t.prototype,"spLogin",void 0),t}(r.Laya.Scene);n.SceneLoginAccountBase7=l,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],SceneLoginAccount7:[function(e,t,n){"use strict";cc._RF.push(t,"e619dJC7gtISKmyqrfssC/i","SceneLoginAccount7");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneLoginAccount7=void 0;var s=e("./SceneLoginAccount7.generated"),l=e("../halllib/net/InnerEvent"),c=e("../halllib/common/Define"),u=r(e("../halllib/net/HallMsgProxy")),p=e("../halllib/common/LogBase"),h=e("../halllib/core/RunData"),d=r(e("../halllib/net/PlatformService")),f=e("../halllib/core/HallData"),g=e("../halllib/common/ConfigMng"),m=r(e("./LoadingView7")),y=e("../halllib/net/PlatformConfig"),_=r(e("../hall/Tips")),v=e("../halllib/laya/Laya"),b=e("../halllib/net/GameHallMessage").GameHallMessage.CMD_GH_LogonResult,S=v.Laya.regClass,C=(v.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.verify=!1,t.vericode="",t.veritoken="",t}var n;return i(t,e),n=t,t.Load=function(e){var t=this;this.s_sceneName="SceneLoginAccount",this.LoadPrefab(e,this.s_sceneName,g.ConfigMng.getSceneAddr(this.s_sceneName),new v.Laya.Handler(this,function(e){console.log("success:",e,t.s_scene)}),new v.Laya.Handler(this,function(){p.LogBase.error("LoadScene Error:",g.ConfigMng.getSceneAddr(t.s_sceneName)),l.HallEvent.event(l.HallEvent.LOADING_MSG,"Error:"+t.s_sceneName)}))},t.OpenScene=function(t){this.s_scene?e.OpenScene.call(this,t):(m.default.OpenScene(),this.Load(v.Laya.Handler.create(this,this.Show,[t])))},t.Show=function(t){m.default.CloseScene(),e.Show.call(this,t)},t.CloseScene=function(){this.s_scene&&this.s_scene.close()},t.prototype.onAwake=function(){this.zOrder=c.Define.ZORDER_DEF.Z_LOGINACCOUNTSCEME,this.labMisspasswd.node.on(v.Laya.Event.CLICK,this.onMissPasswd,this),this.labRegist.node.on(v.Laya.Event.CLICK,this.onRegist,this),this.spLogin.node.on(v.Laya.Event.CLICK,this.onLogin,this),this.ImgClose.node.on(v.Laya.Event.CLICK,this.close,this),l.HallEvent.on(l.HallEvent.OPEN_HALL,this,this.close)},t.prototype.onEnable=function(){var e=f.LocalTempData.getRemember();p.LogBase.log("------------------------------onEnable remeber",e),this.radioRemmber.isChecked="0"!=e&&null!=e&&null!=e,this.radioRemmber.isChecked?(this.inputAccountNumber.string=f.LocalTempData.getAccountsName(),this.inputPasswd.string="000000"):(this.inputAccountNumber.string="",this.inputPasswd.string=""),this.inputAreaNO.string=y.servicedata.ServiceConfigs.PlantformConfig.AreaCode.toString()},t.prototype.onMissPasswd=function(){l.HallEvent.event(l.HallEvent.SHOW_MISSPASSWD_DIALOG)},t.prototype.onRegist=function(){l.HallEvent.event(l.HallEvent.SHOW_REGIST_DIALOG,!0)},t.prototype.onRadio=function(){console.log("-------------------------------------onradio"),f.LocalTempData.setRemember(this.radioRemmber.isChecked?"1":"0");var e=f.LocalTempData.getRemember();p.LogBase.debug("onRadio remeber ",e)},t.prototype.onLogin=function(){console.log("onLogin----"),""!=this.inputAccountNumber.string?""!=this.inputPasswd.string?(f.LocalTempData.setRemember(this.radioRemmber.isChecked?"1":"0"),u.default.LoginAccount(this.inputAccountNumber.string,this.inputPasswd.string,!1,"","")):l.HallEvent.dispatcher.event(l.HallEvent.SHOW_WAITTING_MSG,c.Define.TIPS.INPUT_ERROR_PASSWD_TOO_LESS):l.HallEvent.dispatcher.event(l.HallEvent.SHOW_WAITTING_MSG,c.Define.TIPS.USERNAME_IS_NULL)},t.prototype.sendLogin=function(){},t.prototype.subGhLogonReg=function(){},t.prototype.subGhLogonError=function(e){p.LogBase.error("subGhLogonError data:",e),0!=e.uHandleCode?l.HallEvent.dispatcher.event(l.HallEvent.SHOW_WAITTING_MSG,c.Define.TIPS.ERROR_CODE+e.uHandleCode):l.HallEvent.dispatcher.event(l.HallEvent.SHOW_WAITTING_MSG,c.Define.TIPS.SUCCEED)},t.prototype.checkPhoneNum=function(){return this.inputAccountNumber.string=Number(this.inputAccountNumber.string).toString(),this.inputAccountNumber.string.length<g.ConfigMng.hallconfigJson.regist.phoneminlen||this.inputAccountNumber.string.length>g.ConfigMng.hallconfigJson.regist.phonemaxlen?(_.default.SetWarnText(g.ConfigMng.getTips(c.Define.TIPS.INPUT_ERROR_PHONENO)),!1):"9"==this.inputAccountNumber.string.charAt(0)||(_.default.SetWarnText(g.ConfigMng.getTips(c.Define.TIPS.INPUT_ERROR_PHONENO)),!1)},t.prototype.close=function(){n.s_scene=null,p.LogBase.log("SceneRegist7 close",this,n.s_scene),e.prototype.close.call(this)},t.prototype.onDisable=function(){l.HallEvent.off(l.HallEvent.OPEN_HALL,this,this.close)},t.prototype.subGhLogonSuccess=function(e,t){l.HallEvent.dispatcher.event(l.HallEvent.CLOSE_WAITTING_MSG);var n=b.ReadFrom(t);p.LogBase.s2cDebug("\u767b\u5f55\u5927\u5385\u6210\u529f(name:"+n.szName+",loginType:"+n.iLoginType+")",n),h.RunData.myUserInfo=n,h.RunData.agentId=n.uAgencyID,h.RunData.s2cTimeDelay=1e3*n.tmServer-v.Laya.Browser.now(),d.default.Logout3thGame(),l.HallEvent.event(l.HallEvent.OPEN_HALL),this.close()},n=a([S()],t)}(s.SceneLoginAccountBase7));n.SceneLoginAccount7=C,cc._RF.pop()},{"../hall/Tips":"Tips","../halllib/common/ConfigMng":"ConfigMng","../halllib/common/Define":"Define","../halllib/common/LogBase":"LogBase","../halllib/core/HallData":"HallData","../halllib/core/RunData":"RunData","../halllib/laya/Laya":"Laya","../halllib/net/GameHallMessage":"GameHallMessage","../halllib/net/HallMsgProxy":"HallMsgProxy","../halllib/net/InnerEvent":"InnerEvent","../halllib/net/PlatformConfig":"PlatformConfig","../halllib/net/PlatformService":"PlatformService","./LoadingView7":"LoadingView7","./SceneLoginAccount7.generated":"SceneLoginAccount7.generated"}],"SceneLuckyCoinAnim7.generated":[function(e,t,n){"use strict";cc._RF.push(t,"8662eXebWlMq6GFBQVe+B3M","SceneLuckyCoinAnim7.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneLuckyCoinAnimBase7=void 0;var r=e("../halllib/laya/Laya"),s=(r.Laya.regClass,r.Laya.property),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.BoxBg=null,t.Text=null,t}return i(t,e),a([s({type:cc.Node,visible:!0})],t.prototype,"BoxBg",void 0),a([s({type:cc.RichText,visible:!0})],t.prototype,"Text",void 0),t}(r.Laya.Scene);n.SceneLuckyCoinAnimBase7=l,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],SceneLuckyCoinAnim7:[function(e,t,n){"use strict";cc._RF.push(t,"55828E0Sy5E+IF+oYwQBsF9","SceneLuckyCoinAnim7");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneLuckyCoinAnim7=void 0;var s=e("./SceneLuckyCoinAnim7.generated"),l=e("../halllib/laya/Laya"),c=e("../halllib/common/ConfigMng"),u=e("../halllib/common/Define"),p=e("../halllib/common/LogBase"),h=e("../halllib/net/InnerEvent"),d=r(e("./LoadingView7")),f=l.Laya.regClass,g=(l.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.self=null,t}var n;return i(t,e),n=t,t.Load=function(e,t,n,o){var i=this;this.s_sceneName="SceneLuckyCoinAnim",this.LoadPrefab(e,this.s_sceneName,c.ConfigMng.getSceneAddr(this.s_sceneName),new l.Laya.Handler(this,function(e){console.log("success:",e,i.s_scene),i.s_scene.zOrder=u.Define.ZORDER_DEF.Z_TIPS,i.s_scene.self=i.s_scene,t&&t.runWith({scene:i.s_scene.self,tips:n,pos:o})}),new l.Laya.Handler(this,function(){p.LogBase.error("LoadScene Error:",c.ConfigMng.getSceneAddr(i.s_sceneName)),h.HallEvent.event(h.HallEvent.LOADING_MSG,"Error:"+i.s_sceneName)}))},t.OpenScene=function(t){this.s_scene&&e.OpenScene.call(this,t)},t.Show=function(t){d.default.CloseScene(),e.Show.call(this,t)},t.CloseScene=function(){},t.prototype.show=function(t){var n=this;if(e.prototype.show.call(this,t),console.log("SceneUIWarnTips7 show:",t),t.data){var o=t.data,i=o.tips,a=o.pos;console.log("data:",i,a),this.Text.string=i,this.node.zIndex=u.Define.ZORDER_DEF.Z_TIPS,this.node.active=!0,this.BoxBg.active=!0;var r=this.BoxBg.parent.convertToNodeSpaceAR(a[0]);this.BoxBg.setPosition(r);var s=this.BoxBg.parent.convertToNodeSpaceAR(a[1]),l=this.BoxBg.parent.convertToNodeSpaceAR(a[2]);cc.tween(this.BoxBg).to(1,{position:s}).to(1,{position:l}).call(function(){}).start(),cc.tween(this.BoxBg).to(1,{scale:1.5}).to(1,{scale:.2}).call(function(){n.close(),(null==t?void 0:t.onShowed)&&t.onShowed()}).start()}else this.close(),(null==t?void 0:t.onShowed)&&t.onShowed()},t.prototype.hide=function(t){e.prototype.hide.call(this,t),console.log("SceneLuckyCoinAnim7 hide:",t)},t.prototype.close=function(){n.s_scene=null,console.log("SceneLuckyCoinAnim7 close",this,n.s_scene),e.prototype.close.call(this)},n=a([f()],t)}(s.SceneLuckyCoinAnimBase7));n.SceneLuckyCoinAnim7=g,cc._RF.pop()},{"../halllib/common/ConfigMng":"ConfigMng","../halllib/common/Define":"Define","../halllib/common/LogBase":"LogBase","../halllib/laya/Laya":"Laya","../halllib/net/InnerEvent":"InnerEvent","./LoadingView7":"LoadingView7","./SceneLuckyCoinAnim7.generated":"SceneLuckyCoinAnim7.generated"}],"SceneLuckyRoulette6.generated":[function(e,t,n){"use strict";cc._RF.push(t,"eabe07Xk5RELarEFjn8wADT","SceneLuckyRoulette6.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneLuckyRouletteBase6=void 0;var s=e("../halllib/laya/Laya"),l=r(e("../../main/scripts/components/vitruallist/List")),c=(s.Laya.regClass,s.Laya.property),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Bg=null,t.ToggleBg=null,t.Toggle=null,t.RuleBtn=null,t.CloseBtn=null,t.zhuanPan=null,t.SpinBtn=null,t.ClickTips=null,t.SelfRecordList=null,t.AllRecordList=null,t.MoneyLabel=null,t.CountLabel=null,t.BarImg=null,t.NeedBetMoney=null,t.NowBetMoney=null,t.RulePanel=null,t.RuleCloseBtn=null,t.RuleText=null,t.myItem=null,t.allItem=null,t.selfList=null,t.allList=null,t}return i(t,e),a([c(cc.Sprite)],t.prototype,"Bg",void 0),a([c(cc.Sprite)],t.prototype,"ToggleBg",void 0),a([c(cc.Node)],t.prototype,"Toggle",void 0),a([c(cc.Button)],t.prototype,"RuleBtn",void 0),a([c(cc.Button)],t.prototype,"CloseBtn",void 0),a([c(cc.Sprite)],t.prototype,"zhuanPan",void 0),a([c(cc.Button)],t.prototype,"SpinBtn",void 0),a([c(cc.Sprite)],t.prototype,"ClickTips",void 0),a([c(cc.Node)],t.prototype,"SelfRecordList",void 0),a([c(cc.Node)],t.prototype,"AllRecordList",void 0),a([c(cc.Label)],t.prototype,"MoneyLabel",void 0),a([c(cc.Label)],t.prototype,"CountLabel",void 0),a([c(cc.Sprite)],t.prototype,"BarImg",void 0),a([c(cc.Label)],t.prototype,"NeedBetMoney",void 0),a([c(cc.Label)],t.prototype,"NowBetMoney",void 0),a([c(cc.Node)],t.prototype,"RulePanel",void 0),a([c(cc.Button)],t.prototype,"RuleCloseBtn",void 0),a([c(cc.Label)],t.prototype,"RuleText",void 0),a([c(cc.Prefab)],t.prototype,"myItem",void 0),a([c(cc.Prefab)],t.prototype,"allItem",void 0),a([c({type:l.default})],t.prototype,"selfList",void 0),a([c({type:l.default})],t.prototype,"allList",void 0),t}(s.Laya.Scene);n.SceneLuckyRouletteBase6=u,cc._RF.pop()},{"../../main/scripts/components/vitruallist/List":"List","../halllib/laya/Laya":"Laya"}],SceneLuckyRoulette6:[function(e,t,n){"use strict";cc._RF.push(t,"d834eHCfdZHT6cLeT5pKUHh","SceneLuckyRoulette6");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneLuckyRoulette6=void 0;var s=r(e("../hall/AniMng")),l=r(e("../hall/Tips")),c=e("../halllib/core/RunData"),u=e("../halllib/net/InnerEvent"),p=e("../halllib/net/PlatformConfig"),h=r(e("../halllib/net/PlatformService")),d=r(e("../hallph7/LoadingView7")),f=e("./SceneLuckyRoulette6.generated"),g=e("../halllib/laya/Laya"),m=e("../halllib/common/ConfigMng"),y=e("../halllib/common/LogBase"),_=g.Laya.regClass,v=(g.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.drawsCount=0,t.where=0,t.isRun=!1,t}var n;return i(t,e),n=t,t.Load=function(e){var t=this;this.s_sceneName="SceneLuckyRoulette",this.LoadPrefab(e,this.s_sceneName,m.ConfigMng.getSceneAddr(this.s_sceneName),new g.Laya.Handler(this,function(e){console.log("success:",e,t.s_scene)}),new g.Laya.Handler(this,function(){y.LogBase.error("LoadScene Error:",m.ConfigMng.getSceneAddr(t.s_sceneName)),u.HallEvent.event(u.HallEvent.LOADING_MSG,"Error:"+t.s_sceneName)}))},t.OpenScene=function(t,n){this.bRegist=n,this.s_scene?e.OpenScene.call(this,t):(d.default.OpenScene(),this.Load(g.Laya.Handler.create(this,this.Show,[t,n])))},t.Show=function(t,n){d.default.CloseScene(),e.Show.call(this,t),this.bRegist=n},t.CloseScene=function(){e.CloseScene.call(this)},t.prototype.onListRender=function(){},t.prototype.onSelfListRender=function(e,t){var n=this.SelfRecordListArray[t],o=e.getChildByName("Date").getComponent(cc.Label),i=e.getChildByName("Reward").getComponent(cc.Label);o.string=n.Date.text,i.string=n.Reward.text},t.prototype.onAllListRender=function(e,t){var n=this.AllRecordListArray[t],o=e.getChildByName("Name").getComponent(cc.Label),i=e.getChildByName("Date").getComponent(cc.Label),a=e.getChildByName("Reward").getComponent(cc.Label);o.string=n.Name.text,i.string=n.Date.text,a.string=n.Reward.text},t.prototype.onAwake=function(){this.AddBtnEvent()},t.prototype.onEnable=function(){this.ClickTipsAnim(),this.zhuanPan.node.rotation=0,this.SelfRecordList.active=!1,this.AllRecordList.active=!0,this.luckyRouletteData=p.servicedata.ServiceConfigs.PlantformConfig.LotteryCfgList;var e=this.luckyRouletteData.BeginDate,t=this.luckyRouletteData.EndDate,n=this.formatDateRange(e,t);this.RuleText.string="1.Activity time:"+n+"\n2.Achieve a daily game turnover of "+c.GameTool.formatMoneyString(this.luckyRouletteData.Where1)+" to get one free lottery chance.\n3.Unlimited daily lottery draws.\n4.Game turnover can be accumulated over the long term.",this.InitData()},t.prototype.toggleCLick=function(e){for(var t=this.Toggle.children,n=0;n<t.length;n++)t[n].getChildByName("press").active=n==e},t.prototype.close=function(){n.s_scene=null,console.log("SceneLuckyRoulette6 close",this,n.s_scene),e.prototype.close.call(this)},t.prototype.InitData=function(){h.default.RequestLuckyRoulette(1002,g.Laya.Handler.create(this,this.RefreshUI))},t.prototype.AddBtnEvent=function(){this.Toggle.on(g.Laya.Event.CLICK,this.ShowRecord,this),this.CloseBtn.node.on(g.Laya.Event.CLICK,this.close,this),this.RuleBtn.node.on(g.Laya.Event.CLICK,this.OnOpenRulePanel,this),this.RuleCloseBtn.node.on(g.Laya.Event.CLICK,this.OnCloseRulePanel,this),this.SpinBtn.node.on(g.Laya.Event.CLICK,this.OnSpin,this)},t.prototype.RefreshUI=function(e){0==e.code&&(c.RunData.LuckyRouletteData=e.data,this.CountLabel.string=e.data.lottery.length>0?e.data.lottery[0].Amount.toString():"0",this.drawsCount=e.data.lottery.length>0?e.data.lottery[0].Amount:0,this.where=this.luckyRouletteData.Where1,this.BarImg.node.width=e.data.betToday%this.where*573/this.where,this.MoneyLabel.string=c.GameTool.formatMoneyString(this.where),this.NowBetMoney.string=c.GameTool.formatMoneyString(e.data.betToday%this.where),this.NeedBetMoney.string="/"+c.GameTool.formatMoneyString(this.where),this.selfRecord=e.data.myLogs,this.allRecord=e.data.pubLogs,this.RefreshRecord())},t.prototype.RefreshRecord=function(){this.SelfRecordListArray=[];for(var e=0;e<this.selfRecord.length;e++)this.SelfRecordListArray.push({Bg:{skin:"resources/halls/hallph6/res/hallres/luckyRoulette/fei6-tiao.png"},Date:{text:this.selfRecord[e].InputDate},Reward:{text:c.GameTool.formatMoneyString(this.selfRecord[e].Amount)}});for(this.selfList.numItems=this.selfRecord.length,this.AllRecordListArray=[],e=0;e<this.allRecord.length;e++)this.AllRecordListArray.push({Bg:{skin:"resources/halls/hallph6/res/hallres/luckyRoulette/fei6-tiao.png"},Name:{text:this.allRecord[e].NickName},Date:{text:this.allRecord[e].InputDate},Reward:{text:c.GameTool.formatMoneyString(this.allRecord[e].Amount)}});this.allList.numItems=this.allRecord.length},t.prototype.OnSpin=function(){this.isRun||(this.drawsCount<=0?l.default.SetText("For every "+c.GameTool.formatMoneyString(this.where)+" coins you bet, will get one lucky draw."):(this.ClickTips.node.active=!1,this.isRun=!0,this.drawsCount--,this.CountLabel.string=this.drawsCount.toString(),h.default.RequestLuckyRouletteSpin(1002,g.Laya.Handler.create(this,this.SpinResponse))))},t.prototype.SpinResponse=function(e){var t=this;if(0==e.code){c.RunData.IsRunLuckyRoulette=!0;for(var n=0,o=0;o<this.luckyRouletteData.AwardConfigList.length;o++)if(e.data.award.ID==this.luckyRouletteData.AwardConfigList[o].ID){n=o;break}var i=2880+30*n;0!=this.zhuanPan.node.rotation&&(this.zhuanPan.node.rotation=this.zhuanPan.node.rotation%360),cc.tween(this.zhuanPan.node).to(7,{angle:-i},{easing:"cubicInOut"}).call(function(){t.isRun=!1,c.RunData.IsRunLuckyRoulette=!1,u.HallEvent.event(u.HallEvent.UPDATE_USERINFO),s.default.playLuckCoin(c.GameTool.formatMoneyString(e.data.award.Amount),[]),h.default.RequestLuckyRoulette(1002,g.Laya.Handler.create(t,t.RefreshUI))}).start()}else 1111==e.code?(this.isRun=!1,l.default.SetText(e.msg)):2222==e.code?(this.isRun=!1,h.default.RequestLuckyRoulette(1002,g.Laya.Handler.create(this,this.RefreshUI))):(this.isRun=!1,l.default.SetText(e.msg))},t.prototype.ShowRecord=function(e,t){this.SelfRecordList.active=0==t,this.AllRecordList.active=1==t,this.toggleCLick(t)},t.prototype.OnOpenRulePanel=function(){this.RulePanel.active=!0},t.prototype.OnCloseRulePanel=function(){this.RulePanel.active=!1},t.prototype.ClickTipsAnim=function(){cc.tween(this.ClickTips.node).by(.5,{y:10}).to(.5,{opacity:255}).to(.5,{opacity:0}).start()},t.prototype.formatNumber=function(e){return e<10?"0"+e:e.toString()},t.prototype.formatDate=function(e){return e.getFullYear()+"/"+this.formatNumber(e.getMonth()+1)+"/"+this.formatNumber(e.getDate())},t.prototype.formatDateRange=function(e,t){var n=new Date(e),o=new Date(t);return this.formatDate(n)+" - "+this.formatDate(o)},t.bRegist=!0,n=a([_()],t)}(f.SceneLuckyRouletteBase6));n.SceneLuckyRoulette6=v,cc._RF.pop()},{"../hall/AniMng":"AniMng","../hall/Tips":"Tips","../halllib/common/ConfigMng":"ConfigMng","../halllib/common/LogBase":"LogBase","../halllib/core/RunData":"RunData","../halllib/laya/Laya":"Laya","../halllib/net/InnerEvent":"InnerEvent","../halllib/net/PlatformConfig":"PlatformConfig","../halllib/net/PlatformService":"PlatformService","../hallph7/LoadingView7":"LoadingView7","./SceneLuckyRoulette6.generated":"SceneLuckyRoulette6.generated"}],"SceneMailDetail7.generated":[function(e,t,n){"use strict";cc._RF.push(t,"7b4dcCkXhNF9Lm36Pj1o6sf","SceneMailDetail7.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneMailDetailBase7=void 0;var s=e("../halllib/laya/Laya"),l=r(e("../../main/scripts/components/vitruallist/List")),c=(s.Laya.regClass,s.Laya.property),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.BoxBg=null,t.ImgBg=null,t.SpClose=null,t.LabelTitle=null,t.LabelTime=null,t.textInfo=null,t.ImgCollect=null,t.ListGift=null,t}return i(t,e),a([c(cc.Node)],t.prototype,"BoxBg",void 0),a([c(cc.Sprite)],t.prototype,"ImgBg",void 0),a([c(cc.Sprite)],t.prototype,"SpClose",void 0),a([c(cc.Label)],t.prototype,"LabelTitle",void 0),a([c(cc.Label)],t.prototype,"LabelTime",void 0),a([c(cc.Label)],t.prototype,"textInfo",void 0),a([c(cc.Sprite)],t.prototype,"ImgCollect",void 0),a([c(l.default)],t.prototype,"ListGift",void 0),t}(s.Laya.Scene);n.SceneMailDetailBase7=u,cc._RF.pop()},{"../../main/scripts/components/vitruallist/List":"List","../halllib/laya/Laya":"Laya"}],SceneMailDetail7:[function(e,t,n){"use strict";cc._RF.push(t,"e7987/zBKZCjpt9QjoexWej","SceneMailDetail7");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneMailDetail7=void 0;var s=r(e("../hall/Tips")),l=e("../halllib/common/LogBase"),c=e("../halllib/common/ConfigMng"),u=e("../halllib/core/RunData"),p=e("../halllib/net/InnerEvent"),h=r(e("../halllib/net/PlatformService")),d=r(e("./LoadingView7")),f=e("./SceneMailDetail7.generated"),g=e("../halllib/laya/Laya"),m=g.Laya.regClass,y=(g.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.ListGiftArray=[],t}var n;return i(t,e),n=t,t.Load=function(e){var t=this;this.s_sceneName="SceneMailDetail",this.LoadPrefab(e,this.s_sceneName,c.ConfigMng.getSceneAddr(this.s_sceneName),new g.Laya.Handler(this,function(e){console.log("success:",e,t.s_scene)}),new g.Laya.Handler(this,function(){l.LogBase.error("LoadScene Error:",c.ConfigMng.getSceneAddr(t.s_sceneName)),p.HallEvent.event(p.HallEvent.LOADING_MSG,"Error:"+t.s_sceneName)}))},t.OpenScene=function(t,n,o){this.s_scene?e.OpenScene.call(this,t):(d.default.OpenScene(),this.Load(g.Laya.Handler.create(this,this.Show,[t,n,o])))},t.Show=function(t,n,o){d.default.CloseScene(),this.s_scene&&(e.Show.call(this,t),this.s_scene.LoadData(n,o))},t.CloseScene=function(){this.s_scene&&this.s_scene.close()},t.prototype.onListRender=function(e,t){var n=this.ListGiftArray[t];console.log("onListRender:",e,t,n),e.getChildByName("LabelMoney").getComponent(cc.Label).string=n.LabelMoney.text},t.prototype.onEnable=function(){this.SpClose.node.on(g.Laya.Event.CLICK,this.close,this),this.ImgBg.node.on(g.Laya.Event.CLICK,function(){},this),this.BoxBg.on(g.Laya.Event.CLICK,this.close,this)},t.prototype.LoadData=function(e,t){if(l.LogBase.log("MailDetail",e,t),e&&t){if(this.textInfo.string=t.data.Content,this.ListGiftArray=[],t.data.Attachments.length>0&&0==e.IsGetAttachments&&1==e.IsAttachments){for(var n=0,o=0;o<t.data.Attachments.length;o++)1==t.data.Attachments[o].Type&&(this.ListGiftArray.push({LabelMoney:{text:"X "+u.GameTool.formatMoneyString(t.data.Attachments[o].Amounts)}}),n+=t.data.Attachments[o].Amounts);n>0&&(this.ImgCollect.node.active=!0,this.ImgCollect.node.on(g.Laya.Event.CLICK,this.onCollect.bind(this,e),this)),this.ListGift.numItems=this.ListGiftArray.length}else this.ImgCollect.node.active=!1;this.LabelTitle.string=e.Title,this.LabelTime.string=e.PublishDate}},t.prototype.onCollect=function(e){l.LogBase.log("onCollect:",e),e.ID&&h.default.getMailGetAttachmentsRequest(e.ID,g.Laya.Handler.create(this,this.onGetAttachMent))},t.prototype.MyClose=function(){},t.prototype.onGetAttachMent=function(e){0==e.code?(this.ImgCollect.node.off(g.Laya.Event.CLICK,this.onCollect,this),this.ImgCollect.node.active=!1,this.ListGiftArray=[],this.ListGift.numItems=this.ListGiftArray.length,e.data.length>0&&p.HallEvent.event(p.HallEvent.SHOW_REWARD,u.GameTool.formatMoneyString(e.data[0].Amounts))):s.default.SetWarnText(c.ConfigMng.getTips(e.msg))},t.prototype.close=function(){n.s_scene=null,console.log("SceneSetting6 close",this,n.s_scene),e.prototype.close.call(this)},n=a([m()],t)}(f.SceneMailDetailBase7));n.SceneMailDetail7=y,cc._RF.pop()},{"../hall/Tips":"Tips","../halllib/common/ConfigMng":"ConfigMng","../halllib/common/LogBase":"LogBase","../halllib/core/RunData":"RunData","../halllib/laya/Laya":"Laya","../halllib/net/InnerEvent":"InnerEvent","../halllib/net/PlatformService":"PlatformService","./LoadingView7":"LoadingView7","./SceneMailDetail7.generated":"SceneMailDetail7.generated"}],"SceneMainHall6.generated":[function(e,t,n){"use strict";cc._RF.push(t,"bbef4Z6xg1IVJhtWVfX5006","SceneMainHall6.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneMainHallBase6=void 0;var s=e("../halllib/laya/Laya"),l=r(e("../hall/GameList")),c=(s.Laya.regClass,s.Laya.property),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spAddApp=null,t.spWithdraw=null,t.spNotice=null,t.spService=null,t.spActivity=null,t.spSetting=null,t.spFace=null,t.labUserName=null,t.labUserIDT=null,t.labUserID=null,t.spCopy=null,t.spBindphone=null,t.btnVincular=null,t.labMoneyAward=null,t.spGameType=null,t.ImageFreshMoney=null,t.labMoney=null,t.spRecharge=null,t.dialyrank=null,t.recharge=null,t.agent=null,t.spBetRebate=null,t.BoxDownloadTips=null,t.ImageTipsBg=null,t.btnPopular=null,t.btnSlot=null,t.btnBoardGame=null,t.btnEsportes=null,t.btnAovivo=null,t.ring=null,t.spWealthClub=null,t.ImageWealthNew=null,t.LabelDownloadTips=null,t.ImageDownloadTipsClose=null,t.BoxAddScreen=null,t.LabelAddScreen=null,t.ImgAddScreenClose=null,t.ImgAddScreen=null,t.spLuckyRoulette=null,t.ImageluckyRouletteNew=null,t.Boxnv=null,t.Box1st=null,t.BoxZhuanpan=null,t.SpineZhuanpan=null,t.ImgPrix=null,t.GameListNode=null,t}return i(t,e),a([c({type:cc.Sprite})],t.prototype,"spAddApp",void 0),a([c({type:cc.Sprite})],t.prototype,"spWithdraw",void 0),a([c({type:cc.Sprite})],t.prototype,"spNotice",void 0),a([c({type:cc.Sprite})],t.prototype,"spService",void 0),a([c({type:cc.Sprite})],t.prototype,"spActivity",void 0),a([c({type:cc.Sprite})],t.prototype,"spSetting",void 0),a([c({type:cc.Sprite})],t.prototype,"spFace",void 0),a([c({type:cc.Label})],t.prototype,"labUserName",void 0),a([c({type:cc.Label})],t.prototype,"labUserIDT",void 0),a([c({type:cc.Label})],t.prototype,"labUserID",void 0),a([c({type:cc.Sprite})],t.prototype,"spCopy",void 0),a([c({type:cc.Sprite})],t.prototype,"spBindphone",void 0),a([c({type:cc.Sprite})],t.prototype,"btnVincular",void 0),a([c({type:cc.Label})],t.prototype,"labMoneyAward",void 0),a([c({type:cc.Sprite})],t.prototype,"spGameType",void 0),a([c({type:cc.Sprite})],t.prototype,"ImageFreshMoney",void 0),a([c({type:cc.Label})],t.prototype,"labMoney",void 0),a([c({type:cc.Sprite})],t.prototype,"spRecharge",void 0),a([c({type:cc.Node})],t.prototype,"dialyrank",void 0),a([c({type:cc.Node})],t.prototype,"recharge",void 0),a([c({type:cc.Node})],t.prototype,"agent",void 0),a([c({type:cc.Node})],t.prototype,"spBetRebate",void 0),a([c({type:cc.Node})],t.prototype,"BoxDownloadTips",void 0),a([c({type:cc.Sprite})],t.prototype,"ImageTipsBg",void 0),a([c({type:cc.Button})],t.prototype,"btnPopular",void 0),a([c({type:cc.Button})],t.prototype,"btnSlot",void 0),a([c({type:cc.Button})],t.prototype,"btnBoardGame",void 0),a([c({type:cc.Button})],t.prototype,"btnEsportes",void 0),a([c({type:cc.Button})],t.prototype,"btnAovivo",void 0),a([c({type:cc.Sprite})],t.prototype,"ring",void 0),a([c({type:cc.Sprite})],t.prototype,"spWealthClub",void 0),a([c({type:cc.Sprite})],t.prototype,"ImageWealthNew",void 0),a([c({type:cc.RichText})],t.prototype,"LabelDownloadTips",void 0),a([c({type:cc.Sprite})],t.prototype,"ImageDownloadTipsClose",void 0),a([c({type:cc.Node})],t.prototype,"BoxAddScreen",void 0),a([c({type:cc.Label})],t.prototype,"LabelAddScreen",void 0),a([c({type:cc.Sprite})],t.prototype,"ImgAddScreenClose",void 0),a([c({type:cc.Sprite})],t.prototype,"ImgAddScreen",void 0),a([c({type:cc.Node})],t.prototype,"spLuckyRoulette",void 0),a([c({type:cc.Sprite})],t.prototype,"ImageluckyRouletteNew",void 0),a([c({type:cc.Node})],t.prototype,"Boxnv",void 0),a([c({type:cc.Node})],t.prototype,"Box1st",void 0),a([c({type:cc.Node})],t.prototype,"BoxZhuanpan",void 0),a([c({type:cc.Node})],t.prototype,"SpineZhuanpan",void 0),a([c({type:cc.Sprite})],t.prototype,"ImgPrix",void 0),a([c({type:l.default})],t.prototype,"GameListNode",void 0),t}(s.Laya.Scene);n.SceneMainHallBase6=u,cc._RF.pop()},{"../hall/GameList":"GameList","../halllib/laya/Laya":"Laya"}],SceneMainHall6:[function(e,t,n){"use strict";cc._RF.push(t,"86dfbZyagNOzbwE6btUxQhY","SceneMainHall6");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneMainHall6=void 0;var s=e("../halllib/common/Tools"),l=e("../halllib/core/RunData"),c=e("../halllib/common/Define"),u=e("../halllib/net/InnerEvent"),p=r(e("../halllib/net/HallMsgProxy")),h=e("../halllib/net/PlatformConfig"),d=r(e("../halllib/net/PlatformService")),f=r(e("../hall/Tips")),g=e("../halllib/common/ConfigMng"),m=e("../halllib/common/LogBase"),y=e("../halllib/common/Types"),_=e("../halllib/laya/Laya"),v=e("./SceneMainHall6.generated"),b=r(e("../../main/scripts/framework/asset/AssetLoader")),S=_.Laya.regClass,C=(_.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.gameList=new Array,t}var n;return i(t,e),n=t,t.Load=function(e,t){var n=this;this.s_sceneName="SceneMainHall",this.LoadPrefab(e,t,g.ConfigMng.getSceneAddr(this.s_sceneName),new _.Laya.Handler(this,function(e){console.log("success:",e,n.s_scene)}),new _.Laya.Handler(this,function(){m.LogBase.error("LoadScene Error:",g.ConfigMng.getSceneAddr(n.s_sceneName)),u.HallEvent.event(u.HallEvent.LOADING_MSG,"Error:"+n.s_sceneName)}))},t.OpenScene=function(t){this.s_scene?e.OpenScene.call(this,t):this.Load(_.Laya.Handler.create(this,this.Show,[t]))},t.Show=function(t){e.Show.call(this,t)},t.CloseScene=function(){this.s_scene&&this.s_scene.close()},t.prototype.onAwake=function(){var e,t,n=this;null===(t=null===(e=this.btnPopular)||void 0===e?void 0:e.node)||void 0===t||t.on(_.Laya.Event.CLICK,this.onPopular,this),this.btnSlot&&this.btnSlot.node.on(_.Laya.Event.CLICK,this.onSlot,this),this.btnAovivo&&this.btnAovivo.node.on(_.Laya.Event.CLICK,this.onAovivo,this),this.btnBoardGame&&this.btnBoardGame.node.on(_.Laya.Event.CLICK,this.onBoardGame,this),this.spService&&this.spService.node.on(_.Laya.Event.CLICK,this.showServiceDialog,this),this.spActivity&&this.spActivity.node.on(_.Laya.Event.CLICK,this.onShowPeceberDialog,this),this.spRecharge&&this.spRecharge.node.on(_.Laya.Event.CLICK,this.onShowRecharge,this),this.spWithdraw&&this.spWithdraw.node.on(_.Laya.Event.CLICK,this.showWithdawDialog,this),this.spFace&&this.spFace.node.on(_.Laya.Event.CLICK,this.onShowUserInfo,this),this.spNotice&&this.spNotice.node.on(_.Laya.Event.CLICK,this.onShowMailDialog,this),this.spSetting&&this.spSetting.node.on(_.Laya.Event.CLICK,this.onShowSettingDialog,this),this.spCopy&&this.spCopy.node.on(_.Laya.Event.CLICK,this.onCopy,this),this.spWealthClub&&this.spWealthClub.node.on(_.Laya.Event.CLICK,this.onWealthClub,this),this.BoxZhuanpan&&this.BoxZhuanpan.on(_.Laya.Event.CLICK,function(){u.HallEvent.event(u.HallEvent.SHOW_ZHUANPAN_DIALOG)},this),this.Box1st&&this.Box1st.on(_.Laya.Event.CLICK,function(){u.HallEvent.event(u.HallEvent.SHOW_1RECHARGE_DIALOG)},this),this.recharge&&this.recharge.on(_.Laya.Event.CLICK,this.onShowRecharge,this),this.dialyrank&&this.dialyrank.on(_.Laya.Event.CLICK,this.onShowDialyRankDialog,this),this.ImageDownloadTipsClose&&this.ImageDownloadTipsClose.node.on(_.Laya.Event.CLICK,function(){n.BoxDownloadTips.active=!1},this),this.agent&&this.agent.on(_.Laya.Event.CLICK,this.onShowAgentDialog,this),this.Boxnv.on(_.Laya.Event.CLICK,this.onShowAgentDialog,this);var o=this.getChildByName("zhuanpan");o&&(o.active=!1);var i=this.getChildByName("firstcharge");i&&(i.active=!1),u.HallEvent.on(u.HallEvent.UPDATE_FACE,this,this.showFace),u.HallEvent.on(u.HallEvent.UPDATE_USERMONEY,this,this.updateUserMoney),u.HallEvent.on(u.HallEvent.REFRESH_HALL,this,this.onRefreshZhuanPan),u.HallEvent.on(u.HallEvent.REFRESH_HALL_FIRSTRECHARGE,this,this.onRefreshFirstRecharge),u.HallEvent.on(u.HallEvent.LOADGAMELIST,this,this.onLoadGameList),u.HallEvent.on(u.HallEvent.SHOW_DOWNLOAD_APK,this,this.ShowDownloadTips),u.HallEvent.on(u.HallEvent.UPDATE_USERINFO,this,this.updateUserInfo),this.ImageFreshMoney.node.on(_.Laya.Event.CLICK,function(){u.HallEvent.event(u.HallEvent.USER_FRESH)},this),this.LabelAddScreen.node.on(_.Laya.Event.CLICK,function(){u.HallEvent.event(u.HallEvent.SHOW_ADD_HOME_SCREEN)},this),this.ImgAddScreen.node.on(_.Laya.Event.CLICK,function(){u.HallEvent.event(u.HallEvent.SHOW_ADD_HOME_SCREEN)},this),this.ImgAddScreenClose.node.on(_.Laya.Event.CLICK,function(){n.BoxAddScreen.active=!1},this),this.spBetRebate.on(_.Laya.Event.CLICK,function(){u.HallEvent.event(u.HallEvent.SHOW_REBATE_DIALOG)},this),this.ImgPrix.node.on(_.Laya.Event.CLICK,function(){u.HallEvent.event(u.HallEvent.SHOW_MONTH_RANK_DIALOG)},this),this.spAddApp.node.on(_.Laya.Event.CLICK,s.BrowserUtil.onDownloadApk,this),this.spLuckyRoulette.on(_.Laya.Event.CLICK,function(){u.HallEvent.event(u.HallEvent.SHOW_LUCKY_ROULETTE)},this),d.default.RequestLuckyRoulette(1002,_.Laya.Handler.create(this,function(e){l.RunData.LuckyRouletteData=e.data,n.onRefreshLuckyRouletteRed()})),this.LoadGameList()},t.prototype.onEnable=function(){this.labUserID.string=l.RunData.myUserInfo.dwUserID.toString(),this.labUserName.string=l.RunData.myUserInfo.nickName,this.labMoney.string=l.RunData.GetUserMoney(),this.showFace(),this.showBindphone(),p.default.getZhuanpanConfig(),d.default.getShowPixRequest(),this.BoxAddScreen.active=!1,s.BrowserUtil.getOSType()==y.OSType.IOS?this.InitIcon(!1):s.BrowserUtil.getOSType()==y.OSType.ANDROID?s.BrowserUtil.isAndroidApp()?this.InitIcon(!1):this.InitIcon(!0):s.BrowserUtil.getOSType()==y.OSType.WINDOWS&&this.InitIcon(!0),this.ShowDownloadTips(!0)},t.prototype.onDisable=function(){},t.prototype.onRefreshLuckyRouletteRed=function(){var e=this;d.default.RequestLuckyRoulette(1002,_.Laya.Handler.create(this,function(t){l.RunData.LuckyRouletteData=t.data,e.ImageluckyRouletteNew.node.active=null!=l.RunData.LuckyRouletteData&&l.RunData.LuckyRouletteData.lottery.length>0&&l.RunData.LuckyRouletteData.lottery[0].Amount>0}))},t.prototype.onRspGetH5UpClientAward=function(e){e&&0==e.code&&u.HallEvent.event(u.HallEvent.SHOW_REWARD,l.GameTool.formatMoneyString(h.servicedata.ServiceConfigs.PlantformConfig.H5UpClientAwardCfg.Award))},t.prototype.onCopy=function(){s.BrowserUtil.CopyToSys(this.labUserID.string),f.default.SetText(g.ConfigMng.getTips(c.Define.TIPS.RECORD_NO_COPY))},t.prototype.showBindphone=function(){1==l.RunData.myUserInfo.byIsNeedBindQuick||3==l.RunData.myUserInfo.byIsNeedBindQuick?(this.labMoneyAward.string="+"+l.GameTool.formatMoneyString(l.RunData.myUserInfo.i64UpgradeSendGb,0,"M","K"),this.spBindphone.node.active=!0,this.btnVincular.node.on(_.Laya.Event.CLICK,this.showBindphoneDialog,this)):this.spBindphone.node.active=!1},t.prototype.showBindphoneDialog=function(){u.HallEvent.dispatcher.event(u.HallEvent.SHOW_BINDPHONE_DIALOG)},t.prototype.showFace=function(e){var t=this;void 0===e&&(e=null);var n=0;e?n=e:((n=l.RunData.myUserInfo.bLogoID)<0&&(n=0),n>=g.ConfigMng.hallconfigJson.face.facelist.length&&(n=g.ConfigMng.hallconfigJson.face.facelist.length-1));var o=g.ConfigMng.hallconfigJson.face.facelist[n].replace(".png","");b.default.loadBundleAsset(o,cc.SpriteFrame).then(function(e){t.spFace.spriteFrame=e}).catch(function(e){m.LogBase.error(e)}),m.LogBase.debug("main hall showFace",e,n,l.RunData.myUserInfo.bLogoID,g.ConfigMng.hallconfigJson.face.facelist[n],this.spFace.spriteFrame)},t.prototype.updateUserMoney=function(){this.labMoney.string=l.RunData.GetUserMoney(),this.showBindphone()},t.prototype.LoadGameList=function(){if(g.ConfigMng.gamelistJson&&g.ConfigMng.gamelist.menu.length>0){var e=this.GameListNode;e.SetData(g.ConfigMng.gamelist.menu[0]),console.log("0------0-----",g.ConfigMng.gamelist.menu[0]),e.bRoot=!0,e.Load(),e.visible=!0,e.StartRender(),this.gameList.push(e)}console.log("---------------------------------------------",this.gameList)},t.prototype.InitUserData=function(){},t.prototype.onClick=function(){},t.prototype.onPopular=function(){this.getChildByName("ring").y=this.btnPopular.node.y+this.spGameType.node.y,this.btnPopular.interactable=!0,this.btnSlot.interactable=!1,this.btnAovivo.interactable=!1,this.btnBoardGame.interactable=!1;for(var e=0;e<this.gameList.length;e++)this.gameList[e].visible=0==e},t.prototype.onSlot=function(){this.getChildByName("ring").y=this.btnSlot.node.y+this.spGameType.node.y,this.btnSlot.interactable=!0,this.btnPopular.interactable=!1,this.btnAovivo.interactable=!1,this.btnBoardGame.interactable=!1;for(var e=0;e<this.gameList.length;e++)this.gameList[e].visible=1==e},t.prototype.onAovivo=function(){this.getChildByName("ring").y=this.btnAovivo.node.y+this.spGameType.node.y,this.btnAovivo.interactable=!0,this.btnSlot.interactable=!1,this.btnPopular.interactable=!1,this.btnBoardGame.interactable=!1;for(var e=0;e<this.gameList.length;e++)this.gameList[e].visible=4==e},t.prototype.onBoardGame=function(){this.getChildByName("ring").y=this.btnBoardGame.node.y+this.spGameType.node.y,this.btnBoardGame.interactable=!0,this.btnSlot.interactable=!1,this.btnAovivo.interactable=!1,this.btnPopular.interactable=!1;for(var e=0;e<this.gameList.length;e++)this.gameList[e].visible=3==e},t.prototype.onEsportes=function(){this.getChildByName("ring").y=this.btnEsportes.node.y+this.spGameType.node.y,this.btnEsportes.interactable=!0,this.btnSlot.interactable=!1,this.btnAovivo.interactable=!1,this.btnBoardGame.interactable=!1,this.btnPopular.interactable=!1;for(var e=0;e<this.gameList.length;e++)this.gameList[e].visible=2==e},t.prototype.onShowSelectGameRoom=function(e){m.LogBase.log("onShowSelectGameRoom...",e),e&&null!=e?1==e.data.length||e.length>1&&m.LogBase.log("onShowSelectGameRoom",e):m.LogBase.error("onShowSelectGameRoom  !data || data == undefined")},t.prototype.onShowRecharge=function(){m.LogBase.log("onShowRecharge"),u.HallEvent.dispatcher.event(u.HallEvent.SHOW_RECHARGE_VIEW,"")},t.prototype.showServiceDialog=function(){u.HallEvent.dispatcher.event(u.HallEvent.SHOW_SERVICE_DIALOG,"")},t.prototype.showWithdawDialog=function(){u.HallEvent.dispatcher.event(u.HallEvent.SHOW_WITHDRAW_DIALOG,"")},t.prototype.onShowUserInfo=function(){m.LogBase.log("onShowUserInfo"),u.HallEvent.dispatcher.event(u.HallEvent.SHOW_USERINFO_DIALOG,"")},t.prototype.onShowDialyRankDialog=function(){u.HallEvent.dispatcher.event(u.HallEvent.SHOW_DIALY_RANK_DIALOG,"")},t.prototype.onShowMonthRankDialog=function(){u.HallEvent.dispatcher.event(u.HallEvent.SHOW_MONTH_RANK_DIALOG,"")},t.prototype.onShowPeceberDialog=function(){u.HallEvent.dispatcher.event(u.HallEvent.SHOW_PECEBER_DIALOG,"")},t.prototype.onShowAgentDialog=function(){u.HallEvent.dispatcher.event(u.HallEvent.SHOW_AGENT_DIALOG,"")},t.prototype.onShow1RechargeDialog=function(){u.HallEvent.dispatcher.event(u.HallEvent.SHOW_1RECHARGE_DIALOG,"")},t.prototype.onShowMailDialog=function(){u.HallEvent.dispatcher.event(u.HallEvent.SHOW_MAIL_DIALOG)},t.prototype.onShowSettingDialog=function(){u.HallEvent.dispatcher.event(u.HallEvent.SHOW_SETTING_DIALOG)},t.prototype.onWealthClub=function(){u.HallEvent.event(u.HallEvent.SHOW_WEALTHCLUB_DIALOG)},t.prototype.onZhuanPan=function(){u.HallEvent.event(u.HallEvent.SHOW_ZHUANPAN_DIALOG)},t.prototype.onRefreshZhuanPan=function(){l.RunData.myUserInfo.bSign_HasSigned?(this.ImageWealthNew&&(this.ImageWealthNew.node.active=!1),this.BoxZhuanpan&&(this.BoxZhuanpan.active=!1)):(this.ImageWealthNew&&(this.ImageWealthNew.node.active=!0),this.BoxZhuanpan&&(this.BoxZhuanpan.active=!0))},t.prototype.onRefreshFirstRecharge=function(){this.CollectDownloadAwards()},t.prototype.onLoadGameList=function(e){if(g.ConfigMng.gamelistJson)for(var t=0;t<g.ConfigMng.gamelist.menu.length;t++)2!=t&&this.gameList[t].Reload(e)},t.prototype.close=function(){n.s_scene=null,console.log("SceneMainHall6 close",this,n.s_scene),e.prototype.close.call(this)},t.prototype.updateUserInfo=function(){0==l.RunData.IsRunLuckyRoulette&&(this.labUserID.string="ID:"+l.RunData.myUserInfo.dwUserID.toString(),this.labUserName.string=l.RunData.myUserInfo.nickName,this.showFace())},t.prototype.ShowDownloadTips=function(e){s.BrowserUtil.getOSType()==y.OSType.ANDROID&&(s.BrowserUtil.isAndroidApp()||(this.BoxDownloadTips.active=!0,h.servicedata.ServiceConfigs.PlantformConfig.H5UpClientAwardCfg.IsEnabled?this.LabelDownloadTips.string=g.ConfigMng.getTips(c.Define.TIPS.ANDROID_APK_TIPS1)+"<color=#FF0000>"+l.GameTool.formatMoneyString(h.servicedata.ServiceConfigs.PlantformConfig.H5UpClientAwardCfg.Award)+"\u20b1</color> "+g.ConfigMng.getTips(c.Define.TIPS.ANDROID_APK_TIPS2):this.LabelDownloadTips.string=g.ConfigMng.getTips(c.Define.TIPS.ANDROID_APK_TIPS2),e&&this.LabelDownloadTips.node.on(_.Laya.Event.CLICK,s.BrowserUtil.onDownloadApk,this))),s.BrowserUtil.getOSType()==y.OSType.IOS&&(s.BrowserUtil.isIOSStandlone()||(this.BoxDownloadTips.active=!0,h.servicedata.ServiceConfigs.PlantformConfig.H5UpClientAwardCfg.IsEnabled?this.LabelDownloadTips.string=g.ConfigMng.getTips(c.Define.TIPS.IOS_ADDHOME_TIPS1)+"<color=#FF0000>"+l.GameTool.formatMoneyString(h.servicedata.ServiceConfigs.PlantformConfig.H5UpClientAwardCfg.Award)+"\u20b1</color> "+g.ConfigMng.getTips(c.Define.TIPS.IOS_ADDHOME_TIPS2):this.LabelDownloadTips.string=g.ConfigMng.getTips(c.Define.TIPS.IOS_ADDHOME_TIPS2),e&&this.LabelDownloadTips.node.on(_.Laya.Event.CLICK,function(){u.HallEvent.event(u.HallEvent.SHOW_ADD_HOME_SCREEN)},this))),s.BrowserUtil.getOSType()==y.OSType.WINDOWS&&(this.BoxDownloadTips.active=!0,h.servicedata.ServiceConfigs.PlantformConfig.H5UpClientAwardCfg.IsEnabled?this.LabelDownloadTips.string=g.ConfigMng.getTips(c.Define.TIPS.ANDROID_APK_TIPS1)+"<color=#FF0000>"+l.GameTool.formatMoneyString(h.servicedata.ServiceConfigs.PlantformConfig.H5UpClientAwardCfg.Award)+"\u20b1</color> "+g.ConfigMng.getTips(c.Define.TIPS.ANDROID_APK_TIPS2):this.LabelDownloadTips.string=g.ConfigMng.getTips(c.Define.TIPS.ANDROID_APK_TIPS2),e&&this.LabelDownloadTips.node.on(_.Laya.Event.CLICK,s.BrowserUtil.onDownloadApk,this))},t.prototype.CollectDownloadAwards=function(){var e=!1;s.BrowserUtil.getOSType()==y.OSType.ANDROID&&s.BrowserUtil.isAndroidApp()&&h.servicedata.ServiceConfigs.PlantformConfig.H5UpClientAwardCfg.IsEnabled&&(l.RunData.userPixAccount.isGetH5UpClientAward||(e=!0)),s.BrowserUtil.getOSType()==y.OSType.IOS&&s.BrowserUtil.isIOSStandlone()&&h.servicedata.ServiceConfigs.PlantformConfig.H5UpClientAwardCfg.IsEnabled&&(l.RunData.userPixAccount.isGetH5UpClientAward||(e=!0)),m.LogBase.debug("CollectDownloadAwards",e),e&&(m.LogBase.debug("CollectDownloadAwards2",e),d.default.RequestGetH5UpClientAward(_.Laya.Handler.create(this,this.onRspGetH5UpClientAward)))},t.prototype.InitIcon=function(e){this.spAddApp.node.active=!!e},n=a([S()],t)}(v.SceneMainHallBase6));n.SceneMainHall6=C,cc._RF.pop()},{"../../main/scripts/framework/asset/AssetLoader":"AssetLoader","../hall/Tips":"Tips","../halllib/common/ConfigMng":"ConfigMng","../halllib/common/Define":"Define","../halllib/common/LogBase":"LogBase","../halllib/common/Tools":"Tools","../halllib/common/Types":"Types","../halllib/core/RunData":"RunData","../halllib/laya/Laya":"Laya","../halllib/net/HallMsgProxy":"HallMsgProxy","../halllib/net/InnerEvent":"InnerEvent","../halllib/net/PlatformConfig":"PlatformConfig","../halllib/net/PlatformService":"PlatformService","./SceneMainHall6.generated":"SceneMainHall6.generated"}],"SceneMainHall7.generated":[function(e,t,n){"use strict";cc._RF.push(t,"84273CDJaxDq4HGirO45bGK","SceneMainHall7.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneMainHallBase7=void 0;var r=e("../halllib/laya/Laya"),s=(r.Laya.regClass,r.Laya.property),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spAddApp=null,t.spWithdraw=null,t.spNotice=null,t.spService=null,t.spActivity=null,t.spSetting=null,t.spFace=null,t.labUserName=null,t.labUserIDT=null,t.labUserID=null,t.spCopy=null,t.spBindphone=null,t.btnVincular=null,t.labMoneyAward=null,t.spGameType=null,t.ImageFreshMoney=null,t.labMoney=null,t.spRecharge=null,t.dialyrank=null,t.recharge=null,t.agent=null,t.spBetRebate=null,t.BoxDownloadTips=null,t.ImageTipsBg=null,t.LabelDownloadTips=null,t.ImageDownloadTipsClose=null,t.BoxAddScreen=null,t.LabelAddScreen=null,t.ImgAddScreenClose=null,t.ImgAddScreen=null,t}return i(t,e),a([s({type:cc.Sprite})],t.prototype,"spAddApp",void 0),a([s({type:cc.Sprite})],t.prototype,"spWithdraw",void 0),a([s({type:cc.Sprite})],t.prototype,"spNotice",void 0),a([s({type:cc.Sprite})],t.prototype,"spService",void 0),a([s({type:cc.Sprite})],t.prototype,"spActivity",void 0),a([s({type:cc.Sprite})],t.prototype,"spSetting",void 0),a([s({type:cc.Sprite})],t.prototype,"spFace",void 0),a([s({type:cc.Label})],t.prototype,"labUserName",void 0),a([s({type:cc.Label})],t.prototype,"labUserIDT",void 0),a([s({type:cc.Label})],t.prototype,"labUserID",void 0),a([s({type:cc.Sprite})],t.prototype,"spCopy",void 0),a([s({type:cc.Sprite})],t.prototype,"spBindphone",void 0),a([s({type:cc.Sprite})],t.prototype,"btnVincular",void 0),a([s({type:cc.Label})],t.prototype,"labMoneyAward",void 0),a([s({type:cc.Node})],t.prototype,"spGameType",void 0),a([s({type:cc.Sprite})],t.prototype,"ImageFreshMoney",void 0),a([s({type:cc.Label})],t.prototype,"labMoney",void 0),a([s({type:cc.Sprite})],t.prototype,"spRecharge",void 0),a([s({type:cc.Node})],t.prototype,"dialyrank",void 0),a([s({type:cc.Node})],t.prototype,"recharge",void 0),a([s({type:cc.Node})],t.prototype,"agent",void 0),a([s({type:cc.Node})],t.prototype,"spBetRebate",void 0),a([s({type:cc.Node})],t.prototype,"BoxDownloadTips",void 0),a([s({type:cc.Sprite})],t.prototype,"ImageTipsBg",void 0),a([s({type:cc.Label})],t.prototype,"LabelDownloadTips",void 0),a([s({type:cc.Sprite})],t.prototype,"ImageDownloadTipsClose",void 0),a([s({type:cc.Node})],t.prototype,"BoxAddScreen",void 0),a([s({type:cc.Label})],t.prototype,"LabelAddScreen",void 0),a([s({type:cc.Sprite})],t.prototype,"ImgAddScreenClose",void 0),a([s({type:cc.Sprite})],t.prototype,"ImgAddScreen",void 0),t}(r.Laya.Scene);n.SceneMainHallBase7=l,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],SceneMainHall7:[function(e,t,n){"use strict";cc._RF.push(t,"8a666e/4XdL/4AVe8hgD7//","SceneMainHall7");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneMainHall7=void 0;var s=e("./SceneMainHall7.generated"),l=e("../halllib/common/Tools"),c=e("../halllib/core/RunData"),u=e("../halllib/common/Define"),p=(r(e("../hall/GameList")),e("../halllib/net/InnerEvent")),h=r(e("../halllib/net/HallMsgProxy")),d=e("../halllib/net/PlatformConfig"),f=r(e("../halllib/net/PlatformService")),g=r(e("../hall/Tips")),m=e("../halllib/common/ConfigMng"),y=e("../halllib/common/LogBase"),_=e("../halllib/common/Types"),v=e("../halllib/laya/Laya"),b=v.Laya.regClass,S=(v.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.gameList=new Array,t}var n;return i(t,e),n=t,t.Load=function(e,t){var n=this;this.s_sceneName="SceneMainHall",this.LoadPrefab(e,t,m.ConfigMng.getSceneAddr(this.s_sceneName),new v.Laya.Handler(this,function(e){console.log("success:",e,n.s_scene)}),new v.Laya.Handler(this,function(){y.LogBase.error("LoadScene Error:",m.ConfigMng.getSceneAddr(n.s_sceneName)),p.HallEvent.event(p.HallEvent.LOADING_MSG,"Error:"+n.s_sceneName)}))},t.OpenScene=function(t){this.s_scene?e.OpenScene.call(this,t):this.Load(v.Laya.Handler.create(this,this.Show,[t]))},t.prototype.close=function(){n.s_scene=null,console.log("SceneMainHall7 close",this,n.s_scene),e.prototype.close.call(this)},t.Show=function(t){e.Show.call(this,t)},t.CloseScene=function(){e.CloseScene.call(this)},t.prototype.onAwake=function(){var e,t=this;this.spService.node.on(v.Laya.Event.CLICK,this.showServiceDialog,this),this.spActivity.node.on(v.Laya.Event.CLICK,this.onShowPeceberDialog,this),this.spRecharge.node.on(v.Laya.Event.CLICK,this.onShowRecharge,this),this.spWithdraw.node.on(v.Laya.Event.CLICK,this.showWithdawDialog,this),this.spFace.node.on(v.Laya.Event.CLICK,this.onShowUserInfo,this),this.spNotice.node.on(v.Laya.Event.CLICK,this.onShowMailDialog,this),this.spSetting.node.on(v.Laya.Event.CLICK,this.onShowSettingDialog,this),this.spCopy.node.on(v.Laya.Event.CLICK,this.onCopy,this),this.recharge.on(v.Laya.Event.CLICK,this.onShowRecharge,this),this.dialyrank.on(v.Laya.Event.CLICK,this.onShowDialyRankDialog,this),this.ImageDownloadTipsClose.node.on(v.Laya.Event.CLICK,function(){t.BoxDownloadTips.active=!1},this),(e=this.getChildByName("promoter"))&&e.on(v.Laya.Event.CLICK,this.onShowAgentDialog,this),(e=this.getChildByName("agent"))&&e.on(v.Laya.Event.CLICK,this.onShowAgentDialog,this);var n=this.getChildByName("zhuanpan");n&&(n.active=!1);var o=this.getChildByName("firstcharge");o&&(o.active=!1),p.HallEvent.on(p.HallEvent.UPDATE_FACE,this,this.showFace),p.HallEvent.on(p.HallEvent.UPDATE_USERMONEY,this,this.updateUserMoney),p.HallEvent.on(p.HallEvent.REFRESH_HALL,this,this.onRefreshZhuanPan),p.HallEvent.on(p.HallEvent.REFRESH_HALL_FIRSTRECHARGE,this,this.onRefreshFirstRecharge),p.HallEvent.on(p.HallEvent.LOADGAMELIST,this,this.onLoadGameList),p.HallEvent.on(p.HallEvent.SHOW_DOWNLOAD_APK,this,this.ShowDownloadTips),p.HallEvent.on(p.HallEvent.UPDATE_USERINFO,this,this.updateUserInfo),this.ImageFreshMoney.node.on(v.Laya.Event.CLICK,function(){p.HallEvent.event(p.HallEvent.USER_FRESH)},this),this.LabelAddScreen.node.on(v.Laya.Event.CLICK,function(){p.HallEvent.event(p.HallEvent.SHOW_ADD_HOME_SCREEN)},this),this.ImgAddScreen.node.on(v.Laya.Event.CLICK,function(){p.HallEvent.event(p.HallEvent.SHOW_ADD_HOME_SCREEN)},this),this.ImgAddScreenClose.node.on(v.Laya.Event.CLICK,function(){t.BoxAddScreen.active=!1},this),this.spBetRebate.on(v.Laya.Event.CLICK,function(){p.HallEvent.event(p.HallEvent.SHOW_REBATE_DIALOG)},this),this.spAddApp.node.on(v.Laya.Event.CLICK,l.BrowserUtil.onDownloadApk,this),this.LoadGameList()},t.prototype.onEnable=function(){this.labUserID.string=c.RunData.myUserInfo.dwUserID.toString(),this.labUserName.string=c.RunData.myUserInfo.nickName,this.labMoney.string=c.RunData.GetUserMoney(),this.showFace(),this.showBindphone(),h.default.getZhuanpanConfig(),f.default.getShowPixRequest(),this.BoxAddScreen.active=!1,l.BrowserUtil.getOSType()==_.OSType.IOS?this.InitIcon(!1):l.BrowserUtil.getOSType()==_.OSType.ANDROID?l.BrowserUtil.isAndroidApp()?this.InitIcon(!1):this.InitIcon(!0):l.BrowserUtil.getOSType()==_.OSType.WINDOWS&&this.InitIcon(!0),this.ShowDownloadTips(!0)},t.prototype.onDisable=function(){},t.prototype.onRspGetH5UpClientAward=function(e){e&&0==e.code&&p.HallEvent.event(p.HallEvent.SHOW_REWARD,c.GameTool.formatMoneyString(d.servicedata.ServiceConfigs.PlantformConfig.H5UpClientAwardCfg.Award))},t.prototype.onCopy=function(){l.BrowserUtil.CopyToSys(this.labUserID.string),g.default.SetText(m.ConfigMng.getTips(u.Define.TIPS.RECORD_NO_COPY))},t.prototype.showBindphone=function(){1==c.RunData.myUserInfo.byIsNeedBindQuick||3==c.RunData.myUserInfo.byIsNeedBindQuick?(this.labMoneyAward.string="+"+c.GameTool.formatMoneyString(c.RunData.myUserInfo.i64UpgradeSendGb,0,"M","K"),this.spBindphone.node.active=!0,this.btnVincular.node.on(v.Laya.Event.CLICK,this.showBindphoneDialog,this)):this.spBindphone.node.active=!1},t.prototype.showBindphoneDialog=function(){p.HallEvent.dispatcher.event(p.HallEvent.SHOW_BINDPHONE_DIALOG)},t.prototype.showFace=function(e){void 0===e&&(e=null);var t=0;e?t=e:((t=c.RunData.myUserInfo.bLogoID)<0&&(t=0),t>=m.ConfigMng.hallconfigJson.face.facelist.length&&(t=m.ConfigMng.hallconfigJson.face.facelist.length-1)),m.ConfigMng.hallconfigJson.face.facelist[t];var n=this,o=m.ConfigMng.hallconfigJson.face.facelist[t].replace("resources/","");cc.loader.loadRes(o,cc.SpriteFrame,function(e,t){e?console.error(e):n.spFace.spriteFrame=t}),y.LogBase.debug("main hall showFace",e,t,c.RunData.myUserInfo.bLogoID,m.ConfigMng.hallconfigJson.face.facelist[t],this.spFace.spriteFrame)},t.prototype.updateUserMoney=function(){this.labMoney.string=c.RunData.GetUserMoney(),this.showBindphone()},t.prototype.LoadGameList=function(){},t.prototype.InitUserData=function(){},t.prototype.onClick=function(){},t.prototype.onPopular=function(){},t.prototype.onSlot=function(){},t.prototype.onAovivo=function(){},t.prototype.onBoardGame=function(){},t.prototype.onEsportes=function(){},t.prototype.onShowSelectGameRoom=function(e){y.LogBase.log("onShowSelectGameRoom...",e),e&&null!=e?1==e.data.length||e.length>1&&y.LogBase.log("onShowSelectGameRoom",e):y.LogBase.error("onShowSelectGameRoom  !data || data == undefined")},t.prototype.onShowRecharge=function(){y.LogBase.log("onShowRecharge"),p.HallEvent.dispatcher.event(p.HallEvent.SHOW_RECHARGE_VIEW,"")},t.prototype.showServiceDialog=function(){p.HallEvent.dispatcher.event(p.HallEvent.SHOW_SERVICE_DIALOG,"")},t.prototype.showWithdawDialog=function(){p.HallEvent.dispatcher.event(p.HallEvent.SHOW_WITHDRAW_DIALOG,"")},t.prototype.onShowUserInfo=function(){y.LogBase.log("onShowUserInfo"),p.HallEvent.dispatcher.event(p.HallEvent.SHOW_USERINFO_DIALOG,"")},t.prototype.onShowDialyRankDialog=function(){p.HallEvent.dispatcher.event(p.HallEvent.SHOW_DIALY_RANK_DIALOG,"")},t.prototype.onShowMonthRankDialog=function(){p.HallEvent.dispatcher.event(p.HallEvent.SHOW_MONTH_RANK_DIALOG,"")},t.prototype.onShowPeceberDialog=function(){p.HallEvent.dispatcher.event(p.HallEvent.SHOW_PECEBER_DIALOG,"")},t.prototype.onShowAgentDialog=function(){p.HallEvent.dispatcher.event(p.HallEvent.SHOW_AGENT_DIALOG,"")},t.prototype.onShow1RechargeDialog=function(){p.HallEvent.dispatcher.event(p.HallEvent.SHOW_1RECHARGE_DIALOG,"")},t.prototype.onShowMailDialog=function(){p.HallEvent.dispatcher.event(p.HallEvent.SHOW_MAIL_DIALOG)},t.prototype.onShowSettingDialog=function(){p.HallEvent.dispatcher.event(p.HallEvent.SHOW_SETTING_DIALOG)},t.prototype.onWealthClub=function(){p.HallEvent.event(p.HallEvent.SHOW_WEALTHCLUB_DIALOG)},t.prototype.onZhuanPan=function(){p.HallEvent.event(p.HallEvent.SHOW_ZHUANPAN_DIALOG)},t.prototype.onRefreshZhuanPan=function(){c.RunData.myUserInfo.bSign_HasSigned&&c.RunData.userPixAccount.isFirstPay},t.prototype.onRefreshFirstRecharge=function(){this.CollectDownloadAwards()},t.prototype.onLoadGameList=function(e){if(y.LogBase.log("\u5927\u5385\u8fd4\u56de\u7684\u7ed3\u679c-------",e),m.ConfigMng.gamelistJson)for(var t=0;t<m.ConfigMng.gamelist.menu.length;t++)if(2!=t)return},t.prototype.updateUserInfo=function(){this.labUserID.string="ID:"+c.RunData.myUserInfo.dwUserID.toString(),this.labUserName.string=c.RunData.myUserInfo.nickName,this.showFace()},t.prototype.ShowDownloadTips=function(e){l.BrowserUtil.getOSType()==_.OSType.ANDROID&&(l.BrowserUtil.isAndroidApp()||(this.BoxDownloadTips.active=!1,d.servicedata.ServiceConfigs.PlantformConfig.H5UpClientAwardCfg.IsEnabled?this.LabelDownloadTips.string=m.ConfigMng.getTips(u.Define.TIPS.ANDROID_APK_TIPS1)+"[color=#FF0000]"+c.GameTool.formatMoneyString(d.servicedata.ServiceConfigs.PlantformConfig.H5UpClientAwardCfg.Award)+"\u20b1[/color] "+m.ConfigMng.getTips(u.Define.TIPS.ANDROID_APK_TIPS2):this.LabelDownloadTips.string=m.ConfigMng.getTips(u.Define.TIPS.ANDROID_APK_TIPS2),e&&this.LabelDownloadTips.node.on(v.Laya.Event.CLICK,l.BrowserUtil.onDownloadApk,this))),l.BrowserUtil.getOSType()==_.OSType.IOS&&(l.BrowserUtil.isIOSStandlone()||(this.BoxDownloadTips.active=!1,d.servicedata.ServiceConfigs.PlantformConfig.H5UpClientAwardCfg.IsEnabled?this.LabelDownloadTips.string=m.ConfigMng.getTips(u.Define.TIPS.IOS_ADDHOME_TIPS1)+"[color=#FF0000]"+c.GameTool.formatMoneyString(d.servicedata.ServiceConfigs.PlantformConfig.H5UpClientAwardCfg.Award)+"\u20b1[/color] "+m.ConfigMng.getTips(u.Define.TIPS.IOS_ADDHOME_TIPS2):this.LabelDownloadTips.string=m.ConfigMng.getTips(u.Define.TIPS.IOS_ADDHOME_TIPS2),e&&this.LabelDownloadTips.node.on(v.Laya.Event.CLICK,function(){p.HallEvent.event(p.HallEvent.SHOW_ADD_HOME_SCREEN)},this))),l.BrowserUtil.getOSType()==_.OSType.WINDOWS&&(this.BoxDownloadTips.active=!1,d.servicedata.ServiceConfigs.PlantformConfig.H5UpClientAwardCfg.IsEnabled?this.LabelDownloadTips.string=m.ConfigMng.getTips(u.Define.TIPS.ANDROID_APK_TIPS1)+"[color=#FF0000]"+c.GameTool.formatMoneyString(d.servicedata.ServiceConfigs.PlantformConfig.H5UpClientAwardCfg.Award)+"\u20b1[/color] "+m.ConfigMng.getTips(u.Define.TIPS.ANDROID_APK_TIPS2):this.LabelDownloadTips.string=m.ConfigMng.getTips(u.Define.TIPS.ANDROID_APK_TIPS2),e&&this.LabelDownloadTips.node.on(v.Laya.Event.CLICK,function(){p.HallEvent.event(p.HallEvent.SHOW_WEALTHCLUB_DIALOG)},this))},t.prototype.CollectDownloadAwards=function(){var e=!1;l.BrowserUtil.getOSType()==_.OSType.ANDROID&&l.BrowserUtil.isAndroidApp()&&d.servicedata.ServiceConfigs.PlantformConfig.H5UpClientAwardCfg.IsEnabled&&(c.RunData.userPixAccount.isGetH5UpClientAward||(e=!0)),l.BrowserUtil.getOSType()==_.OSType.IOS&&l.BrowserUtil.isIOSStandlone()&&d.servicedata.ServiceConfigs.PlantformConfig.H5UpClientAwardCfg.IsEnabled&&(c.RunData.userPixAccount.isGetH5UpClientAward||(e=!0)),y.LogBase.debug("CollectDownloadAwards",e),e&&(y.LogBase.debug("CollectDownloadAwards2",e),f.default.RequestGetH5UpClientAward(v.Laya.Handler.create(this,this.onRspGetH5UpClientAward)))},t.prototype.InitIcon=function(){},n=a([b()],t)}(s.SceneMainHallBase7));n.SceneMainHall7=S,cc._RF.pop()},{"../hall/GameList":"GameList","../hall/Tips":"Tips","../halllib/common/ConfigMng":"ConfigMng","../halllib/common/Define":"Define","../halllib/common/LogBase":"LogBase","../halllib/common/Tools":"Tools","../halllib/common/Types":"Types","../halllib/core/RunData":"RunData","../halllib/laya/Laya":"Laya","../halllib/net/HallMsgProxy":"HallMsgProxy","../halllib/net/InnerEvent":"InnerEvent","../halllib/net/PlatformConfig":"PlatformConfig","../halllib/net/PlatformService":"PlatformService","./SceneMainHall7.generated":"SceneMainHall7.generated"}],"SceneModifyRegisterPhone6.generated":[function(e,t,n){"use strict";cc._RF.push(t,"029e2GRSqNNNqS65ITCAaQh","SceneModifyRegisterPhone6.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneModifyRegisterPhoneBase6=void 0;var r=e("../halllib/laya/Laya"),s=(r.Laya.regClass,r.Laya.property),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.BtnClose=null,t.InputAreaCode=null,t.InputPw=null,t.InputAccount=null,t.InputCode=null,t.BtnSend=null,t.BtnSave=null,t}return i(t,e),a([s(cc.Sprite)],t.prototype,"BtnClose",void 0),a([s(cc.EditBox)],t.prototype,"InputAreaCode",void 0),a([s(cc.EditBox)],t.prototype,"InputPw",void 0),a([s(cc.EditBox)],t.prototype,"InputAccount",void 0),a([s(cc.EditBox)],t.prototype,"InputCode",void 0),a([s(cc.Button)],t.prototype,"BtnSend",void 0),a([s(cc.Button)],t.prototype,"BtnSave",void 0),t}(r.Laya.Scene);n.SceneModifyRegisterPhoneBase6=l,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],SceneModifyRegisterPhone6:[function(e,t,n){"use strict";cc._RF.push(t,"5d070tce/BPPJaN9Rfcn91r","SceneModifyRegisterPhone6");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneModifyRegisterPhone6=void 0;var s=r(e("../hall/Tips")),l=e("../halllib/common/ConfigMng"),c=e("../halllib/common/Types"),u=e("../halllib/core/HallData"),p=e("../halllib/core/RunData"),h=r(e("../halllib/net/HallMsgProxy")),d=r(e("../halllib/net/PlatformService")),f=r(e("../hallph7/LoadingView7")),g=e("./SceneModifyRegisterPhone6.generated"),m=e("../halllib/laya/Laya"),y=r(e("md5")),_=m.Laya.regClass,v=(m.Laya.property,function(e){function t(){return e.call(this)||this}var n;return i(t,e),n=t,t.Load=function(e){var t=this;this.s_sceneName="SceneModifyRegisterPhone",this.LoadPrefab(e,this.s_sceneName,l.ConfigMng.getSceneAddr(this.s_sceneName),new m.Laya.Handler(this,function(e){console.log("success:",e,t.s_scene)}),new m.Laya.Handler(this,function(){}))},t.OpenScene=function(t,n){this.bRegist=n,this.s_scene?e.OpenScene.call(this,t):(f.default.OpenScene(),this.Load(m.Laya.Handler.create(this,this.Show,[t,n])))},t.Show=function(t,n){f.default.CloseScene(),e.Show.call(this,t),this.bRegist=n},t.CloseScene=function(){e.CloseScene.call(this)},t.prototype.close=function(){n.s_scene=null,console.log("SceneModifyRegisterPhone6 close",this,n.s_scene),e.prototype.close.call(this)},t.prototype.onAwake=function(){this.BtnClose.node.on(m.Laya.Event.CLICK,this.close,this),this.BtnSend.node.on(m.Laya.Event.CLICK,this.OnClickSend,this),this.BtnSave.node.on(m.Laya.Event.CLICK,this.OnClickSave,this)},t.prototype.onEnable=function(){this.InputAccount.string="",this.InputCode.string="",this.InputPw.string=""},t.prototype.OnClickSend=function(){var e=p.RunData.myUserInfo.m_llNextChangeBindTimeLimit,t=Math.floor(Date.now()/1e3),n=new Date(1e3*e),o=n.getFullYear(),i=n.getMonth()+1,a=n.getDate(),r=o.toString()+"/"+i.toString()+"/"+a.toString();if(e>t)s.default.SetText("The next time that can be modified:"+r);else{var l=this.InputAccount.string,h=this.InputPw.string;null!=h&&""!=h?y.default(this.InputPw.string)==u.LocalTempData.getAccountsMD5Password()?null!=l&&""!=l?0!=this.CheckPhoneNum()&&d.default.SMSCodeRequest(this.InputAreaCode.string,this.InputAccount.string,c.SMSCodeType.BindPhone,m.Laya.Handler.create(this,this.OnSendCodeResponse)):s.default.SetText("Please enter your account details!"):s.default.SetText("The password entered is wrong!"):s.default.SetText("Please enter your password details!")}},t.prototype.OnSendCodeResponse=function(e){var t=this;if(e.msg&&s.default.SetText(l.ConfigMng.getTips(e.msg)),e)if(0==e.code){var n=180;m.Laya.timer.loop(1e3,this,function(){n--,t.BtnSend.node.getChildByName("text").getComponent(cc.Label).string=n.toString(),0==n&&(t.BtnSend.node.getChildByName("text").getComponent(cc.Label).string="Send",m.Laya.timer.clearAll(t))})}else this.BtnSend.node.getChildByName("text").getComponent(cc.Label).string="Send",m.Laya.timer.clearAll(this)},t.prototype.OnClickSave=function(){var e=this.InputAccount.string,t=this.InputPw.string;null!=e&&""!=e?0!=this.CheckPhoneNum()&&(null!=t&&""!=t?y.default(this.InputPw.string)==u.LocalTempData.getAccountsMD5Password()?d.default.SMSVerifyRequest(this.InputAreaCode.string,e,c.SMSCodeType.BindPhone,this.InputCode.string,m.Laya.Handler.create(this,this.VerifyReponse)):s.default.SetText("The password entered is wrong!"):s.default.SetText("Please enter the correct phone number!")):s.default.SetText("Please enter your account details!")},t.prototype.VerifyReponse=function(e){0==e.code?h.default.onModifyRegisterPhone(this.InputPw.string,this.InputAccount.string,this.InputCode.string,e.data.verifyToken):s.default.SetText(e.msg)},t.prototype.CheckPhoneNum=function(){var e=this.InputAccount.string;return e.length<l.ConfigMng.hallconfigJson.regist.phoneminlen||e.length>l.ConfigMng.hallconfigJson.regist.phonemaxlen?(s.default.SetText("Please enter the correct phone number!"),!1):"9"!=e.charAt(0)?(s.default.SetText("Please enter the correct phone number!"),!1):u.LocalTempData.getAccountsName()!=e||(s.default.SetText("This mobile number is already in use!"),!1)},t.bRegist=!0,n=a([_()],t)}(g.SceneModifyRegisterPhoneBase6));n.SceneModifyRegisterPhone6=v,cc._RF.pop()},{"../hall/Tips":"Tips","../halllib/common/ConfigMng":"ConfigMng","../halllib/common/Types":"Types","../halllib/core/HallData":"HallData","../halllib/core/RunData":"RunData","../halllib/laya/Laya":"Laya","../halllib/net/HallMsgProxy":"HallMsgProxy","../halllib/net/PlatformService":"PlatformService","../hallph7/LoadingView7":"LoadingView7","./SceneModifyRegisterPhone6.generated":"SceneModifyRegisterPhone6.generated",md5:44}],"SceneMonthRank6.generated":[function(e,t,n){"use strict";cc._RF.push(t,"f37a1JZKllJF4s54n5Gy4CH","SceneMonthRank6.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneMonthRankBase6=void 0;var s=e("../halllib/laya/Laya"),l=r(e("../../main/scripts/components/vitruallist/List")),c=(s.Laya.regClass,s.Laya.property),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.BoxBg=null,t.ImageBg=null,t.ImgClose=null,t.PrefabTabNode=null,t.ImgRule=null,t.labMonth=null,t.LabelNO=null,t.ImageFace=null,t.LabelName=null,t.textScore=null,t.listRank=null,t}return i(t,e),a([c(cc.Node)],t.prototype,"BoxBg",void 0),a([c(cc.Sprite)],t.prototype,"ImageBg",void 0),a([c(cc.Sprite)],t.prototype,"ImgClose",void 0),a([c({type:cc.Node})],t.prototype,"PrefabTabNode",void 0),a([c(cc.Sprite)],t.prototype,"ImgRule",void 0),a([c(cc.Label)],t.prototype,"labMonth",void 0),a([c(cc.Label)],t.prototype,"LabelNO",void 0),a([c(cc.Sprite)],t.prototype,"ImageFace",void 0),a([c(cc.Label)],t.prototype,"LabelName",void 0),a([c(cc.Label)],t.prototype,"textScore",void 0),a([c({type:l.default})],t.prototype,"listRank",void 0),t}(s.Laya.Scene);n.SceneMonthRankBase6=u,cc._RF.pop()},{"../../main/scripts/components/vitruallist/List":"List","../halllib/laya/Laya":"Laya"}],SceneMonthRank6:[function(e,t,n){"use strict";cc._RF.push(t,"2e63dc8zIBN6KrG2OHCceW0","SceneMonthRank6");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneMonthRank6=void 0;var s=r(e("../hall/Tips")),l=e("../halllib/common/ConfigMng"),c=e("../halllib/common/Define"),u=e("../halllib/common/LogBase"),p=e("../halllib/core/RunData"),h=e("../halllib/net/InnerEvent"),d=e("../halllib/net/PlatformService"),f=r(e("../hallph7/LoadingView7")),g=e("./SceneMonthRank6.generated"),m=e("../halllib/laya/Laya"),y=r(e("../../main/scripts/framework/asset/AssetLoader")),_=e("./PrefabTab6"),v=m.Laya.regClass,b=(m.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.text="",t.listRankItem=[],t}var n;return i(t,e),n=t,t.Load=function(e){var t=this;this.s_sceneName="SceneMonthRank",this.LoadPrefab(e,this.s_sceneName,l.ConfigMng.getSceneAddr(this.s_sceneName),new m.Laya.Handler(this,function(e){console.log("success:",e,t.s_scene)}),new m.Laya.Handler(this,function(){u.LogBase.error("LoadScene Error:",l.ConfigMng.getSceneAddr(t.s_sceneName)),h.HallEvent.event(h.HallEvent.LOADING_MSG,"Error:"+t.s_sceneName)}))},t.OpenScene=function(t){this.s_scene?e.OpenScene.call(this,t):(f.default.OpenScene(),this.Load(m.Laya.Handler.create(this,this.Show,[t])))},t.Show=function(t){f.default.CloseScene(),e.Show.call(this,t)},t.CloseScene=function(){e.CloseScene.call(this)},t.prototype.onListRender=function(e,t){var n=this.listRankItem[t],o=e.getChildByName("ImageNo"),i=e.getChildByName("LabelNo"),a=e.getChildByName("Imageface"),r=e.getChildByName("LabelName"),s=e.getChildByName("labMoney"),l=o.getComponent(cc.Sprite),c=i.getComponent(cc.Label),p=a.getComponent(cc.Sprite),h=r.getComponent(cc.Label),d=s.getComponent(cc.Label);l.enabled=n.ImageNo.visible,console.log("skin:",n.Imageface.skin,n),y.default.loadBundleAsset(n.Imageface.skin,cc.SpriteFrame).then(function(e){e?p.spriteFrame=e:u.LogBase.error("loadAsset error:")}),c.enabled=n.LabelNo.visible,c.string=n.LabelNo.text,h.string=n.LabelName.text,d.string=n.labMoney.text},t.prototype.onAwake=function(){var e=this;this.BoxBg.on(m.Laya.Event.CLICK,function(){e.close()},this),this.ImgClose.node.on(m.Laya.Event.CLICK,function(){e.close()},this),this.ImageBg.node.on(m.Laya.Event.CLICK,function(){},this),this.ImgRule.node.on(m.Laya.Event.CLICK,function(){h.HallEvent.event(h.HallEvent.SHOW_REGRA_DIALOG)},this),this.PrefabTab=this.PrefabTabNode.getComponent(_.PrefabTab6),this.PrefabTab.labels="Monthly Ranking",this.PrefabTab.LabelSize=20,this.PrefabTab.updateList(),this.listRankItem=[],this.requestRankList(),this.loadMyData()},t.prototype.requestRankList=function(){d.RankService.MonthRankRequest(m.Laya.Handler.create(this,this.onRspRankList))},t.prototype.loadMyData=function(){var e=this,t=p.RunData.myUserInfo.bLogoID;(t<0||t>l.ConfigMng.hallconfigJson.face.facelist.length)&&(t=0);var n=l.ConfigMng.hallconfigJson.face.facelist[t];console.log("faceUrl:",l.ConfigMng.hallconfigJson),m.Laya.loader.load(n,m.Laya.Loader.SPRITE).then(function(t){t&&t.length>0?e.ImageFace.spriteFrame=t[0]:u.LogBase.error("loadAsset error:",n)}),this.LabelName.string=p.RunData.myUserInfo.nickName},t.prototype.onRspRankList=function(e){u.LogBase.log("onRspRankList",e),0!=e.code?(this.listRank.node.active=!1,this.labMonth.string="",this.textScore.string="0",this.loadMonthDate(null),s.default.SetWarnText(l.ConfigMng.getTips(c.Define.TIPS.NO_DATA_YET))):(e.data.rankList.length>0?(this.listRank.node.active=!0,this.InitList(e.data.rankList),this.loadMonthDate(e.data.rankList)):(s.default.SetWarnText(l.ConfigMng.getTips(c.Define.TIPS.NO_DATA_YET)),this.listRank.node.active=!1,this.loadMonthDate(null)),e.data.myRank<0?this.LabelNO.string="Not in List":this.LabelNO.string=e.data.myRank.toString(),e.data.myCommission<0?this.textScore.string="0":this.textScore.string=p.GameTool.formatMoneyString(e.data.myCommission))},t.prototype.loadMonthDate=function(e){var t="01";if(null==e||null==e){var n=new Date;n.getMonth(),t=n.getMonth().toString().length<2?"0"+n.getMonth().toString():n.getMonth().toString(),u.LogBase.log("loadMonthDate",n.getMonth().toString(),t)}else{var o=e[0].InputDate.toString().split("-");o.length>1&&(this.labMonth.string=o[1],t=o[1])}switch(t){case"01":this.labMonth.string="Jan.";break;case"02":this.labMonth.string="Feb.";break;case"03":this.labMonth.string="Mar.";break;case"04":this.labMonth.string="Apr.";break;case"05":this.labMonth.string="May.";break;case"06":this.labMonth.string="Jun.";break;case"07":this.labMonth.string="Jul.";break;case"08":this.labMonth.string="Aug.";break;case"09":this.labMonth.string="Sep.";break;case"10":this.labMonth.string="Oct.";break;case"11":this.labMonth.string="Nov.";break;case"12":this.labMonth.string="Dec."}},t.prototype.InitList=function(e){this.listRankItem=[];for(var t=0;t<e.length;t++){var n=l.ConfigMng.getFaceResUrl(e[t].Head),o=p.GameTool.formatMoneyString(e[t].IncomeMoney),i="";e[t].RankNum<4&&(i="resources/halls/hallph6/res/hallres/FreeRank/img"+e[t].RankNum+".png"),this.listRankItem.push({ImageNo:{visible:e[t].RankNum<4,skin:i},LabelNo:{visible:e[t].RankNum>=4,text:e[t].RankNum},Imageface:{skin:n},LabelName:{text:e[t].NickName},labMoney:{text:o}})}this.listRank.numItems=this.listRankItem.length},t.prototype.close=function(){n.s_scene=null,console.log("SceneMonthRank6 close",this,n.s_scene),e.prototype.close.call(this)},n=a([v()],t)}(g.SceneMonthRankBase6));n.SceneMonthRank6=b,cc._RF.pop()},{"../../main/scripts/framework/asset/AssetLoader":"AssetLoader","../hall/Tips":"Tips","../halllib/common/ConfigMng":"ConfigMng","../halllib/common/Define":"Define","../halllib/common/LogBase":"LogBase","../halllib/core/RunData":"RunData","../halllib/laya/Laya":"Laya","../halllib/net/InnerEvent":"InnerEvent","../halllib/net/PlatformService":"PlatformService","../hallph7/LoadingView7":"LoadingView7","./PrefabTab6":"PrefabTab6","./SceneMonthRank6.generated":"SceneMonthRank6.generated"}],"SceneMonthRank7.generated":[function(e,t,n){"use strict";cc._RF.push(t,"811baEpg8ROf7SA59BW8+XJ","SceneMonthRank7.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.SceneMonthRankBase7=void 0;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.boxBackGround=null,t.Imagebg=null,t.ImgClose=null,t.spFace1=null,t.spFace2=null,t.spFace3=null,t.labMonth=null,t.labNO=null,t.labAccount=null,t.labTotal=null,t.btnRegra=null,t.labMyRank=null,t.spFaceMe=null,t.labName=null,t.textScore=null,t.listRank=null,t.labNoRank=null,t}return i(t,e),t}(e("../halllib/laya/Laya").Laya.Scene);n.SceneMonthRankBase7=a,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],SceneMonthRank7:[function(e,t,n){"use strict";cc._RF.push(t,"f5a3d1D3cFLML6TKJWbYGg0","SceneMonthRank7");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneMonthRank7=void 0;var s=e("./SceneMonthRank7.generated"),l=e("../halllib/core/RunData"),c=e("../halllib/common/ConfigMng"),u=e("../halllib/common/Define"),p=e("../halllib/net/InnerEvent"),h=e("../halllib/net/PlatformService"),d=r(e("./LoadingView7")),f=e("../halllib/laya/Laya"),g=f.Laya.regClass,m=(f.Laya.property,function(e){function t(){return e.call(this)||this}return i(t,e),t.Load=function(e){var t=this;this.load(c.ConfigMng.getSceneAddr("SceneMonthRank7"),null,null).then(function(n){t.s_scene=n,e&&e.run()})},t.OpenScene=function(e){this.s_scene?e?e.addChild(this.s_scene):f.Laya.stage.addChild(this.s_scene):(d.default.OpenScene(),this.Load(f.Laya.Handler.create(this,this.Show,[e])))},t.Show=function(e){d.default.CloseScene(),e?e.addChild(this.s_scene):f.Laya.stage.addChild(this.s_scene)},t.CloseScene=function(){this.s_scene&&this.s_scene.close()},t.prototype.onAwake=function(){this.btnRegra.on(f.Laya.Event.CLICK,this,this.onOpenRegra),this.boxBackGround.on(f.Laya.Event.CLICK,this,this.close),this.Imagebg.on(f.Laya.Event.CLICK,this,function(){}),this.ImgClose.on(f.Laya.Event.CLICK,this,this.close)},t.prototype.onEnable=function(){this.listRank.array=[],this.loadFace(),this.labName.text=l.RunData.myUserInfo.nickName,this.requestRankList()},t.prototype.onOpenRegra=function(){p.HallEvent.event(p.HallEvent.SHOW_REGRA_DIALOG,"")},t.prototype.requestRankList=function(){h.RankService.MonthRankRequest(f.Laya.Handler.create(this,this.onRspRankList))},t.prototype.loadFace=function(){var e=l.RunData.myUserInfo.bLogoID;(e<0||e>c.ConfigMng.hallconfigJson.face.facelist.length)&&(e=0);var t=c.ConfigMng.hallconfigJson.face.facelist[e];this.spFaceMe.loadImage(t)},t.prototype.onRspRankList=function(e){if(0!=e.code)this.listRank.visible=!1,this.labNoRank.visible=!0,this.labMonth.text="";else{if(e.data.rankList.length>0){this.listRank.visible=!0,this.labNoRank.visible=!1,this.InitList(e.data.rankList),this.loadMonthDate(e.data.rankList);var t=c.ConfigMng.getFaceResUrl(e.data.rankList[0].Head);if(this.spFace1.texture=f.Laya.loader.getRes(t),e.data.rankList.length>1){var n=c.ConfigMng.getFaceResUrl(e.data.rankList[1].Head);this.spFace2.texture=f.Laya.loader.getRes(n)}if(e.data.rankList.length>2){var o=c.ConfigMng.getFaceResUrl(e.data.rankList[2].Head);this.spFace3.texture=f.Laya.loader.getRes(o)}}else this.listRank.visible=!1,this.labNoRank.visible=!0;e.data.myRank<0?this.labMyRank.text=c.ConfigMng.getTips(u.Define.TIPS.MONTH_RANK_MYORDER):this.labMyRank.text=e.data.myRank.toString(),e.data.myCommission<0?this.textScore.text="0":this.textScore.text=l.GameTool.formatMoneyString(e.data.myCommission)}},t.prototype.loadMonthDate=function(e){var t=e[0].InputDate.toString().split("-");if(t.length>2)switch(this.labMonth.text=t[1],t[1]){case"1":this.labMonth.text="Jan.";break;case"2":this.labMonth.text="Feb.";break;case"3":this.labMonth.text="Mar.";break;case"4":this.labMonth.text="Apr.";break;case"5":this.labMonth.text="May.";break;case"6":this.labMonth.text="Jun.";break;case"7":this.labMonth.text="Jul.";break;case"8":this.labMonth.text="Aug.";break;case"9":this.labMonth.text="Sep.";break;case"10":this.labMonth.text="Oct.";break;case"11":this.labMonth.text="Nov.";break;case"12":this.labMonth.text="Dec."}},t.prototype.InitList=function(e){this.listRank.array=[];for(var t=0;t<e.length;t++){var n=c.ConfigMng.getFaceResUrl(e[t].Head),o=l.GameTool.formatMoneyString(e[t].IncomeMoney);this.listRank.addItem({labNO:{text:e[t].RankNum},spFace:{skin:n},labName:{text:e[t].NickName},labUserID:{text:e[t].UserID},labMoney:{text:o}})}},a([g()],t)}(s.SceneMonthRankBase7));n.SceneMonthRank7=m,cc._RF.pop()},{"../halllib/common/ConfigMng":"ConfigMng","../halllib/common/Define":"Define","../halllib/core/RunData":"RunData","../halllib/laya/Laya":"Laya","../halllib/net/InnerEvent":"InnerEvent","../halllib/net/PlatformService":"PlatformService","./LoadingView7":"LoadingView7","./SceneMonthRank7.generated":"SceneMonthRank7.generated"}],"SceneNotice6.generated":[function(e,t,n){"use strict";cc._RF.push(t,"af1bdrUGHxJBrIAoMgEov8Y","SceneNotice6.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneNoticeBase6=void 0;var s=e("../halllib/laya/Laya"),l=r(e("../../main/scripts/components/vitruallist/List")),c=(s.Laya.regClass,s.Laya.property),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.boxBackGround=null,t.ImageBg=null,t.ImgClose=null,t.ViewStack=null,t.ListNotice=null,t.ListMail=null,t.checkboxAll=null,t.spDelete=null,t.spNodata=null,t.PreTabNode=null,t.NoticeNode=null,t.MailNode=null,t}return i(t,e),a([c(cc.Node)],t.prototype,"boxBackGround",void 0),a([c(cc.Sprite)],t.prototype,"ImageBg",void 0),a([c(cc.Sprite)],t.prototype,"ImgClose",void 0),a([c(cc.Node)],t.prototype,"ViewStack",void 0),a([c(l.default)],t.prototype,"ListNotice",void 0),a([c(l.default)],t.prototype,"ListMail",void 0),a([c(cc.Toggle)],t.prototype,"checkboxAll",void 0),a([c(cc.Button)],t.prototype,"spDelete",void 0),a([c(cc.Sprite)],t.prototype,"spNodata",void 0),a([c(cc.Node)],t.prototype,"PreTabNode",void 0),a([c(cc.Node)],t.prototype,"NoticeNode",void 0),a([c(cc.Node)],t.prototype,"MailNode",void 0),t}(s.Laya.Scene);n.SceneNoticeBase6=u,cc._RF.pop()},{"../../main/scripts/components/vitruallist/List":"List","../halllib/laya/Laya":"Laya"}],SceneNotice6:[function(e,t,n){"use strict";cc._RF.push(t,"7c7bdLe8kVOD7ljgRFaHN1F","SceneNotice6");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneNotice6=void 0;var s=e("../halllib/common/ConfigMng"),l=e("../halllib/common/LogBase"),c=r(e("../halllib/net/PlatformService")),u=r(e("../hallph7/LoadingView7")),p=e("./SceneNotice6.generated"),h=e("../halllib/laya/Laya"),d=e("../halllib/net/InnerEvent"),f=e("./PrefabTab6"),g=h.Laya.regClass,m=(h.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.listLast=[],t.ListNoticeArray=[],t.ListMailArray=[],t}var n;return i(t,e),n=t,t.Load=function(e){var t=this;this.s_sceneName="SceneNotice",this.LoadPrefab(e,this.s_sceneName,s.ConfigMng.getSceneAddr(this.s_sceneName),new h.Laya.Handler(this,function(e){console.log("success:",e,t.s_scene)}),new h.Laya.Handler(this,function(){l.LogBase.error("LoadScene Error:",s.ConfigMng.getSceneAddr(t.s_sceneName)),d.HallEvent.event(d.HallEvent.LOADING_MSG,"Error:"+t.s_sceneName)}))},t.OpenScene=function(t){this.s_scene?e.OpenScene.call(this,t):(u.default.OpenScene(),this.Load(h.Laya.Handler.create(this,this.Show,[t])))},t.Show=function(t){u.default.CloseScene(),e.Show.call(this,t)},t.CloseScene=function(){e.CloseScene.call(this)},t.prototype.onListRender=function(){throw new Error("Method not implemented.")},t.prototype.onNoticeListRender=function(e,t){console.log("onNoticeListRender",t,this.ListNoticeArray[t]);var n=this.ListNoticeArray[t],o=e.getChildByName("labTitle"),i=e.getChildByName("labTime"),a=e.getChildByName("labMsg"),r=e.getChildByName("LabelID"),s=o.getComponent(cc.Label),l=i.getComponent(cc.Label),c=a.getComponent(cc.Label),u=r.getComponent(cc.Label);s.string=n.labTitle.text,l.string=n.labTime.text,c.string=n.labMsg.text,u.string=n.LabelID.text},t.prototype.onMailListRender=function(e,t){var n=this;console.log("onMailListRender",t,this.ListMailArray[t]);var o=this.ListMailArray[t],i=e.getChildByName("labMailTitle"),a=e.getChildByName("labMailTime"),r=e.getChildByName("labContents"),s=e.getChildByName("labtDetal"),l=e.getChildByName("RadioNew"),c=e.getChildByName("LabelID"),u=e.getChildByName("checkSelect"),p=i.getComponent(cc.Label),h=a.getComponent(cc.Label),d=r.getComponent(cc.Label),f=s.getComponent(cc.Button),g=c.getComponent(cc.Label),m=u.getComponent(cc.Toggle);p.string=o.labMailTitle.text,h.string=o.labMailTime.text,d.string=o.labContents.text,o.RadioNew.selected?(l.children[0].active=!1,l.children[1].active=!0):(l.children[0].active=!0,l.children[1].active=!1),g.string=o.LabelID.text,m.isChecked=o.checkSelect.selected,m.node.targetOff(this),m.node.on("click",function(e){console.log("click:",t,e),n.onSelect(t,m.isChecked)},this),f.node.targetOff(this),f.node.on("click",function(e){console.log("click:",t,e),n.onDetail(t)},this)},t.prototype.onDetail=function(e){var t=this,n=this.ListMailArray[e];n.mdata&&c.default.getMailDetailsRequest(n.mdata.ID,h.Laya.Handler.create(this,function(n){t.onRspDetail(n,e)}))},t.prototype.onRspDetail=function(e,t){l.LogBase.log("onRspDetail",e);var n=this.ListMailArray[t];0==e.code&&d.HallEvent.event(d.HallEvent.SHOW_MAILDETAIL_DIALOG,[n.mdata,e])},t.prototype.onSelect=function(e,t){var n=this.ListMailArray[e];n.checkSelect.selected=t,l.LogBase.log("checkSelect.selected",t,n.checkSelect.selected)},t.prototype.onAwake=function(){this.PreTab=this.PreTabNode.getComponent(f.PrefabTab6),this.ListNoticeArray=[],this.ListMailArray=[],this.checkboxAll.interactable=!0,this.checkboxAll.isChecked=!1,this.boxBackGround.on(h.Laya.Event.CLICK,this.close,this),this.ImgClose.node.on(h.Laya.Event.CLICK,this.close,this),this.ImageBg.node.on(h.Laya.Event.CLICK,function(){},this),this.spDelete.node.on(h.Laya.Event.CLICK,this.onDelete,this),this.PreTab.labels="Notice,Mail",this.PreTab.updateList(),this.PreTab.clickHandler=h.Laya.Handler.create(this,this.onTab,null,!1),this.PreTab.selectedIndex=0,this.NoticeNode.active=!0,this.MailNode.active=!1},t.prototype.onEnable=function(){c.default.getMailListRequest(h.Laya.Handler.create(this,this.onMailListRsp))},t.prototype.onTab=function(){0==this.PreTab.selectedIndex?(this.NoticeNode.active=!0,this.MailNode.active=!1,this.spNodata.node.active=0==this.ListNoticeArray.length):(this.NoticeNode.active=!1,this.MailNode.active=!0,this.spNodata.node.active=0==this.ListMailArray.length),this.ListMail.numItems=this.ListMailArray.length,this.ListNotice.numItems=this.ListNoticeArray.length},t.prototype.onDelete=function(){var e="";this.listLast=[];for(var t=0;t<this.ListMailArray.length;t++)l.LogBase.log("onDelete checkSelect:",this.ListMailArray[t].checkSelect.selected),this.ListMailArray[t].checkSelect.selected?e=""==e?this.ListMailArray[t].mdata.ID:e+","+this.ListMailArray[t].mdata.ID:this.listLast.push(this.ListMailArray[t]);l.LogBase.log("deleteID",e),""!=e&&c.default.DeleteMailRequest(e,h.Laya.Handler.create(this,this.onDeleteRsp))},t.prototype.onDeleteRsp=function(e){l.LogBase.log("onDeleteRsp",e),0==e.code&&(this.ListMailArray=[],this.ListMailArray=this.listLast,this.onTab())},t.prototype.onSelectAll=function(){l.LogBase.log("select all ...",this.checkboxAll.isChecked);for(var e=0;e<this.ListMailArray.length;e++)this.ListMailArray[e].checkSelect.selected=this.checkboxAll.isChecked;this.ListMail.updateAll()},t.prototype.onMailListRsp=function(e){if(l.LogBase.log("onMailListRsp:",e),this.ListNoticeArray=[],this.ListMailArray=[],0==e.code)if(e.data.length>0){this.spNodata.node.active=!1;for(var t=0;t<e.data.length;t++)-1==e.data[t].Scope?this.ListNoticeArray.push({labTitle:{text:e.data[t].Title},labTime:{text:e.data[t].PublishDate},labMsg:{text:e.data[t].Contents},LabelID:{text:e.data[t].ID},mdata:e.data[t]}):this.ListMailArray.push({labMailTitle:{text:e.data[t].Title},labMailTime:{text:e.data[t].PublishDate},labContents:{text:e.data[t].Contents},RadioNew:{selected:1==e.data[t].Status},LabelID:{text:e.data[t].ID},checkSelect:{selected:!1},mdata:e.data[t]});this.onTab()}else this.spNodata.node.active=!0;else this.spNodata.node.active=!0},t.prototype.close=function(){n.s_scene=null,console.log("SceneNotice6 close",this,n.s_scene),e.prototype.close.call(this)},n=a([g()],t)}(p.SceneNoticeBase6));n.SceneNotice6=m,cc._RF.pop()},{"../halllib/common/ConfigMng":"ConfigMng","../halllib/common/LogBase":"LogBase","../halllib/laya/Laya":"Laya","../halllib/net/InnerEvent":"InnerEvent","../halllib/net/PlatformService":"PlatformService","../hallph7/LoadingView7":"LoadingView7","./PrefabTab6":"PrefabTab6","./SceneNotice6.generated":"SceneNotice6.generated"}],"SceneNotice7.generated":[function(e,t,n){"use strict";cc._RF.push(t,"072ca+bd/hBYKpOUUrpEj1f","SceneNotice7.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.SceneNoticeBase7=void 0;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ImageBg=null,t.ImgClose=null,t.Tab=null,t.ViewStack=null,t.ListNotice=null,t.ListMail=null,t.checkboxAll=null,t.spDelete=null,t.spNodata=null,t}return i(t,e),t}(e("../halllib/laya/Laya").Laya.Scene);n.SceneNoticeBase7=a,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],SceneNotice7:[function(e,t,n){"use strict";cc._RF.push(t,"50b71Dgi/hBK6VkXjpVm7GH","SceneNotice7");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneNotice7=void 0;var s=e("../halllib/common/ConfigMng"),l=e("../halllib/common/LogBase"),c=r(e("../halllib/net/PlatformService")),u=r(e("./LoadingView7")),p=e("./SceneNotice7.generated"),h=e("../halllib/laya/Laya"),d=h.Laya.regClass,f=(h.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.listLast=[],t}return i(t,e),t.Load=function(e){var t=this;this.load(s.ConfigMng.getSceneAddr("SceneNotice7"),null,null).then(function(n){t.s_scene=n,e&&e.run()})},t.OpenScene=function(e){this.s_scene?e?e.addChild(this.s_scene):h.Laya.stage.addChild(this.s_scene):(u.default.OpenScene(),this.Load(h.Laya.Handler.create(this,this.Show,[e])))},t.Show=function(e){u.default.CloseScene(),e?e.addChild(this.s_scene):h.Laya.stage.addChild(this.s_scene)},t.CloseScene=function(){this.s_scene&&this.s_scene.close()},t.prototype.onAwake=function(){this.checkboxAll.selected=!1,this.boxBackGround.on(h.Laya.Event.CLICK,this,this.close),this.ImgClose.on(h.Laya.Event.CLICK,this,this.close),this.ImageBg.on(h.Laya.Event.CLICK,this,function(){}),this.checkboxAll.on(h.Laya.Event.CLICK,this,this.onSelecAll),this.spDelete.on(h.Laya.Event.CLICK,this,this.onDelete),this.Tab.on(h.Laya.Event.CLICK,this,this.onTab),this.ViewStack.selectedIndex=0,this.Tab.selectedIndex=0},t.prototype.onEnable=function(){c.default.getMailListRequest(h.Laya.Handler.create(this,this.onMailListRsp))},t.prototype.onTab=function(){this.ViewStack.selectedIndex=this.Tab.selectedIndex},t.prototype.onDelete=function(){var e="";this.listLast=[];for(var t=0;t<this.ListMail.array.length;t++)l.LogBase.log("onDelete checkSelect:",this.ListMail.array[t].checkSelect.selected),this.ListMail.array[t].checkSelect.selected?e=""==e?this.ListMail.array[t].mdata.ID:e+","+this.ListMail.array[t].mdata.ID:this.listLast.push(this.ListMail.array[t]);l.LogBase.log("deleteID",e),""!=e&&c.default.DeleteMailRequest(e,h.Laya.Handler.create(this,this.onDeleteRsp))},t.prototype.onDeleteRsp=function(e){l.LogBase.log("onDeleteRsp",e),0==e.code&&(this.ListMail.array=[],this.ListMail.array=this.listLast,this.ListMail.refresh())},t.prototype.onSelecAll=function(){for(var e=0;e<this.ListMail.array.length;e++)this.ListMail.array[e].checkSelect.selected=this.checkboxAll.selected;this.ListMail.refresh()},t.prototype.onMailListRsp=function(e){if(l.LogBase.log("onMailListRsp:",e),this.ListNotice.array=[],this.ListMail.array=[],0==e.code&&e.data.length>0){this.spNodata.visible=!1;for(var t=0;t<e.data.length;t++)-1==e.data[t].Scope?this.ListNotice.addItem({labTitle:{text:e.data[t].Title},labTime:{text:e.data[t].PublishDate},labMsg:{text:e.data[t].Contents},LabelID:{text:e.data[t].ID},mdata:e.data[t]}):this.ListMail.addItem({labMailTitle:{text:e.data[t].Title},labMailTime:{text:e.data[t].PublishDate},labContents:{text:e.data[t].Contents},RadioNew:{selected:1==e.data[t].Status},LabelID:{text:e.data[t].ID},checkSelect:{selected:!1},mdata:e.data[t]})}},a([d()],t)}(p.SceneNoticeBase7));n.SceneNotice7=f,cc._RF.pop()},{"../halllib/common/ConfigMng":"ConfigMng","../halllib/common/LogBase":"LogBase","../halllib/laya/Laya":"Laya","../halllib/net/PlatformService":"PlatformService","./LoadingView7":"LoadingView7","./SceneNotice7.generated":"SceneNotice7.generated"}],"ScenePassword7.generated":[function(e,t,n){"use strict";cc._RF.push(t,"8acee3Xt/ZNpYYC7wl2KcCk","ScenePassword7.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.ScenePasswordBase7=void 0;var r=e("../halllib/laya/Laya"),s=(r.Laya.regClass,r.Laya.property),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.boxBackGround=null,t.ImageBg=null,t.ImgClose=null,t.inputAreaNO=null,t.inputPhoneNO=null,t.inputVeriCode=null,t.inputPassword=null,t.btnSend=null,t.spConfirme=null,t}return i(t,e),a([s(cc.Node)],t.prototype,"boxBackGround",void 0),a([s(cc.Sprite)],t.prototype,"ImageBg",void 0),a([s(cc.Sprite)],t.prototype,"ImgClose",void 0),a([s(cc.EditBox)],t.prototype,"inputAreaNO",void 0),a([s(cc.EditBox)],t.prototype,"inputPhoneNO",void 0),a([s(cc.EditBox)],t.prototype,"inputVeriCode",void 0),a([s(cc.EditBox)],t.prototype,"inputPassword",void 0),a([s(cc.Button)],t.prototype,"btnSend",void 0),a([s(cc.Sprite)],t.prototype,"spConfirme",void 0),t}(r.Laya.Scene);n.ScenePasswordBase7=l,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],ScenePassword7:[function(e,t,n){"use strict";cc._RF.push(t,"09c43NW05xME5DybBpirXJd","ScenePassword7");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.ScenePassword7=void 0;var s=e("./ScenePassword7.generated"),l=e("../halllib/common/ConfigMng"),c=e("../halllib/common/Define"),u=e("../halllib/net/InnerEvent"),p=r(e("../halllib/net/HallMsgProxy")),h=r(e("../halllib/net/PlatformService")),d=r(e("../hall/Tips")),f=e("../halllib/net/GameHallMessage"),g=e("../halllib/common/Types"),m=r(e("./LoadingView7")),y=e("../halllib/core/HallData"),_=e("../halllib/common/LogBase"),v=e("../halllib/laya/Laya"),b=f.GameHallMessage.ERROR_CODE_MSG,S=f.GameHallMessage.MDM_ID,C=f.GameHallMessage.SUB_GH_USERREFRESH,I=r(e("md5")),R=r(e("../../main/scripts/framework/asset/AssetLoader")),L=v.Laya.regClass,P=(v.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.CONST_TICKTIME=180,t.timetick=t.CONST_TICKTIME,t.bVerifyCode=!1,t.bRegist=!0,t.Captcha="",t.Verifytoken="",t}var n;return i(t,e),n=t,t.Load=function(e){var t=this;this.s_sceneName="ScenePassword",this.LoadPrefab(e,this.s_sceneName,l.ConfigMng.getSceneAddr(this.s_sceneName),new v.Laya.Handler(this,function(e){console.log("success:",e,t.s_scene),t.s_scene.zOrder=c.Define.ZORDER_DEF.Z_RESETPASSWD}),new v.Laya.Handler(this,function(){_.LogBase.error("LoadScene Error:",l.ConfigMng.getSceneAddr(t.s_sceneName)),u.HallEvent.event(u.HallEvent.LOADING_MSG,"Error:"+t.s_sceneName)}))},t.OpenScene=function(t){this.s_scene?e.OpenScene.call(this,t):(m.default.OpenScene(),this.Load(v.Laya.Handler.create(this,this.Show,[t])))},t.prototype.close=function(){n.s_scene=null,_.LogBase.log("SceneRegist7 close",this,n.s_scene),e.prototype.close.call(this)},t.Show=function(t){m.default.CloseScene(),e.Show.call(this,t)},t.CloseScene=function(){this.s_scene&&this.s_scene.close()},t.prototype.onAwake=function(){this.btnSend.node.on(v.Laya.Event.CLICK,this.onSend,this),this.spConfirme.node.on(v.Laya.Event.CLICK,this.onConfirm,this),this.ImgClose.node.on(v.Laya.Event.CLICK,this.close,this)},t.prototype.onEnable=function(){u.HallEvent.on(p.default.getEventString(S.MDM_GH_USERREFRESH,C.SUB_USERINFO_RESET_PASSWORD_RSP),this,this.onResetPassRsp),this.bVerifyCode=!1,this.inputPhoneNO.string=y.LocalTempData.getAccountsName()},t.prototype.onDisable=function(){u.HallEvent.off(p.default.getEventString(S.MDM_GH_USERREFRESH,C.SUB_USERINFO_RESET_PASSWORD_RSP),this,this.onResetPassRsp)},t.prototype.onSend=function(){this.onSendSMS()},t.prototype.onSendSMS=function(){this.timetick<this.CONST_TICKTIME||(""!=this.inputAreaNO.string?this.checkPhoneNum()&&(this.onTimer(),h.default.SMSCodeRequest(this.inputAreaNO.string,this.inputPhoneNO.string,g.SMSCodeType.FindPassword,v.Laya.Handler.create(this,this.onSendRespone))):d.default.SetWarnText(l.ConfigMng.getTips(c.Define.TIPS.INPUT_ERROR_AREANO)))},t.prototype.onSendRespone=function(e){_.LogBase.log("onSendRespone",e),e.msg&&d.default.SetWarnText(e.msg),e&&(0==e.code?this.bVerifyCode=!0:this.bVerifyCode=!1)},t.prototype.onTimer=function(){var e=this;this.timetick=this.CONST_TICKTIME-1,this.btnSend.node.getChildByName("Label").getComponent(cc.Label).string=this.timetick.toString(),v.Laya.timer.loop(1e3,this,function(){e.timetick--,e.btnSend.node.getChildByName("Label").getComponent(cc.Label).string=e.timetick.toString(),0==e.timetick&&(e.timetick=e.CONST_TICKTIME,e.btnSend.node.getChildByName("Label").getComponent(cc.Label).string="Send",v.Laya.timer.clearAll(e))})},t.prototype.onConfirm=function(){this.checkPhoneNum()&&(this.inputVeriCode.string.length<4?d.default.SetWarnText(l.ConfigMng.getTips(c.Define.TIPS.INPUT_ERROR_VERIFYCODE)):this.inputPassword.string.length<6?d.default.SetWarnText(l.ConfigMng.getTips(c.Define.TIPS.INPUT_ERROR_PASSWD_TOO_LESS)):h.default.SMSVerifyRequest(this.inputAreaNO.string,this.inputPhoneNO.string,g.SMSCodeType.FindPassword,this.inputVeriCode.string,v.Laya.Handler.create(this,this.onSMSVerifyRsp)))},t.prototype.onSMSVerifyRsp=function(e){_.LogBase.log("onSMSVerifyRsp",e),0==e.code?p.default.ResetUserPasswd(this.inputPhoneNO.string,this.inputPassword.string,this.inputVeriCode.string,e.data.verifyToken):d.default.SetWarnText(e.msg)},t.prototype.onResetPassRsp=function(e,t){_.LogBase.log("onUserRefresh",t),0==e.uHandleCode?(this.close(),u.HallEvent.event(u.HallEvent.SHOW_MESSAGE,c.Define.TIPS.SUCCEED)):d.default.SetWarnText(b.getCodeMsg(e.uHandleCode))},t.prototype.getImageVerify=function(){this.checkPhoneNum()&&h.default.ImageVerifyRequest(this.inputPhoneNO.string,v.Laya.Handler.create(this,this.onRspImageVerify))},t.prototype.onRspImageVerify=function(e){var t=this;this.btnSend.node.getChildByName("Label").getComponent(cc.Label).string="",this.btnSend.node.getComponent(cc.Sprite).spriteFrame=null,this.Captcha=e.Captcha,this.Verifytoken=e.Verifytoken,console.log("\u53cd\u5e94----------------",e.url),R.default.loadBundleAsset(e.url,cc.SpriteFrame).then(function(e){t.btnSend.node.getComponent(cc.Sprite).spriteFrame=e}).catch(function(e){_.LogBase.error(e)})},t.prototype.onConfirmIamgeRegist=function(){this.checkPhoneNum()&&(this.inputPassword.string.length<6?d.default.SetWarnText(l.ConfigMng.getTips(c.Define.TIPS.INPUT_ERROR_PASSWD_TOO_LESS)):this.inputVeriCode.string.length<4?d.default.SetWarnText(l.ConfigMng.getTips(c.Define.TIPS.INPUT_ERROR_VERIFYCODE)):I.default(this.inputVeriCode.string)==this.Captcha?(p.default.ResetUserPasswd(this.inputPhoneNO.string,this.inputPassword.string,this.inputVeriCode.string,this.Verifytoken),d.default.SetText(l.ConfigMng.getTips(c.Define.TIPS.RESET_PASSWD))):d.default.SetWarnText(l.ConfigMng.getTips(c.Define.TIPS.INPUT_ERROR_VERIFYCODE)))},t.prototype.checkPhoneNum=function(){return this.inputPhoneNO.string=Number(this.inputPhoneNO.string).toString(),this.inputPhoneNO.string.length<l.ConfigMng.hallconfigJson.regist.phoneminlen||this.inputPhoneNO.string.length>l.ConfigMng.hallconfigJson.regist.phonemaxlen?(d.default.SetWarnText(l.ConfigMng.getTips(c.Define.TIPS.INPUT_ERROR_PHONENO)),!1):"9"==this.inputPhoneNO.string.charAt(0)||(d.default.SetWarnText(l.ConfigMng.getTips(c.Define.TIPS.INPUT_ERROR_PHONENO)),!1)},n=a([L()],t)}(s.ScenePasswordBase7));n.ScenePassword7=P,cc._RF.pop()},{"../../main/scripts/framework/asset/AssetLoader":"AssetLoader","../hall/Tips":"Tips","../halllib/common/ConfigMng":"ConfigMng","../halllib/common/Define":"Define","../halllib/common/LogBase":"LogBase","../halllib/common/Types":"Types","../halllib/core/HallData":"HallData","../halllib/laya/Laya":"Laya","../halllib/net/GameHallMessage":"GameHallMessage","../halllib/net/HallMsgProxy":"HallMsgProxy","../halllib/net/InnerEvent":"InnerEvent","../halllib/net/PlatformService":"PlatformService","./LoadingView7":"LoadingView7","./ScenePassword7.generated":"ScenePassword7.generated",md5:44}],"ScenePrompt7.generated":[function(e,t,n){"use strict";cc._RF.push(t,"b3c38qIPRxKW5qwHr3dBiJq","ScenePrompt7.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.ScenePromptBase7=void 0;var r=e("../halllib/laya/Laya"),s=(r.Laya.regClass,r.Laya.property),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.BoxBg=null,t.ImageBg=null,t.ImgYes=null,t.LabelInfo=null,t}return i(t,e),a([s({type:cc.Node})],t.prototype,"BoxBg",void 0),a([s({type:cc.Sprite})],t.prototype,"ImageBg",void 0),a([s({type:cc.Sprite})],t.prototype,"ImgYes",void 0),a([s({type:cc.Label})],t.prototype,"LabelInfo",void 0),t}(r.Laya.Scene);n.ScenePromptBase7=l,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],ScenePrompt7:[function(e,t,n){"use strict";cc._RF.push(t,"090fbUEUf1NW6y3tEdJrTCo","ScenePrompt7");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.ScenePrompt7=void 0;var r=e("../halllib/common/ConfigMng"),s=e("../halllib/common/Define"),l=e("./ScenePrompt7.generated"),c=e("../halllib/laya/Laya"),u=e("../halllib/common/LogBase"),p=e("../halllib/net/InnerEvent"),h=c.Laya.regClass,d=(c.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.timeclick=3,t.bTimer=!1,t}var n;return i(t,e),n=t,t.Load=function(e,t){var n=this;this.s_sceneName="ScenePrompt",this.LoadPrefab(e,t,r.ConfigMng.getSceneAddr(this.s_sceneName),new c.Laya.Handler(this,function(e){console.log("success:",e,n.s_scene)}),new c.Laya.Handler(this,function(){u.LogBase.error("LoadScene Error:",r.ConfigMng.getSceneAddr(n.s_sceneName)),p.HallEvent.event(p.HallEvent.LOADING_MSG,"Error:"+n.s_sceneName)}))},t.OpenScene=function(t,n,o){this.s_scene?(this.s_scene.LabelInfo.string=n?r.ConfigMng.getTips(n):"",this.s_scene.bTimer=o||!1,e.OpenScene.call(this,t)):this.Load(c.Laya.Handler.create(this,this.Show,[t,n,o]))},t.Show=function(t,n,o){this.s_scene.LabelInfo.string=n?r.ConfigMng.getTips(n):"",this.s_scene.bTimer=o||!1,e.Show.call(this,t)},t.CloseScene=function(){e.CloseScene.call(this)},t.prototype.onEnable=function(){this.zOrder=s.Define.ZORDER_DEF.Z_SHOWMESSAGE,this.ImgYes.node.on(c.Laya.Event.CLICK,this.close,this)},t.prototype.onDisable=function(){},t.prototype.close=function(){n.s_scene=null,console.log("ScenePrompt7 close",this,n.s_scene),e.prototype.close.call(this)},t.prototype.Timer=function(){this.ImgYes.node.off(c.Laya.Event.CLICK,this.close,this),this.LabelInfo.string="Wait(3)",c.Laya.timer.loop(1e3,this,this.onTimer)},t.prototype.onTimer=function(){this.timeclick--,this.LabelInfo.string="Wait("+this.timeclick+"s)",this.timeclick<=0&&(this.LabelInfo.string="Continue",this.ImgYes.node.on(c.Laya.Event.CLICK,this.close,this),c.Laya.timer.clearAll(this))},n=a([h()],t)}(l.ScenePromptBase7));n.ScenePrompt7=d,cc._RF.pop()},{"../halllib/common/ConfigMng":"ConfigMng","../halllib/common/Define":"Define","../halllib/common/LogBase":"LogBase","../halllib/laya/Laya":"Laya","../halllib/net/InnerEvent":"InnerEvent","./ScenePrompt7.generated":"ScenePrompt7.generated"}],"SceneRank6.generated":[function(e,t,n){"use strict";cc._RF.push(t,"961adwXmSRJ/bjpp1ahmDqb","SceneRank6.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneRankBase6=void 0;var s=e("../halllib/laya/Laya"),l=r(e("../../main/scripts/components/vitruallist/List")),c=(s.Laya.regClass,s.Laya.property),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.boxBackGround=null,t.ImageBg=null,t.ImgClose=null,t.labNoRank=null,t.labMyRank=null,t.spFace=null,t.labName=null,t.labScore=null,t.listRank=null,t.Img1=null,t.LabelName1=null,t.LabelID1=null,t.Img2=null,t.LabelName2=null,t.LabelID2=null,t.Img3=null,t.LabelName3=null,t.LabelID3=null,t}return i(t,e),a([c(cc.Node)],t.prototype,"boxBackGround",void 0),a([c(cc.Sprite)],t.prototype,"ImageBg",void 0),a([c(cc.Sprite)],t.prototype,"ImgClose",void 0),a([c(cc.Label)],t.prototype,"labNoRank",void 0),a([c(cc.Label)],t.prototype,"labMyRank",void 0),a([c(cc.Sprite)],t.prototype,"spFace",void 0),a([c(cc.Label)],t.prototype,"labName",void 0),a([c(cc.Label)],t.prototype,"labScore",void 0),a([c(l.default)],t.prototype,"listRank",void 0),a([c(cc.Sprite)],t.prototype,"Img1",void 0),a([c(cc.Label)],t.prototype,"LabelName1",void 0),a([c(cc.Label)],t.prototype,"LabelID1",void 0),a([c(cc.Sprite)],t.prototype,"Img2",void 0),a([c(cc.Label)],t.prototype,"LabelName2",void 0),a([c(cc.Label)],t.prototype,"LabelID2",void 0),a([c(cc.Sprite)],t.prototype,"Img3",void 0),a([c(cc.Label)],t.prototype,"LabelName3",void 0),a([c(cc.Label)],t.prototype,"LabelID3",void 0),t}(s.Laya.Scene);n.SceneRankBase6=u,cc._RF.pop()},{"../../main/scripts/components/vitruallist/List":"List","../halllib/laya/Laya":"Laya"}],SceneRank6:[function(e,t,n){"use strict";cc._RF.push(t,"3c389LsEExOsLwz+JKZqWDF","SceneRank6");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneRank6=void 0;var s=e("./SceneRank6.generated"),l=e("../halllib/core/RunData"),c=e("../halllib/net/PlatformService"),u=e("../halllib/common/ConfigMng"),p=r(e("../hallph7/LoadingView7")),h=e("../halllib/common/LogBase"),d=e("../halllib/laya/Laya"),f=e("../halllib/net/InnerEvent"),g=d.Laya.regClass,m=(d.Laya.property,function(e){function t(){return e.call(this)||this}var n;return i(t,e),n=t,t.Load=function(e){var t=this;this.s_sceneName="SceneRank",this.LoadPrefab(e,this.s_sceneName,u.ConfigMng.getSceneAddr(this.s_sceneName),new d.Laya.Handler(this,function(e){console.log("success:",e,t.s_scene)}),new d.Laya.Handler(this,function(){h.LogBase.error("LoadScene Error:",u.ConfigMng.getSceneAddr(t.s_sceneName)),f.HallEvent.event(f.HallEvent.LOADING_MSG,"Error:"+t.s_sceneName)}))},t.prototype.close=function(){n.s_scene=null,console.log("SceneFirstRecharge7 close",this,n.s_scene),e.prototype.close.call(this)},t.OpenScene=function(t,n){this.bRegist=n,this.s_scene?e.OpenScene.call(this,t):(p.default.OpenScene(),this.Load(d.Laya.Handler.create(this,this.Show,[t,n])))},t.Show=function(t,n){p.default.CloseScene(),e.Show.call(this,t),this.bRegist=n},t.CloseScene=function(){e.CloseScene.call(this)},t.prototype.onAwake=function(){this.boxBackGround.on(d.Laya.Event.CLICK,this.close,this),this.ImageBg.node.on(d.Laya.Event.CLICK,function(){},this),this.ImgClose.node.on(d.Laya.Event.CLICK,this.close,this)},t.prototype.onEnable=function(){this.listRankArray=[],this.listRank.numItems=this.listRankArray.length,this.labName.string=l.RunData.myUserInfo.nickName,this.labNoRank.node.active=!0,this.loadFace(),this.requestRankList()},t.prototype.requestRankList=function(){c.RankService.DailyRankRequest(d.Laya.Handler.create(this,this.onRspRankList))},t.prototype.onRspRankList=function(e){h.LogBase.log("onRspRankList",e),0!=e.code?(this.listRank.node.active=!1,this.labNoRank.node.active=!0):(e.data.rankList.length>0?(this.listRank.node.active=!0,this.labNoRank.node.active=!1,this.InitList(e.data.rankList)):(this.listRank.node.active=!1,this.labNoRank.node.active=!0),e.data.myRank<0?this.labMyRank.string="100+":this.labMyRank.string=e.data.myRank.toString(),e.data.myCommission<0?this.labScore.string="0":this.labScore.string=l.GameTool.formatMoneyString(e.data.myCommission))},t.prototype.loadFace=function(){var e=this,t=l.RunData.myUserInfo.bLogoID;(t<0||t>u.ConfigMng.hallconfigJson.face.facelist.length)&&(t=0);var n=u.ConfigMng.getFaceResUrl(t);d.Laya.loader.load(n,d.Laya.Loader.SPRITE).then(function(t){t&&t.length>0?e.spFace.spriteFrame=t[0]:h.LogBase.error("loadAsset error:",n)})},t.prototype.InitList=function(e){var t=this;this.listRankArray=[],h.LogBase.log("Rank listdata",e);for(var n=function(n){var i=e[n];if(null==i)return"continue";var a=i.RankNum;if(o.listRankArray.push({labNO:{text:a},labDate:{text:i.InputDate},labNickName:{text:i.NickName},labPayGb:{text:i.PayUser},labRegUserCnt:{text:l.GameTool.formatMoneyString(i.TotalIncome)},labIncomeMoney:{text:l.GameTool.formatMoneyString(i.IncomeMoney)}}),1==a){o.Img1.node.active=!0;var r=u.ConfigMng.getFaceResUrl(i.Head);d.Laya.loader.load(r,d.Laya.Loader.SPRITE).then(function(e){e&&e.length>0?t.Img1.spriteFrame=e[0]:h.LogBase.error("loadAsset error:",r)}),o.LabelName1.string=i.NickName,o.LabelID1.string=i.UserID}if(2==a){o.Img2.node.active=!0;var s=u.ConfigMng.getFaceResUrl(i.Head);d.Laya.loader.load(s,d.Laya.Loader.SPRITE).then(function(e){e&&e.length>0?t.Img2.spriteFrame=e[0]:h.LogBase.error("loadAsset error:",s)}),o.LabelName2.string=i.NickName,o.LabelID2.string=i.UserID}if(3==a){o.Img3.node.active=!0;var c=u.ConfigMng.getFaceResUrl(i.Head);d.Laya.loader.load(c,d.Laya.Loader.SPRITE).then(function(e){e&&e.length>0?t.Img3.spriteFrame=e[0]:h.LogBase.error("loadAsset error:",c)}),o.LabelName3.string=i.NickName,o.LabelID3.string=i.UserID}},o=this,i=0;i<e.length;i++)n(i);this.listRank.numItems=this.listRankArray.length},t.bRegist=!0,n=a([g()],t)}(s.SceneRankBase6));n.SceneRank6=m,cc._RF.pop()},{"../halllib/common/ConfigMng":"ConfigMng","../halllib/common/LogBase":"LogBase","../halllib/core/RunData":"RunData","../halllib/laya/Laya":"Laya","../halllib/net/InnerEvent":"InnerEvent","../halllib/net/PlatformService":"PlatformService","../hallph7/LoadingView7":"LoadingView7","./SceneRank6.generated":"SceneRank6.generated"}],"SceneRank7.generated":[function(e,t,n){"use strict";cc._RF.push(t,"3ad8fqSO1lNjIcuKJTX2xwY","SceneRank7.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.SceneRankBase7=void 0;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.boxBackGround=null,t.ImageBg=null,t.ImgClose=null,t.labNoRank=null,t.labMyRank=null,t.spFace=null,t.labName=null,t.labScore=null,t.listRank=null,t}return i(t,e),t}(e("../halllib/laya/Laya").Laya.Scene);n.SceneRankBase7=a,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],SceneRank7:[function(e,t,n){"use strict";cc._RF.push(t,"c7b12FWjAJBk7/imoYJNgV7","SceneRank7");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneRank7=void 0;var s=e("./SceneRank7.generated"),l=e("../halllib/core/RunData"),c=e("../halllib/net/PlatformService"),u=e("../halllib/common/ConfigMng"),p=r(e("./LoadingView7")),h=e("../halllib/common/LogBase"),d=e("../halllib/laya/Laya"),f=e("../halllib/net/InnerEvent"),g=d.Laya.regClass,m=(d.Laya.property,function(e){function t(){return e.call(this)||this}return i(t,e),t.Load=function(e){var t=this;this.s_sceneName="SceneRank",this.LoadPrefab(e,this.s_sceneName,u.ConfigMng.getSceneAddr(this.s_sceneName),new d.Laya.Handler(this,function(e){console.log("success:",e,t.s_scene)}),new d.Laya.Handler(this,function(){h.LogBase.error("LoadScene Error:",u.ConfigMng.getSceneAddr(t.s_sceneName)),f.HallEvent.event(f.HallEvent.LOADING_MSG,"Error:"+t.s_sceneName)}))},t.OpenScene=function(t){this.s_scene?e.OpenScene.call(this,t):(p.default.OpenScene(),this.Load(d.Laya.Handler.create(this,this.Show,[t])))},t.Show=function(t){p.default.CloseScene(),e.Show.call(this,t)},t.CloseScene=function(){e.CloseScene.call(this)},t.prototype.onAwake=function(){this.boxBackGround.on(d.Laya.Event.CLICK,this,this.close),this.ImageBg.on(d.Laya.Event.CLICK,this,function(){}),this.ImgClose.on(d.Laya.Event.CLICK,this,this.close)},t.prototype.onEnable=function(){this.listRank.array=[],this.labName.text=l.RunData.myUserInfo.nickName,this.labNoRank.visible=!0,this.loadFace(),this.requestRankList()},t.prototype.requestRankList=function(){c.RankService.DailyRankRequest(d.Laya.Handler.create(this,this.onRspRankList))},t.prototype.onRspRankList=function(e){h.LogBase.log("onRspRankList",e),0!=e.code?(this.listRank.visible=!1,this.labNoRank.visible=!0):(e.data.rankList.length>0?(this.listRank.visible=!0,this.labNoRank.visible=!1,this.InitList(e.data.rankList)):(this.listRank.visible=!1,this.labNoRank.visible=!0),e.data.myRank<0?this.labMyRank.text="100+":this.labMyRank.text=e.data.myRank.toString(),e.data.myCommission<0?this.labScore.text="0":this.labScore.text=l.GameTool.formatMoneyString(e.data.myCommission))},t.prototype.loadFace=function(){var e=l.RunData.myUserInfo.bLogoID;(e<0||e>u.ConfigMng.hallconfigJson.face.facelist.length)&&(e=0);var t=u.ConfigMng.hallconfigJson.face.facelist[e];this.spFace.texture=d.Laya.loader.getRes(t)},t.prototype.InitList=function(e){this.listRank.array=[],h.LogBase.log("Rank listdata",e);for(var t=0;t<e.length;t++){var n=e[t];if(null!=n){var o=n.RankNum,i=!0,a=!0,r="";o<=u.ConfigMng.hallconfigJson.dialyrank.count?(a=!1,r=u.ConfigMng.hallconfigJson.dialyrank[o]):i=!1,this.listRank.addItem({spNO:{visible:i,skin:r},labNO:{visible:a,text:o},labDate:{text:n.InputDate},labNickName:{text:n.NickName},labPayGb:{text:n.PayUser},labRegUserCnt:{text:l.GameTool.formatMoneyString_digits(n.TotalIncome,2)},labIncomeMoney:{text:l.GameTool.formatMoneyString(n.IncomeMoney)}})}}this.listRank.repeatY=e.length},a([g()],t)}(s.SceneRankBase7));n.SceneRank7=m,cc._RF.pop()},{"../halllib/common/ConfigMng":"ConfigMng","../halllib/common/LogBase":"LogBase","../halllib/core/RunData":"RunData","../halllib/laya/Laya":"Laya","../halllib/net/InnerEvent":"InnerEvent","../halllib/net/PlatformService":"PlatformService","./LoadingView7":"LoadingView7","./SceneRank7.generated":"SceneRank7.generated"}],"SceneRebate6.generated":[function(e,t,n){"use strict";cc._RF.push(t,"de7afdby0FNM5EJoj9KlYBm","SceneRebate6.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneRebateBase6=void 0;var r=e("../halllib/laya/Laya"),s=(r.Laya.regClass,r.Laya.property),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.BoxBg=null,t.ImageBg=null,t.ImageClose=null,t.Tab=null,t.ViewStack=null,t.LabelEventTime=null,t.LabelNextDate=null,t.LabelAmount=null,t.ListRecord=null,t.ListIntro=null,t}return i(t,e),a([s(cc.Node)],t.prototype,"BoxBg",void 0),a([s(cc.Sprite)],t.prototype,"ImageBg",void 0),a([s(cc.Sprite)],t.prototype,"ImageClose",void 0),a([s(cc.Node)],t.prototype,"Tab",void 0),a([s(cc.Node)],t.prototype,"ViewStack",void 0),a([s(cc.Label)],t.prototype,"LabelEventTime",void 0),a([s(cc.Label)],t.prototype,"LabelNextDate",void 0),a([s(cc.Label)],t.prototype,"LabelAmount",void 0),a([s(cc.Node)],t.prototype,"ListRecord",void 0),a([s(cc.Node)],t.prototype,"ListIntro",void 0),t}(r.Laya.Scene);n.SceneRebateBase6=l,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],SceneRebate6:[function(e,t,n){"use strict";cc._RF.push(t,"2c2ce0Um7hAoJA8+ERCttmf","SceneRebate6");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneRebate6=void 0;var s=e("../halllib/common/LogBase"),l=e("../halllib/common/ConfigMng"),c=e("../halllib/core/RunData"),u=e("../halllib/net/PlatformConfig"),p=r(e("../halllib/net/PlatformService")),h=r(e("../hallph7/LoadingView7")),d=e("./SceneRebate6.generated"),f=e("../halllib/laya/Laya"),g=e("../halllib/net/InnerEvent"),m=f.Laya.regClass,y=f.Laya.property,_=function(e){function t(){var t=e.call(this)||this;return t.recordLog=null,t.itemPrefab0=null,t.itemPrefab1=null,t}var n;return i(t,e),n=t,t.Load=function(e){var t=this;this.s_sceneName="SceneRebate",this.LoadPrefab(e,this.s_sceneName,l.ConfigMng.getSceneAddr(this.s_sceneName),new f.Laya.Handler(this,function(e){console.log("success:",e,t.s_scene)}),new f.Laya.Handler(this,function(){s.LogBase.error("LoadScene Error:",l.ConfigMng.getSceneAddr(t.s_sceneName)),g.HallEvent.event(g.HallEvent.LOADING_MSG,"Error:"+t.s_sceneName)}))},t.prototype.close=function(){n.s_scene=null,console.log("SceneLuckyRoulette6 close",this,n.s_scene),e.prototype.close.call(this)},t.OpenScene=function(t,n){this.bRegist=n,this.s_scene?e.OpenScene.call(this,t):(h.default.OpenScene(),this.Load(f.Laya.Handler.create(this,this.Show,[t,n])))},t.Show=function(t,n){h.default.CloseScene(),e.Show.call(this,t),this.bRegist=n},t.CloseScene=function(){e.CloseScene.call(this)},t.prototype.onAwake=function(){this.ImageClose.node.on(f.Laya.Event.CLICK,this.close,this),this.BoxBg.on(f.Laya.Event.CLICK,this.close,this),this.ImageBg.node.on(f.Laya.Event.CLICK,function(){},this),this.Tab.on(f.Laya.Event.CLICK,this.onTab,this)},t.prototype.onEnable=function(){this.Init()},t.prototype.onTab=function(){},t.prototype.Init=function(){if(u.servicedata.ServiceConfigs.PlantformConfig.UserBetRebateConfig.IsRebate){var e=u.servicedata.ServiceConfigs.PlantformConfig.UserBetRebateConfig.LastRebateDate,t=new Date(e),n=t.getFullYear(),o=(t.getFullYear(),t.getFullYear()),i=t.getDate(),a=t.getDate()+u.servicedata.ServiceConfigs.PlantformConfig.UserBetRebateConfig.RebateDay-1,r=t.getMonth()+1,s=t.getMonth()+1,l=this.getMonthDays(s);a>l&&(a-=l,s+=1);var p=a+1,h=s;p>l&&(p-=l,h=s+1),s>12&&(s-=12),h>12&&(h-=12,o+=1);var d=s.toString();d.length<2&&(d="0"+d);var f=a.toString();f.length<2&&(f="0"+f);var g=r.toString();g.length<2&&(g="0"+g),this.LabelEventTime.string=n+"/"+g+"/"+i.toString()+"~"+o.toString()+"/"+d+"/"+f,console.log("\u5f53\u524d\u5e74\u9650\u65f6\u95f4---------------",n+"/"+g+"/"+i.toString()+"~"+o.toString()+"/"+d+"/"+f),this.LabelNextDate.string=o.toString()+"/"+h.toString()+"/"+p.toString(),this.ListIntro.removeAllChildren();for(var m=0;m<u.servicedata.ServiceConfigs.PlantformConfig.UserBetRebateConfig.Income.length;m++){var y;m==u.servicedata.ServiceConfigs.PlantformConfig.UserBetRebateConfig.Income.length-1?((y=cc.instantiate(this.itemPrefab1)).getChildByName("Label1").getComponent(cc.Label).string=m+1+"",y.getChildByName("Label2").getComponent(cc.Label).string=c.GameTool.formatMoneyString(u.servicedata.ServiceConfigs.PlantformConfig.UserBetRebateConfig.Income[m].MinRange)+"+",y.getChildByName("Label3").getComponent(cc.Label).string=u.servicedata.ServiceConfigs.PlantformConfig.UserBetRebateConfig.Income[m].Rebate/100+"%",this.ListIntro.addChild(y)):((y=cc.instantiate(this.itemPrefab1)).getChildByName("Label1").getComponent(cc.Label).string=m+1+"",y.getChildByName("Label2").getComponent(cc.Label).string=c.GameTool.formatMoneyString(u.servicedata.ServiceConfigs.PlantformConfig.UserBetRebateConfig.Income[m].MinRange)+"~"+c.GameTool.formatMoneyString(u.servicedata.ServiceConfigs.PlantformConfig.UserBetRebateConfig.Income[m].MaxRange),y.getChildByName("Label3").getComponent(cc.Label).string=u.servicedata.ServiceConfigs.PlantformConfig.UserBetRebateConfig.Income[m].Rebate/100+"%",this.ListIntro.addChild(y))}}this.ReqRebateRecord()},t.prototype.ReqRebateRecord=function(){p.default.RequestRebateRecord(f.Laya.Handler.create(this,this.RspRebateRecord))},t.prototype.topClickBtn=function(e,t){for(var n=this.Tab.children,o=0;o<n.length;o++)n[o].getChildByName("press").active=o==t,this.ViewStack.children[o].active=o==t},t.prototype.RspRebateRecord=function(e){if(s.LogBase.debug("RspRebateRecord",e,e.data.curBet),0==e.code){if(e.data.curBet>0)for(var t=0;t<u.servicedata.ServiceConfigs.PlantformConfig.UserBetRebateConfig.Income.length;t++)t<u.servicedata.ServiceConfigs.PlantformConfig.UserBetRebateConfig.Income.length-1?(s.LogBase.debug("RspRebateRecord MinRange",e.data.curBet,u.servicedata.ServiceConfigs.PlantformConfig.UserBetRebateConfig.Income[t].MinRange,u.servicedata.ServiceConfigs.PlantformConfig.UserBetRebateConfig.Income[t].MaxRange),e.data.curBet>=u.servicedata.ServiceConfigs.PlantformConfig.UserBetRebateConfig.Income[t].MinRange&&e.data.curBet<=u.servicedata.ServiceConfigs.PlantformConfig.UserBetRebateConfig.Income[t].MaxRange&&(s.LogBase.debug("Rebate",e.data.curBet,u.servicedata.ServiceConfigs.PlantformConfig.UserBetRebateConfig.Income[t].Rebate),this.LabelAmount.string=c.GameTool.formatMoneyNumber(e.data.curBet*u.servicedata.ServiceConfigs.PlantformConfig.UserBetRebateConfig.Income[t].Rebate/1e4).toString())):(s.LogBase.debug("RspRebateRecord2 MinRange",e.data.curBet,u.servicedata.ServiceConfigs.PlantformConfig.UserBetRebateConfig.Income[t].MinRange,u.servicedata.ServiceConfigs.PlantformConfig.UserBetRebateConfig.Income[t].MaxRange),e.data.curBet>=u.servicedata.ServiceConfigs.PlantformConfig.UserBetRebateConfig.Income[t].MinRange&&(this.LabelAmount.string=c.GameTool.formatMoneyNumber(e.data.curBet*u.servicedata.ServiceConfigs.PlantformConfig.UserBetRebateConfig.Income[t].Rebate/1e4).toString()));else 0==e.data.curBet&&(this.LabelAmount.string="0");for(this.ListRecord.removeAllChildren(),t=0;t<e.data.recordLog.length;t++){s.LogBase.debug("rsp.data.recordLog",t,e.data.recordLog[t]);var n=e.data.recordLog[t].InputDate,o="",i=!1,a="";0==e.data.recordLog[t].Status?(o="halls/hallph6/res/hallres/buttons/ylbtn.png",c.GameTool.formatMoneyNumber(e.data.recordLog[t].Rebate)<.01&&(i=!0),a="Collect"):(o="halls/hallph6/res/hallres/Agent/received.png",a="",i=!1);var r=cc.instantiate(this.itemPrefab0);r.getComponent("ScriptRebate7").initData(n.split(" ")[0],c.GameTool.formatMoneyString(e.data.recordLog[t].Amount),e.data.recordLog[t].Rate/100+"%",c.GameTool.formatMoneyString(e.data.recordLog[t].Rebate),{skin:o,disabled:i,label:a},e.data.recordLog[t]),this.ListRecord.addChild(r)}}this.topClickBtn(null,0)},t.prototype.selectHandler=function(){this.recordLog&&this.recordLog.length},t.prototype.getMonthDays=function(e){switch(e){case 1:case 3:case 5:case 7:case 10:case 12:return 31;case 2:return 28;default:return 30}},t.bRegist=!0,a([y(cc.Prefab)],t.prototype,"itemPrefab0",void 0),a([y(cc.Prefab)],t.prototype,"itemPrefab1",void 0),n=a([m()],t)}(d.SceneRebateBase6);n.SceneRebate6=_,cc._RF.pop()},{"../halllib/common/ConfigMng":"ConfigMng","../halllib/common/LogBase":"LogBase","../halllib/core/RunData":"RunData","../halllib/laya/Laya":"Laya","../halllib/net/InnerEvent":"InnerEvent","../halllib/net/PlatformConfig":"PlatformConfig","../halllib/net/PlatformService":"PlatformService","../hallph7/LoadingView7":"LoadingView7","./SceneRebate6.generated":"SceneRebate6.generated"}],"SceneRebate7.generated":[function(e,t,n){"use strict";cc._RF.push(t,"6f5b4tbaJpCw5olAh7rZP0O","SceneRebate7.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.SceneRebateBase7=void 0;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.BoxBg=null,t.ImageBg=null,t.ImageClose=null,t.Tab=null,t.ViewStack=null,t.LabelEventTime=null,t.LabelNextDate=null,t.ListRecord=null,t.LabelAmount=null,t.ListIntro=null,t}return i(t,e),t}(e("../halllib/laya/Laya").Laya.Scene);n.SceneRebateBase7=a,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],SceneRebate7:[function(e,t,n){"use strict";cc._RF.push(t,"a4fd5ofCgtKcKgQaj0JHuoO","SceneRebate7");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneRebate7=void 0;var s=e("../halllib/common/LogBase"),l=e("../halllib/common/ConfigMng"),c=e("../halllib/core/RunData"),u=e("../halllib/net/PlatformConfig"),p=r(e("../halllib/net/PlatformService")),h=r(e("./LoadingView7")),d=e("./SceneRebate7.generated"),f=e("../halllib/laya/Laya"),g=f.Laya.regClass,m=(f.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.recordLog=null,t}return i(t,e),t.Load=function(e){var t=this;this.load(l.ConfigMng.getSceneAddr("SceneRebate7"),null,null).then(function(n){t.s_scene=n,e&&e.run()})},t.OpenScene=function(e){this.s_scene?e?e.addChild(this.s_scene):f.Laya.stage.addChild(this.s_scene):(h.default.OpenScene(),this.Load(f.Laya.Handler.create(this,this.Show,[e])))},t.Show=function(e){h.default.CloseScene(),e?e.addChild(this.s_scene):f.Laya.stage.addChild(this.s_scene)},t.CloseScene=function(){this.s_scene&&this.s_scene.close()},t.prototype.onAwake=function(){this.Tab.on(f.Laya.Event.CLICK,this,this.onTab),this.ImageClose.on(f.Laya.Event.CLICK,this,this.close),this.BoxBg.on(f.Laya.Event.CLICK,this,this.close),this.ImageBg.on(f.Laya.Event.CLICK,this,function(){})},t.prototype.onEnable=function(){this.ListRecord.array=[],this.Init()},t.prototype.onTab=function(){this.ViewStack.selectedIndex=this.Tab.selectedIndex},t.prototype.Init=function(){if(u.servicedata.ServiceConfigs.PlantformConfig.UserBetRebateConfig.IsRebate){var e=u.servicedata.ServiceConfigs.PlantformConfig.UserBetRebateConfig.LastRebateDate,t=new Date(e),n=t.getFullYear(),o=(t.getFullYear(),t.getFullYear()),i=t.getDate(),a=t.getDate()+u.servicedata.ServiceConfigs.PlantformConfig.UserBetRebateConfig.RebateDay-1,r=t.getMonth()+1,s=t.getMonth()+1,l=this.getMonthDays(s);a>l&&(a-=l,s+=1);var p=a+1,h=s;p>l&&(p-=l,h=s+1),s>12&&(s-=12),h>12&&(h-=12,o+=1);var d=s.toString();d.length<2&&(d="0"+d);var f=a.toString();f.length<2&&(f="0"+f);var g=r.toString();g.length<2&&(g="0"+g),this.LabelEventTime.text=n+"/"+g+"/"+i.toString()+"~"+o.toString()+"/"+d+"/"+f,this.LabelNextDate.text=o.toString()+"/"+h.toString()+"/"+p.toString(),this.ListIntro.array=[];for(var m=0;m<u.servicedata.ServiceConfigs.PlantformConfig.UserBetRebateConfig.Income.length;m++)m==u.servicedata.ServiceConfigs.PlantformConfig.UserBetRebateConfig.Income.length-1?this.ListIntro.addItem({Label1:{text:m+1},Label2:{text:c.GameTool.formatMoneyString(u.servicedata.ServiceConfigs.PlantformConfig.UserBetRebateConfig.Income[m].MinRange)+"+"},Label3:{text:u.servicedata.ServiceConfigs.PlantformConfig.UserBetRebateConfig.Income[m].Rebate/100+"%"}}):this.ListIntro.addItem({Label1:{text:m+1},Label2:{text:c.GameTool.formatMoneyString(u.servicedata.ServiceConfigs.PlantformConfig.UserBetRebateConfig.Income[m].MinRange)+"~"+c.GameTool.formatMoneyString(u.servicedata.ServiceConfigs.PlantformConfig.UserBetRebateConfig.Income[m].MaxRange)},Label3:{text:u.servicedata.ServiceConfigs.PlantformConfig.UserBetRebateConfig.Income[m].Rebate/100+"%"}})}this.ReqRebateRecord()},t.prototype.ReqRebateRecord=function(){p.default.RequestRebateRecord(f.Laya.Handler.create(this,this.RspRebateRecord))},t.prototype.RspRebateRecord=function(e){if(s.LogBase.debug("RspRebateRecord",e,e.data.curBet),0==e.code){if(e.data.curBet>0)for(var t=0;t<u.servicedata.ServiceConfigs.PlantformConfig.UserBetRebateConfig.Income.length;t++)t<u.servicedata.ServiceConfigs.PlantformConfig.UserBetRebateConfig.Income.length-1?(s.LogBase.debug("RspRebateRecord MinRange",e.data.curBet,u.servicedata.ServiceConfigs.PlantformConfig.UserBetRebateConfig.Income[t].MinRange,u.servicedata.ServiceConfigs.PlantformConfig.UserBetRebateConfig.Income[t].MaxRange),e.data.curBet>=u.servicedata.ServiceConfigs.PlantformConfig.UserBetRebateConfig.Income[t].MinRange&&e.data.curBet<=u.servicedata.ServiceConfigs.PlantformConfig.UserBetRebateConfig.Income[t].MaxRange&&(s.LogBase.debug("Rebate",e.data.curBet,u.servicedata.ServiceConfigs.PlantformConfig.UserBetRebateConfig.Income[t].Rebate),this.LabelAmount.text=c.GameTool.formatMoneyNumber(e.data.curBet*u.servicedata.ServiceConfigs.PlantformConfig.UserBetRebateConfig.Income[t].Rebate/1e4).toString())):(s.LogBase.debug("RspRebateRecord2 MinRange",e.data.curBet,u.servicedata.ServiceConfigs.PlantformConfig.UserBetRebateConfig.Income[t].MinRange,u.servicedata.ServiceConfigs.PlantformConfig.UserBetRebateConfig.Income[t].MaxRange),e.data.curBet>=u.servicedata.ServiceConfigs.PlantformConfig.UserBetRebateConfig.Income[t].MinRange&&(this.LabelAmount.text=c.GameTool.formatMoneyNumber(e.data.curBet*u.servicedata.ServiceConfigs.PlantformConfig.UserBetRebateConfig.Income[t].Rebate/1e4).toString()));else 0==e.data.curBet&&(this.LabelAmount.text="0");for(this.ListRecord.array=[],t=0;t<e.data.recordLog.length;t++){s.LogBase.debug("rsp.data.recordLog",t,e.data.recordLog[t]);var n=e.data.recordLog[t].BeginDate,o=e.data.recordLog[t].EndDate,i="",a=!1;f.Laya.Button,0==e.data.recordLog[t].Status?(i="resources/halls/hallph7/res/hallres/wealthclub/collect.png",c.GameTool.formatMoneyNumber(e.data.recordLog[t].Rebate)<.01&&(a=!0)):i="resources/halls/hallph7/res/hallres/wealthclub/Received.png",this.ListRecord.addItem({Label1:{text:n.split(" ")[0]+"~"+o.split(" ")[0]},Label2:{text:c.GameTool.formatMoneyString(e.data.recordLog[t].Amount)},Label3:{text:e.data.recordLog[t].Rate/100+"%"},Label4:{text:c.GameTool.formatMoneyString(e.data.recordLog[t].Rebate)},btnCollect:{skin:i,disabled:a},data:e.data.recordLog[t]})}this.ListRecord.repeatY=this.ListRecord.array.length}},t.prototype.selectHandler=function(){this.recordLog&&this.recordLog.length},t.prototype.getMonthDays=function(e){switch(e){case 1:case 3:case 5:case 7:case 10:case 12:return 31;case 2:return 28;default:return 30}},a([g()],t)}(d.SceneRebateBase7));n.SceneRebate7=m,cc._RF.pop()},{"../halllib/common/ConfigMng":"ConfigMng","../halllib/common/LogBase":"LogBase","../halllib/core/RunData":"RunData","../halllib/laya/Laya":"Laya","../halllib/net/PlatformConfig":"PlatformConfig","../halllib/net/PlatformService":"PlatformService","./LoadingView7":"LoadingView7","./SceneRebate7.generated":"SceneRebate7.generated"}],"SceneRechargeTip7.generated":[function(e,t,n){"use strict";cc._RF.push(t,"f729b6lo2dHZKGob8d6rKsD","SceneRechargeTip7.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.SceneRechargeTipBase7=void 0;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.BoxBg=null,t.ImageBg=null,t.ImageClose=null,t.ImageCashin=null,t}return i(t,e),t}(e("../halllib/laya/Laya").Laya.Scene);n.SceneRechargeTipBase7=a,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],SceneRechargeTip7:[function(e,t,n){"use strict";cc._RF.push(t,"5489f8fgT5PhJnPHA03i0sr","SceneRechargeTip7");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneRechargeTip7=void 0;var s=e("../halllib/common/ConfigMng"),l=e("../halllib/common/Define"),c=e("../halllib/common/LogBase"),u=e("../halllib/net/InnerEvent"),p=r(e("./LoadingView7")),h=e("./SceneRechargeTip7.generated"),d=e("../halllib/laya/Laya"),f=d.Laya.regClass,g=(d.Laya.property,function(e){function t(){return e.call(this)||this}return i(t,e),t.Load=function(e,t){var n=this;this.load(s.ConfigMng.getSceneAddr("SceneRechargeTip7"),null,null).then(function(o){n.s_scene=o,n.s_scene.zOrder=l.Define.ZORDER_DEF.Z_RECHARGE_TIPS,e&&e.runWith(t)})},t.OpenScene=function(e){this.s_scene?e?e.addChild(this.s_scene):d.Laya.stage.addChild(this.s_scene):(p.default.OpenScene(),this.Load(d.Laya.Handler.create(this,this.Show)))},t.Show=function(e){if(p.default.CloseScene(),e){var t=e.addChild(this.s_scene);c.LogBase.log("scenerecharge tips zorder1:",t.zOrder)}else t=d.Laya.stage.addChild(this.s_scene),c.LogBase.log("scenerecharge tips zorder2:",t.zOrder)},t.CloseScene=function(){this.s_scene&&this.s_scene.close()},t.prototype.onAwake=function(){this.BoxBg.on(d.Laya.Event.CLICK,this,this.close),this.ImageBg.on(d.Laya.Event.CLICK,this,function(){}),this.ImageClose.on(d.Laya.Event.CLICK,this,this.close),this.ImageCashin.on(d.Laya.Event.CLICK,this,this.onCashIn)},t.prototype.onCashIn=function(){u.HallEvent.event(u.HallEvent.SHOW_RECHARGE_VIEW),this.close()},a([f()],t)}(h.SceneRechargeTipBase7));n.SceneRechargeTip7=g,cc._RF.pop()},{"../halllib/common/ConfigMng":"ConfigMng","../halllib/common/Define":"Define","../halllib/common/LogBase":"LogBase","../halllib/laya/Laya":"Laya","../halllib/net/InnerEvent":"InnerEvent","./LoadingView7":"LoadingView7","./SceneRechargeTip7.generated":"SceneRechargeTip7.generated"}],"SceneRegist7.generated":[function(e,t,n){"use strict";cc._RF.push(t,"edd96zFhf1LoZV8mSTVFHxe","SceneRegist7.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneRegistBase7=void 0;var r=e("../halllib/laya/Laya"),s=(r.Laya.regClass,r.Laya.property),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.boxBackGround=null,t.ImageBg=null,t.imgClose=null,t.inputAreaNO=null,t.inputPhoneNO=null,t.inputPassword=null,t.inputReferrer=null,t.spConfirme=null,t.spSMSVerify=null,t.btnSend=null,t.inputVeriCode=null,t.spImageVerify=null,t.inputImageCode=null,t.imgSend=null,t}return i(t,e),a([s({type:cc.Node})],t.prototype,"boxBackGround",void 0),a([s({type:cc.Sprite})],t.prototype,"ImageBg",void 0),a([s({type:cc.Sprite})],t.prototype,"imgClose",void 0),a([s({type:cc.EditBox})],t.prototype,"inputAreaNO",void 0),a([s({type:cc.EditBox})],t.prototype,"inputPhoneNO",void 0),a([s({type:cc.EditBox})],t.prototype,"inputPassword",void 0),a([s({type:cc.EditBox})],t.prototype,"inputReferrer",void 0),a([s({type:cc.Node})],t.prototype,"spConfirme",void 0),a([s({type:cc.Node})],t.prototype,"spSMSVerify",void 0),a([s({type:cc.Button})],t.prototype,"btnSend",void 0),a([s({type:cc.EditBox})],t.prototype,"inputVeriCode",void 0),a([s({type:cc.Node})],t.prototype,"spImageVerify",void 0),a([s({type:cc.EditBox})],t.prototype,"inputImageCode",void 0),a([s({type:cc.Button})],t.prototype,"imgSend",void 0),t}(r.Laya.Scene);n.SceneRegistBase7=l,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],SceneRegist7:[function(e,t,n){"use strict";cc._RF.push(t,"95f3390QuxLbpzFFV8VuWwo","SceneRegist7");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneRegist7=void 0;var s=e("./SceneRegist7.generated"),l=e("../halllib/common/ConfigMng"),c=e("../halllib/common/Define"),u=e("../halllib/net/InnerEvent"),p=r(e("../halllib/net/HallMsgProxy")),h=r(e("../halllib/net/PlatformService")),d=r(e("../hall/Tips")),f=e("../halllib/common/Types"),g=r(e("./LoadingView7")),m=e("../halllib/net/PlatformConfig"),y=e("../halllib/common/LogBase"),_=e("../halllib/core/RunData"),v=e("../halllib/laya/Laya"),b=r(e("md5")),S=e("../halllib/net/GameHallMessage"),C=S.GameHallMessage.ERROR_CODE_MSG,I=S.GameHallMessage.MDM_ID,R=S.GameHallMessage.SUB_GH_USERREFRESH,L=cc.EditBox,P=v.Laya.regClass,M=(v.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.Captcha="",t.Verifytoken="",t.CONST_TICKTIME=180,t.timetick=t.CONST_TICKTIME,t.bVerifyCode=!1,t.verifyType=f.E_VERIFY_TYPE.VERIFY_TYPE_NONE,t}var n;return i(t,e),n=t,t.Load=function(e){var t=this;this.s_sceneName="SceneRegist",this.LoadPrefab(e,this.s_sceneName,l.ConfigMng.getSceneAddr(this.s_sceneName),new v.Laya.Handler(this,function(e){console.log("success:",e,t.s_scene),t.s_scene.zOrder=c.Define.ZORDER_DEF.Z_REGISTSCEME}),new v.Laya.Handler(this,function(){y.LogBase.error("LoadScene Error:",l.ConfigMng.getSceneAddr(t.s_sceneName)),u.HallEvent.event(u.HallEvent.LOADING_MSG,"Error:"+t.s_sceneName)}))},t.OpenScene=function(t,n){this.bRegist=n,this.s_scene?e.OpenScene.call(this,t):(g.default.OpenScene(),this.Load(v.Laya.Handler.create(this,this.Show,[t,n])))},t.Show=function(t,n){g.default.CloseScene(),e.Show.call(this,t),this.bRegist=n},t.CloseScene=function(){e.CloseScene.call(this)},t.prototype.onAwake=function(){y.LogBase.log("SceneRegist7 zOrder:",this.zOrder),this.btnSend.node.on(v.Laya.Event.CLICK,this.onSend,this),this.spConfirme.on(v.Laya.Event.CLICK,this.onConfirm,this),this.imgClose.node.on(v.Laya.Event.CLICK,this.close,this),this.imgSend.node.on(v.Laya.Event.CLICK,this.getImageVerify,this),this.bVerifyCode=!1,this.inputPhoneNO.inputMode=L.InputMode.NUMERIC,this.inputVeriCode.inputMode=L.InputMode.NUMERIC,this.inputReferrer.inputMode=L.InputMode.NUMERIC,u.HallEvent.on(u.HallEvent.OPEN_HALL,this,this.close)},t.prototype.onClosed=function(){},t.prototype.onEnable=function(){this.inputAreaNO.string=m.servicedata.ServiceConfigs.PlantformConfig.AreaCode.toString(),this.inputReferrer.string=_.RunData.promoterId.toString(),m.servicedata.ServiceConfigs.PlantformConfig.IsPhoneVerif?(this.spSMSVerify.active=!0,this.spImageVerify.active=!1,this.inputVeriCode.string=""):(this.spSMSVerify.active=!1,this.spImageVerify.active=!0,this.Captcha="",this.Verifytoken="",this.inputImageCode.string=""),this.inputPhoneNO.string="",this.inputPassword.string="",u.HallEvent.on(p.default.getEventString(I.MDM_GH_USERREFRESH,R.SUB_GH_USERINFO_BIND_QUICK_ACCOUNT),this,this.onUserRefresh)},t.prototype.onDisable=function(){u.HallEvent.off(p.default.getEventString(I.MDM_GH_USERREFRESH,R.SUB_GH_USERINFO_BIND_QUICK_ACCOUNT),this,this.onUserRefresh),u.HallEvent.off(u.HallEvent.OPEN_HALL,this,this.close)},t.prototype.onSend=function(){this.timetick<this.CONST_TICKTIME||(""!=this.inputAreaNO.string?this.checkPhoneNum()&&(this.onTimer(),h.default.SMSCodeRequest(this.inputAreaNO.string,this.inputPhoneNO.string,f.SMSCodeType.PhoneRegUser,v.Laya.Handler.create(this,this.onSendRespone))):d.default.SetWarnText(l.ConfigMng.getTips(c.Define.TIPS.INPUT_ERROR_AREANO)))},t.prototype.onSendRespone=function(e){y.LogBase.log("onSendRespone",e),e.msg&&d.default.SetWarnText(l.ConfigMng.getTips(e.msg)),e&&(0==e.code?this.bVerifyCode=!0:(this.bVerifyCode=!1,this.timetick=this.CONST_TICKTIME,v.Laya.timer.clearAll(this)))},t.prototype.onTimer=function(){var e=this;this.timetick=this.CONST_TICKTIME-1;var t=this.btnSend.node.getComponentInChildren(cc.Label);t.string=this.timetick.toString(),v.Laya.timer.loop(1e3,this,function(){e.timetick--,t.string=e.timetick.toString(),0==e.timetick&&(e.timetick=e.CONST_TICKTIME,v.Laya.timer.clearAll(e))})},t.prototype.onConfirm=function(){this.checkPhoneNum()&&(m.servicedata.ServiceConfigs.PlantformConfig.IsPhoneVerif?(this.verifyType=f.E_VERIFY_TYPE.VERIFY_TYPE_SMS,this.onConfirmSmsRegist()):(this.verifyType=f.E_VERIFY_TYPE.VERIFY_TYPE_IMAGE,this.onConfirmIamgeRegist()))},t.prototype.onConfirmSmsRegist=function(){this.checkPhoneNum()&&(this.inputPassword.string.length<6?d.default.SetWarnText(l.ConfigMng.getTips(c.Define.TIPS.INPUT_ERROR_PASSWD_TOO_LESS)):h.default.SMSVerifyRequest(this.inputAreaNO.string,this.inputPhoneNO.string,f.SMSCodeType.PhoneRegUser,this.inputVeriCode.string,v.Laya.Handler.create(this,this.onSMSVerifyRsp)))},t.prototype.onSMSVerifyRsp=function(e){y.LogBase.log("onSMSVerifyRsp",e),0==e.code?(this.bVerifyCode=!0,n.bRegist?p.default.sendRegister(this.inputPhoneNO.string,this.inputPassword.string,this.inputVeriCode.string,e.data.verifyToken,f.E_VERIFY_TYPE.VERIFY_TYPE_SMS,Number(this.inputReferrer.string)):p.default.BindAccount(this.inputPhoneNO.string,this.inputPassword.string,this.inputVeriCode.string,e.data.verifyToken)):d.default.SetWarnText(e.msg)},t.prototype.onUserRefresh=function(e){y.LogBase.log("onUserRefresh",e),0==e?(n.bRegist?(d.default.SetText(l.ConfigMng.getTips(c.Define.TIPS.REGIST_SUCCEED)),_.RunData.myUserInfo.szName=Number(this.inputPhoneNO.string).toString()):(d.default.SetText(l.ConfigMng.getTips(c.Define.TIPS.BIND_SUCCEED)),_.RunData.myUserInfo.szName=Number(this.inputPhoneNO.string).toString()),this.close()):d.default.SetWarnText(C.getCodeMsg(e))},t.prototype.getImageVerify=function(){this.checkPhoneNum()&&h.default.ImageVerifyRequest(this.inputPhoneNO.string,v.Laya.Handler.create(this,this.onRspImageVerify))},t.prototype.onRspImageVerify=function(e){this.Captcha=e.Captcha,this.Verifytoken=e.Verifytoken},t.prototype.onConfirmIamgeRegist=function(){this.checkPhoneNum()&&(this.inputPassword.string.length<6?d.default.SetWarnText(l.ConfigMng.getTips(c.Define.TIPS.INPUT_ERROR_PASSWD_TOO_LESS)):this.inputImageCode.string.length<4?d.default.SetWarnText(l.ConfigMng.getTips(c.Define.TIPS.INPUT_ERROR_VERIFYCODE)):b.default(this.inputImageCode.string)==this.Captcha?n.bRegist?p.default.sendRegister(this.inputPhoneNO.string,this.inputPassword.string,this.inputImageCode.string,this.Verifytoken,f.E_VERIFY_TYPE.VERIFY_TYPE_IMAGE,Number(this.inputReferrer.string)):p.default.BindAccount(this.inputPhoneNO.string,this.inputPassword.string,this.inputImageCode.string,this.Verifytoken):d.default.SetWarnText(l.ConfigMng.getTips(c.Define.TIPS.INPUT_ERROR_VERIFYCODE)))},t.prototype.checkPhoneNum=function(){return this.inputPhoneNO.string=Number(this.inputPhoneNO.string).toString(),this.inputPhoneNO.string.length<l.ConfigMng.hallconfigJson.regist.phoneminlen||this.inputPhoneNO.string.length>l.ConfigMng.hallconfigJson.regist.phonemaxlen?(d.default.SetWarnText(l.ConfigMng.getTips(c.Define.TIPS.INPUT_ERROR_PHONENO)),!1):"9"==this.inputPhoneNO.string.charAt(0)||(d.default.SetWarnText(l.ConfigMng.getTips(c.Define.TIPS.INPUT_ERROR_PHONENO)),!1)},t.prototype.close=function(){n.s_scene=null,console.log("SceneRegist7 close",this,n.s_scene),e.prototype.close.call(this)},t.bRegist=!0,n=a([P()],t)}(s.SceneRegistBase7));n.SceneRegist7=M,cc._RF.pop()},{"../hall/Tips":"Tips","../halllib/common/ConfigMng":"ConfigMng","../halllib/common/Define":"Define","../halllib/common/LogBase":"LogBase","../halllib/common/Types":"Types","../halllib/core/RunData":"RunData","../halllib/laya/Laya":"Laya","../halllib/net/GameHallMessage":"GameHallMessage","../halllib/net/HallMsgProxy":"HallMsgProxy","../halllib/net/InnerEvent":"InnerEvent","../halllib/net/PlatformConfig":"PlatformConfig","../halllib/net/PlatformService":"PlatformService","./LoadingView7":"LoadingView7","./SceneRegist7.generated":"SceneRegist7.generated",md5:44}],"SceneReward7.generated":[function(e,t,n){"use strict";cc._RF.push(t,"1ff6dwJJAhIg5bWDtnqadLr","SceneReward7.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneRewardBase7=void 0;var r=e("../halllib/laya/Laya"),s=(r.Laya.regClass,r.Laya.property),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Imageray=null,t.LabelMoney=null,t.btnCollect=null,t}return i(t,e),a([s(cc.Sprite)],t.prototype,"Imageray",void 0),a([s(cc.Label)],t.prototype,"LabelMoney",void 0),a([s(cc.Button)],t.prototype,"btnCollect",void 0),t}(r.Laya.Scene);n.SceneRewardBase7=l,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],SceneReward7:[function(e,t,n){"use strict";cc._RF.push(t,"3b46ep50OdMbbRbblGi2sus","SceneReward7");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneReward7=void 0;var s=r(e("../hall/AniMng")),l=e("../halllib/common/ConfigMng"),c=r(e("./LoadingView7")),u=e("./SceneReward7.generated"),p=e("../halllib/laya/Laya"),h=e("../halllib/common/LogBase"),d=e("../halllib/net/InnerEvent"),f=e("../hallph6/SceneMainHall6"),g=p.Laya.regClass,m=(p.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.bPlay=!1,t.RewardMoney="",t}var n;return i(t,e),n=t,t.Load=function(e,t){var n=this;this.s_sceneName="SceneReward",this.LoadPrefab(e,t,l.ConfigMng.getSceneAddr(this.s_sceneName),new p.Laya.Handler(this,function(e){console.log("success:",e,n.s_scene)}),new p.Laya.Handler(this,function(){h.LogBase.error("LoadScene Error:",l.ConfigMng.getSceneAddr(n.s_sceneName)),d.HallEvent.event(d.HallEvent.LOADING_MSG,"Error:"+n.s_sceneName)}))},t.OpenScene=function(t,n){Number(n)<=0||(this.s_scene?(this.s_scene.RewardMoney=n,e.OpenScene.call(this,t)):(c.default.OpenScene(),this.Load(p.Laya.Handler.create(this,this.Show,[t,n]))))},t.Show=function(t,n){c.default.CloseScene(),this.s_scene.RewardMoney=n,e.Show.call(this,t)},t.CloseScene=function(){e.CloseScene.call(this)},t.prototype.onAwake=function(){this.btnCollect.node.on(p.Laya.Event.CLICK,this.onCollect,this)},t.prototype.onEnable=function(){var e=this;this.bPlay=!1,this.LabelMoney.string=this.RewardMoney,this.Imageray.node.angle=0,cc.tween(this.Imageray.node).to(1,{angle:-1800}).call(function(){e.onCollect()}).start()},t.prototype.onCollect=function(){if(!this.bPlay){this.bPlay=!0;var e=[this.Imageray.node.parent.convertToWorldSpaceAR(this.Imageray.node.position),this.btnCollect.node.parent.convertToWorldSpaceAR(this.node.position),f.SceneMainHall6.s_scene.ImageFreshMoney.node.parent.convertToWorldSpaceAR(f.SceneMainHall6.s_scene.ImageFreshMoney.node.position)];s.default.playLuckCoin(this.RewardMoney,e),this.close()}},t.prototype.close=function(){n.s_scene=null,console.log("SceneSetting6 close",this,n.s_scene),e.prototype.close.call(this)},n=a([g()],t)}(u.SceneRewardBase7));n.SceneReward7=m,cc._RF.pop()},{"../hall/AniMng":"AniMng","../halllib/common/ConfigMng":"ConfigMng","../halllib/common/LogBase":"LogBase","../halllib/laya/Laya":"Laya","../halllib/net/InnerEvent":"InnerEvent","../hallph6/SceneMainHall6":"SceneMainHall6","./LoadingView7":"LoadingView7","./SceneReward7.generated":"SceneReward7.generated"}],SceneRouter:[function(e,t){"use strict";cc._RF.push(t,"6e80bGs1+dBzrSAIv9HvBAe","SceneRouter"),cc._RF.pop()},{}],"SceneRule7.generated":[function(e,t,n){"use strict";cc._RF.push(t,"56118ZOZ2lMMpGwxdISgHYM","SceneRule7.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneRuleBase7=void 0;var r=e("../halllib/laya/Laya"),s=(r.Laya.regClass,r.Laya.property),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.BoxBg=null,t.ImageBg=null,t.ImgClose=null,t}return i(t,e),a([s(cc.Node)],t.prototype,"BoxBg",void 0),a([s(cc.Sprite)],t.prototype,"ImageBg",void 0),a([s(cc.Sprite)],t.prototype,"ImgClose",void 0),t}(r.Laya.Scene);n.SceneRuleBase7=l,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],SceneRule7:[function(e,t,n){"use strict";cc._RF.push(t,"9a34cQ4M4NLsZ5Z1Zrsxbq8","SceneRule7");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneRule7=void 0;var s=e("../halllib/common/ConfigMng"),l=r(e("./LoadingView7")),c=e("./SceneRule7.generated"),u=e("../halllib/laya/Laya"),p=e("../halllib/common/LogBase"),h=e("../halllib/net/InnerEvent"),d=u.Laya.regClass,f=(u.Laya.property,function(e){function t(){return e.call(this)||this}var n;return i(t,e),n=t,t.Load=function(e){var t=this;this.s_sceneName="SceneRule",this.LoadPrefab(e,this.s_sceneName,s.ConfigMng.getSceneAddr(this.s_sceneName),new u.Laya.Handler(this,function(e){console.log("success:",e,t.s_scene)}),new u.Laya.Handler(this,function(){p.LogBase.error("LoadScene Error:",s.ConfigMng.getSceneAddr(t.s_sceneName)),h.HallEvent.event(h.HallEvent.LOADING_MSG,"Error:"+t.s_sceneName)}))},t.OpenScene=function(t){this.s_scene?e.OpenScene.call(this,t):(l.default.OpenScene(),this.Load(u.Laya.Handler.create(this,this.Show,[t])))},t.Show=function(t){l.default.CloseScene(),e.Show.call(this,t)},t.CloseScene=function(){e.CloseScene.call(this)},t.prototype.onAwake=function(){this.BoxBg.on(u.Laya.Event.CLICK,this.close,this),this.ImageBg.node.on(u.Laya.Event.CLICK,function(){},this),this.ImgClose.node.on(u.Laya.Event.CLICK,this.close,this)},t.prototype.close=function(){n.s_scene=null,console.log("SceneService6 close",this,n.s_scene),e.prototype.close.call(this)},n=a([d()],t)}(c.SceneRuleBase7));n.SceneRule7=f,cc._RF.pop()},{"../halllib/common/ConfigMng":"ConfigMng","../halllib/common/LogBase":"LogBase","../halllib/laya/Laya":"Laya","../halllib/net/InnerEvent":"InnerEvent","./LoadingView7":"LoadingView7","./SceneRule7.generated":"SceneRule7.generated"}],"SceneSelectGame6.generated":[function(e,t,n){"use strict";cc._RF.push(t,"f5963NzPKVPnIbHD+BSU/hw","SceneSelectGame6.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.SceneSelectGameBase6=void 0;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ImageClose=null,t}return i(t,e),t}(e("../halllib/laya/Laya").Laya.Scene);n.SceneSelectGameBase6=a,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],SceneSelectGame6:[function(e,t,n){"use strict";cc._RF.push(t,"e0da60cYuNLyYb6Q9XBt/QI","SceneSelectGame6");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneSelectGame6=void 0;var s=r(e("../hall/GameList")),l=e("../halllib/common/ConfigMng"),c=e("../halllib/common/Define"),u=e("../halllib/common/LogBase"),p=r(e("../hallph7/LoadingView7")),h=e("./SceneSelectGame6.generated"),d=e("../halllib/laya/Laya"),f=d.Laya.regClass,g=(d.Laya.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.text="",t.index=-1,t.listGameMap=[],t}return i(t,e),t.Load=function(e){var t=this;this.load(l.ConfigMng.getSceneAddr("SceneSelectGame"),null,null).then(function(n){t.s_scene=n,t.s_scene.zOrder=c.Define.ZORDER_DEF.Z_SERVICE,e&&e.run()})},t.OpenScene=function(e,t){this.s_scene?(u.LogBase.debug("SelectGame OpenScene index",t),t&&this.s_scene.index!=t&&(this.s_scene.index=t,this.s_scene.InitList()),e?e.addChild(this.s_scene):d.Laya.stage.addChild(this.s_scene)):(p.default.OpenScene(),this.Load(d.Laya.Handler.create(this,this.Show,[e,t])))},t.Show=function(e,t){p.default.CloseScene(),u.LogBase.debug("SelectGame Show index",t),t&&this.s_scene.index!=t&&(this.s_scene.index=t,this.s_scene.InitList()),e?e.addChild(this.s_scene):d.Laya.stage.addChild(this.s_scene)},t.CloseScene=function(){this.s_scene&&this.s_scene.close()},t.prototype.onAwake=function(){var e=this;this.ImageClose.on(d.Laya.Event.CLICK,this,function(){e.close()}),this.InitList()},t.prototype.onEnable=function(){},t.prototype.InitList=function(){if(this.index>=l.ConfigMng.gamelist.menu.length&&this.index<0)u.LogBase.error("InitList",this.index,l.ConfigMng.gamelist.menu.length);else{for(var e=!1,t=0;t<this.listGameMap.length;t++)this.listGameMap[t].index==this.index?(this.listGameMap[t].listGame.visible=!0,e=!0):this.listGameMap[t].listGame.visible=!1;if(!e){var n=new s.default;for(u.LogBase.debug("GameList InitList",this.index,l.ConfigMng.gamelist.menu.length,l.ConfigMng.gamelist.menu[this.index]),t=0;t<l.ConfigMng.gamelist.menu.length;t++)u.LogBase.debug("GameList InitList",t,l.ConfigMng.gamelist.menu.length,l.ConfigMng.gamelist.menu[t]);n.SetData(l.ConfigMng.gamelist.menu[this.index]),n.Load(),n.x=51,n.y=184,n.width=1273,n.height=500,n.visible=!0,this.addChild(n),this.listGameMap.push({index:this.index,listGame:n})}}},a([f()],t)}(h.SceneSelectGameBase6));n.SceneSelectGame6=g,cc._RF.pop()},{"../hall/GameList":"GameList","../halllib/common/ConfigMng":"ConfigMng","../halllib/common/Define":"Define","../halllib/common/LogBase":"LogBase","../halllib/laya/Laya":"Laya","../hallph7/LoadingView7":"LoadingView7","./SceneSelectGame6.generated":"SceneSelectGame6.generated"}],"SceneSellectRoom6.generated":[function(e,t,n){"use strict";cc._RF.push(t,"8d4b66YNT9PYLTNe6ccd1SY","SceneSellectRoom6.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.SceneSellectRoomBase6=void 0;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.BoxBg=null,t.Imagebg=null,t.Imageclose=null,t.ButtonStart=null,t.ListRoom=null,t.ImageRoomBg=null,t.ImageFlag=null,t.LabelBoot=null,t.LabelMiniEntry=null,t}return i(t,e),t}(e("../halllib/laya/Laya").Laya.Scene);n.SceneSellectRoomBase6=a,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],SceneSellectRoom6:[function(e,t,n){"use strict";cc._RF.push(t,"42360r3DRBFYqM+C9NjpWvd","SceneSellectRoom6");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneSellectRoom6=void 0;var s=r(e("../halllib/net/PlatformService")),l=e("./SceneSellectRoom6.generated"),c=e("../halllib/net/InnerEvent"),u=e("../halllib/core/RunData"),p=e("../halllib/common/Define"),h=r(e("../hall/LoadH5Game")),d=e("../halllib/common/ConfigMng"),f=e("../halllib/common/LogBase"),g=r(e("../hallph7/LoadingView7")),m=e("../halllib/laya/Laya"),y=m.Laya.regClass,_=(m.Laya.property,function(e){function t(){return e.call(this)||this}return i(t,e),t.Load=function(e,t){var n=this;this.load(d.ConfigMng.getSceneAddr("SceneSellectRoom"),null,null).then(function(o){n.s_scene=o,e&&e.runWith(t)})},t.OpenScene=function(e,t,n){f.LogBase.log("OpenScene",this.s_scene),this.s_scene?(this.s_scene.Init(t,n),e?e.addChild(this.s_scene):m.Laya.stage.addChild(this.s_scene)):(g.default.OpenScene(),this.Load(m.Laya.Handler.create(this,this.Show,[e,t,n])))},t.Show=function(e,t,n){g.default.CloseScene(),this.s_scene&&(this.s_scene.Init(t,n),e?e.addChild(this.s_scene):m.Laya.stage.addChild(this.s_scene))},t.CloseScene=function(){this.s_scene&&this.s_scene.close()},t.prototype.onEnable=function(){this.BoxBg.on(m.Laya.Event.CLICK,this,this.close),this.Imagebg.on(m.Laya.Event.CLICK,this,function(){}),this.Imageclose.on(m.Laya.Event.CLICK,this,this.close),this.ButtonStart.on(m.Laya.Event.CLICK,this,this.onStart),this.ListRoom.selectEnable=!0,this.ListRoom.selectHandler=new m.Laya.Handler(this,this.onSelect),this.ListRoom.on(m.Laya.Event.CLICK,this,this.onStart)},t.prototype.Init=function(e,t){if(this.bSelfGame=t,t){var n=e;if(n.sort(function(e,t){return e.iRoomLevel-t.iRoomLevel}),f.LogBase.debug("selectroom init roomInfoList:",n),n){this.ListRoom.array=[];for(var o=0;o<n.length;o++){var i=n[o].iRoomLevel-1;(r=(i=i<0?0:i)%3)>2&&(r=2);var a=o%4;this.ListRoom.addItem({LabelBoot:{text:u.GameTool.formatMoneyString(n[o].iLessPoint)},LabelMiniEntry:{text:u.GameTool.formatMoneyString(n[o].iLessMoney2Enter.toNumber())},ImageRoomBg:{skin:d.ConfigMng.gamelistJson.gameroom.bg[r]},ImageFlag:{skin:d.ConfigMng.gamelistJson.gameroom.flag[a],visible:!(o>3)},mData:n[o]})}}}else if(this.data=e,e&&e.list)for(this.ListRoom.array=[],o=0;o<e.list.length;o++){var r;(r=o%4)>2&&(r=2),a=o%4,this.ListRoom.addItem({LabelBoot:{text:u.GameTool.formatMoneyString(e.list[o].MinBet)},LabelMiniEntry:{text:u.GameTool.formatMoneyString(e.list[o].MaxBet)},ImageRoomBg:{skin:d.ConfigMng.gamelistJson.gameroom.bg[r]},ImageFlag:{skin:d.ConfigMng.gamelistJson.gameroom.flag[a],visible:!(o>3)},mData:e.list[o]})}},t.prototype.onSelect=function(e){f.LogBase.log("onSelect",e)},t.prototype.onStart=function(){var e=this.ListRoom.getItem(this.ListRoom.selectedIndex);if(f.LogBase.log("onStart",this.ListRoom.selectedIndex,e),null!=e&&null!=e.mData&&null!=e.mData)if(this.bSelfGame){var t=e.mData;if(u.RunData.myUserInfo.dwMoney<t.iLessMoney2Enter.toNumber())return void c.HallEvent.event(c.HallEvent.SHOW_WAITTING_MSG,"ERROR_CODE_1001");if(t.iMaxMoney2Enter.toNumber()>0&&u.RunData.myUserInfo.dwMoney>t.iMaxMoney2Enter.toNumber())return void c.HallEvent.event(c.HallEvent.SHOW_WAITTING_MSG,"ERROR_CODE_1002");c.HallEvent.event(c.HallEvent.LOAD_GAME,[t.uNameID.toString(),t.uRoomID,t.iRoomLevel])}else if(f.LogBase.log("select item:",e.mData),u.RunData.myUserInfo.dwMoney<e.mData.MinBet){var n=d.ConfigMng.getTips(p.Define.TIPS.LOGIN_GAME_ERROR1)+u.GameTool.formatMoneyString(e.mData.MinBet)+d.ConfigMng.getTips(p.Define.TIPS.LOGIN_GAME_ERROR2);c.HallEvent.event(c.HallEvent.SHOW_MESSAGE,n)}else u.RunData.myUserInfo.dwMoney>e.mData.MaxBet?(n=d.ConfigMng.getTips(p.Define.TIPS.LOGIN_GAME_ERROR3),c.HallEvent.event(c.HallEvent.SHOW_MESSAGE,n)):s.default.Login3thGameRequst(e.mData.PlatformType,e.mData.GameID,e.mData.GameCode,m.Laya.Handler.create(this,this.onLoginGame,[e.mData.GameID]))},t.prototype.onLoginGame=function(e,t){if(f.LogBase.log("onLoginGame",e,t),null!=t){var n=JSON.parse(t);0==n.code?h.default.LoadGame(e,n.data.gameUrl,n.data.screenModel):(c.HallEvent.dispatcher.event(c.HallEvent.CLOSE_WAITTING_MSG),c.HallEvent.dispatcher.event(c.HallEvent.SHOW_MESSAGE,[n.msg,!0]))}},a([y()],t)}(l.SceneSellectRoomBase6));n.SceneSellectRoom6=_,cc._RF.pop()},{"../hall/LoadH5Game":"LoadH5Game","../halllib/common/ConfigMng":"ConfigMng","../halllib/common/Define":"Define","../halllib/common/LogBase":"LogBase","../halllib/core/RunData":"RunData","../halllib/laya/Laya":"Laya","../halllib/net/InnerEvent":"InnerEvent","../halllib/net/PlatformService":"PlatformService","../hallph7/LoadingView7":"LoadingView7","./SceneSellectRoom6.generated":"SceneSellectRoom6.generated"}],"SceneSellectRoom7.generated":[function(e,t,n){"use strict";cc._RF.push(t,"8a208bCoiRGcr8YvM1w8hAz","SceneSellectRoom7.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.SceneSellectRoomBase7=void 0;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.BoxBg=null,t.Imagebg=null,t.Imageclose=null,t.ImageStart=null,t.ListRoom=null,t.ImageRoomBg=null,t.ImageFlag=null,t.LabelBoot=null,t.LabelMiniEntry=null,t}return i(t,e),t}(e("../halllib/laya/Laya").Laya.Scene);n.SceneSellectRoomBase7=a,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],SceneSellectRoom7:[function(e,t,n){"use strict";cc._RF.push(t,"8daf1vrwZBAJJeY11H9F7ne","SceneSellectRoom7");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneSellectRoom7=void 0;var s=r(e("../halllib/net/PlatformService")),l=e("./SceneSellectRoom7.generated"),c=e("../halllib/net/InnerEvent"),u=e("../halllib/core/RunData"),p=e("../halllib/common/Define"),h=r(e("../hall/LoadH5Game")),d=e("../halllib/common/ConfigMng"),f=e("../halllib/common/LogBase"),g=r(e("./LoadingView7")),m=e("../halllib/laya/Laya"),y=m.Laya.regClass,_=(m.Laya.property,function(e){function t(){return e.call(this)||this}return i(t,e),t.Load=function(e,t){var n=this;this.load(d.ConfigMng.getSceneAddr("SceneSellectRoom"),null,null).then(function(o){n.s_scene=o,e&&e.runWith(t)})},t.OpenScene=function(e,t,n){f.LogBase.log("OpenScene",this.s_scene),this.s_scene?(this.s_scene.Init(t,n),e?e.addChild(this.s_scene):m.Laya.stage.addChild(this.s_scene)):(g.default.OpenScene(),this.Load(m.Laya.Handler.create(this,this.Show,[e,t,n])))},t.Show=function(e,t,n){g.default.CloseScene(),this.s_scene&&(this.s_scene.Init(t,n),e?e.addChild(this.s_scene):m.Laya.stage.addChild(this.s_scene))},t.CloseScene=function(){this.s_scene&&this.s_scene.close()},t.prototype.onEnable=function(){this.BoxBg.on(m.Laya.Event.CLICK,this,this.close),this.Imagebg.on(m.Laya.Event.CLICK,this,function(){}),this.Imageclose.on(m.Laya.Event.CLICK,this,this.close),this.ImageStart.on(m.Laya.Event.CLICK,this,this.onStart),this.ListRoom.selectEnable=!0,this.ListRoom.selectHandler=new m.Laya.Handler(this,this.onSelect),this.ListRoom.on(m.Laya.Event.CLICK,this,this.onStart)},t.prototype.Init=function(e,t){if(this.bSelfGame=t,t){var n=e;if(n.sort(function(e,t){return e.iRoomLevel-t.iRoomLevel}),f.LogBase.debug("selectroom init roomInfoList:",n),n){this.ListRoom.array=[];for(var o=0;o<n.length;o++){var i=n[o].iRoomLevel-1;(r=(i=i<0?0:i)%3)>2&&(r=2);var a=o%4;this.ListRoom.addItem({LabelBoot:{text:u.GameTool.formatMoneyString(n[o].iLessPoint)},LabelMiniEntry:{text:u.GameTool.formatMoneyString(n[o].iLessMoney2Enter.toNumber())},ImageRoomBg:{skin:d.ConfigMng.gamelistJson.gameroom.bg[r]},ImageFlag:{skin:d.ConfigMng.gamelistJson.gameroom.flag[a],visible:!(o>3)},mData:n[o]})}}}else if(this.data=e,e&&e.list)for(this.ListRoom.array=[],o=0;o<e.list.length;o++){var r;(r=o%4)>2&&(r=2),a=o%4,this.ListRoom.addItem({LabelBoot:{text:u.GameTool.formatMoneyString(e.list[o].MinBet)},LabelMiniEntry:{text:u.GameTool.formatMoneyString(e.list[o].MaxBet)},ImageRoomBg:{skin:d.ConfigMng.gamelistJson.gameroom.bg[r]},ImageFlag:{skin:d.ConfigMng.gamelistJson.gameroom.flag[a],visible:!(o>3)},mData:e.list[o]})}},t.prototype.onSelect=function(e){f.LogBase.log("onSelect",e)},t.prototype.onStart=function(){var e=this.ListRoom.getItem(this.ListRoom.selectedIndex);if(f.LogBase.log("onStart",this.ListRoom.selectedIndex,e),null!=e&&null!=e.mData&&null!=e.mData)if(this.bSelfGame){var t=e.mData;if(u.RunData.myUserInfo.dwMoney<t.iLessMoney2Enter.toNumber())return void c.HallEvent.event(c.HallEvent.SHOW_WAITTING_MSG,"ERROR_CODE_1001");if(t.iMaxMoney2Enter.toNumber()>0&&u.RunData.myUserInfo.dwMoney>t.iMaxMoney2Enter.toNumber())return void c.HallEvent.event(c.HallEvent.SHOW_WAITTING_MSG,"ERROR_CODE_1002");c.HallEvent.event(c.HallEvent.LOAD_GAME,[t.uNameID.toString(),t.uRoomID,t.iRoomLevel])}else if(f.LogBase.log("select item:",e.mData),u.RunData.myUserInfo.dwMoney<e.mData.MinBet){var n=d.ConfigMng.getTips(p.Define.TIPS.LOGIN_GAME_ERROR1)+u.GameTool.formatMoneyString(e.mData.MinBet)+d.ConfigMng.getTips(p.Define.TIPS.LOGIN_GAME_ERROR2);c.HallEvent.event(c.HallEvent.SHOW_MESSAGE,n)}else u.RunData.myUserInfo.dwMoney>e.mData.MaxBet?(n=d.ConfigMng.getTips(p.Define.TIPS.LOGIN_GAME_ERROR3),c.HallEvent.event(c.HallEvent.SHOW_MESSAGE,n)):s.default.Login3thGameRequst(e.mData.PlatformType,e.mData.GameID,e.mData.GameCode,m.Laya.Handler.create(this,this.onLoginGame,[e.mData.GameID]))},t.prototype.onLoginGame=function(e,t){if(f.LogBase.log("onLoginGame",e,t),null!=t){var n=JSON.parse(t);0==n.code?h.default.LoadGame(e,n.data.gameUrl,n.data.screenModel):(c.HallEvent.dispatcher.event(c.HallEvent.CLOSE_WAITTING_MSG),c.HallEvent.dispatcher.event(c.HallEvent.SHOW_MESSAGE,[n.msg,!0]))}},a([y()],t)}(l.SceneSellectRoomBase7));n.SceneSellectRoom7=_,cc._RF.pop()},{"../hall/LoadH5Game":"LoadH5Game","../halllib/common/ConfigMng":"ConfigMng","../halllib/common/Define":"Define","../halllib/common/LogBase":"LogBase","../halllib/core/RunData":"RunData","../halllib/laya/Laya":"Laya","../halllib/net/InnerEvent":"InnerEvent","../halllib/net/PlatformService":"PlatformService","./LoadingView7":"LoadingView7","./SceneSellectRoom7.generated":"SceneSellectRoom7.generated"}],"SceneService6.generated":[function(e,t,n){"use strict";cc._RF.push(t,"0e13fy3OvhJXos0Jrbo6PgA","SceneService6.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneServiceBase6=void 0;var s=e("../halllib/laya/Laya"),l=r(e("../../main/scripts/components/vitruallist/List")),c=(s.Laya.regClass,s.Laya.property),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.boxBackGround=null,t.ImageBg=null,t.ImgClose=null,t.Tab1=null,t.Tab2=null,t.ViewStack=null,t.ListFaq=null,t.labAnswer=null,t.btnTelegram=null,t.btnFacebook=null,t.btnWhatsapp=null,t.preTabNode=null,t}return i(t,e),a([c(cc.Node)],t.prototype,"boxBackGround",void 0),a([c(cc.Sprite)],t.prototype,"ImageBg",void 0),a([c(cc.Sprite)],t.prototype,"ImgClose",void 0),a([c(cc.Node)],t.prototype,"Tab1",void 0),a([c(cc.Node)],t.prototype,"Tab2",void 0),a([c(cc.Node)],t.prototype,"ViewStack",void 0),a([c(l.default)],t.prototype,"ListFaq",void 0),a([c(cc.Label)],t.prototype,"labAnswer",void 0),a([c(cc.Sprite)],t.prototype,"btnTelegram",void 0),a([c(cc.Sprite)],t.prototype,"btnFacebook",void 0),a([c(cc.Sprite)],t.prototype,"btnWhatsapp",void 0),a([c(cc.Node)],t.prototype,"preTabNode",void 0),t}(s.Laya.Scene);n.SceneServiceBase6=u,cc._RF.pop()},{"../../main/scripts/components/vitruallist/List":"List","../halllib/laya/Laya":"Laya"}],SceneService6:[function(e,t,n){"use strict";cc._RF.push(t,"581540ALUNK75y3pR/x+dIa","SceneService6");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneService6=void 0;var s=e("./SceneService6.generated"),l=e("../halllib/common/ConfigMng"),c=e("../halllib/net/PlatformConfig"),u=r(e("../hallph7/LoadingView7")),p=e("../halllib/common/Tools"),h=e("../halllib/common/Define"),d=e("../halllib/laya/Laya"),f=e("../halllib/common/LogBase"),g=e("../halllib/net/InnerEvent"),m=e("./PrefabTab6"),y=d.Laya.regClass,_=(d.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.tabrotation=0,t.tabx=0,t.taby=0,t.labels="",t.direction="",t.skin="",t.bgskin="",t.bgX=0,t.bgY=0,t.preTab=null,t.ListFaqArray=[],t}var n;return i(t,e),n=t,t.Load=function(e){var t=this;this.s_sceneName="SceneService",this.LoadPrefab(e,this.s_sceneName,l.ConfigMng.getSceneAddr(this.s_sceneName),new d.Laya.Handler(this,function(e){console.log("success:",e,t.s_scene),t.s_scene.zOrder=h.Define.ZORDER_DEF.Z_SERVICE}),new d.Laya.Handler(this,function(){f.LogBase.error("LoadScene Error:",l.ConfigMng.getSceneAddr(t.s_sceneName)),g.HallEvent.event(g.HallEvent.LOADING_MSG,"Error:"+t.s_sceneName)}))},t.OpenScene=function(t){this.s_scene?e.OpenScene.call(this,t):(u.default.OpenScene(),this.Load(d.Laya.Handler.create(this,this.Show,[t])))},t.Show=function(t){u.default.CloseScene(),e.Show.call(this,t)},t.CloseScene=function(){e.CloseScene.call(this)},t.prototype.onListRender=function(e,t){var n=this.ListFaqArray[t];console.log("onListRender:",n);var o=e.getChildByName("labQuestion"),i=e.getChildByName("labAnswer"),a=o.getComponent(cc.Label),r=i.getComponent(cc.Label);a.string=n.labQuestion.text,r.string=n.labAnswer.text},t.prototype.onAwake=function(){this.preTab=this.preTabNode.getComponent(m.PrefabTab6),this.preTab.labels="Faq,Costomer",this.preTab.updateList(),this.btnFacebook.node.on(d.Laya.Event.CLICK,this.onFaceBook,this),this.btnTelegram.node.on(d.Laya.Event.CLICK,this.onTelegram,this),this.btnWhatsapp.node.on(d.Laya.Event.CLICK,this.onWhatsApp,this),this.boxBackGround.on(d.Laya.Event.CLICK,this.close,this),this.ImgClose.node.on(d.Laya.Event.CLICK,this.close,this),this.ImageBg.node.on(d.Laya.Event.CLICK,function(){},this),this.preTab.clickHandler=d.Laya.Handler.create(this,this.onTab,null,!1),this.preTab.selectedIndex=0,this.Tab1.active=!0,this.Tab2.active=!1,this.customerUrl=c.servicedata.ServiceConfigs.PlantformConfig.GameAppConfig.CustomerService.split(","),this.InitFaqData()},t.prototype.InitFaqData=function(){this.ListFaqArray=[],console.log("servicedata.TFAQData.list.length",c.servicedata.TFAQData.list);for(var e=0;e<c.servicedata.TFAQData.list.length;e++){var t=c.servicedata.TFAQData.list[e];null!=t&&this.ListFaqArray.push({labQuestion:{text:t.Question},labAnswer:{text:t.Answer}})}this.ListFaq.numItems=c.servicedata.TFAQData.list.length},t.prototype.onTab=function(){console.log("onTab",this.preTab.selectedIndex),0==this.preTab.selectedIndex?(this.Tab1.active=!0,this.Tab2.active=!1):(this.Tab1.active=!1,this.Tab2.active=!0)},t.prototype.onFaceBook=function(){null!=this.customerUrl&&null!=this.customerUrl.length&&this.customerUrl.length>0&&d.Laya.Browser.window.open(this.customerUrl[0])},t.prototype.onTelegram=function(){null!=this.customerUrl&&null!=this.customerUrl.length&&this.customerUrl.length>1&&p.BrowserUtil.openNewPage(this.customerUrl[1])},t.prototype.onWhatsApp=function(){null!=this.customerUrl&&null!=this.customerUrl.length&&this.customerUrl.length>2&&d.Laya.Browser.window.open(this.customerUrl[2])},t.prototype.close=function(){n.s_scene=null,console.log("SceneService6 close",this,n.s_scene),e.prototype.close.call(this)},n=a([y()],t)}(s.SceneServiceBase6));n.SceneService6=_,cc._RF.pop()},{"../halllib/common/ConfigMng":"ConfigMng","../halllib/common/Define":"Define","../halllib/common/LogBase":"LogBase","../halllib/common/Tools":"Tools","../halllib/laya/Laya":"Laya","../halllib/net/InnerEvent":"InnerEvent","../halllib/net/PlatformConfig":"PlatformConfig","../hallph7/LoadingView7":"LoadingView7","./PrefabTab6":"PrefabTab6","./SceneService6.generated":"SceneService6.generated"}],"SceneService7.generated":[function(e,t,n){"use strict";cc._RF.push(t,"27f15hl8eRAdL1PtIzouZVV","SceneService7.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.SceneServiceBase7=void 0;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.boxBackGround=null,t.ImageBg=null,t.ImgClose=null,t.Tab=null,t.ViewStack=null,t.ListFaq=null,t.labAnswer=null,t.btnTelegram=null,t.btnFacebook=null,t.btnWhatsapp=null,t.SpriteTab=null,t}return i(t,e),t}(e("../halllib/laya/Laya").Laya.Scene);n.SceneServiceBase7=a,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],SceneService7:[function(e,t,n){"use strict";cc._RF.push(t,"1f6cfsENdJCiIG38jNFpkMA","SceneService7");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneService7=void 0;var s=e("./SceneService7.generated"),l=e("../halllib/common/ConfigMng"),c=e("../halllib/net/PlatformConfig"),u=r(e("./LoadingView7")),p=e("../halllib/common/Tools"),h=e("../halllib/common/Define"),d=e("../halllib/laya/Laya"),f=d.Laya.regClass,g=(d.Laya.property,function(e){function t(){return e.call(this)||this}return i(t,e),t.Load=function(e){var t=this;this.load(l.ConfigMng.getSceneAddr("SceneService7"),null,null).then(function(n){t.s_scene=n,t.s_scene.zOrder=h.Define.ZORDER_DEF.Z_SERVICE,e&&e.run()})},t.OpenScene=function(e){this.s_scene?e?e.addChild(this.s_scene):d.Laya.stage.addChild(this.s_scene):(u.default.OpenScene(),this.Load(d.Laya.Handler.create(this,this.Show,[e])))},t.Show=function(e){u.default.CloseScene(),e?e.addChild(this.s_scene):d.Laya.stage.addChild(this.s_scene)},t.CloseScene=function(){this.s_scene&&this.s_scene.close()},t.prototype.onAwake=function(){this.btnFacebook.on(d.Laya.Event.CLICK,this,this.onFaceBook),this.btnTelegram.on(d.Laya.Event.CLICK,this,this.onTelegram),this.btnWhatsapp.on(d.Laya.Event.CLICK,this,this.onWhatsApp),this.boxBackGround.on(d.Laya.Event.CLICK,this,this.close),this.ImgClose.on(d.Laya.Event.CLICK,this,this.close),this.ImageBg.on(d.Laya.Event.CLICK,this,function(){}),this.Tab.on(d.Laya.Event.CLICK,this,this.onTab),this.ViewStack.selectedIndex=0,this.Tab.selectedIndex=0,this.customerUrl=c.servicedata.ServiceConfigs.PlantformConfig.GameAppConfig.CustomerService.split(","),this.InitFaqData()},t.prototype.InitFaqData=function(){this.ListFaq.array=[];for(var e=0;e<c.servicedata.TFAQData.list.length;e++){var t=c.servicedata.TFAQData.list[e];null!=t&&this.ListFaq.addItem({labQuestion:{text:t.Question},labAnswer:{text:t.Answer}})}this.ListFaq.repeatY=c.servicedata.TFAQData.list.length},t.prototype.onTab=function(){this.ViewStack.selectedIndex=this.Tab.selectedIndex},t.prototype.onFaceBook=function(){null!=this.customerUrl&&null!=this.customerUrl.length&&this.customerUrl.length>0&&d.Laya.Browser.window.open(this.customerUrl[0])},t.prototype.onTelegram=function(){null!=this.customerUrl&&null!=this.customerUrl.length&&this.customerUrl.length>1&&p.BrowserUtil.openNewPage(this.customerUrl[1])},t.prototype.onWhatsApp=function(){null!=this.customerUrl&&null!=this.customerUrl.length&&this.customerUrl.length>2&&d.Laya.Browser.window.open(this.customerUrl[2])},a([f()],t)}(s.SceneServiceBase7));n.SceneService7=g,cc._RF.pop()},{"../halllib/common/ConfigMng":"ConfigMng","../halllib/common/Define":"Define","../halllib/common/Tools":"Tools","../halllib/laya/Laya":"Laya","../halllib/net/PlatformConfig":"PlatformConfig","./LoadingView7":"LoadingView7","./SceneService7.generated":"SceneService7.generated"}],"SceneSetting6.generated":[function(e,t,n){"use strict";cc._RF.push(t,"6ebfd09+JdNna0K2F+xznfy","SceneSetting6.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneSettingBase6=void 0;var r=e("../halllib/laya/Laya"),s=(r.Laya.regClass,r.Laya.property),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.BoxBg=null,t.ImageBg=null,t.ImgClose=null,t.btnBGMusic=null,t.btnSoundEffect=null,t.spTerms=null,t.spExit=null,t}return i(t,e),a([s(cc.Node)],t.prototype,"BoxBg",void 0),a([s(cc.Sprite)],t.prototype,"ImageBg",void 0),a([s(cc.Sprite)],t.prototype,"ImgClose",void 0),a([s(cc.Button)],t.prototype,"btnBGMusic",void 0),a([s(cc.Button)],t.prototype,"btnSoundEffect",void 0),a([s(cc.Button)],t.prototype,"spTerms",void 0),a([s(cc.Button)],t.prototype,"spExit",void 0),t}(r.Laya.Scene);n.SceneSettingBase6=l,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],SceneSetting6:[function(e,t,n){"use strict";cc._RF.push(t,"113aaIpV4hK6rCAyyh98s16","SceneSetting6");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneSetting6=void 0;var s=e("./SceneSetting6.generated"),l=e("../halllib/common/ConfigMng"),c=e("../halllib/net/InnerEvent"),u=e("../halllib/core/HallData"),p=r(e("../hallph7/LoadingView7")),h=e("../halllib/common/LogBase"),d=e("../halllib/laya/Laya"),f=d.Laya.regClass,g=(d.Laya.property,function(e){function t(){return e.call(this)||this}var n;return i(t,e),n=t,t.Load=function(e){var t=this;this.s_sceneName="SceneSetting",this.LoadPrefab(e,this.s_sceneName,l.ConfigMng.getSceneAddr(this.s_sceneName),new d.Laya.Handler(this,function(e){console.log("success:",e,t.s_scene)}),new d.Laya.Handler(this,function(){h.LogBase.error("LoadScene Error:",l.ConfigMng.getSceneAddr(t.s_sceneName)),c.HallEvent.event(c.HallEvent.LOADING_MSG,"Error:"+t.s_sceneName)}))},t.OpenScene=function(t,n){this.bRegist=n,this.s_scene?e.OpenScene.call(this,t):(p.default.OpenScene(),this.Load(d.Laya.Handler.create(this,this.Show,[t,n])))},t.Show=function(t,n){p.default.CloseScene(),e.Show.call(this,t),this.bRegist=n},t.CloseScene=function(){e.CloseScene.call(this)},t.prototype.onEnable=function(){this.BoxBg.on(d.Laya.Event.CLICK,this.close,this),this.ImageBg.node.on(d.Laya.Event.CLICK,function(){},this),this.ImgClose.node.on(d.Laya.Event.CLICK,this.close,this),this.spTerms.node.on(d.Laya.Event.CLICK,this.onOpenTerms,this),this.spExit.node.on(d.Laya.Event.CLICK,this.onExit,this),this.btnBGMusic.node.on(d.Laya.Event.CLICK,this.onBGMusic,this),this.btnSoundEffect.node.on(d.Laya.Event.CLICK,this.onSoundEffect,this),u.LocalTempData.getMusicVolume(),u.LocalTempData.getSoundVolume()},t.prototype.onOpenTerms=function(){c.HallEvent.dispatcher.event(c.HallEvent.SHOW_TERMS_DIALOG)},t.prototype.onBGMusic=function(){var e=u.LocalTempData.getMusicVolume();0==e?(e=1,d.Laya.SoundManager.playMusic(l.ConfigMng.hallconfigJson.music.sound_bg_0,0),this.btnBGMusic.node.getChildByName("press").active=!0,this.btnBGMusic.node.getChildByName("normal").active=!1):(e=0,d.Laya.SoundManager.stopMusic(),this.btnBGMusic.node.getChildByName("press").active=!1,this.btnBGMusic.node.getChildByName("normal").active=!0),u.LocalTempData.setMusicVolume(e),h.LogBase.log("bgvolume",e)},t.prototype.onSoundEffect=function(){var e=u.LocalTempData.getSoundVolume();0==e?(e=1,this.btnSoundEffect.node.getChildByName("press").active=!0,this.btnSoundEffect.node.getChildByName("normal").active=!1):(e=0,d.Laya.SoundManager.stopAllSound(),this.btnSoundEffect.node.getChildByName("press").active=!1,this.btnSoundEffect.node.getChildByName("normal").active=!0),u.LocalTempData.setSoundVolume(e)},t.prototype.onExit=function(){this.close(),c.HallEvent.dispatcher.event(c.HallEvent.EXIT_HALL)},t.prototype.close=function(){n.s_scene=null,console.log("SceneSetting6 close",this,n.s_scene),e.prototype.close.call(this)},t.bRegist=!0,n=a([f()],t)}(s.SceneSettingBase6));n.SceneSetting6=g,cc._RF.pop()},{"../halllib/common/ConfigMng":"ConfigMng","../halllib/common/LogBase":"LogBase","../halllib/core/HallData":"HallData","../halllib/laya/Laya":"Laya","../halllib/net/InnerEvent":"InnerEvent","../hallph7/LoadingView7":"LoadingView7","./SceneSetting6.generated":"SceneSetting6.generated"}],"SceneSetting7.generated":[function(e,t,n){"use strict";cc._RF.push(t,"f80b3Ho3/pCRpZmiXG6O30H","SceneSetting7.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.SceneSettingBase7=void 0;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.BoxBg=null,t.ImageBg=null,t.ImgClose=null,t.btnBGMusic=null,t.btnSoundEffect=null,t.spTerms=null,t.spExit=null,t}return i(t,e),t}(e("../halllib/laya/Laya").Laya.Scene);n.SceneSettingBase7=a,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],SceneSetting7:[function(e,t,n){"use strict";cc._RF.push(t,"180d5eO2f5IFbwNWoNblFCD","SceneSetting7");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneSetting7=void 0;var s=e("./SceneSetting7.generated"),l=e("../halllib/common/ConfigMng"),c=e("../halllib/net/InnerEvent"),u=e("../halllib/core/HallData"),p=r(e("./LoadingView7")),h=e("../halllib/common/LogBase"),d=e("../halllib/laya/Laya"),f=d.Laya.regClass,g=(d.Laya.property,function(e){function t(){return e.call(this)||this}return i(t,e),t.Load=function(e){var t=this;this.load(l.ConfigMng.getSceneAddr("SceneSetting7"),null,null).then(function(n){t.s_scene=n,e&&e.run()})},t.OpenScene=function(e){this.s_scene?e?e.addChild(this.s_scene):d.Laya.stage.addChild(this.s_scene):(p.default.OpenScene(),this.Load(d.Laya.Handler.create(this,this.Show,[e])))},t.Show=function(e){p.default.CloseScene(),e?e.addChild(this.s_scene):d.Laya.stage.addChild(this.s_scene)},t.CloseScene=function(){this.s_scene&&this.s_scene.close()},t.prototype.onEnable=function(){this.BoxBg.on(d.Laya.Event.CLICK,this,this.close),this.ImageBg.on(d.Laya.Event.CLICK,this,function(){}),this.ImgClose.on(d.Laya.Event.CLICK,this,this.close),this.spTerms.on(d.Laya.Event.CLICK,this,this.onOpenTerms),this.spExit.on(d.Laya.Event.CLICK,this,this.onExit),this.btnBGMusic.on(d.Laya.Event.CLICK,this,this.onBGMusic),this.btnSoundEffect.on(d.Laya.Event.CLICK,this,this.onSoundEffect);var e=u.LocalTempData.getMusicVolume();this.btnBGMusic.selected=0!=e;var t=u.LocalTempData.getSoundVolume();this.btnSoundEffect.selected=0!=t},t.prototype.onOpenTerms=function(){c.HallEvent.dispatcher.event(c.HallEvent.SHOW_TERMS_DIALOG)},t.prototype.onBGMusic=function(){var e=u.LocalTempData.getMusicVolume();0==e?(e=1,d.Laya.SoundManager.playMusic(l.ConfigMng.hallconfigJson.music.sound_bg_0,0)):(e=0,d.Laya.SoundManager.stopMusic()),u.LocalTempData.setMusicVolume(e),h.LogBase.log("bgvolume",e)},t.prototype.onSoundEffect=function(){var e=u.LocalTempData.getSoundVolume();0==e?e=1:(e=0,d.Laya.SoundManager.stopAllSound()),u.LocalTempData.setSoundVolume(e)},t.prototype.onExit=function(){this.close(),c.HallEvent.dispatcher.event(c.HallEvent.EXIT_HALL)},a([f()],t)}(s.SceneSettingBase7));n.SceneSetting7=g,cc._RF.pop()},{"../halllib/common/ConfigMng":"ConfigMng","../halllib/common/LogBase":"LogBase","../halllib/core/HallData":"HallData","../halllib/laya/Laya":"Laya","../halllib/net/InnerEvent":"InnerEvent","./LoadingView7":"LoadingView7","./SceneSetting7.generated":"SceneSetting7.generated"}],"SceneSysTips7.generated":[function(e,t,n){"use strict";cc._RF.push(t,"b555bGaeRVDO5dihKz82d/Q","SceneSysTips7.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneSysTipsBase7=void 0;var r=e("../halllib/laya/Laya"),s=(r.Laya.regClass,r.Laya.property),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.BoxBg=null,t.ImageBg=null,t.ImgYes=null,t.ImgCancel=null,t.LabelInfo=null,t}return i(t,e),a([s({type:cc.Node})],t.prototype,"BoxBg",void 0),a([s({type:cc.Sprite})],t.prototype,"ImageBg",void 0),a([s({type:cc.Sprite})],t.prototype,"ImgYes",void 0),a([s({type:cc.Sprite})],t.prototype,"ImgCancel",void 0),a([s({type:cc.Label})],t.prototype,"LabelInfo",void 0),t}(r.Laya.Scene);n.SceneSysTipsBase7=l,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],SceneSysTips7:[function(e,t,n){"use strict";cc._RF.push(t,"c55b3ZF2eRCua7KsqSo1sFk","SceneSysTips7");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneSysTips7=void 0;var r=e("../halllib/common/LogBase"),s=e("../halllib/common/ConfigMng"),l=e("../halllib/common/Define"),c=e("../halllib/net/InnerEvent"),u=e("./SceneSysTips7.generated"),p=e("../halllib/laya/Laya"),h=p.Laya.regClass,d=(p.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.data=null,t}return i(t,e),t.Load=function(e,t){var n=this;this.s_sceneName="SceneSysTips",this.LoadPrefab(e,t,s.ConfigMng.getSceneAddr(this.s_sceneName),new p.Laya.Handler(this,function(e){console.log("success:",e,n.s_scene)}),new p.Laya.Handler(this,function(){r.LogBase.error("LoadScene Error:",s.ConfigMng.getSceneAddr("SceneSysTips")),c.HallEvent.event(c.HallEvent.LOADING_MSG,"Error:SceneSysTips")}))},t.OpenScene=function(t,n,o,i){this.s_scene?(this.s_scene.LabelInfo.string=n?s.ConfigMng.getTips(n):"",this.s_scene.callback=o||null,this.s_scene.data=i||null,e.OpenScene.call(this,t)):this.Load(p.Laya.Handler.create(this,this.Show,[t,n,o,i]))},t.Show=function(t,n,o,i){this.s_scene&&(this.s_scene.LabelInfo.string=n?s.ConfigMng.getTips(n):"",this.s_scene.callback=o||null,this.s_scene.data=i||null,e.Show.call(this,t))},t.CloseScene=function(){e.CloseScene.call(this)},t.prototype.onAwake=function(){this.zOrder=l.Define.ZORDER_DEF.Z_SHOWMESSAGE,this.ImgYes.node.on(p.Laya.Event.CLICK,this.onCallBack.bind(this,[!0]),this),this.ImgCancel.node.on(p.Laya.Event.CLICK,this.onCallBack.bind(this,[!1]),this)},t.prototype.onEnable=function(){},t.prototype.onCallBack=function(e){s.ConfigMng.getTips(l.Define.TIPS.CONNECT_ERROR)==this.LabelInfo.string||s.ConfigMng.getTips(l.Define.TIPS.SEND_MSG_ERROR)==this.LabelInfo.string?(this.LabelInfo.string=s.ConfigMng.getNetTips(this.LabelInfo.string),this.callback&&e?this.data?this.callback.runWith(this.data):this.callback.run():c.HallEvent.dispatcher.event(c.HallEvent.EXIT_HALL)):e&&this.callback&&(this.data?this.callback.runWith(this.data):this.callback.run()),this.close()},a([h()],t)}(u.SceneSysTipsBase7));n.SceneSysTips7=d,cc._RF.pop()},{"../halllib/common/ConfigMng":"ConfigMng","../halllib/common/Define":"Define","../halllib/common/LogBase":"LogBase","../halllib/laya/Laya":"Laya","../halllib/net/InnerEvent":"InnerEvent","./SceneSysTips7.generated":"SceneSysTips7.generated"}],"SceneUINetTips7.generated":[function(e,t,n){"use strict";cc._RF.push(t,"bb397w9+TdN6L6HJV8jdHGu","SceneUINetTips7.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneUINetTipsBase7=void 0;var r=e("../halllib/laya/Laya"),s=(r.Laya.regClass,r.Laya.property),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.BoxBg=null,t.Text=null,t}return i(t,e),a([s({type:cc.Node,visible:!0})],t.prototype,"BoxBg",void 0),a([s({type:cc.RichText,visible:!0})],t.prototype,"Text",void 0),t}(r.Laya.Scene);n.SceneUINetTipsBase7=l,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],SceneUINetTips7:[function(e,t,n){"use strict";cc._RF.push(t,"b54ccNd6GtFnLndVUQcbk5R","SceneUINetTips7");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneUINetTips7=void 0;var s=e("../halllib/laya/Laya"),l=e("./SceneUINetTips7.generated"),c=e("../halllib/common/ConfigMng"),u=e("../halllib/common/LogBase"),p=e("../halllib/net/InnerEvent"),h=r(e("./LoadingView7")),d=e("../halllib/common/Define"),f=s.Laya.regClass,g=(s.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.self=null,t}var n;return i(t,e),n=t,t.Load=function(e,t,n){var o=this;this.s_sceneName="SceneUINetTips",this.LoadPrefab(e,this.s_sceneName,c.ConfigMng.getSceneAddr(this.s_sceneName),new s.Laya.Handler(this,function(e){console.log("success:",e,o.s_scene),o.s_scene.zOrder=d.Define.ZORDER_DEF.Z_NETTIPS,o.s_scene.self=o.s_scene,t&&t.runWith({scene:o.s_scene.self,tips:n})}),new s.Laya.Handler(this,function(){u.LogBase.error("LoadScene Error:",c.ConfigMng.getSceneAddr(o.s_sceneName)),p.HallEvent.event(p.HallEvent.LOADING_MSG,"Error:"+o.s_sceneName)}))},t.OpenScene=function(t,n){this.s_scene?e.OpenScene.call(this,t):(h.default.OpenScene(),this.Load(s.Laya.Handler.create(this,this.Show,[t,n])))},t.Show=function(t){h.default.CloseScene(),e.Show.call(this,t)},t.CloseScene=function(){e.CloseScene.call(this)},t.prototype.show=function(t){var n=this;if(e.prototype.show.call(this,t),console.log("SceneUINetTips7 show:",t,this.node),t.data){var o=t.data;this.Text.string=o.str,this.node.zIndex=d.Define.ZORDER_DEF.Z_NETTIPS+o.zOrder,this.node.x=0,this.node.y=cc.winSize.height/3,this.node.active=!0,cc.tween(this.Text.node).to(o.time/1e3,{x:0-this.Text.node.width-this.Text.node.x}).call(function(){var e;n.close(),null===(e=null==t?void 0:t.onShowed)||void 0===e||e.call(t)}).start()}},t.prototype.hide=function(t){e.prototype.hide.call(this,t),console.log("SceneUINetTips7 hide:",t)},t.prototype.close=function(){n.s_scene=null,console.log("SceneUINetTips7 close",this,n.s_scene),e.prototype.close.call(this)},n=a([f()],t)}(l.SceneUINetTipsBase7));n.SceneUINetTips7=g,cc._RF.pop()},{"../halllib/common/ConfigMng":"ConfigMng","../halllib/common/Define":"Define","../halllib/common/LogBase":"LogBase","../halllib/laya/Laya":"Laya","../halllib/net/InnerEvent":"InnerEvent","./LoadingView7":"LoadingView7","./SceneUINetTips7.generated":"SceneUINetTips7.generated"}],"SceneUIWarnTips7.generated":[function(e,t,n){"use strict";cc._RF.push(t,"8dba3RBqdtGVZdeP7vfy4nY","SceneUIWarnTips7.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneUIWarnTipsBase7=void 0;var r=e("../halllib/laya/Laya"),s=(r.Laya.regClass,r.Laya.property),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.BoxBg=null,t.Text=null,t}return i(t,e),a([s({type:cc.Node,visible:!0})],t.prototype,"BoxBg",void 0),a([s({type:cc.RichText,visible:!0})],t.prototype,"Text",void 0),t}(r.Laya.Scene);n.SceneUIWarnTipsBase7=l,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],SceneUIWarnTips7:[function(e,t,n){"use strict";cc._RF.push(t,"f3a5aQi6IhIXobTQBHg0dYd","SceneUIWarnTips7");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneUIWarnTips7=void 0;var s=e("../halllib/laya/Laya"),l=e("../halllib/common/ConfigMng"),c=e("../halllib/common/LogBase"),u=e("../halllib/net/InnerEvent"),p=e("./SceneUIWarnTips7.generated"),h=r(e("./LoadingView7")),d=e("../halllib/common/Define"),f=s.Laya.regClass,g=(s.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.self=null,t}var n;return i(t,e),n=t,t.Load=function(e,t,n){var o=this;this.s_sceneName="SceneUIWarnTips",this.LoadPrefab(e,this.s_sceneName,l.ConfigMng.getSceneAddr(this.s_sceneName),new s.Laya.Handler(this,function(e){console.log("success:",e,o.s_scene),o.s_scene.zOrder=d.Define.ZORDER_DEF.Z_TIPS,o.s_scene.self=o.s_scene,t&&t.runWith({scene:o.s_scene.self,tips:n})}),new s.Laya.Handler(this,function(){c.LogBase.error("LoadScene Error:",l.ConfigMng.getSceneAddr(o.s_sceneName)),u.HallEvent.event(u.HallEvent.LOADING_MSG,"Error:"+o.s_sceneName)}))},t.OpenScene=function(t,n){this.s_scene?e.OpenScene.call(this,t):(h.default.OpenScene(),this.Load(s.Laya.Handler.create(this,this.Show,[t,n])))},t.Show=function(t){h.default.CloseScene(),e.Show.call(this,t)},t.CloseScene=function(){},t.prototype.show=function(t){var n=this;if(e.prototype.show.call(this,t),console.log("SceneUIWarnTips7 show:",t),t.data){var o=t.data;this.Text.string=l.ConfigMng.getTips(o.str),this.node.zIndex=d.Define.ZORDER_DEF.Z_TIPS+o.zOrder,this.node.active=!0,cc.tween(this.node).to(o.time/1e3,{y:this.node.y+50}).call(function(){n.close()}).start()}},t.prototype.hide=function(t){e.prototype.hide.call(this,t),console.log("SceneUIWarnTips7 hide:",t)},t.prototype.close=function(){n.s_scene=null,console.log("SceneUIWarnTips7 close",this,n.s_scene),e.prototype.close.call(this)},n=a([f()],t)}(p.SceneUIWarnTipsBase7));n.SceneUIWarnTips7=g,cc._RF.pop()},{"../halllib/common/ConfigMng":"ConfigMng","../halllib/common/Define":"Define","../halllib/common/LogBase":"LogBase","../halllib/laya/Laya":"Laya","../halllib/net/InnerEvent":"InnerEvent","./LoadingView7":"LoadingView7","./SceneUIWarnTips7.generated":"SceneUIWarnTips7.generated"}],"SceneUserInfo7.generated":[function(e,t,n){"use strict";cc._RF.push(t,"59257hNKo1FzaHFYhTRTvGJ","SceneUserInfo7.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneUserInfoBase7=void 0;var r=e("../halllib/laya/Laya"),s=(r.Laya.regClass,r.Laya.property),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ImgClose=null,t.inputDesc=null,t.inputUserID=null,t.btnCopy=null,t.inputNickName=null,t.inputMoney=null,t.iniputPhoneNO=null,t.inputPixNO=null,t.btnEditName=null,t.btnAddMoney=null,t.btnBindPhoneNO=null,t.btnBindPix=null,t.btnEditDesc=null,t.spFace=null,t}return i(t,e),a([s(cc.Sprite)],t.prototype,"ImgClose",void 0),a([s(cc.EditBox)],t.prototype,"inputDesc",void 0),a([s(cc.EditBox)],t.prototype,"inputUserID",void 0),a([s(cc.Button)],t.prototype,"btnCopy",void 0),a([s(cc.EditBox)],t.prototype,"inputNickName",void 0),a([s(cc.EditBox)],t.prototype,"inputMoney",void 0),a([s(cc.EditBox)],t.prototype,"iniputPhoneNO",void 0),a([s(cc.EditBox)],t.prototype,"inputPixNO",void 0),a([s(cc.Button)],t.prototype,"btnEditName",void 0),a([s(cc.Button)],t.prototype,"btnAddMoney",void 0),a([s(cc.Button)],t.prototype,"btnBindPhoneNO",void 0),a([s(cc.Button)],t.prototype,"btnBindPix",void 0),a([s(cc.Button)],t.prototype,"btnEditDesc",void 0),a([s(cc.Sprite)],t.prototype,"spFace",void 0),t}(r.Laya.Scene);n.SceneUserInfoBase7=l,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],SceneUserInfo7:[function(e,t,n){"use strict";cc._RF.push(t,"568e4vGhZNBpLEG6XwbP4iA","SceneUserInfo7");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneUserInfo7=void 0;var s=e("./SceneUserInfo7.generated"),l=e("../halllib/common/Tools"),c=e("../halllib/core/RunData"),u=e("../halllib/common/Define"),p=e("../halllib/net/InnerEvent"),h=r(e("../halllib/net/HallMsgProxy")),d=r(e("../hall/Tips")),f=e("../halllib/common/ConfigMng"),g=r(e("./LoadingView7")),m=e("../halllib/laya/Laya"),y=e("../halllib/net/GameHallMessage").GameHallMessage.CMD_C_UserInfo_Self_Update,_=m.Laya.regClass,v=(m.Laya.property,function(e){function t(){return e.call(this)||this}var n;return i(t,e),n=t,t.Load=function(e){var t=this;this.s_sceneName="SceneUserInfo",this.LoadPrefab(e,this.s_sceneName,f.ConfigMng.getSceneAddr(this.s_sceneName),new m.Laya.Handler(this,function(e){console.log("success:",e,t.s_scene)}),new m.Laya.Handler(this,function(){}))},t.OpenScene=function(t,n){this.bRegist=n,this.s_scene?e.OpenScene.call(this,t):(g.default.OpenScene(),this.Load(m.Laya.Handler.create(this,this.Show,[t,n])))},t.Show=function(t,n){g.default.CloseScene(),e.Show.call(this,t),this.bRegist=n},t.CloseScene=function(){e.CloseScene.call(this)},t.prototype.close=function(){n.s_scene=null,console.log("SceneFirstRecharge7 close",this,n.s_scene),e.prototype.close.call(this)},t.prototype.onAwake=function(){p.HallEvent.on(p.HallEvent.UPDATE_FACE,this,this.showFace),p.HallEvent.on(p.HallEvent.UPDATE_WALLETINFO,this,this.onUpdateWallet),p.HallEvent.on(p.HallEvent.UPDATE_USERINFO,this,this.onUpdateUserInfo),this.ImgClose.node.on(m.Laya.Event.CLICK,this.close,this),this.btnCopy.node.on(m.Laya.Event.CLICK,this.onCopy,this),this.btnEditName.node.on(m.Laya.Event.CLICK,this.onEditNickName,this),this.btnAddMoney.node.on(m.Laya.Event.CLICK,this.onAddMoney,this),this.btnBindPix.node.on(m.Laya.Event.CLICK,this.onBindPix,this),this.btnEditDesc.node.on(m.Laya.Event.CLICK,this.onEditDesc,this),this.spFace.node.on(m.Laya.Event.CLICK,this.onSetFace,this),this.btnBindPhoneNO.node.on(m.Laya.Event.CLICK,this.onBindPhoneNO,this)},t.prototype.onEnable=function(){this.inputUserID.string=c.RunData.myUserInfo.dwUserID.toString(),this.inputNickName.string=c.RunData.myUserInfo.nickName,this.inputMoney.string=c.RunData.GetUserMoney(),1!=c.RunData.myUserInfo.byIsNeedBindQuick&&3!=c.RunData.myUserInfo.byIsNeedBindQuick&&c.RunData.myUserInfo.szName.length<12&&(this.iniputPhoneNO.string=c.RunData.myUserInfo.szName),null!=c.RunData.userPixAccount&&null!=c.RunData.userPixAccount.walletAccount&&null!=c.RunData.userPixAccount.walletAccount&&(this.inputPixNO.string=c.RunData.userPixAccount.walletAccount.WalletAccountNum,this.inputPixNO.string),this.inputDesc.string=c.RunData.myUserInfo.szGameSign,this.showFace()},t.prototype.showFace=function(e){void 0===e&&(e=null);var t=0;e?t=e:((t=c.RunData.myUserInfo.bLogoID)<0&&(t=0),t>=f.ConfigMng.hallconfigJson.face.facelist.length&&(t=f.ConfigMng.hallconfigJson.face.facelist.length-1));var n=this,o=f.ConfigMng.hallconfigJson.face.facelist[t].replace("resources/","");cc.loader.loadRes(o,cc.SpriteFrame,function(e,t){e?console.error(e):n.spFace.spriteFrame=t})},t.prototype.onCopy=function(){l.BrowserUtil.CopyToSys(this.inputUserID.string),d.default.SetText(f.ConfigMng.getTips(u.Define.TIPS.RECORD_NO_COPY))},t.prototype.onEditNickName=function(){if(this.inputNickName.string!=c.RunData.myUserInfo.nickName){var e=new y;e.iUserID=c.RunData.myUserInfo.dwUserID,e.bSex=c.RunData.myUserInfo.bBoy,e.iImageNo=c.RunData.myUserInfo.bLogoID,e.szNickName=this.inputNickName.string,e.szGameSign=c.RunData.myUserInfo.szGameSign,e.iPhotoFrame=c.RunData.myUserInfo.iPhotoFrame,h.default.sendUserInfoSelfUpdate(e)}},t.prototype.onAddMoney=function(){p.HallEvent.dispatcher.event(p.HallEvent.SHOW_RECHARGE_VIEW)},t.prototype.onBindPhoneNO=function(){p.HallEvent.dispatcher.event(p.HallEvent.SHOW_MODIFY_REGOSTER_VIEW,!1)},t.prototype.onBindPix=function(){p.HallEvent.dispatcher.event(p.HallEvent.SHOW_BINDWALLET_DIALOG,"")},t.prototype.onEditDesc=function(){if(this.inputDesc.string!=c.RunData.myUserInfo.szGameSign){var e=new y;e.iUserID=c.RunData.myUserInfo.dwUserID,e.bSex=c.RunData.myUserInfo.bBoy,e.iImageNo=c.RunData.myUserInfo.bLogoID,e.szNickName=c.RunData.myUserInfo.nickName,e.szGameSign=this.inputDesc.string,e.iPhotoFrame=c.RunData.myUserInfo.iPhotoFrame,h.default.sendUserInfoSelfUpdate(e)}},t.prototype.onSetFace=function(){p.HallEvent.dispatcher.event(p.HallEvent.SHOW_SETFACE_DIALOG,"")},t.prototype.onUpdateUserInfo=function(){this.inputUserID.string=c.RunData.myUserInfo.dwUserID.toString(),this.inputNickName.string=c.RunData.myUserInfo.nickName,this.inputMoney.string=c.RunData.GetUserMoney(),1!=c.RunData.myUserInfo.byIsNeedBindQuick&&3!=c.RunData.myUserInfo.byIsNeedBindQuick&&(this.iniputPhoneNO.string=c.RunData.myUserInfo.szName),null!=c.RunData.userPixAccount&&null!=c.RunData.userPixAccount.walletAccount&&null!=c.RunData.userPixAccount.walletAccount&&(this.inputPixNO.string=c.RunData.userPixAccount.walletAccount.WalletAccountNum,this.inputPixNO.string),this.inputDesc.string=c.RunData.myUserInfo.szGameSign},t.prototype.onUpdateWallet=function(){null!=c.RunData.userPixAccount&&null!=c.RunData.userPixAccount.walletAccount&&null!=c.RunData.userPixAccount.walletAccount&&(this.inputPixNO.string=c.RunData.userPixAccount.walletAccount.WalletAccountNum,this.inputPixNO.string)},t.bRegist=!0,n=a([_()],t)}(s.SceneUserInfoBase7));n.SceneUserInfo7=v,cc._RF.pop()},{"../hall/Tips":"Tips","../halllib/common/ConfigMng":"ConfigMng","../halllib/common/Define":"Define","../halllib/common/Tools":"Tools","../halllib/core/RunData":"RunData","../halllib/laya/Laya":"Laya","../halllib/net/GameHallMessage":"GameHallMessage","../halllib/net/HallMsgProxy":"HallMsgProxy","../halllib/net/InnerEvent":"InnerEvent","./LoadingView7":"LoadingView7","./SceneUserInfo7.generated":"SceneUserInfo7.generated"}],"SceneVerification7.generated":[function(e,t,n){"use strict";cc._RF.push(t,"79c88i9e4ZHlaTAbcV9mEg1","SceneVerification7.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneVerificationBase7=void 0;var r=e("../halllib/laya/Laya"),s=(r.Laya.regClass,r.Laya.property),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.boxBG=null,t.ImageBG=null,t.imgClose=null,t.LabelPhoneNum=null,t.inputCode=null,t.btnSend=null,t.btnConfirm=null,t}return i(t,e),a([s(cc.Node)],t.prototype,"boxBG",void 0),a([s(cc.Sprite)],t.prototype,"ImageBG",void 0),a([s(cc.Sprite)],t.prototype,"imgClose",void 0),a([s(cc.Label)],t.prototype,"LabelPhoneNum",void 0),a([s(cc.EditBox)],t.prototype,"inputCode",void 0),a([s(cc.Button)],t.prototype,"btnSend",void 0),a([s(cc.Button)],t.prototype,"btnConfirm",void 0),t}(r.Laya.Scene);n.SceneVerificationBase7=l,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],SceneVerification7:[function(e,t,n){"use strict";cc._RF.push(t,"98760ESsVJLTLVs4NxUoDE6","SceneVerification7");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneVerification7=void 0;var s=r(e("../hall/Tips")),l=e("../halllib/common/ConfigMng"),c=e("../halllib/common/Define"),u=e("../halllib/common/LogBase"),p=e("../halllib/common/Types"),h=r(e("../halllib/net/HallMsgProxy")),d=e("../halllib/net/PlatformConfig"),f=r(e("../halllib/net/PlatformService")),g=r(e("./LoadingView7")),m=e("./SceneLoginAccount7"),y=e("./SceneVerification7.generated"),_=e("../halllib/laya/Laya"),v=_.Laya.regClass,b=(_.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.timeSend=0,t.bVerifyCode=!1,t.verifyToken="",t}return i(t,e),t.Load=function(e){var t=this;this.load(l.ConfigMng.getSceneAddr("SceneVerification7"),null,null).then(function(n){t.s_scene=n,e&&e.run()})},t.OpenScene=function(e){this.s_scene?e?e.addChild(this.s_scene):_.Laya.stage.addChild(this.s_scene):(g.default.OpenScene(),this.Load(_.Laya.Handler.create(this,this.Show,[e])))},t.Show=function(e){g.default.CloseScene(),e?e.addChild(this.s_scene):_.Laya.stage.addChild(this.s_scene)},t.CloseScene=function(){this.s_scene&&this.s_scene.close()},t.prototype.onAwake=function(){var e=this;this.zOrder=c.Define.ZORDER_DEF.Z_LOGIN_VERIFICATION,this.imgClose.on(_.Laya.Event.CLICK,this,function(){e.close()}),this.boxBG.on(_.Laya.Event.CLICK,this,function(){e.close()}),this.ImageBG.on(_.Laya.Event.CLICK,this,function(){}),this.btnSend.on(_.Laya.Event.CLICK,this,this.Send),this.btnConfirm.on(_.Laya.Event.CLICK,this,this.SMSVerifyRequest)},t.prototype.onEnable=function(){this.LabelPhoneNum.text=d.servicedata.ServiceConfigs.PlantformConfig.AreaCode.toString()+"-"+m.SceneLoginAccount7.s_scene.inputAccountNumber.text},t.prototype.Send=function(){0==this.timeSend&&(this.onTimer(),f.default.SMSCodeRequest(d.servicedata.ServiceConfigs.PlantformConfig.AreaCode.toString(),m.SceneLoginAccount7.s_scene.inputAccountNumber.text,p.SMSCodeType.NewPhoneLogin,_.Laya.Handler.create(this,this.onSendRespone)))},t.prototype.onTimer=function(){var e=this;this.timeSend=3,this.btnSend.labelSize=20,this.btnSend.label="RESEND IN "+this.timeSend.toString()+" S",_.Laya.timer.loop(1e3,this,function(){e.timeSend--,0==e.timeSend?(_.Laya.timer.clearAll(e),e.btnSend.label="Send",e.btnSend.labelSize=30):(e.btnSend.labelSize=20,e.btnSend.label="RESEND IN "+e.timeSend.toString()+" S")})},t.prototype.onSendRespone=function(e){u.LogBase.log("onSendRespone",e),e&&(0==e.code?(this.bVerifyCode=!0,s.default.SetText(l.ConfigMng.getTips(c.Define.TIPS.SEND_VERIFY_CODE_SUCCEED))):(this.bVerifyCode=!1,e.msg&&s.default.SetWarnText(l.ConfigMng.getTips(e.msg))))},t.prototype.SMSVerifyRequest=function(){this.bVerifyCode?this.inputCode.text.length<6?s.default.SetWarnText(l.ConfigMng.getTips(c.Define.TIPS.SEND_VERIFY_CODE_FIRST)):f.default.SMSVerifyRequest(d.servicedata.ServiceConfigs.PlantformConfig.AreaCode.toString(),m.SceneLoginAccount7.s_scene.inputAccountNumber.text,p.SMSCodeType.NewPhoneLogin,this.inputCode.text,_.Laya.Handler.create(this,this.onSMSVerifyRsp)):s.default.SetWarnText(l.ConfigMng.getTips(c.Define.TIPS.SEND_VERIFY_CODE_FIRST))},t.prototype.onSMSVerifyRsp=function(e){u.LogBase.log("onSMSVerifyRsp",e),0==e.code?(s.default.SetText(l.ConfigMng.getTips(c.Define.TIPS.SUCCEED)),h.default.LoginAccount(m.SceneLoginAccount7.s_scene.inputAccountNumber.text,m.SceneLoginAccount7.s_scene.inputPasswd.text,!0,this.inputCode.text,e.data.verifyToken),this.close()):s.default.SetWarnText(e.msg)},a([v()],t)}(y.SceneVerificationBase7));n.SceneVerification7=b,cc._RF.pop()},{"../hall/Tips":"Tips","../halllib/common/ConfigMng":"ConfigMng","../halllib/common/Define":"Define","../halllib/common/LogBase":"LogBase","../halllib/common/Types":"Types","../halllib/laya/Laya":"Laya","../halllib/net/HallMsgProxy":"HallMsgProxy","../halllib/net/PlatformConfig":"PlatformConfig","../halllib/net/PlatformService":"PlatformService","./LoadingView7":"LoadingView7","./SceneLoginAccount7":"SceneLoginAccount7","./SceneVerification7.generated":"SceneVerification7.generated"}],"SceneWealthClub6.generated":[function(e,t,n){"use strict";cc._RF.push(t,"2e380emYiFKl7JOSVkFOruU","SceneWealthClub6.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.SceneWealthClubBase6=void 0;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Tab=null,t.ViewStack=null,t.BoxPc=null,t.Imageandroid=null,t.Imageios=null,t.LabelAndroid=null,t.BoxAndroid=null,t.ImageDownload=null,t.BoxIOS=null,t.spZhuanpan=null,t.spICON7=null,t.spICON0=null,t.spICON1=null,t.spICON2=null,t.spICON6=null,t.spICON3=null,t.spICON4=null,t.spICON5=null,t.labAward0=null,t.labAward7=null,t.labAward1=null,t.labAward3=null,t.labAward4=null,t.labAward5=null,t.labAward2=null,t.labAward6=null,t.spSpin=null,t.spNv=null,t.inputLuckyCode=null,t.btnConfirmLuckyCode=null,t.ImageBg=null,t.spCashIn=null,t.labMoney1=null,t.LabelMoneyAdd1=null,t.labMoney2=null,t.LabelMoneyAdd2=null,t.btnJoinNow=null,t.ListBonus=null,t.spFace1=null,t.spFace2=null,t.spFace3=null,t.labMonth=null,t.labNO=null,t.labAccount=null,t.labTotal=null,t.btnRegra=null,t.labMyRank=null,t.spFaceMe=null,t.labName=null,t.textScore=null,t.labMyRankNot=null,t.listRank=null,t.labNoRank=null,t.SpriteAndroid=null,t.ButtonDownload=null,t.SpriteIOS=null,t.ButtonAddHomeScreen=null,t.ImgClose=null,t.PrefabTab=null,t}return i(t,e),t}(e("../halllib/laya/Laya").Laya.Scene);n.SceneWealthClubBase6=a,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],SceneWealthClub6:[function(e,t,n){"use strict";cc._RF.push(t,"263553Nt1FHIpJmlUeOeahk","SceneWealthClub6");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneWealthClub6=void 0;var s=r(e("../hall/Tips")),l=r(e("../hall/Tips")),c=e("../halllib/common/LogBase"),u=e("../halllib/common/ConfigMng"),p=e("../halllib/common/Define"),h=e("../halllib/common/Tools"),d=e("../halllib/common/Types"),f=e("../halllib/core/RunData"),g=r(e("../halllib/net/HallMsgProxy")),m=e("../halllib/net/InnerEvent"),y=e("../halllib/net/PlatformConfig"),_=e("../halllib/net/PlatformService"),v=r(e("../hallph7/LoadingView7")),b=e("./SceneWealthClub6.generated"),S=e("../halllib/laya/Laya"),C=S.Laya.regClass,I=(S.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.labList=new Array,t.spList=new Array,t.iWinningPrizeID=-1,t}return i(t,e),t.Load=function(e){var t=this;this.load(u.ConfigMng.getSceneAddr("SceneWealthClub"),null,null).then(function(n){t.s_scene=n,e&&e.run()})},t.OpenScene=function(e){this.s_scene?e?e.addChild(this.s_scene):S.Laya.stage.addChild(this.s_scene):(v.default.OpenScene(),this.Load(S.Laya.Handler.create(this,this.Show,[e])))},t.Show=function(e){v.default.CloseScene(),e?e.addChild(this.s_scene):S.Laya.stage.addChild(this.s_scene)},t.CloseScene=function(){this.s_scene&&this.s_scene.close()},t.prototype.onAwake=function(){var e=this;this.SpriteIOS.visible=!1,this.SpriteAndroid.visible=!1,this.inputLuckyCode.restrict=p.Define.COMM.RESTRICT_CHAR,this.ImgClose.on(S.Laya.Event.CLICK,this,this.close),this.ButtonAddHomeScreen.on(S.Laya.Event.CLICK,this,function(){m.HallEvent.event(m.HallEvent.SHOW_ADD_HOME_SCREEN)}),this.inputLuckyCode.on(S.Laya.Event.CLICK,this,this.CheckWallet),this.ImageDownload.on(S.Laya.Event.CLICK,this,h.BrowserUtil.onDownloadApk),this.LabelAndroid.on(S.Laya.Event.CLICK,this,h.BrowserUtil.onDownloadApk),this.ButtonDownload.on(S.Laya.Event.CLICK,this,h.BrowserUtil.onDownloadApk),this.Imageandroid.on(S.Laya.Event.CLICK,this,h.BrowserUtil.onDownloadApk),m.HallEvent.on(m.HallEvent.FIRST_PAY_FINISH,this,function(){e.onEnable()}),this.PrefabTab.labels="Add App,Daily Bonus,Lucky Code,1st Top-UP,Achievemen,Grand Prix",this.PrefabTab.updateList(),this.PrefabTab.on(S.Laya.Event.CLICK,this,this.onTab)},t.prototype.onEnable=function(){c.LogBase.log("RunData.userPixAccount.isFirstPay",f.RunData.userPixAccount.isFirstPay),f.RunData.userPixAccount.isFirstPay?this.Tab.labels="Add App,Daily Bonus,Lucky Code,Achievemen,Grand Prix":this.Tab.labels="Add App,Daily Bonus,Lucky Code,1st Top-UP,Achievemen,Grand Prix",this.inputLuckyCode.text="",h.BrowserUtil.getOSType()==d.OSType.IOS&&(h.BrowserUtil.isIOSStandlone()?(this.SpriteIOS.visible=!1,this.InitBtn()):this.SpriteIOS.visible=!0,this.BoxPc.visible=!1,this.BoxAndroid.visible=!1,this.BoxIOS.visible=!0),h.BrowserUtil.getOSType()==d.OSType.ANDROID&&(h.BrowserUtil.isAndroidApp()?(f.RunData.userPixAccount.isFirstPay?this.Tab.labels="Daily Bonus,Lucky Code,Achievemen,Grand Prix":this.Tab.labels="Daily Bonus,Lucky Code,1st Top-UP,Achievemen,Grand Prix",this.SpriteAndroid.visible=!1,this.ViewStack.selectedIndex=1,this.InitBtn()):this.SpriteAndroid.visible=!0,this.BoxPc.visible=!1,this.BoxAndroid.visible=!0,this.BoxIOS.visible=!1),h.BrowserUtil.getOSType()==d.OSType.WINDOWS&&(this.SpriteIOS.visible=!1,this.SpriteAndroid.visible=!0,this.BoxPc.visible=!0,this.BoxAndroid.visible=!1,this.BoxIOS.visible=!1),this.InitZhuanpan(),this.InitMonthRank(),this.InitBonus(),this.InitFirstRecharge()},t.prototype.onTab=function(){h.BrowserUtil.getOSType()==d.OSType.ANDROID&&h.BrowserUtil.isAndroidApp()?f.RunData.userPixAccount.isFirstPay?(this.ViewStack.selectedIndex=this.PrefabTab.selectedIndex+1,this.PrefabTab.selectedIndex>=2&&(this.ViewStack.selectedIndex=this.PrefabTab.selectedIndex+2)):this.ViewStack.selectedIndex=this.PrefabTab.selectedIndex+1:(this.ViewStack.selectedIndex=this.PrefabTab.selectedIndex,f.RunData.userPixAccount.isFirstPay&&this.PrefabTab.selectedIndex>=3&&(this.ViewStack.selectedIndex=this.PrefabTab.selectedIndex+1))},t.prototype.InitBtn=function(){this.btnConfirmLuckyCode.on(S.Laya.Event.CLICK,this,this.onGetLuckCode),this.spCashIn.on(S.Laya.Event.CLICK,this,function(){m.HallEvent.event(m.HallEvent.SHOW_RECHARGE_VIEW)}),this.btnJoinNow.on(S.Laya.Event.CLICK,this,function(){m.HallEvent.event(m.HallEvent.SHOW_AGENT_DIALOG,1)}),this.spSpin.on(S.Laya.Event.CLICK,this,this.onSpin),m.HallEvent.dispatcher.on(m.HallEvent.GET_ZHUANPAN_RESULT,this,this.onSpinResult)},t.prototype.CheckWallet=function(){return null==f.RunData.userPixAccount||null==f.RunData.userPixAccount.walletAccount||null==f.RunData.userPixAccount.walletAccount.WalletAccountNum?(l.default.SetWarnText(u.ConfigMng.getTips(p.Define.TIPS.PIX_ACCOUNT_NOT_BIND)),m.HallEvent.dispatcher.event(m.HallEvent.SHOW_BINDWALLET_DIALOG),!1):null!=f.RunData.userPixAccount.walletAccount&&null!=f.RunData.userPixAccount.walletAccount.WalletType||(l.default.SetWarnText(u.ConfigMng.getTips(p.Define.TIPS.PIX_ACCOUNT_NOT_BIND)),m.HallEvent.dispatcher.event(m.HallEvent.SHOW_BINDWALLET_DIALOG),!1)},t.prototype.onGetLuckCode=function(){this.CheckWallet()&&(""!=this.inputLuckyCode.text?_.RankService.getLuckyCodeRequest(this.inputLuckyCode.text,S.Laya.Handler.create(this,this.onRspGetLuckCode)):s.default.SetWarnText(u.ConfigMng.getTips(p.Define.TIPS.INPUT_IS_NULL)))},t.prototype.onRspGetLuckCode=function(e){c.LogBase.log("onRspGetLuckCode:",e),0==e.code?m.HallEvent.event(m.HallEvent.SHOW_REWARD,f.GameTool.formatMoneyString(e.data.score)):s.default.SetWarnText(e.msg)},t.prototype.InitFirstRecharge=function(){for(var e=!1,t=1;t<y.servicedata.DenominationConfig.officialPayList.length;t++){var n=y.servicedata.DenominationConfig.officialPayList[t];if(n.IsFirstPay){if(e){this.LabelMoneyAdd2.text=f.GameTool.formatMoneyString(n.Value)+"+"+f.GameTool.formatMoneyString(n.FirstPayValue)+" Coins",this.labMoney2.text=f.GameTool.formatMoneyString(n.Value);break}this.LabelMoneyAdd1.text=f.GameTool.formatMoneyString(n.Value)+"+"+f.GameTool.formatMoneyString(n.FirstPayValue)+" Coins",this.labMoney1.text=f.GameTool.formatMoneyString(n.Value),e=!0}}},t.prototype.InitZhuanpan=function(){if(this.labList=[],this.spList=[],this.labList.push(this.labAward0),this.labList.push(this.labAward1),this.labList.push(this.labAward2),this.labList.push(this.labAward3),this.labList.push(this.labAward4),this.labList.push(this.labAward5),this.labList.push(this.labAward6),this.labList.push(this.labAward7),this.spList.push(this.spICON0),this.spList.push(this.spICON1),this.spList.push(this.spICON2),this.spList.push(this.spICON3),this.spList.push(this.spICON4),this.spList.push(this.spICON5),this.spList.push(this.spICON6),this.spList.push(this.spICON7),this.iWinningPrizeID=-1,f.RunData.LotteryConfig&&1==f.RunData.LotteryConfig.byIsEnabled)for(var e=0;e<f.RunData.LotteryConfig.ilsCount;e++)if(!(f.RunData.LotteryConfig.lsData[e].iSortNum<1||f.RunData.LotteryConfig.lsData[e].iSortNum>8))if(0==f.RunData.LotteryConfig.lsData[e].iAwardType)this.labList[f.RunData.LotteryConfig.lsData[e].iSortNum-1].text="",this.spList[f.RunData.LotteryConfig.lsData[e].iSortNum-1].loadImage(u.ConfigMng.hallconfigJson.zhuanpan.award0);else{var t=f.GameTool.formatMoneyString(f.RunData.LotteryConfig.lsData[e].iAmount);0==Number(t)?this.labList[f.RunData.LotteryConfig.lsData[e].iSortNum-1].text="":this.labList[f.RunData.LotteryConfig.lsData[e].iSortNum-1].text="X "+t,this.spList[f.RunData.LotteryConfig.lsData[e].iSortNum-1].loadImage(this.getAwardResUrl(f.RunData.LotteryConfig.lsData[e].iAmount))}},t.prototype.onSpin=function(){g.default.getZhuanpanResult()},t.prototype.onSpinResult=function(e,t){if(c.LogBase.log("onGetZhuanpanResult",t),null==this.timeLine&&(this.timeLine=new S.Laya.TimeLine),0==e.uHandleCode){if(0!=t.iWinningPrizeID){this.iWinningPrizeID=t.iWinningPrizeID;for(var n=0;n<f.RunData.LotteryConfig.lsData.length;n++)if(this.iWinningPrizeID==f.RunData.LotteryConfig.lsData[n].iID){SceneWealthClub.sIndex=n;break}var o=f.RunData.LotteryConfig.lsData[SceneWealthClub.sIndex].iSortNum-1,i=this.spZhuanpan.rotation-this.spZhuanpan.rotation%360+1800-360*o/8+10*Math.random();c.LogBase.log("this.spZhuanpan.rotation1",this.spZhuanpan.rotation,i,o),S.Laya.Tween.to(this.spZhuanpan,{rotation:i},7e3,S.Laya.Ease.quartInOut,S.Laya.Handler.create(this,this.onComplete)),f.RunData.myUserInfo.bSign_HasSigned=!0,m.HallEvent.event(m.HallEvent.REFRESH_HALL)}}else m.HallEvent.dispatcher.event(m.HallEvent.SHOW_NET_MESSAGE,[e.uMainID+"_"+e.uAssistantID,e.uHandleCode])},t.prototype.onComplete=function(){if(c.LogBase.log("this.spZhuanpan.rotation2",this.spZhuanpan.rotation),f.RunData.LotteryConfig.lsData[SceneWealthClub.sIndex].iAmount>0){var e=f.GameTool.formatMoneyString(f.RunData.LotteryConfig.lsData[SceneWealthClub.sIndex].iAmount);m.HallEvent.event(m.HallEvent.SHOW_REWARD,e)}},t.prototype.onTestSpin=function(){this.spZhuanpan.rotation=0,S.Laya.Tween.to(this.spZhuanpan,{rotation:1135},7e3,S.Laya.Ease.quartInOut,null)},t.prototype.getAwardRes=function(e){return e<1?S.Laya.Loader.getRes(u.ConfigMng.hallconfigJson.zhuanpan.award0):e<u.ConfigMng.hallconfigJson.zhuanpan.awardrang[0]?S.Laya.Loader.getRes(u.ConfigMng.hallconfigJson.zhuanpan.award1):e<u.ConfigMng.hallconfigJson.zhuanpan.awardrang[1]?S.Laya.Loader.getRes(u.ConfigMng.hallconfigJson.zhuanpan.award2):e<u.ConfigMng.hallconfigJson.zhuanpan.awardrang[2]?S.Laya.Loader.getRes(u.ConfigMng.hallconfigJson.zhuanpan.award3):S.Laya.Loader.getRes(u.ConfigMng.hallconfigJson.zhuanpan.award4)},t.prototype.getAwardResUrl=function(e){return e<1?u.ConfigMng.hallconfigJson.zhuanpan.award0:e<u.ConfigMng.hallconfigJson.zhuanpan.awardrang[0]?u.ConfigMng.hallconfigJson.zhuanpan.award1:e<u.ConfigMng.hallconfigJson.zhuanpan.awardrang[1]?u.ConfigMng.hallconfigJson.zhuanpan.award2:e<u.ConfigMng.hallconfigJson.zhuanpan.awardrang[2]?u.ConfigMng.hallconfigJson.zhuanpan.award3:u.ConfigMng.hallconfigJson.zhuanpan.award4},t.prototype.InitMonthRank=function(){this.listRank.array=[],this.btnRegra.on(S.Laya.Event.CLICK,this,this.onOpenRegra),this.loadFace(),this.labName.text=f.RunData.myUserInfo.nickName,this.requestRankList()},t.prototype.onOpenRegra=function(){m.HallEvent.event(m.HallEvent.SHOW_REGRA_DIALOG,"")},t.prototype.requestRankList=function(){_.RankService.MonthRankRequest(S.Laya.Handler.create(this,this.onRspRankList))},t.prototype.loadFace=function(){var e=f.RunData.myUserInfo.bLogoID;(e<0||e>u.ConfigMng.hallconfigJson.face.facelist.length)&&(e=0);var t=u.ConfigMng.hallconfigJson.face.facelist[e];this.spFaceMe.loadImage(t)},t.prototype.onRspRankList=function(e){if(c.LogBase.log("onRspRankList",e),0!=e.code)this.listRank.visible=!1,this.labNoRank.visible=!0,this.labMonth.text="",this.textScore.text="0";else{if(e.data.rankList.length>0){this.listRank.visible=!0,this.labNoRank.visible=!1,this.InitList(e.data.rankList),this.loadMonthDate(e.data.rankList);var t=u.ConfigMng.getFaceResUrl(e.data.rankList[0].Head);if(this.spFace1.loadImage(t),e.data.rankList.length>1){var n=u.ConfigMng.getFaceResUrl(e.data.rankList[1].Head);this.spFace2.loadImage(n)}if(e.data.rankList.length>2){var o=u.ConfigMng.getFaceResUrl(e.data.rankList[2].Head);this.spFace3.loadImage(o)}}else this.listRank.visible=!1,this.labNoRank.visible=!0;e.data.myRank<0?(this.labMyRank.text="",this.labMyRankNot.visible=!0,this.textScore.visible=!1):(this.labMyRank.text=e.data.myRank.toString(),this.labMyRankNot.visible=!1,this.textScore.visible=!0),e.data.myCommission<0?this.textScore.text="0":this.textScore.text=f.GameTool.formatMoneyString(e.data.myCommission)}},t.prototype.loadMonthDate=function(e){var t=e[0].InputDate.toString().split("-");if(t.length>1)switch(this.labMonth.text=t[1],t[1]){case"01":this.labMonth.text="Jan.";break;case"02":this.labMonth.text="Feb.";break;case"03":this.labMonth.text="Mar.";break;case"04":this.labMonth.text="Apr.";break;case"05":this.labMonth.text="May.";break;case"06":this.labMonth.text="Jun.";break;case"07":this.labMonth.text="Jul.";break;case"08":this.labMonth.text="Aug.";break;case"09":this.labMonth.text="Sep.";break;case"10":this.labMonth.text="Oct.";break;case"11":this.labMonth.text="Nov.";break;case"12":this.labMonth.text="Dec."}},t.prototype.InitList=function(e){this.listRank.array=[];for(var t=0;t<e.length;t++){var n=u.ConfigMng.getFaceResUrl(e[t].Head),o=f.GameTool.formatMoneyString(e[t].IncomeMoney);this.listRank.addItem({labNO:{text:e[t].RankNum},spFace:{skin:n},labName:{text:e[t].NickName},labUserID:{text:e[t].UserID},labMoney:{text:o}})}},t.prototype.InitBonus=function(){this.ListBonus.array=[];for(var e=0;e<y.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Income.length;e++)3==y.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Income[e].ReturnType&&this.ListBonus.addItem({LabelUsers:{text:y.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Income[e].MinRange},LabelBonus:{text:f.GameTool.formatMoneyNumber(y.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Income[e].FixedReward)+"\u20b1"}})},t.sIndex=0,a([C()],t)}(b.SceneWealthClubBase6));n.SceneWealthClub6=I,cc._RF.pop()},{"../hall/Tips":"Tips","../halllib/common/ConfigMng":"ConfigMng","../halllib/common/Define":"Define","../halllib/common/LogBase":"LogBase","../halllib/common/Tools":"Tools","../halllib/common/Types":"Types","../halllib/core/RunData":"RunData","../halllib/laya/Laya":"Laya","../halllib/net/HallMsgProxy":"HallMsgProxy","../halllib/net/InnerEvent":"InnerEvent","../halllib/net/PlatformConfig":"PlatformConfig","../halllib/net/PlatformService":"PlatformService","../hallph7/LoadingView7":"LoadingView7","./SceneWealthClub6.generated":"SceneWealthClub6.generated"}],"SceneWealthClub7.generated":[function(e,t,n){"use strict";cc._RF.push(t,"df049gUxM5Fj5R9d/ak68Br","SceneWealthClub7.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.SceneWealthClubBase7=void 0;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Tab=null,t.ViewStack=null,t.BoxPc=null,t.Imageandroid=null,t.Imageios=null,t.LabelAndroid=null,t.BoxAndroid=null,t.ImageDownload=null,t.BoxIOS=null,t.spZhuanpan=null,t.spICON7=null,t.spICON0=null,t.spICON1=null,t.spICON2=null,t.spICON6=null,t.spICON3=null,t.spICON4=null,t.spICON5=null,t.labAward0=null,t.labAward7=null,t.labAward1=null,t.labAward3=null,t.labAward4=null,t.labAward5=null,t.labAward2=null,t.labAward6=null,t.spSpin=null,t.spNv=null,t.inputLuckyCode=null,t.btnConfirmLuckyCode=null,t.ImageBg=null,t.spCashIn=null,t.labMoney1=null,t.labMoney2=null,t.LabelMoneyAdd1=null,t.LabelMoneyAdd2=null,t.btnJoinNow=null,t.ListBonus=null,t.spFace1=null,t.spFace2=null,t.spFace3=null,t.labMonth=null,t.labNO=null,t.labAccount=null,t.labTotal=null,t.btnRegra=null,t.labMyRank=null,t.spFaceMe=null,t.labName=null,t.textScore=null,t.labMyRankNot=null,t.listRank=null,t.labNoRank=null,t.SpriteAndroid=null,t.ButtonDownload=null,t.SpriteIOS=null,t.ButtonAddHomeScreen=null,t.ImgClose=null,t.BoxPoint=null,t.imgPointZhuanpan=null,t.imgPointCashIn=null,t}return i(t,e),t}(e("../halllib/laya/Laya").Laya.Scene);n.SceneWealthClubBase7=a,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],SceneWealthClub7:[function(e,t,n){"use strict";cc._RF.push(t,"c58d2gBk2tKb7IWxCR7gHlO","SceneWealthClub7");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneWealthClub7=void 0;var s=r(e("../hall/Tips")),l=r(e("../hall/Tips")),c=e("../halllib/common/LogBase"),u=e("../halllib/common/ConfigMng"),p=e("../halllib/common/Define"),h=e("../halllib/common/Tools"),d=e("../halllib/common/Types"),f=e("../halllib/core/RunData"),g=r(e("../halllib/net/HallMsgProxy")),m=e("../halllib/net/InnerEvent"),y=e("../halllib/net/PlatformConfig"),_=e("../halllib/net/PlatformService"),v=r(e("./LoadingView7")),b=e("./SceneWealthClub7.generated"),S=e("../halllib/laya/Laya"),C=S.Laya.regClass,I=(S.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.LuckCodeTimer=0,t.labList=new Array,t.spList=new Array,t.iWinningPrizeID=-1,t}var n;return i(t,e),n=t,t.Load=function(e){var t=this;this.load(u.ConfigMng.getSceneAddr("SceneWealthClub7"),null,null).then(function(n){t.s_scene=n,e&&e.run()})},t.OpenScene=function(e){this.s_scene?e?e.addChild(this.s_scene):S.Laya.stage.addChild(this.s_scene):(v.default.OpenScene(),this.Load(S.Laya.Handler.create(this,this.Show,[e])))},t.Show=function(e){v.default.CloseScene(),e?e.addChild(this.s_scene):S.Laya.stage.addChild(this.s_scene)},t.CloseScene=function(){this.s_scene&&this.s_scene.close()},t.prototype.onAwake=function(){var e=this;this.SpriteIOS.visible=!1,this.SpriteAndroid.visible=!1,this.inputLuckyCode.restrict=p.Define.COMM.RESTRICT_CHAR,this.ImgClose.on(S.Laya.Event.CLICK,this,this.close),this.Tab.on(S.Laya.Event.CLICK,this,this.onTab),this.ButtonAddHomeScreen.on(S.Laya.Event.CLICK,this,function(){m.HallEvent.event(m.HallEvent.SHOW_ADD_HOME_SCREEN)}),this.inputLuckyCode.on(S.Laya.Event.CLICK,this,this.CheckWallet),this.ImageDownload.on(S.Laya.Event.CLICK,this,h.BrowserUtil.onDownloadApk),this.LabelAndroid.on(S.Laya.Event.CLICK,this,h.BrowserUtil.onDownloadApk),this.ButtonDownload.on(S.Laya.Event.CLICK,this,h.BrowserUtil.onDownloadApk),this.Imageandroid.on(S.Laya.Event.CLICK,this,h.BrowserUtil.onDownloadApk),m.HallEvent.on(m.HallEvent.FIRST_PAY_FINISH,this,function(){e.onEnable()}),this.spCashIn.on(S.Laya.Event.CLICK,this,function(){m.HallEvent.event(m.HallEvent.SHOW_RECHARGE_VIEW)}),this.btnJoinNow.on(S.Laya.Event.CLICK,this,function(){m.HallEvent.event(m.HallEvent.SHOW_AGENT_DIALOG,1)})},t.prototype.onEnable=function(){c.LogBase.log("RunData.userPixAccount.isFirstPay",f.RunData.userPixAccount.isFirstPay),this.BoxPoint.y=272,f.RunData.userPixAccount.isFirstPay?(this.Tab.labels="Add App,Daily Bonus,Lucky Code,Achievemen,Grand Prix",this.imgPointCashIn.visible=!1):(this.Tab.labels="Add App,Daily Bonus,Lucky Code,1st Top-UP,Achievemen,Grand Prix",this.imgPointCashIn.visible=!0),this.inputLuckyCode.text="",h.BrowserUtil.getOSType()==d.OSType.IOS&&(h.BrowserUtil.isIOSStandlone()?(this.SpriteIOS.visible=!1,this.InitBtn()):this.SpriteIOS.visible=!0,this.BoxPc.visible=!1,this.BoxAndroid.visible=!1,this.BoxIOS.visible=!0),h.BrowserUtil.getOSType()==d.OSType.ANDROID&&(h.BrowserUtil.isAndroidApp()?(f.RunData.userPixAccount.isFirstPay?this.Tab.labels="Daily Bonus,Lucky Code,Achievemen,Grand Prix":this.Tab.labels="Daily Bonus,Lucky Code,1st Top-UP,Achievemen,Grand Prix",this.BoxPoint.y=184,this.SpriteAndroid.visible=!1,this.Tab.selectedIndex=0,this.ViewStack.selectedIndex=1,this.InitBtn()):this.SpriteAndroid.visible=!0,this.BoxPc.visible=!1,this.BoxAndroid.visible=!0,this.BoxIOS.visible=!1),h.BrowserUtil.getOSType()==d.OSType.WINDOWS&&(this.SpriteIOS.visible=!1,this.SpriteAndroid.visible=!0,this.BoxPc.visible=!0,this.BoxAndroid.visible=!1,this.BoxIOS.visible=!1),f.RunData.myUserInfo.bSign_HasSigned?this.imgPointZhuanpan.visible=!1:this.imgPointZhuanpan.visible=!0,this.InitZhuanpan(),this.InitMonthRank(),this.InitBonus(),this.InitFirstRecharge(),this.CheckCover()},t.prototype.onTab=function(){h.BrowserUtil.getOSType()==d.OSType.ANDROID&&h.BrowserUtil.isAndroidApp()?f.RunData.userPixAccount.isFirstPay?(this.ViewStack.selectedIndex=this.Tab.selectedIndex+1,this.Tab.selectedIndex>=2&&(this.ViewStack.selectedIndex=this.Tab.selectedIndex+2)):this.ViewStack.selectedIndex=this.Tab.selectedIndex+1:(this.ViewStack.selectedIndex=this.Tab.selectedIndex,f.RunData.userPixAccount.isFirstPay&&this.Tab.selectedIndex>=3&&(this.ViewStack.selectedIndex=this.Tab.selectedIndex+1)),this.CheckCover()},t.prototype.CheckCover=function(){var e=!1;1!=this.ViewStack.selectedIndex&&2!=this.ViewStack.selectedIndex||(e=!0),h.BrowserUtil.getOSType()==d.OSType.IOS&&(h.BrowserUtil.isIOSStandlone()?this.SpriteIOS.visible=!1:this.SpriteIOS.visible=!!e),h.BrowserUtil.getOSType()==d.OSType.ANDROID&&(h.BrowserUtil.isAndroidApp()?this.SpriteAndroid.visible=!1:this.SpriteAndroid.visible=!!e),h.BrowserUtil.getOSType()==d.OSType.WINDOWS&&(this.SpriteIOS.visible=!1,this.SpriteAndroid.visible=!!e)},t.prototype.InitBtn=function(){this.btnConfirmLuckyCode.on(S.Laya.Event.CLICK,this,this.onGetLuckCode),this.spSpin.on(S.Laya.Event.CLICK,this,this.onSpin),m.HallEvent.dispatcher.on(m.HallEvent.GET_ZHUANPAN_RESULT,this,this.onSpinResult)},t.prototype.CheckWallet=function(){return null==f.RunData.userPixAccount||null==f.RunData.userPixAccount.walletAccount||null==f.RunData.userPixAccount.walletAccount.WalletAccountNum?(l.default.SetWarnText(u.ConfigMng.getTips(p.Define.TIPS.PIX_ACCOUNT_NOT_BIND)),m.HallEvent.dispatcher.event(m.HallEvent.SHOW_BINDWALLET_DIALOG),!1):null!=f.RunData.userPixAccount.walletAccount&&null!=f.RunData.userPixAccount.walletAccount.WalletType||(l.default.SetWarnText(u.ConfigMng.getTips(p.Define.TIPS.PIX_ACCOUNT_NOT_BIND)),m.HallEvent.dispatcher.event(m.HallEvent.SHOW_BINDWALLET_DIALOG),!1)},t.prototype.onTimer=function(){var e=this;this.LuckCodeTimer=3,S.Laya.timer.loop(1e3,this,function(){e.LuckCodeTimer--,0==e.LuckCodeTimer&&S.Laya.timer.clearAll(e)})},t.prototype.onGetLuckCode=function(){this.CheckWallet()&&(""!=this.inputLuckyCode.text?this.LuckCodeTimer>0?s.default.SetWarnText(u.ConfigMng.getTips(p.Define.TIPS.PLEASE_WAIT)):(this.onTimer(),_.RankService.getLuckyCodeRequest(this.inputLuckyCode.text,S.Laya.Handler.create(this,this.onRspGetLuckCode))):s.default.SetWarnText(u.ConfigMng.getTips(p.Define.TIPS.INPUT_IS_NULL)))},t.prototype.onRspGetLuckCode=function(e){c.LogBase.log("onRspGetLuckCode:",e),0==e.code?m.HallEvent.event(m.HallEvent.SHOW_REWARD,f.GameTool.formatMoneyString(e.data.score)):s.default.SetWarnText(e.msg)},t.prototype.InitFirstRecharge=function(){for(var e=!1,t=1;t<y.servicedata.DenominationConfig.officialPayList.length;t++){var n=y.servicedata.DenominationConfig.officialPayList[t];if(n.IsFirstPay){if(e){this.LabelMoneyAdd2.text=f.GameTool.formatMoneyString(n.Value)+"+"+f.GameTool.formatMoneyString(n.FirstPayValue)+" Coins",this.labMoney2.text=f.GameTool.formatMoneyString(n.Value);break}this.LabelMoneyAdd1.text=f.GameTool.formatMoneyString(n.Value)+"+"+f.GameTool.formatMoneyString(n.FirstPayValue)+" Coins",this.labMoney1.text=f.GameTool.formatMoneyString(n.Value),e=!0}}},t.prototype.InitZhuanpan=function(){if(this.labList=[],this.spList=[],this.labList.push(this.labAward0),this.labList.push(this.labAward1),this.labList.push(this.labAward2),this.labList.push(this.labAward3),this.labList.push(this.labAward4),this.labList.push(this.labAward5),this.labList.push(this.labAward6),this.labList.push(this.labAward7),this.spList.push(this.spICON0),this.spList.push(this.spICON1),this.spList.push(this.spICON2),this.spList.push(this.spICON3),this.spList.push(this.spICON4),this.spList.push(this.spICON5),this.spList.push(this.spICON6),this.spList.push(this.spICON7),this.iWinningPrizeID=-1,f.RunData.LotteryConfig&&1==f.RunData.LotteryConfig.byIsEnabled)for(var e=0;e<f.RunData.LotteryConfig.ilsCount;e++)if(!(f.RunData.LotteryConfig.lsData[e].iSortNum<1||f.RunData.LotteryConfig.lsData[e].iSortNum>8))if(0==f.RunData.LotteryConfig.lsData[e].iAwardType)this.labList[f.RunData.LotteryConfig.lsData[e].iSortNum-1].text="",this.spList[f.RunData.LotteryConfig.lsData[e].iSortNum-1].loadImage(u.ConfigMng.hallconfigJson.zhuanpan.award0);else{var t=f.GameTool.formatMoneyString(f.RunData.LotteryConfig.lsData[e].iAmount);0==Number(t)?this.labList[f.RunData.LotteryConfig.lsData[e].iSortNum-1].text="":this.labList[f.RunData.LotteryConfig.lsData[e].iSortNum-1].text="X "+t,this.spList[f.RunData.LotteryConfig.lsData[e].iSortNum-1].loadImage(this.getAwardResUrl(f.RunData.LotteryConfig.lsData[e].iAmount))}},t.prototype.onSpin=function(){g.default.getZhuanpanResult()},t.prototype.onSpinResult=function(e,t){if(c.LogBase.log("onGetZhuanpanResult",t),this.imgPointZhuanpan.visible=!1,null==this.timeLine&&(this.timeLine=new S.Laya.TimeLine),0==e.uHandleCode){if(0!=t.iWinningPrizeID){this.iWinningPrizeID=t.iWinningPrizeID;for(var o=0;o<f.RunData.LotteryConfig.lsData.length;o++)if(this.iWinningPrizeID==f.RunData.LotteryConfig.lsData[o].iID){n.sIndex=o;break}var i=f.RunData.LotteryConfig.lsData[n.sIndex].iSortNum-1,a=this.spZhuanpan.rotation-this.spZhuanpan.rotation%360+1800-360*i/8+10*Math.random();c.LogBase.log("this.spZhuanpan.rotation1",this.spZhuanpan.rotation,a,i),S.Laya.Tween.to(this.spZhuanpan,{rotation:a},7e3,S.Laya.Ease.quartInOut,S.Laya.Handler.create(this,this.onComplete)),f.RunData.myUserInfo.bSign_HasSigned=!0,m.HallEvent.event(m.HallEvent.REFRESH_HALL)}}else m.HallEvent.dispatcher.event(m.HallEvent.SHOW_NET_MESSAGE,[e.uMainID+"_"+e.uAssistantID,e.uHandleCode])},t.prototype.onComplete=function(){if(c.LogBase.log("this.spZhuanpan.rotation2",this.spZhuanpan.rotation),f.RunData.LotteryConfig.lsData[n.sIndex].iAmount>0){var e=f.GameTool.formatMoneyString(f.RunData.LotteryConfig.lsData[n.sIndex].iAmount);m.HallEvent.event(m.HallEvent.SHOW_REWARD,e)}},t.prototype.onTestSpin=function(){this.spZhuanpan.rotation=0,S.Laya.Tween.to(this.spZhuanpan,{rotation:1135},7e3,S.Laya.Ease.quartInOut,null)},t.prototype.getAwardRes=function(e){return e<1?S.Laya.Loader.getRes(u.ConfigMng.hallconfigJson.zhuanpan.award0):e<u.ConfigMng.hallconfigJson.zhuanpan.awardrang[0]?S.Laya.Loader.getRes(u.ConfigMng.hallconfigJson.zhuanpan.award1):e<u.ConfigMng.hallconfigJson.zhuanpan.awardrang[1]?S.Laya.Loader.getRes(u.ConfigMng.hallconfigJson.zhuanpan.award2):e<u.ConfigMng.hallconfigJson.zhuanpan.awardrang[2]?S.Laya.Loader.getRes(u.ConfigMng.hallconfigJson.zhuanpan.award3):S.Laya.Loader.getRes(u.ConfigMng.hallconfigJson.zhuanpan.award4)},t.prototype.getAwardResUrl=function(e){return e<1?u.ConfigMng.hallconfigJson.zhuanpan.award0:e<u.ConfigMng.hallconfigJson.zhuanpan.awardrang[0]?u.ConfigMng.hallconfigJson.zhuanpan.award1:e<u.ConfigMng.hallconfigJson.zhuanpan.awardrang[1]?u.ConfigMng.hallconfigJson.zhuanpan.award2:e<u.ConfigMng.hallconfigJson.zhuanpan.awardrang[2]?u.ConfigMng.hallconfigJson.zhuanpan.award3:u.ConfigMng.hallconfigJson.zhuanpan.award4},t.prototype.InitMonthRank=function(){this.listRank.array=[],this.btnRegra.on(S.Laya.Event.CLICK,this,this.onOpenRegra),this.loadFace(),this.labName.text=f.RunData.myUserInfo.nickName,this.requestRankList()},t.prototype.onOpenRegra=function(){m.HallEvent.event(m.HallEvent.SHOW_REGRA_DIALOG,"")},t.prototype.requestRankList=function(){_.RankService.MonthRankRequest(S.Laya.Handler.create(this,this.onRspRankList))},t.prototype.loadFace=function(){var e=f.RunData.myUserInfo.bLogoID;(e<0||e>u.ConfigMng.hallconfigJson.face.facelist.length)&&(e=0);var t=u.ConfigMng.hallconfigJson.face.facelist[e];this.spFaceMe.loadImage(t)},t.prototype.onRspRankList=function(e){if(c.LogBase.log("onRspRankList",e),0!=e.code)this.listRank.visible=!1,this.labNoRank.visible=!0,this.labMonth.text="",this.textScore.text="0";else{if(e.data.rankList.length>0){this.listRank.visible=!0,this.labNoRank.visible=!1,this.InitList(e.data.rankList),this.loadMonthDate(e.data.rankList);var t=u.ConfigMng.getFaceResUrl(e.data.rankList[0].Head);if(this.spFace1.loadImage(t),e.data.rankList.length>1){var n=u.ConfigMng.getFaceResUrl(e.data.rankList[1].Head);this.spFace2.loadImage(n)}if(e.data.rankList.length>2){var o=u.ConfigMng.getFaceResUrl(e.data.rankList[2].Head);this.spFace3.loadImage(o)}}else this.listRank.visible=!1,this.labNoRank.visible=!0;e.data.myRank<0?(this.labMyRank.text="",this.labMyRankNot.visible=!0,this.textScore.visible=!1):(this.labMyRank.text=e.data.myRank.toString(),this.labMyRankNot.visible=!1,this.textScore.visible=!0),e.data.myCommission<0?this.textScore.text="0":this.textScore.text=f.GameTool.formatMoneyString(e.data.myCommission)}},t.prototype.loadMonthDate=function(e){var t=e[0].InputDate.toString().split("-");if(t.length>1)switch(this.labMonth.text=t[1],t[1]){case"01":this.labMonth.text="Jan.";break;case"02":this.labMonth.text="Feb.";break;case"03":this.labMonth.text="Mar.";break;case"04":this.labMonth.text="Apr.";break;case"05":this.labMonth.text="May.";break;case"06":this.labMonth.text="Jun.";break;case"07":this.labMonth.text="Jul.";break;case"08":this.labMonth.text="Aug.";break;case"09":this.labMonth.text="Sep.";break;case"10":this.labMonth.text="Oct.";break;case"11":this.labMonth.text="Nov.";break;case"12":this.labMonth.text="Dec."}},t.prototype.InitList=function(e){this.listRank.array=[];for(var t=0;t<e.length;t++){var n=u.ConfigMng.getFaceResUrl(e[t].Head),o=f.GameTool.formatMoneyString_digits(e[t].IncomeMoney,2);this.listRank.addItem({labNO:{text:e[t].RankNum},spFace:{skin:n},labName:{text:e[t].NickName},labUserID:{text:e[t].UserID},labMoney:{text:o}})}},t.prototype.InitBonus=function(){this.ListBonus.array=[];for(var e=0;e<y.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Income.length;e++)3==y.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Income[e].ReturnType&&this.ListBonus.addItem({LabelUsers:{text:y.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Income[e].MinRange},LabelBonus:{text:f.GameTool.formatMoneyNumber(y.servicedata.ServiceConfigs.PlantformConfig.PromoterConfig.Income[e].FixedReward)+"\u20b1"}})},t.sIndex=0,n=a([C()],t)}(b.SceneWealthClubBase7));n.SceneWealthClub7=I,cc._RF.pop()},{"../hall/Tips":"Tips","../halllib/common/ConfigMng":"ConfigMng","../halllib/common/Define":"Define","../halllib/common/LogBase":"LogBase","../halllib/common/Tools":"Tools","../halllib/common/Types":"Types","../halllib/core/RunData":"RunData","../halllib/laya/Laya":"Laya","../halllib/net/HallMsgProxy":"HallMsgProxy","../halllib/net/InnerEvent":"InnerEvent","../halllib/net/PlatformConfig":"PlatformConfig","../halllib/net/PlatformService":"PlatformService","./LoadingView7":"LoadingView7","./SceneWealthClub7.generated":"SceneWealthClub7.generated"}],"SceneWithdraw6.generated":[function(e,t,n){"use strict";cc._RF.push(t,"25021odLEpBFqZfAIa37cX/","SceneWithdraw6.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneWithdrawBase6=void 0;var s=e("../halllib/laya/Laya"),l=r(e("../../main/scripts/components/vitruallist/List")),c=(s.Laya.regClass,s.Laya.property),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.BoxBg=null,t.Imagebg=null,t.imgclose=null,t.LabelUserID=null,t.ViewStack=null,t.item0=null,t.LabelBlanceNum=null,t.LabelMaxNum=null,t.inputAmount=null,t.LabelAccountNumber=null,t.btnWithdraw=null,t.LabelChange=null,t.PreComboBox=null,t.LabelMyAccount=null,t.LabelWithdrawMax=null,t.SelectBindToggle=null,t.item1=null,t.ListRecord=null,t.LabelID=null,t.LabelTime=null,t.LabelAmount=null,t.LabelFee=null,t.LabelRemark=null,t.LabelStatus=null,t.PreTabNode=null,t}return i(t,e),a([c(cc.Node)],t.prototype,"BoxBg",void 0),a([c(cc.Sprite)],t.prototype,"Imagebg",void 0),a([c(cc.Sprite)],t.prototype,"imgclose",void 0),a([c(cc.Label)],t.prototype,"LabelUserID",void 0),a([c(cc.Node)],t.prototype,"ViewStack",void 0),a([c(cc.Node)],t.prototype,"item0",void 0),a([c(cc.Label)],t.prototype,"LabelBlanceNum",void 0),a([c(cc.Label)],t.prototype,"LabelMaxNum",void 0),a([c(cc.EditBox)],t.prototype,"inputAmount",void 0),a([c(cc.Label)],t.prototype,"LabelAccountNumber",void 0),a([c(cc.Button)],t.prototype,"btnWithdraw",void 0),a([c(cc.Label)],t.prototype,"LabelChange",void 0),a([c(cc.Node)],t.prototype,"PreComboBox",void 0),a([c(cc.Label)],t.prototype,"LabelMyAccount",void 0),a([c(cc.Label)],t.prototype,"LabelWithdrawMax",void 0),a([c(cc.Node)],t.prototype,"SelectBindToggle",void 0),a([c(cc.Node)],t.prototype,"item1",void 0),a([c(l.default)],t.prototype,"ListRecord",void 0),a([c(cc.Label)],t.prototype,"LabelID",void 0),a([c(cc.Label)],t.prototype,"LabelTime",void 0),a([c(cc.Label)],t.prototype,"LabelAmount",void 0),a([c(cc.Label)],t.prototype,"LabelFee",void 0),a([c(cc.Label)],t.prototype,"LabelRemark",void 0),a([c(cc.Label)],t.prototype,"LabelStatus",void 0),a([c(cc.Node)],t.prototype,"PreTabNode",void 0),t}(s.Laya.Scene);n.SceneWithdrawBase6=u,cc._RF.pop()},{"../../main/scripts/components/vitruallist/List":"List","../halllib/laya/Laya":"Laya"}],SceneWithdraw6:[function(e,t,n){"use strict";cc._RF.push(t,"0b249vxBjpKuKPU9z6qtOhw","SceneWithdraw6");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneWithdraw6=void 0;var s=r(e("../hall/Tips")),l=r(e("../hall/Tips")),c=e("../halllib/common/LogBase"),u=e("../halllib/common/ConfigMng"),p=e("../halllib/common/Define"),h=e("../halllib/common/Types"),d=e("../halllib/core/RunData"),f=e("../halllib/net/InnerEvent"),g=e("../halllib/net/PlatformConfig"),m=r(e("../halllib/net/PlatformService")),y=r(e("../hallph7/LoadingView7")),_=e("./SceneWithdraw6.generated"),v=e("../halllib/laya/Laya"),b=e("./PrefabTab6"),S=v.Laya.regClass,C=(v.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.text="",t.realMax=0,t.selectToggleContainer=null,t}var n;return i(t,e),n=t,t.Load=function(e){var t=this;this.s_sceneName="SceneWithdraw",this.LoadPrefab(e,this.s_sceneName,u.ConfigMng.getSceneAddr(this.s_sceneName),new v.Laya.Handler(this,function(e){console.log("success:",e,t.s_scene)}),new v.Laya.Handler(this,function(){c.LogBase.error("LoadScene Error:",u.ConfigMng.getSceneAddr(t.s_sceneName)),f.HallEvent.event(f.HallEvent.LOADING_MSG,"Error:"+t.s_sceneName)}))},t.OpenScene=function(t){this.s_scene?e.OpenScene.call(this,t):(y.default.OpenScene(),this.Load(v.Laya.Handler.create(this,this.Show,[t])))},t.Show=function(t){y.default.CloseScene(),e.Show.call(this,t)},t.CloseScene=function(){e.CloseScene.call(this)},t.prototype.onListRender=function(e,t){var n=this.ListRecordArray[t];console.log("onListRender:",e,t,n),e.color=(new cc.Color).fromHEX(n.bgColor),e.getChildByName("LabelID").getComponent(cc.Label).string=n.LabelID.text,e.getChildByName("LabelTime").getComponent(cc.Label).string=n.LabelTime.text,e.getChildByName("LabelAmount").getComponent(cc.Label).string=n.LabelAmount.text,e.getChildByName("LabelFee").getComponent(cc.Label).string=n.LabelFee.text,e.getChildByName("LabelRemark").getComponent(cc.Label).string=n.LabelRemark.text,e.getChildByName("LabelStatus").getComponent(cc.Label).string=n.LabelStatus.text;var o=n.FeeLow.skin;v.Laya.loader.load(o,v.Laya.Loader.SPRITE).then(function(t){t&&t.length>0?e.getChildByName("FeeLow").getComponent(cc.Sprite).spriteFrame=t[0]:c.LogBase.error("loadAsset error:",o)})},t.prototype.onAwake=function(){this.PreTab=this.PreTabNode.getComponent(b.PrefabTab6),this.selectToggleContainer=this.SelectBindToggle.getComponent(cc.ToggleContainer),this.imgclose.node.on(v.Laya.Event.CLICK,this.close,this),this.PreTab.labels="Withdrawal,Record",this.PreTab.updateList(),this.PreTab.selectedIndex=0,this.item0.active=!0,this.item1.active=!1,this.PreTab.clickHandler=v.Laya.Handler.create(this,this.onSelect,null,!1),this.btnWithdraw.node.on(v.Laya.Event.CLICK,this.onWithdraw,this),this.LabelChange.node.on(v.Laya.Event.CLICK,this.onChange,this),f.HallEvent.on(f.HallEvent.UPDATE_WALLETINFO,this,this.InitAccoutNumber),f.HallEvent.on(f.HallEvent.REFRESH_HALL_FIRSTRECHARGE,this,this.InitMaxNum),this.inputAmount.node.on(v.Laya.Event.INPUT,this.onInputAmount,this),this.inputAmount.node.on(v.Laya.Event.CLICK,this.onClickAmount,this),this.SelectBindToggle.on(v.Laya.Event.CLICK,this.onSelectBindType,this)},t.prototype.onEnable=function(){this.LabelUserID.string="ID:"+d.RunData.myUserInfo.dwUserID.toString(),this.LabelWithdrawMax.string="Maximum daily withdrawal amount "+d.GameTool.formatMoneyString(g.servicedata.ServiceConfigs.PlantformConfig.ExchangeLimt.TodayLimit),this.inputAmount.string=d.GameTool.formatMoneyString(g.servicedata.ServiceConfigs.PlantformConfig.ExchangeLimt.Min)+" \u2014\u2014 "+d.GameTool.formatMoneyString(g.servicedata.ServiceConfigs.PlantformConfig.ExchangeLimt.Max),this.inputAmount.string="",this.LabelBlanceNum.string=d.RunData.GetUserMoney(),m.default.getShowPixRequest(),this.InitAccoutNumber()},t.prototype.onSelect=function(){0==this.PreTab.selectedIndex?(this.item0.active=!0,this.item1.active=!1):(this.item0.active=!1,this.item1.active=!0),1==this.PreTab.selectedIndex&&this.onRequestRecord()},t.prototype.onChange=function(){f.HallEvent.dispatcher.event(f.HallEvent.SHOW_BINDWALLET_DIALOG)},t.prototype.onClickAmount=function(){this.inputAmount.string=""},t.prototype.onInputAmount=function(){Number(this.inputAmount.string)<0&&(this.inputAmount.string="")},t.prototype.onSelectBindType=function(){if(this.selectToggleContainer.toggleItems[0].isChecked){if(1001!=d.RunData.userPixAccount.walletAccount.WalletType)return this.LabelAccountNumber.string="Bind your withdrawal account!",this.LabelChange.string="Bind",void(this.LabelMyAccount.string="");null==d.RunData.userPixAccount.walletAccount||null==d.RunData.userPixAccount.walletAccount.WalletAccountNum?(this.LabelAccountNumber.string="Bind your withdrawal account!",this.LabelChange.string="Bind",this.LabelMyAccount.string=""):(this.LabelMyAccount.string="My Account:",this.LabelChange.string="Change",this.LabelAccountNumber.string=d.RunData.userPixAccount.walletAccount.WalletAccountNum)}else{if(1002!=d.RunData.userPixAccount.walletAccount.WalletType)return this.LabelAccountNumber.string="Bind your withdrawal account!",this.LabelChange.string="Bind",void(this.LabelMyAccount.string="");null==d.RunData.userPixAccount.walletAccount.WalletAccountNum?(this.LabelAccountNumber.string="Bind your withdrawal account!",this.LabelChange.string="Bind",this.LabelMyAccount.string=""):(this.LabelMyAccount.string="My Account:",this.LabelChange.string="Change",this.LabelAccountNumber.string=d.RunData.userPixAccount.walletAccount.WalletAccountNum)}},t.prototype.InitAccoutNumber=function(){1001==d.RunData.userPixAccount.walletAccount.ExActType?this.selectToggleContainer.toggleItems[0].check():1002==d.RunData.userPixAccount.walletAccount.ExActType&&this.selectToggleContainer.toggleItems[1].check(),this.onSelectBindType()},t.prototype.InitMaxNum=function(){if(null==g.servicedata.ServiceConfigs.PlantformConfig||null==g.servicedata.ServiceConfigs.PlantformConfig.ExchangeLimt||null==g.servicedata.ServiceConfigs.PlantformConfig.ExchangeLimt)return c.LogBase.error("SceneWithdraw7 Init() null 1"),void(this.LabelMaxNum.string="0");if(null==g.servicedata.ServiceConfigs.PlantformConfig.ExchangeLimt.LockMoney||null==g.servicedata.ServiceConfigs.PlantformConfig.ExchangeLimt.GameBetMultiple||0==g.servicedata.ServiceConfigs.PlantformConfig.ExchangeLimt.GameBetMultiple)return c.LogBase.error("SceneWithdraw7 Init() null 2"),void(this.LabelMaxNum.string="0");var e=d.GameTool.formatMoneyNumber(d.RunData.myUserInfo.dwMoney-g.servicedata.ServiceConfigs.PlantformConfig.ExchangeLimt.LockMoney),t=d.RunData.userPixAccount.withdrawLimit/g.servicedata.ServiceConfigs.PlantformConfig.ExchangeLimt.GameBetMultiple;c.LogBase.log("SceneWithdraw7 InitMaxNum",e,t,g.servicedata.ServiceConfigs.PlantformConfig.ExchangeLimt.LockMoney,d.RunData.userPixAccount.withdrawLimit,g.servicedata.ServiceConfigs.PlantformConfig.ExchangeLimt.GameBetMultiple);var n=e<t?e:t;n<0&&(n=0);var o=d.GameTool.formatMoneyNumber(g.servicedata.ServiceConfigs.PlantformConfig.ExchangeLimt.Max);o>0&&(n=n<o?n:o);var i=d.GameTool.formatMoneyNumber(g.servicedata.ServiceConfigs.PlantformConfig.ExchangeLimt.TodayLimit);i>0&&(n=n<i?n:i),n<0&&(n=0),this.realMax=n,this.LabelMaxNum.string=Math.floor(t).toString(),c.LogBase.log("SceneWithdraw7 LabelMaxNum",this.LabelMaxNum.string,n,e,t)},t.prototype.onWithdraw=function(){return c.LogBase.log("Number(this.inputAmount.text):",d.RunData.userPixAccount,Number(this.inputAmount.string),this.inputAmount.string),null==d.RunData.userPixAccount||null==d.RunData.userPixAccount.walletAccount||null==d.RunData.userPixAccount.walletAccount.WalletAccountNum?(l.default.SetWarnText(u.ConfigMng.getTips(p.Define.TIPS.PIX_ACCOUNT_NOT_BIND)),void f.HallEvent.dispatcher.event(f.HallEvent.SHOW_BINDWALLET_DIALOG)):null==d.RunData.userPixAccount.walletAccount||null==d.RunData.userPixAccount.walletAccount.WalletType?(l.default.SetWarnText(u.ConfigMng.getTips(p.Define.TIPS.PIX_ACCOUNT_NOT_BIND)),void f.HallEvent.dispatcher.event(f.HallEvent.SHOW_BINDWALLET_DIALOG)):void(""!=this.inputAmount.string?d.GameTool.formatMoneyNumber(d.RunData.myUserInfo.dwMoney)-Number(this.inputAmount.string)<d.GameTool.formatMoneyNumber(g.servicedata.ServiceConfigs.PlantformConfig.ExchangeLimt.LockMoney)?s.default.SetWarnText(u.ConfigMng.getNetTips(p.Define.TIPS.WITHDRAW_ERROR_LOCKMONEY)+d.GameTool.formatMoneyNumber(g.servicedata.ServiceConfigs.PlantformConfig.ExchangeLimt.LockMoney)):Number(this.inputAmount.string)>Number(this.LabelMaxNum.string)?s.default.SetWarnText(u.ConfigMng.getNetTips(p.Define.TIPS.WITHDRAW_ERROR_TOOMAX)):Number(this.inputAmount.string)<d.GameTool.formatMoneyNumber(g.servicedata.ServiceConfigs.PlantformConfig.ExchangeLimt.Min)?s.default.SetWarnText(u.ConfigMng.getNetTips(p.Define.TIPS.WITHDRAW_ERROR_TOOMIN)):Number(this.inputAmount.string)>this.realMax?s.default.SetWarnText(u.ConfigMng.getNetTips(p.Define.TIPS.WITHDRAW_ERROR_TOOMAX)):(m.default.withdrawRequest(d.RunData.userPixAccount.walletAccount.WalletType.toString(),Number(this.inputAmount.string),v.Laya.Handler.create(this,this.onWithDrawRsp)),c.LogBase.info("withdrawRequest",this.inputAmount.string)):s.default.SetWarnText(u.ConfigMng.getNetTips(p.Define.TIPS.INPUT_IS_NULL)))},t.prototype.onWithDrawRsp=function(e){if(c.LogBase.log("onWithDrawRsp",e),0==e.code)return s.default.SetText(u.ConfigMng.getNetTips(p.Define.TIPS.SUCCEED),this.zOrder),this.LabelMaxNum.string=(Number(this.LabelMaxNum.string)-Number(this.inputAmount.string)).toString(),Number(this.LabelMaxNum.string)<0&&(this.LabelMaxNum.string="0"),c.LogBase.info("withdrawrsp Succeed",this.inputAmount.string),void m.default.getShowPixRequest();if(0!=e.code){var t=u.ConfigMng.getNetTips(p.Define.TIPS.WITHDRAW_ERROR+e.code);null==t&&(t=e.msg),s.default.SetWarnText(t,this.zOrder)}},t.prototype.onRequestRecord=function(){m.default.getWithdrawRecordRequest(h.ExChangeType.Wallet,v.Laya.Handler.create(this,this.onResposeRecord))},t.prototype.onResposeRecord=function(e){if(c.LogBase.log("onResposeRecord",e),0!=e.code||null==e.data.exchangeLogs||null==e.data.exchangeLogs){var t=u.ConfigMng.getNetTips(p.Define.TIPS.GET_WITHDRAW_RECORD_ERROR+e.code);return null==t&&(t=e.msg),void s.default.SetWarnText(t,this.zOrder)}this.ListRecordArray=[];for(var n=0;n<e.data.exchangeLogs.length;n++){var o=h.PayConfig.PayValue.get(e.data.exchangeLogs[n].ExAccountType),i=1002==Number(e.data.exchangeLogs[n].ExAccountType)?"resources/halls/hallph6/res/hallres/FreeMoney/FEE Low.png":"";this.ListRecordArray.push({bgColor:n%2>1?"":"d1b793",LabelID:{text:e.data.exchangeLogs[n].ID},LabelTime:{text:e.data.exchangeLogs[n].InputDate},LabelAmount:{text:d.GameTool.formatMoneyString(e.data.exchangeLogs[n].ExAmount)},LabelFee:{text:d.GameTool.formatMoneyString(e.data.exchangeLogs[n].FreeAmount)},LabelRemark:{text:o},LabelStatus:{text:d.GameTool.getWithdrawStatusInfo(e.data.exchangeLogs[n].Status)},FeeLow:{skin:i}}),c.LogBase.log("data.data.exchangeLogs",e.data.exchangeLogs[n])}this.ListRecord.numItems=e.data.exchangeLogs.length},t.prototype.onDisable=function(){f.HallEvent.off(f.HallEvent.UPDATE_WALLETINFO,this,this.InitAccoutNumber),f.HallEvent.off(f.HallEvent.REFRESH_HALL_FIRSTRECHARGE,this,this.InitMaxNum)},t.prototype.close=function(){n.s_scene=null,console.log("SceneWithdraw6 close",this,n.s_scene),e.prototype.close.call(this)},n=a([S()],t)}(_.SceneWithdrawBase6));n.SceneWithdraw6=C,cc._RF.pop()},{"../hall/Tips":"Tips","../halllib/common/ConfigMng":"ConfigMng","../halllib/common/Define":"Define","../halllib/common/LogBase":"LogBase","../halllib/common/Types":"Types","../halllib/core/RunData":"RunData","../halllib/laya/Laya":"Laya","../halllib/net/InnerEvent":"InnerEvent","../halllib/net/PlatformConfig":"PlatformConfig","../halllib/net/PlatformService":"PlatformService","../hallph7/LoadingView7":"LoadingView7","./PrefabTab6":"PrefabTab6","./SceneWithdraw6.generated":"SceneWithdraw6.generated"}],"SceneWithdraw7.generated":[function(e,t,n){"use strict";cc._RF.push(t,"97ca5AB0VJPhZ8+DaxITBWo","SceneWithdraw7.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.SceneWithdrawBase7=void 0;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.BoxBg=null,t.Imagebg=null,t.imgclose=null,t.LabelUserID=null,t.Tab=null,t.ViewStack=null,t.item0=null,t.LabelBlanceNum=null,t.LabelMaxNum=null,t.inputAmount=null,t.LabelAccountNumber=null,t.btnWithdraw=null,t.LabelChange=null,t.ComboBoxType=null,t.LabelMyAccount=null,t.LabelWithdrawMax=null,t.item1=null,t.ListRecord=null,t.LabelID=null,t.LabelTime=null,t.LabelAmount=null,t.LabelFee=null,t.LabelRemark=null,t.LabelStatus=null,t}return i(t,e),t}(e("../halllib/laya/Laya").Laya.Scene);n.SceneWithdrawBase7=a,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],SceneWithdraw7:[function(e,t,n){"use strict";cc._RF.push(t,"844771+h75N4KyAxcuSDdl5","SceneWithdraw7");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneWithdraw7=void 0;var s=r(e("../hall/Tips")),l=r(e("../hall/Tips")),c=e("../halllib/common/LogBase"),u=e("../halllib/common/ConfigMng"),p=e("../halllib/common/Define"),h=e("../halllib/common/Types"),d=e("../halllib/core/RunData"),f=e("../halllib/net/InnerEvent"),g=e("../halllib/net/PlatformConfig"),m=r(e("../halllib/net/PlatformService")),y=r(e("./LoadingView7")),_=e("./SceneWithdraw7.generated"),v=e("../halllib/laya/Laya"),b=v.Laya.regClass,S=(v.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.text="",t.realMax=0,t}return i(t,e),t.Load=function(e){var t=this;v.Laya.Scene.load(u.ConfigMng.getSceneAddr("SceneWithdraw7"),null,null).then(function(n){t.s_scene=n,e&&e.run()})},t.OpenScene=function(e){this.s_scene?e?e.addChild(this.s_scene):v.Laya.stage.addChild(this.s_scene):(y.default.OpenScene(),this.Load(v.Laya.Handler.create(this,this.Show,[e])))},t.Show=function(e){y.default.CloseScene(),e?e.addChild(this.s_scene):v.Laya.stage.addChild(this.s_scene)},t.prototype.onAwake=function(){this.imgclose.on(v.Laya.Event.CLICK,this,this.close),this.Tab.on(v.Laya.Event.CLICK,this,this.onSelect),this.Tab.selectedIndex=0,this.ViewStack.selectedIndex=0,this.btnWithdraw.on(v.Laya.Event.CLICK,this,this.onWithdraw),this.LabelChange.on(v.Laya.Event.CLICK,this,this.onChange),f.HallEvent.on(f.HallEvent.UPDATE_WALLETINFO,this,this.InitAccoutNumber),f.HallEvent.on(f.HallEvent.REFRESH_HALL_FIRSTRECHARGE,this,this.InitMaxNum),this.inputAmount.on(v.Laya.Event.INPUT,this,this.onInputAmount),this.inputAmount.on(v.Laya.Event.CLICK,this,this.onClickAmount),this.inputAmount.restrict=p.Define.COMM.RESTRICT_NUMBER},t.prototype.onEnable=function(){this.LabelUserID.text="ID:"+d.RunData.myUserInfo.dwUserID.toString(),this.LabelWithdrawMax.text="Maximum daily withdrawal amount "+d.GameTool.formatMoneyString(g.servicedata.ServiceConfigs.PlantformConfig.ExchangeLimt.TodayLimit),this.inputAmount.prompt=d.GameTool.formatMoneyString(g.servicedata.ServiceConfigs.PlantformConfig.ExchangeLimt.Min)+" \u2014\u2014 "+d.GameTool.formatMoneyString(g.servicedata.ServiceConfigs.PlantformConfig.ExchangeLimt.Max),this.inputAmount.text="",this.LabelBlanceNum.text=d.RunData.GetUserMoney(),m.default.getShowPixRequest(),this.InitAccoutNumber()},t.prototype.onSelect=function(){this.ViewStack.selectedIndex=this.Tab.selectedIndex,1==this.Tab.selectedIndex&&this.onRequestRecord()},t.prototype.onChange=function(){f.HallEvent.dispatcher.event(f.HallEvent.SHOW_BINDWALLET_DIALOG)},t.prototype.onClickAmount=function(){this.inputAmount.text=""},t.prototype.onInputAmount=function(){Number(this.inputAmount.text)<0&&(this.inputAmount.text="")},t.prototype.InitAccoutNumber=function(){null==d.RunData.userPixAccount||null==d.RunData.userPixAccount.walletAccount||null==d.RunData.userPixAccount.walletAccount.WalletAccountNum?this.LabelAccountNumber.text="":this.LabelAccountNumber.text=d.RunData.userPixAccount.walletAccount.WalletAccountNum,""==this.LabelAccountNumber.text||"null"==this.LabelAccountNumber.text?(this.LabelAccountNumber.text="Bind your withdrawal account!",this.LabelChange.text="Bind",this.LabelMyAccount.text=""):(this.LabelMyAccount.text="My Account:",this.LabelChange.text="Change")},t.prototype.InitMaxNum=function(){if(null==g.servicedata.ServiceConfigs.PlantformConfig||null==g.servicedata.ServiceConfigs.PlantformConfig.ExchangeLimt||null==g.servicedata.ServiceConfigs.PlantformConfig.ExchangeLimt)return c.LogBase.error("SceneWithdraw7 Init() null 1"),void(this.LabelMaxNum.text="0");if(null==g.servicedata.ServiceConfigs.PlantformConfig.ExchangeLimt.LockMoney||null==g.servicedata.ServiceConfigs.PlantformConfig.ExchangeLimt.GameBetMultiple||0==g.servicedata.ServiceConfigs.PlantformConfig.ExchangeLimt.GameBetMultiple)return c.LogBase.error("SceneWithdraw7 Init() null 2"),void(this.LabelMaxNum.text="0");var e=d.GameTool.formatMoneyNumber(d.RunData.myUserInfo.dwMoney-g.servicedata.ServiceConfigs.PlantformConfig.ExchangeLimt.LockMoney),t=d.RunData.userPixAccount.withdrawLimit/g.servicedata.ServiceConfigs.PlantformConfig.ExchangeLimt.GameBetMultiple;c.LogBase.log("SceneWithdraw7 InitMaxNum",e,t,g.servicedata.ServiceConfigs.PlantformConfig.ExchangeLimt.LockMoney,d.RunData.userPixAccount.withdrawLimit,g.servicedata.ServiceConfigs.PlantformConfig.ExchangeLimt.GameBetMultiple);var n=e<t?e:t;n<0&&(n=0);var o=d.GameTool.formatMoneyNumber(g.servicedata.ServiceConfigs.PlantformConfig.ExchangeLimt.Max);o>0&&(n=n<o?n:o);var i=d.GameTool.formatMoneyNumber(g.servicedata.ServiceConfigs.PlantformConfig.ExchangeLimt.TodayLimit);i>0&&(n=n<i?n:i),n<0&&(n=0),this.realMax=n,this.LabelMaxNum.text=Math.floor(t).toString(),c.LogBase.log("SceneWithdraw7 LabelMaxNum",this.LabelMaxNum.text,n,e,t)},t.prototype.onWithdraw=function(){return c.LogBase.log("Number(this.inputAmount.text):",d.RunData.userPixAccount,Number(this.inputAmount.text),this.inputAmount.text),null==d.RunData.userPixAccount||null==d.RunData.userPixAccount.walletAccount||null==d.RunData.userPixAccount.walletAccount.WalletAccountNum?(l.default.SetWarnText(u.ConfigMng.getTips(p.Define.TIPS.PIX_ACCOUNT_NOT_BIND)),void f.HallEvent.dispatcher.event(f.HallEvent.SHOW_BINDWALLET_DIALOG)):null==d.RunData.userPixAccount.walletAccount||null==d.RunData.userPixAccount.walletAccount.WalletType?(l.default.SetWarnText(u.ConfigMng.getTips(p.Define.TIPS.PIX_ACCOUNT_NOT_BIND)),void f.HallEvent.dispatcher.event(f.HallEvent.SHOW_BINDWALLET_DIALOG)):void(""!=this.inputAmount.text?d.GameTool.formatMoneyNumber(d.RunData.myUserInfo.dwMoney)-Number(this.inputAmount.text)<d.GameTool.formatMoneyNumber(g.servicedata.ServiceConfigs.PlantformConfig.ExchangeLimt.LockMoney)?s.default.SetWarnText(u.ConfigMng.getNetTips(p.Define.TIPS.WITHDRAW_ERROR_LOCKMONEY)+d.GameTool.formatMoneyNumber(g.servicedata.ServiceConfigs.PlantformConfig.ExchangeLimt.LockMoney)):Number(this.inputAmount.text)>Number(this.LabelMaxNum.text)?s.default.SetWarnText(u.ConfigMng.getNetTips(p.Define.TIPS.WITHDRAW_ERROR_TOOMAX)):Number(this.inputAmount.text)<d.GameTool.formatMoneyNumber(g.servicedata.ServiceConfigs.PlantformConfig.ExchangeLimt.Min)?s.default.SetWarnText(u.ConfigMng.getNetTips(p.Define.TIPS.WITHDRAW_ERROR_TOOMIN)):Number(this.inputAmount.text)>this.realMax?s.default.SetWarnText(u.ConfigMng.getNetTips(p.Define.TIPS.WITHDRAW_ERROR_TOOMAX)):(m.default.withdrawRequest(d.RunData.userPixAccount.walletAccount.WalletType.toString(),Number(this.inputAmount.text),v.Laya.Handler.create(this,this.onWithDrawRsp)),c.LogBase.info("withdrawRequest",this.inputAmount.text)):s.default.SetWarnText(u.ConfigMng.getNetTips(p.Define.TIPS.INPUT_IS_NULL)))},t.prototype.onWithDrawRsp=function(e){if(c.LogBase.log("onWithDrawRsp",e),0==e.code)return s.default.SetText(u.ConfigMng.getNetTips(p.Define.TIPS.SUCCEED),this.zOrder),this.LabelMaxNum.text=(Number(this.LabelMaxNum.text)-Number(this.inputAmount.text)).toString(),Number(this.LabelMaxNum.text)<0&&(this.LabelMaxNum.text="0"),c.LogBase.info("withdrawrsp Succeed",this.inputAmount.text),void m.default.getShowPixRequest();if(0!=e.code){var t=u.ConfigMng.getNetTips(p.Define.TIPS.WITHDRAW_ERROR+e.code);null==t&&(t=e.msg),s.default.SetWarnText(t,this.zOrder)}},t.prototype.onRequestRecord=function(){h.PayConfig.WalletType.get(this.ComboBoxType.selectedLabel),m.default.getWithdrawRecordRequest(h.ExChangeType.Wallet,v.Laya.Handler.create(this,this.onResposeRecord))},t.prototype.onResposeRecord=function(e){if(c.LogBase.log("onResposeRecord",e),0!=e.code||null==e.data.exchangeLogs||null==e.data.exchangeLogs){var t=u.ConfigMng.getNetTips(p.Define.TIPS.GET_WITHDRAW_RECORD_ERROR+e.code);return null==t&&(t=e.msg),void s.default.SetWarnText(t,this.zOrder)}this.ListRecord.array=[];for(var n=0;n<e.data.exchangeLogs.length;n++){var o=h.PayConfig.PayValue.get(e.data.exchangeLogs[n].ExAccountType);this.ListRecord.addItem({LabelID:{text:e.data.exchangeLogs[n].ID},LabelTime:{text:e.data.exchangeLogs[n].InputDate},LabelAmount:{text:d.GameTool.formatMoneyString(e.data.exchangeLogs[n].ExAmount)},LabelFee:{text:d.GameTool.formatMoneyString(e.data.exchangeLogs[n].FreeAmount)},LabelRemark:{text:o},LabelStatus:{text:d.GameTool.getWithdrawStatusInfo(e.data.exchangeLogs[n].Status)}}),c.LogBase.log("data.data.exchangeLogs",e.data.exchangeLogs[n])}this.ListRecord.repeatY=e.data.exchangeLogs.length},a([b()],t)}(_.SceneWithdrawBase7));n.SceneWithdraw7=S,cc._RF.pop()},{"../hall/Tips":"Tips","../halllib/common/ConfigMng":"ConfigMng","../halllib/common/Define":"Define","../halllib/common/LogBase":"LogBase","../halllib/common/Types":"Types","../halllib/core/RunData":"RunData","../halllib/laya/Laya":"Laya","../halllib/net/InnerEvent":"InnerEvent","../halllib/net/PlatformConfig":"PlatformConfig","../halllib/net/PlatformService":"PlatformService","./LoadingView7":"LoadingView7","./SceneWithdraw7.generated":"SceneWithdraw7.generated"}],ScreenAdapter:[function(e,t,n){"use strict";cc._RF.push(t,"c88c4pkGgdElqibq+wToycK","ScreenAdapter");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../gg"),s=cc._decorator,l=s.ccclass,c=s.executionOrder,u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onLoad=function(){var e=this;this._onResize(),cc.view.setResizeCallback(function(){return e._onResize()})},t.prototype._onResize=function(){var e=cc.winSize.width,t=cc.winSize.height,n=e/t,o=cc.Canvas.instance.designResolution.width,i=cc.Canvas.instance.designResolution.height,a=o/i;r.gg.logger.log("\u5f53\u524d\u5c4f\u5e55\u5206\u8fa8\u7387: width:"+e+" x height:"+t+" \u5bbd\u9ad8\u6bd4: "+n),r.gg.logger.log("\u5f53\u524d\u8bbe\u8ba1\u5206\u8fa8\u7387: width:"+o+" x height:"+i+" \u5bbd\u9ad8\u6bd4: "+a),a>=n?(r.gg.logger.log("\u8bbe\u8ba1\u5206\u8fa8\u7387\u5bbd\u9ad8\u6bd4\u5927\u4e8e\u7b49\u4e8e\u5c4f\u5e55\u5206\u8fa8\u7387\u5bbd\u9ad8\u6bd4\uff0c\u5c06\u91c7\u7528\u9002\u914d\u5bbd\u5ea6\u7684\u6a21\u5f0f\uff0c\u4ee5\u907f\u514d\u5185\u5bb9\u8d8a\u51fa\u5c4f\u5e55\u8fb9\u754c\uff0c\u540c\u65f6\u80cc\u666f\u9700\u8981\u81ea\u884c\u505a\u586b\u5145\uff0c\u4ee5\u907f\u514d\u4e0a\u4e0b\u9ed1\u8fb9"),this.setFitWidth()):(r.gg.logger.log("\u8bbe\u8ba1\u5206\u8fa8\u7387\u5bbd\u9ad8\u6bd4\u5c0f\u4e8e\u5c4f\u5e55\u5206\u8fa8\u7387\u5bbd\u9ad8\u6bd4\uff0c\u5c06\u91c7\u7528\u9002\u914d\u9ad8\u5ea6\u7684\u6a21\u5f0f\uff0c\u4ee5\u907f\u514d\u5185\u5bb9\u8d8a\u51fa\u5c4f\u5e55\u8fb9\u754c\uff0c\u540c\u65f6\u80cc\u666f\u9700\u8981\u81ea\u884c\u505a\u586b\u5145\uff0c\u4ee5\u907f\u514d\u5de6\u53f3\u9ed1\u8fb9"),this.setFitHeight())},t.prototype.setFitHeight=function(){var e=cc.Canvas.instance;e.fitHeight=!0,e.fitWidth=!1},t.prototype.setFitWidth=function(){var e=cc.Canvas.instance;e.fitHeight=!1,e.fitWidth=!0},a([l,c(-999)],t)}(cc.Component);n.default=u,cc._RF.pop()},{"../../gg":"gg"}],ScreenAreaAdapterComponent:[function(e,t,n){"use strict";cc._RF.push(t,"547229c25RLcYCMoHRppBtG","ScreenAreaAdapterComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onLoad=function(){this._onResize()},t.prototype.onEnable=function(){var e=this._onResize.bind(this);window.addEventListener("resize",e),window.addEventListener("orientationchange",e)},t.prototype.onDisable=function(){var e=this._onResize.bind(this);window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e)},t.prototype._onResize=function(){var e=cc.view.getVisibleSize().width,t=cc.view.getVisibleSize().height,n=cc.view.getCanvasSize().width,o=cc.view.getCanvasSize().height,i=Math.min(n/e,o/t);this.node.width=n/i,this.node.height=o/i},a([s],t)}(cc.Component));n.default=l,cc._RF.pop()},{}],ScriptAchievement6:[function(e,t,n){"use strict";cc._RF.push(t,"68575PRpb1L7I1kNPyBfo4S","ScriptAchievement6");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.ScriptAchievement6=void 0;var s=r(e("../hall/Tips")),l=e("../halllib/common/LogBase"),c=e("../halllib/common/Tools"),u=e("../halllib/net/InnerEvent"),p=r(e("../halllib/net/PlatformService")),h=e("../halllib/laya/Laya"),d=h.Laya.regClass,f=h.Laya.property,g=function(e){function t(){var t=e.call(this)||this;return t.ImageReceive=null,t.LabelPlayers=null,t.LabelPlayerRange=null,t.LabelStatus=null,t.LabelReward=null,t.btnRecviveSkin=null,t}return i(t,e),t.prototype.onEnable=function(){this.ImageReceive&&this.ImageReceive.node.on(h.Laya.Event.CLICK,this.onClick,this)},t.prototype.initData=function(e,t,n,o,i,a){this.LabelPlayers.string=e,this.LabelPlayerRange.string=t,this.LabelStatus.string=o,this.LabelReward.string=i+"";var r=this,s=a.skin.replace("resources/","");cc.loader.loadRes(s,cc.SpriteFrame,function(e,t){e?console.error(e):r.ImageReceive.node.getComponent(cc.Sprite).spriteFrame=t}),this.ImageReceive.interactable=!a.gray,this.ImageReceive.enableAutoGrayEffect=a.gray},t.prototype.onClick=function(){"2"==this.LabelStatus.string&&(l.LogBase.debug(this.LabelStatus.string),p.default.RequestGetPromoterPayIncome(this.LabelPlayers.string,c.BrowserUtil.getOSType(),h.Laya.Handler.create(this,this.onRspGetPayInfome)))},t.prototype.onRspGetPayInfome=function(e){l.LogBase.log("onRspGetPayInfome",e),0==e.code&&(this.ImageReceive.node.getComponent(cc.Sprite).spriteFrame=this.btnRecviveSkin,this.ImageReceive.node.off(h.Laya.Event.CLICK,this.onClick,this),u.HallEvent.event(u.HallEvent.REFRESH_ACHIEVEMENT),s.default.SetText("Succeed!"))},a([f(cc.Button)],t.prototype,"ImageReceive",void 0),a([f(cc.Label)],t.prototype,"LabelPlayers",void 0),a([f(cc.Label)],t.prototype,"LabelPlayerRange",void 0),a([f(cc.Label)],t.prototype,"LabelStatus",void 0),a([f(cc.Label)],t.prototype,"LabelReward",void 0),a([f(cc.SpriteFrame)],t.prototype,"btnRecviveSkin",void 0),a([d()],t)}(h.Laya.Script);n.ScriptAchievement6=g,cc._RF.pop()},{"../hall/Tips":"Tips","../halllib/common/LogBase":"LogBase","../halllib/common/Tools":"Tools","../halllib/laya/Laya":"Laya","../halllib/net/InnerEvent":"InnerEvent","../halllib/net/PlatformService":"PlatformService"}],ScriptAchievement7:[function(e,t,n){"use strict";cc._RF.push(t,"9c5302sL2xBaZ/3xX7Dw0JD","ScriptAchievement7");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.ScriptAchievement7=void 0;var s=r(e("../hall/Tips")),l=e("../halllib/common/LogBase"),c=e("../halllib/common/Tools"),u=e("../halllib/net/InnerEvent"),p=r(e("../halllib/net/PlatformService")),h=e("../halllib/laya/Laya"),d=h.Laya.regClass,f=h.Laya.property,g=function(e){function t(){var t=e.call(this)||this;return t.ImageReceive=null,t.LabelPlayers=null,t.LabelStatus=null,t}return i(t,e),t.prototype.onEnable=function(){this.ImageReceive&&this.ImageReceive.on(h.Laya.Event.CLICK,this,this.onClick)},t.prototype.onClick=function(){"2"==this.LabelStatus.text&&(l.LogBase.debug(this.LabelStatus.text),p.default.RequestGetPromoterPayIncome(this.LabelPlayers.text,c.BrowserUtil.getOSType(),h.Laya.Handler.create(this,this.onRspGetPayInfome)))},t.prototype.onRspGetPayInfome=function(e){l.LogBase.log("onRspGetPayInfome",e),0==e.code&&(this.ImageReceive.skin="resources/halls/hallph7/res/hallres/wealthclub/Received.png",this.ImageReceive.off(h.Laya.Event.CLICK,this,this.onClick),u.HallEvent.event(u.HallEvent.REFRESH_ACHIEVEMENT),s.default.SetText("Succeed!"))},a([f(h.Laya.Image)],t.prototype,"ImageReceive",void 0),a([f(h.Laya.Label)],t.prototype,"LabelPlayers",void 0),a([f(h.Laya.Label)],t.prototype,"LabelStatus",void 0),a([d()],t)}(h.Laya.Script);n.ScriptAchievement7=g,cc._RF.pop()},{"../hall/Tips":"Tips","../halllib/common/LogBase":"LogBase","../halllib/common/Tools":"Tools","../halllib/laya/Laya":"Laya","../halllib/net/InnerEvent":"InnerEvent","../halllib/net/PlatformService":"PlatformService"}],"ScriptMail7.generated":[function(e,t,n){"use strict";cc._RF.push(t,"2a9fcUkkEFG5IzRgbXVMBlw","ScriptMail7.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.ScriptMailBase7=void 0;var r=e("../halllib/laya/Laya"),s=(r.Laya.regClass,r.Laya.property),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.RadioNew=null,t.labMailTitle=null,t.labMailTime=null,t.checkSelect=null,t.labContents=null,t.labtDetal=null,t.LabelID=null,t.ImageGift=null,t}return i(t,e),a([s(cc.Node)],t.prototype,"RadioNew",void 0),a([s(cc.Label)],t.prototype,"labMailTitle",void 0),a([s(cc.Label)],t.prototype,"labMailTime",void 0),a([s(cc.Toggle)],t.prototype,"checkSelect",void 0),a([s(cc.Label)],t.prototype,"labContents",void 0),a([s(cc.Label)],t.prototype,"labtDetal",void 0),a([s(cc.Label)],t.prototype,"LabelID",void 0),a([s(cc.Sprite)],t.prototype,"ImageGift",void 0),t}(r.Laya.Scene);n.ScriptMailBase7=l,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],ScriptMail7:[function(e,t,n){"use strict";cc._RF.push(t,"59de0uFU7BJBpmKfLXfLkRV","ScriptMail7");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.ScriptMail7=void 0;var s=r(e("../halllib/net/PlatformService")),l=e("./ScriptMail7.generated"),c=e("../halllib/net/InnerEvent"),u=e("../halllib/common/ConfigMng"),p=e("../halllib/common/LogBase"),h=e("../halllib/laya/Laya"),d=h.Laya.regClass,f=(h.Laya.property,function(e){function t(){return e.call(this)||this}return i(t,e),t.Load=function(e){var t=this;h.Laya.loader.load(u.ConfigMng.getSceneAddr("ScriptMail7"),null,null).then(function(n){t.resData=n,e&&e.run()})},t.CreateNew=function(){return this.resData?this.resData.create():(this.Load(),null)},t.prototype.onEnable=function(){this.labtDetal.on(h.Laya.Event.CLICK,this,this.onDetail),this.checkSelect.on(h.Laya.Event.CLICK,this,this.onSelect)},t.prototype.onDetail=function(){p.LogBase.log("ScriptMail7",this.LabelID.text,this.dataSource,this.mdata),this.dataSource.mdata&&s.default.getMailDetailsRequest(this.dataSource.mdata.ID,h.Laya.Handler.create(this,this.onRspDetail))},t.prototype.onRspDetail=function(e){p.LogBase.log("onRspDetail",e),0==e.code&&c.HallEvent.event(c.HallEvent.SHOW_MAILDETAIL_DIALOG,[this.dataSource.mdata,e])},t.prototype.onSelect=function(){this.dataSource.checkSelect.selected=this.checkSelect.selected,p.LogBase.log("checkSelect.selected",this.checkSelect.selected,this.dataSource.checkSelect.selected)},a([d()],t)}(l.ScriptMailBase7));n.ScriptMail7=f,cc._RF.pop()},{"../halllib/common/ConfigMng":"ConfigMng","../halllib/common/LogBase":"LogBase","../halllib/laya/Laya":"Laya","../halllib/net/InnerEvent":"InnerEvent","../halllib/net/PlatformService":"PlatformService","./ScriptMail7.generated":"ScriptMail7.generated"}],"ScriptNotice7.generated":[function(e,t,n){"use strict";cc._RF.push(t,"71296RtFgFJWpDoECp0/sUm","ScriptNotice7.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.ScriptNoticeBase7=void 0;var r=e("../halllib/laya/Laya"),s=(r.Laya.regClass,r.Laya.property),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.labTitle=null,t.labTime=null,t.labMsg=null,t.labDetal=null,t.LabelID=null,t}return i(t,e),a([s(cc.Label)],t.prototype,"labTitle",void 0),a([s(cc.Label)],t.prototype,"labTime",void 0),a([s(cc.Label)],t.prototype,"labMsg",void 0),a([s(cc.Label)],t.prototype,"labDetal",void 0),a([s(cc.Label)],t.prototype,"LabelID",void 0),t}(r.Laya.Scene);n.ScriptNoticeBase7=l,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],ScriptNotice7:[function(e,t,n){"use strict";cc._RF.push(t,"2c32bnIw6JGB5U8K4E8U7U5","ScriptNotice7");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.ScriptNotice7=void 0;var r=e("./ScriptNotice7.generated"),s=e("../halllib/common/ConfigMng"),l=e("../halllib/common/LogBase"),c=e("../halllib/laya/Laya"),u=c.Laya.regClass,p=(c.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.text=null,t}return i(t,e),t.Load=function(e){var t=this;c.Laya.loader.load(s.ConfigMng.getSceneAddr("ScriptNotice7"),null,null).then(function(n){t.resData=n,e&&e.run()})},t.CreateNew=function(){return this.resData?this.resData.create():(this.Load(),null)},t.prototype.onEnable=function(){this.labDetal.node.on(c.Laya.Event.CLICK,this.onDetail,this)},t.prototype.onDetail=function(){l.LogBase.log("ScriptNotice7",this.LabelID.string)},a([u()],t)}(r.ScriptNoticeBase7));n.ScriptNotice7=p,cc._RF.pop()},{"../halllib/common/ConfigMng":"ConfigMng","../halllib/common/LogBase":"LogBase","../halllib/laya/Laya":"Laya","./ScriptNotice7.generated":"ScriptNotice7.generated"}],ScriptRebate7:[function(e,t,n){"use strict";cc._RF.push(t,"ed576OqnNtHfIKBxcAj3Zlx","ScriptRebate7");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.ScriptRebate7=void 0;var s=r(e("../hall/Tips")),l=e("../halllib/common/LogBase"),c=r(e("../halllib/net/PlatformService")),u=e("../halllib/laya/Laya"),p=u.Laya.regClass,h=(u.Laya.property,function(e){function t(){return e.call(this)||this}return i(t,e),t.prototype.onEnable=function(){},t.prototype.initData=function(e,t,n,o,i,a){this.node.getChildByName("Label1").getComponent(cc.Label).string=e,this.node.getChildByName("Label2").getComponent(cc.Label).string=t,this.node.getChildByName("Label3").getComponent(cc.Label).string=n,this.node.getChildByName("Label4").getComponent(cc.Label).string=o,this.node.getChildByName("btnCollect").active=i.disabled,this.node.getChildByName("btnCollect").getChildByName("text").getComponent(cc.Label).string=i.label;var r=this;console.log("btnData.skin_---",i.skin),cc.loader.loadRes(i.skin,cc.SpriteFrame,function(e,t){e&&console.log(e),r.node.getChildByName("btnCollect").getComponent(cc.Sprite).spriteFrame=t}),this.data=a},t.prototype.onClick=function(){0==this.data.Status&&c.default.RequestCollectRebate(this.data.ID,u.Laya.Handler.create(this,this.onRspCollectRebate))},t.prototype.onRspCollectRebate=function(e){l.LogBase.debug("onRspCollectRebate",e),0==e.code&&s.default.SetText("Succeed!")},a([p()],t)}(u.Laya.Script));n.ScriptRebate7=h,cc._RF.pop()},{"../hall/Tips":"Tips","../halllib/common/LogBase":"LogBase","../halllib/laya/Laya":"Laya","../halllib/net/PlatformService":"PlatformService"}],ScriptZhuanpan7:[function(e,t,n){"use strict";cc._RF.push(t,"1ec9e77qQxAd7/ysLtSM1tv","ScriptZhuanpan7");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.ScriptZhuanpan7=void 0;var s=e("../halllib/common/ConfigMng"),l=e("../halllib/core/RunData"),c=r(e("../halllib/net/HallMsgProxy")),u=e("../halllib/net/InnerEvent"),p=e("../halllib/common/LogBase"),h=e("../halllib/common/Tools"),d=e("../halllib/common/Types"),f=e("../halllib/laya/Laya"),g=f.Laya.regClass,m=f.Laya.property,y=function(e){function t(){var t=e.call(this)||this;return t.spZhuanpan=null,t.spICON7=null,t.spICON0=null,t.spICON1=null,t.spICON2=null,t.spICON6=null,t.spICON3=null,t.spICON4=null,t.spICON5=null,t.labAward0=null,t.labAward7=null,t.labAward1=null,t.labAward3=null,t.labAward4=null,t.labAward5=null,t.labAward2=null,t.labAward6=null,t.spSpin=null,t.timeLine=null,t.labList=new Array,t.spList=new Array,t.iWinningPrizeID=-1,t}var n;return i(t,e),n=t,t.prototype.onAwake=function(){u.HallEvent.dispatcher.on(u.HallEvent.GET_ZHUANPAN_RESULT,this,this.onSpinResult),h.BrowserUtil.getOSType()==d.OSType.IOS&&h.BrowserUtil.isIOSStandlone()&&this.spSpin.on(f.Laya.Event.CLICK,this,this.onSpin),h.BrowserUtil.getOSType()==d.OSType.ANDROID&&h.BrowserUtil.isAndroidApp()&&this.spSpin.on(f.Laya.Event.CLICK,this,this.onSpin),h.BrowserUtil.getOSType()==d.OSType.WINDOWS&&this.spSpin.on(f.Laya.Event.CLICK,this,this.onSpin)},t.prototype.onEnable=function(){if(this.labList=[],this.spList=[],this.labList.push(this.labAward0),this.labList.push(this.labAward1),this.labList.push(this.labAward2),this.labList.push(this.labAward3),this.labList.push(this.labAward4),this.labList.push(this.labAward5),this.labList.push(this.labAward6),this.labList.push(this.labAward7),this.spList.push(this.spICON0),this.spList.push(this.spICON1),this.spList.push(this.spICON2),this.spList.push(this.spICON3),this.spList.push(this.spICON4),this.spList.push(this.spICON5),this.spList.push(this.spICON6),this.spList.push(this.spICON7),this.iWinningPrizeID=-1,l.RunData.LotteryConfig&&1==l.RunData.LotteryConfig.byIsEnabled)for(var e=0;e<l.RunData.LotteryConfig.ilsCount;e++)if(!(l.RunData.LotteryConfig.lsData[e].iSortNum<1||l.RunData.LotteryConfig.lsData[e].iSortNum>8))if(0==l.RunData.LotteryConfig.lsData[e].iAwardType)this.labList[l.RunData.LotteryConfig.lsData[e].iSortNum-1].text="",this.spList[l.RunData.LotteryConfig.lsData[e].iSortNum-1].texture=f.Laya.Loader.getRes(s.ConfigMng.hallconfigJson.zhuanpan.award0),this.spList[l.RunData.LotteryConfig.lsData[e].iSortNum-1].width=this.spList[l.RunData.LotteryConfig.lsData[e].iSortNum-1].texture.width,this.spList[l.RunData.LotteryConfig.lsData[e].iSortNum-1].height=this.spList[l.RunData.LotteryConfig.lsData[e].iSortNum-1].texture.height;else{var t=l.GameTool.formatMoneyString(l.RunData.LotteryConfig.lsData[e].iAmount);0==Number(t)?this.labList[l.RunData.LotteryConfig.lsData[e].iSortNum-1].text="":this.labList[l.RunData.LotteryConfig.lsData[e].iSortNum-1].text="X "+t,this.spList[l.RunData.LotteryConfig.lsData[e].iSortNum-1].texture=this.getAwardRes(l.RunData.LotteryConfig.lsData[e].iAmount),this.spList[l.RunData.LotteryConfig.lsData[e].iSortNum-1].width=this.spList[l.RunData.LotteryConfig.lsData[e].iSortNum-1].texture.width,this.spList[l.RunData.LotteryConfig.lsData[e].iSortNum-1].height=this.spList[l.RunData.LotteryConfig.lsData[e].iSortNum-1].texture.height}},t.prototype.onSpin=function(){c.default.getZhuanpanResult()},t.prototype.onSpinResult=function(e,t){if(p.LogBase.log("onGetZhuanpanResult",t),null==this.timeLine&&(this.timeLine=new f.Laya.TimeLine),0==e.uHandleCode){if(0!=t.iWinningPrizeID){this.iWinningPrizeID=t.iWinningPrizeID;for(var o=0;o<l.RunData.LotteryConfig.lsData.length;o++)if(this.iWinningPrizeID==l.RunData.LotteryConfig.lsData[o].iID){n.sIndex=o;break}var i=l.RunData.LotteryConfig.lsData[n.sIndex].iSortNum-1,a=this.spZhuanpan.rotation-this.spZhuanpan.rotation%360+1800-360*i/8+10*Math.random();p.LogBase.log("this.spZhuanpan.rotation1",this.spZhuanpan.rotation,a,i),f.Laya.Tween.to(this.spZhuanpan,{rotation:a},7e3,f.Laya.Ease.quartInOut,f.Laya.Handler.create(this,this.onComplete))}}else u.HallEvent.dispatcher.event(u.HallEvent.SHOW_NET_MESSAGE,[e.uMainID+"_"+e.uAssistantID,e.uHandleCode])},t.prototype.onComplete=function(){if(p.LogBase.log("this.spZhuanpan.rotation2",this.spZhuanpan.rotation),l.RunData.LotteryConfig.lsData[n.sIndex].iAmount>0){var e=l.GameTool.formatMoneyString(l.RunData.LotteryConfig.lsData[n.sIndex].iAmount);u.HallEvent.event(u.HallEvent.SHOW_REWARD,e)}},t.prototype.getAwardRes=function(e){return e<1?f.Laya.Loader.getRes(s.ConfigMng.hallconfigJson.zhuanpan.award0):e<s.ConfigMng.hallconfigJson.zhuanpan.awardrang[0]?f.Laya.Loader.getRes(s.ConfigMng.hallconfigJson.zhuanpan.award1):e<s.ConfigMng.hallconfigJson.zhuanpan.awardrang[1]?f.Laya.Loader.getRes(s.ConfigMng.hallconfigJson.zhuanpan.award2):e<s.ConfigMng.hallconfigJson.zhuanpan.awardrang[2]?f.Laya.Loader.getRes(s.ConfigMng.hallconfigJson.zhuanpan.award3):f.Laya.Loader.getRes(s.ConfigMng.hallconfigJson.zhuanpan.award4)},t.prototype.onTest=function(){var e=this.spZhuanpan.rotation-this.spZhuanpan.rotation%360+1800-315+10*Math.random();p.LogBase.log("this.spZhuanpan.rotation1",this.spZhuanpan.rotation,e,7),f.Laya.Tween.to(this.spZhuanpan,{rotation:e},7e3,f.Laya.Ease.quartInOut,null)},t.sIndex=0,a([m(f.Laya.Sprite)],t.prototype,"spZhuanpan",void 0),a([m(f.Laya.Sprite)],t.prototype,"spICON7",void 0),a([m(f.Laya.Sprite)],t.prototype,"spICON0",void 0),a([m(f.Laya.Sprite)],t.prototype,"spICON1",void 0),a([m(f.Laya.Sprite)],t.prototype,"spICON2",void 0),a([m(f.Laya.Sprite)],t.prototype,"spICON6",void 0),a([m(f.Laya.Sprite)],t.prototype,"spICON3",void 0),a([m(f.Laya.Sprite)],t.prototype,"spICON4",void 0),a([m(f.Laya.Sprite)],t.prototype,"spICON5",void 0),a([m(f.Laya.Label)],t.prototype,"labAward0",void 0),a([m(f.Laya.Label)],t.prototype,"labAward7",void 0),a([m(f.Laya.Label)],t.prototype,"labAward1",void 0),a([m(f.Laya.Label)],t.prototype,"labAward3",void 0),a([m(f.Laya.Label)],t.prototype,"labAward4",void 0),a([m(f.Laya.Label)],t.prototype,"labAward5",void 0),a([m(f.Laya.Label)],t.prototype,"labAward2",void 0),a([m(f.Laya.Label)],t.prototype,"labAward6",void 0),a([m(f.Laya.Sprite)],t.prototype,"spSpin",void 0),n=a([g()],t)}(f.Laya.Script);n.ScriptZhuanpan7=y,cc._RF.pop()},{"../halllib/common/ConfigMng":"ConfigMng","../halllib/common/LogBase":"LogBase","../halllib/common/Tools":"Tools","../halllib/common/Types":"Types","../halllib/core/RunData":"RunData","../halllib/laya/Laya":"Laya","../halllib/net/HallMsgProxy":"HallMsgProxy","../halllib/net/InnerEvent":"InnerEvent"}],ScrollLabelComonent34700:[function(e,t,n){"use strict";cc._RF.push(t,"f1a92JDZUdFBakc/yyOdPvd","ScrollLabelComonent34700");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../halls/halllib/laya/Laya"),s={startVal:0,duration:2,useGrouping:!0,separator:",",decimal:".",decimalPlaces:0,prefix:"",suffix:"",smartEasingThreshold:999,smartEasingAmount:333,useEasing:!0},l=function(e,t,n,o){return n*Math.pow(2,10*(e/o-1))*1024/1023+t},c=r.Laya.regClass,u=(r.Laya.property,function(e){function t(){return e.call(this)||this}return i(t,e),t.prototype.onAwake=function(){this.options=s,this.endValue=0,this.startValue=0,this.finalEndValue=null,this.useEasing=!0,this.countDown=!1,this.error="",this.paused=!0,this.init()},t.prototype.onEnable=function(){},t.prototype.onDisable=function(){},t.prototype.onDestroy=function(){},t.prototype.onUpdate=function(){},t.prototype.init=function(){this.formattingFn="function"==typeof this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn="function"==typeof this.options.easingFn?this.options.easingFn:l,this.startValue=this.options.startVal,this.frameValue=this.startValue,this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,""===this.options.separator&&(this.options.useGrouping=!1),this.resetDuration(),this.printValue(this.startValue)},t.prototype.setOptions=function(e){this.options=Object.assign(Object.assign({},s),e)},t.prototype.setValue=function(e,t){this.options&&(this.options.startVal=Number(this.owner.value.replace(/,/g,""))||0),this.endValue=e,this.init(),this.startScroll(t)},t.prototype.resetValue=function(e){void 0===e&&(e=0),cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.options.startVal=e,this.startValue=this.validateValue(e),this.frameValue=this.startValue,this.printValue(this.startValue)},t.prototype.determineDirectionAndSmartEasing=function(){var e=this.finalEndValue?this.finalEndValue:this.endValue;this.countDown=this.startValue>e;var t=e-this.startValue;if(Math.abs(t)>this.options.smartEasingThreshold){this.finalEndValue=e;var n=this.countDown?1:-1;this.endValue=e+n*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endValue=e,this.finalEndValue=null;this.finalEndValue?this.useEasing=!1:this.useEasing=this.options.useEasing},t.prototype.startScroll=function(e){this.error||(this.callback=e,this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count.bind(this))):this.printValue(this.endValue))},t.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startValue=this.frameValue,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count.bind(this))):cancelAnimationFrame(this.rAF),this.paused=!this.paused},t.prototype.pause=function(){cancelAnimationFrame(this.rAF),this.paused=!0},t.prototype.resume=function(){this.startTime=null,this.duration=this.remaining,this.startValue=this.frameValue,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count.bind(this)),this.paused=!1},t.prototype.updateFinalEndValue=function(e){cancelAnimationFrame(this.rAF),this.startTime=null,this.endValue=this.validateValue(e),this.endValue!==this.frameValue&&(this.startValue=this.frameValue,this.finalEndValue||this.resetDuration(),this.finalEndValue=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count.bind(this)))},t.prototype.count=function(e){this.startTime||(this.startTime=e);var t=e-this.startTime;this.remaining=this.duration-t,this.useEasing?this.countDown?this.frameValue=this.startValue-this.easingFn(t,0,this.startValue-this.endValue,this.duration):this.frameValue=this.easingFn(t,this.startValue,this.endValue-this.startValue,this.duration):this.countDown?this.frameValue=this.startValue-(this.startValue-this.endValue)*(t/this.duration):this.frameValue=this.startValue+(this.endValue-this.startValue)*(t/this.duration),this.countDown?this.frameValue=this.frameValue<this.endValue?this.endValue:this.frameValue:this.frameValue=this.frameValue>this.endValue?this.endValue:this.frameValue,this.printValue(this.frameValue),t<this.duration?this.rAF=requestAnimationFrame(this.count.bind(this)):null!==this.finalEndValue?this.updateFinalEndValue(this.finalEndValue):this.callback&&this.callback()},t.prototype.formatNumber=function(e){var t,n,o,i,a,r=this,s=e<0?"-":"";if((t=Math.abs(e).toFixed(this.options.decimalPlaces)).indexOf(".")>0&&(t=(t=t.replace(/0+?$/,"")).replace(/[.]$/,"")),o=(n=(t+="").split("."))[0],i=n.length>1?this.options.decimal+n[1]:"",this.options.useGrouping){a="";for(var l=0,c=o.length;l<c;++l)0!==l&&l%3==0&&(a=this.options.separator+a),a=o[c-l-1]+a;o=a}return this.options.numerals&&this.options.numerals.length&&(o=o.replace(/[0-9]/g,function(e){return r.options.numerals[+e]}),i=i.replace(/[0-9]/g,function(e){return r.options.numerals[+e]})),s+this.options.prefix+o+i+this.options.suffix},t.prototype.formatNumber2=function(e,t,n){void 0===t&&(t=2),void 0===n&&(n=!1);var o=(e/100).toFixed(t).toString();return o=""+t?o.replace(/(\d)(?=(\d{3})+\.)/g,"$1,"):o.replace(/(\d)(?=(\d{3})+$)/g,"$1,"),n||o.indexOf(".")>0&&(o=(o=o.replace(/0+?$/,"")).replace(/[.]$/,"")),o},t.prototype.printValue=function(e){var t=this.formattingFn(e);this.owner.value=""+t,isNaN(e)&&(this.frameValue=this.options.startVal)},t.prototype.ensureNumber=function(e){return"number"==typeof e&&!isNaN(e)},t.prototype.validateValue=function(e){var t=Number(e);return this.ensureNumber(t)?t:(this.error="[CountUp] invalid start or end value: "+e,null)},t.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},a([c()],t)}(r.Laya.Script));n.default=u,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya"}],ScrollViewContro31800:[function(e,t,n){"use strict";cc._RF.push(t,"8ec08fgKWBGYa3ewVzCF07y","ScrollViewContro31800");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.ScrollViewContro31800=void 0;var l=e("../../halls/halllib/common/LogBase"),c=e("./GameBonusPanel31800"),u=e("./GameData31800"),p=e("./GameFreePanel31800"),h=e("./SoundManager31800"),d=e("../../halls/halllib/laya/Laya"),f=d.Laya.regClass,g=(d.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.iconNames=["UI_Icon_HLB","UI_Icon_XHS","UI_Icon_YC","UI_Icon_PT","UI_Icon_CM","UI_Icon_QPG","UI_Icon_YT","UI_Icon_NM","UI_Icon_TZ","UI_Icon_WH","UI_Icon_Bonus","UI_Icon_Scatter"],t.lineData=[[1,1,1,1,1],[0,0,0,0,0],[2,2,2,2,2],[0,1,2,1,0],[2,1,0,1,2],[0,0,1,0,0],[2,2,1,2,2],[1,0,0,0,1],[1,2,2,2,1]],t}var n;return i(t,e),n=t,t.prototype.onAwake=function(){this.IsOnRun=!1,n.Instance=this,l.LogBase.log("=========>>>ScrollViewContro31800 onAwake "),this.ScrollViews=new Array;for(var e=0;e<5;e++)this.ScrollViews[e]=this.owner.getChildAt(e).getComponent(d.Laya.Script);this.IconImage=[];var t=this.owner.parent.getChildByName("LineGroup");for(this.LineGroup=new Array,e=0;e<9;e++)this.LineGroup[e]=t.getChildAt(e);this.SetPlayFast(!0)},t.prototype.getIconById=function(e){return this.IconImage[e]||(this.IconImage[e]=d.Laya.loader.getRes("resources/games/game31800/res/texture/GameUI/"+this.iconNames[e]+".png")),this.IconImage[e]},t.prototype.ReSetIcon=function(e){for(var t=0;t<e.length;t++){var n=t%5,o=Math.floor(t/5);this.ScrollViews[n]&&this.ScrollViews[n].SetIconByIndex(o,e[t])}},t.prototype.SetPlayFast=function(e){this.IsFastRun=e;for(var t=0;t<this.ScrollViews.length;t++)this.ScrollViews[t].SetPlayFast(e)},t.prototype.OnPlay=function(e,t,n){this.IsOnRun||(p.GameFreePanel31800.Instance.IsFreeType&&p.GameFreePanel31800.Instance.ShowFreeNum(e.iFreeCount),this.playAsync(e).then(function(){l.LogBase.log("==========>>>>OnPlay end"),u.GameData31800.WinMoney=e.nTotalWinScore,u.GameData31800.Money=e.nPlayerMoney,n.call(t),1==e.cbFree&&p.GameFreePanel31800.Instance.ShowGetFree(e.iFreeCount),1==e.cbBonus&&(c.GameBonusPanel31800.Instance.ReSet(),c.GameBonusPanel31800.Instance.Show()),p.GameFreePanel31800.Instance.IsFreeType&&e.iFreeCount<=0&&p.GameFreePanel31800.Instance.HideFreeNum()}))},t.prototype.playAsync=function(e){return r(this,void 0,void 0,function(){var t,n,o,i;return s(this,function(a){switch(a.label){case 0:for(h.SoundManager31800.Instance.PlaySoundById(6,0),this.IsOnRun=!0,t=new Array,i=0;i<this.ScrollViews.length;i++)n=[e.byGameResult[i],e.byGameResult[5+i],e.byGameResult[10+i]],t[i]=this.ScrollViews[i].StartPlay(n);i=0,a.label=1;case 1:return i<t.length?[4,t[i]]:[3,4];case 2:a.sent(),a.label=3;case 3:return i++,[3,1];case 4:for(h.SoundManager31800.Instance.StopSound(6),h.SoundManager31800.Instance.PlaySoundById(12,1),t=new Array,i=0;i<this.ScrollViews.length;i++)t[i]=this.ScrollViews[i].PlayOpenRandom(e.cbToIconIndex);i=0,a.label=5;case 5:return i<t.length?[4,t[i]]:[3,8];case 6:a.sent(),a.label=7;case 7:return i++,[3,5];case 8:this.IsOnRun=1==e.cbBonus,o=!1,i=0,a.label=9;case 9:return i<e.byWinLine.length?1!=e.byWinLine[i]?[3,11]:[4,this.PlayIconAni(i,e.byLineData)]:[3,12];case 10:a.sent(),this.LineGroup[i].visible=!0,o=!0,a.label=11;case 11:return i++,[3,9];case 12:return o&&this.owner.timerOnce(1e3,this,this.HideLineByNum),[2]}})})},t.prototype.OnStop=function(){for(var e=0;e<this.ScrollViews.length;e++)this.ScrollViews[e].QuitStop()},t.prototype.SetIconByIndex=function(e,t){t.texture=this.getIconById(e),null!=t.texture&&(t.width=t.texture.width,t.height=t.texture.height)},t.prototype.SetIconByRandom=function(e){var t=Math.round(100*Math.random())%this.iconNames.length;return this.SetIconByIndex(t,e),t},t.prototype.PlayIconAni=function(e,t){return r(this,void 0,void 0,function(){var n,o;return s(this,function(){if(null!=(n=this.lineData[e]))for(o=0;o<this.ScrollViews.length;o++)1==t[5*e+o]&&this.ScrollViews[o].PlayIconAni(n[o]);return[2]})})},t.prototype.ShowLineByNum=function(e){for(var t=0;t<e;t++)this.LineGroup[t].visible=!0;this.owner.timerOnce(1e3,this,this.HideLineByNum)},t.prototype.HideLineByNum=function(){for(var e=0;e<this.LineGroup.length;e++)this.LineGroup[e].visible=!1},n=a([f()],t)}(d.Laya.Script));n.ScrollViewContro31800=g,cc._RF.pop()},{"../../halls/halllib/common/LogBase":"LogBase","../../halls/halllib/laya/Laya":"Laya","./GameBonusPanel31800":"GameBonusPanel31800","./GameData31800":"GameData31800","./GameFreePanel31800":"GameFreePanel31800","./SoundManager31800":"SoundManager31800"}],ScrollViewObj31800:[function(e,t,n){"use strict";cc._RF.push(t,"f6b22F5nEtCBYPMdzRNkzas","ScrollViewObj31800");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.ScrollViewObj31800=void 0;var l=e("../../halls/halllib/common/LogBase"),c=e("./GameIconObj31800"),u=e("../../halls/halllib/laya/Laya"),p=u.Laya.regClass,h=(u.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.iconLen=4,t.maxposY=471,t.minposY=-157,t.runtimes=0,t.nowspeed=.5,t.maxspeed=3.5,t.minspeed=1.5,t.addspeed=.001,t.playtime=3e3,t}return i(t,e),t.prototype.onAwake=function(){this.isRun=!1,l.LogBase.log("=========>>>ScrollViewObj31800 onAwake"),this.IconObjs=new Array;for(var e=0;e<this.iconLen;e++)this.IconObjs[e]=this.owner.getChildAt(e).addComponent(c.GameIconObj31800)},t.prototype.StartPlay=function(e){return r(this,void 0,Promise,function(){var t,n=this;return s(this,function(){for(this.reSetAniPlay(),t=0;t<this.iconLen;t++)this.IconObjs[t].IconId=e[t];return this.runtimes=0,this.isRun=!0,this.nowspeed=this.minspeed,this.canstops=!1,[2,new Promise(function(e){n.resolveFunc=e})]})})},t.prototype.reSetAniPlay=function(){for(var e=0;e<this.iconLen;e++)this.IconObjs[e].ReSetAniPlay()},Object.defineProperty(t.prototype,"TotalTimes",{get:function(){return this.IsFastRun?this.playtime/3:this.playtime},enumerable:!1,configurable:!0}),t.prototype.SetPlayFast=function(e){this.IsFastRun=e},t.prototype.QuitStop=function(){this.canstops=!0},t.prototype.onUpdate=function(){if(this.isRun){this.runtimes+=u.Laya.timer.delta,this.nowspeed<this.maxspeed&&this.runtimes<this.playtime/3?this.nowspeed+=u.Laya.timer.delta*this.addspeed:this.nowspeed>this.minspeed&&this.runtimes>this.playtime/4*3&&(this.nowspeed-=u.Laya.timer.delta*this.addspeed),this.nowspeed=this.nowspeed>this.maxspeed?this.maxspeed:this.nowspeed,this.nowspeed=this.nowspeed<this.minspeed?this.minspeed:this.nowspeed;for(var e=this.nowspeed*u.Laya.timer.delta,t=this.iconLen-1;t>=0;t--)if(this.IconObjs[t].y+e>=this.maxposY){if(t==this.iconLen-1){if(this.canstops)return void this.onRunFinish();this.runtimes>=this.TotalTimes&&(this.canstops=!0,this.IconObjs[t].SetIconByRandom())}else this.canstops?this.IconObjs[t].SetIconByIndex():this.IconObjs[t].SetIconByRandom();this.IconObjs[t].y-=this.maxposY-this.minposY}else this.IconObjs[t].y+=e}},t.prototype.onRunFinish=function(){this.isRun=!1;for(var e=0;e<this.iconLen;e++)this.IconObjs[e].y=157*e,e<this.iconLen-1&&this.IconObjs[e].SetIconByIndex();this.resolveFunc(!0)},t.prototype.PlayOpenRandom=function(e){var t=this;return new Promise(function(n){for(var o=!1,i=0;i<t.iconLen-1;i++)t.IconObjs[i].PlayOpenRandom(e)&&(o=!0);o?t.owner.timerOnce(1e3,t,t.timeBack,[n]):n(!0)})},t.prototype.timeBack=function(e){e(!0)},t.prototype.PlayIconAni=function(e){this.IconObjs[e].PlayIconAni()},t.prototype.SetIconByIndex=function(e,t){this.IconObjs[e].IconId=t,this.IconObjs[e].SetIconByIndex()},a([p()],t)}(u.Laya.Script));n.ScrollViewObj31800=h,cc._RF.pop()},{"../../halls/halllib/common/LogBase":"LogBase","../../halls/halllib/laya/Laya":"Laya","./GameIconObj31800":"GameIconObj31800"}],ScrollViewPlusComponent:[function(e,t,n){"use strict";cc._RF.push(t,"cf6f1U6KdVDYLyUISHvxm1d","ScrollViewPlusComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=r(e("./ScrollViewPlusItemComponent")),l=cc._decorator,c=l.ccclass,u=l.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.caculatePosition=!1,t}var n;return i(t,e),n=t,t.prototype.onEnable=function(){e.prototype.onEnable.call(this),this.node.on("scrolling",this._onScrollingDrawCallOpt,this)},t.prototype.onDisable=function(){e.prototype.onDisable.call(this),this.node.off("scrolling",this._onScrollingDrawCallOpt,this)},t.prototype._onScrollingDrawCallOpt=function(){this.content.childrenCount>0&&this.optDc()},t.prototype.optDc=function(){n.optDc(this,this.caculatePosition)},t.prototype.isNodeVisiable=function(e){return n.isNodeVisiable(this,e)},t.isNodeVisiable=function(e,t){var n=e.node.parent.convertToWorldSpaceAR(cc.v2(e.node.x-e.node.anchorX*e.node.width,e.node.y-e.node.anchorY*e.node.height)),o=cc.rect(n.x,n.y,e.node.width,e.node.height);return t.getBoundingBoxToWorld().intersects(o)},t.optDc=function(e,t){void 0===t&&(t=!1);var n=e.node.parent.convertToWorldSpaceAR(cc.v2(e.node.x-e.node.anchorX*e.node.width,e.node.y-e.node.anchorY*e.node.height)),o=cc.rect(n.x,n.y,e.node.width,e.node.height);e.content.children.forEach(function(e){var n=e.getComponent(s.default);if(null!=n){var i=e.getBoundingBoxToWorld();i.intersects(o)?(n.isShowing||(n.isShowing=!0,n.onEnterScrollView()),t&&n.isShowing&&n.onPositionChange((i.x-(o.x-i.width/2))/(i.width+o.width),(i.y-(o.y-i.height/2))/(i.height+o.height))):n.isShowing&&(n.isShowing=!1,n.onExitScrollView())}})},a([u({tooltip:"\u662f\u5426\u8ba1\u7b97\u5728\u53ef\u89c6\u533a\u57df\u4e2dItem\u7684\u76f8\u5bf9\u4f4d\u7f6e\uff08\u53ef\u80fd\u4f1a\u76f8\u5bf9\u8017\u6027\u80fd\uff09"})],t.prototype,"caculatePosition",void 0),n=a([c],t)}(cc.ScrollView);n.default=p,cc._RF.pop()},{"./ScrollViewPlusItemComponent":"ScrollViewPlusItemComponent"}],ScrollViewPlusItemComponent:[function(e,t,n){"use strict";cc._RF.push(t,"c2b52EtvC5E7J0KVce72Vji","ScrollViewPlusItemComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.ScrollViewItemPrefab=void 0;var r=cc._decorator,s=r.ccclass,l=r.property,c=function(){function e(){this.type="",this.prefab=null}return a([l({tooltip:"\u7c7b\u578b"})],e.prototype,"type",void 0),a([l({type:cc.Prefab,tooltip:"Item Prefab"})],e.prototype,"prefab",void 0),a([s("ScrollViewItemPrefab")],e)}();n.ScrollViewItemPrefab=c;var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.itemType="",t.isShowing=!1,t}return i(t,e),t.prototype.onDisable=function(){this.isShowing=!1},a([l({tooltip:"Item\u7c7b\u578b string \u552f\u4e00"})],t.prototype,"itemType",void 0),a([s],t)}(cc.Component);n.default=u,cc._RF.pop()},{}],SettingPanel:[function(e,t,n){"use strict";cc._RF.push(t,"31332hshttKhKvbNXvZVf0D","SettingPanel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=e("../../../../../main/scripts/configs/AppConfig"),u=e("../../../../../main/scripts/configs/CommonAudioConfig"),p=e("../../../../../main/scripts/configs/CommonPanelConfig"),h=e("../../../../../main/scripts/framework/gg"),d=e("../../../../../main/scripts/systems/gamesetting/GameSettingSystem"),f=e("../../../../../main/scripts/systems/login/LoginSystem"),g=l(e("../../../components/SwitchComponent")),m=e("../../../configs/GameConfig"),y=l(e("../../../framework/components/dialogstyle/MoveStyleDialogPanelV2")),_=e("../../../framework/i18n/I18n"),v=e("../../../systems/analysis/AnalysisEvent"),b=e("../../../systems/analysis/AnalysisWrapper"),S=e("../../../systems/feedback/FeedbackSystem"),C=e("../../../systems/remoteconfig/RemoteConfigModel"),I=e("../../../systems/remoteconfig/RemoteConfigSystem"),R=cc._decorator,L=R.ccclass,P=R.property,M=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.versionLabel=null,t.musicSwitchNode=null,t.soundSwitchNode=null,t.cancelAccountNode=null,t._isSettingChanged=!1,t.webviewUrl="",t}return i(t,e),t.prototype.onLoad=function(){if(this.versionLabel.string=m.GameConfig.gameVersionName+"-"+c.AppConfig.appVersionName+"-"+c.AppConfig.libVersionName,this.cancelAccountNode.active=!1,cc.sys.os==cc.sys.OS_IOS&&(this.cancelAccountNode.active=!0),c.AppConfig.isDebug){var e=new cc.Node;e.parent=this.node,e.anchorX=0,e.position=cc.v3(.5*-this.node.width,0);var t=e.addComponent(cc.Layout);t.type=cc.Layout.Type.VERTICAL,t.resizeMode=cc.Layout.ResizeMode.CONTAINER,t.spacingY=20;var n=function(t){var n=new cc.Node;n.parent=e,n.anchorX=0,n.color=cc.Color.ORANGE,n.addComponent(cc.Label).string="\u5207\u6362\u8bed\u8a00\u5230"+t;var o=n.addComponent(cc.Button);o.transition=cc.Button.Transition.SCALE,o.node.on("click",function(){_.i18n.setLanguageCode(t).then(function(e){e&&(d.gameSettingSystem.setting.languageCode=t,d.gameSettingSystem.saveSettingToLocal())})})};n("ar"),n("en")}},t.prototype.show=function(e){this._isSettingChanged=!1,this.musicSwitchNode.getComponent(g.default).checked=d.gameSettingSystem.setting.musicSwitch,this.musicSwitchNode.on(g.default.OnCheckedChanged,this._onMusicSwitchChanged,this),this.soundSwitchNode.getComponent(g.default).checked=d.gameSettingSystem.setting.soundSwitch,this.soundSwitchNode.on(g.default.OnCheckedChanged,this._onSoundSwitchChanged,this),this._playShowAnim(function(){e.onShowed()})},t.prototype.hide=function(e){this._isSettingChanged&&(this._isSettingChanged=!1,d.gameSettingSystem.saveSettingToLocal()),this._playHideAnim(function(){e.onHided()})},t.prototype.onDisable=function(){this.musicSwitchNode.off(g.default.OnCheckedChanged,this._onMusicSwitchChanged,this),this.soundSwitchNode.off(g.default.OnCheckedChanged,this._onSoundSwitchChanged,this)},t.prototype.onCloseBtnClick=function(){h.gg.panelRouter.hide({panel:p.CommonPanelConfig.settingpanel})},t.prototype._onMusicSwitchChanged=function(e){this._isSettingChanged=!0,h.gg.audio.musicVolume=e.checked?1:0,d.gameSettingSystem.setting.musicSwitch=e.checked},t.prototype._onSoundSwitchChanged=function(e){this._isSettingChanged=!0,h.gg.audio.soundVolume=e.checked?1:0,d.gameSettingSystem.setting.soundSwitch=e.checked,e.checked&&h.gg.audio.playOneShot(u.CommonAudioConfig.btnClick)},t.prototype.onPrivacyPolicyBtnClick=function(){cc.sys.openURL(c.AppConfig.gamePrivacyPolicyUrl)},t.prototype.onTeamOfServiceBtnClick=function(){cc.sys.openURL(c.AppConfig.gameTeamsOfServiceUrl)},t.prototype.onLogOutBtnClick=function(){return r(this,void 0,void 0,function(){var e;return s(this,function(t){switch(t.label){case 0:return[4,h.gg.panelRouter.showAsync({panel:p.CommonPanelConfig.loadingPanel})];case 1:t.sent(),e="",f.loginSystem.flatUserLoginCache&&(e=f.loginSystem.flatUserLoginCache.login_type),t.label=2;case 2:return t.trys.push([2,4,,5]),b.analysis.logEvent(v.AnalysisEvent.LogoutStart,{entrance:e}),[4,f.loginSystem.logOut()];case 3:return t.sent(),b.analysis.logEvent(v.AnalysisEvent.LogoutSuccess,{entrance:e}),[3,5];case 4:return t.sent(),h.gg.logger.error("\u7528\u6237\u767b\u51fa\u51fa\u95ee\u9898"),[3,5];case 5:return[4,h.gg.panelRouter.hideAsync({panel:p.CommonPanelConfig.loadingPanel})];case 6:return t.sent(),[2]}})})},t.prototype.onClickCancelAccount=function(){var e=I.remoteConfigSystem.getConfig(C.RemoteCoinfigType.CancelAccount);(null==e?void 0:e.cancel_url)&&(this.webviewUrl=S.feedbackSystem.getCancelAccountUrl(e.cancel_url)),h.gg.panelRouter.show({panel:p.CommonPanelConfig.webViewPanel,data:{title:_.i18n.getText("setting.account"),url:this.webviewUrl}}),this.onCloseBtnClick()},a([P(cc.Label)],t.prototype,"versionLabel",void 0),a([P(cc.Node)],t.prototype,"musicSwitchNode",void 0),a([P(cc.Node)],t.prototype,"soundSwitchNode",void 0),a([P(cc.Node)],t.prototype,"cancelAccountNode",void 0),a([L],t)}(y.default);n.default=M,cc._RF.pop()},{"../../../../../main/scripts/configs/AppConfig":"AppConfig","../../../../../main/scripts/configs/CommonAudioConfig":"CommonAudioConfig","../../../../../main/scripts/configs/CommonPanelConfig":"CommonPanelConfig","../../../../../main/scripts/framework/gg":"gg","../../../../../main/scripts/systems/gamesetting/GameSettingSystem":"GameSettingSystem","../../../../../main/scripts/systems/login/LoginSystem":"LoginSystem","../../../components/SwitchComponent":"SwitchComponent","../../../configs/GameConfig":"GameConfig","../../../framework/components/dialogstyle/MoveStyleDialogPanelV2":"MoveStyleDialogPanelV2","../../../framework/i18n/I18n":"I18n","../../../systems/analysis/AnalysisEvent":"AnalysisEvent","../../../systems/analysis/AnalysisWrapper":"AnalysisWrapper","../../../systems/feedback/FeedbackSystem":"FeedbackSystem","../../../systems/remoteconfig/RemoteConfigModel":"RemoteConfigModel","../../../systems/remoteconfig/RemoteConfigSystem":"RemoteConfigSystem"}],SettlementTiroGiftComponent:[function(e,t,n){"use strict";cc._RF.push(t,"a5b9c7JWlRJ8ZTdsvXdupg+","SettlementTiroGiftComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var l=e("../configs/CommonPanelConfig"),c=e("../framework/gg"),u=e("../framework/i18n/I18n"),p=e("../systems/api/gameapi/GameApiModels"),h=e("../systems/item/ItemSystem"),d=e("../systems/TiroGift/TiroGiftSystem"),f=e("../systems/TiroGift/TiroGiftUIEvent"),g=e("../systems/user/UserSystem"),m=e("../systems/user/UserWalletSystem"),y=cc._decorator,_=y.ccclass,v=y.property,b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bgNode=null,t.tipLab=null,t.boxEndPosNode=null,t.tiroGiftNode=null,t.boxNode=null,t.boxDragon=null,t.updatepProgressNode=null,t.isShowState=!1,t.initBoxPos=null,t.isPost=!1,t.lastCoinBalance=0,t.lastDiamonBalance=0,t.lastFashion=0,t}return i(t,e),t.prototype.onLoad=function(){this.initBoxPos=this.boxNode.getPosition()},t.prototype.onEnable=function(){this.node.opacity=0,this.isPost=!1,c.gg.eventManager.on(f.TiroGiftUIEvent.TiroAwardEvent,this.onTiroAward,this),c.gg.eventManager.on(f.TiroGiftUIEvent.GetTiroAwardEvent,this.onGetFastTiroAward,this),this.boxDragon.addEventListener(dragonBones.EventObject.COMPLETE,this.finishDragonHandler,this)},t.prototype.onDisable=function(){c.gg.eventManager.offTarget(this),this.boxNode.stopAllActions(),this.boxNode.scale=.3,this.unscheduleAllCallbacks(),this.boxDragon.removeEventListener(dragonBones.EventObject.COMPLETE,this.finishDragonHandler,this)},t.prototype.updataShowStatus=function(e){var t=this;this.isShowState=e,this.isShowState&&this.scheduleOnce(function(){t.updateAwardStatus()},1)},t.prototype.onTiroAward=function(){d.tiroGiftSystem.tiroAward&&d.tiroGiftSystem.tiroAward.award_list&&d.tiroGiftSystem.tiroAward.award_list.length>0?(this.node.opacity=0,this.node.stopAllActions(),cc.tween(this.node).to(.25,{opacity:255}).start(),d.tiroGiftSystem.tiroAward.is_award?(this.bgNode.opacity=0,this.bgNode.active=!0,this.bgNode.stopAllActions(),cc.tween(this.bgNode).to(.25,{opacity:120}).start(),this.tipLab.opacity=0,cc.tween(this.tipLab).to(.25,{opacity:255}).start(),this.playAnim()):(this.bgNode.active=!1,this.tipLab.opacity=0)):this.node.opacity=0},t.prototype.playAnim=function(){var e=this;this.scheduleOnce(function(){e.tiroGiftNode.getComponent(cc.Widget).updateAlignment();var t=e.boxEndPosNode.parent.convertToWorldSpaceAR(e.boxEndPosNode.getPosition());e.boxNode.stopAllActions();var n=e.boxNode.parent.convertToNodeSpaceAR(t),o=n.x-e.boxNode.x,i=n.y-e.boxNode.y;e.scheduleOnce(function(){e.updatepProgressNode.opacity=0},.4),cc.tween(e.boxNode).bezierTo(.56,cc.v2(e.boxNode.x+o/2,e.boxNode.y),cc.v2(n.x,e.boxNode.y+i/10),n).to(.25,{scale:1},{easing:"sineOut"}).call(function(){e.isPost=!0}).start()},.25)},t.prototype.finishDragonHandler=function(){return r(this,void 0,void 0,function(){var e,t,n,o,i,a=this;return s(this,function(r){switch(r.label){case 0:return this.tipLab.opacity=0,this.bgNode.active=!1,e=this.lastCoinBalance,t=this.lastDiamonBalance,n=this.lastFashion,o=new Array,this.boxDragon.playAnimation("standby",0),c.gg.panelRouter.hide({panel:l.CommonPanelConfig.receiveFeaturesPanel}),d.tiroGiftSystem.tiroAward.award_list.forEach(function(i){var a,r=null,s=u.i18n.getText("item.showTime");switch(i.award_type){case p.AwardType.Coin:r={award_type:p.AwardType.Coin,count:i.count,initValue:e};break;case p.AwardType.Diamond:r={award_type:p.AwardType.Diamond,count:i.count,initValue:t};break;case p.AwardType.Item:(null===(a=h.itemSystem.getItem(i.item_id))||void 0===a?void 0:a.item_class)===p.ItemClass.props?s=i.count+"":i.effective_days&&-1!==i.effective_days&&(s=u.i18n.getText("item.dayNum",i.effective_days)),r={award_type:i.award_type,itemCount:s,initValue:n,itemId:i.item_id,fashionAdd:0}}o.push(r)}),i={giftList:o},[4,c.gg.panelRouter.loadAsync(l.CommonPanelConfig.receiveFeaturesPanel)];case 1:return r.sent(),c.gg.panelRouter.show({panel:l.CommonPanelConfig.receiveFeaturesPanel,data:i}),this.scheduleOnce(function(){a.updateAwardStatus()},1),[2]}})})},t.prototype.updateAwardStatus=function(){this.boxNode.setPosition(this.initBoxPos),this.boxNode.scale=.3,this.boxDragon.playAnimation("standby",0),d.tiroGiftSystem.getTiroAwardInfo()},t.prototype.onGetFastTiroAward=function(e){e?this.boxDragon.playAnimation("receive",1):(this.bgNode.active=!1,c.gg.panelRouter.show({panel:l.CommonPanelConfig.toastPanel,data:{text:u.i18n.getText("toast.claimAwardFailed")}}))},t.prototype.onClaimBtnClick=function(){d.tiroGiftSystem.tiroAward.is_award&&this.isPost?(this.lastCoinBalance=m.userWalletSystem.coinBalance,this.lastDiamonBalance=m.userWalletSystem.diamondBalance,this.lastFashion=g.userSystem.userModel.fashion,d.tiroGiftSystem.getTiroAward()):c.gg.panelRouter.show({panel:l.CommonPanelConfig.toastPanel,data:{text:u.i18n.getText("toast.againClaimAward",d.tiroGiftSystem.tiroAward.total_count-d.tiroGiftSystem.tiroAward.finish_count)}})},a([v({type:cc.Node,tooltip:"\u53ef\u9886\u53d6\u5956\u52b1\u7684\u65f6\u5019\u7684\u8499\u5c42"})],t.prototype,"bgNode",void 0),a([v({type:cc.Node,tooltip:"\u53ef\u9886\u53d6\u6587\u672c\u63d0\u793a"})],t.prototype,"tipLab",void 0),a([v({type:cc.Node,tooltip:"\u4e2d\u5fc3\u4f4d\u7f6e\u5c55\u793a\u4f4d\u7f6e"})],t.prototype,"boxEndPosNode",void 0),a([v({type:cc.Node,tooltip:"\u65b0\u624b\u4efb\u52a1\u8282\u70b9"})],t.prototype,"tiroGiftNode",void 0),a([v({type:cc.Node,tooltip:"\u5b9d\u7bb1\u8282\u70b9"})],t.prototype,"boxNode",void 0),a([v({type:dragonBones.ArmatureDisplay,tooltip:"\u5b9d\u7bb1\u52a8\u753b\u8282\u70b9"})],t.prototype,"boxDragon",void 0),a([v({type:cc.Node,tooltip:"\u5feb\u901f\u65b0\u624b\u8fdb\u5ea6\u6761\u7ec4\u4ef6"})],t.prototype,"updatepProgressNode",void 0),a([_],t)}(cc.Component);n.default=b,cc._RF.pop()},{"../configs/CommonPanelConfig":"CommonPanelConfig","../framework/gg":"gg","../framework/i18n/I18n":"I18n","../systems/TiroGift/TiroGiftSystem":"TiroGiftSystem","../systems/TiroGift/TiroGiftUIEvent":"TiroGiftUIEvent","../systems/api/gameapi/GameApiModels":"GameApiModels","../systems/item/ItemSystem":"ItemSystem","../systems/user/UserSystem":"UserSystem","../systems/user/UserWalletSystem":"UserWalletSystem"}],SingletonList:[function(e,t,n){"use strict";cc._RF.push(t,"c6a0ey3zttNuId1x3RKBkGt","SingletonList"),Object.defineProperty(n,"__esModule",{value:!0}),n.SingletonList=void 0;var o=function(){function e(){this.elements=[],this.length=0}return e.prototype._add=function(e){this.length===this.elements.length?this.elements.push(e):this.elements[this.length]=e},e.prototype.add=function(e){var t=this.elements.indexOf(e);"number"!=typeof e&&-1!=t&&t<this.length||(this.length===this.elements.length?this.elements.push(e):this.elements[this.length]=e,this.length++)},e.prototype.indexof=function(e){var t=this.elements.indexOf(e);return-1!=t&&t<this.length?t:-1},e.prototype.remove=function(e){var t=this.elements.indexOf(e);-1!=t&&t<this.length&&(this.elements[t]=this.elements[this.length-1],this.length--)},e.prototype.clear=function(){this.elements=[],this.length=0},e.prototype.clean=function(){this.elements.length=this.length},e.prototype.destroy=function(){this.elements=null},e}();n.SingletonList=o,cc._RF.pop()},{}],Socket:[function(e,t,n){"use strict";cc._RF.push(t,"183bcOVN6VN4Jrmh1UTHP31","Socket");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.Socket=void 0;var a=e("../events/Event"),r=e("../events/EventDispatcher"),s=e("../utils/Browser"),l=e("../utils/Byte"),c=function(e){function t(n,o,i,a,r){void 0===n&&(n=null),void 0===o&&(o=0),void 0===i&&(i=null),void 0===a&&(a=null),void 0===r&&(r=!1);var s=e.call(this)||this;return s.disableInput=!1,s.protocols=[],s._byteClass=i||l.Byte,s.protocols=a,s.endian=t.BIG_ENDIAN,n&&o>0&&o<65535&&s.connect(n,o,r),s}return i(t,e),Object.defineProperty(t.prototype,"input",{get:function(){return this._input},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"output",{get:function(){return this._output},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"connected",{get:function(){return this._connected},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endian",{get:function(){return this._endian},set:function(e){this._endian=e,null!=this._input&&(this._input.endian=e),null!=this._output&&(this._output.endian=e)},enumerable:!1,configurable:!0}),t.prototype.connect=function(e,t,n){void 0===n&&(n=!1),this.connectByUrl((n?"wss":"ws")+"://"+e+":"+t)},t.prototype.connectByUrl=function(e){var t=this;null!=this._socket&&this.close(),this._socket&&this.cleanSocket(),this.protocols&&0!=this.protocols.length?this._socket=new s.Browser.window.WebSocket(e,this.protocols):this._socket=new s.Browser.window.WebSocket(e),this._socket.binaryType="arraybuffer",this._output=new this._byteClass,this._output.endian=this.endian,this._input=new this._byteClass,this._input.endian=this.endian,this._addInputPosition=0,this._socket.onopen=function(e){t._onOpen(e)},this._socket.onmessage=function(e){t._onMessage(e)},this._socket.onclose=function(e){t._onClose(e)},this._socket.onerror=function(e){t._onError(e)}},t.prototype.cleanSocket=function(){this.close(),this._connected=!1,this._socket.onopen=null,this._socket.onmessage=null,this._socket.onclose=null,this._socket.onerror=null,this._socket=null},t.prototype.close=function(){if(null!=this._socket)try{this._socket.close()}catch(e){}},t.prototype._onOpen=function(e){this._connected=!0,this.event(a.Event.OPEN,e)},t.prototype._onMessage=function(e){if(e&&e.data){var t=e.data;if(this.disableInput&&t)this.event(a.Event.MESSAGE,t);else{this._input.length>0&&this._input.bytesAvailable<1&&(this._input.clear(),this._addInputPosition=0);var n=this._input.pos;!this._addInputPosition&&(this._addInputPosition=0),this._input.pos=this._addInputPosition,t&&("string"==typeof t?this._input.writeUTFBytes(t):this._input.writeArrayBuffer(t),this._addInputPosition=this._input.pos,this._input.pos=n),this.event(a.Event.MESSAGE,t)}}},t.prototype._onClose=function(e){this._connected=!1,this.event(a.Event.CLOSE,e)},t.prototype._onError=function(e){this.event(a.Event.ERROR,e)},t.prototype.send=function(e){this._socket.send(e)},t.prototype.flush=function(){if(this._output&&this._output.length>0){var e;try{this._socket&&this._socket.send(this._output.__getBuffer().slice(0,this._output.length))}catch(t){e=t}this._output.endian=this.endian,this._output.clear(),e&&this.event(a.Event.ERROR,e)}},t.LITTLE_ENDIAN="littleEndian",t.BIG_ENDIAN="bigEndian",t}(r.EventDispatcher);n.Socket=c,cc._RF.pop()},{"../events/Event":"Event","../events/EventDispatcher":"EventDispatcher","../utils/Browser":"Browser","../utils/Byte":"Byte"}],SoundManager30200:[function(e,t,n){"use strict";cc._RF.push(t,"20e96cllEpObYdg7CkjRdzH","SoundManager30200");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.SoundManager30200=void 0;var i=e("../../halls/halllib/laya/Laya"),a=i.Laya.regClass,r=(i.Laya.property,function(){function e(){this.isPlaySound=!0,this.isPlayMusic=!0}var t;return t=e,Object.defineProperty(e,"Instance",{get:function(){return null==t.instance&&(t.instance=new t),t.instance},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"IsPlaySound",{get:function(){return this.isPlaySound},set:function(e){this.isPlaySound=e,this.isPlaySound||i.Laya.SoundManager.stopAllSound()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"IsPlayMusic",{get:function(){return this.isPlayMusic},set:function(e){this.isPlayMusic=e,this.isPlayMusic||i.Laya.SoundManager.stopMusic()},enumerable:!1,configurable:!0}),e.prototype.PlaySound=function(e,t){this.IsPlaySound&&i.Laya.SoundManager.playSound(e,t)},e.prototype.PlayMusic=function(e,t){this.IsPlayMusic&&i.Laya.SoundManager.playMusic(e,t)},e.prototype.PlaySoundById=function(e,n){t.AudioRes[e]&&this.PlaySound(t.AudioRes[e],n)},e.prototype.PlayMusicById=function(e,n){t.AudioRes[e]&&this.PlayMusic(t.AudioRes[e],n)},e.prototype.StopSound=function(e){t.AudioRes[e]&&i.Laya.SoundManager.stopSound(t.AudioRes[e])},e.AudioRes=["resources/games/game30200/sound/Lion.mp3","resources/games/game30200/sound/Panda.mp3","resources/games/game30200/sound/Rabbit.mp3","resources/games/game30200/sound/Mokey.mp3","resources/games/game30200/sound/animalmove.mp3","resources/games/game30200/sound/button.mp3","resources/games/game30200/sound/countdown.mp3","resources/games/game30200/sound/lightning.mp3","resources/games/game30200/sound/bigthree.mp3","resources/games/game30200/sound/bigfour.mp3","resources/games/game30200/sound/wait.mp3","resources/games/game30200/sound/draw.mp3","resources/games/game30200/sound/startbet.mp3","resources/games/game30200/sound/payout.mp3"],t=o([a()],e)}());n.SoundManager30200=r,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya"}],SoundManager30300:[function(e,t,n){"use strict";cc._RF.push(t,"92a58xSbxpMupKr+mLqZ0P8","SoundManager30300");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.SoundManager30300=void 0;var i=e("../../halls/halllib/laya/Laya"),a=i.Laya.regClass,r=(i.Laya.property,function(){function e(){this.isPlaySound=!0,this.isPlayMusic=!0}var t;return t=e,Object.defineProperty(e,"Instance",{get:function(){return null==t.instance&&(t.instance=new t),t.instance},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"IsPlaySound",{get:function(){return this.isPlaySound},set:function(e){this.isPlaySound=e,this.isPlaySound||i.Laya.SoundManager.stopAllSound()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"IsPlayMusic",{get:function(){return this.isPlayMusic},set:function(e){this.isPlayMusic=e,this.isPlayMusic||i.Laya.SoundManager.stopMusic()},enumerable:!1,configurable:!0}),e.prototype.PlaySound=function(e,t){this.IsPlaySound&&i.Laya.SoundManager.playSound(e,t)},e.prototype.PlayMusic=function(e,t){this.IsPlayMusic&&i.Laya.SoundManager.playMusic(e,t)},e.prototype.PlaySoundById=function(e,n){t.AudioRes[e]&&this.PlaySound(t.AudioRes[e],n)},e.prototype.PlayMusicById=function(e,n){t.AudioRes[e]&&this.PlayMusic(t.AudioRes[e],n)},e.prototype.StopSound=function(e){t.AudioRes[e]&&i.Laya.SoundManager.stopSound(t.AudioRes[e])},e.AudioRes=["resources/games/game30300/sound/zhuandeng.mp3","resources/games/game30300/sound/bg.mp3","resources/games/game30300/sound/button.mp3","resources/games/game30300/sound/animal/eagle.mp3","resources/games/game30300/sound/animal/gold_shark.mp3","resources/games/game30300/sound/animal/monkey.mp3","resources/games/game30300/sound/animal/panda.mp3","resources/games/game30300/sound/animal/peacock.mp3","resources/games/game30300/sound/animal/pigeon.mp3","resources/games/game30300/sound/animal/rabbit.mp3","resources/games/game30300/sound/animal/silver_shark.mp3","resources/games/game30300/sound/animal/swallow.mp3","resources/games/game30300/sound/animal/lion.mp3"],t=o([a()],e)}());n.SoundManager30300=r,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya"}],SoundManager30700:[function(e,t,n){"use strict";cc._RF.push(t,"fc517y3Kk1A7pkOik8Anf8B","SoundManager30700");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.SoundManager30700=void 0;var i=e("../../halls/halllib/laya/Laya"),a=i.Laya.regClass,r=(i.Laya.property,function(){function e(){this.isPlaySound=!0,this.isPlayMusic=!0}var t;return t=e,Object.defineProperty(e,"Instance",{get:function(){return null==t.instance&&(t.instance=new t),t.instance},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"IsPlaySound",{get:function(){return this.isPlaySound},set:function(e){this.isPlaySound=e,this.isPlaySound||i.Laya.SoundManager.stopAllSound()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"IsPlayMusic",{get:function(){return this.isPlayMusic},set:function(e){this.isPlayMusic=e,this.isPlayMusic||i.Laya.SoundManager.stopMusic()},enumerable:!1,configurable:!0}),e.prototype.PlaySound=function(e,t){this.IsPlaySound&&i.Laya.SoundManager.playSound(e,t)},e.prototype.PlayMusic=function(e,t){this.IsPlayMusic&&i.Laya.SoundManager.playMusic(e,t)},e.prototype.PlaySoundById=function(e,n){t.AudioRes[e]&&this.PlaySound(t.AudioRes[e],n)},e.prototype.PlayMusicById=function(e,n){t.AudioRes[e]&&this.PlayMusic(t.AudioRes[e],n)},e.prototype.StopSound=function(e){t.AudioRes[e]&&i.Laya.SoundManager.stopSound(t.AudioRes[e])},e.AudioRes=["resources/games/game30700/res/sound/bg.mp3","resources/games/game30700/res/sound/button.mp3","resources/games/game30700/res/sound/carturn.mp3","resources/games/game30700/res/sound/carturnend.mp3","resources/games/game30700/res/sound/clock.mp3","resources/games/game30700/res/sound/endbet.mp3","resources/games/game30700/res/sound/startbet.mp3","resources/games/game30700/res/sound/bet.mp3"],t=o([a()],e)}());n.SoundManager30700=r,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya"}],SoundManager31800:[function(e,t,n){"use strict";cc._RF.push(t,"177dbwHzrNIRpAX2YqScz9J","SoundManager31800");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.SoundManager31800=void 0;var i=e("../../halls/halllib/laya/Laya"),a=i.Laya.regClass,r=(i.Laya.property,function(){function e(){this.isPlaySound=!0,this.isPlayMusic=!0}var t;return t=e,Object.defineProperty(e,"Instance",{get:function(){return null==t.instance&&(t.instance=new t),t.instance},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"IsPlaySound",{get:function(){return this.isPlaySound},set:function(e){this.isPlaySound=e,this.isPlaySound||i.Laya.SoundManager.stopAllSound()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"IsPlayMusic",{get:function(){return this.isPlayMusic},set:function(e){this.isPlayMusic=e,this.isPlayMusic||i.Laya.SoundManager.stopMusic()},enumerable:!1,configurable:!0}),e.prototype.PlaySound=function(e,t){this.IsPlaySound&&i.Laya.SoundManager.playSound(e,t)},e.prototype.PlayMusic=function(e,t){this.IsPlayMusic&&i.Laya.SoundManager.playMusic(e,t)},e.prototype.PlaySoundById=function(e,n){t.AudioRes[e]&&this.PlaySound(t.AudioRes[e],n)},e.prototype.PlayMusicById=function(e,n){t.AudioRes[e]&&this.PlayMusic(t.AudioRes[e],n)},e.prototype.StopSound=function(e){t.AudioRes[e]&&i.Laya.SoundManager.stopSound(t.AudioRes[e])},e.AudioRes=["resources/games/game31800/res/Audio/baochi.wav","resources/games/game31800/res/Audio/bell.wav","resources/games/game31800/res/Audio/bonusprize.wav","resources/games/game31800/res/Audio/btncancel.wav","resources/games/game31800/res/Audio/btnrate.wav","resources/games/game31800/res/Audio/foollaza.wav","resources/games/game31800/res/Audio/foolrun.wav","resources/games/game31800/res/Audio/free.wav","resources/games/game31800/res/Audio/prizeeffect.wav","resources/games/game31800/res/Audio/ratelose.wav","resources/games/game31800/res/Audio/ratewin.wav","resources/games/game31800/res/Audio/runeffect.ogg","resources/games/game31800/res/Audio/stopline.wav","resources/games/game31800/res/Audio/stoplinespecail.wav","resources/games/game31800/res/Audio/zhadan.wav"],t=o([a()],e)}());n.SoundManager31800=r,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya"}],SoundManager34800:[function(e,t,n){"use strict";cc._RF.push(t,"616a4vZt6lDIKEvBYWHqSrv","SoundManager34800");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.SoundManager34800=void 0;var i=e("../../halls/halllib/laya/Laya"),a=i.Laya.regClass,r=(i.Laya.property,function(){function e(){this.isPlaySound=!0,this.isPlayMusic=!0}var t;return t=e,Object.defineProperty(e,"Instance",{get:function(){return null==t.instance&&(t.instance=new t),t.instance},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"IsPlaySound",{get:function(){return this.isPlaySound},set:function(e){this.isPlaySound=e,this.isPlaySound||i.Laya.SoundManager.stopAllSound()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"IsPlayMusic",{get:function(){return this.isPlayMusic},set:function(e){this.isPlayMusic=e,this.isPlayMusic||i.Laya.SoundManager.stopMusic()},enumerable:!1,configurable:!0}),e.prototype.PlaySound=function(e,t){this.IsPlaySound&&i.Laya.SoundManager.playSound(e,t)},e.prototype.PlayMusic=function(e,t){this.IsPlayMusic&&i.Laya.SoundManager.playMusic(e,t)},e.prototype.PlaySoundById=function(e,n){t.AudioRes[e]&&this.PlaySound(t.AudioRes[e],n)},e.prototype.PlayMusicById=function(e,n){t.AudioRes[e]&&this.PlayMusic(t.AudioRes[e],n)},e.prototype.StopSound=function(e){t.AudioRes[e]&&i.Laya.SoundManager.stopSound(t.AudioRes[e])},e.AudioRes=["resources/games/game34800/sound/bg.mp3","resources/games/game34800/sound/button.mp3","resources/games/game34800/sound/clock.mp3","resources/games/game34800/sound/Roar1.mp3","resources/games/game34800/sound/Roar2.mp3","resources/games/game34800/sound/Roar3.mp3","resources/games/game34800/sound/Roar4.mp3","resources/games/game34800/sound/poker-open.mp3","resources/games/game34800/sound/poker-send.mp3","resources/games/game34800/sound/Bankerfail.mp3","resources/games/game34800/sound/Bankerwin.mp3","resources/games/game34800/sound/feichouma-xiazhu.mp3","resources/games/game34800/sound/feichouma-jiesuan.mp3","resources/games/game34800/sound/startbet.mp3","resources/games/game34800/sound/stopbet.mp3","resources/games/game34800/sound/last-win.mp3","resources/games/game34800/sound/last-fail.mp3"],t=o([a()],e)}());n.SoundManager34800=r,cc._RF.pop()},{"../../halls/halllib/laya/Laya":"Laya"}],SpineEx:[function(e,t,n){"use strict";cc._RF.push(t,"4f4e9WFZZ1LHKH/NMr0Qza4","SpineEx");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../halllib/core/RunData"),l=e("../halllib/common/Define"),c=e("../halllib/net/InnerEvent"),u=r(e("./LoadH5Game")),p=r(e("../halllib/net/PlatformService")),h=e("../halllib/net/PlatformConfig"),d=e("./RoomMng"),f=e("../halllib/common/LogBase"),g=e("../halllib/laya/Laya"),m=r(e("../hallph7/LoadingView7")),y=r(e("../../main/scripts/framework/asset/AssetLoader")),_=g.Laya.regClass,v=(g.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.name="",t.jsonPath="",t.spX=0,t.spY=0,t.boolType=!0,t.skScalex=1,t.skScaley=1,t.gameurl=null,t.spWidth=0,t.spHeight=0,t.templet=null,t.skeleton=null,t.image=null,t.index=0,t.clickHandle=null,t}return i(t,e),t.prototype.onEnable=function(){},t.prototype.LoadImg=function(e,t,n,o,i){var a=this;this.node.x=t,this.node.y=n,this.node.width=o,this.node.height=i,this.node.on(g.Laya.Event.CLICK,this.onClick,this),this.node.active=!0,y.default.loadBundleAsset(e,cc.SpriteFrame).then(function(e){a.image.spriteFrame=e}).catch(function(e){f.LogBase.error(e)})},t.prototype.LoadSpine=function(e,t,n){var o=this;this.node.x=t,this.node.y=n,this.jsonPath=e,this.node.active=!0,this.templet||g.Laya.loader.load(this.jsonPath,g.Laya.Loader.SPINE).then(function(e){o.skeleton.skeletonData=e[0],o.templet=e[0],o.parseCompleteCall(o.skeleton,e[0],null)})},t.prototype.LoadSpineCall=function(e,t,n,o){var i=this;this.node.x=t,this.node.y=n,this.jsonPath=e,this.templet||g.Laya.loader.load(this.jsonPath,g.Laya.Loader.SPINE).then(function(e){i.skeleton.skeletonData=e[0],i.templet=e[0],i.parseCompleteCall(i.skeleton,e[0],o)})},t.prototype.Load=function(e,t,n,o,i,a,r,s,l){var c=this;void 0===s&&(s=1),void 0===l&&(l=1),this.spX=o,this.spY=i,this.node.x=t,this.node.y=n,s&&(this.skScalex=s),l&&(this.skScaley=l),this.node.active=!0,this.jsonPath=e,this.templet||g.Laya.loader.load(this.jsonPath,g.Laya.Loader.SPINE).then(function(e){c.skeleton.skeletonData=e[0],c.templet=e[0],c.parseCompleteCall(c.skeleton,e[0],null)})},t.prototype.onDisable=function(){},t.prototype.onClick=function(){if(this.gameData&&this.gameData.gameid){if(f.LogBase.log("spineEx gameData",this.gameData,this.gameData.gameid),"0"==this.gameData.gameid)return void("eventname"in this.gameData.data&&""!=this.gameData.data.eventname&&c.HallEvent.dispatcher.event(this.gameData.data.eventname,this.gameData.data.eventdata));if(h.servicedata.ServiceConfigs.AgentGameClientConfig.hasGame(Number(this.gameData.gameid)))if(this.gameData.data&&null!=this.gameData.data.IsShowGameLevel&&this.gameData.data.IsShowGameLevel){var e=d.RoomMng.getGameRoomList(Number(this.gameData.gameid));if(f.LogBase.log("SHOW_SELECT_GAME_ROOM...roomInfoList:",e),null!=e&&e.length>=1)if(1==e.length){if(s.RunData.myUserInfo.dwMoney<e[0].iLessMoney2Enter.toNumber())return void c.HallEvent.event(c.HallEvent.SHOW_WAITTING_MSG,"ERROR_CODE_1001");if(e[0].iMaxMoney2Enter.toNumber()>0&&s.RunData.myUserInfo.dwMoney>e[0].iMaxMoney2Enter.toNumber())return void c.HallEvent.event(c.HallEvent.SHOW_WAITTING_MSG,"ERROR_CODE_1002");c.HallEvent.event(c.HallEvent.LOAD_GAME,[this.gameData.gameid,e[0].uRoomID,e[0].iRoomLevel])}else c.HallEvent.event(c.HallEvent.SHOW_SELECT_GAME_ROOM,[e,!0]);else f.LogBase.warn("Server has not ready ! gameid:",this.gameData.gameid),c.HallEvent.dispatcher.event(c.HallEvent.SHOW_MESSAGE,l.Define.TIPS.SERVER_NOT_READY)}else if(e=d.RoomMng.getGameRoomList(Number(this.gameData.gameid)),f.LogBase.log("LOGIN_GAME...",this.gameData.gameid,e),null!=e&&e.length>0){for(var t=!1,n=!1,o=0;o<e.length;o++)if(s.RunData.myUserInfo.dwMoney<e[o].iLessMoney2Enter.toNumber())n=!0;else{if(!(e[o].iMaxMoney2Enter.toNumber()>0&&s.RunData.myUserInfo.dwMoney>e[o].iMaxMoney2Enter.toNumber())){c.HallEvent.event(c.HallEvent.LOAD_GAME,[this.gameData.gameid,e[o].uRoomID,e[o].iRoomLevel]);break}t=!0}if(n)return void c.HallEvent.event(c.HallEvent.SHOW_WAITTING_MSG,"ERROR_CODE_1001");if(t)return void c.HallEvent.event(c.HallEvent.SHOW_WAITTING_MSG,"ERROR_CODE_1002")}else f.LogBase.warn("LOGIN_GAME...roomInfoList == null  gameid:",this.gameData.gameid),c.HallEvent.dispatcher.event(c.HallEvent.SHOW_MESSAGE,l.Define.TIPS.SERVER_NOT_READY);else this.gameData.isList?c.HallEvent.dispatcher.event(c.HallEvent.SHOW_SELECT_GAME_ROOM,[this.gameData,!1]):this.gameData.data?p.default.Login3thGameRequst(this.gameData.data.PlatformType,this.gameData.data.GameID,this.gameData.data.GameCode,g.Laya.Handler.create(this,this.onLoginGame,[this.gameData.data.GameID])):c.HallEvent.dispatcher.event(c.HallEvent.SHOW_MESSAGE,l.Define.TIPS.NOT_OPEN)}this.gameurl},t.prototype.onLoginGame=function(e,t){if(f.LogBase.log("onLoginGame",e,t),null!=t){var n=JSON.parse(t);0==n.code?(f.LogBase.log("gameUrl",n.data.gameUrl),u.default.LoadGame(e,n.data.gameUrl,n.data.screenModel)):(c.HallEvent.dispatcher.event(c.HallEvent.CLOSE_WAITTING_MSG),c.HallEvent.dispatcher.event(c.HallEvent.SHOW_MESSAGE,[n.msg,!0]),m.default.CloseScene()),c.HallEvent.event(c.HallEvent.MUTE_SOUND)}},t.prototype.onClickSk=function(){this.gameurl},t.prototype.onLoad=function(){this.skeleton=this.getComponent(sp.Skeleton),this.image=this.getComponent(cc.Sprite)},t.prototype.parseComplete=function(){this.skeleton||(this.skeleton.node.x=Math.floor(this.skeleton.node.width/2)+this.spX,this.skeleton.node.y=Math.floor(this.skeleton.node.height/2)+this.spY,this.skScalex>0&&(this.skeleton.node.scaleX=this.skScalex),this.skScaley>0&&(this.skeleton.node.scaleY=this.skScaley),this.node.on(g.Laya.Event.CLICK,this.onClick,this)),this.play(this.skeleton)},t.prototype.parseCompleteCall=function(e,t,n){e&&(this.skScalex>0&&(e.node.scaleX=this.skScalex),this.skScaley>0&&(e.node.scaleY=this.skScaley),this.node.on(g.Laya.Event.CLICK,this.onClick,this)),this.play(e),n&&n.run()},t.prototype.onError=function(e){f.LogBase.log("LoadSpine  parse error",e)},t.prototype.play=function(e){null!=e?e.setAnimation(this.index,"animation",!0):f.LogBase.error("sk error0:",e)},a([_()],t)}(g.Laya.Scene));n.default=v,cc._RF.pop()},{"../../main/scripts/framework/asset/AssetLoader":"AssetLoader","../halllib/common/Define":"Define","../halllib/common/LogBase":"LogBase","../halllib/core/RunData":"RunData","../halllib/laya/Laya":"Laya","../halllib/net/InnerEvent":"InnerEvent","../halllib/net/PlatformConfig":"PlatformConfig","../halllib/net/PlatformService":"PlatformService","../hallph7/LoadingView7":"LoadingView7","./LoadH5Game":"LoadH5Game","./RoomMng":"RoomMng"}],SpineGroup:[function(e,t,n){"use strict";cc._RF.push(t,"3ecdcntJB5HK43bmFhEBsUU","SpineGroup");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.aniName=[],t.aniTime=[],t.curIdx=0,t.cb=null,t.isLoop=!1,t.isAssIgn=!1,t}return i(t,e),t.prototype.onLoad=function(){this.initSpineData()},t.prototype.initSpineData=function(){var e=this,t=this.node.getComponent(sp.Skeleton);t.skeletonData.getRuntimeData().animations.forEach(function(n,o){e.aniName[o]=n.name,e.aniTime[o]=Math.floor(100*n.duration)/(100*t.timeScale)}),this.node.getComponent(sp.Skeleton).setCompleteListener(function(){e.curIdx++,e.isLoop||e.isAssIgn?e.cb&&e.cb(e.curIdx,e.aniTime[e.curIdx]):e.attackAction()})},t.prototype.playAniSpine=function(e){void 0===e&&(e=null),this.isLoop=!1,this.isAssIgn=!1,this.curIdx=0,this.cb=e,this.node.getComponent(sp.Skeleton).setAnimation(0,this.aniName[this.curIdx],this.isLoop)},t.prototype.playAniSpineLoop=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!0),this.isLoop=n,this.isAssIgn=!1,this.cb=t,this.curIdx=0;var o=null==e?this.aniName[this.curIdx]:e,i=this.aniName.indexOf(e);this.curIdx=i>=0?i+1:this.curIdx,this.node.getComponent(sp.Skeleton).setAnimation(0,o,n)},t.prototype.playAniSpineAssign=function(e,t){void 0===t&&(t=null),this.isAssIgn=!0,this.cb=t,this.curIdx=0;var n=null==e?this.aniName[this.curIdx]:e,o=this.aniName.indexOf(e);this.curIdx=o>=0?o:this.curIdx,this.node.getComponent(sp.Skeleton).setAnimation(0,n,!1)},t.prototype.attackAction=function(){this.cb&&this.cb(this.curIdx,this.aniTime[this.curIdx]),this.curIdx<this.aniName.length&&this.node.getComponent(sp.Skeleton).setAnimation(0,this.aniName[this.curIdx],this.isLoop)},t.prototype.changLoopStatus=function(e){this.isLoop=e},t.prototype.changeSpineTexture=function(e,t){var n=this.node.getComponent(sp.Skeleton),o=n.findSlot(e).getAttachment();n.getTextureAtlas(o).texture._texture=t.getTexture()},t.prototype.clearTrack=function(e){var t=this.node.getComponent(sp.Skeleton);null!=e?t.clearTrack(e):t.clearTracks()},a([s],t)}(cc.Component));n.default=l,cc._RF.pop()},{}],SpineUtil:[function(e,t,n){"use strict";cc._RF.push(t,"b5a439Lf1JB0oZQq3Vl49Y7","SpineUtil"),Object.defineProperty(n,"__esModule",{value:!0}),n.SpineUtil=void 0;var o=function(){function e(){}return e.stopAtFrame=function(e,t,n){void 0===n&&(n=24);var o,i=e.getCurrent(0);t<=0?o=i.animation.duration:0==t?o=0:n<=0?(cc.error("\u5e27\u7387\u5f02\u5e38\uff0c\u5c06\u8ba9 Spine("+e.name+") \u505c\u6b62\u5728\u7b2c\u4e00\u5e27"),o=0):o=(t-1)/n,o<0&&(o=0),o>=i.animation.duration&&(o=i.animation.duration-.01),i.timeScale=0,i.trackTime=o},e}();n.SpineUtil=o,cc._RF.pop()},{}],SpriteChouMa30700:[function(e,t,n){"use strict";cc._RF.push(t,"78b0bZAd1FKhbobPVzNuU5M","SpriteChouMa30700");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.SpriteChouMa30700=void 0;var a=e("../../halls/halllib/core/RunData"),r=e("./GameData30700"),s=e("../../halls/halllib/laya/Laya"),l=function(e){function t(t,n){return e.call(this,t,n)||this}return i(t,e),t.Destory=function(){this.FreeMemoryPool=this.FreeMemoryPool.concat(this.InuseMemoryPool),this.InuseMemoryPool=[],this.ZOrder=10;for(var e=0;e<this.FreeMemoryPool.length;e++)this.FreeMemoryPool[e].destroy();this.FreeMemoryPool=[]},t.Free=function(){this.FreeMemoryPool=this.FreeMemoryPool.concat(this.InuseMemoryPool),this.InuseMemoryPool=[],this.ZOrder=10;for(var e=0;e<this.FreeMemoryPool.length;e++){var t=this.FreeMemoryPool[e];t.pos(-500,1e3),t.alpha=0}},t.CreateNew=function(e,n){var o;return this.FreeMemoryPool.length>0?o=this.FreeMemoryPool.pop():((o=new t("resources/games/game30700/res/chouma/fontClip_num.png","0123456789K")).width=72,o.height=73,o.scale(1,1).pos(-500,1e3),o.anchorX=.5,o.anchorY=.5,o.align="center",o.spaceX=-2,e.addChild(o)),this.ZOrder++,o.zOrder=this.ZOrder,o.alpha=1,this.InuseMemoryPool.push(o),o.Money=r.GameData30700.Chips[n%6],o.texture=s.Laya.loader.getRes(t.betList[n%6]),o.texture.offsetY=-30,o.value=o.formatMoney(o.Money),o},t.prototype.formatMoney=function(e){return(e=a.GameTool.formatMoneyNumber(e))<1e3?e.toString():(e/1e3).toString()+"K"},t.prototype.FlashTo=function(e,t,n){t+=30,s.Laya.Tween.to(this,{x:e,y:t,alpha:n},200)},t.betList=["resources/games/game30700/res/chouma/ico_chouma_1.png","resources/games/game30700/res/chouma/ico_chouma_2.png","resources/games/game30700/res/chouma/ico_chouma_3.png","resources/games/game30700/res/chouma/ico_chouma_4.png","resources/games/game30700/res/chouma/ico_chouma_5.png","resources/games/game30700/res/chouma/ico_chouma_6.png"],t.InuseMemoryPool=new Array,t.FreeMemoryPool=new Array,t.ZOrder=10,t}(s.Laya.FontClip);n.SpriteChouMa30700=l,cc._RF.pop()},{"../../halls/halllib/core/RunData":"RunData","../../halls/halllib/laya/Laya":"Laya","./GameData30700":"GameData30700"}],SpriteChouMa34200:[function(e,t,n){"use strict";cc._RF.push(t,"cd11eeDCzRL5ZuvITRjCk/S","SpriteChouMa34200");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.SpriteChouMa34200=void 0;var a=e("../../halls/halllib/core/RunData"),r=e("./GameData34200"),s=e("./GameLoading34200"),l=e("../../halls/halllib/laya/Laya"),c=function(e){function t(t,n){return e.call(this,t,n)||this}return i(t,e),t.Destory=function(){this.FreeMemoryPool=this.FreeMemoryPool.concat(this.InuseMemoryPool),this.InuseMemoryPool=[],this.ZOrder=10;for(var e=0;e<this.FreeMemoryPool.length;e++)this.FreeMemoryPool[e].destroy();this.FreeMemoryPool=[]},t.Free=function(){this.FreeMemoryPool=this.FreeMemoryPool.concat(this.InuseMemoryPool),this.InuseMemoryPool=[],this.ZOrder=10;for(var e=0;e<this.FreeMemoryPool.length;e++){var t=this.FreeMemoryPool[e];t.pos(-500,1e3),t.alpha=0}},t.CreateNew=function(e,n){var o;return this.FreeMemoryPool.length>0?o=this.FreeMemoryPool.pop():((o=new t("resources/games/game34200/res/Image/chouma/fontClip_num.png","0123456789K")).width=72,o.height=73,o.scale(1,1).pos(-500,1e3),o.anchorX=.5,o.anchorY=.5,o.align="center",e.addChild(o)),this.ZOrder++,o.zOrder=this.ZOrder,o.alpha=1,this.InuseMemoryPool.push(o),o.Money=r.GameConfig34200.iChouMa[n%6],o.texture=l.Laya.loader.getRes(s.GameLoading34200.GetRes(t.betList[n%6])),o.texture.offsetY=-30,o.value=t.formatMoney(o.Money).toString(),o},t.formatMoney=function(e){return e=a.GameTool.formatMoneyNumber(e),(e=Math.floor(e))<1e3?e.toString():(e/1e3).toString()+"K"},t.prototype.FlashTo=function(e,t,n){t+=30,e+=30,l.Laya.Tween.to(this,{x:e,y:t,alpha:n},200)},t.betList=["res/Image/chouma/ico_chouma_1.png","res/Image/chouma/ico_chouma_2.png","res/Image/chouma/ico_chouma_3.png","res/Image/chouma/ico_chouma_4.png","res/Image/chouma/ico_chouma_5.png","res/Image/chouma/ico_chouma_6.png"],t.InuseMemoryPool=new Array,t.FreeMemoryPool=new Array,t.ZOrder=10,t}(l.Laya.FontClip);n.SpriteChouMa34200=c,cc._RF.pop()},{"../../halls/halllib/core/RunData":"RunData","../../halls/halllib/laya/Laya":"Laya","./GameData34200":"GameData34200","./GameLoading34200":"GameLoading34200"}],SpriteChouMa34800:[function(e,t,n){"use strict";cc._RF.push(t,"b287du5QxJBvbmLz02XALXs","SpriteChouMa34800");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.SpriteChouMa34800=void 0;var a=e("../../halls/halllib/core/RunData"),r=e("./GameData34800"),s=e("../../halls/halllib/laya/Laya"),l=function(e){function t(t,n){return e.call(this,t,n)||this}return i(t,e),t.Destory=function(){this.FreeMemoryPool=this.FreeMemoryPool.concat(this.InuseMemoryPool),this.InuseMemoryPool=[],this.ZOrder=10;for(var e=0;e<this.FreeMemoryPool.length;e++)this.FreeMemoryPool[e].destroy();this.FreeMemoryPool=[]},t.Free=function(){this.FreeMemoryPool=this.FreeMemoryPool.concat(this.InuseMemoryPool),this.InuseMemoryPool=[],this.ZOrder=10;for(var e=0;e<this.FreeMemoryPool.length;e++){var t=this.FreeMemoryPool[e];t.pos(-500,1e3),t.alpha=0}},t.CreateNew=function(e,n){var o;return this.FreeMemoryPool.length>0?o=this.FreeMemoryPool.pop():((o=new t("resources/games/game34800/res/chouma/fontClip_num.png","0123456789K")).width=72,o.height=73,o.scale(1,1).pos(-500,1e3),o.anchorX=.5,o.anchorY=.5,o.align="center",e.addChild(o)),this.ZOrder++,o.zOrder=this.ZOrder,o.alpha=1,this.InuseMemoryPool.push(o),o.Money=r.GameData34800.Chips[n%6],o.texture=s.Laya.loader.getRes(t.betList[n%6]),o.texture.offsetY=-38,o.value=o.formatMoney(o.Money).toString(),o},t.prototype.formatMoney=function(e){return(e=a.GameTool.formatMoneyNumber(e))<1e3?e.toString():(e/1e3).toString()+"K"},t.prototype.FlashTo=function(e,t,n){t+=38,s.Laya.Tween.to(this,{x:e,y:t,alpha:n},200)},t.betList=["resources/games/game34800/res/chouma/UI_Chips_1.png","resources/games/game34800/res/chouma/UI_Chips_2.png","resources/games/game34800/res/chouma/UI_Chips_3.png","resources/games/game34800/res/chouma/UI_Chips_4.png","resources/games/game34800/res/chouma/UI_Chips_5.png","resources/games/game34800/res/chouma/UI_Chips_6.png"],t.InuseMemoryPool=new Array,t.FreeMemoryPool=new Array,t.ZOrder=10,t}(s.Laya.FontClip);n.SpriteChouMa34800=l,cc._RF.pop()},{"../../halls/halllib/core/RunData":"RunData","../../halls/halllib/laya/Laya":"Laya","./GameData34800":"GameData34800"}],SpriteScaleAdapterComponent:[function(e,t,n){"use strict";cc._RF.push(t,"1ca2cqDyD1PGJ+rxyGsEoPL","SpriteScaleAdapterComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.SpriteAlignType=n.SpriteScaleType=void 0;var r,s,l=cc._decorator,c=l.ccclass,u=l.property,p=l.executeInEditMode,h=l.requireComponent,d=l.disallowMultiple;(function(e){e[e.FILL=1]="FILL",e[e.SUIT=2]="SUIT"})(r=n.SpriteScaleType||(n.SpriteScaleType={})),function(e){e[e.LEFT=1]="LEFT",e[e.TOP=2]="TOP",e[e.RIGHT=3]="RIGHT",e[e.BOTTOM=4]="BOTTOM",e[e.CENTER=5]="CENTER"}(s=n.SpriteAlignType||(n.SpriteAlignType={}));var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._scaleType=r.SUIT,t._alignType=s.CENTER,t._sprite=null,t}return i(t,e),Object.defineProperty(t.prototype,"scaleType",{get:function(){return this._scaleType},set:function(e){this._scaleType!=e&&(this._scaleType=e,this.updateSprite(this._scaleType,this._alignType))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alignType",{get:function(){return this._alignType},set:function(e){this._alignType!=e&&(this._alignType=e,this.updateSprite(this._scaleType,this._alignType))},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){this._sprite=this.node.getComponent(cc.Sprite)},t.prototype.start=function(){this.updateSprite(this.scaleType,this.alignType)},t.prototype.onEnable=function(){var e=this._onResize.bind(this);window.addEventListener("resize",e),window.addEventListener("orientationchange",e)},t.prototype.onDisable=function(){var e=this._onResize.bind(this);window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e)},t.prototype._onResize=function(){this.updateSprite(this.scaleType,this.alignType)},t.prototype.updateSprite=function(e,t){if(this._sprite&&this._sprite.enabled&&this._sprite.spriteFrame){var n=this.node.parent.getComponent(cc.Widget);switch(n&&n.updateAlignment(),this.node.width=this._sprite.spriteFrame.getRect().width,this.node.height=this._sprite.spriteFrame.getRect().height,this.node.width/this.node.height>this.node.parent.width/this.node.parent.height?e==r.SUIT?this.node.scale=this.node.parent.width/this.node.width:e==r.FILL&&(this.node.scale=this.node.parent.height/this.node.height):e==r.SUIT?this.node.scale=this.node.parent.height/this.node.height:e==r.FILL&&(this.node.scale=this.node.parent.width/this.node.width),t){case s.CENTER:this.node.setPosition(cc.v2());break;case s.LEFT:this.node.setPosition(cc.v2(-.5*(this.node.parent.width-this.node.width*this.node.scale),0));break;case s.RIGHT:this.node.setPosition(cc.v2(.5*(this.node.parent.width-this.node.width*this.node.scale),0));break;case s.TOP:this.node.setPosition(cc.v2(0,.5*(this.node.parent.height-this.node.height*this.node.scale)));break;case s.BOTTOM:this.node.setPosition(cc.v2(0,-.5*(this.node.parent.height-this.node.height*this.node.scale)))}}},a([u({visible:!1})],t.prototype,"_scaleType",void 0),a([u({type:cc.Enum(r),tooltip:"\u7f29\u653e\u7c7b\u578b:\n\n-FILL: \u7f29\u653e\u5230\u586b\u6ee1\u7236\u8282\u70b9\uff08\u56fe\u50cf\u53ef\u80fd\u4f1aui\u8d8a\u51fa\u7236\u8282\u70b9\uff09\n\n-SUIT: \u7f29\u653e\u5230\u521a\u597d\u5728\u7236\u8282\u70b9\u5185\u90e8\u6700\u5927\u5316\u663e\u793a\uff08\u56fe\u50cf\u4f1a\u5b8c\u6574\u663e\u793a\uff0c\u4f46\u7236\u8282\u70b9\u4e0a\u4e0b\u6216\u8005\u5de6\u53f3\u53ef\u80fd\u4f1a\u7559\u7a7a\uff09"})],t.prototype,"scaleType",null),a([u({visible:!1})],t.prototype,"_alignType",void 0),a([u({type:cc.Enum(s),tooltip:"\u5bf9\u9f50\u65b9\u5f0f\u7c7b\u578b:\n\u5982\uff1a\n-LEFT: \u7f29\u653e\u540e\u9760\u5de6\u5bf9\u9f50"})],t.prototype,"alignType",null),a([c,p,h(cc.Sprite),d],t)}(cc.Component);n.default=f,cc._RF.pop()},{}],SpriteUtils:[function(e,t){"use strict";cc._RF.push(t,"f607ew9T6dAqYWsuhmGKP6n","SpriteUtils"),cc._RF.pop()},{}],Stack:[function(e,t,n){"use strict";cc._RF.push(t,"56b5d7FxwdMyb1DpfiK+OXh","Stack"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){this._array=new Array}return e.prototype.push=function(e){return null!=e&&(this._array.push(e),!0)},e.prototype.pop=function(){return this._array.pop()},e.prototype.first=function(){return this.isEmpty()?null:this._array[0]},e.prototype.last=function(){return this.isEmpty()?null:this._array[this.size()-1]},e.prototype.size=function(){return this._array.length},e.prototype.isEmpty=function(){return 0===this.size()},e.prototype.clear=function(){this._array=[]},e.prototype.toArray=function(){return this._array},e.prototype.fromArray=function(e){return this._array=e,this},e}();n.default=o,cc._RF.pop()},{}],Stat:[function(e,t){"use strict";cc._RF.push(t,"083b4T8aMtFQbRWMrHFzc+t","Stat"),cc._RF.pop()},{}],StopServiceAwardItem:[function(e,t,n){"use strict";cc._RF.push(t,"3771ajoNbZFar+9odPRlt3o","StopServiceAwardItem");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../../../../main/scripts/systems/api/gameapi/GameApiModels"),s=e("../../../../../main/scripts/systems/item/CommonItemConfig"),l=e("../../../../../main/scripts/systems/item/ItemSystem"),c=e("../../../../../main/scripts/utils/CurrencyUtil"),u=cc._decorator,p=u.ccclass,h=u.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iconSprite=null,t.spine=null,t.dragon=null,t.numLab=null,t.iconCoin=null,t.diamondCoin=null,t.awardInfo=null,t.itemScale={avatar_frame:.25,chat_bubble:.2,baloot_card:.4,baloot_bg:.05,ludo_chessboard:.25,ludo_dice:.7,game_gift:.5,qualifying_props:.5},t}return i(t,e),t.prototype.updateUI=function(){var e=this;switch(this.diamondCoin.active=!1,this.iconCoin.active=!1,this.iconSprite.node.active=!1,this.dragon.node.active=!1,this.spine.node.active=!1,this.numLab.string=""+c.CurrencyUtil.toHumanReadable(this.awardInfo.count),this.awardInfo.award_type){case r.AwardType.Coin:this.iconCoin.active=!0;break;case r.AwardType.Diamond:this.diamondCoin.active=!0;break;case r.AwardType.Item:var t=l.itemSystem.getItem(this.awardInfo.item_id);this.awardInfo&&t&&l.itemSystem.getItemIconInfo(this.awardInfo.item_id).then(function(n){null!=n&&(n.iconType===s.IconType.Image?(e.iconSprite.spriteFrame=n.spriteFrame,e.iconSprite.node.active=!0):n.iconType===s.IconType.Dragon?(e.dragon.node.active=!0,e.dragon.dragonAsset=n.dragonAsset,e.dragon.dragonAtlasAsset=n.dragonAtlasAsset,e.dragon.armatureName="armatureName",e.dragon.playAnimation("animation",0)):n.iconType===s.IconType.Spine&&(e.spine.skeletonData=n.spineData,e.spine.node.active=!0,e.spine.setAnimation(0,"animation",!0)),e.itemScale[t.item_type]?(e.iconSprite.node.scale=e.itemScale[t.item_type],e.dragon.node.scale=e.itemScale[t.item_type],e.spine.node.scale=e.itemScale[t.item_type]):(e.iconSprite.node.scale=1,e.dragon.node.scale=1,e.spine.node.scale=1))})}},a([h({type:cc.Sprite,tooltip:"\u9053\u5177\u56fe\u6807"})],t.prototype,"iconSprite",void 0),a([h({type:sp.Skeleton,tooltip:"\u9053\u5177spine"})],t.prototype,"spine",void 0),a([h({type:dragonBones.ArmatureDisplay,tooltip:"\u9053\u5177dragon"})],t.prototype,"dragon",void 0),a([h({type:cc.Label,tooltip:"\u5956\u52b1\u7684\u4e2a\u6570"})],t.prototype,"numLab",void 0),a([h({type:cc.Node,tooltip:"\u91d1\u5e01"})],t.prototype,"iconCoin",void 0),a([h({type:cc.Node,tooltip:"\u94bb\u77f3"})],t.prototype,"diamondCoin",void 0),a([p],t)}(cc.Component);n.default=d,cc._RF.pop()},{"../../../../../main/scripts/systems/api/gameapi/GameApiModels":"GameApiModels","../../../../../main/scripts/systems/item/CommonItemConfig":"CommonItemConfig","../../../../../main/scripts/systems/item/ItemSystem":"ItemSystem","../../../../../main/scripts/utils/CurrencyUtil":"CurrencyUtil"}],StopServicePanel:[function(e,t,n){"use strict";cc._RF.push(t,"f781ffFg9lLpqcpT0UefWOj","StopServicePanel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../../../../main/scripts/configs/CommonPanelConfig"),l=e("../../../../../main/scripts/framework/gg"),c=r(e("../../../framework/components/dialogstyle/MoveStyleDialogPanelV1")),u=e("../../../framework/utils/TimeUtils"),p=r(e("./StopServiceAwardItem")),h=cc._decorator,d=h.ccclass,f=h.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.awardLayer=null,t.awardLayout=null,t.awardItemNode=null,t.openServiceLab=null,t.titleLab=null,t.contentLab=null,t.itemAwardNodes=[],t.stopServiceData=null,t.openServiceTime=0,t}return i(t,e),t.prototype.show=function(e){this.stopServiceData=e.data,this._playShowAnim(function(){e.onShowed()}),this.updateUI()},t.prototype.hide=function(e){this._playHideAnim(function(){e.onHided()})},t.prototype.onLoad=function(){this.reset()},t.prototype.onDestroy=function(){this.reset(),this.unscheduleAllCallbacks()},t.prototype.reset=function(){this.stopServiceData=null,this.itemAwardNodes=[];for(var e=this.awardLayout.childrenCount-1;e>=0;--e)this.itemAwardNodes.push(this.awardLayout.children[e]),this.awardLayout.children[e].active=!1},t.prototype.getAwardNode=function(){var e=this.itemAwardNodes.pop();return e||(e=cc.instantiate(this.awardItemNode),this.awardLayout.addChild(e)),e},t.prototype.updateUI=function(){this.titleLab.string=this.stopServiceData.title,this.contentLab.string=this.stopServiceData.content,this.checkOpenService(),this.updateAward()},t.prototype.updateAward=function(){var e;if(null===(e=this.stopServiceData)||void 0===e?void 0:e.awardList){this.awardLayer.active=!0;for(var t=0,n=this.stopServiceData.awardList;t<n.length;t++){var o=n[t],i=this.getAwardNode(),a=i.getComponent(p.default);a.awardInfo=o,a.updateUI(),i.active=!0}}else this.awardLayer.active=!1},t.prototype.checkOpenService=function(){var e;this.openServiceTime=(null===(e=this.stopServiceData)||void 0===e?void 0:e.endTime)-Date.now()/1e3,this.openServiceTime>0&&(this.openServiceLab.string=u.TimeUtils.formatSecond2(this.openServiceTime),this.schedule(this.updateOpenServiceTimer,1))},t.prototype.updateOpenServiceTimer=function(){this.openServiceTime--,this.openServiceLab.string=u.TimeUtils.formatSecond2(this.openServiceTime),this.openServiceTime<=0&&(this.unschedule(this.updateOpenServiceTimer),this.openServiceLab.string="00:00:00",this.onCloseBtnClick())},t.prototype.onCloseBtnClick=function(){l.gg.panelRouter.hide({panel:s.CommonPanelConfig.stopServicePanel})},a([f({type:cc.Node,tooltip:"\u5e95\u90e8\u5956\u52b1\u5e03\u5c40"})],t.prototype,"awardLayer",void 0),a([f({type:cc.Node,tooltip:"\u5e95\u90e8\u5956\u52b1Layout"})],t.prototype,"awardLayout",void 0),a([f({type:cc.Node,tooltip:"\u5e95\u90e8\u5956\u52b1item"})],t.prototype,"awardItemNode",void 0),a([f({type:cc.Label,tooltip:"\u8ddd\u79bb\u5f00\u670d\u65f6\u95f4"})],t.prototype,"openServiceLab",void 0),a([f({type:cc.Label,tooltip:"\u66f4\u65b0\u6807\u9898"})],t.prototype,"titleLab",void 0),a([f({type:cc.Label,tooltip:"\u66f4\u65b0\u5185\u5bb9"})],t.prototype,"contentLab",void 0),a([d],t)}(c.default);n.default=g,cc._RF.pop()},{"../../../../../main/scripts/configs/CommonPanelConfig":"CommonPanelConfig","../../../../../main/scripts/framework/gg":"gg","../../../framework/components/dialogstyle/MoveStyleDialogPanelV1":"MoveStyleDialogPanelV1","../../../framework/utils/TimeUtils":"TimeUtils","./StopServiceAwardItem":"StopServiceAwardItem"}],StoreItemDesignSideBarComponent:[function(e,t,n){"use strict";cc._RF.push(t,"f2a3cRGU1BBcJnPkYHk0SAI","StoreItemDesignSideBarComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../../../systems/item/CommonItemConfig"),l=r(e("./StoreItemDesignSideBarPrefab")),c=cc._decorator,u=c.ccclass,p=c.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.designitemPrefab=null,t}return i(t,e),t.prototype.onLoad=function(){this.initAllDesignItem()},t.prototype.initAllDesignItem=function(){if(!(this.node.childrenCount>0))for(var e in s.CommonItemConfig.designType)if(Object.prototype.hasOwnProperty.call(s.CommonItemConfig.designType,e)){var t=s.CommonItemConfig.designType[e],n=cc.instantiate(this.designitemPrefab);this.node.addChild(n),n.getComponent(l.default).initUI(t)}},a([p({type:cc.Prefab,tooltip:"\u7269\u54c1\u6309\u94ae\u5e03\u5c40"})],t.prototype,"designitemPrefab",void 0),a([u],t)}(cc.Component);n.default=h,cc._RF.pop()},{"../../../../systems/item/CommonItemConfig":"CommonItemConfig","./StoreItemDesignSideBarPrefab":"StoreItemDesignSideBarPrefab"}],StoreItemDesignSideBarPrefab:[function(e,t,n){"use strict";cc._RF.push(t,"6f8e9EpP7ZJQ6OWpiRCthwM","StoreItemDesignSideBarPrefab");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../../../../../main/scripts/framework/gg"),s=e("../../../../systems/api/gameapi/GameApiModels"),l=e("./uiSystems/StoreItemUIEvent"),c=cc._decorator,u=c.ccclass,p=c.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.btnItemSpriteAtlas=null,t.chooseNode=null,t.chooseSprite=null,t.unchoose=null,t.unchooseSprite=null,t.designType="",t}return i(t,e),t.prototype.onEnable=function(){r.gg.eventManager.on(l.StoreItemUIEvent.DesignRightItemEvent,this.onChooseHandler,this)},t.prototype.onDisable=function(){r.gg.eventManager.offTarget(this)},t.prototype.initUI=function(e){this.designType=e,this.chooseSprite.spriteFrame=this.btnItemSpriteAtlas.getSpriteFrame("store_"+e+"_2"),this.unchooseSprite.spriteFrame=this.btnItemSpriteAtlas.getSpriteFrame("store_"+e+"_1"),e===s.ItemType.avatarFrame&&this.onChooseHandler(s.ItemType.avatarFrame)},t.prototype.onChooseHandler=function(e){this.designType===e?(this.chooseNode.active=!0,this.unchoose.active=!1):(this.chooseNode.active=!1,this.unchoose.active=!0)},t.prototype.onClickChoose=function(){r.gg.eventManager.emit(l.StoreItemUIEvent.DesignRightItemEvent,this.designType)},a([p({type:cc.SpriteAtlas,tooltip:"\u5e03\u5c40\u56fe\u6807\u96c6"})],t.prototype,"btnItemSpriteAtlas",void 0),a([p({type:cc.Node,tooltip:"\u9009\u4e2d\u5e03\u5c40"})],t.prototype,"chooseNode",void 0),a([p({type:cc.Sprite,tooltip:"\u9009\u4e2d\u5e03\u5c40\u56fe\u6807"})],t.prototype,"chooseSprite",void 0),a([p({type:cc.Node,tooltip:"\u672a\u9009\u4e2d\u5e03\u5c40"})],t.prototype,"unchoose",void 0),a([p({type:cc.Sprite,tooltip:"\u672a\u9009\u4e2d\u5e03\u5c40\u56fe\u6807"})],t.prototype,"unchooseSprite",void 0),a([u],t)}(cc.Component);n.default=h,cc._RF.pop()},{"../../../../../../main/scripts/framework/gg":"gg","../../../../systems/api/gameapi/GameApiModels":"GameApiModels","./uiSystems/StoreItemUIEvent":"StoreItemUIEvent"}],StoreItemLayComponent:[function(e,t,n){"use strict";cc._RF.push(t,"5ee14jZzIdA7Ixror0eKpZi","StoreItemLayComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../../../configs/CommonPanelConfig"),l=e("../../../../framework/gg"),c=e("../../../../framework/i18n/I18n"),u=e("../../../../systems/api/gameapi/GameApi"),p=e("../../../../systems/item/ItemSystem"),h=r(e("./StoreItemList")),d=e("./uiSystems/StoreItemUIEvent"),f=cc._decorator,g=f.ccclass,m=f.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.storeItemList=null,t.designType="",t}return i(t,e),t.prototype.onEnable=function(){l.gg.eventManager.on(d.StoreItemUIEvent.DesignRightItemEvent,this.updateItemGoods,this)},t.prototype.onDisable=function(){l.gg.eventManager.offTarget(this)},t.prototype.updaUI=function(e){this.designType!==e&&(this.designType=e,this.getItemGoodsList())},t.prototype.updateItemGoods=function(e){this.designType!==e&&(this.designType=e,this.getItemGoodsList())},t.prototype.getItemGoodsList=function(){var e=this;this.storeItemList.reset(),l.gg.panelRouter.show({panel:s.CommonPanelConfig.loadingPanel});var t={item_type:this.designType,item_id:""};u.gameApi.getItemGoodsList(t).then(function(t){l.gg.panelRouter.hide({panel:s.CommonPanelConfig.loadingPanel,onHided:function(){if(t){var n=t.data,o=[];if(n){for(var i=0,a=n;i<a.length;i++){var r=a[i];null!=p.itemSystem.getItem(r.item_id)&&o.push(r)}o.length>0&&e.storeItemList.init(o)}l.gg.panelRouter.hide({panel:s.CommonPanelConfig.loadingPanel})}else l.gg.panelRouter.show({panel:s.CommonPanelConfig.toastPanel,data:{text:c.i18n.getText("toast.itemGoodsListFailed")}})}})}).catch(function(){l.gg.panelRouter.hide({panel:s.CommonPanelConfig.loadingPanel,onHided:function(){l.gg.panelRouter.show({panel:s.CommonPanelConfig.toastPanel,data:{text:c.i18n.getText("toast.itemGoodsListFailed")}})}})})},a([m({type:h.default,tooltip:"\u9053\u5177\u5217\u8868"})],t.prototype,"storeItemList",void 0),a([g],t)}(cc.Component);n.default=y,cc._RF.pop()},{"../../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../../framework/gg":"gg","../../../../framework/i18n/I18n":"I18n","../../../../systems/api/gameapi/GameApi":"GameApi","../../../../systems/item/ItemSystem":"ItemSystem","./StoreItemList":"StoreItemList","./uiSystems/StoreItemUIEvent":"StoreItemUIEvent"}],StoreItemList:[function(e,t,n){"use strict";cc._RF.push(t,"c1f74FLrClMZLvKQOBiEqzX","StoreItemList");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=r(e("./StoreItem")),l=cc._decorator,c=l.ccclass,u=l.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.storeItemScrollView=null,t.storeItemParentNode=null,t.storeItemNode=null,t.propsItemNodeHeight=30,t.propsItemNodeWidt=30,t.spaceingY=10,t.paddingTop=10,t.paddingBottom=10,t.visableAreaMarginTop=0,t.visableAreaMarginBottom=0,t.itemList=[],t._virtualNodes=[],t.lastTimer=0,t._itemNodeAll=[],t.numRow=3,t}return i(t,e),t.prototype.getItemNode=function(){var e=this._itemNodeAll.pop();return e||(e=cc.instantiate(this.storeItemNode),this.storeItemParentNode.addChild(e)),e},t.prototype.reset=function(){this.itemList=[],this._virtualNodes=[],this.storeItemScrollView.stopAutoScroll(),this.storeItemParentNode.position=cc.v3(),this._itemNodeAll=[];for(var e=this.storeItemParentNode.children.length-1;e>=0;--e)this._itemNodeAll.push(this.storeItemParentNode.children[e]),this.storeItemParentNode.children[e].opacity=0},t.prototype.init=function(e){this.itemList=e,this.itemList&&this.itemList.length>0&&(this._virtualNodes=this.itemList.map(function(){return null}),this._updateListWidth(),this.storeItemParentNode.position=cc.v3(),this._updateList())},t.prototype._updateListWidth=function(){var e=Math.ceil(this.itemList.length/this.numRow);this.storeItemParentNode.height=this.paddingTop+this.paddingBottom+this.propsItemNodeHeight*e+this.spaceingY*e,this.storeItemParentNode.height<this.storeItemScrollView.node.height&&(this.storeItemParentNode.height=this.storeItemScrollView.node.height)},t.prototype.onEnable=function(){this.storeItemParentNode.on(cc.Node.EventType.POSITION_CHANGED,this._onPositionChanged,this),this.storeItemScrollView.node.on("scroll-ended",this._updateList,this)},t.prototype.onDisable=function(){this.storeItemParentNode.off(cc.Node.EventType.POSITION_CHANGED,this._onPositionChanged,this),this.storeItemScrollView.node.off("scroll-ended",this._updateList,this)},t.prototype._onPositionChanged=function(){var e=Date.now();(e-this.lastTimer)/1e3>=.1&&(this.lastTimer=e,this._updateList())},t.prototype._updateList=function(){for(var e=0;e<this._virtualNodes.length;++e){var t=this._virtualNodes[e];this._isVisable(e)?(null==t&&(t=this.getItemNode()),this._virtualNodes[e]=t,t.position=this._convertIndexToPosition(e),t.getComponent(s.default).updateUI(this.itemList[e]),t.opacity=255):(t&&(t.opacity=0,this._itemNodeAll.push(t)),this._virtualNodes[e]=null)}},t.prototype._isVisable=function(e){var t=this._convertIndexToPosition(e),n=-this.storeItemParentNode.position.y+this.visableAreaMarginTop,o=n-this.visableAreaMarginTop-this.storeItemScrollView.node.height-this.visableAreaMarginBottom;return t.y+.5*this.propsItemNodeHeight<=n&&t.y-.5*this.propsItemNodeHeight>=o},t.prototype._convertIndexToPosition=function(e){var t=Math.floor(e/this.numRow),n=this.propsItemNodeWidt+this.spaceingY-e%this.numRow*this.propsItemNodeWidt-e%this.numRow*this.spaceingY;return cc.v3(n,-this.paddingTop-this.propsItemNodeHeight*(t+.5)-t*this.spaceingY)},a([u({type:cc.ScrollView,tooltip:"\u9053\u5177ScrollView"})],t.prototype,"storeItemScrollView",void 0),a([u({type:cc.Node,tooltip:"\u9053\u5177\u7236\u8282\u70b9"})],t.prototype,"storeItemParentNode",void 0),a([u({type:cc.Prefab,tooltip:"\u9053\u5177\u8282\u70b9"})],t.prototype,"storeItemNode",void 0),a([u({tooltip:"\u9884\u5236\u4f53item\u8282\u70b9\u7684\u9ad8\u5ea6"})],t.prototype,"propsItemNodeHeight",void 0),a([u({tooltip:"\u9884\u5236\u4f53item\u8282\u70b9\u7684\u5bbd\u5ea6"})],t.prototype,"propsItemNodeWidt",void 0),a([u({tooltip:"Item \u95f4\u9694\uff08px\uff09"})],t.prototype,"spaceingY",void 0),a([u({tooltip:"Item \u8ddd\u79bb\u4e0a\u8fb9\uff08px\uff09"})],t.prototype,"paddingTop",void 0),a([u({tooltip:"Item \u8ddd\u79bb\u4e0b\u8fb9\uff08px\uff09"})],t.prototype,"paddingBottom",void 0),a([u({tooltip:"\u53ef\u89c6\u533a\u57df margin, \u8d1f\u6570\u4e3a\u5f80\u5916\u6269\u5c55"})],t.prototype,"visableAreaMarginTop",void 0),a([u({tooltip:"\u53ef\u89c6\u533a\u57df margin, \u8d1f\u6570\u4e3a\u5f80\u5916\u6269\u5c55"})],t.prototype,"visableAreaMarginBottom",void 0),a([c],t)}(cc.Component);n.default=p,cc._RF.pop()},{"./StoreItem":"StoreItem"}],StoreItemUIEvent:[function(e,t,n){"use strict";cc._RF.push(t,"20b64F5z/hMOaU86JrbPEHZ","StoreItemUIEvent"),Object.defineProperty(n,"__esModule",{value:!0}),n.StoreItemUIEvent=void 0,function(e){e.DesignRightItemEvent="StoreItemUIEvent.DesignRightItemEvent",e.BuyItemSuccessEvent="StoreItemUIEvent.BuyItemSuccessEvent"}(n.StoreItemUIEvent||(n.StoreItemUIEvent={})),cc._RF.pop()},{}],StoreItem:[function(e,t,n){"use strict";cc._RF.push(t,"ee7faLnMAZCMof7esjkrp9X","StoreItem");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../../../configs/CommonPanelConfig"),s=e("../../../../framework/gg"),l=e("../../../../systems/api/gameapi/GameApiModels"),c=e("../../../../systems/item/CommonItemConfig"),u=e("../../../../systems/item/ItemSystem"),p=e("../../../../systems/login/LoginProto"),h=e("../../../../systems/user/UserSystem"),d=e("../../../../utils/CurrencyUtil"),f=cc._decorator,g=f.ccclass,m=f.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.itemNameLab=null,t.originalPriceLabel=null,t.priceLab=null,t.currencySpriteFrames=[],t.currencySprite=null,t.iconSprite=null,t.spine=null,t.dragon=null,t.itemGoods=null,t.itemScale={avatar_frame:.5,chat_bubble:.5,baloot_card:.7,baloot_bg:.7,ludo_chessboard:.5,ludo_dice:1,game_gift:1},t}return i(t,e),t.prototype.onLoad=function(){this.originalPriceLabel.node.active=!1},t.prototype.updateUI=function(e){var t,n,o,i=this;if(e.item_id!==(null===(t=this.itemGoods)||void 0===t?void 0:t.item_id)){this.itemGoods=e;var a=u.itemSystem.getItem(this.itemGoods.item_id);this.itemNameLab.string=a.item_name_ar,this.priceLab.string=d.CurrencyUtil.toHumanReadable(this.itemGoods.price),(null===(o=null===(n=h.userSystem.userModel)||void 0===n?void 0:n.vipInfo)||void 0===o?void 0:o.vip_status)==p.VipStatusType.Activation&&this.itemGoods.original_price!=this.itemGoods.price?(this.originalPriceLabel.node.active=!0,this.itemGoods.original_price&&(this.originalPriceLabel.string=d.CurrencyUtil.toHumanReadable(this.itemGoods.original_price))):this.originalPriceLabel.node.active=!1,this.itemGoods.currency===l.CurrencyType.Diamond?this.currencySprite.spriteFrame=this.currencySpriteFrames[0]:this.itemGoods.currency===l.CurrencyType.Coin&&(this.currencySprite.spriteFrame=this.currencySpriteFrames[1]),this.iconSprite.node.active=!1,this.dragon.node.active=!1,this.spine.node.active=!1,u.itemSystem.getItemIconInfo(e.item_id).then(function(e){null!=e&&(e.iconType===c.IconType.Image?(i.iconSprite.spriteFrame=e.spriteFrame,i.iconSprite.node.active=!0):e.iconType===c.IconType.Dragon?(i.dragon.node.active=!0,i.dragon.dragonAsset=e.dragonAsset,i.dragon.dragonAtlasAsset=e.dragonAtlasAsset,i.dragon.armatureName="armatureName",i.dragon.playAnimation("animation",0)):e.iconType===c.IconType.Spine&&(i.spine.skeletonData=e.spineData,i.spine.node.active=!0,i.spine.setAnimation(0,"animation",!0)),i.itemScale[a.item_type]?(i.iconSprite.node.scale=i.itemScale[a.item_type],i.dragon.node.scale=i.itemScale[a.item_type],i.spine.node.scale=i.itemScale[a.item_type]):(i.iconSprite.node.scale=1,i.dragon.node.scale=1,i.spine.node.scale=1))})}},t.prototype.onClickBuy=function(){s.gg.panelRouter.show({panel:r.CommonPanelConfig.buyItemChoosePanel,data:this.itemGoods.item_id})},a([m({type:cc.Label,tooltip:"\u5546\u54c1\u540d\u79f0"})],t.prototype,"itemNameLab",void 0),a([m({type:cc.Label,tooltip:"\u5546\u54c1\u539f\u4ef7\u683c"})],t.prototype,"originalPriceLabel",void 0),a([m({type:cc.Label,tooltip:"\u5546\u54c1\u5b9e\u9645\u4ef7\u683c"})],t.prototype,"priceLab",void 0),a([m({type:cc.SpriteFrame,tooltip:"\u8d27\u5e01\u56fe\u96c6"})],t.prototype,"currencySpriteFrames",void 0),a([m({type:cc.Sprite,tooltip:"\u8d27\u5e01\u7c7b\u578b"})],t.prototype,"currencySprite",void 0),a([m({type:cc.Sprite,tooltip:"\u9053\u5177\u56fe\u6807"})],t.prototype,"iconSprite",void 0),a([m({type:sp.Skeleton,tooltip:"\u9053\u5177spine"})],t.prototype,"spine",void 0),a([m({type:dragonBones.ArmatureDisplay,tooltip:"\u9053\u5177dragon"})],t.prototype,"dragon",void 0),a([g],t)}(cc.Component);n.default=y,cc._RF.pop()},{"../../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../../framework/gg":"gg","../../../../systems/api/gameapi/GameApiModels":"GameApiModels","../../../../systems/item/CommonItemConfig":"CommonItemConfig","../../../../systems/item/ItemSystem":"ItemSystem","../../../../systems/login/LoginProto":"LoginProto","../../../../systems/user/UserSystem":"UserSystem","../../../../utils/CurrencyUtil":"CurrencyUtil"}],StorePanelGoodsItem:[function(e,t,n){"use strict";cc._RF.push(t,"cebe65ieqBMHKXHQoo0QMun","StorePanelGoodsItem");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=e("../../../configs/CommonPanelConfig"),u=e("../../../framework/gg"),p=e("../../../framework/i18n/I18n"),h=l(e("../../../framework/utils/StringUtils")),d=e("../../../systems/api/gameapi/GameApiModels"),f=e("../../../systems/api/gameapi/PayApiModels"),g=e("../../../systems/purchase/PurchaseSystem"),m=e("../../../systems/user/UserWalletSystem"),y=e("../../../uiSystem/GamePanelSystem"),_=cc._decorator,v=_.ccclass,b=_.property,S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.finalRewardCountLabel=null,t.srcRewardCountLabel=null,t.srcRewardStrikeLineWidget=null,t.increaseContentNode=null,t.increasePercentLabel=null,t.priceLabel=null,t.countSprite=null,t.coinCountSpriteFrames=[],t.diamondCountSpriteFrames=[],t._goodsModel=null,t}return i(t,e),t.prototype.bindData=function(e,t){var n,o,i=this;this._goodsModel=t;var a=null!==(n=this._goodsModel.recharge_amount)&&void 0!==n?n:0,r=null!==(o=this._goodsModel.bonus_amount)&&void 0!==o?o:0;r>0?(this.srcRewardCountLabel.node.opacity=255,this.srcRewardCountLabel.string=""+a,this.scheduleOnce(function(){i.srcRewardStrikeLineWidget.updateAlignment()}),this.increaseContentNode.opacity=255,this.increasePercentLabel.string="+"+(r/a*100).toFixed(0)+"%",this.finalRewardCountLabel.string=""+(a+r)):(this.srcRewardCountLabel.node.opacity=0,this.increaseContentNode.opacity=0,this.finalRewardCountLabel.string=a+"");var s=1;if(!h.default.isEmpty(this._goodsModel.goods_img))try{s=parseInt(this._goodsModel.goods_img)}catch(l){u.gg.logger.error("\u89e3\u6790\u56fe\u7247\u4e0b\u6807\u5931\u8d25")}s-=1,e==f.GoodsTypeEnum.Coin?((s<0||s>=this.coinCountSpriteFrames.length)&&(s=0),this.countSprite.spriteFrame=this.coinCountSpriteFrames[s]):e==f.GoodsTypeEnum.Diamond&&((s<0||s>=this.diamondCountSpriteFrames.length)&&(s=0),this.countSprite.spriteFrame=this.diamondCountSpriteFrames[s]),this.priceLabel.string=this._goodsModel.price_str},t.prototype.onClick=function(){return r(this,void 0,void 0,function(){var e,t,n,o;return s(this,function(i){switch(i.label){case 0:return e=0,t=0,this._goodsModel.recharge_amount>0&&(t+=this._goodsModel.recharge_amount),this._goodsModel.bonus_amount>0&&(t+=this._goodsModel.bonus_amount),n=d.AwardType.Coin,this._goodsModel.goods_type==f.GoodsType.Coin?(e=m.userWalletSystem.coinBalance,n=d.AwardType.Coin):this._goodsModel.goods_type==f.GoodsType.Diamond&&(e=m.userWalletSystem.diamondBalance,n=d.AwardType.Diamond),[4,u.gg.panelRouter.showAsync({panel:c.CommonPanelConfig.loadingPanel})];case 1:return i.sent(),[4,g.purchaseSystem.purchase(this._goodsModel)];case 2:return o=i.sent(),[4,u.gg.panelRouter.hideAsync({panel:c.CommonPanelConfig.loadingPanel})];case 3:return i.sent(),o?(y.gameAnimSystem.setShowReceiveFeaturesPanel(),u.gg.panelRouter.show({panel:c.CommonPanelConfig.receiveFeaturesPanel,data:{giftList:[{award_type:n,count:t,initValue:e}]}})):u.gg.panelRouter.show({panel:c.CommonPanelConfig.toastPanel,data:{text:p.i18n.getText("toast.payGoodsFailed")}}),[2]}})})},a([b({type:cc.Label,tooltip:"\u6700\u7ec8\u5956\u52b1\u6570\u91cf"})],t.prototype,"finalRewardCountLabel",void 0),a([b({type:cc.Label,tooltip:"\u521d\u59cb\u5956\u52b1\u6570\u91cf"})],t.prototype,"srcRewardCountLabel",void 0),a([b({type:cc.Widget,tooltip:"\u521d\u59cb\u5956\u52b1\u4e2d\u5212\u7ebf"})],t.prototype,"srcRewardStrikeLineWidget",void 0),a([b({type:cc.Node,tooltip:"\u52a0\u6210\u8282\u70b9"})],t.prototype,"increaseContentNode",void 0),a([b({type:cc.Label,tooltip:"\u52a0\u6210\u767e\u5206\u6bd4 e.g. +15%"})],t.prototype,"increasePercentLabel",void 0),a([b({type:cc.Label,tooltip:"\u4ef7\u683c"})],t.prototype,"priceLabel",void 0),a([b({type:cc.Sprite,tooltip:"\u5546\u54c1\u56fe\u6807"})],t.prototype,"countSprite",void 0),a([b({type:[cc.SpriteFrame],tooltip:"\u91d1\u5e01\u5546\u54c1\u56fe\u6807\uff08\u6570\u91cf\u4ece\u5c0f\u5f80\u4e0a\uff09"})],t.prototype,"coinCountSpriteFrames",void 0),a([b({type:[cc.SpriteFrame],tooltip:"\u94bb\u77f3\u5546\u54c1\u56fe\u6807\uff08\u6570\u91cf\u4ece\u5c0f\u5f80\u4e0a\uff09"})],t.prototype,"diamondCountSpriteFrames",void 0),a([v],t)}(cc.Component);n.default=S,cc._RF.pop()},{"../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../framework/gg":"gg","../../../framework/i18n/I18n":"I18n","../../../framework/utils/StringUtils":"StringUtils","../../../systems/api/gameapi/GameApiModels":"GameApiModels","../../../systems/api/gameapi/PayApiModels":"PayApiModels","../../../systems/purchase/PurchaseSystem":"PurchaseSystem","../../../systems/user/UserWalletSystem":"UserWalletSystem","../../../uiSystem/GamePanelSystem":"GamePanelSystem"}],StorePanelSideBarItemCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"fc3080GHVdMqIADwxnaDSp8","StorePanelSideBarItemCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=r.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.normalBgSpriteNode=null,t.selectedBgSpriteNode=null,t.descLabelNode=null,t.selectedLabelColor=new cc.Color,t.normalLabelColor=new cc.Color,t.sprite=null,t.selectedSpriteFrame=null,t.normalSpriteFrame=null,t}return i(t,e),t.prototype.setSelected=function(e){this.normalBgSpriteNode.active=!e,this.selectedBgSpriteNode.active=e,this.descLabelNode.color=e?this.selectedLabelColor:this.normalLabelColor,this.sprite.spriteFrame=e?this.selectedSpriteFrame:this.normalSpriteFrame},a([l(cc.Node)],t.prototype,"normalBgSpriteNode",void 0),a([l(cc.Node)],t.prototype,"selectedBgSpriteNode",void 0),a([l(cc.Node)],t.prototype,"descLabelNode",void 0),a([l()],t.prototype,"selectedLabelColor",void 0),a([l()],t.prototype,"normalLabelColor",void 0),a([l(cc.Sprite)],t.prototype,"sprite",void 0),a([l(cc.SpriteFrame)],t.prototype,"selectedSpriteFrame",void 0),a([l(cc.SpriteFrame)],t.prototype,"normalSpriteFrame",void 0),a([s],t)}(cc.Component);n.default=c,cc._RF.pop()},{}],StorePanelTopAnimCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"5a3bdDGmlFEB4cRUSMEXPX5","StorePanelTopAnimCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=r.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bgNode=null,t.userBalanceNode=null,t}return i(t,e),t.prototype.onEnable=function(){cc.Tween.stopAllByTarget(this.bgNode),this.bgNode.opacity=0,cc.tween(this.bgNode).to(.24,{opacity:255}).start(),cc.Tween.stopAllByTarget(this.userBalanceNode),this.userBalanceNode.opacity=0,this.userBalanceNode.position=cc.v3(0,100),cc.tween(this.userBalanceNode).to(.24,{opacity:255}).start(),cc.tween(this.userBalanceNode).to(.48,{position:cc.v3()},{easing:"backOut"}).start()},a([l(cc.Node)],t.prototype,"bgNode",void 0),a([l(cc.Node)],t.prototype,"userBalanceNode",void 0),a([s],t)}(cc.Component);n.default=c,cc._RF.pop()},{}],StorePanel:[function(e,t,n){"use strict";cc._RF.push(t,"5282fx042xCZ7y5brPM0rYq","StorePanel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t},c=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},u=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},p=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var h=e("../../../configs/CommonPanelConfig"),d=e("../../../framework/gg"),f=e("../../../framework/panelrouter/PanelComponent"),g=e("../../../components/CommonProperty"),m=e("../../../framework/i18n/I18n"),y=e("../../../systems/analysis/AnalysisEvent"),_=e("../../../systems/analysis/AnalysisWrapper"),v=e("../../../systems/api/gameapi/GameApiModels"),b=e("../../../systems/api/gameapi/PayApiModels"),S=e("../../../systems/purchase/PurchaseSystem"),C=p(e("./Item/StoreItemLayComponent")),I=e("./Item/uiSystems/StoreItemUIEvent"),R=p(e("./StorePanelGoodsItem")),L=p(e("./StorePanelSideBarItemCtrl")),P=e("./StoreUIEvent"),M=l(e("./Item/vip/StoreVIP")),T=l(e("./Item/vip/StoreVIPDiscount")),E=p(e("../../../framework/asset/AssetLoader")),A=e("../../../configs/BundleConfig"),w=e("../../../uiSystem/GameAnimSystem"),O=cc._decorator,G=O.ccclass,N=O.property,D=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iconBgNode=null,t.iconNode=null,t.goodsItemLay=null,t.propsItemLay=null,t.VIPNode=null,t.goodsItemNode=null,t.scrollView=null,t.layoutProperty=null,t.coinSideBarBtn=null,t.diamondSideBarBtn=null,t.itemBarBtn=null,t.vipBarBtn=null,t.vipDiscountBarBtn=null,t.bgSprite=[null],t.vipSubBgNode=[null],t.bgNode=null,t.itemLayComponent=null,t.designType=v.ItemType.avatarFrame,t._selectedGoodsType=null,t._nodePool=new cc.NodePool,t.vipStore=null,t.vipDiscountStore=null,t}return i(t,e),t.prototype.onLoad=function(){for(var e=0;e<6;++e)this._putItemNode(cc.instantiate(this.goodsItemNode));this._resetItems()},t.prototype.onEnable=function(){_.analysis.logEvent(y.AnalysisEvent.PurchaseOpen),d.gg.eventManager.on(I.StoreItemUIEvent.DesignRightItemEvent,this.updateItemType,this)},t.prototype.onDisable=function(){this._selectedGoodsType=null,_.analysis.logEvent(y.AnalysisEvent.PurchaseBack),d.gg.eventManager.offTarget(this)},t.prototype.show=function(e){w.gamePanelSystem.storeLastPanel=w.gamePanelSystem.gameShowPanel,w.gamePanelSystem.gameShowPanel=w.GamePanelType.Store,this._playTitleAnim();var t=e.data,n=b.GoodsTypeEnum.Coin;t&&t.type&&(n=t.type),this._updateSelectedGoodsType(n,null==t?void 0:t.forceRequestData),e.onShowed()},t.prototype.hide=function(e){w.gamePanelSystem.gameShowPanel=w.gamePanelSystem.storeLastPanel,d.gg.eventManager.emit(P.StoreUIEvent.StorePanelClose),e.onHided()},t.prototype.onBackBtnClick=function(){d.gg.panelRouter.hide({panel:h.CommonPanelConfig.storePanel})},t.prototype.onCoinSideBtnClick=function(){this._updateSelectedGoodsType(b.GoodsTypeEnum.Coin)},t.prototype.onDiamondSideBtnCLick=function(){this._updateSelectedGoodsType(b.GoodsTypeEnum.Diamond)},t.prototype.onVIPSideBtnClick=function(){_.analysis.logEvent(y.AnalysisEvent.VipStoreTabOpenClick),this._updateSelectedGoodsType(b.GoodsTypeEnum.VIP)},t.prototype.onVIPDiscountSideBtnClick=function(){this._updateSelectedGoodsType(b.GoodsTypeEnum.VIPDiscount)},t.prototype.itemBtnCLick=function(){this._updateSelectedGoodsType(b.GoodsTypeEnum.Item)},t.prototype._updateSelectedGoodsType=function(e,t){this._selectedGoodsType==e&&1!=t||(this._selectedGoodsType=e,this.bgNode.spriteFrame=this.bgSprite[0],this.coinSideBarBtn.setSelected(this._selectedGoodsType==b.GoodsTypeEnum.Coin),this.diamondSideBarBtn.setSelected(this._selectedGoodsType==b.GoodsTypeEnum.Diamond),this.itemBarBtn.setSelected(this._selectedGoodsType==b.GoodsTypeEnum.Item),this.vipBarBtn.setSelected(this._selectedGoodsType==b.GoodsTypeEnum.VIP),this.vipDiscountBarBtn.setSelected(this._selectedGoodsType==b.GoodsTypeEnum.VIPDiscount),e===b.GoodsTypeEnum.Item?(this.VIPNode.active=!1,this.goodsItemLay.active=!1,this.propsItemLay.active=!0,this.vipStore&&(this.vipStore.node.active=!1),this.vipDiscountStore&&(this.vipDiscountStore.node.active=!1),this.itemLayComponent.updaUI(this.designType),this.vipSubBgNode.forEach(function(e){e.active=!1})):(this.goodsItemLay.active=!0,this.propsItemLay.active=!1,this.vipStore&&(this.vipStore.node.active=!1),this.vipDiscountStore&&(this.vipDiscountStore.node.active=!1),this.vipSubBgNode.forEach(function(e){e.active=!1}),e===b.GoodsTypeEnum.VIP?(this.goodsItemLay.active=!1,this.bgNode.spriteFrame=this.bgSprite[1],this.VIPNode.active=!0,this.vipSubBgNode[0].active=!0,this.loadingVipStore(this._selectedGoodsType)):e===b.GoodsTypeEnum.VIPDiscount?(this.goodsItemLay.active=!1,this.bgNode.spriteFrame=this.bgSprite[2],this.VIPNode.active=!0,this.vipSubBgNode[1].active=!0,this.loadingVipStore(this._selectedGoodsType)):(this.VIPNode.active=!1,this._loadGoods(this._selectedGoodsType))))},t.prototype.updateItemType=function(e){this.designType=e},t.prototype._getItemNode=function(){var e=this._nodePool.get();return e||(e=cc.instantiate(this.goodsItemNode)),e},t.prototype._putItemNode=function(e){this._nodePool.put(e)},t.prototype._resetItems=function(){for(var e=this.scrollView.content.children.length-1;e>=0;--e)this._putItemNode(this.scrollView.content.children[e])},t.prototype._loadGoods=function(e){return c(this,void 0,void 0,function(){var t,n,o,i,a=this;return u(this,function(r){switch(r.label){case 0:return this._resetItems(),d.gg.panelRouter.show({panel:h.CommonPanelConfig.loadingPanel}),[4,S.purchaseSystem.fetchProducts({goods_type:e})];case 1:if(t=r.sent(),d.gg.panelRouter.hide({panel:h.CommonPanelConfig.loadingPanel}),t.errorCode){switch(t.errorCode){case b.GoodsResultErrorEnum.ConnectToGpFailed:d.gg.panelRouter.show({panel:h.CommonPanelConfig.toastPanel,data:{text:m.i18n.getText("toast.connectToGpFailed")}});break;case b.GoodsResultErrorEnum.LoadGoodsFailed:d.gg.panelRouter.show({panel:h.CommonPanelConfig.toastPanel,data:{text:m.i18n.getText("toast.loadGoodsListFailed")}})}return[2]}return t.goodsModels&&0!=t.goodsModels.length?(n=.5*(4*this.goodsItemNode.width+3*this.layoutProperty.spaceingX)-.5*this.goodsItemNode.width,o=-(this.layoutProperty.paddingTop+.5*this.goodsItemNode.height),t.goodsModels.forEach(function(t,i){var r=a._getItemNode();r.parent=a.scrollView.content;var s=i%4,l=Math.floor(i/4),c=n-r.width*s-a.layoutProperty.spaceingX*s,u=o-r.height*l-a.layoutProperty.spaceingY*l;r.position=cc.v3(c,u),r.getComponent(R.default).bindData(e,t)}),i=0,this.scrollView.content.children.forEach(function(e){e.position.y<i&&(i=e.position.y)}),i-=.5*this.goodsItemNode.height-this.layoutProperty.paddingBottom,this.scrollView.content.height=Math.abs(i),this.scrollView.content.height<this.scrollView.node.height&&(this.scrollView.content.height=this.scrollView.node.height),this.scrollView.scrollToTop(),[2]):(d.gg.panelRouter.show({panel:h.CommonPanelConfig.toastPanel,data:{text:m.i18n.getText("toast.loadGoodsListFailed")}}),[2])}})})},t.prototype._stopAnim=function(){cc.Tween.stopAllByTarget(this.iconBgNode),this.iconBgNode.opacity=0,cc.Tween.stopAllByTarget(this.iconNode),this.iconNode.y=0},t.prototype._playTitleAnim=function(){this._stopAnim(),cc.Tween.stopAllByTarget(this.iconBgNode),cc.tween(this.iconBgNode).repeatForever(cc.tween().to(.1,{opacity:255}).to(.4,{opacity:100,scale:1.2}).to(.3,{opacity:0}).to(0,{opacity:0,scale:1}).delay(1)).start(),cc.Tween.stopAllByTarget(this.iconNode),cc.tween(this.iconNode).repeatForever(cc.tween().to(.2,{y:this.iconNode.y+10}).to(.2,{y:this.iconNode.y}).to(.2,{y:this.iconNode.y+5}).to(.2,{y:this.iconNode.y}).delay(1)).start()},t.prototype.loadingVipStore=function(e){return c(this,void 0,void 0,function(){var t,n,o;return u(this,function(i){switch(i.label){case 0:return this._selectedGoodsType!=b.GoodsTypeEnum.VIPDiscount?[3,5]:[4,T.StoreVIPDiscountModel.getVIPDiscountData(b.GoodsTag.VIPWeeklyBonus)];case 1:return(t=i.sent())&&this._selectedGoodsType==b.GoodsTypeEnum.VIPDiscount?this.vipDiscountStore?[3,3]:[4,E.default.loadBundleAsset(A.BundleConfig.Resources+"/prefabs/panels/store/Item/vip/vipDiscount",cc.Prefab)]:[3,4];case 2:n=i.sent(),(o=cc.instantiate(n)).parent=this.VIPNode,o.position=cc.v3(0,0),this.vipDiscountStore=o.getComponent(T.default),i.label=3;case 3:this._selectedGoodsType==b.GoodsTypeEnum.VIPDiscount&&this.vipDiscountStore.showWithData(t),i.label=4;case 4:return[3,11];case 5:return this._selectedGoodsType!=b.GoodsTypeEnum.VIP?[3,10]:[4,M.StoreVIPModel.getVIPInfo(0,1,b.GoodsTag.VIPCard)];case 6:return(t=i.sent())&&this._selectedGoodsType==b.GoodsTypeEnum.VIP?this.vipStore?[3,8]:[4,E.default.loadBundleAsset(A.BundleConfig.Resources+"/prefabs/panels/store/Item/vip/vip",cc.Prefab)]:[3,9];case 7:n=i.sent(),(o=cc.instantiate(n)).parent=this.VIPNode,o.position=cc.v3(0,0),this.vipStore=o.getComponent(M.default),i.label=8;case 8:this._selectedGoodsType==b.GoodsTypeEnum.VIP&&this.vipStore.showWithData(t),i.label=9;case 9:return[3,11];case 10:console.log("loadingVipStore",e),i.label=11;case 11:return[2]}})})},s([N({type:cc.Node,tooltip:"\u5de6\u4e0a\u89d2\u6843\u5fc3"})],t.prototype,"iconBgNode",void 0),s([N({type:cc.Node,tooltip:"\u5de6\u4e0a\u89d2\u6807\u8bc6\u56fe"})],t.prototype,"iconNode",void 0),s([N({type:cc.Node,tooltip:"\u91d1\u5e01\u94bb\u77f3\u5546\u54c1\u5e03\u5c40"})],t.prototype,"goodsItemLay",void 0),s([N({type:cc.Node,tooltip:"\u9053\u5177\u7269\u54c1\u5e03\u5c40"})],t.prototype,"propsItemLay",void 0),s([N({type:cc.Node,tooltip:"VIP Node"})],t.prototype,"VIPNode",void 0),s([N({type:cc.Node,tooltip:"\u5546\u54c1item"})],t.prototype,"goodsItemNode",void 0),s([N({type:cc.ScrollView,tooltip:"ScrollView"})],t.prototype,"scrollView",void 0),s([N({type:g.LayoutProperty,tooltip:"layout \u5e03\u5c40\u63cf\u8ff0"})],t.prototype,"layoutProperty",void 0),s([N({type:L.default,tooltip:"\u4fa7\u8fb9\u680f-\u91d1\u5e01\u6309\u94ae"})],t.prototype,"coinSideBarBtn",void 0),s([N({type:L.default,tooltip:"\u4fa7\u8fb9\u680f-\u94bb\u77f3\u6309\u94ae"})],t.prototype,"diamondSideBarBtn",void 0),s([N({type:L.default,tooltip:"\u4fa7\u8fb9\u680f-\u7269\u54c1\u6309\u94ae"})],t.prototype,"itemBarBtn",void 0),s([N({type:L.default,tooltip:"\u4fa7\u8fb9\u680f-VIP\u6309\u94ae"})],t.prototype,"vipBarBtn",void 0),s([N({type:L.default,tooltip:"\u4fa7\u8fb9\u680f-VIP Discount\u6309\u94ae"})],t.prototype,"vipDiscountBarBtn",void 0),s([N({type:[cc.SpriteFrame],tooltip:"\u5546\u5e97\u9762\u677f\u80cc\u666f\u56fe"})],t.prototype,"bgSprite",void 0),s([N({type:[cc.Node],tooltip:"vip \u5b50\u5546\u5e97\u9762\u677f\u80cc\u666f\u8282\u70b9\uff0c[0]:vip [1]:vipDiscount"})],t.prototype,"vipSubBgNode",void 0),s([N({type:cc.Sprite,tooltip:"\u5546\u5e97\u9762\u677f\u80cc\u666f\u8282\u70b9"})],t.prototype,"bgNode",void 0),s([N({type:C.default,tooltip:"\u7269\u54c1\u5546\u54c1\u7ec4\u4ef6"})],t.prototype,"itemLayComponent",void 0),s([G],t)}(f.PanelComponent);n.default=D,cc._RF.pop()},{"../../../components/CommonProperty":"CommonProperty","../../../configs/BundleConfig":"BundleConfig","../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../framework/asset/AssetLoader":"AssetLoader","../../../framework/gg":"gg","../../../framework/i18n/I18n":"I18n","../../../framework/panelrouter/PanelComponent":"PanelComponent","../../../systems/analysis/AnalysisEvent":"AnalysisEvent","../../../systems/analysis/AnalysisWrapper":"AnalysisWrapper","../../../systems/api/gameapi/GameApiModels":"GameApiModels","../../../systems/api/gameapi/PayApiModels":"PayApiModels","../../../systems/purchase/PurchaseSystem":"PurchaseSystem","../../../uiSystem/GameAnimSystem":"GameAnimSystem","./Item/StoreItemLayComponent":"StoreItemLayComponent","./Item/uiSystems/StoreItemUIEvent":"StoreItemUIEvent","./Item/vip/StoreVIP":"StoreVIP","./Item/vip/StoreVIPDiscount":"StoreVIPDiscount","./StorePanelGoodsItem":"StorePanelGoodsItem","./StorePanelSideBarItemCtrl":"StorePanelSideBarItemCtrl","./StoreUIEvent":"StoreUIEvent"}],StoreUIEvent:[function(e,t,n){"use strict";cc._RF.push(t,"1cdccqMl/1NJaOscfgrkJC/","StoreUIEvent"),Object.defineProperty(n,"__esModule",{value:!0}),n.StoreUIEvent=void 0,(n.StoreUIEvent||(n.StoreUIEvent={})).StorePanelClose="StoreUIEvent.StorePanelClose",cc._RF.pop()},{}],StoreVIPDiscount:[function(e,t,n){"use strict";cc._RF.push(t,"5105dRQKeROH7Q/1Aciwznj","StoreVIPDiscount");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.StoreVIPDiscountModel=void 0;var c=e("./StoreVIP"),u=e("../../../../../systems/api/gameapi/PayApiModels"),p=l(e("./type/VIPBaseType")),h=l(e("../../../../../utils/GenericsTools")),d=e("../../../../../systems/purchase/PurchaseSystem"),f=e("../../../../../framework/gg"),g=e("../../../../../configs/CommonPanelConfig"),m=e("../../../../../framework/i18n/I18n"),y=cc._decorator,_=y.ccclass,v=y.property,b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.vipItemType=[null],t.coinImageList=[],t.diamondImageList=[],t}return i(t,e),t.prototype.showWithData=function(e){var t=this;this.node.active=!0,this.vipItemType.forEach(function(n,o){n.showWithData(e[o],e[o].goods_type==u.GoodsType.Diamond?t.diamondImageList[o%2]:t.coinImageList[o%2],t.vipItemType)})},t.vipType=u.GoodsTypeEnum.VIPDiscount,a([v({tooltip:"VIP\u7c7b\u578b",type:p.default})],t.prototype,"vipItemType",void 0),a([v({tooltip:"coin image icon",type:[cc.SpriteFrame]})],t.prototype,"coinImageList",void 0),a([v({tooltip:"coin image icon",type:[cc.SpriteFrame]})],t.prototype,"diamondImageList",void 0),a([_],t)}(cc.Component);n.default=b;var S=function(){function e(){}return e.getVIPDiscountData=function(e,t){return void 0===t&&(t=u.GoodsTypeEnum.All),r(this,void 0,Promise,function(){var n;return s(this,function(o){switch(o.label){case 0:return[4,h.default.loadingSomething(d.purchaseSystem.fetchProducts({goods_type:t,tags:e}))];case 1:return(null==(n=o.sent())?void 0:n.goodsModels)&&0!=(null==n?void 0:n.goodsModels.length)?(c.StoreVIPModel.checkRequestCode(n.errorCode),[2,null==n?void 0:n.goodsModels]):(f.gg.panelRouter.show({panel:g.CommonPanelConfig.toastPanel,data:{text:m.i18n.getText("toast.loadGoodsListFailed")}}),[2,null])}})})},e.getVIPDiscountDataByTypes=function(t){return r(this,void 0,Promise,function(){var n;return s(this,function(o){switch(o.label){case 0:return[4,e.getVIPDiscountData(u.GoodsTag.VIPWeeklyBonus)];case 1:return n=o.sent(),t.forEach(function(e,o){e.showWithData(n[o],null,t)}),[2]}})})},e}();n.StoreVIPDiscountModel=S,cc._RF.pop()},{"../../../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../../../framework/gg":"gg","../../../../../framework/i18n/I18n":"I18n","../../../../../systems/api/gameapi/PayApiModels":"PayApiModels","../../../../../systems/purchase/PurchaseSystem":"PurchaseSystem","../../../../../utils/GenericsTools":"GenericsTools","./StoreVIP":"StoreVIP","./type/VIPBaseType":"VIPBaseType"}],StoreVIP:[function(e,t,n){"use strict";cc._RF.push(t,"ff5b4JcjkJPooE+VHW18s9E","StoreVIP");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.StoreVIPModel=void 0;var c=l(e("./type/VIPBaseType")),u=l(e("../../../../../utils/GenericsTools")),p=e("../../../../../systems/purchase/PurchaseSystem"),h=e("../../../../../systems/api/gameapi/PayApiModels"),d=e("../../../../../configs/CommonPanelConfig"),f=e("../../../../../framework/i18n/I18n"),g=e("../../../../../framework/gg"),m=l(e("./type/VIPTimeType")),y=l(e("./type/VIPDetailType")),_=l(e("../../../../../framework/asset/AssetLoader")),v=e("../../../../../configs/BundleConfig"),b=cc._decorator,S=b.ccclass,C=b.property,I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.vipItemType=[null],t}return i(t,e),t.prototype.showWithData=function(e){var t=this;g.gg.logger.log("StoreVIP showWithData:",e),this.node.active=!0,this.vipItemType.filter(function(e){return e instanceof m.default}).forEach(function(n){var o=null==e?void 0:e.goods_list.filter(function(e){return n.vipCurrentTime==e.goods_name});o.length>0&&n.showWithData(o[0],null==e?void 0:e.award_list,t)}),this.vipItemType.filter(function(e){return e instanceof y.default}).forEach(function(t){t.showWithData(e)})},t.vipType=h.GoodsTypeEnum.VIP,a([C({tooltip:"VIP\u7c7b\u578b",type:c.default})],t.prototype,"vipItemType",void 0),a([S],t)}(cc.Component);n.default=I;var R=function(){function e(){}return e.getVIPInfo=function(e,t,n){return void 0===e&&(e=1),void 0===t&&(t=1),void 0===n&&(n=h.GoodsTag.VIPCard),r(this,void 0,Promise,function(){var o,i;return s(this,function(a){switch(a.label){case 0:return[4,u.default.loadingSomething(p.purchaseSystem.fetchVIPProducts({all_info:e,need_goods_info:t,tags:n}))];case 1:if(o=a.sent(),g.gg.logger.log("getVIPInfo:",o),!o)return g.gg.panelRouter.show({panel:d.CommonPanelConfig.toastPanel,data:{text:f.i18n.getText("toast.loadGoodsListFailed")}}),[2,null==o?void 0:o.goodsModels];if(i=o.errorCode||o.storeProduct.errorCode,console.log("code:",i),i){switch(i){case h.GoodsResultErrorEnum.ConnectToGpFailed:g.gg.panelRouter.show({panel:d.CommonPanelConfig.toastPanel,data:{text:f.i18n.getText("toast.connectToGpFailed")}});break;case h.GoodsResultErrorEnum.LoadGoodsFailed:g.gg.panelRouter.show({panel:d.CommonPanelConfig.toastPanel,data:{text:f.i18n.getText("toast.loadGoodsListFailed")}})}return[2,null==o?void 0:o.goodsModels]}return o.storeProduct&&0!=o.storeProduct.goodsModels.length?[2,null==o?void 0:o.goodsModels]:(g.gg.panelRouter.show({panel:d.CommonPanelConfig.toastPanel,data:{text:f.i18n.getText("toast.loadGoodsListFailed")}}),[2,null==o?void 0:o.goodsModels])}})})},e.checkRequestCode=function(e){if(e){switch(e){case h.GoodsResultErrorEnum.ConnectToGpFailed:g.gg.panelRouter.show({panel:d.CommonPanelConfig.toastPanel,data:{text:f.i18n.getText("toast.connectToGpFailed")}});break;case h.GoodsResultErrorEnum.LoadGoodsFailed:g.gg.panelRouter.show({panel:d.CommonPanelConfig.toastPanel,data:{text:f.i18n.getText("toast.loadGoodsListFailed")}})}return!1}return!0},e.loadDragonBonesForCoinOrDiamond=function(e,t){return r(this,void 0,Promise,function(){var n,o,i;return s(this,function(a){switch(a.label){case 0:return[4,Promise.all([_.default.loadBundleAsset(v.BundleConfig.Resources+"/dragons/"+t[0],dragonBones.DragonBonesAsset),_.default.loadBundleAsset(v.BundleConfig.Resources+"/dragons/"+t[1],dragonBones.DragonBonesAtlasAsset)])];case 1:return i=a.sent(),n=i[0],o=i[1],e.node.active=!0,e.dragonAsset=n,e.dragonAtlasAsset=o,e.armatureName="armatureName",e.playAnimation("newAnimation",0),[2]}})})},e.coinSkeIconPath="coinIcon/coin_ske_ske",e.coinTexIconPath="coinIcon/coin_ske_tex",e.diamondSkeIconPath="diamondIcon/diamon_ske",e.diamondTexIconPath="diamondIcon/diamon_tex",e}();n.StoreVIPModel=R,cc._RF.pop()},{"../../../../../configs/BundleConfig":"BundleConfig","../../../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../../../framework/asset/AssetLoader":"AssetLoader","../../../../../framework/gg":"gg","../../../../../framework/i18n/I18n":"I18n","../../../../../systems/api/gameapi/PayApiModels":"PayApiModels","../../../../../systems/purchase/PurchaseSystem":"PurchaseSystem","../../../../../utils/GenericsTools":"GenericsTools","./type/VIPBaseType":"VIPBaseType","./type/VIPDetailType":"VIPDetailType","./type/VIPTimeType":"VIPTimeType"}],StringKey:[function(e,t,n){"use strict";cc._RF.push(t,"eff4a4MCxlEFLscr8YM6EFj","StringKey"),Object.defineProperty(n,"__esModule",{value:!0}),n.StringKey=void 0;var o=function(){function e(){this._strsToID={},this._idToStrs=[],this._length=0}return e.prototype.add=function(e){var t=this._strsToID[e];return null!=t?t:(this._idToStrs[this._length]=e,this._strsToID[e]=this._length++)},e.prototype.getID=function(e){var t=this._strsToID[e];return null==t?-1:t},e.prototype.getName=function(e){var t=this._idToStrs[e];return null==t?void 0:t},e}();n.StringKey=o,cc._RF.pop()},{}],StringUtils:[function(e,t,n){"use strict";cc._RF.push(t,"cd5edjICRJJXY4Afrs4u1Sk","StringUtils");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var i=o(e("./MathUtils")),a=function(){function e(){}return e.randomUpperLetter=function(){return this._upperLetterDictionary[i.default.randomInt(0,this._upperLetterDictionary.length-1)]},e.randomLowerLetter=function(){return this._lowerLetterDictionary[i.default.randomInt(0,this._lowerLetterDictionary.length-1)]},e.randomText=function(e){for(var t="",n=0;n<e;n++)t+=this.randomLowerLetter();return t},e.isEmpty=function(e){return null==e||""===e},e.clampStr=function(e,t){if(void 0===t&&(t=8),!e||""==e)return e;for(var n=0,o=[],i=new RegExp("[\u4e00-\u9fa5]+"),a=0,r=e;a<r.length;a++){var s=r[a];i.test(s)?n+=2:n+=1,o.push(s)}if(n<=t)return e;for(;;){var l=o.pop();if(i.test(l)?n-=2:n-=1,n<=t)return o.reduce(function(e,t){return e+t},"")+"..."}},e._upperLetterDictionary="ABCDEFGHIJKLMNOPQRSTUVWXYZ",e._lowerLetterDictionary="abcdefghijklmnopqrstuvwxyz",e}();n.default=a,cc._RF.pop()},{"./MathUtils":"MathUtils"}],SurprisePackageComponent:[function(e,t,n){"use strict";cc._RF.push(t,"7529eb67HlLZb3CYRUTocqc","SurprisePackageComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var l=e("../../../../../main/scripts/configs/CommonPanelConfig"),c=e("../../../../../main/scripts/framework/gg"),u=e("../../../../../main/scripts/framework/i18n/I18n"),p=e("../../../../../main/scripts/framework/utils/TimeUtils"),h=e("../../../../../main/scripts/systems/api/gameapi/GameApiModels"),d=e("../../../../../main/scripts/systems/api/gameapi/PayApiModels"),f=e("../../../../../main/scripts/systems/game/GameUISystem"),g=e("../../../../../main/scripts/systems/login/LoginProto"),m=e("../../../../../main/scripts/systems/user/UserSystem"),y=e("../../../../../main/scripts/systems/user/UserWalletSystem"),_=e("../../../systems/vipRecharge/VipRechargeSystem"),v=cc._decorator,b=v.ccclass,S=v.property,C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.timeDayLabel=null,t.timeHourLabel=null,t.timeMinuteLabel=null,t.timeSecondLabel=null,t.giftSpine=null,t.openNode=null,t.openBtn=null,t.giftCoinLab=null,t.openedNode=null,t.upgradeBtn=null,t.receiveBtn=null,t.receivedNode=null,t.receivedCoinLab=null,t.receivedBtn=null,t.activityTime=0,t.endClaimingTime=86400,t}return i(t,e),t.prototype.onLoad=function(){this.reset()},t.prototype.onEnable=function(){this.updateUI()},t.prototype.onDisable=function(){c.gg.eventManager.offTarget(this),this.reset(),this.unscheduleAllCallbacks()},t.prototype.reset=function(){this.timeDayLabel.string="0",this.timeHourLabel.string="00",this.timeMinuteLabel.string="00",this.timeSecondLabel.string="00",this.openedNode.stopAllActions()},t.prototype.updateUI=function(){var e,t,n,o,i;this.openNode.active=!1,this.openBtn.active=!1,this.openedNode.active=!1,this.upgradeBtn.active=!1,this.receiveBtn.active=!1,this.receivedNode.active=!1,this.receivedBtn.active=!1;var a=c.gg.localStorage.getItem("vip_activity_open_"+m.userSystem.userModel.uid);if(null===(e=_.vipRechargeSystem.vipRechargeInfo)||void 0===e?void 0:e.surprise_package)switch(this.giftCoinLab.string=(null===(t=_.vipRechargeSystem.vipRechargeInfo.surprise_package.award_list[0])||void 0===t?void 0:t.count)+"",this.receivedCoinLab.string=(null===(n=_.vipRechargeSystem.vipRechargeInfo.surprise_package.award_list[0])||void 0===n?void 0:n.count)+"",_.vipRechargeSystem.vipRechargeInfo.surprise_package.status){case h.SurprisePackageStatusType.unReceive:"1"==a?(this.giftSpine.setAnimation(0,"standby_02",!0),this.openedNode.active=!0,this.onActivityRemainingTime(),(null===(i=null===(o=m.userSystem.userModel)||void 0===o?void 0:o.vipInfo)||void 0===i?void 0:i.vip_status)==g.VipStatusType.Activation?this.receiveBtn.active=!0:this.upgradeBtn.active=!0):(this.giftSpine.setAnimation(0,"standby_01",!0),this.openBtn.active=!0,this.openNode.active=!0);break;case h.SurprisePackageStatusType.Received:this.giftSpine.setAnimation(0,"standby_02",!0),this.receivedNode.active=!0,this.receivedBtn.active=!0}},t.prototype.updateTimerStr=function(){var e,t,n,o="";if(this.activityTime>=86400){var i=Math.floor((this.activityTime-this.endClaimingTime)/60/60/24);o=p.TimeUtils.formatSecond2(this.activityTime-this.endClaimingTime-86400*i),this.timeDayLabel.string=i+""}else o=p.TimeUtils.formatSecond2(this.activityTime),this.timeDayLabel.string="0";var a=o.split(":");a&&(this.timeHourLabel.string=null!==(e=a[0])&&void 0!==e?e:"00",this.timeMinuteLabel.string=null!==(t=a[1])&&void 0!==t?t:"00",this.timeSecondLabel.string=null!==(n=a[2])&&void 0!==n?n:"00")},t.prototype.onActivityRemainingTime=function(){this.activityTime=_.vipRechargeSystem.vipRechargeInfo.end_time-Date.now()/1e3,this.updateTimerStr(),this.schedule(this.updateActivityTimer,1)},t.prototype.updateActivityTimer=function(){this.activityTime--,this.updateTimerStr(),this.activityTime<=0&&(this.unschedule(this.updateActivityTimer),c.gg.panelRouter.hide({panel:l.CommonPanelConfig.vipRechargePanel}))},t.prototype.onClickToVip=function(){c.gg.panelRouter.show({panel:l.CommonPanelConfig.storePanel,data:{type:d.GoodsTypeEnum.VIP}})},t.prototype.onClickReceive=function(){return r(this,void 0,void 0,function(){var e,t,n;return s(this,function(o){switch(o.label){case 0:return e=y.userWalletSystem.coinBalance,t=y.userWalletSystem.diamondBalance,n=m.userSystem.userModel.fashion,[4,_.vipRechargeSystem._receiveSurprisePackage()];case 1:return o.sent()?(this.updateUI(),f.gameUISystem.showReceiveFeatures(e,t,n,_.vipRechargeSystem.vipRechargeInfo.surprise_package.award_list)):c.gg.panelRouter.show({panel:l.CommonPanelConfig.toastPanel,data:{text:u.i18n.getText("vipRecharge.label.receivedFail")}}),[2]}})})},t.prototype.onClickOpen=function(){return r(this,void 0,void 0,function(){var e=this;return s(this,function(){return this.openBtn.getComponent(cc.Button).interactable=!1,c.gg.localStorage.setItem("vip_activity_open_"+m.userSystem.userModel.uid,"1"),this.giftSpine.setAnimation(0,"get",!1),this.openedNode.opacity=0,this.openNode.active=!1,this.openedNode.active=!0,cc.tween(this.openedNode).delay(1).to(.5,{opacity:255},{easing:"sineOut"}).start(),this.giftSpine.setCompleteListener(function(){e.giftSpine.clearTracks(),e.giftSpine.setCompleteListener(null),e.updateUI()}),[2]})})},a([S({type:cc.Label,tooltip:"\u6d3b\u52a8\u5269\u4f59\u65f6\u95f4/\u5956\u52b1\u9886\u53d6\u5269\u4f59\u65f6\u95f4"})],t.prototype,"timeDayLabel",void 0),a([S({type:cc.Label,tooltip:"\u6d3b\u52a8\u5269\u4f59\u65f6\u95f4/\u5956\u52b1\u9886\u53d6\u5269\u4f59\u65f6\u95f4"})],t.prototype,"timeHourLabel",void 0),a([S({type:cc.Label,tooltip:"\u6d3b\u52a8\u5269\u4f59\u65f6\u95f4/\u5956\u52b1\u9886\u53d6\u5269\u4f59\u65f6\u95f4"})],t.prototype,"timeMinuteLabel",void 0),a([S({type:cc.Label,tooltip:"\u6d3b\u52a8\u5269\u4f59\u65f6\u95f4/\u5956\u52b1\u9886\u53d6\u5269\u4f59\u65f6\u95f4"})],t.prototype,"timeSecondLabel",void 0),a([S({type:sp.Skeleton,tooltip:"\u793c\u76d2"})],t.prototype,"giftSpine",void 0),a([S({type:cc.Node,tooltip:"\u6253\u5f00\u63d0\u793a\u6587\u672c\u8282\u70b9"})],t.prototype,"openNode",void 0),a([S({type:cc.Node,tooltip:"\u6253\u5f00\u6309\u94ae"})],t.prototype,"openBtn",void 0),a([S({type:cc.Label,tooltip:"\u83b7\u5f97\u91d1\u5e01\u6587\u672c"})],t.prototype,"giftCoinLab",void 0),a([S({type:cc.Node,tooltip:"\u5df2\u7ecf\u6253\u5f00\u83b7\u5f97\u91d1\u5e01\u8282\u70b9"})],t.prototype,"openedNode",void 0),a([S({type:cc.Node,tooltip:"\u5347\u7ea7\u6309\u94ae"})],t.prototype,"upgradeBtn",void 0),a([S({type:cc.Node,tooltip:"\u9886\u53d6\u6309\u94ae"})],t.prototype,"receiveBtn",void 0),a([S({type:cc.Node,tooltip:"\u5df2\u9886\u53d6\u8282\u70b9"})],t.prototype,"receivedNode",void 0),a([S({type:cc.Label,tooltip:"\u83b7\u5f97\u91d1\u5e01\u6587\u672c"})],t.prototype,"receivedCoinLab",void 0),a([S({type:cc.Node,tooltip:"\u5df2\u9886\u53d6\u6309\u94ae\u8282\u70b9"})],t.prototype,"receivedBtn",void 0),a([b],t)}(cc.Component);n.default=C,cc._RF.pop()},{"../../../../../main/scripts/configs/CommonPanelConfig":"CommonPanelConfig","../../../../../main/scripts/framework/gg":"gg","../../../../../main/scripts/framework/i18n/I18n":"I18n","../../../../../main/scripts/framework/utils/TimeUtils":"TimeUtils","../../../../../main/scripts/systems/api/gameapi/GameApiModels":"GameApiModels","../../../../../main/scripts/systems/api/gameapi/PayApiModels":"PayApiModels","../../../../../main/scripts/systems/game/GameUISystem":"GameUISystem","../../../../../main/scripts/systems/login/LoginProto":"LoginProto","../../../../../main/scripts/systems/user/UserSystem":"UserSystem","../../../../../main/scripts/systems/user/UserWalletSystem":"UserWalletSystem","../../../systems/vipRecharge/VipRechargeSystem":"VipRechargeSystem"}],SwitchComponent:[function(e,t,n){"use strict";cc._RF.push(t,"3c72bRbo7lAJYBIYiXvOXkM","SwitchComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=r.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iconNode=null,t.onBgSpriteNode=null,t.onLabelNode=null,t.offBgSpriteNode=null,t.offLabelNode=null,t._checked=null,t}var n;return i(t,e),n=t,Object.defineProperty(t.prototype,"checked",{get:function(){return this._checked},set:function(e){this._checked!=e&&(this._checked=e,this._checked?this._playTurnOnEffect():this._playTurnOffEffect(),this.node.emit(n.OnCheckedChanged,this))},enumerable:!1,configurable:!0}),t.prototype.onEnable=function(){this.node.on(cc.Node.EventType.TOUCH_START,this._onTouchStart,this)},t.prototype.onDisable=function(){this.node.off(cc.Node.EventType.TOUCH_START,this._onTouchStart,this)},t.prototype._onTouchStart=function(){this.checked=!this.checked},t.prototype._playTurnOnEffect=function(e){void 0===e&&(e=.2),cc.Tween.stopAllByTarget(this.iconNode),cc.tween(this.iconNode).to(e,{position:cc.v3(.5*-this.iconNode.parent.width+.5*this.iconNode.width,0)},{easing:"sineOut"}).start(),cc.Tween.stopAllByTarget(this.onBgSpriteNode),cc.tween(this.onBgSpriteNode).to(e,{opacity:255},{easing:"sineOut"}).start(),cc.Tween.stopAllByTarget(this.offBgSpriteNode),cc.tween(this.offBgSpriteNode).to(e,{opacity:0},{easing:"sineOut"}).start(),cc.Tween.stopAllByTarget(this.onLabelNode),cc.tween(this.onLabelNode).to(e,{opacity:255},{easing:"sineOut"}).start(),cc.Tween.stopAllByTarget(this.offLabelNode),cc.tween(this.offLabelNode).to(e,{opacity:0},{easing:"sineOut"}).start()},t.prototype._playTurnOffEffect=function(e){void 0===e&&(e=.2),cc.Tween.stopAllByTarget(this.iconNode),cc.tween(this.iconNode).to(e,{position:cc.v3(.5*this.iconNode.parent.width-.5*this.iconNode.width,0)},{easing:"sineOut"}).start(),cc.Tween.stopAllByTarget(this.onBgSpriteNode),cc.tween(this.onBgSpriteNode).to(e,{opacity:0},{easing:"sineOut"}).start(),cc.Tween.stopAllByTarget(this.offBgSpriteNode),cc.tween(this.offBgSpriteNode).to(e,{opacity:255},{easing:"sineOut"}).start(),cc.Tween.stopAllByTarget(this.onLabelNode),cc.tween(this.onLabelNode).to(e,{opacity:0},{easing:"sineOut"}).start(),cc.Tween.stopAllByTarget(this.offLabelNode),cc.tween(this.offLabelNode).to(e,{opacity:255},{easing:"sineOut"}).start()},t.OnCheckedChanged="switch_components_changed",a([l(cc.Node)],t.prototype,"iconNode",void 0),a([l(cc.Node)],t.prototype,"onBgSpriteNode",void 0),a([l(cc.Node)],t.prototype,"onLabelNode",void 0),a([l(cc.Node)],t.prototype,"offBgSpriteNode",void 0),a([l(cc.Node)],t.prototype,"offLabelNode",void 0),n=a([s],t)}(cc.Component);n.default=c,cc._RF.pop()},{}],TTY:[function(e,t,n){"use strict";cc._RF.push(t,"259eeW8MHxBw6NKfPhNhhKS","TTY");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=r(e("./scripts/src/main/scripts/components/vitruallist/List")),l=cc._decorator,c=l.ccclass,u=l.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.list=null,t}return i(t,e),t.prototype.start=function(){this.list.numItems=100},t.prototype.onListRender=function(e,t){console.log("onListRender",e,t)},a([u(s.default)],t.prototype,"list",void 0),a([c],t)}(cc.Component);n.default=p,cc._RF.pop()},{"./scripts/src/main/scripts/components/vitruallist/List":"List"}],TabFrameItem:[function(e,t,n){"use strict";cc._RF.push(t,"ec850UOFDhO1aDyUtyxiYe7","TabFrameItem");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.itemName=null,t.isselected=!1,t.callBack=null,t}return i(t,e),t.prototype.setName=function(e){console.log("TabFrameITem00------",e),this.itemName=e},t.prototype.getName=function(){return this.itemName},t.prototype.setCallFun=function(e){this.callBack=e},t.prototype.setPress=function(){this.isselected=!0,this.node.getChildByName("normal").active=!1,this.node.getChildByName("press").active=!0,this.node.getChildByName("New Label").color=cc.color(235,27,27),this.callBack&&(console.log("this.getname----",this.getName()),this.callBack(this.getName()))},t.prototype.setNormal=function(){this.isselected=!1,this.node.getChildByName("normal").active=!0,this.node.getChildByName("press").active=!1,this.node.getChildByName("New Label").color=cc.color(255,255,255)},t.prototype.setLabel=function(e){this.node.getChildByName("New Label").getComponent(cc.Label).string=e},a([s],t)}(cc.Component));n.default=l,cc._RF.pop()},{}],TabSelectorComponent:[function(e,t,n){"use strict";cc._RF.push(t,"10a7d89VqZEzp/U0ZPlzU3e","TabSelectorComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../framework/gg"),l=r(e("./TabSelectorOptionComponent")),c=cc._decorator,u=c.ccclass,p=c.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.optionsParentNode=null,t.optionNode=null,t.bgNode=null,t.selectedBarNode=null,t._nodePool=new cc.NodePool(l.default),t._selectedIndex=null,t}var n;return i(t,e),n=t,t.prototype._getNode=function(){var e=this._nodePool.get();return e||(e=cc.instantiate(this.optionNode)),e},t.prototype._putNode=function(e){this._nodePool.put(e)},t.prototype.setSelectedIndex=function(e){this._selectedIndex!=e&&(this._selectedIndex=e,this._updateSelectedBar(),this.node.emit(n.OnTabSelectorSelectedChanged,e))},t.prototype.reset=function(){for(var e=this.optionsParentNode.children.length-1;e>=0;--e)this._putNode(this.optionsParentNode.children[e]);this._selectedIndex=null,cc.Tween.stopAllByTarget(this.selectedBarNode),this.selectedBarNode.width=0,this.selectedBarNode.position=cc.v3()},t.prototype.init=function(e,t){var n=this;void 0===t&&(t=0),this.reset();for(var o=0,i=e;o<i.length;o++){var a=i[o],r=this._getNode();r.parent=this.optionsParentNode,r.getComponent(l.default).init(a,t),r.on("click",this._onClick,this)}this.optionsParentNode.getComponent(cc.Layout).updateLayout(),this.scheduleOnce(function(){n.bgNode.width=n.optionsParentNode.width+10})},t.prototype._onClick=function(e){var t=e.node.getSiblingIndex();this.setSelectedIndex(t)},t.prototype._updateSelectedBar=function(){var e=this.optionsParentNode.children[this._selectedIndex];if(e){var t=e.position,n=e.width;cc.Tween.stopAllByTarget(this.selectedBarNode),cc.tween(this.selectedBarNode).to(.2,{position:t,width:n},{easing:"sineOut"}).start()}else s.gg.logger.error("\u8d8a\u754c\u4e86")},t.OnTabSelectorSelectedChanged="TabSelectorComponent.OnTabSelectorSelectedChanged",a([p(cc.Node)],t.prototype,"optionsParentNode",void 0),a([p(cc.Node)],t.prototype,"optionNode",void 0),a([p(cc.Node)],t.prototype,"bgNode",void 0),a([p(cc.Node)],t.prototype,"selectedBarNode",void 0),n=a([u],t)}(cc.Component);n.default=h,cc._RF.pop()},{"../framework/gg":"gg","./TabSelectorOptionComponent":"TabSelectorOptionComponent"}],TabSelectorOptionComponent:[function(e,t,n){"use strict";cc._RF.push(t,"55fa5p7QoVMS4fx+ZPIeJRr","TabSelectorOptionComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=r.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.descLabel=null,t.paddingLeft=20,t.paddingRight=20,t}return i(t,e),t.prototype.init=function(e,t){void 0===t&&(t=0),this.descLabel.string=e,this.descLabel._forceUpdateRenderData&&this.descLabel._forceUpdateRenderData(!0),this.node.width=this.descLabel.node.width+this.paddingLeft+this.paddingRight+t},a([l(cc.Label)],t.prototype,"descLabel",void 0),a([l()],t.prototype,"paddingLeft",void 0),a([l()],t.prototype,"paddingRight",void 0),a([s],t)}(cc.Component);n.default=c,cc._RF.pop()},{}],TaskEvent:[function(e,t,n){"use strict";cc._RF.push(t,"211dcAefwlM+qIoc3bpivli","TaskEvent"),Object.defineProperty(n,"__esModule",{value:!0}),n.TaskEvent=void 0,function(e){e.onTaskListResponse="TaskEvent.onTaskListResponse",e.onClaimAwardResponse="TaskEvent.onClaimAwardResponse"}(n.TaskEvent||(n.TaskEvent={})),cc._RF.pop()},{}],TaskItem:[function(e,t,n){"use strict";cc._RF.push(t,"b6e7aCLlsxPUop2813JHIoF","TaskItem");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../../../../main/scripts/configs/CommonPanelConfig"),s=e("../../../../../main/scripts/framework/gg"),l=e("../../../../../main/scripts/framework/i18n/I18n"),c=e("../../../../../main/scripts/systems/api/gameapi/GameApiModels"),u=e("../../../systems/task/TaskSystem"),p=e("../../../systems/ui/lobby/LobbyUIEvent"),h=cc._decorator,d=h.ccclass,f=h.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.desc=null,t.rewardIcon=null,t.rewardNum=null,t.taskBar=null,t.taskBarProgress=null,t.claimBtn=null,t.achievementBtn=null,t.achievementNum=null,t.gotoBtn=null,t.claimed=null,t.claimedMask=null,t.disableClaimBtn=null,t.taskInfoModel=null,t}return i(t,e),t.prototype.onEnable=function(){this.claimBtn.on(cc.Node.EventType.TOUCH_END,this.claimBtnClick,this),this.achievementBtn.on(cc.Node.EventType.TOUCH_END,this.claimBtnClick,this),this.gotoBtn.on(cc.Node.EventType.TOUCH_END,this.gotoBtnClick,this),this.disableClaimBtn.on(cc.Node.EventType.TOUCH_END,this.disableClaimBtnClick,this)},t.prototype.onDisable=function(){this.claimBtn.off(cc.Node.EventType.TOUCH_END,this.claimBtnClick,this),this.achievementBtn.off(cc.Node.EventType.TOUCH_END,this.claimBtnClick,this),this.gotoBtn.off(cc.Node.EventType.TOUCH_END,this.gotoBtnClick,this),this.disableClaimBtn.off(cc.Node.EventType.TOUCH_END,this.disableClaimBtnClick,this)},t.prototype.updataUI=function(){if(null!=this.taskInfoModel){this.desc.string=this.taskInfoModel.desc,this.rewardNum.string=String(this.taskInfoModel.award_num),this.taskBar.progress=this.taskInfoModel.progress/this.taskInfoModel.total,this.taskBarProgress.string=this.taskInfoModel.progress+"/"+this.taskInfoModel.total,this.achievementNum.string=String(this.taskInfoModel.achievement);var e=this.taskInfoModel.finish_status+this.taskInfoModel.award_status;switch(this.hideAllBtn(),e){case c.TaskStatus.Underway:this.gotoBtn.active=!0;break;case c.TaskStatus.Finish:if(this.taskInfoModel.task_enum===c.TaskType.AchievementTask){this.achievementBtn.active=!0;break}if(this.taskInfoModel.task_enum===c.TaskType.NewPlayerSevenDay&&this.taskInfoModel.day>u.taskSystem.userRegisterDay){this.disableClaimBtn.active=!0;break}this.claimBtn.active=!0;break;case c.TaskStatus.Received:this.claimed.active=!0,this.claimedMask.active=!0}}},t.prototype.hideAllBtn=function(){this.achievementBtn.active=!1,this.claimBtn.active=!1,this.gotoBtn.active=!1,this.claimed.active=!1,this.claimedMask.active=!1,this.disableClaimBtn.active=!1},t.prototype.claimBtnClick=function(){s.gg.panelRouter.show({panel:r.CommonPanelConfig.loadingPanel}),u.taskSystem.getTaskAward(this.taskInfoModel.task_id,this.taskInfoModel.task_enum,this.taskInfoModel.day)},t.prototype.gotoBtnClick=function(){switch(this.taskInfoModel.task_type){case c.DoTaskEvent.FinishBaloot:case c.DoTaskEvent.WinBaloot:case c.DoTaskEvent.Gain4AInBaloot:case c.DoTaskEvent.GainGoldInBaloot:s.gg.eventManager.emit(p.LobbyUIEvent.LobbyGetInBaloot);break;case c.DoTaskEvent.FinishFastBaloot:case c.DoTaskEvent.WinFastBaloot:s.gg.eventManager.emit(p.LobbyUIEvent.LobbyGetInFastBaloot);break;case c.DoTaskEvent.FinishDoubleBaloot:case c.DoTaskEvent.WinDoubleBaloot:s.gg.eventManager.emit(p.LobbyUIEvent.LobbyGetInDoubleBaloot);break;case c.DoTaskEvent.FinishQualifyingBaloot:case c.DoTaskEvent.WinQualifyingBaloot:s.gg.eventManager.emit(p.LobbyUIEvent.LobbyGetInQualifyingBaloot);break;case c.DoTaskEvent.WinLudo:case c.DoTaskEvent.FinishLudo:case c.DoTaskEvent.HitInLudo:case c.DoTaskEvent.SixInLudo:case c.DoTaskEvent.GainGoldInLudo:s.gg.eventManager.emit(p.LobbyUIEvent.LobbyGetInLudo);break;case c.DoTaskEvent.ChargeTimes:case c.DoTaskEvent.ChargeAmount:s.gg.panelRouter.hide({panel:r.CommonPanelConfig.taskPanel}),s.gg.panelRouter.show({panel:r.CommonPanelConfig.storePanel})}},t.prototype.disableClaimBtnClick=function(){s.gg.panelRouter.show({panel:r.CommonPanelConfig.toastPanel,data:{text:l.i18n.getText("toast.taskBeforeTheTime")}})},a([f({type:cc.Label,tooltip:"\u4efb\u52a1\u63cf\u8ff0"})],t.prototype,"desc",void 0),a([f({type:cc.Sprite,tooltip:"\u4efb\u52a1\u5956\u52b1\u56fe\u6807"})],t.prototype,"rewardIcon",void 0),a([f({type:cc.Label,tooltip:"\u4efb\u52a1\u5956\u52b1\u6570\u91cf"})],t.prototype,"rewardNum",void 0),a([f({type:cc.ProgressBar,tooltip:"\u4efb\u52a1\u8fdb\u5ea6\u6761"})],t.prototype,"taskBar",void 0),a([f({type:cc.Label,tooltip:"\u4efb\u52a1\u8fdb\u5ea6\u503c"})],t.prototype,"taskBarProgress",void 0),a([f({type:cc.Node,tooltip:"\u4efb\u52a1\u9886\u53d6\u5956\u52b1\u6309\u94ae"})],t.prototype,"claimBtn",void 0),a([f({type:cc.Node,tooltip:"\u6210\u5c31\u4efb\u52a1\u9886\u53d6\u5956\u52b1\u6309\u94ae"})],t.prototype,"achievementBtn",void 0),a([f({type:cc.Label,tooltip:"\u6210\u5c31\u4efb\u52a1\u9886\u53d6\u6210\u5c31\u503c"})],t.prototype,"achievementNum",void 0),a([f({type:cc.Node,tooltip:"\u524d\u5f80\u4efb\u52a1\u70b9\u6309\u94ae"})],t.prototype,"gotoBtn",void 0),a([f({type:cc.Node,tooltip:"\u5df2\u9886\u53d6\u5956\u52b1\u56fe\u6807"})],t.prototype,"claimed",void 0),a([f({type:cc.Node,tooltip:"\u4efb\u52a1\u9886\u53d6\u5b8c\u906e\u7f69"})],t.prototype,"claimedMask",void 0),a([f({type:cc.Node,tooltip:"\u4efb\u52a1\u5b8c\u6210\u4f46\u7981\u6b62\u9886\u53d6\u6309\u94ae"})],t.prototype,"disableClaimBtn",void 0),a([d],t)}(cc.Component);n.default=g,cc._RF.pop()},{"../../../../../main/scripts/configs/CommonPanelConfig":"CommonPanelConfig","../../../../../main/scripts/framework/gg":"gg","../../../../../main/scripts/framework/i18n/I18n":"I18n","../../../../../main/scripts/systems/api/gameapi/GameApiModels":"GameApiModels","../../../systems/task/TaskSystem":"TaskSystem","../../../systems/ui/lobby/LobbyUIEvent":"LobbyUIEvent"}],TaskList:[function(e,t,n){"use strict";cc._RF.push(t,"48019p/oYdJ2pgugFP4SgZu","TaskList");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../../../../main/scripts/framework/gg"),l=r(e("./TaskItem")),c=cc._decorator,u=c.ccclass,p=c.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.taskView=null,t.taskItemParentNode=null,t.taskItem=null,t.spaceingY=10,t.paddingTop=10,t.visableAreaMarginTop=0,t.visableAreaMarginBottom=0,t.virtualNodes=[],t.taskNodeArray=new Array,t.taskInfos=null,t.userRegisterDay=null,t.lastTimer=0,t}return i(t,e),t.prototype.onEnable=function(){this.taskItemParentNode.on(cc.Node.EventType.POSITION_CHANGED,this.onPositionChanged,this),this.taskView.node.on("scroll-ended",this.updateList,this)},t.prototype.onDisable=function(){this.taskItemParentNode.off(cc.Node.EventType.POSITION_CHANGED,this.onPositionChanged,this),s.gg.eventManager.offTarget(this),this.taskView.node.off("scroll-ended",this.updateList,this)},t.prototype.init=function(e,t){this.taskInfos=e,this.userRegisterDay=t,this.virtualNodes=[],null!==this.taskInfos&&(this.virtualNodes=this.taskInfos.map(function(){return null}),this.initParentHeight()),this.taskItemParentNode.position=cc.v3(),this.updateList()},t.prototype.reset=function(){this.virtualNodes=[],this.taskNodeArray=[];for(var e=this.taskItemParentNode.childrenCount-1;e>=0;--e)this.taskNodeArray.push(this.taskItemParentNode.children[e]),this.taskItemParentNode.children[e].active=!1;this.taskItemParentNode.position=cc.v3(),this.taskView.stopAutoScroll(),this.taskView.scrollToTop()},t.prototype.initParentHeight=function(){var e=this.taskInfos.length;this.taskItemParentNode.height=this.paddingTop+this.taskItem.height*e+this.spaceingY*e,this.taskItemParentNode.height<this.taskView.node.height&&(this.taskItemParentNode.height=this.taskView.node.height)},t.prototype.onPositionChanged=function(){var e=Date.now();e-this.lastTimer>100&&(this.lastTimer=e,this.updateList())},t.prototype.updateList=function(){for(var e=0;e<this.virtualNodes.length;++e){var t=this.virtualNodes[e];if(this.isVisable(e)){t||((t=this.taskNodeArray.pop())||(t=cc.instantiate(this.taskItem),this.taskItemParentNode.addChild(t)),t.active=!0,this.virtualNodes[e]=t),t.position=this.getIndexPos(e);var n=t.getComponent(l.default);n.taskInfoModel=this.taskInfos[e],n.updataUI()}else t&&(t.active=!1,this.taskNodeArray.push(t)),this.virtualNodes[e]=null}},t.prototype.isVisable=function(e){var t=this.getIndexPos(e),n=-this.taskItemParentNode.position.y+this.visableAreaMarginTop,o=n-this.visableAreaMarginTop-this.taskView.node.height-this.visableAreaMarginBottom;return t.y+.5*this.taskItem.height<=n&&t.y-.5*this.taskItem.height>=o},t.prototype.getIndexPos=function(e){return cc.v3(0,-this.paddingTop-this.taskItem.height*(e+.5)-e*this.spaceingY)},a([p({type:cc.ScrollView,tooltip:"\u4efb\u52a1\u5217\u8868"})],t.prototype,"taskView",void 0),a([p({type:cc.Node,tooltip:"\u4efb\u52a1\u5217\u8868\u7236\u8282\u70b9"})],t.prototype,"taskItemParentNode",void 0),a([p({type:cc.Node,tooltip:"\u4efb\u52a1item"})],t.prototype,"taskItem",void 0),a([p({tooltip:"Item \u95f4\u9694\uff08px\uff09"})],t.prototype,"spaceingY",void 0),a([p({tooltip:"Item \u8ddd\u79bb\u4e0a\u8fb9\uff08px\uff09"})],t.prototype,"paddingTop",void 0),a([p({tooltip:"\u53ef\u89c6\u533a\u57df margin, \u8d1f\u6570\u4e3a\u5f80\u5916\u6269\u5c55"})],t.prototype,"visableAreaMarginTop",void 0),a([p({tooltip:"\u53ef\u89c6\u533a\u57df margin, \u8d1f\u6570\u4e3a\u5f80\u5916\u6269\u5c55"})],t.prototype,"visableAreaMarginBottom",void 0),a([u],t)}(cc.Component);n.default=h,cc._RF.pop()},{"../../../../../main/scripts/framework/gg":"gg","./TaskItem":"TaskItem"}],TaskPanel:[function(e,t,n){"use strict";cc._RF.push(t,"87fd5nlv+lBVJfe1n8lUFRi","TaskPanel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=e("../../../../../main/scripts/configs/CommonAudioConfig"),u=e("../../../../../main/scripts/configs/CommonPanelConfig"),p=l(e("../../../../../main/scripts/framework/components/dialogstyle/MoveStyleDialogPanelV2")),h=e("../../../../../main/scripts/framework/gg"),d=e("../../../../../main/scripts/framework/i18n/I18n"),f=e("../../../../../main/scripts/systems/api/gameapi/GameApiModels"),g=e("../../../systems/lobby/LobbyHintSystem"),m=e("../../../systems/task/TaskEvent"),y=e("../../../systems/task/TaskSystem"),_=l(e("./design/TaskSideBarComponent")),v=l(e("./TaskList")),b=e("./TaskUIEvent"),S=cc._decorator,C=S.ccclass,I=S.property,R=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.taskList=null,t.commonTaskDesc=null,t.achievement=null,t.achievementTotal=null,t.taskSideBar=null,t}return i(t,e),t.prototype.onEnable=function(){h.gg.eventManager.on(m.TaskEvent.onTaskListResponse,this._onTaskListResponse,this),h.gg.eventManager.on(b.TaskUIEvent.onChangeTaskList,this._onChangeTaskList,this),h.gg.eventManager.on(m.TaskEvent.onClaimAwardResponse,this._onClaimAwardResponse,this)},t.prototype.onDisable=function(){h.gg.eventManager.offTarget(this)},t.prototype.show=function(e){this._playShowAnim(function(){e.onShowed()}),this.initTaskList()},t.prototype.hide=function(e){var t=this;this._playHideAnim(function(){t.taskList.node.opacity=0,t.taskList.reset(),t.taskSideBar.node.removeAllChildren(),e.onHided(),g.lobbyHintSystem.getHintData(f.LobbyHintEnum.TaskReddot)})},t.prototype.onCloseBtnClick=function(){h.gg.panelRouter.hide({panel:u.CommonPanelConfig.taskPanel}),h.gg.audio.playOneShot(c.CommonAudioConfig.btnClose)},t.prototype.initTaskList=function(){h.gg.panelRouter.show({panel:u.CommonPanelConfig.loadingPanel}),y.taskSystem.taskDataInit(null)},t.prototype._onTaskListResponse=function(e,t){void 0===t&&(t=null),h.gg.panelRouter.hide({panel:u.CommonPanelConfig.loadingPanel}),e?(this.taskSideBar.initSideBar(),t==f.TaskType.AchievementTask?this.setTaskList(f.TaskType.AchievementTask,0):(this.setTaskList(f.TaskType.EveryDayTask,0),h.gg.eventManager.emit(b.TaskUIEvent.onChangeSideBar,f.TaskType.EveryDayTask)),this.setHintStatus()):h.gg.panelRouter.show({panel:u.CommonPanelConfig.toastPanel,data:{text:d.i18n.getText("toast.loadTaskListFailed")}})},t.prototype.setHintStatus=function(){var e=y.taskSystem.checkRedPointStatus();this.taskSideBar.setSideBarHintStatus(e)},t.prototype.setTaskList=function(e,t){this.taskList.reset(),this.taskList.node.opacity=255;var n=y.taskSystem.getTaskList(e,t);this.taskList.init(n,y.taskSystem.userRegisterDay),this.changeDesignTop(e)},t.prototype._onChangeTaskList=function(e,t){void 0===t&&(t=0),this.taskList.reset(),this.setTaskList(e,t),this.changeDesignTop(e)},t.prototype.changeDesignTop=function(e){switch(e){case f.TaskType.EveryDayTask:this.commonTaskDesc.active=!0,this.commonTaskDesc.getComponent(cc.Label).string=d.i18n.getText("lobby.task.dailyDesc"),this.achievement.active=!1;break;case f.TaskType.EveryWeekTask:this.commonTaskDesc.active=!0,this.commonTaskDesc.getComponent(cc.Label).string=d.i18n.getText("lobby.task.weekDesc"),this.achievement.active=!1;break;case f.TaskType.AchievementTask:this.commonTaskDesc.active=!1,this.achievement.active=!0,this.achievementTotal.string=String(y.taskSystem.totalAchievement)}},t.prototype._onClaimAwardResponse=function(e,t,n,o){return void 0===e&&(e=null),void 0===n&&(n=null),void 0===o&&(o=null),r(this,void 0,void 0,function(){return s(this,function(i){switch(i.label){case 0:return h.gg.panelRouter.hide({panel:u.CommonPanelConfig.loadingPanel}),1!==e?[3,2]:[4,h.gg.panelRouter.showAsync({panel:u.CommonPanelConfig.receiveFeaturesPanel,data:t})];case 1:return i.sent(),n===f.TaskType.AchievementTask&&(h.gg.panelRouter.show({panel:u.CommonPanelConfig.loadingPanel}),y.taskSystem.taskDataInit(f.TaskType.AchievementTask)),n!==f.TaskType.AchievementTask&&(this.setTaskList(n,o),this.setHintStatus()),[3,3];case 2:0===e?(h.gg.panelRouter.show({panel:u.CommonPanelConfig.toastPanel,data:{text:d.i18n.getText("toast.taskOverdue")}}),h.gg.panelRouter.show({panel:u.CommonPanelConfig.loadingPanel}),y.taskSystem.taskDataInit(null)):h.gg.panelRouter.show({panel:u.CommonPanelConfig.toastPanel,data:{text:d.i18n.getText("toast.getTaskAwardFailed")}}),i.label=3;case 3:return[2]}})})},a([I({type:v.default,tooltip:"\u4efb\u52a1\u5217\u8868"})],t.prototype,"taskList",void 0),a([I({type:cc.Node,tooltip:"\u6bcf\u65e5/\u6bcf\u5468\u4efb\u52a1\u5934\u90e8\u63cf\u8ff0\u8282\u70b9"})],t.prototype,"commonTaskDesc",void 0),a([I({type:cc.Node,tooltip:"\u6210\u5c31\u4efb\u52a1\u5934\u90e8\u8282\u70b9"})],t.prototype,"achievement",void 0),a([I({type:cc.Label,tooltip:"\u603b\u6210\u5c31\u503cLabel"})],t.prototype,"achievementTotal",void 0),a([I({type:_.default,tooltip:"\u4fa7\u8fb9\u680f\u63a7\u5236\u5668"})],t.prototype,"taskSideBar",void 0),a([C],t)}(p.default);n.default=R,cc._RF.pop()},{"../../../../../main/scripts/configs/CommonAudioConfig":"CommonAudioConfig","../../../../../main/scripts/configs/CommonPanelConfig":"CommonPanelConfig","../../../../../main/scripts/framework/components/dialogstyle/MoveStyleDialogPanelV2":"MoveStyleDialogPanelV2","../../../../../main/scripts/framework/gg":"gg","../../../../../main/scripts/framework/i18n/I18n":"I18n","../../../../../main/scripts/systems/api/gameapi/GameApiModels":"GameApiModels","../../../systems/lobby/LobbyHintSystem":"LobbyHintSystem","../../../systems/task/TaskEvent":"TaskEvent","../../../systems/task/TaskSystem":"TaskSystem","./TaskList":"TaskList","./TaskUIEvent":"TaskUIEvent","./design/TaskSideBarComponent":"TaskSideBarComponent"}],TaskSideBarComponent:[function(e,t,n){"use strict";cc._RF.push(t,"af571hekXlBXJSZhP92VeKS","TaskSideBarComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../../../../../main/scripts/framework/i18n/I18n"),l=e("../../../../../../main/scripts/systems/api/gameapi/GameApiModels"),c=r(e("./TaskSideBarPrefab")),u=cc._decorator,p=u.ccclass,h=u.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rightNavBarItem=null,t.itemClassStr={},t}return i(t,e),t.prototype.setItemClassStr=function(){this.itemClassStr[l.TaskType.EveryDayTask]=s.i18n.getText("lobby.task.dailyTasks"),this.itemClassStr[l.TaskType.EveryWeekTask]=s.i18n.getText("lobby.task.weeklyTasks"),this.itemClassStr[l.TaskType.AchievementTask]=s.i18n.getText("lobby.task.achievement")},t.prototype.initSideBar=function(){if(!(this.node.childrenCount>0))for(var e in this.setItemClassStr(),l.TaskType)if(Object.prototype.hasOwnProperty.call(l.TaskType,e)){if(l.TaskType[e]===l.TaskType.NewPlayerSevenDay)continue;var t=l.TaskType[e],n=cc.instantiate(this.rightNavBarItem);this.node.addChild(n),n.getComponent(c.default).initUI(t,this.itemClassStr[t])}},t.prototype.setSideBarHintStatus=function(e){for(var t=0;t<this.node.childrenCount;t++)this.node.children[t].getComponent(c.default).setSideBarHintStatus(e[t])},a([h({type:cc.Prefab,tooltip:"\u53f3\u4fa7\u9009\u62e9\u6309\u94ae"})],t.prototype,"rightNavBarItem",void 0),a([p],t)}(cc.Component);n.default=d,cc._RF.pop()},{"../../../../../../main/scripts/framework/i18n/I18n":"I18n","../../../../../../main/scripts/systems/api/gameapi/GameApiModels":"GameApiModels","./TaskSideBarPrefab":"TaskSideBarPrefab"}],TaskSideBarPrefab:[function(e,t,n){"use strict";cc._RF.push(t,"3de3bqPuOxIm656sHZuvPOv","TaskSideBarPrefab");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../../../../../main/scripts/framework/gg"),s=e("../TaskUIEvent"),l=cc._decorator,c=l.ccclass,u=l.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.chooseNode=null,t.chooseLab=null,t.unchoose=null,t.unchooseLab=null,t.hint=null,t.itemClass="",t}return i(t,e),t.prototype.onEnable=function(){r.gg.eventManager.on(s.TaskUIEvent.onChangeSideBar,this._onChangeSideBar,this)},t.prototype.onDisable=function(){r.gg.eventManager.offTarget(this)},t.prototype.initUI=function(e,t){this.itemClass=e,this.chooseLab.string=t,this.unchooseLab.string=t,this.onChooseHandler(e)},t.prototype.updateLab=function(e){this.chooseLab.string=e,this.unchooseLab.string=e},t.prototype.onChooseHandler=function(e){this.itemClass===e?(this.chooseNode.active=!0,this.unchoose.active=!1,this.hint.x=-82):(this.chooseNode.active=!1,this.unchoose.active=!0,this.hint.x=-70)},t.prototype.onClickChoose=function(){r.gg.eventManager.emit(s.TaskUIEvent.onChangeSideBar,this.itemClass),r.gg.eventManager.emit(s.TaskUIEvent.onChangeTaskList,this.itemClass)},t.prototype._onChangeSideBar=function(e){this.onChooseHandler(e)},t.prototype.setSideBarHintStatus=function(e){this.hint.active=e},a([u({type:cc.Node,tooltip:"\u9009\u4e2d\u5e03\u5c40"})],t.prototype,"chooseNode",void 0),a([u({type:cc.Label,tooltip:"\u9009\u4e2d"})],t.prototype,"chooseLab",void 0),a([u({type:cc.Node,tooltip:"\u672a\u9009\u4e2d\u5e03\u5c40"})],t.prototype,"unchoose",void 0),a([u({type:cc.Label,tooltip:"\u672a\u9009\u4e2d"})],t.prototype,"unchooseLab",void 0),a([u({type:cc.Node,tooltip:"\u7ea2\u70b9"})],t.prototype,"hint",void 0),a([c],t)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../../../../main/scripts/framework/gg":"gg","../TaskUIEvent":"TaskUIEvent"}],TaskSystem:[function(e,t,n){"use strict";cc._RF.push(t,"67757UtP5FOQJueWRcPvKPM","TaskSystem"),Object.defineProperty(n,"__esModule",{value:!0}),n.taskSystem=n.TaskShowNewbieDays=void 0;var o=e("../../../../main/scripts/framework/gg"),i=e("../../../../main/scripts/systems/api/gameapi/GameApi"),a=e("../../../../main/scripts/systems/api/gameapi/GameApiModels"),r=e("../../../../main/scripts/systems/user/UserWalletSystem"),s=e("./TaskEvent");n.TaskShowNewbieDays=8;var l=function(){function e(){this.taskListData={},this.noviceTaskListData={},this.totalAchievement=null,this.userRegisterDay=null}return e.prototype.taskDataInit=function(e){var t=this;void 0===e&&(e=null),i.gameApi.getTaskList(e?{task_enum:e}:{}).then(function(n){1===n.status&&(t.totalAchievement=n.data.achievement,t.userRegisterDay=n.data.day,e===a.TaskType.AchievementTask?(t.taskListData[a.TaskType.AchievementTask]=t.taskSort(n.data.list),o.gg.eventManager.emit(s.TaskEvent.onTaskListResponse,!0,a.TaskType.AchievementTask)):(t.dataClassify(n.data.list),o.gg.eventManager.emit(s.TaskEvent.onTaskListResponse,!0)))}).catch(function(){o.gg.eventManager.emit(s.TaskEvent.onTaskListResponse,!1)})},e.prototype.dataClassify=function(e){var t={};for(var n in a.TaskType)if(Object.prototype.hasOwnProperty.call(a.TaskType,n)){var o=a.TaskType[n];t[o]=[]}var i=Object.values(a.DoTaskEvent);for(var n in e.forEach(function(e){-1!==i.indexOf(e.task_type)&&t[e.task_enum].push(e)}),a.TaskType)Object.prototype.hasOwnProperty.call(a.TaskType,n)&&((o=a.TaskType[n])===a.TaskType.NewPlayerSevenDay?this.noviceTaskListData[o]=this.newbieTaskClassify(t[a.TaskType.NewPlayerSevenDay]):this.taskListData[o]=this.taskSort(t[o]))},e.prototype.newbieTaskClassify=function(e){var t=[[],[],[],[],[],[],[]];e.forEach(function(e){t[e.day-1].push(e)});for(var n=0;n<t.length;n++)t[n]=this.taskSort(t[n]);return t},e.prototype.taskSort=function(e){var t=[],n=[],o=[];return e.forEach(function(e){1===e.finish_status&&0===e.award_status?t.push(e):0===e.finish_status&&0===e.award_status?n.push(e):1===e.finish_status&&1===e.award_status&&o.push(e)}),t.sort(this.compare("task_id")),n.sort(this.compare("task_id")),o.sort(this.compare("task_id")),t.concat(n,o)},e.prototype.compare=function(e){return function(t,n){return t[e]-n[e]}},e.prototype.changeRewardStatus=function(e,t,n){void 0===n&&(n=0);var o=this.getTaskList(e,n);o.forEach(function(e,n){e.task_id===t&&(o[n].award_status=1)}),o=this.taskSort(o),this.taskListData[e]=o},e.prototype.changeNoviceRewardStatus=function(e,t,n){void 0===n&&(n=0);var o=this.getTaskList(e,n);o.forEach(function(e,n){e.task_id===t&&(o[n].award_status=1)}),o=this.taskSort(o),this.noviceTaskListData[e][n]=o},e.prototype.getTaskList=function(e,t){if(void 0===t&&(t=0),e===a.TaskType.NewPlayerSevenDay){if(this.noviceTaskListData&&this.noviceTaskListData[e]&&this.noviceTaskListData[e][t])return o.gg.logger.log(this.noviceTaskListData[e][t]),this.noviceTaskListData[e][t]}else if(this.taskListData&&this.taskListData[e])return o.gg.logger.log(this.taskListData[e]),this.taskListData[e];return null},e.prototype.checkRedPointStatus=function(){var e=[];for(var t in a.TaskType)if(Object.prototype.hasOwnProperty.call(a.TaskType,t)){var n=a.TaskType[t];n!=a.TaskType.NewPlayerSevenDay&&(this.taskListData[n][0]&&this.taskListData[n][0].finish_status+this.taskListData[n][0].award_status===a.TaskStatus.Finish?e.push(!0):e.push(!1))}return e},e.prototype.checkNoviceTakRedPointStatus=function(){var e=this,t=[];for(var o in a.TaskType)if(Object.prototype.hasOwnProperty.call(a.TaskType,o)){var i=a.TaskType[o];if(i===a.TaskType.NewPlayerSevenDay&&this.userRegisterDay<=n.TaskShowNewbieDays){this.noviceTaskListData[i].forEach(function(n){n[0]&&n[0].award_status+n[0].finish_status===a.TaskStatus.Finish&&n[0].day<=e.userRegisterDay?t.push(!0):t.push(!1)}),t.push(!1);var r=t.length-1;t[r]=this.judgeNewPlayerSideBarHint(t)}}return t},e.prototype.judgeNewPlayerSideBarHint=function(e){for(var t=0,n=e;t<n.length;t++)if(n[t])return!0;return!1},e.prototype.getTaskAward=function(e,t,n){var l=this,c=r.userWalletSystem.coinBalance;i.gameApi.getTaskAward({task_id:e}).then(function(i){if(1===i.status){t!==a.TaskType.AchievementTask&&(t===a.TaskType.NewPlayerSevenDay?l.changeNoviceRewardStatus(t,e,n-1):l.changeRewardStatus(t,e,n-1));for(var r=[],u=0,p=i.data.award_list;u<p.length;u++){var h=p[u],d={award_type:h.award_type,count:h.count,initValue:c};r.push(d)}var f={giftList:r};o.gg.eventManager.emit(s.TaskEvent.onClaimAwardResponse,i.status,f,t,n-1)}else o.gg.eventManager.emit(s.TaskEvent.onClaimAwardResponse,i.status,null,t,n-1)}).catch(function(){o.gg.eventManager.emit(s.TaskEvent.onClaimAwardResponse,null,null,t,n-1)})},e}();n.taskSystem=new l,cc._RF.pop()},{"../../../../main/scripts/framework/gg":"gg","../../../../main/scripts/systems/api/gameapi/GameApi":"GameApi","../../../../main/scripts/systems/api/gameapi/GameApiModels":"GameApiModels","../../../../main/scripts/systems/user/UserWalletSystem":"UserWalletSystem","./TaskEvent":"TaskEvent"}],TaskTabComponent:[function(e,t,n){"use strict";cc._RF.push(t,"f3a3fLBPjNNq5bZvFNMv8jM","TaskTabComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../../../systems/task/TaskSystem"),l=r(e("./TaskTabItem")),c=cc._decorator,u=c.ccclass,p=c.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.designItemPrefab=null,t}return i(t,e),t.prototype.initTabItem=function(e){if(this.node.childrenCount>0)for(var t=0;t<s.TaskShowNewbieDays-1;t++)this.node.children[t].getComponent(l.default).initUI(t,e);else if(!(e>s.TaskShowNewbieDays))for(t=0;t<s.TaskShowNewbieDays-1;t++){var n=cc.instantiate(this.designItemPrefab);this.node.addChild(n),n.getComponent(l.default).initUI(t,e)}},t.prototype.setTabItemHintStatus=function(e){for(var t=0;t<this.node.childrenCount;t++)this.node.children[t].getComponent(l.default).setTabItemHintStatus(e[t])},a([p({type:cc.Prefab,tooltip:"\u4f7f\u7528\u6309\u94ae\u5e03\u5c40"})],t.prototype,"designItemPrefab",void 0),a([u],t)}(cc.Component);n.default=h,cc._RF.pop()},{"../../../../systems/task/TaskSystem":"TaskSystem","./TaskTabItem":"TaskTabItem"}],TaskTabItem:[function(e,t,n){"use strict";cc._RF.push(t,"48dcf0zOP1CoJ+mOXqVjCCm","TaskTabItem");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../../../../../main/scripts/framework/gg"),s=e("../../../../../../main/scripts/framework/i18n/I18n"),l=e("./NoviceSevenDaysUIEvent"),c=cc._decorator,u=c.ccclass,p=c.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.chooseNode=null,t.chooseLabel=null,t.unchoose=null,t.unchooseLabel=null,t.lockIcon=null,t.hint=null,t.index=null,t.curDay=null,t.dayStr=["lobby.task.firstDay","lobby.task.secondDay","lobby.task.thirdDay","lobby.task.fourthDay","lobby.task.fifthDay","lobby.task.sixthDay","lobby.task.seventhDay"],t}return i(t,e),t.prototype.onEnable=function(){r.gg.eventManager.on(l.NoviceSevenDaysUIEvent.onChangeTabItem,this._onChangeTabItem,this)},t.prototype.onDisable=function(){r.gg.eventManager.offTarget(this)},t.prototype.initUI=function(e,t){this.index=e,this.chooseLabel.string=s.i18n.getText(this.dayStr[e]),this.unchooseLabel.string=s.i18n.getText(this.dayStr[e]),this.curDay=t,this.lockIcon.active=e>t-1,0===e?this.onChooseHandler(0):(this.chooseNode.active=!1,this.unchoose.active=!0,this.hint.y=4)},t.prototype.onChooseHandler=function(e){this.index===e?(this.chooseNode.active=!0,this.unchoose.active=!1,this.hint.y=14):(this.chooseNode.active=!1,this.unchoose.active=!0,this.hint.y=4)},t.prototype.onClickChoose=function(){r.gg.eventManager.emit(l.NoviceSevenDaysUIEvent.onChangeTabItem,this.index)},t.prototype._onChangeTabItem=function(e){this.onChooseHandler(e)},t.prototype.setTabItemHintStatus=function(e){this.hint.active=e},a([p({type:cc.Node,tooltip:"\u9009\u4e2d\u5e03\u5c40"})],t.prototype,"chooseNode",void 0),a([p({type:cc.Label,tooltip:"\u9009\u4e2d\u5e03\u5c40Label"})],t.prototype,"chooseLabel",void 0),a([p({type:cc.Node,tooltip:"\u672a\u9009\u4e2d\u5e03\u5c40"})],t.prototype,"unchoose",void 0),a([p({type:cc.Label,tooltip:"\u672a\u9009\u4e2d\u5e03\u5c40Label"})],t.prototype,"unchooseLabel",void 0),a([p({type:cc.Node,tooltip:"\u672a\u89e3\u9501\u56fe\u6807\u8282\u70b9"})],t.prototype,"lockIcon",void 0),a([p({type:cc.Node,tooltip:"\u7ea2\u70b9"})],t.prototype,"hint",void 0),a([u],t)}(cc.Component);n.default=h,cc._RF.pop()},{"../../../../../../main/scripts/framework/gg":"gg","../../../../../../main/scripts/framework/i18n/I18n":"I18n","./NoviceSevenDaysUIEvent":"NoviceSevenDaysUIEvent"}],TaskUIEvent:[function(e,t,n){"use strict";cc._RF.push(t,"6ef02WYIOFANqqIuNkF7mHJ","TaskUIEvent"),Object.defineProperty(n,"__esModule",{value:!0}),n.TaskUIEvent=void 0,function(e){e.onChangeSideBar="TaskUIEvent.onChangeSideBar",e.onChangeTaskList="TaskUIEvent.onChangeTaskList",e.onSetHintStatus="TaskUIEvent.onSetHintStatus"}(n.TaskUIEvent||(n.TaskUIEvent={})),cc._RF.pop()},{}],TimeLine:[function(e,t,n){"use strict";cc._RF.push(t,"9db74/GPuFBb4o5yxC4sjxE","TimeLine");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.TimeLine=void 0;var a=e("./Pool"),r=e("./Tween"),s=e("./Browser"),l=e("./Handler"),c=e("./Utils"),u=e("../events/Event"),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._tweenDic={},t._tweenDataList=[],t._currTime=0,t._lastTime=0,t._startTime=0,t._index=0,t._gidIndex=0,t._firstTweenDic={},t._startTimeSort=!1,t._endTimeSort=!1,t._loopKey=!1,t.scale=1,t._frameRate=60,t._frameIndex=0,t._total=0,t}return i(t,e),t.to=function(e,n,o,i,a){return void 0===i&&(i=null),void 0===a&&(a=0),(new t).to(e,n,o,i,a)},t.from=function(e,n,o,i,a){return void 0===i&&(i=null),void 0===a&&(a=0),(new t).from(e,n,o,i,a)},t.prototype.to=function(e,t,n,o,i){return void 0===o&&(o=null),void 0===i&&(i=0),this._create(e,t,n,o,i,!0)},t.prototype.from=function(e,t,n,o,i){return void 0===o&&(o=null),void 0===i&&(i=0),this._create(e,t,n,o,i,!1)},t.prototype._create=function(e,t,n,o,i,r){var s=a.Pool.getItemByClass("tweenData",h);return s.isTo=r,s.type=0,s.target=e,s.duration=n,s.data=t,s.startTime=this._startTime+i,s.endTime=s.startTime+s.duration,s.ease=o,this._startTime=Math.max(s.endTime,this._startTime),this._tweenDataList.push(s),this._startTimeSort=!0,this._endTimeSort=!0,this},t.prototype.addLabel=function(e,t){var n=a.Pool.getItemByClass("tweenData",h);return n.type=1,n.data=e,n.endTime=n.startTime=this._startTime+t,this._labelDic||(this._labelDic={}),this._labelDic[e]=n,this._tweenDataList.push(n),this},t.prototype.removeLabel=function(e){if(this._labelDic&&this._labelDic[e]){var t=this._labelDic[e];if(t){var n=this._tweenDataList.indexOf(t);n>-1&&this._tweenDataList.splice(n,1)}delete this._labelDic[e]}},t.prototype.gotoTime=function(e){if(null!=this._tweenDataList&&0!=this._tweenDataList.length){var t,n,o,i;for(var c in this._firstTweenDic)if(n=this._firstTweenDic[c])for(var u in n)u in n.diyTarget&&(n.diyTarget[u]=n[u]);for(c in this._tweenDic)(t=this._tweenDic[c]).clear(),delete this._tweenDic[c];this._index=0,this._gidIndex=0,this._currTime=e,this._lastTime=s.Browser.now(),null==this._endTweenDataList||this._endTimeSort?(this._endTimeSort=!1,this._endTweenDataList=o=this._tweenDataList.concat(),o.sort(function(e,t){return e.endTime>t.endTime?1:e.endTime<t.endTime?-1:0})):o=this._endTweenDataList;for(var p=0,h=o.length;p<h;p++)if(0==(i=o[p]).type){if(!(e>=i.endTime))break;this._index=Math.max(this._index,p+1);var d=i.data;if(i.isTo)for(var f in d)i.target[f]=d[f]}for(p=0,h=this._tweenDataList.length;p<h;p++)0==(i=this._tweenDataList[p]).type&&e>=i.startTime&&e<i.endTime&&(this._index=Math.max(this._index,p+1),this._gidIndex++,(t=a.Pool.getItemByClass("tween",r.Tween))._create(i.target,i.data,i.duration,i.ease,l.Handler.create(this,this._animComplete,[this._gidIndex]),0,!1,i.isTo,!0,!1),t.setStartTime(this._currTime-(e-i.startTime)),t._updateEase(this._currTime),t.gid=this._gidIndex,this._tweenDic[this._gidIndex]=t)}},t.prototype.gotoLabel=function(e){if(null!=this._labelDic){var t=this._labelDic[e];t&&this.gotoTime(t.startTime)}},t.prototype.pause=function(){},t.prototype.resume=function(){this.play(this._currTime,this._loopKey)},t.prototype.play=function(e,t){if(void 0===e&&(e=0),void 0===t&&(t=!1),this._tweenDataList){if(this._startTimeSort){this._startTimeSort=!1,this._tweenDataList.sort(function(e,t){return e.startTime>t.startTime?1:e.startTime<t.startTime?-1:0});for(var n=0,o=this._tweenDataList.length;n<o;n++){var i=this._tweenDataList[n];if(null!=i&&0==i.type){var a=i.target,r=a.$_GID||(a.$_GID=c.Utils.getGID()),l=null;for(var u in null==this._firstTweenDic[r]?((l={}).diyTarget=a,this._firstTweenDic[r]=l):l=this._firstTweenDic[r],i.data)null==l[u]&&(l[u]=a[u])}}}"string"==typeof e?this.gotoLabel(e):this.gotoTime(e),this._loopKey=t,this._lastTime=s.Browser.now()}},t.prototype._update=function(){if(this._currTime>=this._startTime){if(!this._loopKey){for(var e in this._tweenDic)(t=this._tweenDic[e]).complete();return this.pause(),void this._complete()}if(this._complete(),!this._tweenDataList)return;this.gotoTime(0)}var t,n=s.Browser.now(),o=n-this._lastTime,i=this._currTime+=o*this.scale;for(e in this._lastTime=n,this._tweenDic)(t=this._tweenDic[e])._updateEase(i);if(0!=this._tweenDataList.length&&this._index<this._tweenDataList.length){var c=this._tweenDataList[this._index];i>=c.startTime&&(this._index++,0==c.type?(this._gidIndex++,(t=a.Pool.getItemByClass("tween",r.Tween))._create(c.target,c.data,c.duration,c.ease,l.Handler.create(this,this._animComplete,[this._gidIndex]),0,!1,c.isTo,!0,!1),t.setStartTime(i),t.gid=this._gidIndex,this._tweenDic[this._gidIndex]=t,t._updateEase(i)):this.event(u.Event.LABEL,c.data))}},t.prototype._animComplete=function(e){this._tweenDic[e]&&delete this._tweenDic[e]},t.prototype._complete=function(){this.event(u.Event.COMPLETE)},Object.defineProperty(t.prototype,"index",{get:function(){return this._frameIndex},set:function(e){this._frameIndex=e,this.gotoTime(this._frameIndex/this._frameRate*1e3)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"total",{get:function(){return this._total=Math.floor(this._startTime/1e3*this._frameRate),this._total},enumerable:!1,configurable:!0}),t.prototype.reset=function(){var e,t,n;if(this._labelDic)for(e in this._labelDic)delete this._labelDic[e];for(e in this._tweenDic)this._tweenDic[e].clear(),delete this._tweenDic[e];for(e in this._firstTweenDic)delete this._firstTweenDic[e];if(this._endTweenDataList=null,this._tweenDataList&&this._tweenDataList.length)for(n=this._tweenDataList.length,t=0;t<n;t++)this._tweenDataList[t]&&this._tweenDataList[t].destroy();this._tweenDataList.length=0,this._currTime=0,this._lastTime=0,this._startTime=0,this._index=0,this._gidIndex=0,this.scale=1},t.prototype.destroy=function(){this.reset(),this._labelDic=null,this._tweenDic=null,this._tweenDataList=null,this._firstTweenDic=null},t}(e("../events/EventDispatcher").EventDispatcher);n.TimeLine=p;var h=function(){function e(){this.type=0,this.isTo=!0}return e.prototype.destroy=function(){this.target=null,this.ease=null,this.data=null,this.isTo=!0,this.type=0,a.Pool.recover("tweenData",this)},e}();cc._RF.pop()},{"../events/Event":"Event","../events/EventDispatcher":"EventDispatcher","./Browser":"Browser","./Handler":"Handler","./Pool":"Pool","./Tween":"Tween","./Utils":"Utils"}],TimeUtils:[function(e,t,n){"use strict";cc._RF.push(t,"6c653kadNZC24QTGKE8YtiG","TimeUtils");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.TimeUtils=void 0;var i=o(e("dayjs")),a=function(){function e(){}return e.formatDate=function(e,t){return void 0===t&&(t="YYYY-MM-DD HH:mm:ss"),i.default(e).format(t)},e.format=function(e){var t=Math.floor(e/60/60/24),n=Math.floor((e-86400*t)/60/60),o=Math.floor((e-86400*t-3600*n)/60),i=Math.floor(e-86400*t-3600*n-60*o);return n>0?this._prefixInteger(n,2)+":"+this._prefixInteger(o,2)+":"+this._prefixInteger(i,2):this._prefixInteger(o,2)+":"+this._prefixInteger(i,2)},e._prefixInteger=function(e,t){return(Array(t).join("0")+e).slice(-t)},e.formatMinute=function(e){var t=Math.floor(e/60/60/24),n=Math.floor((e-86400*t)/60/60),o=Math.floor((e-86400*t-3600*n)/60);return t>0?t+"d:"+this._prefixInteger(n,2)+"h:"+this._prefixInteger(o,2)+"m":this._prefixInteger(n,2)+"h:"+this._prefixInteger(o,2)+"m"},e.formatSecond=function(e){var t=Math.floor(e/60),n=Math.floor(e-60*t);return this._prefixInteger(t,2)+":"+this._prefixInteger(n,2)},e.formatSecond2=function(e){var t=Math.floor(e/60/60),n=Math.floor((e-3600*t)/60),o=Math.floor(e-3600*t-60*n);return this._prefixInteger(t,2)+":"+this._prefixInteger(n,2)+":"+this._prefixInteger(o,2)},e.getNowDate=function(e){for(var t=new Date(1e3*e).toLocaleDateString().replace(/\//g,"/").split("/"),n=t[0],o=0;o<t.length-1;o++)n=t[o+1]+"/"+n;return n},e.formatData=function(e,t){var n=t;n||(n="yyyy/MM/dd");var o=new Date(1e3*e);if(o instanceof Date){var i={yyyy:o.getFullYear(),M:o.getMonth()+1,d:o.getDate(),H:o.getHours(),m:o.getMinutes(),s:o.getSeconds(),MM:(""+(o.getMonth()+101)).substring(1),dd:(""+(o.getDate()+100)).substring(1),HH:(""+(o.getHours()+100)).substring(1),mm:(""+(o.getMinutes()+100)).substring(1),ss:(""+(o.getSeconds()+100)).substring(1)};return n.replace(/(yyyy|MM?|dd?|HH?|ss?|mm?)/g,function(){return i[arguments[0]]})}},e}();n.TimeUtils=a,cc._RF.pop()},{dayjs:41}],Timer:[function(e,t,n){"use strict";cc._RF.push(t,"6cbe2kIqBZGfY0LUhR04Qcu","Timer"),Object.defineProperty(n,"__esModule",{value:!0}),n.Timer=void 0;var o=e("./CallLater"),i=e("./Utils"),a=function(){function e(t){void 0===t&&(t=!0),this.scale=1,this.currFrame=0,this._delta=0,this._map={},this._handlers=[],this._temp=[],this._count=0,t&&e.gSysTimer&&e.gSysTimer.frameLoop(1,this,this._update),this.currTimer=this._getNowData(),this._lastTimer=this._getNowData()}return Object.defineProperty(e.prototype,"delta",{get:function(){return this._delta},enumerable:!1,configurable:!0}),e.prototype._update=function(){if(this.scale<=0)return this._lastTimer=this._getNowData(),void(this._delta=0);var e=this.currFrame=this.currFrame+this.scale,t=this._getNowData(),n=t-this._lastTimer>3e4;this._delta=(t-this._lastTimer)*this.scale;var o=this.currTimer=this.currTimer+this._delta;this._lastTimer=t;var i=this._handlers;this._count=0;for(var a=0,r=i.length;a<r;a++){var s=i[a];if(null!==s.method){var l=s.userFrame?e:o;if(l>=s.exeTime)if(s.repeat)if(!s.jumpFrame||n)s.exeTime+=s.delay,s.run(!1),l>s.exeTime&&(s.exeTime+=Math.ceil((l-s.exeTime)/s.delay)*s.delay);else for(;l>=s.exeTime;)s.exeTime+=s.delay,s.run(!1);else s.run(!0)}else this._count++}(this._count>30||e%200==0)&&this._clearHandlers()},e.prototype._clearHandlers=function(){for(var e=this._handlers,t=0,n=e.length;t<n;t++){var o=e[t];null!==o.method?this._temp.push(o):this._recoverHandler(o)}this._handlers=this._temp,e.length=0,this._temp=e},e.prototype._recoverHandler=function(t){this._map[t.key]==t&&delete this._map[t.key],t.clear(),e._pool.push(t)},e.prototype._getNowData=function(){return Date.now()},e.prototype._create=function(t,n,o,i,a,s,l){if(!o)return a.apply(i,s),null;if(l){var c=this._getHandler(i,a);if(c)return c.repeat=n,c.userFrame=t,c.delay=o,c.caller=i,c.method=a,c.args=s,c.exeTime=o+(t?this.currFrame:this.currTimer+this._getNowData()-this._lastTimer),c}return(c=e._pool.length>0?e._pool.pop():new r).repeat=n,c.userFrame=t,c.delay=o,c.caller=i,c.method=a,c.args=s,c.exeTime=o+(t?this.currFrame:this.currTimer+this._getNowData()-this._lastTimer),this._indexHandler(c),this._handlers.push(c),c},e.prototype._indexHandler=function(t){var n=t.caller,o=t.method,a=n?n.$_GID||(n.$_GID=i.Utils.getGID()):0,r=o.$_TID||(o.$_TID=e._mid++);t.key=a+"_"+r,this._map[t.key]=t},e.prototype.once=function(e,t,n,o,i){void 0===o&&(o=null),void 0===i&&(i=!0),this._create(!1,!1,e,t,n,o,i)},e.prototype.loop=function(e,t,n,o,i,a){void 0===o&&(o=null),void 0===i&&(i=!0),void 0===a&&(a=!1);var r=this._create(!1,!0,e,t,n,o,i);r&&(r.jumpFrame=a)},e.prototype.frameOnce=function(e,t,n,o,i){void 0===o&&(o=null),void 0===i&&(i=!0),this._create(!0,!1,e,t,n,o,i)},e.prototype.frameLoop=function(e,t,n,o,i){void 0===o&&(o=null),void 0===i&&(i=!0),this._create(!0,!0,e,t,n,o,i)},e.prototype.toString=function(){return" handlers:"+this._handlers.length+" pool:"+e._pool.length},e.prototype.clear=function(e,t){var n=this._getHandler(e,t);n&&n.clear()},e.prototype.clearAll=function(e){if(e)for(var t=0,n=this._handlers.length;t<n;t++){var o=this._handlers[t];o.caller===e&&o.clear()}},e.prototype._getHandler=function(t,n){var o=(t?t.$_GID||(t.$_GID=i.Utils.getGID()):0)+"_"+(n.$_TID||(n.$_TID=e._mid++));return this._map[o]},e.prototype.callLater=function(e,t,n){void 0===n&&(n=null),o.CallLater.I.callLater(e,t,n)},e.prototype.runCallLater=function(e,t){o.CallLater.I.runCallLater(e,t)},e.prototype.clearCallLater=function(e,t){o.CallLater.I.clear(e,t)},e.prototype.runTimer=function(e,t){var n=this._getHandler(e,t);n&&null!=n.method&&(this._map[n.key]=null,n.run(!0))},e.prototype.pause=function(){this.scale=0},e.prototype.resume=function(){this.scale=1},e.prototype.destroy=function(){for(var e=0,t=this._handlers.length;e<t;e++)this._handlers[e].clear();this._handlers.length=0,this._map={},this._temp.length=0},e.gSysTimer=null,e._pool=[],e._mid=1,e}();n.Timer=a;var r=function(){function e(){}return e.prototype.clear=function(){this.caller=null,this.method=null,this.args=null},e.prototype.run=function(e){var t=this.caller;if(t&&t.destroyed)return this.clear();var n=this.method,o=this.args;e&&this.clear(),null!=n&&(o?n.apply(t,o):n.call(t))},e}();cc._RF.pop()},{"./CallLater":"CallLater","./Utils":"Utils"}],Tips:[function(e,t,n){"use strict";cc._RF.push(t,"4368eW3BedGqYQtUbxZSHcN","Tips");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.UITipsStruct=void 0;var i=e("../halllib/laya/Laya"),a=e("../hallph7/SceneUIWarnTips7"),r=o(e("./DialogMng")),s=e("../hallph7/SceneUINetTips7"),l=i.Laya.Handler,c=function(e,t,n){this.str=e,this.zOrder=t,this.time=n};n.UITipsStruct=c;var u=function(){function e(){}return e.SetText=function(e,t,n){void 0===t&&(t=1e3),void 0===n&&(n=2e3);var o=new c(e,t,n);a.SceneUIWarnTips7.Load(null,new l(this,this.showWorn),o)},e.SetWarnText=function(e,t,n){void 0===t&&(t=1e3),void 0===n&&(n=2e3);var o=new c(e,t,n);a.SceneUIWarnTips7.Load(null,new l(this,this.showWorn),o)},e.loadListnNetTips=function(){if(this.listNetTips.length>0){var e=this.listNetTips.shift();this.onShowNetTips(e)}},e.onShowNetTips=function(e,t,n){if(void 0===t&&(t=5e3),void 0===n&&(n=1e3),this.isPlaying)return this.listNetTips.length>10&&this.listNetTips.shift(),void this.listNetTips.push(e);this.isPlaying=!0;var o=new c(e,n,t);s.SceneUINetTips7.Load(null,new l(this,this.showNet),o)},e.showWorn=function(e){var t=e.scene,n=e.tips;console.log("showWorn:",a.SceneUIWarnTips7),a.SceneUIWarnTips7.Show(r.default.dialogNode.node),t.show({data:n,onShowed:function(){}})},e.showNet=function(e){var t=this,n=e.scene,o=e.tips;console.log("showNet:",s.SceneUINetTips7,r.default.dialogNode),s.SceneUINetTips7.Show(r.default.dialogNode.node),n.show({data:o,onShowed:function(){console.log("showNet onShowed:",t.listNetTips),t.isPlaying=!1,t.listNetTips.length>0&&setTimeout(function(){t.loadListnNetTips()},1e3)}})},e.prototype.onAwake=function(){},e.duringTime=1e3,e.lable=null,e.netTipsImg=null,e.netTips=null,e.netLable=null,e.isPlaying=!1,e.listNetTips=[],e}();n.default=u,cc._RF.pop()},{"../halllib/laya/Laya":"Laya","../hallph7/SceneUINetTips7":"SceneUINetTips7","../hallph7/SceneUIWarnTips7":"SceneUIWarnTips7","./DialogMng":"DialogMng"}],TiroGiftProgressComponent:[function(e,t,n){"use strict";cc._RF.push(t,"718d4hj8Z1PNoTpzMA0wvti","TiroGiftProgressComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../framework/gg"),s=e("../systems/TiroGift/TiroGiftSystem"),l=e("../systems/TiroGift/TiroGiftUIEvent"),c=cc._decorator,u=c.ccclass,p=c.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.progressLab=null,t.progressSprite=null,t.lineNode=null,t.lineLay=null,t.tiroTaskType=null,t.lineNodePool=new cc.NodePool,t.isAnim=!0,t}return i(t,e),t.prototype.updatepProgressState=function(e){void 0===e&&(e=!0),this.isAnim=e},t.prototype.onLoad=function(){this.resetLineNode()},t.prototype.onEnable=function(){r.gg.eventManager.on(l.TiroGiftUIEvent.TiroAwardEvent,this.onTiroAward,this)},t.prototype.onDisable=function(){r.gg.eventManager.offTarget(this)},t.prototype.getLineNodePool=function(){var e=this.lineNodePool.get();return null==e&&(e=cc.instantiate(this.lineNode)),e},t.prototype.resetLineNode=function(){for(var e=this.lineLay.children.length-1;e>=0;--e)this.lineNodePool.put(this.lineLay.children[e])},t.prototype.updateProgress=function(){var e,t;this.resetLineNode(),this.progressLab.string=s.tiroGiftSystem.tiroAward.finish_count+"/"+s.tiroGiftSystem.tiroAward.total_count;var n=0;(null===(e=s.tiroGiftSystem.lastTiroAward)||void 0===e?void 0:e.total_count)===(null===(t=s.tiroGiftSystem.tiroAward)||void 0===t?void 0:t.total_count)&&(n=s.tiroGiftSystem.lastTiroAward.finish_count/s.tiroGiftSystem.lastTiroAward.total_count),this.progressSprite.fillRange=n;var o=s.tiroGiftSystem.tiroAward.finish_count/s.tiroGiftSystem.tiroAward.total_count;this.isAnim?(cc.Tween.stopAllByTarget(this.progressSprite),this.progressSprite.fillRange=0,cc.tween(this.progressSprite).target(this.progressSprite).to(.68,{fillRange:o}).start()):(cc.Tween.stopAllByTarget(this.progressSprite),this.progressSprite.fillRange=o);var i=s.tiroGiftSystem.tiroAward.total_count-1;if(i>0)for(var a=this.lineLay.width/s.tiroGiftSystem.tiroAward.total_count,r=0;r<i;r++){var l=this.getLineNodePool();l.parent=this.lineLay,l.setPosition(cc.v2(-a*(r+1),0))}},t.prototype.onTiroAward=function(){s.tiroGiftSystem.tiroAward&&s.tiroGiftSystem.tiroAward.award_list&&s.tiroGiftSystem.tiroAward.award_list.length>0?(this.node.stopAllActions(),cc.tween(this.node).to(.25,{opacity:255},{easing:"sineOut"}).start(),this.updateProgress()):this.node.opacity=0},a([p({type:cc.Label,tooltip:"\u8fdb\u5ea6lab"})],t.prototype,"progressLab",void 0),a([p({type:cc.Sprite,tooltip:"\u8fdb\u5ea6Sprite"})],t.prototype,"progressSprite",void 0),a([p({type:cc.Node,tooltip:"\u683c\u5b50\u7ebf"})],t.prototype,"lineNode",void 0),a([p({type:cc.Node,tooltip:"\u683c\u5b50\u7ebf"})],t.prototype,"lineLay",void 0),a([u],t)}(cc.Component);n.default=h,cc._RF.pop()},{"../framework/gg":"gg","../systems/TiroGift/TiroGiftSystem":"TiroGiftSystem","../systems/TiroGift/TiroGiftUIEvent":"TiroGiftUIEvent"}],TiroGiftSystem:[function(e,t,n){"use strict";cc._RF.push(t,"2b41fBtCVJDGr8ud4UqqzZJ","TiroGiftSystem"),Object.defineProperty(n,"__esModule",{value:!0}),n.tiroGiftSystem=n.TiroTaskType=void 0;var o,i=e("../../framework/gg"),a=e("../api/gameapi/GameApi"),r=e("./TiroGiftUIEvent");(function(e){e.FastBloot="fastBloot",e.DoubleBloot="doubleBloot"})(o=n.TiroTaskType||(n.TiroTaskType={}));var s=function(){function e(){this.tiroAward=null,this.lastTiroAward=null,this.tiroTaskType=null}return e.prototype.enable=function(){this.reset()},e.prototype.reset=function(){this.tiroAward=null,this.lastTiroAward=null,this.tiroTaskType=null},e.prototype.getTiroAwardInfo=function(){switch(this.tiroTaskType){case o.FastBloot:this.getFastBootTiroAwardInfo();break;case o.DoubleBloot:this.getDoubleBootTiroAwardInfo();break;default:i.gg.logger.warn("\u8bf7\u5148\u521d\u59cb\u5316tiroTaskType\u53c2\u6570")}},e.prototype.getTiroAward=function(){switch(this.tiroTaskType){case o.FastBloot:this.getFastBootTiroAward();break;case o.DoubleBloot:this.getDoubleBootTiroAward();break;default:i.gg.logger.warn("\u8bf7\u5148\u521d\u59cb\u5316tiroTaskType\u53c2\u6570")}},e.prototype.getFastBootTiroAwardInfo=function(){var e=this;this.lastTiroAward=this.tiroAward,this.tiroAward=null,a.gameApi.getFastBalootTiroAwardInfo().then(function(t){1===t.status&&t.data&&(e.tiroAward=t.data),i.gg.eventManager.emit(r.TiroGiftUIEvent.TiroAwardEvent)}).catch(function(e){i.gg.logger.error("\u83b7\u53d6baloot\u5feb\u901f\u6a21\u5f0f\u65b0\u624b\u5956\u52b1\u6570\u636e",e),i.gg.eventManager.emit(r.TiroGiftUIEvent.TiroAwardEvent)})},e.prototype.getFastBootTiroAward=function(){a.gameApi.getFastBalootTiroAward().then(function(e){1===e.status?i.gg.eventManager.emit(r.TiroGiftUIEvent.GetTiroAwardEvent,!0):i.gg.eventManager.emit(r.TiroGiftUIEvent.GetTiroAwardEvent,!1)}).catch(function(e){i.gg.eventManager.emit(r.TiroGiftUIEvent.GetTiroAwardEvent,!1),i.gg.logger.error("\u9886\u53d6baloot\u5feb\u901f\u6a21\u5f0f\u65b0\u624b\u5956\u52b1\u6570\u636e",e)})},e.prototype.getDoubleBootTiroAwardInfo=function(){var e=this;this.lastTiroAward=this.tiroAward,this.tiroAward=null,a.gameApi.getDoubleBalootTiroAwardInfo().then(function(t){1===t.status&&t.data&&(e.tiroAward=t.data),i.gg.eventManager.emit(r.TiroGiftUIEvent.TiroAwardEvent)}).catch(function(e){i.gg.logger.error("\u83b7\u53d6baloot\u52a0\u500d\u6a21\u5f0f\u65b0\u624b\u5956\u52b1\u6570\u636e",e),i.gg.eventManager.emit(r.TiroGiftUIEvent.TiroAwardEvent)})},e.prototype.getDoubleBootTiroAward=function(){a.gameApi.getDoubleBalootTiroAward().then(function(e){1===e.status?i.gg.eventManager.emit(r.TiroGiftUIEvent.GetTiroAwardEvent,!0):i.gg.eventManager.emit(r.TiroGiftUIEvent.GetTiroAwardEvent,!1)}).catch(function(e){i.gg.eventManager.emit(r.TiroGiftUIEvent.GetTiroAwardEvent,!1),i.gg.logger.error("\u9886\u53d6baloot\u52a0\u500d\u6a21\u5f0f\u65b0\u624b\u5956\u52b1\u6570\u636e",e)})},e}();n.tiroGiftSystem=new s,cc._RF.pop()},{"../../framework/gg":"gg","../api/gameapi/GameApi":"GameApi","./TiroGiftUIEvent":"TiroGiftUIEvent"}],TiroGiftUIEvent:[function(e,t,n){"use strict";cc._RF.push(t,"54eb5TSRnROwrRQXW83OgC8","TiroGiftUIEvent"),Object.defineProperty(n,"__esModule",{value:!0}),n.TiroGiftUIEvent=void 0,function(e){e.TiroAwardEvent="TiroGiftUIEvent.TiroAwardEvent",e.GetTiroAwardEvent="TiroGiftUIEvent.GetTiroAwardEvent"}(n.TiroGiftUIEvent||(n.TiroGiftUIEvent={})),cc._RF.pop()},{}],ToastItem:[function(e,t,n){"use strict";cc._RF.push(t,"1a4aaRP3kVGGrESPck5HlkB","ToastItem");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=r.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.textBgNode=null,t.textLabel=null,t.textMarginTop=30,t.textMarginBottom=30,t.textMarginLeft=30,t.textMarginRight=30,t._data=null,t._targetPosY=0,t._moveSpeedY=10,t}return i(t,e),t.prototype.show=function(e){this._data=e,this._targetPosY=0,this.textBgNode.scale=0,this.textBgNode.opacity=255,this.textBgNode.setPosition(0,0),this._updateToastLabel(),this._playShowAnim(this._data.onHided)},t.prototype.moveTo=function(e){this._targetPosY=e},t.prototype._updateToastLabel=function(){var e=.6*this.node.parent.width;this.textLabel.overflow=cc.Label.Overflow.NONE,this.textLabel.string=this._data.text,this.textLabel._forceUpdateRenderData&&this.textLabel._forceUpdateRenderData(),this.textLabel.node.width>e&&(this.textLabel.node.width=e,this.textLabel.overflow=cc.Label.Overflow.RESIZE_HEIGHT,this.textLabel._forceUpdateRenderData&&this.textLabel._forceUpdateRenderData()),this.textBgNode.width=this.textLabel.node.width+this.textMarginLeft+this.textMarginRight,this.textBgNode.height=this.textLabel.node.height+this.textMarginTop+this.textMarginBottom},t.prototype._playShowAnim=function(e){cc.Tween.stopAllByTarget(this.textBgNode),cc.tween(this.textBgNode).set({scale:.5,opacity:0}).to(.2,{scale:1,opacity:255},{easing:"sineOut"}).delay(this._data.duration).to(1.2,{opacity:0}).call(function(){e&&e()}).start()},t.prototype.update=function(){if(this.node.position.y!=this._targetPosY){var e=this._moveSpeedY;this.node.position.y+e>this._targetPosY&&(e=this._targetPosY-this.node.position.y),this.node.setPosition(this.node.position.x,this.node.position.y+e)}},a([l(cc.Node)],t.prototype,"textBgNode",void 0),a([l(cc.Label)],t.prototype,"textLabel",void 0),a([l({tooltip:"\u6587\u672c\u4e0a\u8fb9\u754c\u8ddd\u79bb\u6587\u672c\u80cc\u666f\u8282\u70b9\u4e0a\u8fb9\u754c\u7684Margin\u503c"})],t.prototype,"textMarginTop",void 0),a([l({tooltip:"\u6587\u672c\u4e0b\u8fb9\u754c\u8ddd\u79bb\u6587\u672c\u80cc\u666f\u8282\u70b9\u4e0b\u8fb9\u754c\u7684Margin\u503c"})],t.prototype,"textMarginBottom",void 0),a([l({tooltip:"\u6587\u672c\u5de6\u8fb9\u754c\u8ddd\u79bb\u6587\u672c\u80cc\u666f\u8282\u70b9\u5de6\u8fb9\u754c\u7684Margin\u503c"})],t.prototype,"textMarginLeft",void 0),a([l({tooltip:"\u6587\u672c\u53f3\u8fb9\u754c\u8ddd\u79bb\u6587\u672c\u80cc\u666f\u8282\u70b9\u53f3\u8fb9\u754c\u7684Margin\u503c"})],t.prototype,"textMarginRight",void 0),a([s],t)}(cc.Component);n.default=c,cc._RF.pop()},{}],ToastPanel:[function(e,t,n){"use strict";cc._RF.push(t,"b9168kOcRRPQIcGnguLB6Zq","ToastPanel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../../configs/CommonPanelConfig"),l=e("../../../framework/gg"),c=e("../../../framework/panelrouter/PanelComponent"),u=r(e("./ToastItem")),p=cc._decorator,h=p.ccclass,d=p.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.toastItemParentNode=null,t.toastItemPrefab=null,t.spaceingY=20,t._itemNodePool=new cc.NodePool(u.default),t}return i(t,e),t.prototype.show=function(e){var t=this,n=e.data,o=this._itemNodePool.get();o||(o=cc.instantiate(this.toastItemPrefab)),o.parent=this.toastItemParentNode,o.getComponent(u.default).show({text:n.text,duration:null==n.duration?2:n.duration,onHided:function(){t._itemNodePool.put(o),0===t.toastItemParentNode.childrenCount&&l.gg.panelRouter.hide({panel:s.CommonPanelConfig.toastPanel})}});for(var i=0,a=this.toastItemParentNode.children.length-2;a>=0;a--)i+=.5*this.toastItemParentNode.children[a+1].height+this.spaceingY+.5*this.toastItemParentNode.children[a].height,this.toastItemParentNode.children[a].getComponent(u.default).moveTo(i);e.onShowed()},t.prototype.hide=function(e){e.onHided()},a([d(cc.Node)],t.prototype,"toastItemParentNode",void 0),a([d(cc.Prefab)],t.prototype,"toastItemPrefab",void 0),a([d({tooltip:"\u5782\u76f4\u65b9\u5411\u4e0a\uff0cToast \u4e4b\u95f4\u7684\u95f4\u9694\uff08px\uff09"})],t.prototype,"spaceingY",void 0),a([h],t)}(c.PanelComponent);n.default=f,cc._RF.pop()},{"../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../framework/gg":"gg","../../../framework/panelrouter/PanelComponent":"PanelComponent","./ToastItem":"ToastItem"}],Tools:[function(e,t,n){"use strict";cc._RF.push(t,"78ef4nAcWJGlIZSv/QEBXi0","Tools");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.GameEncrypt=n.ClipboardTool=n.RSA=n.DES=n.XMLUtils=n.ArrayUtil=n.StringUtil=n.DateUtil=n.NumberUtil=n.BrowserUtil=n.GameMath=void 0;var i=e("./ConfigMng"),a=e("../core/RunData"),r=e("../laya/Laya"),s=r.Laya.Browser,l=o(e("crypto-js")),c=r.Laya.Point,u=e("./Dictionary"),p=e("./Types"),h=e("./LogBase"),d=o(e("long")),f=o(e("clipboard")),g=function(){function e(){}return e.angleToRadian=function(e){return Math.PI/180*e},e.radianToAngle=function(e){return 180/Math.PI*e},e.getDistance=function(e,t,n,o){return this._point1.setTo(e,t),this._point1.distance(n,o)},e.getDistanceSquare=function(e,t,n,o){return Math.pow(e-n,2)+Math.pow(t-o,2)},e.rotatePointByAngle=function(e,t,n,o,i,a){return void 0===a&&(a=null),this.rotatePointByRadian(e,t,n,o,this.angleToRadian(i),a)},e.rotatePointByRadian=function(e,t,n,o,i,a){return void 0===a&&(a=null),a||(a=new r.Laya.Point),a.x=e+(n-e)*Math.cos(i)-(o-t)*Math.sin(i),a.y=t+(o-t)*Math.cos(i)+(n-e)*Math.sin(i),a},e.getP2PRadian=function(e,t,n,o){if(e==n)return o>=t?Math.PI/2:Math.PI+Math.PI/2;if(o==t)return n>=e?0:Math.PI;var i=Math.abs(n-e),a=Math.abs(o-t),r=Math.atan(a/i);return n>e&&o>t?r:n<e&&o>t?Math.PI-r:n<e&&o<t?r+Math.PI:2*Math.PI-r},e.getP2PAngle=function(e,t,n,o){return this.radianToAngle(this.getP2PRadian(e,t,n,o))},e.getPointByRadian=function(e,t,n,o,i){return void 0===i&&(i=null),null==i&&(i=new c),i.x=e+Math.cos(n)*o,i.y=t+Math.sin(n)*o,i},e.getPointByAngle=function(e,t,n,o,i){return void 0===i&&(i=null),this.getPointByRadian(e,t,this.angleToRadian(n),o,i)},e.getLineSlope=function(e,t,n,o){return n==e?Number.NaN:o==t?0:(o-t)/(n-e)},e.getVerticalLineSlope=function(e){return isNaN(e)?0:0==e?Number.NaN:-1/e},e.getPointByLineSlope=function(e,t,n,o,i){if(void 0===i&&(i=null),i||(i=new c),isNaN(n))return i.setTo(e,t+o);if(0==n)return i.setTo(e+o,t);var a=Math.atan(n);return this.getPointByLineRadion(e,t,a,o,i)},e.getPointByLineRadion=function(e,t,n,o,i){return void 0===i&&(i=null),i||(i=new c),i.x=e+Math.cos(n)*o,i.y=t+Math.sin(n)*o,i},e.getLineCross1=function(e,t,n,o,i,a,r,s,l,c){void 0===l&&(l=null),void 0===c&&(c=!1);var u=this.getLineSlope(e,t,n,o),p=this.getLineSlope(i,a,r,s);return this.getLineCrossBySlope(e,t,u,i,a,p,l,c)},e.getLineCross2=function(e,t,n,o,i,a){void 0===i&&(i=null),void 0===a&&(a=!1);var r=this.getLineSlope(e.x,e.y,t.x,t.y),s=this.getLineSlope(n.x,n.y,o.x,o.y);return this.getLineCrossBySlope(e.x,e.y,r,n.x,n.y,s)},e.getLineCrossBySlope=function(e,t,n,o,i,a,r,s){if(void 0===r&&(r=null),void 0===s&&(s=!1),r||(r=new c),isNaN(n))return isNaN(a)?s&&e==o?r.setTo(Number.NaN,Number.NaN):null:(r.x=e,r.y=i-a*(o-r.x),r);var l=t-n*e;if(isNaN(a))return r.x=o,r.y=t-(e-o)*n,r;var u=i-a*o;return n==a?s&&l==u?r.setTo(Number.NaN,Number.NaN):null:(r.x=(l-u)/(a-n),r.y=n*r.x+l,r)},e.getSegmentCross1=function(e,t,n,o,i,a,r,s,l){void 0===l&&(l=null);var u=(e-i)*(o-a)-(t-a)*(n-i),p=(e-r)*(o-s)-(t-s)*(n-r);if(u*p>0)return null;var h=(i-e)*(s-t)-(a-t)*(r-e);if(h*(h+u-p)>0)return null;var d=h/(p-u);return l||(l=new c),l.x=e+d*(n-e),l.y=t+d*(o-t),l},e.getSegmentCross2=function(e,t,n,o,i){return void 0===i&&(i=null),this.getSegmentCross1(e.x,e.y,t.x,t.y,n.x,n.y,o.x,o.y,i)},e.pointOnBezierCurve=function(e,t,n,o,i){void 0===i&&(i=null),null==i&&(i=new r.Laya.Point);var a=e.x+(n.x-e.x)*o,s=e.y+(n.y-e.y)*o,l=n.x+(t.x-n.x)*o,c=n.y+(t.y-n.y)*o;return i.setTo(a+(l-a)*o,s+(c-s)*o),i},e._point1=new c,e._point2=new c,e._point3=new c,e._point4=new c,e}();n.GameMath=g;var m=function(){function e(){}return e.getLayaCanvasWidth=function(){return null==this.layaCanvas&&(this.layaCanvas=s.getElementById("layaCanvas")),this.layaCanvas?this.layaCanvas.width:0},e.getLayaCanvasHeight=function(){return null==this.layaCanvas&&(this.layaCanvas=s.getElementById("layaCanvas")),this.layaCanvas?this.layaCanvas.height:0},e.deleteElementByID=function(e){var t=s.getElementById(e);this.deleteElement(t)},e.deleteElement=function(e){null!=e&&(null!=e.parentNode?e.parentNode.removeChild(e):null!=e.remove?e.remove():console.error("\u5220\u9664\u8282\u70b9\u5931\u8d25"))},e.requestFullScreen=function(){var e=s.document.body;console.log("requestFullScreen",e),null!=e&&(e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen())},e.exitFullScreen=function(){var e=s.document.body;null!=e&&(e.exitFullscreen?e.exitFullscreen():e.msExitFullscreen?e.msExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.webkitExitFullscreen&&e.webkitExitFullscreen())},e.isFullScreenEnabled=function(){var e=s.document;return e&&(e.fullscreenEnabled||e.mozFullScreenEnabled||e.webkitFullscreenEnabled||e.msFullscreenEnabled)||!1},e.getLoginType=function(){return e.isAndroidApp()?p.UserRegOrigin.H5_App_Android:e.getOSType()==p.OSType.ANDROID?p.UserRegOrigin.H5_Web_Android:e.getOSType()==p.OSType.IOS?p.UserRegOrigin.H5_Web_IPhone:p.UserRegOrigin.H5_Web_PC},e.isAndroidApp=function(){return e.getOSType()==p.OSType.ANDROID&&"1"==e.getUrlParams().get("apk")},e.isIOSStandlone=function(){return e.getOSType()==p.OSType.IOS&&!!r.Laya.Browser.window.navigator.standalone},e.isAndroidStandlone=function(){return!(e.getOSType()!=p.OSType.ANDROID||!r.Laya.Browser.window.navigator.standalone&&!window.matchMedia("(display-mode: standalone)").matches)},e.isFullScreen=function(){var e=s.document;return e&&(e.fullscreenElement||e.msFullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement)||!1},e.openRequestFullScreenDIV=function(){var t="fullScreen",n=s.document.getElementById(t+"_div");if(!n){(n=s.document.createElement("div")).id=t+"_div",n.style="position:absolute;width:60%;height:60%;border:3px solid #BBBBBB;z-index:100009;margin: auto;left:0;right:0;top:0;bottom:0;background:#FFFFFF;opacity:0;",s.document.body.appendChild(n);var o=s.document.createElement("button");o.id=t+"_button",o.style="position:absolute;right:0;width:100%;height:100%;opacity:0;",o.innerHTML="\u2169",o.onclick=function(){e.closeFullScreenDIV(!0)},n.appendChild(o)}n.style.display=""},e.getUrlHost=function(e){if(void 0===e&&(e=""),""==e){if(!s.window)return"";e=s.window.location.href}var t=e.split("/");return t&&t.length>2?t[2].split(":")[0]:e},e.getDomain=function(){if(""!=this.thisDomain)return this.thisDomain;var e=s.window.location.href.split("/");if(e&&e.length>2){var t=e[2].split(":");this.thisDomain=t[0]}return this.thisDomain},e.getUrlParams=function(e){void 0===e&&(e="");var t=new u.Dictionary;if(""==e){if(!s.window)return t;e=s.window.location.href}var n=e.indexOf("?");if(n<0&&(n=e.indexOf("#"))<0)return t.set("href",e),t;var o=e.slice(0,n);t.set("href",o);var i=(e=e.slice(n+1,e.length)).split("&");if(!i)return t;for(var a=0;a<i.length;a++)(n=i[a].indexOf("="))<0||t.set(i[a].slice(0,n).trim(),i[a].slice(n+1).trim());return t},e.openNewPage=function(e){var t=s.document.createElement("a");s.document.body.appendChild(t),t.href=e,t.target="_blank",t.click(),this.deleteElement(t)},e.openNewIFrame=function(t,n,o,i,a){void 0===n&&(n="80%"),void 0===o&&(o="80%"),void 0===i&&(i=null),void 0===a&&(a=!0);var r="popup",l=s.document.getElementById(r+"_div");if(!l){(l=s.document.createElement("div")).id=r+"_div",l.style="width:"+n+";height:"+o+";",a&&(l.className="popup-div"),s.document.body.appendChild(l);var c=s.document.createElement("button");c.id=r+"_button",a&&(c.className="popup-button"),c.onclick=function(){e.clearNewIFrame()},l.appendChild(c)}l.style.display="";var u=s.document.getElementById(r+"_iframe");u||((u=s.document.createElement("iframe")).id=r+"_iframe",u.name=r+"_iframe",u.frameBorder=0,a&&(u.className="popup-iframe"),l.appendChild(u)),null!=i&&(u.onload=function(){i.run()}),u.src=t},e.downLoad=function(e){var t="downLoad",n=s.document.getElementById(t+"_div");n||((n=s.document.createElement("div")).id=t+"_div",s.document.body.appendChild(n)),n.style.display="none";var o=s.document.getElementById(t+"_iframe");o||((o=s.document.createElement("iframe")).id=t+"_iframe",o.frameBorder=0,o.style="width:100%;height:100%",n.appendChild(o)),o.src=e,r.Laya.timer.clear(this,this.deleteDownLoad),r.Laya.timer.once(3e4,this,this.deleteDownLoad)},e.onDownloadApk=function(){var t=i.ConfigMng.hallconfigJson.download+"/?a="+a.RunData.agentId+"&u="+a.RunData.myUserInfo.dwUserID;e.openNewPage(t)},e.getIPAddress=function(e,t){void 0===t&&(t="");var n=this.getSavedIPAddress(t);if(null==n){var o="GET_IP_SHOU",i=s.document.getElementById(o);i||((i=s.document.createElement("script")).id=o,i.type="text/javascript",i.src="http://pv.shou.com/cityjson?ie=utf-8",s.document.getElementsByTagName("head")[0].appendChild(i));var a=this.ipRequestList.get(t);if(a){if(a.indexOf(e)>=0)return;a.push(e)}else a=[e],this.ipRequestList.set(t,a);this.watingIPResponse||this.requestNextIP()}else e.runWith(n)},e.CopyToSys=function(e){var t=r.Laya.Browser.window.document.createElement("input");t.setAttribute("id","cp_input"),t.value=e,r.Laya.Browser.window.document.getElementsByTagName("body")[0].appendChild(t),r.Laya.Browser.window.document.getElementById("cp_input").select(),r.Laya.Browser.window.document.execCommand("copy"),r.Laya.Browser.window.document.getElementById("cp_input").remove()},e.Init=function(){},e.getOSType=function(){var e=navigator.userAgent.toLocaleLowerCase(),t=/iphone/.test(e);return/ipad/.test(e)||t?p.OSType.IOS:/android/.test(e)?p.OSType.ANDROID:/windows/.test(e)?p.OSType.WINDOWS:p.OSType.OTHER},e.getBrowserType=function(){return navigator.userAgent.toLocaleLowerCase(),0},e.postEvent=function(e,t){var n="",o={};if(null!=t){for(var r=0;r<t.length;r++)0!=r&&(n+="&"),n=n+t[r].key+"="+t[r].value,o[t[r].key]=t[r].value;o.token=h.LogBase.MACTOKEN,o.version=i.ConfigMng.version,o.agentId=a.RunData.agentId}if(this.isAndroidApp()){var s="luckylionevent://"+e;""!=n&&(s+="?"+n),h.LogBase.debug("postEvent:",s),this.openNewPage(s)}},e.Reload=function(){e.isAndroidApp()?this.openNewPage("luckylionsys://reload"):r.Laya.Browser.window.location.reload()},e.closeFullScreenDIV=function(){var t=s.getElementById("fullScreen_div");this.deleteElement(t),confirm&&e.requestFullScreen()},e.clearNewIFrame=function(){var e=s.document.getElementById("popup_iframe");if(e){e.onload=null,e.src="about:blank";try{e.document.write(""),e.document.clear()}catch(n){}var t=s.getElementById("popup_div");t&&this.deleteElement(t)}},e.deleteDownLoad=function(){var e=s.document.getElementById("downLoad_iframe");if(e){e.src="about:blank";try{e.document.write(""),e.document.clear()}catch(n){}var t=s.getElementById("downLoad_div");this.deleteElement(t)}},e.requestNextIP=function(){this.watingIPResponse=!0},e.getSavedIPAddress=function(e){return""==e&&(e="localhost"),this.IP_MAP[e]},e.saveIPAddress=function(e,t){""==e&&(e="localhost"),this.IP_MAP[e]=t},e.thisDomain="",e.IP_MAP={},e.watingIPResponse=!1,e.ipRequestList=new u.Dictionary,e}();n.BrowserUtil=m;var y=function(){function e(){}return e.supplementZero=function(e,t){void 0===t&&(t=2);for(var n=e.toString();n.length<t;)n="0"+n;return n},e.round=function(e,t){void 0===t&&(t=2);var n=Math.pow(10,t);return Math.round(e*n)/n},e.floor=function(e,t){void 0===t&&(t=2);var n=Math.pow(10,t);return Math.floor(e*n)/n},e.ceil=function(e,t){void 0===t&&(t=2);var n=Math.pow(10,t);return Math.ceil(e*n)/n},e.random=function(e,t){var n=Math.random();return 100*Math.random()>50&&(n=1-n),e*n+(1-n)*t},e.currencyFormat=function(e,t){void 0===t&&(t="");var n=e.toString(),o="";n.indexOf(".")>-1&&(o=n.substring(n.indexOf("."),n.length),n=n.substring(0,n.indexOf(".")));for(var i=n.split(""),a=1,r=i.length-1;r>0;r--,a++)a/3==1&&(a=0,i[r]=","+i[r]);return t+i.join("")+o},e.dateFormat=function(e,t){void 0===t&&(t="YEAR/MONTH/DATE"),this.tempDate.setTime(e);var n=this.tempDate.getFullYear().toString(),o=(this.tempDate.getMonth()+1).toString(),i=this.tempDate.getDate().toString();return(t=(t=(t=(t=(t=t.replace("YEAR",n)).replace("MONTH",o.length>1?o:"0"+o)).replace("DATE",i.length>1?i:"0"+i)).replace("year",n)).replace("month",o)).replace("date",i)},e.dateTimeFormat=function(e,t){void 0===t&&(t="H:M:S"),this.tempDate.setTime(e);var n=this.tempDate.getHours().toString(),o=this.tempDate.getMinutes().toString(),i=this.tempDate.getSeconds().toString();return(t=(t=(t=(t=(t=t.replace("H",n.length>1?n:"0"+n)).replace("M",o.length>1?o:"0"+o)).replace("S",i.length>1?i:"0"+i)).replace("h",n)).replace("m",o)).replace("s",i)},e.formatDecimal=function(e,t,n){if(void 0===n&&(n=!0),t<=0)throw new Error("\u5c0f\u6570\u4f4d\u6570\u4e0d\u80fd\u5c0f\u4e8e1");var o=e.toString(),i=o.indexOf("."),a=i<0?0:o.length-i-1;if(a==t)return o;if(a>t)return n?o.slice(0,i+t+1):o;for(i<0&&(o+="."),a=t-a;a-- >0;)o+="0";return o},e.toString=function(e,t){void 0===t&&(t="x2");var n=e.toString(16);return n.length<2?"0x0"+n:"0x"+n},e.maxLong=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=e.length,o=d.default.fromString(d.default.MIN_VALUE.toString()),i=0;i<n;i++)if(e[i]instanceof d.default)o.lessThan(e[i])&&(o=d.default.fromString(e[i].toString()));else{if(isNaN(e[i]))throw new Error("\u53c2\u6570\u5fc5\u987b\u65f6Number\u6216Long\u7c7b\u578b");o.lessThan(e[i])&&(o=d.default.fromNumber(e[i]))}return o},e.minLong=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=e.length,o=d.default.fromString(d.default.MAX_UNSIGNED_VALUE.toString()),i=0;i<n;i++)if(e[i]instanceof d.default)o.greaterThan(e[i])&&(o=d.default.fromString(e[i].toString()));else{if(isNaN(e[i]))throw new Error("\u53c2\u6570\u5fc5\u987b\u65f6Number\u6216Long\u7c7b\u578b");o.greaterThan(e[i])&&(o=d.default.fromNumber(e[i]))}return o},e.splitValue8bit=function(e,t){for(var n=[],o=e.toString(2),i="",a=0,r=o.length-1;r>=0;r--)i=o.charAt(r)+i,(a+=1)%8==0&&(n.push(parseInt(i,2)),i="");for(""!=i&&n.push(parseInt(i,2));n.length<t;)n.push(0);return n.length>t&&(n.length=t),n},e.to2String=function(e,t,n){void 0===t&&(t=8),void 0===n&&(n="|");for(var o=e.toString(2),i="",a=0,r=o.length-1;r>=0;r--)i=o.charAt(r)+i,(a+=1)%t==0&&(i=n+i);return i},e.tempDate=new Date,e}();n.NumberUtil=y;var _=function(){function e(){}return e.toString=function(e){this.tempDate.setTime(e);var t=this.tempDate.getFullYear().toString();return t+=y.supplementZero(this.tempDate.getMonth()+1),t+=y.supplementZero(this.tempDate.getDate()),t+=y.supplementZero(this.tempDate.getHours()),(t+=y.supplementZero(this.tempDate.getMonth()))+y.supplementZero(this.tempDate.getSeconds())},e.tempDate=new Date,e}();n.DateUtil=_;var v=function(){function e(){}return e.escapeUnicode=function(e,t){void 0===t&&(t=!0);for(var n="",o="",i=t?"\\u":"",a=0;a<e.length;a++){for(o=e.charCodeAt(a).toString(16);o.length<4;)o="0"+o;n+=i+o}return n},e.trim=function(e){return null==e?null:e=(e=e.replace(/^\s*/,"")).replace(/\s*$/,"")},e.format=function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var i,a=t.match(e._formatReg);if(0==n.length||!a)return t;for(var r=0;r<a.length;r++)(i=parseInt(a[r].slice(1,a[r].length-1)))<n.length&&(t=t.replace(a[r],n[i]));return t},e.toHtmlString=function(t,n,o,i,a,r,s){if(void 0===n&&(n="#FFFFFF"),void 0===o&&(o=20),void 0===i&&(i=""),void 0===a&&(a=!1),void 0===r&&(r=""),void 0===s&&(s=!1),""==t)return t;i||(i="SimHei");var l="style='color:"+n+";font-family:"+i+";font-size:"+o+"px";return r&&(l+=";text-decoration:none"),t="<span "+(l+=a?";font-weight:bold' ":"' ")+e.transHref(r)+">"+e.transHtmlAngleBackets(t)+"</span>",s&&(t+="<br/>"),t},e.transHref=function(e){return e?"href='"+e+"'":""},e.transHtmlAngleBackets=function(t){return(t=(t=t.replace(e._spaceReg,"&nbsp;")).replace(e._leftReg,"&lt;")).replace(e._rightReg,"&gt;")},e._leftReg=/</g,e._rightReg=/>/g,e._spaceReg=/\s/g,e._formatReg=/\{\d+\}/g,e}();n.StringUtil=v;var b=function(){function e(){}return e.removeItems=function(e,t){for(var n,o=0;o<t.length;o++)for(n=e.indexOf(t[o]);(n=e.indexOf(t[o]))>=0;)e.splice(n,1)},e.copyItems=function(e,t){e.length=0;for(var n=0;n<t.length;n++)e.push(t[n])},e.addItems=function(e,t){for(var n=0;n<t.length;n++)e.push(t[n])},e.hasSameItems=function(e,t){if(0==e.length)return!1;for(var n=0;n<t.length;n++)if(e.indexOf(t[n])>=0)return!0;return!1},e.getItemCount=function(e,t){for(var n=0,o=0;o<e.length;o++)e[o]===t&&n++;return n},e.combination=function(e,t){var n=[];return this.combination2(e,t,[],n),n},e.permutation=function(e,t){if(t>e.length)return[];var n=[];return this.permutation2(e,t,[],n),n},e.combination2=function(e,t,n,o){var i=e.length;if(!(t>i))if(t==i)o.push(n.concat(e));else for(var a=0;a<i;a++){var r=n.concat();if(r.push(e[a]),1==t)o.push(r);else{var s=e.concat();s.splice(0,a+1),this.combination2(s,t-1,r,o)}}},e.permutation2=function(e,t,n,o){var i=e.length;if(n.length==t)o.push(n);else for(var a=0;a<i;a++){var r=e.concat(),s=r.splice(a,1);this.permutation2(r,t,n.concat(s),o)}},e}();n.ArrayUtil=b;var S=function(){function e(){}return e.getXMLAttributeValue=function(e,t){if(!e.attributes)return null;for(var n=0;n<e.attributes.length;n++)if(e.attributes[n].nodeName==t)return e.attributes[n].nodeValue;return null},e.searchAttribute=function(e,t){if(!e.attributes)return null;for(var n=0;n<e.attributes.length;n++)if(e.attributes[n].nodeName==t)return e.attributes[n];return null},e}();n.XMLUtils=S;var C=function(){function e(){}return e.encrypt_CBC=function(e,t){var n=l.default.enc.Utf8.parse(t),o={iv:l.default.enc.Utf8.parse(t),mode:l.default.mode.CBC,padding:l.default.pad.Pkcs7};return l.default.DES.encrypt(e,n,o).ciphertext.toString()},e.decrypt_CBC=function(e,t){var n=l.default.enc.Utf8.parse(t),o=l.default.enc.Utf8.parse(t),i={ciphertext:l.default.enc.Hex.parse(e)},a={iv:o,mode:l.default.mode.CBC,padding:l.default.pad.Pkcs7};return l.default.DES.decrypt(i,n,a).toString(l.default.enc.Utf8)},e.encrypt_ECB=function(t,n){null==e._defaultType&&(e._defaultType={mode:l.default.mode.ECB,padding:l.default.pad.Pkcs7});var o=l.default.enc.Utf8.parse(n);return l.default.DES.encrypt(t,o,e._defaultType).toString()},e.decrypt_ECB=function(t,n){null==e._defaultType&&(e._defaultType={mode:l.default.mode.ECB,padding:l.default.pad.Pkcs7});var o=l.default.enc.Utf8.parse(n);return l.default.DES.decrypt(t,o,e._defaultType).toString(l.default.enc.Utf8)},e.decryptBase64_CBC=function(e,t){var n=l.default.enc.Utf8.parse(t),o=l.default.enc.Utf8.parse(t),i={ciphertext:l.default.enc.Base64.parse(e)},a={iv:o,mode:l.default.mode.CBC,padding:l.default.pad.Pkcs7};return l.default.DES.decrypt(i,n,a).toString(l.default.enc.Utf8)},e}();n.DES=C;var I=function(){function e(){}return e.prototype.encrypt=function(){return""},e}();n.RSA=I;var R=function(){function e(){}return e.copy=function(t,n){e.copyJS(t,n)},e.isSupported=function(){return e.isSupportedJS()},e.isSupportedJS=function(){return null!=s.document.queryCommandSupported&&s.document.queryCommandSupported("Copy")},e.copyJS=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n="clipboard_copy_textarea");var o=!1,i=!1,a=s.document.getElementById(n);null==a?(o=!0,a=s.document.createElement("textArea"),s.document.body.appendChild(a)):a.hidden=!1,a.innerHTML=e,a.select(),a.setSelectionRange(0,e.length);try{i=s.document.execCommand("Copy")}catch(r){i=!1}a.setSelectionRange(0,0),o?m.deleteElement(a):a.hidden=!0,null!=t&&t.runWith(i)},e.copyJS2=function(e,t,n,o){void 0===t&&(t=null),void 0===n&&(n="clipboard_copy_textarea"),void 0===o&&(o="clipboard_copy_btn");var i=s.document.getElementById(o),a=s.document.getElementById(n);if(null!=i&&null!=a){i.hidden=!1,a.hidden=!1,a.innerHTML=e,null==this._clipboardJS&&(this._clipboardJS=new f.default("."+o)),this._clipboardJS.on("success",function(){console.log("\u590d\u5236\u6210\u529f"),t.runWith(!0)}),this._clipboardJS.on("error",function(e){console.log("\u590d\u5236\u5931\u8d25"),console.log(e),t.runWith(!1)});try{var r;s.onIE?i.click():(s.document.createEvent("MouseEvents").initEvent("click",!0,!0),i.trigger("click"))}catch(r){console.log(r)}i.hidden=!0,a.hidden=!0}else t.runWith(!1)},e}();n.ClipboardTool=R;var L=function(){function e(){}return e.DataNewProEncrypt=function(e,t){var n=e.length;if(n<=0||t.length<=0)return!1;for(var o=0;o<n/2;o++){t.pos=(o+2)%t.length;var i=t.readByte();if((1&i)>0){e.pos=o;var a=e.readByte();e.pos=n-1-o;var r=e.readByte();e.pos=o,e.writeByte(r),e.pos=n-1-o,e.writeByte(a)}e.pos=o;var s=e.readByte();e.pos=o,e.writeByte(s^i),e.pos=n-1-o,s=e.readByte(),e.pos=n-1-o,e.writeByte(s^i)}return!0},e.IsEncodeMsg=function(){return!0},e.DecodeMsg=function(e,t,n){void 0===n&&(n=0),t.pos=0,e.pos=0;for(var o=0,i=0;i<t.length;i++){var a=t.getUint8();if(a>=this.g_RecvByteMap.length)return console.error("DecodeMsg---error,out of rang---"),!1;i<4?e.writeUint8(a):(o+=this.g_RecvByteMap[a],o&=255,e.writeUint8(this.g_RecvByteMap[a]))}return 0==(n+o&255)||(console.error("DecodeMsg---cbCheckCode != DecodeCheckCode:",n,o),!1)},e.EncodeMsg=function(e,t){t.pos=4,e.pos=6;for(var n=0,o=4;o<t.length;o++){var i=t.getUint8();if(i>=this.g_SendByteMap.length)return console.error("EncodeMsg---error,out of rang---"),-1;e.writeUint8(this.g_SendByteMap[i]),n+=i,n&=255}return n},e.ENCODE_FLAG=1,e.DK_MAPPED=1,e.g_SendByteMap=[148,83,72,184,2,229,116,189,132,185,76,242,37,203,186,78,167,136,220,95,47,11,54,219,44,108,35,224,237,195,121,247,0,153,145,154,3,204,150,160,130,253,216,82,107,155,6,159,67,127,38,122,151,194,231,245,124,210,134,70,59,207,201,202,8,211,171,250,165,50,53,168,248,133,123,92,249,86,14,7,230,175,143,198,192,215,26,193,117,19,234,183,232,166,71,152,57,241,74,94,187,218,5,158,222,236,233,98,102,12,147,85,63,120,141,243,252,25,96,163,212,42,174,227,32,17,101,111,217,149,114,110,157,99,251,162,103,56,199,164,105,180,15,181,205,58,206,125,52,21,142,60,33,36,79,128,228,178,41,10,91,244,119,223,156,173,61,135,254,208,40,104,235,139,196,115,49,34,146,29,18,118,200,246,69,161,77,66,112,137,255,225,80,39,191,30,68,240,31,51,221,16,75,93,131,138,84,55,24,97,62,27,23,28,13,43,140,73,4,9,172,100,87,169,88,81,188,182,1,22,190,176,213,238,20,179,170,89,209,177,214,239,109,48,113,106,90,45,64,129,197,126,65,144,226,46],e.g_RecvByteMap=[32,228,4,36,218,102,46,79,64,219,159,21,109,214,78,142,201,125,180,89,234,149,229,212,208,117,86,211,213,179,195,198,124,152,177,26,153,12,50,193,170,158,121,215,24,247,255,20,243,176,69,199,148,70,22,207,137,96,145,60,151,166,210,112,248,252,187,48,196,184,59,94,2,217,98,202,10,186,15,154,192,225,43,1,206,111,77,222,224,237,246,160,75,203,99,19,118,209,107,133,221,126,108,136,171,140,245,44,25,242,131,127,188,244,130,175,6,88,181,162,113,30,51,74,56,147,251,49,155,249,40,204,8,73,58,167,17,189,205,173,216,114,150,82,253,34,178,110,0,129,38,52,95,33,35,45,164,132,103,47,39,185,135,119,139,68,93,16,71,223,236,66,220,165,122,81,231,239,157,235,141,143,227,91,3,9,14,100,226,7,230,194,84,87,53,29,174,250,83,138,182,62,63,13,37,144,146,61,169,238,57,65,120,232,240,85,42,128,101,23,18,200,104,163,27,191,254,123,156,5,80,54,92,106,90,172,105,28,233,241,197,97,11,115,161,55,183,31,72,76,67,134,116,41,168,190],e}();n.GameEncrypt=L,cc._RF.pop()},{"../core/RunData":"RunData","../laya/Laya":"Laya","./ConfigMng":"ConfigMng","./Dictionary":"Dictionary","./LogBase":"LogBase","./Types":"Types",clipboard:3,"crypto-js":15,long:43}],TransferDoublePanel:[function(e,t,n){"use strict";cc._RF.push(t,"cea99G2jGtLUoFVfkYdrkbD","TransferDoublePanel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=e("../../../../../main/scripts/configs/CommonPanelConfig"),u=l(e("../../../../../main/scripts/framework/components/dialogstyle/MoveStyleDialogPanelV1")),p=e("../../../../../main/scripts/framework/gg"),h=e("../../../../../main/scripts/framework/i18n/I18n"),d=e("../../../../../main/scripts/systems/api/gameapi/GameApiModels"),f=e("../../../../../main/scripts/systems/game/GameUISystem"),g=e("../../../../../main/scripts/systems/user/UserSystem"),m=e("../../../../../main/scripts/systems/user/UserWalletSystem"),y=e("../../../systems/transferDouble/TransferDoubleSystem"),_=e("../../../systems/ui/lobby/LobbyUIEvent"),v=cc._decorator,b=v.ccclass,S=v.property,C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.titleLabel=null,t.coinLabel=null,t.btnLabel=null,t}return i(t,e),t.prototype.onLoad=function(){this.titleLabel.string="",this.coinLabel.string=""},t.prototype.show=function(e){this._playShowAnim(function(){e.onShowed()}),this.updateUI()},t.prototype.hide=function(e){this._playHideAnim(function(){e.onHided()})},t.prototype.onClickClose=function(){p.gg.panelRouter.hide({panel:c.CommonPanelConfig.transferDoublePanel})},t.prototype.updateUI=function(){var e,t;switch(y.transferDoubleSystem.transferDoubleInfo.data.activity_status){case d.TransferDoubleActivityType.Unopened:p.gg.logger.error("\u6d3b\u52a8\u672a\u5f00\u542f\uff0c\u4e0d\u5e94\u8be5\u6253\u5f00\u9762\u677f");break;case d.TransferDoubleActivityType.Activated:this.titleLabel.string=h.i18n.getText("transferDouble.activatedTip"),this.btnLabel.string=h.i18n.getText("common.confirm");break;case d.TransferDoubleActivityType.Completed:(null===(t=null===(e=y.transferDoubleSystem.transferDoubleInfo.data)||void 0===e?void 0:e.award_list)||void 0===t?void 0:t.length)>0&&(this.coinLabel.string=y.transferDoubleSystem.transferDoubleInfo.data.award_list[0].count+""),this.btnLabel.string=h.i18n.getText("lobby.mail.claim"),this.titleLabel.string=h.i18n.getText("transferDouble.completedTip");break;case d.TransferDoubleActivityType.Received:p.gg.logger.error("\u5956\u52b1\u5df2\u7ecf\u9886\u53d6\uff0c\u4e0d\u5e94\u8be5\u6253\u5f00\u9762\u677f")}},t.prototype.onConfirmBtnClick=function(){return r(this,void 0,void 0,function(){var e,t,n;return s(this,function(o){switch(o.label){case 0:switch(y.transferDoubleSystem.transferDoubleInfo.data.activity_status){case d.TransferDoubleActivityType.Activated:return[3,1];case d.TransferDoubleActivityType.Completed:return[3,2]}return[3,4];case 1:return this.onClickClose(),p.gg.eventManager.emit(_.LobbyUIEvent.TransferDoubleGuideEvent),[3,4];case 2:return e=m.userWalletSystem.coinBalance,t=m.userWalletSystem.diamondBalance,n=g.userSystem.userModel.fashion,[4,y.transferDoubleSystem.awardTransferDouble()];case 3:return o.sent()?(f.gameUISystem.showReceiveFeatures(e,t,n,y.transferDoubleSystem.transferDoubleInfo.data.award_list),p.gg.eventManager.emit(_.LobbyUIEvent.onActivityEnd,d.ActivityType.transferDoublePrize),this.onClickClose()):this.failGame(),[3,4];case 4:return[2]}})})},t.prototype.failGame=function(){p.gg.panelRouter.show({panel:c.CommonPanelConfig.toastPanel,data:{text:h.i18n.getText("ChipActivity.receiveFail")}})},a([S(cc.Label)],t.prototype,"titleLabel",void 0),a([S(cc.Label)],t.prototype,"coinLabel",void 0),a([S(cc.Label)],t.prototype,"btnLabel",void 0),a([b],t)}(u.default);n.default=C,cc._RF.pop()},{"../../../../../main/scripts/configs/CommonPanelConfig":"CommonPanelConfig","../../../../../main/scripts/framework/components/dialogstyle/MoveStyleDialogPanelV1":"MoveStyleDialogPanelV1","../../../../../main/scripts/framework/gg":"gg","../../../../../main/scripts/framework/i18n/I18n":"I18n","../../../../../main/scripts/systems/api/gameapi/GameApiModels":"GameApiModels","../../../../../main/scripts/systems/game/GameUISystem":"GameUISystem","../../../../../main/scripts/systems/user/UserSystem":"UserSystem","../../../../../main/scripts/systems/user/UserWalletSystem":"UserWalletSystem","../../../systems/transferDouble/TransferDoubleSystem":"TransferDoubleSystem","../../../systems/ui/lobby/LobbyUIEvent":"LobbyUIEvent"}],TransferDoubleSystem:[function(e,t,n){"use strict";cc._RF.push(t,"ad49bdbOnZM3KIFiC1N/as4","TransferDoubleSystem");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.transferDoubleSystem=void 0;var a=e("../../../../main/scripts/systems/api/gameapi/GameApi"),r=function(){function e(){this.transferDoubleInfo=null}return e.prototype.getActivityInfo=function(){return o(this,void 0,Promise,function(){var e;return i(this,function(t){switch(t.label){case 0:return this.transferDoubleInfo=null,[4,a.gameApi.getTransferDoublePrizeInfo().catch(function(){return null})];case 1:return 1===(null==(e=t.sent())?void 0:e.status)?(this.transferDoubleInfo=e,[2,!0]):[2,!1]}})})},e.prototype.awardTransferDouble=function(){return o(this,void 0,Promise,function(){var e;return i(this,function(t){switch(t.label){case 0:return[4,a.gameApi.awardTransferDoublePrize().catch(function(){return null})];case 1:return 1===(null==(e=t.sent())?void 0:e.status)?[2,!0]:[2,!1]}})})},e}();n.transferDoubleSystem=new r,cc._RF.pop()},{"../../../../main/scripts/systems/api/gameapi/GameApi":"GameApi"}],TransferPanel:[function(e,t,n){"use strict";cc._RF.push(t,"def0bqiASZC863jMPcaccSo","TransferPanel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.TransferOpenType=void 0;var c,u=l(e("../../../components/UserIconStyle1Component")),p=e("../../../configs/CommonAudioConfig"),h=e("../../../configs/CommonPanelConfig"),d=l(e("../../../framework/components/dialogstyle/MoveStyleDialogPanelV2")),f=e("../../../framework/gg"),g=e("../../../framework/i18n/I18n"),m=l(e("../../../framework/utils/StringUtils")),y=e("../../../systems/api/gameapi/PayApiModels"),_=e("../../../systems/game/GameUISystem"),v=e("../../../systems/transfer/TransferSystem"),b=e("../../../systems/user/UserEvent"),S=e("../../../systems/user/UserSystem"),C=e("../../../systems/user/UserUISystem"),I=e("../../../systems/user/UserWalletSystem"),R=e("./TransferUIEvent"),L=cc._decorator,P=L.ccclass,M=L.property;(function(e){e.Lobby="lobby",e.Friend="friend"})(c=n.TransferOpenType||(n.TransferOpenType={}));var T=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ordinaryNode=null,t.friendNode=null,t.userIdLabel=null,t.userNameLabel=null,t.userIconComp=null,t.vipSprite=null,t.idEditBox=null,t.coinEditBox=null,t.handlingFeeRateLab=null,t.handlingFeeLab=null,t.amountLab=null,t.transferUIData=null,t.transferTaxRateInfo=null,t.handlingFee=0,t.coinCount=0,t}return i(t,e),t.prototype.show=function(e){this.reset(),this.transferUIData=e.data,this.getTransferInfo(),this.updateUI(),this._playShowAnim(function(){e.onShowed()})},t.prototype.hide=function(e){this._playHideAnim(function(){e.onHided()})},t.prototype.onEnable=function(){f.gg.eventManager.on(b.UserEvent.OnUserVipUpdate,this.onUserVipUpdate,this),f.gg.eventManager.on(R.TransferUIEvent.TransferSuccessEvent,this.getTransferInfo,this)},t.prototype.onDisable=function(){f.gg.eventManager.offTarget(this),this.reset()},t.prototype.reset=function(){this.transferTaxRateInfo=null,this.transferUIData=null,this.handlingFee=0,this.coinCount=0,this.idEditBox.string="",this.idEditBox.placeholder=g.i18n.getText("Transfer.editId"),this.coinEditBox.string="",this.coinEditBox.placeholder=g.i18n.getText("Transfer.editCoinMin",1e3),this.ordinaryNode.active=!1,this.friendNode.active=!1,this.handlingFeeRateLab.string="0%",this.handlingFeeLab.string="0",this.amountLab.string="0"},t.prototype.onUserVipUpdate=function(){this.updataUserVip(),this.getTransferInfo()},t.prototype.updateUI=function(){var e,t,n,o,i,a,r,s;this.transferUIData.openType==c.Lobby?this.ordinaryNode.active=!0:(this.friendNode.active=!0,this.userNameLabel.string=m.default.clampStr(null!==(t=null===(e=this.transferUIData.userInfo)||void 0===e?void 0:e.nick)&&void 0!==t?t:"",18),this.userIdLabel.string=null!==(o=null===(n=this.transferUIData.userInfo)||void 0===n?void 0:n.uid)&&void 0!==o?o:"",this.userIconComp.getComponent(u.default).updateIcon(null!==(a=null===(i=this.transferUIData.userInfo)||void 0===i?void 0:i.facelook)&&void 0!==a?a:""),this.userIconComp.getComponent(u.default).updateIconFrame(null!==(s=null===(r=this.transferUIData.userInfo)||void 0===r?void 0:r.frame)&&void 0!==s?s:""),this.updataUserVip())},t.prototype.updataUserVip=function(){var e;return r(this,void 0,void 0,function(){var t;return s(this,function(n){switch(n.label){case 0:return(null===(e=this.transferUIData.userInfo)||void 0===e?void 0:e.vip_info)?(this.vipSprite.node.active=!0,t=this.vipSprite,[4,C.userUISystem.loadUserVipIcon(this.transferUIData.userInfo.vip_info.vip_level,this.transferUIData.userInfo.vip_info.vip_status)]):[3,2];case 1:return t.spriteFrame=n.sent(),[3,3];case 2:this.vipSprite.node.active=!1,n.label=3;case 3:return[2]}})})},t.prototype.getTransferInfo=function(){return r(this,void 0,void 0,function(){var e,t;return s(this,function(n){switch(n.label){case 0:return[4,v.transferSystem.getTransferTaxRate().catch(function(){return null})];case 1:return 1==(null==(e=n.sent())?void 0:e.status)?(this.transferTaxRateInfo=e,this.handlingFeeRateLab.string=this.transferTaxRateInfo.tax_rate+"%",t=this.transferTaxRateInfo.today_transfer_limit-this.transferTaxRateInfo.today_transfer_amount>0?this.transferTaxRateInfo.today_transfer_limit-this.transferTaxRateInfo.today_transfer_amount:0,this.amountLab.string=t+"",this.coinEditBox.placeholder=g.i18n.getText("Transfer.editCoinMin",this.transferTaxRateInfo.min_transfer_amount),this.updataHandlingFeeLab()):f.gg.logger.error("\u8f6c\u589e-\u7a0e\u7387\u6570\u636e\u83b7\u53d6\u5931\u8d25-\u6392\u67e5"),[2]}})})},t.prototype.updataHandlingFeeLab=function(){this.handlingFeeLab.string=Math.round(this.getCoinNum()*this.transferTaxRateInfo.tax_rate/100)+""},t.prototype.getCoinNum=function(){var e=0;return""!=this.coinEditBox.string&&(e=Number(this.coinEditBox.string)),e},t.prototype.onCloseBtnClick=function(){f.gg.panelRouter.hide({panel:h.CommonPanelConfig.transferPanel}),f.gg.audio.playOneShot(p.CommonAudioConfig.btnClose)},t.prototype.onClicRecord=function(){f.gg.panelRouter.show({panel:h.CommonPanelConfig.transferRecordPanel,data:this.transferUIData})},t.prototype.onClickVip=function(){f.gg.panelRouter.show({panel:h.CommonPanelConfig.storePanel,data:{type:y.GoodsTypeEnum.VIP}})},t.prototype.onClicGive=function(){return r(this,void 0,void 0,function(){var e;return s(this,function(t){switch(t.label){case 0:return this.coinCount=Number(this.coinEditBox.string),this.handlingFee=Number(this.handlingFeeLab.string),this.coinCount<1e3?(f.gg.panelRouter.show({panel:h.CommonPanelConfig.toastPanel,data:{text:g.i18n.getText("Transfer.editCoinMin",this.transferTaxRateInfo.min_transfer_amount)}}),[2]):this.coinCount+this.handlingFee>I.userWalletSystem.coinBalance?(_.gameUISystem.showRecharge(y.GoodsTypeEnum.Coin),[2]):this.transferUIData.openType!=c.Lobby?[3,2]:[4,S.userSystem.searchUserAsync({uid:this.idEditBox.string})];case 1:return 1==(e=t.sent()).status&&e.user?(this.transferUIData.userInfo=e.user,this.showConfirmtransferPanel()):(this.idEditBox.string="",this.idEditBox.placeholder=g.i18n.getText("Transfer.editId"),f.gg.panelRouter.show({panel:h.CommonPanelConfig.toastPanel,data:{text:g.i18n.getText("toast.correctId")}})),[3,3];case 2:this.showConfirmtransferPanel(),t.label=3;case 3:return[2]}})})},t.prototype.showConfirmtransferPanel=function(){f.gg.panelRouter.show({panel:h.CommonPanelConfig.confirmtransferPanel,data:{userInfo:this.transferUIData.userInfo,coin:this.coinCount,handlingFee:this.handlingFee}})},a([M({type:cc.Node,tooltip:"\u5927\u5385\u8fdb\u5165\u8d60\u9001"})],t.prototype,"ordinaryNode",void 0),a([M({type:cc.Node,tooltip:"\u597d\u53cb\u9762\u677f\u8fdb\u5165\u8d60\u9001"})],t.prototype,"friendNode",void 0),a([M({type:cc.Label,tooltip:"\u7528\u6237id"})],t.prototype,"userIdLabel",void 0),a([M({type:cc.Label,tooltip:"\u7528\u6237\u540d\u5b57"})],t.prototype,"userNameLabel",void 0),a([M({type:cc.Node,tooltip:"\u73a9\u5bb6\u5934\u50cf\u6837\u5f0f1"})],t.prototype,"userIconComp",void 0),a([M({type:cc.Sprite,tooltip:"\u7528\u6237vip\u56fe\u6807"})],t.prototype,"vipSprite",void 0),a([M({type:cc.EditBox,tooltip:"Id\u8f93\u5165\u6846"})],t.prototype,"idEditBox",void 0),a([M({type:cc.EditBox,tooltip:"\u91d1\u5e01\u8f93\u5165\u6846"})],t.prototype,"coinEditBox",void 0),a([M({type:cc.Label,tooltip:"\u7a0e\u7387"})],t.prototype,"handlingFeeRateLab",void 0),a([M({type:cc.Label,tooltip:"\u7a0e\u6536"})],t.prototype,"handlingFeeLab",void 0),a([M({type:cc.Label,tooltip:"\u6bcf\u65e5\u989d\u5ea6"})],t.prototype,"amountLab",void 0),a([P],t)}(d.default);n.default=T,cc._RF.pop()},{"../../../components/UserIconStyle1Component":"UserIconStyle1Component","../../../configs/CommonAudioConfig":"CommonAudioConfig","../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../framework/components/dialogstyle/MoveStyleDialogPanelV2":"MoveStyleDialogPanelV2","../../../framework/gg":"gg","../../../framework/i18n/I18n":"I18n","../../../framework/utils/StringUtils":"StringUtils","../../../systems/api/gameapi/PayApiModels":"PayApiModels","../../../systems/game/GameUISystem":"GameUISystem","../../../systems/transfer/TransferSystem":"TransferSystem","../../../systems/user/UserEvent":"UserEvent","../../../systems/user/UserSystem":"UserSystem","../../../systems/user/UserUISystem":"UserUISystem","../../../systems/user/UserWalletSystem":"UserWalletSystem","./TransferUIEvent":"TransferUIEvent"}],TransferProto:[function(e,t,n){"use strict";cc._RF.push(t,"3aa545S52xF6ploaRDFkALf","TransferProto"),Object.defineProperty(n,"__esModule",{value:!0}),n.GiftProtoMsg=n.RecordType=void 0,function(e){e[e.All=0]="All",e[e.Send=1]="Send",e[e.Receive=2]="Receive"}(n.RecordType||(n.RecordType={})),function(e){e.GetTransferTaxRateRequest="GetTransferTaxRateRequest",e.GetTransferTaxRateResponse="GetTransferTaxRateResponse",e.TransferCoinsRequest="TransferCoinsRequest",e.TransferCoinsResponse="TransferCoinsResponse",e.GetTransferRecordRequest="GetTransferRecordRequest",e.GetTransferRecordResponse="GetTransferRecordResponse",e.SendItemRequest="SendItemRequest",e.SendItemResponse="SendItemResponse"}(n.GiftProtoMsg||(n.GiftProtoMsg={})),cc._RF.pop()},{}],TransferRecordItem:[function(e,t,n){"use strict";cc._RF.push(t,"68591bu0f1EhqiZ2+clqo1a","TransferRecordItem");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=l(e("../../../components/UserIconStyle1Component")),u=l(e("../../../framework/utils/StringUtils")),p=e("../../../framework/utils/TimeUtils"),h=e("../../../systems/transfer/TransferProto"),d=e("../../../systems/user/UserUISystem"),f=cc._decorator,g=f.ccclass,m=f.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.playerIdLabel=null,t.playerNameLab=null,t.playerIcon=null,t.vipSprite=null,t.timeLab=null,t.coinSendColor=(new cc.Color).fromHEX("#E31D1D"),t.coinReceiveColor=(new cc.Color).fromHEX("#2AAB11"),t.coinLab=null,t.handlingFeeLayout=null,t.handlingFeeLab=null,t.transferRecord=null,t.userIconId=null,t.userFrameId=null,t.vipInfo=null,t}return i(t,e),t.prototype.updateUI=function(){var e,t,n,o,i,a,r,s,l,d;switch(this.updataUserVip(),this.node.active=!0,this.handlingFeeLayout.active=!1,this.timeLab.string=p.TimeUtils.formatDate(1e3*this.transferRecord.record_time),this.coinLab.string=this.transferRecord.amount+"",this.transferRecord.record_type){case h.RecordType.Receive:this.coinLab.node.color=this.coinReceiveColor;break;case h.RecordType.Send:this.coinLab.node.color=this.coinSendColor,this.handlingFeeLayout.active=!0,this.handlingFeeLab.string=this.transferRecord.tax}this.playerNameLab.string=u.default.clampStr(this.transferRecord.nick,15),this.playerIdLabel.string=this.transferRecord.uid,(null===(e=this.transferRecord)||void 0===e?void 0:e.avatar)!=this.userIconId&&this.playerIcon.getComponent(c.default).updateIcon(null!==(n=null===(t=this.transferRecord)||void 0===t?void 0:t.avatar)&&void 0!==n?n:""),(null===(o=this.transferRecord)||void 0===o?void 0:o.frame)!=this.userFrameId&&this.playerIcon.getComponent(c.default).updateIconFrame(null!==(a=null===(i=this.transferRecord)||void 0===i?void 0:i.frame)&&void 0!==a?a:""),this.userIconId=null!==(s=null===(r=this.transferRecord)||void 0===r?void 0:r.avatar)&&void 0!==s?s:"",this.userFrameId=null!==(d=null===(l=this.transferRecord)||void 0===l?void 0:l.frame)&&void 0!==d?d:""},t.prototype.updataUserVip=function(){var e,t,n,o;return r(this,void 0,void 0,function(){var i;return s(this,function(a){switch(a.label){case 0:return(null===(e=this.transferRecord)||void 0===e?void 0:e.vip_info)?(this.vipSprite.node.active=!0,this.vipInfo==(null===(t=this.transferRecord)||void 0===t?void 0:t.vip_info)?[3,2]:(i=this.vipSprite,[4,d.userUISystem.loadUserVipIcon(this.transferRecord.vip_info.vip_level,this.transferRecord.vip_info.vip_status)])):[3,3];case 1:i.spriteFrame=a.sent(),a.label=2;case 2:return[3,4];case 3:this.vipSprite.node.active=!1,a.label=4;case 4:return this.vipInfo=null!==(o=null===(n=this.transferRecord)||void 0===n?void 0:n.vip_info)&&void 0!==o?o:null,[2]}})})},a([m({type:cc.Label,tooltip:"\u7528\u6237id"})],t.prototype,"playerIdLabel",void 0),a([m({type:cc.Label,tooltip:"\u7528\u6237\u540d\u5b57"})],t.prototype,"playerNameLab",void 0),a([m({type:cc.Node,tooltip:"\u73a9\u5bb6\u5934\u50cf\u6837\u5f0f1"})],t.prototype,"playerIcon",void 0),a([m({type:cc.Sprite,tooltip:"\u7528\u6237vip\u56fe\u6807"})],t.prototype,"vipSprite",void 0),a([m({type:cc.Label,tooltip:"\u8f6c\u8d60\u65f6\u95f4"})],t.prototype,"timeLab",void 0),a([m({tooltip:"\u8f6c\u51fa\u989c\u8272"})],t.prototype,"coinSendColor",void 0),a([m({tooltip:"\u6536\u5230\u8f6c\u8d60\u989c\u8272"})],t.prototype,"coinReceiveColor",void 0),a([m({type:cc.Label,tooltip:"\u8f6c\u8d26\u91d1\u989d"})],t.prototype,"coinLab",void 0),a([m({type:cc.Node,tooltip:"\u7a0e\u6536\u8282\u70b9"})],t.prototype,"handlingFeeLayout",void 0),a([m({type:cc.Label,tooltip:"\u7a0e\u6536"})],t.prototype,"handlingFeeLab",void 0),a([g],t)}(cc.Component);n.default=y,cc._RF.pop()},{"../../../components/UserIconStyle1Component":"UserIconStyle1Component","../../../framework/utils/StringUtils":"StringUtils","../../../framework/utils/TimeUtils":"TimeUtils","../../../systems/transfer/TransferProto":"TransferProto","../../../systems/user/UserUISystem":"UserUISystem"}],TransferRecordPanel:[function(e,t,n){"use strict";cc._RF.push(t,"5fb20TypOpEIbM2fMKjyaft","TransferRecordPanel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=e("../../../configs/CommonAudioConfig"),u=e("../../../configs/CommonPanelConfig"),p=l(e("../../../framework/components/dialogstyle/MoveStyleDialogPanelV2")),h=e("../../../framework/gg"),d=e("../../../framework/i18n/I18n"),f=e("../../../systems/transfer/TransferProto"),g=e("../../../systems/transfer/TransferSystem"),m=e("./TransferPanel"),y=l(e("./TransferRecordItem")),_=cc._decorator,v=_.ccclass,b=_.property,S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.transferRecordView=null,t.transferRecordItemParentNode=null,t.transferRecordItem=null,t.spaceingY=10,t.paddingTop=10,t.visableAreaMarginTop=0,t.visableAreaMarginBottom=0,t.virtualNodes=[],t.transferRecordNodeArray=new Array,t.transferRecordList=null,t.lastTimer=0,t.transferUIData=null,t}return i(t,e),t.prototype.show=function(e){this.transferUIData=e.data,this.updataShowUi(),this._playShowAnim(function(){e.onShowed()})},t.prototype.hide=function(e){this._playHideAnim(function(){e.onHided()})},t.prototype.onEnable=function(){this.transferRecordItemParentNode.on(cc.Node.EventType.POSITION_CHANGED,this.onPositionChanged,this),this.transferRecordView.node.on("scroll-ended",this.updateList,this)},t.prototype.onDisable=function(){this.transferRecordItemParentNode.off(cc.Node.EventType.POSITION_CHANGED,this.onPositionChanged,this),h.gg.eventManager.offTarget(this),this.transferRecordView.node.off("scroll-ended",this.updateList,this)},t.prototype.updataShowUi=function(){var e,t,n,o;return r(this,void 0,void 0,function(){var i;return s(this,function(a){switch(a.label){case 0:return this.reset(),[4,g.transferSystem.getTransferRecord({target_uid:(null===(e=this.transferUIData)||void 0===e?void 0:e.openType)==m.TransferOpenType.Friend&&null!==(n=null===(t=this.transferUIData.userInfo)||void 0===t?void 0:t.uid)&&void 0!==n?n:"",record_type:f.RecordType.All,page:1,size:100}).catch(function(){return null})];case 1:return 1==(i=a.sent()).status?(this.transferRecordList=null!==(o=i.record_list)&&void 0!==o?o:null,this.virtualNodes=[],null!==this.transferRecordList&&(this.virtualNodes=this.transferRecordList.map(function(){return null}),this.initParentHeight()),this.transferRecordItemParentNode.position=cc.v3(),this.updateList()):h.gg.panelRouter.show({panel:u.CommonPanelConfig.toastPanel,data:{text:d.i18n.getText("Transfer.recordFail")}}),[2]}})})},t.prototype.reset=function(){this.virtualNodes=[],this.transferRecordNodeArray=[];for(var e=this.transferRecordItemParentNode.childrenCount-1;e>=0;--e)this.transferRecordNodeArray.push(this.transferRecordItemParentNode.children[e]),this.transferRecordItemParentNode.children[e].active=!1;this.transferRecordItemParentNode.position=cc.v3(),this.transferRecordView.stopAutoScroll(),this.transferRecordView.scrollToTop()},t.prototype.initParentHeight=function(){var e=this.transferRecordList.length;this.transferRecordItemParentNode.height=this.paddingTop+this.transferRecordItem.height*e+this.spaceingY*e,this.transferRecordItemParentNode.height<this.transferRecordView.node.height&&(this.transferRecordItemParentNode.height=this.transferRecordView.node.height)},t.prototype.onPositionChanged=function(){var e=Date.now();e-this.lastTimer>100&&(this.lastTimer=e,this.updateList())},t.prototype.updateList=function(){for(var e=0;e<this.virtualNodes.length;++e){var t=this.virtualNodes[e];if(this.isVisable(e)){t||((t=this.transferRecordNodeArray.pop())||(t=cc.instantiate(this.transferRecordItem),this.transferRecordItemParentNode.addChild(t)),t.active=!0,this.virtualNodes[e]=t),t.position=this.getIndexPos(e);var n=t.getComponent(y.default);n.transferRecord=this.transferRecordList[e],n.updateUI()}else t&&(t.active=!1,this.transferRecordNodeArray.push(t)),this.virtualNodes[e]=null}},t.prototype.isVisable=function(e){var t=this.getIndexPos(e),n=-this.transferRecordItemParentNode.position.y+this.visableAreaMarginTop,o=n-this.visableAreaMarginTop-this.transferRecordView.node.height-this.visableAreaMarginBottom;return t.y+.5*this.transferRecordItem.height<=n&&t.y-.5*this.transferRecordItem.height>=o},t.prototype.getIndexPos=function(e){return cc.v3(0,-this.paddingTop-this.transferRecordItem.height*(e+.5)-e*this.spaceingY)},t.prototype.onCloseBtnClick=function(){h.gg.panelRouter.hide({panel:u.CommonPanelConfig.transferRecordPanel}),h.gg.audio.playOneShot(c.CommonAudioConfig.btnClose)},a([b({type:cc.ScrollView,tooltip:"\u4efb\u52a1\u5217\u8868"})],t.prototype,"transferRecordView",void 0),a([b({type:cc.Node,tooltip:"\u4efb\u52a1\u5217\u8868\u7236\u8282\u70b9"})],t.prototype,"transferRecordItemParentNode",void 0),a([b({type:cc.Node,tooltip:"\u4efb\u52a1item"})],t.prototype,"transferRecordItem",void 0),a([b({tooltip:"Item \u95f4\u9694\uff08px\uff09"})],t.prototype,"spaceingY",void 0),a([b({tooltip:"Item \u8ddd\u79bb\u4e0a\u8fb9\uff08px\uff09"})],t.prototype,"paddingTop",void 0),a([b({tooltip:"\u53ef\u89c6\u533a\u57df margin, \u8d1f\u6570\u4e3a\u5f80\u5916\u6269\u5c55"})],t.prototype,"visableAreaMarginTop",void 0),a([b({tooltip:"\u53ef\u89c6\u533a\u57df margin, \u8d1f\u6570\u4e3a\u5f80\u5916\u6269\u5c55"})],t.prototype,"visableAreaMarginBottom",void 0),a([v],t)}(p.default);n.default=S,cc._RF.pop()},{"../../../configs/CommonAudioConfig":"CommonAudioConfig","../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../framework/components/dialogstyle/MoveStyleDialogPanelV2":"MoveStyleDialogPanelV2","../../../framework/gg":"gg","../../../framework/i18n/I18n":"I18n","../../../systems/transfer/TransferProto":"TransferProto","../../../systems/transfer/TransferSystem":"TransferSystem","./TransferPanel":"TransferPanel","./TransferRecordItem":"TransferRecordItem"}],TransferSystem:[function(e,t,n){"use strict";cc._RF.push(t,"c9345ersUlGD4HYovBKF/sW","TransferSystem");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.transferSystem=void 0;var a=e("../../framework/gg"),r=e("../gamews/GameSocketSystem"),s=e("./TransferProto"),l=function(){function e(){}return e.prototype.getTransferTaxRate=function(){return o(this,void 0,Promise,function(){var e;return i(this,function(t){switch(t.label){case 0:return[4,r.gameSocketSystem.requestAsync({requestMsg:s.GiftProtoMsg.GetTransferTaxRateRequest,responseMsg:s.GiftProtoMsg.GetTransferTaxRateResponse})];case 1:return e=t.sent(),a.gg.logger.log("\u83b7\u53d6\u8f6c\u589e\u4fe1\u606f\uff08\u7a0e\u7387\u989d\u5ea6\u7b49\uff09--\x3e",e),[2,e]}})})},e.prototype.transferCoins=function(e){return o(this,void 0,Promise,function(){var t;return i(this,function(n){switch(n.label){case 0:return[4,r.gameSocketSystem.requestAsync({requestMsg:s.GiftProtoMsg.TransferCoinsRequest,requestData:e,responseMsg:s.GiftProtoMsg.TransferCoinsResponse})];case 1:return t=n.sent(),a.gg.logger.log("\u8d60\u9001\u7b79\u7801\u8fd4\u56de--\x3e",t),[2,t]}})})},e.prototype.getTransferRecord=function(e){return o(this,void 0,Promise,function(){var t;return i(this,function(n){switch(n.label){case 0:return[4,r.gameSocketSystem.requestAsync({requestMsg:s.GiftProtoMsg.GetTransferRecordRequest,requestData:e,responseMsg:s.GiftProtoMsg.GetTransferRecordResponse})];case 1:return t=n.sent(),a.gg.logger.log("\u8d60\u9001\u7b79\u7801\u8fd4\u56de--\x3e",t),[2,t]}})})},e.prototype.sendQualifyingRecord=function(e){return o(this,void 0,Promise,function(){var t;return i(this,function(n){switch(n.label){case 0:return[4,r.gameSocketSystem.requestAsync({requestMsg:s.GiftProtoMsg.SendItemRequest,requestData:e,responseMsg:s.GiftProtoMsg.SendItemResponse})];case 1:return t=n.sent(),a.gg.logger.log("\u8f6c\u8d60\u7269\u54c1--\x3e",t),[2,t]}})})},e}();n.transferSystem=new l,cc._RF.pop()},{"../../framework/gg":"gg","../gamews/GameSocketSystem":"GameSocketSystem","./TransferProto":"TransferProto"}],TransferUIEvent:[function(e,t,n){"use strict";cc._RF.push(t,"70cecO/2PBPkIeGik7/8vyO","TransferUIEvent"),Object.defineProperty(n,"__esModule",{value:!0}),n.TransferUIEvent=void 0,(n.TransferUIEvent||(n.TransferUIEvent={})).TransferSuccessEvent="TransferUIEvent.TransferSuccessEvent",cc._RF.pop()},{}],Tween:[function(e,t,n){"use strict";cc._RF.push(t,"6fdf6EdrnZEEbqcFbU5lZSX","Tween"),Object.defineProperty(n,"__esModule",{value:!0}),n.Tween=void 0;var o=e("./Pool"),i=e("./Browser"),a=e("./Utils"),r=function(){function e(){this.gid=0,this.repeat=1,this._count=0}return e.to=function(t,n,i,a,r,s,l,c){return void 0===a&&(a=null),void 0===r&&(r=null),void 0===s&&(s=0),void 0===l&&(l=!1),void 0===c&&(c=!0),o.Pool.getItemByClass("tween",e)._create(t,n,i,a,r,s,l,!0,c,!0)},e.from=function(t,n,i,a,r,s,l,c){return void 0===a&&(a=null),void 0===r&&(r=null),void 0===s&&(s=0),void 0===l&&(l=!1),void 0===c&&(c=!0),o.Pool.getItemByClass("tween",e)._create(t,n,i,a,r,s,l,!1,c,!0)},e.prototype.to=function(e,t,n,o,i,a,r){return void 0===o&&(o=null),void 0===i&&(i=null),void 0===a&&(a=0),void 0===r&&(r=!1),this._create(e,t,n,o,i,a,r,!0,!1,!0)},e.prototype.from=function(e,t,n,o,i,a,r){return void 0===o&&(o=null),void 0===i&&(i=null),void 0===a&&(a=0),void 0===r&&(r=!1),this._create(e,t,n,o,i,a,r,!1,!1,!0)},e.prototype._create=function(t,n,o,r,s,l,c,u,p,h){if(!t)throw new Error("Tween:target is null");this._target=t,this._duration=o,this._ease=r||n.ease||e.easeNone,this._complete=s||n.complete,this._delay=l,this._props=[],this._usedTimer=0,this._startTimer=i.Browser.now(),this._usedPool=p,this._delayParam=null,this.update=n.update;var d=t.$_GID||(t.$_GID=a.Utils.getGID());return e.tweenMap[d]?(c&&e.clearTween(t),e.tweenMap[d].push(this)):e.tweenMap[d]=[this],h?l<=0?this.firstStart(t,n,u):this._delayParam=[t,n,u]:this._initProps(t,n,u),this},e.prototype.firstStart=function(e,t,n){this._delayParam=null,e.destroyed?this.clear():(this._initProps(e,t,n),this._beginLoop())},e.prototype._initProps=function(e,t,n){for(var o in t)if("number"==typeof e[o]){var i=n?e[o]:t[o],a=n?t[o]:e[o];this._props.push([o,i,a-i]),n||(e[o]=i)}},e.prototype._beginLoop=function(){},e.prototype._doEase=function(){this._updateEase(i.Browser.now())},e.prototype._updateEase=function(t){var n=this._target;if(n){if(n.destroyed)return e.clearTween(n);var o=this._usedTimer=t-this._startTimer-this._delay;if(!(o<0)){if(o>=this._duration)return this.complete();for(var i=o>0?this._ease(o,0,1,this._duration):0,a=this._props,r=0,s=a.length;r<s;r++){var l=a[r];n[l[0]]=l[1]+i*l[2]}this.update&&this.update.run()}}},Object.defineProperty(e.prototype,"progress",{set:function(e){var t=e*this._duration;this._startTimer=i.Browser.now()-this._delay-t},enumerable:!1,configurable:!0}),e.prototype.complete=function(){if(this._target){for(var e=this._target,t=this._props,n=this._complete,o=0,i=t.length;o<i;o++){var a=t[o];e[a[0]]=a[1]+a[2]}this.update&&this.update.run(),this._count++,0!=this.repeat&&this._count>=this.repeat?(this.clear(),n&&n.run()):this.restart()}},e.prototype.pause=function(){var e;(e=i.Browser.now()-this._startTimer-this._delay)<0&&(this._usedTimer=e)},e.prototype.setStartTime=function(e){this._startTimer=e},e.clearAll=function(t){if(t&&t.$_GID){var n=e.tweenMap[t.$_GID];if(n){for(var o=0,i=n.length;o<i;o++)n[o]._clear();n.length=0}}},e.clear=function(e){e.clear()},e.clearTween=function(t){e.clearAll(t)},e.prototype.clear=function(){this._target&&(this._remove(),this._clear())},e.prototype._clear=function(){this.pause(),this._complete=null,this._target=null,this._ease=null,this._props=null,this._delayParam=null,this.repeat=1,this._usedPool&&(this.update=null,o.Pool.recover("tween",this))},e.prototype.recover=function(){this._usedPool=!0,this._clear()},e.prototype._remove=function(){var t=e.tweenMap[this._target.$_GID];if(t)for(var n=0,o=t.length;n<o;n++)if(t[n]===this){t.splice(n,1);break}},e.prototype.restart=function(){if(this.pause(),this._usedTimer=0,this._startTimer=i.Browser.now(),!this._delayParam)for(var e=this._props,t=0,n=e.length;t<n;t++){var o=e[t];this._target[o[0]]=o[1]}},e.prototype.resume=function(){this._usedTimer>=this._duration||(this._startTimer=i.Browser.now()-this._usedTimer-this._delay,this._delayParam?this._usedTimer<0||this.firstStart.apply(this,this._delayParam):this._beginLoop())},e.easeNone=function(e,t,n,o){return n*e/o+t},e.tweenMap=[],e}();n.Tween=r,cc._RF.pop()},{"./Browser":"Browser","./Pool":"Pool","./Utils":"Utils"}],TypeConversionUtil:[function(e,t,n){"use strict";cc._RF.push(t,"dc811R9/1BLG4NXd06In+qM","TypeConversionUtil"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.unit8ArrayToString=function(e){var t,n,o,i,a,r;for(t="",o=e.length,n=0;n<o;)switch((i=e[n++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t+=String.fromCharCode(i);break;case 12:case 13:a=e[n++],t+=String.fromCharCode((31&i)<<6|63&a);break;case 14:a=e[n++],r=e[n++],t+=String.fromCharCode((15&i)<<12|(63&a)<<6|(63&r)<<0)}return t},e.stringToArrayBuffer=function(e){for(var t=new ArrayBuffer(2*e.length),n=new Uint16Array(t),o=0,i=e.length;o<i;o++)n[o]=e.charCodeAt(o);return t},e.arrayBufferToString=function(e){return String.fromCharCode.apply(null,new Uint16Array(e))},e}();n.default=o,cc._RF.pop()},{}],Types:[function(e,t,n){"use strict";cc._RF.push(t,"1b63fbvBhVFBZjoifhGVDGu","Types"),Object.defineProperty(n,"__esModule",{value:!0}),n.AFInAppEventParameterName=n.AFInAppEventType=n.EventItem=n.BrowserType=n.OSType=n.PayConfig=n.ExChangeType=n.ExChangeStatus=n.ExchangeActType=n.Banks=n.RechargeWays=n.GameTag=n.GameCategoryType=n.VipAwardType=n.RankType=n.SMSCodeType=n.RechargeOpenType=n.RechargePayWay=n.ClientPlantform=n.GameClientMianMenu=n.PlantformFunction=n.RechargeChannels=n.UserRegWay=n.CodeMsg=n.E_LOTTERY_SCHEME=n.E_LOTTERY_AWARD_TYPE=n.E_GOODS_SWITCH_ATTRIBUTE_FLAG=n.E_GOODS_PRIZE_TYPE=n.E_GOODS_CATEGORY=n.E_PROP_SWITCH_ATTRIBUTE_FLAG=n.E_PROP_CATEGORY=n.E_PROP_ID_DEFINE=n.E_MODIFY_PW_TYPE=n.E_USER_IDENTITY_TYPE=n.E_VERIFY_TYPE=n.E_REG_TYPE=n.E_LOGIN_TYPE=n.UserRegOrigin=n.E_LOGIN_PLANTFORM=void 0,function(e){e[e.LPLAT_ANDROID=1]="LPLAT_ANDROID",e[e.LPLAT_IOS=2]="LPLAT_IOS",e[e.LPLAT_PC=3]="LPLAT_PC",e[e.LPLAT_WEB=4]="LPLAT_WEB"}(n.E_LOGIN_PLANTFORM||(n.E_LOGIN_PLANTFORM={})),function(e){e[e.U3D_IPhone=1]="U3D_IPhone",e[e.U3D_Android=2]="U3D_Android",e[e.H5_Web_PC=3]="H5_Web_PC",e[e.H5_Web_IPhone=4]="H5_Web_IPhone",e[e.H5_Web_Android=5]="H5_Web_Android",e[e.H5_App_IPhone=6]="H5_App_IPhone",e[e.H5_App_Android=7]="H5_App_Android"}(n.UserRegOrigin||(n.UserRegOrigin={})),function(e){e[e.EN_LOGIN_TYPE_ACCOUNT=0]="EN_LOGIN_TYPE_ACCOUNT",e[e.EN_LOGIN_TYPE_QUICK=1]="EN_LOGIN_TYPE_QUICK",e[e.ELOGIN_TYPE_MOBILE=2]="ELOGIN_TYPE_MOBILE",e[e.ELOGIN_TYPE_QQ=3]="ELOGIN_TYPE_QQ",e[e.ELOGIN_TYPE_Wechat=4]="ELOGIN_TYPE_Wechat",e[e.ELOGIN_TYPE_Channel=6]="ELOGIN_TYPE_Channel",e[e.ELOGIN_TYPE_FACEBOOK=8]="ELOGIN_TYPE_FACEBOOK",e[e.ELOGIN_TYPE_GOOGLE=9]="ELOGIN_TYPE_GOOGLE",e[e.ELOGIN_TYPE_METAMASK=10]="ELOGIN_TYPE_METAMASK"}(n.E_LOGIN_TYPE||(n.E_LOGIN_TYPE={})),function(e){e[e.REG_TYPE_USER=1]="REG_TYPE_USER",e[e.REG_TYPE_PHONE=2]="REG_TYPE_PHONE",e[e.REG_TYPE_MacQuick=3]="REG_TYPE_MacQuick",e[e.REG_TYPE_QQ=4]="REG_TYPE_QQ",e[e.REG_TYPE_Wechat=5]="REG_TYPE_Wechat"}(n.E_REG_TYPE||(n.E_REG_TYPE={})),function(e){e[e.VERIFY_TYPE_NONE=0]="VERIFY_TYPE_NONE",e[e.VERIFY_TYPE_SMS=1]="VERIFY_TYPE_SMS",e[e.VERIFY_TYPE_IMAGE=2]="VERIFY_TYPE_IMAGE",e[e.VERIFY_TYPE_TIME=3]="VERIFY_TYPE_TIME"}(n.E_VERIFY_TYPE||(n.E_VERIFY_TYPE={})),function(e){e[e.EUSER_TYPE_NORMAL=0]="EUSER_TYPE_NORMAL",e[e.EUSER_TYPE_TESTERS=1]="EUSER_TYPE_TESTERS",e[e.EUSER_TYPE_GameManager=2]="EUSER_TYPE_GameManager"}(n.E_USER_IDENTITY_TYPE||(n.E_USER_IDENTITY_TYPE={})),function(e){e[e.UT_MODIFY_LOGIN_PW=0]="UT_MODIFY_LOGIN_PW",e[e.UT_MODIFY_BANK_PW=1]="UT_MODIFY_BANK_PW",e[e.UT_MODIFY_BOTH_PW=2]="UT_MODIFY_BOTH_PW"}(n.E_MODIFY_PW_TYPE||(n.E_MODIFY_PW_TYPE={})),function(e){e[e.PROPID_BIG_BROADCAST=1001]="PROPID_BIG_BROADCAST"}(n.E_PROP_ID_DEFINE||(n.E_PROP_ID_DEFINE={})),function(e){e[e.PropCate_InteractAnimation=1]="PropCate_InteractAnimation",e[e.PropCate_Message=2]="PropCate_Message",e[e.PropCate_PhotoFrame=3]="PropCate_PhotoFrame"}(n.E_PROP_CATEGORY||(n.E_PROP_CATEGORY={})),function(e){e[e.PROP_SWITCHATTR_Hot=1]="PROP_SWITCHATTR_Hot",e[e.PROP_SWITCHATTR_New=2]="PROP_SWITCHATTR_New",e[e.PROP_SWITCHATTR_Recome=4]="PROP_SWITCHATTR_Recome",e[e.PROP_SWITCHATTR_Transfer=8]="PROP_SWITCHATTR_Transfer",e[e.PROP_SWITCHATTR_BackpackShow=16]="PROP_SWITCHATTR_BackpackShow",e[e.PROP_SWITCHATTR_Use=32]="PROP_SWITCHATTR_Use"}(n.E_PROP_SWITCH_ATTRIBUTE_FLAG||(n.E_PROP_SWITCH_ATTRIBUTE_FLAG={})),function(e){e[e.GoodsCate_Prop=1]="GoodsCate_Prop",e[e.GoodsCate_Gb=2]="GoodsCate_Gb"}(n.E_GOODS_CATEGORY||(n.E_GOODS_CATEGORY={})),function(e){e[e.GOODS_PRIZETYPE_Gb=1]="GOODS_PRIZETYPE_Gb",e[e.GOODS_PRIZETYPE_Diamond=2]="GOODS_PRIZETYPE_Diamond",e[e.GOODS_PRIZETYPE_Prop=3]="GOODS_PRIZETYPE_Prop"}(n.E_GOODS_PRIZE_TYPE||(n.E_GOODS_PRIZE_TYPE={})),function(e){e[e.GOODS_SWITCHATTR_Hot=1]="GOODS_SWITCHATTR_Hot",e[e.GOODS_SWITCHATTR_New=2]="GOODS_SWITCHATTR_New",e[e.GOODS_SWITCHATTR_Recome=4]="GOODS_SWITCHATTR_Recome",e[e.GOODS_SWITCHATTR_Transfer=8]="GOODS_SWITCHATTR_Transfer",e[e.GOODS_SWITCHATTR_BackpackShow=16]="GOODS_SWITCHATTR_BackpackShow",e[e.GOODS_SWITCHATTR_ShopBuy=32]="GOODS_SWITCHATTR_ShopBuy",e[e.GOODS_SWITCHATTR_Real=64]="GOODS_SWITCHATTR_Real",e[e.GOODS_SWITCHATTR_Use=128]="GOODS_SWITCHATTR_Use"}(n.E_GOODS_SWITCH_ATTRIBUTE_FLAG||(n.E_GOODS_SWITCH_ATTRIBUTE_FLAG={})),function(e){e[e.LOTTERY_AWARDTYPE_None=0]="LOTTERY_AWARDTYPE_None",e[e.LOTTERY_AWARDTYPE_Gb=1]="LOTTERY_AWARDTYPE_Gb",e[e.LOTTERY_AWARDTYPE_Diamond=2]="LOTTERY_AWARDTYPE_Diamond",e[e.LOTTERY_AWARDTYPE_Prop=3]="LOTTERY_AWARDTYPE_Prop",e[e.LOTTERY_AWARDTYPE_Number=4]="LOTTERY_AWARDTYPE_Number"}(n.E_LOTTERY_AWARD_TYPE||(n.E_LOTTERY_AWARD_TYPE={})),function(e){e[e.LOTTERY_SCHEME_LuckyEveryDay=1]="LOTTERY_SCHEME_LuckyEveryDay",e[e.LOTTERY_SCHEME_ENGLISH_SIGN=2]="LOTTERY_SCHEME_ENGLISH_SIGN"}(n.E_LOTTERY_SCHEME||(n.E_LOTTERY_SCHEME={})),function(e){e[e.Success=0]="Success",e[e.Fail=-1]="Fail",e[e.SignError=-1001]="SignError",e[e.ParamsError=-1002]="ParamsError",e[e.NoData=-1003]="NoData",e[e.Exception=-1004]="Exception"}(n.CodeMsg||(n.CodeMsg={})),function(e){e[e.User=1]="User",e[e.Phone=2]="Phone",e[e.MacQuick=3]="MacQuick",e[e.QQ=4]="QQ",e[e.Wechat=5]="Wechat"}(n.UserRegWay||(n.UserRegWay={})),function(e){e[e.ApplePay=1]="ApplePay",e[e.GrabPay=2]="GrabPay",e[e.Paypal=3]="Paypal",e[e.Bank=4]="Bank",e[e.PH_GCash=1001]="PH_GCash",e[e.PH_MAYA=1002]="PH_MAYA",e[e.BX_PIX=2001]="BX_PIX",e[e.YN_OVO=3001]="YN_OVO",e[e.YN_QRIS=3002]="YN_QRIS",e[e.YN_DANA=3003]="YN_DANA"}(n.RechargeChannels||(n.RechargeChannels={})),function(e){e[e.LogOutput=1]="LogOutput",e[e.GameHorn=2]="GameHorn",e[e.PhoneVerif=3]="PhoneVerif",e[e.WxShare=4]="WxShare",e[e.Promoter=5]="Promoter",e[e.Activity=6]="Activity",e[e.MargeGameCategory=7]="MargeGameCategory"}(n.PlantformFunction||(n.PlantformFunction={})),function(e){e[e.Recharge=0]="Recharge",e[e.Shop=1]="Shop",e[e.Bank=2]="Bank",e[e.Backpack=3]="Backpack",e[e.Rank=4]="Rank",e[e.Chat=5]="Chat",e[e.Feedback=6]="Feedback",e[e.Mail=7]="Mail",e[e.CustomService=8]="CustomService",e[e.Setting=9]="Setting",e[e.Share=10]="Share"}(n.GameClientMianMenu||(n.GameClientMianMenu={})),function(e){e[e.Android=1]="Android",e[e.IOS=2]="IOS",e[e.PC=3]="PC",e[e.H5=4]="H5"}(n.ClientPlantform||(n.ClientPlantform={})),function(e){e[e.WECHAT_APP=1]="WECHAT_APP",e[e.ALIPAY_APP=2]="ALIPAY_APP",e[e.WECHAT_H5=3]="WECHAT_H5",e[e.ALIPAY_H5=4]="ALIPAY_H5"}(n.RechargePayWay||(n.RechargePayWay={})),function(e){e[e.App=1]="App",e[e.H5=2]="H5"}(n.RechargeOpenType||(n.RechargeOpenType={})),function(e){e[e.BindPhone=1]="BindPhone",e[e.FindPassword=2]="FindPassword",e[e.PhoneRegUser=3]="PhoneRegUser",e[e.ManagerLogin=4]="ManagerLogin",e[e.BindWallet=5]="BindWallet",e[e.BindBank=6]="BindBank",e[e.BindPIX=7]="BindPIX",e[e.NewPhoneLogin=8]="NewPhoneLogin",e[e.ModifyRegisterPhone=9]="ModifyRegisterPhone"}(n.SMSCodeType||(n.SMSCodeType={})),function(e){e[e.GbMoney=1]="GbMoney",e[e.WinGb=2]="WinGb",e[e.Vip=3]="Vip"}(n.RankType||(n.RankType={})),function(e){e[e.Gb=1]="Gb",e[e.Prop=2]="Prop"}(n.VipAwardType||(n.VipAwardType={})),function(e){e[e.TYPE_NONE=0]="TYPE_NONE",e[e.TYPE_CARD=1]="TYPE_CARD",e[e.TYPE_FISH=2]="TYPE_FISH",e[e.TYPE_BET=3]="TYPE_BET",e[e.TYPE_HUNDERD=4]="TYPE_HUNDERD"}(n.GameCategoryType||(n.GameCategoryType={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.HOT=1]="HOT",e[e.NEW=2]="NEW",e[e.RECOMMENDATION=3]="RECOMMENDATION"}(n.GameTag||(n.GameTag={})),function(e){e[e.OfficalPay=1]="OfficalPay",e[e.ApplePay=1001]="ApplePay",e[e.PaypalPay=2001]="PaypalPay",e[e.SafePay=3001]="SafePay",e[e.BCPay=3002]="BCPay",e[e.WOWPay=3003]="WOWPay",e[e.TopPay=3004]="TopPay",e[e.MetaPay=3005]="MetaPay",e[e.TPPay=3006]="TPPay",e[e.OMOPay=3007]="OMOPay"}(n.RechargeWays||(n.RechargeWays={})),function(e){e[e.YN_BCA=1001]="YN_BCA",e[e.YN_Mandiri=1002]="YN_Mandiri",e[e.YN_BNI=1003]="YN_BNI",e[e.YN_BRI=1004]="YN_BRI",e[e.YN_Permata=1005]="YN_Permata",e[e.YN_Danamon=1006]="YN_Danamon",e[e.YN_Maybank=1007]="YN_Maybank",e[e.YN_CIMB=1008]="YN_CIMB",e[e.PH_BPI=2001]="PH_BPI",e[e.PH_BDO=2002]="PH_BDO",e[e.PH_UnionBank=2003]="PH_UnionBank",e[e.PH_RCBC=2004]="PH_RCBC"}(n.Banks||(n.Banks={})),function(e){e[e.Bank=4]="Bank"}(n.ExchangeActType||(n.ExchangeActType={})),function(e){e[e.PendingReview=0]="PendingReview",e[e.Done=1]="Done",e[e.Return=2]="Return",e[e.Freeze=3]="Freeze",e[e.PassReview=4]="PassReview",e[e.PaymentHandle=5]="PaymentHandle",e[e.PaymentNotify=6]="PaymentNotify",e[e.PaymentFail=7]="PaymentFail",e[e.PaymentDone=8]="PaymentDone"}(n.ExChangeStatus||(n.ExChangeStatus={})),function(e){e[e.Wallet=1]="Wallet",e[e.Promet=2]="Promet"}(n.ExChangeType||(n.ExChangeType={}));var o=function(){function e(){}return e.PayValue=new Map([[1,"Offical"],[2,"GrabPay"],[3,"Paypal"],[4,"Bank"],[1001,"GCash"],[1002,"MAYA"],[1003,"QRPH"],[2001,"PIX"],[3001,"OVO"],[3002,"QRIS"],[3003,"DANA"]]),e.BankValue=new Map([[1001,"BCA"],[1002,"Mandiri"],[1003,"BNI"],[1004,"BRI"],[1005,"Permata"],[1006,"Danamon"],[1007,"Maybank"],[1008,"CIMB"],[2001,"BPI"],[2002,"BDO"],[2003,"UnionBank"],[2004,"RCBC"]]),e.WalletType=new Map([["GCash","1001"],["MAYA","1002"],["PIX","2001"],["OVO","3001"],["DANA","3003"]]),e}();n.PayConfig=o,function(e){e[e.ANDROID=1]="ANDROID",e[e.IOS=2]="IOS",e[e.WINDOWS=3]="WINDOWS",e[e.MACOS=4]="MACOS",e[e.OTHER=5]="OTHER"}(n.OSType||(n.OSType={})),function(e){e[e.KONG=0]="KONG",e[e.SAFIRE=1]="SAFIRE",e[e.CHROME=2]="CHROME",e[e.OPERA=3]="OPERA",e[e.FIREFOX=4]="FIREFOX",e[e.OTHER=5]="OTHER"}(n.BrowserType||(n.BrowserType={}));n.EventItem=function(e,t){this.key=e,this.value=t},function(e){e.COMPLETE_REGISTRATION="af_complete_registration",e.LOGIN="af_login",e.PURCHASE="af_purchase",e.LEVEL_ACHIEVED="af_level_achieved",e.ADD_PAYMENT_INFO="af_add_payment_info",e.ADD_TO_CART="af_add_to_cart",e.ADD_TO_WISH_LIST="af_add_to_wishlist",e.TUTORIAL_COMPLETION="af_tutorial_completion",e.INITIATED_CHECKOUT="af_initiated_checkout",e.RATE="af_rate",e.SEARCH="af_search",e.SPENT_CREDIT="af_spent_credits",e.ACHIEVEMENT_UNLOCKED="af_achievement_unlocked",e.CONTENT_VIEW="af_content_view",e.TRAVEL_BOOKING="af_travel_booking",e.SHARE="af_share",e.INVITE="af_invite",e.RE_ENGAGE="af_re_engage",e.UPDATE="af_update",e.OPENED_FROM_PUSH_NOTIFICATION="af_opened_from_push_notification",e.LOCATION_CHANGED="af_location_changed",e.LOCATION_COORDINATES="af_location_coordinates",e.ORDER_ID="af_order_id",e.CUSTOMER_SEGMENT="af_customer_segment",e.LIST_VIEW="af_list_view",e.SUBSCRIBE="af_subscribe",e.START_TRIAL="af_start_trial",e.AD_CLICK="af_ad_click",e.AD_VIEW="af_ad_view"}(n.AFInAppEventType||(n.AFInAppEventType={})),function(e){e.REGSITRATION_METHOD="af_registration_method",e.LEVEL="af_level",e.SCORE="af_score",e.SUCCESS="af_success",e.PRICE="af_price",e.CONTENT_TYPE="af_content_type",e.CONTENT_ID="af_content_id",e.CONTENT_LIST="af_content_list",e.CURRENCY="af_currency",e.QUANTITY="af_quantity",e.PAYMENT_INFO_AVAILIBLE="af_payment_info_available",e.MAX_RATING_VALUE="af_max_rating_value",e.RATING_VALUE="af_rating_value",e.SEARCH_STRING="af_search_string",e.DATE_A="af_date_a",e.DATE_B="af_date_b",e.DESTINATION_A="af_destination_a",e.DESTINATION_B="af_destination_b",e.DESCRIPTION="af_description",e.CLASS="af_class",e.EVENT_START="af_event_start",e.EVENT_END="af_event_end",e.LATITUDE="af_lat",e.LONGTITUDE="af_long",e.CUSTOMER_USER_ID="af_customer_user_id",e.VALIDATED="af_validated",e.REVENUE="af_revenue",e.PROJECTED_REVENUE="af_projected_revenue",e.RECEIPT_ID="af_receipt_id",e.TUTORIAL_ID="af_tutorial_id",e.ACHIEVEMENT_ID="af_achievement_id",e.VIRTUAL_CURRENCY_NAME="af_virtual_currency_name",e.DEEP_LINK="af_deep_link",e.OLD_VERSION="af_old_version",e.NEW_VERSION="af_new_version",e.REVIEW_TEXT="af_review_text",e.COUPON_CODE="af_coupon_code",e.PARAM_1="af_param_1",e.PARAM_2="af_param_2",e.PARAM_3="af_param_3",e.PARAM_4="af_param_4",e.PARAM_5="af_param_5",e.PARAM_6="af_param_6",e.PARAM_7="af_param_7",e.PARAM_8="af_param_8",e.PARAM_9="af_param_9",e.PARAM_10="af_param_10",e.ORDER_ID="af_order_id",e.DEPARTING_DEPARTURE_DATE="af_departing_departure_date",e.RETURNING_DEPARTURE_DATE="af_returning_departure_date",e.DESTINATION_LIST="af_destination_list",e.CITY="af_city",e.REGION="af_region",e.COUNTRY="af_country",e.DEPARTING_ARRIVAL_DATE="af_departing_arrival_date",e.RETURNING_ARRIVAL_DATE="af_returning_arrival_date",e.SUGGESTED_DESTINATIONS="af_suggested_destinations",e.TRAVEL_START="af_travel_start",e.TRAVEL_END="af_travel_end",e.NUM_ADULTS="af_num_adults",e.NUM_CHILDREN="af_num_children",e.NUM_INFANTS="af_num_infants",e.SUGGESTED_HOTELS="af_suggested_hotels",e.USER_SCORE="af_user_score",e.HOTEL_SCORE="af_hotel_score",e.PURCHASE_CURRENCY="af_purchase_currency",e.PREFERRED_STAR_RATINGS="af_preferred_star_ratings",e.PREFERRED_PRICE_RANGE="af_preferred_price_range",e.PREFERRED_NEIGHBORHOODS="af_preferred_neighborhoods",e.PREFERRED_NUM_STOPS="af_preferred_num_stops",e.TOUCH_OBJ="af_touch_obj",e.AF_CHANNEL="af_channel",e.CONTENT="af_content",e.AD_REVENUE_AD_TYPE="af_adrev_ad_type",e.AD_REVENUE_NETWORK_NAME="af_adrev_network_name",e.AD_REVENUE_PLACEMENT_ID="af_adrev_placement_id",e.AD_REVENUE_AD_SIZE="af_adrev_ad_size",e.AD_REVENUE_MEDIATED_NETWORK_NAME="af_adrev_mediated_network_name"}(n.AFInAppEventParameterName||(n.AFInAppEventParameterName={})),cc._RF.pop()},{}],URL:[function(e,t,n){"use strict";cc._RF.push(t,"b58ce14uS1MS5PdKFZaY8zs","URL"),Object.defineProperty(n,"__esModule",{value:!0}),n.URL=void 0;var o=e("../utils/Utils"),i=function(){function e(t){this._url=e.formatURL(t),this._path=e.getPath(t)}return e.__init__=function(){e.rootPath=e.basePath=location&&null!=location.protocol&&""!=location.protocol?e.getPath(location.protocol+"//"+location.host+location.pathname):""},e.initMiniGameExtensionOverrides=function(){e.overrideExtension(["rendertexture","videotexture"],"rt.json"),e.overrideExtension(["controller"],"controller.json"),e.overrideExtension(["mc"],"mc.bin"),e.overrideExtension(["mcc"],"mcc.json"),e.overrideExtension(["shader"],"shader.json"),e.overrideExtension(["scene3d","scene","taa","prefab"],"json"),e.overrideExtension(["fui"],"fui.json"),e.overrideExtension(["glsl"],"glsl.txt"),e.overrideExtension(["skel"],"skel.bin")},Object.defineProperty(e.prototype,"url",{get:function(){return this._url},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._path},enumerable:!1,configurable:!0}),e.formatURL=function(t,n){if(!t)return n||e.basePath||"";if(t.startsWith("res://"))return t.substring(6),t;var o=t.charCodeAt(0);if(-1==t.indexOf(":")&&47!==o){null!=e.customFormat&&(t=e.customFormat(t));var i=e.version[t];if(null!=i){var a=t.lastIndexOf(".");t=t.substring(0,a)+"-"+i+t.substring(a)}if(126===o)t=e.join(e.rootPath,t.substring(2));else{if(null==n)for(var r in n=e.basePath,e.basePaths)if(t.startsWith(r)){n=e.basePaths[r];break}t=e.join(n,t)}}return t},e.postFormatURL=function(t){if(e.hasExtOverrides){var n=o.Utils.getFileExtension(t),i=e.overrideFileExts[n];null!=i&&(t=o.Utils.replaceFileExtension(t,i))}return t},e.normalize=function(e){if(-1==e.indexOf("./"))return e;for(var t=e.split("/"),n=t.length,o=0;o<n;)if("."!=t[o]){if(".."==t[o]){var i=o-1;if(i>=0&&".."!==t[i]){t.splice(i,2),n-=2,o--;continue}}o++}else t.splice(o,1),n--;return t.length=n,t.join("/")},e.getResURLByUUID=function(e){return e.length>=36&&45===e.charCodeAt(8)&&45===e.charCodeAt(13)?"res://"+e:e},e.join=function(t,n){if(!n)return"";if(n.indexOf(":")>0)return n;if(t){var o=n.charCodeAt(0);126!==o&&47!==o&&(n=47!==t.charCodeAt(t.length-1)?t+"/"+n:t+n)}return e.normalize(n)},e.getPath=function(e){var t=e.lastIndexOf("/");return t>0?e.substring(0,t+1):""},e.getFileName=function(e){var t=e.lastIndexOf("/");return t>0?e.substring(t+1):e},e.getURLVerion=function(e){var t=e.indexOf("?");return t>=0?e.substring(t):null},e.overrideExtension=function(t,n){for(var o=0,i=t;o<i.length;o++){var a=i[o];e.overrideFileExts[a]=n}e.hasExtOverrides=!0},e.version={},e.basePath="",e.basePaths={},e.rootPath="",e.overrideFileExts={},e.customFormat=function(e){return e},e}();n.URL=i,cc._RF.pop()},{"../utils/Utils":"Utils"}],UUID:[function(e,t,n){"use strict";cc._RF.push(t,"9c60aAyerRNOqFBboRwzu2+","UUID"),Object.defineProperty(n,"__esModule",{value:!0}),n.UUID=void 0;var o=function(){function e(){}return e.v4=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},e}();n.UUID=o,cc._RF.pop()},{}],UserDesignPrefab:[function(e,t,n){"use strict";cc._RF.push(t,"bd79cPtcexD0JGDa1C2lbrh","UserDesignPrefab");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../../../configs/CommonPanelConfig"),s=e("../../../../framework/gg"),l=e("../../../../systems/analysis/AnalysisEvent"),c=e("../../../../systems/analysis/AnalysisWrapper"),u=e("../../../../systems/item/CommonItemConfig"),p=e("../../../../systems/item/ItemSystem"),h=e("../../../../systems/user/UserSystem"),d=e("../uiSystems/UserInfoUIEvent"),f=cc._decorator,g=f.ccclass,m=f.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iconSprite=null,t.spine=null,t.dragon=null,t.itemId="",t.localItemInfo=null,t.playerInfoType=null,t.itemScale={avatar_frame:.5,chat_bubble:.45,baloot_card:.6,baloot_bg:.45,ludo_chessboard:.5,ludo_dice:1,game_gift:1},t}return i(t,e),t.prototype.onLoad=function(){this.onHideUI()},t.prototype.onEnable=function(){s.gg.eventManager.on(d.UserInfoUIEvent.ShowDressUpComponentsEvent,this.onShowUI,this),s.gg.eventManager.on(d.UserInfoUIEvent.ShowBigGiftComponentsEvent,this.onHideUI,this)},t.prototype.onDisable=function(){s.gg.eventManager.offTarget(this)},t.prototype.onShowUI=function(){var e;(null===(e=this.playerInfoType)||void 0===e?void 0:e.qurey_uid)===h.userSystem.userModel.uid&&this.playerInfoType.isRevise&&(this.node.getComponent(cc.Button).interactable=!0)},t.prototype.onHideUI=function(){this.node.getComponent(cc.Button).interactable=!1},t.prototype.updateUI=function(e,t){var n=this;if(this.playerInfoType=t,this.playerInfoType.qurey_uid===h.userSystem.userModel.uid&&this.playerInfoType.isRevise?this.node.getComponent(cc.Button).interactable=!0:this.node.getComponent(cc.Button).interactable=!1,e!==this.itemId){if(this.itemId=e,this.localItemInfo=p.itemSystem.getItem(this.itemId),null==this.localItemInfo)return;p.itemSystem.getItemIconInfo(this.itemId).then(function(e){null!=e&&(n.iconSprite.node.active=!1,n.dragon.node.active=!1,n.spine.node.active=!1,e.iconType===u.IconType.Image?(n.iconSprite.spriteFrame=e.spriteFrame,n.iconSprite.node.active=!0):e.iconType===u.IconType.Dragon?(n.dragon.node.active=!0,n.dragon.dragonAsset=e.dragonAsset,n.dragon.dragonAtlasAsset=e.dragonAtlasAsset,n.dragon.armatureName="armatureName",n.dragon.playAnimation("animation",0)):e.iconType===u.IconType.Spine&&(n.spine.skeletonData=e.spineData,n.spine.node.active=!0,n.spine.setAnimation(0,"animation",!0)),n.itemScale[n.localItemInfo.item_type]?(n.iconSprite.node.scale=n.itemScale[n.localItemInfo.item_type],n.dragon.node.scale=n.itemScale[n.localItemInfo.item_type],n.spine.node.scale=n.itemScale[n.localItemInfo.item_type]):(n.iconSprite.node.scale=1,n.dragon.node.scale=1,n.spine.node.scale=1))})}},t.prototype.onClickOpenPackage=function(){var e;c.analysis.logEvent(l.AnalysisEvent.BagUserInfoClick),(null===(e=this.playerInfoType)||void 0===e?void 0:e.qurey_uid)===h.userSystem.userModel.uid&&this.playerInfoType.isRevise&&s.gg.panelRouter.show({panel:r.CommonPanelConfig.packagePanel,data:{localItemInfo:this.localItemInfo}})},a([m({type:cc.Sprite,tooltip:"\u9053\u5177\u56fe\u6807"})],t.prototype,"iconSprite",void 0),a([m({type:sp.Skeleton,tooltip:"\u9053\u5177spine"})],t.prototype,"spine",void 0),a([m({type:dragonBones.ArmatureDisplay,tooltip:"\u9053\u5177dragon"})],t.prototype,"dragon",void 0),a([g],t)}(cc.Component);n.default=y,cc._RF.pop()},{"../../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../../framework/gg":"gg","../../../../systems/analysis/AnalysisEvent":"AnalysisEvent","../../../../systems/analysis/AnalysisWrapper":"AnalysisWrapper","../../../../systems/item/CommonItemConfig":"CommonItemConfig","../../../../systems/item/ItemSystem":"ItemSystem","../../../../systems/user/UserSystem":"UserSystem","../uiSystems/UserInfoUIEvent":"UserInfoUIEvent"}],UserEvent:[function(e,t,n){"use strict";cc._RF.push(t,"87962LeWjtBfad9Yw+YeEQZ","UserEvent"),Object.defineProperty(n,"__esModule",{value:!0}),n.UserEvent=void 0,function(e){e.OnUserIconChanged="UserEvent.OnUserIconChanged",e.OnUserIconFrameChanged="UserEvent.OnUserIconFrameChanged",e.OnUserNameChanged="UserEvent.OnUserNameChanged",e.OnUserGenderChanged="UserEvent.OnUserGenderChanged",e.OnUserLevelChanged="UserEvent.OnUserLevelChanged",e.OnUserDesignChanged="UserEvent.OnUserDesignChanged",e.OnUserHeartChanged="UserEvent.OnUserHeartChanged",e.OnUserVipExpired="UserEvent.OnUserVipExpired",e.OnUserVipUpdate="UserEvent.OnUserVipUpdate"}(n.UserEvent||(n.UserEvent={})),cc._RF.pop()},{}],UserIconStyle1Component:[function(e,t,n){"use strict";cc._RF.push(t,"a376aIbIQNJG4U8r5hLqH1l","UserIconStyle1Component");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var u=l(e("../framework/components/adapter/SpriteScaleAdapterComponent")),p=c(e("../framework/utils/StringUtils")),h=e("../systems/user/UserUISystem"),d=cc._decorator,f=d.ccclass,g=d.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iconSprite=null,t._enableUpdateIcon="",t}return i(t,e),t.prototype.initCom=function(){},t.prototype.updateIcon=function(e){var t=this;void 0===e&&(e=null),this.iconSprite.spriteFrame=h.userUISystem.getUserDefaultEmptyIcon(),this.iconSprite.getComponent(u.default).updateSprite(u.SpriteScaleType.SUIT,u.SpriteAlignType.CENTER),this._enableUpdateIcon=e,!p.default.isEmpty(e)&&this.iconSprite&&h.userUISystem.loadUserIconSprite(e).then(function(n){t.isValid&&t._enableUpdateIcon==e&&t.iconSprite&&(t.iconSprite.spriteFrame=n,t.iconSprite.getComponent(u.default).updateSprite(u.SpriteScaleType.SUIT,u.SpriteAlignType.CENTER))}).catch(function(){t.iconSprite.spriteFrame=h.userUISystem.getUserDefaultIcon()})},s([g({type:cc.Sprite,tooltip:"\u7528\u6237\u5934\u50cf"})],t.prototype,"iconSprite",void 0),s([f],t)}(cc.Component);n.default=m,cc._RF.pop()},{"../framework/components/adapter/SpriteScaleAdapterComponent":"SpriteScaleAdapterComponent","../framework/utils/StringUtils":"StringUtils","../systems/user/UserUISystem":"UserUISystem"}],UserIconStyle2Component:[function(e,t,n){"use strict";cc._RF.push(t,"dfba6pehIVIfLHagY8c14Z4","UserIconStyle2Component");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var u=l(e("../framework/components/adapter/SpriteScaleAdapterComponent")),p=c(e("../framework/utils/StringUtils")),h=e("../systems/user/UserUISystem"),d=cc._decorator,f=d.ccclass,g=d.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iconSprite=null,t._enableUpdateIcon=!1,t}return i(t,e),t.prototype.updateIcon=function(e){var t=this;void 0===e&&(e=null),p.default.isEmpty(e)?(this._enableUpdateIcon=!1,this.iconSprite.spriteFrame=h.userUISystem.getUserDefaultEmptyIcon(),this.iconSprite.getComponent(u.default).updateSprite(u.SpriteScaleType.SUIT,u.SpriteAlignType.CENTER)):(this._enableUpdateIcon=!0,h.userUISystem.loadUserIconSprite(e).then(function(e){t.isValid&&t._enableUpdateIcon&&(t.iconSprite.spriteFrame=e,t.iconSprite.getComponent(u.default).updateSprite(u.SpriteScaleType.SUIT,u.SpriteAlignType.CENTER))}).catch(function(){}))},s([g({type:cc.Sprite,tooltip:"\u7528\u6237\u5934\u50cf"})],t.prototype,"iconSprite",void 0),s([f],t)}(cc.Component);n.default=m,cc._RF.pop()},{"../framework/components/adapter/SpriteScaleAdapterComponent":"SpriteScaleAdapterComponent","../framework/utils/StringUtils":"StringUtils","../systems/user/UserUISystem":"UserUISystem"}],UserInfoComponent:[function(e,t,n){"use strict";cc._RF.push(t,"6b9e8KJonlKRLyOIcCzleri","UserInfoComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=e("../configs/CommonPanelConfig"),u=e("../framework/gg"),p=l(e("../prefabs/panels/vipDetail/VIPDetailModel")),h=e("../systems/analysis/AnalysisEvent"),d=e("../systems/analysis/AnalysisWrapper"),f=e("../systems/api/gameapi/PayApiModels"),g=e("../systems/login/LoginProto"),m=e("../systems/user/UserEvent"),y=e("../systems/user/UserSystem"),_=e("../systems/user/UserUISystem"),v=l(e("./GradeStarComponent")),b=l(e("./UserIconStyle1Component")),S=cc._decorator,C=S.ccclass,I=S.property,R=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.userIdLabel=null,t.userNameLabel=null,t.userIconComp=null,t.levelLab=null,t.bar=null,t.gradeStarComponent=null,t.vipSpine=null,t.vipSprite=null,t.notVipNode=null,t}return i(t,e),t.prototype.onLoad=function(){this.vipSpine.node.active=!1,this.vipSprite.active=!1,this.notVipNode.active=!1},t.prototype.onEnable=function(){this._updateUserId(),this._onUserNameChanged(),this._onUserGenderChanged(),this._onUserIconChanged(),this._onUserIconFrameChanged(),this._updataUserLevel(),this._updataUserGrade(),this._updataUserVip(),u.gg.eventManager.on(m.UserEvent.OnUserNameChanged,this._onUserNameChanged,this),u.gg.eventManager.on(m.UserEvent.OnUserGenderChanged,this._onUserGenderChanged,this),u.gg.eventManager.on(m.UserEvent.OnUserIconChanged,this._onUserIconChanged,this),u.gg.eventManager.on(m.UserEvent.OnUserIconFrameChanged,this._onUserIconFrameChanged,this),u.gg.eventManager.on(m.UserEvent.OnUserLevelChanged,this._updataUserLevel,this),u.gg.eventManager.on(m.UserEvent.OnUserVipUpdate,this._updataUserVip,this)},t.prototype._updataUserVip=function(){var e;return r(this,void 0,void 0,function(){var t;return s(this,function(n){switch(n.label){case 0:return(null===(e=y.userSystem.userModel)||void 0===e?void 0:e.vipInfo)?0!=y.userSystem.userModel.vipInfo.vip_level||y.userSystem.userModel.vipInfo.vip_status!=g.VipStatusType.Inactivated?[3,1]:(this.vipSpine.node.active=!1,this.notVipNode.active=!0,[3,3]):[3,4];case 1:return this.notVipNode.active=!1,this.vipSprite.active=!1,0==y.userSystem.userModel.vipInfo.vip_level&&y.userSystem.userModel.vipInfo.vip_status==g.VipStatusType.Activation&&(this.vipSprite.active=!0),[4,_.userUISystem.loadUserVipSpine(y.userSystem.userModel.vipInfo.vip_level,y.userSystem.userModel.vipInfo.vip_status)];case 2:(t=n.sent())&&(this.vipSpine.skeletonData=t.spineData,this.vipSpine.setAnimation(0,t.animName,!0)),this.vipSpine.node.active=!0,n.label=3;case 3:return[3,5];case 4:this.notVipNode.active=!0,this.vipSpine.node.active=!1,n.label=5;case 5:return[2]}})})},t.prototype._updataUserGrade=function(){var e,t,n,o;(null===(e=y.userSystem.userModel)||void 0===e?void 0:e.grade)&&0!=(null===(t=y.userSystem.userModel)||void 0===t?void 0:t.grade)?(this.gradeStarComponent.parent.active=!0,this.gradeStarComponent.getComponent(v.default).updateStarUI(null===(n=y.userSystem.userModel)||void 0===n?void 0:n.star,null===(o=y.userSystem.userModel)||void 0===o?void 0:o.grade)):this.gradeStarComponent.parent.active=!1},t.prototype.onDisable=function(){u.gg.eventManager.offTarget(this)},t.prototype._updataUserLevel=function(){this.levelLab.string="Lv."+y.userSystem.userModel.level,0===y.userSystem.userModel.nextLevelExp?this.bar.fillRange=0:this.bar.fillRange=y.userSystem.userModel.exp/y.userSystem.userModel.nextLevelExp},t.prototype._updateUserId=function(){var e,t;this.userIdLabel&&(this.userIdLabel.string=null!==(t=null===(e=y.userSystem.userModel)||void 0===e?void 0:e.uid)&&void 0!==t?t:"")},t.prototype._onUserNameChanged=function(){var e,t;this.userNameLabel.string=null!==(t=null===(e=y.userSystem.userModel)||void 0===e?void 0:e.userNameFormat)&&void 0!==t?t:""},t.prototype._onUserGenderChanged=function(){},t.prototype._onUserIconChanged=function(){this.userIconComp.getComponent(b.default).updateIcon(y.userSystem.userModel.userIcon)},t.prototype._onUserIconFrameChanged=function(){this.userIconComp.getComponent(b.default).updateIconFrame(y.userSystem.userModel.userIconFrame)},t.prototype.onClickDetailVip=function(){d.analysis.logEvent(h.AnalysisEvent.VipLobbyUserinfoDetailsClick),p.default.ShowDetailPanel()},t.prototype.onClickVip=function(){d.analysis.logEvent(h.AnalysisEvent.VipLobbyUserinfoJoinClick),u.gg.panelRouter.show({panel:c.CommonPanelConfig.storePanel,data:{type:f.GoodsTypeEnum.VIP}})},a([I({type:cc.Label,tooltip:"\u7528\u6237id"})],t.prototype,"userIdLabel",void 0),a([I({type:cc.Label,tooltip:"\u7528\u6237\u540d\u5b57"})],t.prototype,"userNameLabel",void 0),a([I({type:cc.Node,tooltip:"\u73a9\u5bb6\u5934\u50cf\u6837\u5f0f1"})],t.prototype,"userIconComp",void 0),a([I({type:cc.Label,tooltip:"level"})],t.prototype,"levelLab",void 0),a([I({type:cc.Sprite,tooltip:"\u4e0b\u4e00\u7b49\u7ea7\u5f53\u524d\u7ecf\u9a8c\u503c"})],t.prototype,"bar",void 0),a([I({type:cc.Node,tooltip:"\u7528\u6237\u6bb5\u4f4d\u661f\u661f\u4e2a\u6570\u5e03\u5c40"})],t.prototype,"gradeStarComponent",void 0),a([I({type:sp.Skeleton,tooltip:"\u7528\u6237vipspine"})],t.prototype,"vipSpine",void 0),a([I({type:cc.Node,tooltip:"\u7528\u6237vip0\u56fe\u6807"})],t.prototype,"vipSprite",void 0),a([I({type:cc.Node,tooltip:"\u7528\u6237\u4e0d\u662fvip\u6309\u94ae"})],t.prototype,"notVipNode",void 0),a([C],t)}(cc.Component);n.default=R,cc._RF.pop()},{"../configs/CommonPanelConfig":"CommonPanelConfig","../framework/gg":"gg","../prefabs/panels/vipDetail/VIPDetailModel":"VIPDetailModel","../systems/analysis/AnalysisEvent":"AnalysisEvent","../systems/analysis/AnalysisWrapper":"AnalysisWrapper","../systems/api/gameapi/PayApiModels":"PayApiModels","../systems/login/LoginProto":"LoginProto","../systems/user/UserEvent":"UserEvent","../systems/user/UserSystem":"UserSystem","../systems/user/UserUISystem":"UserUISystem","./GradeStarComponent":"GradeStarComponent","./UserIconStyle1Component":"UserIconStyle1Component"}],UserInfoLevelComponent:[function(e,t,n){"use strict";cc._RF.push(t,"b9e80DY61JAYoA214c7l1Oe","UserInfoLevelComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../../../systems/user/UserSystem"),s=cc._decorator,l=s.ccclass,c=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.levelLab=null,t.expLab=null,t.bar=null,t.levelProNode=null,t}return i(t,e),t.prototype.onShowUI=function(e){this.node.opacity=255,this.levelProNode.active=!1,e.uid===r.userSystem.userModel.uid&&(this.levelProNode.active=!0),this.levelLab.string="Lv."+e.level,this.expLab.string=e.exp+"/"+e.next_level_exp,this.bar.fillRange=e.exp/e.next_level_exp},a([c({type:cc.Label,tooltip:"level"})],t.prototype,"levelLab",void 0),a([c({type:cc.Label,tooltip:"\u5f53\u524d\u7ecf\u9a8c\u503c/\u4e0b\u4e00\u7b49\u7ea7\u5f53\u524d\u7ecf\u9a8c\u503c"})],t.prototype,"expLab",void 0),a([c({type:cc.Sprite,tooltip:"\u4e0b\u4e00\u7b49\u7ea7\u5f53\u524d\u7ecf\u9a8c\u503c"})],t.prototype,"bar",void 0),a([c({type:cc.Node,tooltip:"\u4e0b\u4e00\u7b49\u7ea7\u5f53\u524d\u7ecf\u9a8c\u503c"})],t.prototype,"levelProNode",void 0),a([l],t)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../../systems/user/UserSystem":"UserSystem"}],UserInfoPanel:[function(e,t,n){"use strict";cc._RF.push(t,"049f32+XTRMR5VVG7PoyYBZ","UserInfoPanel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.InfoUIType=void 0;var c,u=e("../../../configs/CommonAudioConfig"),p=l(e("../../../../../main/scripts/framework/components/dialogstyle/MoveStyleDialogPanelV2")),h=e("../../../framework/gg"),d=e("../../../configs/CommonPanelConfig"),f=e("../../../framework/i18n/I18n"),g=e("../../../systems/im/IMWordVerifySystem"),m=e("../../../systems/user/UserSystem"),y=l(e("./components/InformationComponent")),_=l(e("./components/RecordComponent")),v=cc._decorator,b=v.ccclass,S=v.property;(function(e){e.Information="information",e.Record="record"})(c=n.InfoUIType||(n.InfoUIType={}));var C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.informationChooseNode=null,t.shieldNode=null,t.recordChooseNode=null,t.informationComponent=null,t.recordComponent=null,t.playerInfoType=null,t.infoUIType=c.Information,t}return i(t,e),t.prototype.show=function(e){this.playerInfoType=e.data,this.shieldNode.active=!(this.playerInfoType.qurey_uid==m.userSystem.userModel.uid||this.playerInfoType.player_id==m.userSystem.userModel.playerId),this.updateUI(),this._playShowAnim(function(){e.onShowed()})},t.prototype.hide=function(e){this._playHideAnim(function(){e.onHided()})},t.prototype.onCloseBtnClick=function(){h.gg.panelRouter.hide({panel:d.CommonPanelConfig.userInfoPanel}),h.gg.audio.playOneShot(u.CommonAudioConfig.btnClose)},t.prototype.onClicInformation=function(){this.infoUIType!=c.Information&&(this.infoUIType=c.Information,this.updateUI())},t.prototype.onClicRecord=function(){this.infoUIType!=c.Record&&(this.infoUIType=c.Record,this.updateUI())},t.prototype.onClicShield=function(){var e=this;h.gg.panelRouter.show({panel:d.CommonPanelConfig.alertPanel,data:{titleLabel:f.i18n.getText("alert.title.tips"),msgLabel:f.i18n.getText("toast.shieldTip"),showCancelBtn:!0,showConfirmBtn:!0,onConfirmBtnClick:function(){e.sendShield(),h.gg.panelRouter.hide({panel:d.CommonPanelConfig.alertPanel})},onCancelBtnClick:function(){h.gg.panelRouter.hide({panel:d.CommonPanelConfig.alertPanel})}}})},t.prototype.onDisable=function(){this.recordComponent.reset()},t.prototype.updateUI=function(){switch(this.informationChooseNode.active=!1,this.recordChooseNode.active=!1,this.informationComponent.node.active=!1,this.recordComponent.node.active=!1,this.infoUIType){case c.Information:this.informationComponent.node.active=!0,this.informationChooseNode.active=!0,this.informationComponent.updateUI(this.playerInfoType);break;case c.Record:this.recordComponent.node.active=!0,this.recordChooseNode.active=!0,this.recordComponent.updateUI(this.playerInfoType)}},t.prototype.sendShield=function(){var e;return r(this,void 0,void 0,function(){var t,n;return s(this,function(o){switch(o.label){case 0:return[4,g.iMWordVerifySystem.addToChatBlacklist({uid:null!==(e=this.playerInfoType.qurey_uid)&&void 0!==e?e:""})];case 1:return t=o.sent(),n="toast.shieldFail",1==t.status&&(n="toast.shieldSuccess"),h.gg.panelRouter.show({panel:d.CommonPanelConfig.toastPanel,data:{text:f.i18n.getText(n)}}),[2]}})})},a([S({type:cc.Node,tooltip:"\u8d44\u6599\u9009\u4e2d\u8282\u70b9"})],t.prototype,"informationChooseNode",void 0),a([S({type:cc.Node,tooltip:"\u5c4f\u853d\u4e16\u754c\u804a\u5929\u6309\u94ae"})],t.prototype,"shieldNode",void 0),a([S({type:cc.Node,tooltip:"\u6218\u7ee9\u9009\u4e2d\u8282\u70b9"})],t.prototype,"recordChooseNode",void 0),a([S({type:y.default,tooltip:"\u7528\u6237\u8d44\u6599\u7ec4\u4ef6"})],t.prototype,"informationComponent",void 0),a([S({type:_.default,tooltip:"\u7528\u6237\u6218\u7ee9\u7ec4\u4ef6"})],t.prototype,"recordComponent",void 0),a([b],t)}(p.default);n.default=C,cc._RF.pop()},{"../../../../../main/scripts/framework/components/dialogstyle/MoveStyleDialogPanelV2":"MoveStyleDialogPanelV2","../../../configs/CommonAudioConfig":"CommonAudioConfig","../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../framework/gg":"gg","../../../framework/i18n/I18n":"I18n","../../../systems/im/IMWordVerifySystem":"IMWordVerifySystem","../../../systems/user/UserSystem":"UserSystem","./components/InformationComponent":"InformationComponent","./components/RecordComponent":"RecordComponent"}],UserInfoRevisePanel:[function(e,t,n){"use strict";cc._RF.push(t,"b56b4cpSvpCQZSDGJdXJMQO","UserInfoRevisePanel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=e("../../../../../../main/scripts/configs/CommonAudioConfig"),u=e("../../../../../../main/scripts/configs/CommonPanelConfig"),p=l(e("../../../../../../main/scripts/framework/components/dialogstyle/MoveStyleDialogPanelV1")),h=e("../../../../../../main/scripts/framework/gg"),d=e("../../../../../../main/scripts/framework/i18n/I18n"),f=e("../../../../../../main/scripts/systems/user/UserSystem"),g=e("../uiSystems/UserInfoUIEvent"),m=l(e("./ReviseUserHeadCompontent")),y=cc._decorator,_=y.ccclass,v=y.property,b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.userHeadLay=null,t.userHeadItem=null,t.userNameEdit=null,t.headIndex="",t.userHeadLength=10,t}return i(t,e),t.prototype.show=function(e){this._playShowAnim(function(){e.onShowed()})},t.prototype.onEnable=function(){this.headIndex=f.userSystem.userModel.userIcon,this.updateUserAllHead(),h.gg.eventManager.on(g.UserInfoUIEvent.UserInfoChooseHeadEvent,this.onReviseChooseUserHead,this)},t.prototype.onDisable=function(){h.gg.eventManager.offTarget(this)},t.prototype.hide=function(e){this._playHideAnim(function(){e.onHided()})},t.prototype.updateUserAllHead=function(){if(this.userHeadLay.childrenCount>1)for(var e=0,t=this.userHeadLay.children;e<t.length;e++)t[e].getComponent(m.default).changeUserHeadChoose();else{this.userHeadLay.removeAllChildren();for(var n=0;n<this.userHeadLength;n++){var o=cc.instantiate(this.userHeadItem);this.userHeadLay.addChild(o),o.getComponent(m.default).onShowHead(n+1)}}},t.prototype.onReviseChooseUserHead=function(e){this.headIndex=String(e)},t.prototype.onCloseBtnClick=function(){h.gg.panelRouter.hide({panel:u.CommonPanelConfig.userInfoRevisePanel}),h.gg.audio.playOneShot(c.CommonAudioConfig.btnClose)},t.prototype.onModifyBtnClick=function(){return r(this,void 0,void 0,function(){var e,t;return s(this,function(n){switch(n.label){case 0:return null!==(e=this.userNameEdit.string)&&0!==e.length||(e=f.userSystem.userModel.userName),e===f.userSystem.userModel.userName&&this.headIndex===f.userSystem.userModel.userIcon?(h.gg.panelRouter.hide({panel:u.CommonPanelConfig.userInfoRevisePanel}),[2]):[4,h.gg.panelRouter.showAsync({panel:u.CommonPanelConfig.loadingPanel})];case 1:return n.sent(),[4,f.userSystem.modifyUserInfo({nick:e,gender:f.userSystem.userModel.gender,facelook:this.headIndex,frame:f.userSystem.userModel.userIconFrame})];case 2:return t=n.sent(),[4,h.gg.panelRouter.hideAsync({panel:u.CommonPanelConfig.loadingPanel})];case 3:return n.sent(),h.gg.panelRouter.show({panel:u.CommonPanelConfig.toastPanel,data:{text:""+(t?d.i18n.getText("lobby.userInfo.revision.success"):d.i18n.getText("lobby.userInfo.revision.fail"))}}),h.gg.panelRouter.hide({panel:u.CommonPanelConfig.userInfoRevisePanel}),[2]}})})},a([v({type:cc.Node,tooltip:"\u9ed8\u8ba4\u5934\u50cf\u7236\u8282\u70b9"})],t.prototype,"userHeadLay",void 0),a([v({type:cc.Node,tooltip:"\u9ed8\u8ba4\u53ef\u9009\u5934\u50cfitem"})],t.prototype,"userHeadItem",void 0),a([v({type:cc.EditBox,tooltip:"\u7528\u6237\u6635\u79f0\u8f93\u5165\u6846"})],t.prototype,"userNameEdit",void 0),a([_],t)}(p.default);n.default=b,cc._RF.pop()},{"../../../../../../main/scripts/configs/CommonAudioConfig":"CommonAudioConfig","../../../../../../main/scripts/configs/CommonPanelConfig":"CommonPanelConfig","../../../../../../main/scripts/framework/components/dialogstyle/MoveStyleDialogPanelV1":"MoveStyleDialogPanelV1","../../../../../../main/scripts/framework/gg":"gg","../../../../../../main/scripts/framework/i18n/I18n":"I18n","../../../../../../main/scripts/systems/user/UserSystem":"UserSystem","../uiSystems/UserInfoUIEvent":"UserInfoUIEvent","./ReviseUserHeadCompontent":"ReviseUserHeadCompontent"}],UserInfoUIEvent:[function(e,t,n){"use strict";cc._RF.push(t,"afbb2v03RdPbrM/QTB/B9cP","UserInfoUIEvent"),Object.defineProperty(n,"__esModule",{value:!0}),n.UserInfoUIEvent=void 0,function(e){e.ShowBigGiftComponentsEvent="UserInfoUIEvent.ShowBigGiftComponentsEvent",e.ShowDressUpComponentsEvent="UserInfoUIEvent.ShowDressUpComponentsEvent",e.UserInfoChooseHeadEvent="UserInfoUIEvent.UserInfoChooseHeadEvent"}(n.UserInfoUIEvent||(n.UserInfoUIEvent={})),cc._RF.pop()},{}],UserModel:[function(e,t,n){"use strict";cc._RF.push(t,"45963P2n7VK5KpR93gUQO1w","UserModel");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.UserModel=void 0;var i=o(e("../../framework/utils/StringUtils")),a=function(){function e(){}return Object.defineProperty(e.prototype,"userNameFormat",{get:function(){return i.default.clampStr(this.userName)},enumerable:!1,configurable:!0}),e}();n.UserModel=a,cc._RF.pop()},{"../../framework/utils/StringUtils":"StringUtils"}],UserProto:[function(e,t,n){"use strict";cc._RF.push(t,"86cc1h9615Na42kqLIUu7D5","UserProto"),Object.defineProperty(n,"__esModule",{value:!0}),n.UpdateType=n.UserProtoMsg=void 0,function(e){e.UserInfoModifyRequest="UserInfoModifyRequest",e.UserInfoModifyResponse="UserInfoModifyResponse",e.PlayerBalanceUpdateBroadCast="PlayerBalanceUpdateBroadCast",e.PlayerExpUpdateBroadCast="PlayerExpUpdateBroadCast",e.SearchUserRequest="SearchUserRequest",e.SearchUserResponse="SearchUserResponse",e.HeartUpdateBroadCast="HeartUpdateBroadCast",e.VipInfoUpdateBroadCast="VipInfoUpdateBroadCast"}(n.UserProtoMsg||(n.UserProtoMsg={})),function(e){e[e.Activation=1]="Activation",e[e.Renewal=2]="Renewal",e[e.Upgrade=3]="Upgrade"}(n.UpdateType||(n.UpdateType={})),cc._RF.pop()},{}],UserSystem:[function(e,t,n){"use strict";cc._RF.push(t,"86b79aTMaJAeLKNbcBUkW0m","UserSystem");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.userSystem=void 0;var a=e("../../framework/gg"),r=e("../api/gameapi/GameApiModels"),s=e("../gamews/GameSocketSystem"),l=e("../gamews/WebSocketResponseCode"),c=e("../item/ItemSystem"),u=e("../login/LoginEvent"),p=e("./UserEvent"),h=e("./UserProto"),d=function(){function e(){this.otherUserCaches=new Map,this.timeInterval=null}return e.prototype.enable=function(){this.initUserDesignList(),a.gg.eventManager.on(u.LoginEvent.OnUserKickOut,this._onUserOut,this),a.gg.eventManager.on(u.LoginEvent.OnUserLogout,this._onUserOut,this),a.gg.eventManager.on(u.LoginEvent.OnUserLostConnection,this._onUserOut,this),s.gameSocketSystem.on(h.UserProtoMsg.PlayerExpUpdateBroadCast,this._PlayerExpUpdateBroadCast,this),s.gameSocketSystem.on(h.UserProtoMsg.HeartUpdateBroadCast,this._HeartUpdateBroadCast,this),this.clearOtherUserCaches()},e.prototype.disable=function(){a.gg.eventManager.offTarget(this),s.gameSocketSystem.offTarget(this),this.resutUserModel(),this.initUserDesignList(),this.otherUserCaches.clear(),clearInterval(this.timeInterval)},e.prototype.clearOtherUserCaches=function(){var e=this;this.timeInterval&&clearInterval(this.timeInterval),this.timeInterval=setInterval(function(){e.otherUserCaches.clear()},36e5)},e.prototype.resutUserModel=function(){this.userModel.userToken="",this.userModel.playerId=0,this.userModel.uid="",this.userModel.userName="",this.userModel.userIcon="1",this.userModel.userIconFrame="1010000",this.userModel.phone="",this.userModel.isPlaying=!1,this.userModel.isFirstLogin=!1,this.userModel.loginDay=1,this.userModel.isOfficeAccount=!1,this.userModel.isBlockAccount=!1,this.userModel.isReturnPlayer=!1,this.userModel.isfirstrecharge=!1,this.userModel.level=0,this.userModel.exp=0,this.userModel.nextLevelExp=0,this.userModel.fashion=0,this.userModel.charm=0},e.prototype._onUserOut=function(){this.disable()},e.prototype._PlayerExpUpdateBroadCast=function(e){this.userModel.level=e.level,this.userModel.exp=e.exp,this.userModel.nextLevelExp=e.next_level_exp,a.gg.eventManager.emit(p.UserEvent.OnUserLevelChanged)},e.prototype._HeartUpdateBroadCast=function(e){this.userModel.heart=e.heart,a.gg.eventManager.emit(p.UserEvent.OnUserHeartChanged)},e.prototype.initUserDesignList=function(){this.userModel.balootCar="1030000",this.userModel.balootBg="1040000",this.userModel.ludoChessboard="1050000",this.userModel.ludoDice="1060000",this.userModel.chatBubble="1020000"},e.prototype.updataUserDesignList=function(e){for(var t=0,n=e;t<n.length;t++){var o=n[t],i=c.itemSystem.getItem(o);if(i)switch(i.item_type){case r.ItemType.avatarFrame:this.userModel.userIconFrame=o;break;case r.ItemType.balootCard:this.userModel.balootCar=o;break;case r.ItemType.balootBg:this.userModel.balootBg=o;break;case r.ItemType.ludoChessboard:this.userModel.ludoChessboard=o;break;case r.ItemType.ludoDice:this.userModel.ludoDice=o;break;case r.ItemType.chatBubble:this.userModel.chatBubble=o}}},e.prototype.updataUserDesign=function(e,t){switch(e){case r.ItemType.avatarFrame:this.userModel.userIconFrame=t,a.gg.eventManager.emit(p.UserEvent.OnUserIconFrameChanged);break;case r.ItemType.balootCard:this.userModel.balootCar=t;break;case r.ItemType.balootBg:this.userModel.balootBg=t;break;case r.ItemType.ludoChessboard:this.userModel.ludoChessboard=t;break;case r.ItemType.ludoDice:this.userModel.ludoDice=t;break;case r.ItemType.chatBubble:this.userModel.chatBubble=t}a.gg.eventManager.emit(p.UserEvent.OnUserDesignChanged,t)},e.prototype.modifyUserInfo=function(e){return o(this,void 0,Promise,function(){var t;return i(this,function(n){switch(n.label){case 0:return[4,s.gameSocketSystem.requestAsync({requestMsg:h.UserProtoMsg.UserInfoModifyRequest,requestData:e,responseMsg:h.UserProtoMsg.UserInfoModifyResponse})];case 1:return(t=n.sent())&&1==t.status?(null!=e.facelook&&(this.userModel.userIcon=e.facelook,a.gg.eventManager.emit(p.UserEvent.OnUserIconChanged)),null!=e.gender&&(this.userModel.gender=e.gender,a.gg.eventManager.emit(p.UserEvent.OnUserGenderChanged)),null!=e.nick&&(this.userModel.userName=e.nick,a.gg.eventManager.emit(p.UserEvent.OnUserNameChanged)),[2,!0]):(a.gg.logger.error("\u8bf7\u6c42\u4fee\u6539\u7528\u6237\u4fe1\u606f\u5931\u8d25",t),[2,!1])}})})},e.prototype.searchUserAsync=function(e){return o(this,void 0,Promise,function(){var t;return i(this,function(n){switch(n.label){case 0:return[4,s.gameSocketSystem.requestAsync({requestMsg:h.UserProtoMsg.SearchUserRequest,requestData:e,responseMsg:h.UserProtoMsg.SearchUserResponse})];case 1:return(null==(t=n.sent())?void 0:t.status)==l.WebSocketResponseCode.GamePlayerNotFound?a.gg.logger.warn("\u67e5\u627e\u7528\u6237id "+e.uid+" \u5931\u8d25\uff0c\u6ca1\u6709\u627e\u5230"):1!=(null==t?void 0:t.status)&&a.gg.logger.error("\u67e5\u627e\u7528\u6237id "+e.uid+" \u5931\u8d25\uff0c\u672a\u77e5\u5f02\u5e38"),1==(null==t?void 0:t.status)&&this.otherUserCaches.set(t.user.uid,t.user),[2,t]}})})},e}();n.userSystem=new d,cc._RF.pop()},{"../../framework/gg":"gg","../api/gameapi/GameApiModels":"GameApiModels","../gamews/GameSocketSystem":"GameSocketSystem","../gamews/WebSocketResponseCode":"WebSocketResponseCode","../item/ItemSystem":"ItemSystem","../login/LoginEvent":"LoginEvent","./UserEvent":"UserEvent","./UserProto":"UserProto"}],UserUISystem:[function(e,t,n){"use strict";cc._RF.push(t,"4a96fnl2JJM17h65wgh3EPg","UserUISystem");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.userUISystem=void 0;var r=e("../../configs/BundleConfig"),s=a(e("../../framework/asset/AssetLoader")),l=e("../../framework/gg"),c=e("../item/CommonItemConfig"),u=e("../item/ItemSystem"),p=e("../login/LoginProto"),h=function(){function e(){this._userIconResPathPrefix="resources/textures/user/icon",this._userIconFrameResPathPrefix="resources/textures/item/design/frame",this._userGradeResPathPrefix="resources/textures/user/grade",this._userVipResPathPrefix="resources/textures/user/vip"}return e.prototype.loadUserIconSprite=function(e){return o(this,void 0,Promise,function(){var t;return i(this,function(n){switch(n.label){case 0:return t=null,e.startsWith("http")?[4,s.default.loadTextureFromRemote(e)]:[3,2];case 1:return t=n.sent(),[3,4];case 2:return[4,s.default.loadBundleAsset(this._userIconResPathPrefix+"/"+e,cc.Texture2D)];case 3:t=n.sent(),n.label=4;case 4:return null!=t?[3,6]:[4,s.default.loadBundleAsset(this._userIconResPathPrefix+"/1",cc.Texture2D)];case 5:t=n.sent(),n.label=6;case 6:return t.packable=!1,[2,new cc.SpriteFrame(t)]}})})},e.prototype.testUserIcon=function(e){return o(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,s.default.loadSpriteFrameFromRemote(e)];case 1:return[2,t.sent()]}})})},e.prototype.loadUserIconFrameSprite=function(e){return o(this,void 0,Promise,function(){var t,n,o;return i(this,function(i){switch(i.label){case 0:return(t=u.itemSystem.getItem(e))?t.item_icon_type!==c.IconType.Image?[3,2]:[4,s.default.loadBundleAsset(r.BundleConfig.Resources+"/textures/item/design/frame/"+t.item_asset_name,cc.SpriteFrame)]:[3,4];case 1:return n=i.sent(),[2,{frameType:c.IconType.Image,spriteFrame:n}];case 2:return t.item_icon_type!==c.IconType.Spine?[3,4]:[4,s.default.loadBundleAsset(r.BundleConfig.Resources+"/textures/item/design/frame/"+t.item_asset_name,sp.SkeletonData)];case 3:return o=i.sent(),[2,{frameType:c.IconType.Spine,spine:o}];case 4:return l.gg.logger.warn("\u52a0\u8f7d\u5934\u50cf\u6846\u5931\u8d25\uff0c\u5c06\u91c7\u7528\u9ed8\u8ba4\u5934\u50cf\u6846"),[2,{frameType:c.IconType.Image,spriteFrame:this.getUserDefaultIconFrame()}]}})})},e.prototype.getUserDefaultEmptyIcon=function(){return s.default.getBundleAsset(this._userIconResPathPrefix+"/0",cc.SpriteFrame)},e.prototype.getUserDefaultIcon=function(){return s.default.getBundleAsset(this._userIconResPathPrefix+"/1",cc.SpriteFrame)},e.prototype.getUserDefaultIconFrame=function(){return s.default.getBundleAsset(this._userIconFrameResPathPrefix+"/Prop_lobby_head_default",cc.SpriteFrame)},e.prototype.init=function(){s.default.preloadBundleAsset(this._userIconResPathPrefix+"/0",cc.SpriteFrame),s.default.preloadBundleAsset(this._userIconResPathPrefix+"/1",cc.SpriteFrame),s.default.preloadBundleAsset(this._userIconFrameResPathPrefix+"/Prop_lobby_head_default",cc.SpriteFrame)},e.prototype.getQualifyingGrade=function(e){var t=[],n=Math.floor(e/10),o=e%10;return t.push(n),t.push(o),t},e.prototype.loadUserGrade=function(e){return o(this,void 0,Promise,function(){var t,n,o,a,r,c,u,p;return i(this,function(i){switch(i.label){case 0:return t=this.getQualifyingGrade(e),n=7,o=2,a=[],t&&t[0]&&t[1]&&(n=t[0],o=t[1]),n<1||n>7||o<0||o>5?(l.gg.logger.log("\u6bb5\u4f4d\u5339\u914d\u4fe1\u606f\u51fa\u73b0\u4e0d\u5b58\u5728\u7684\u6bb5\u4f4d\u6570\u636e-------",e),[2,null]):(r=a,c=0,[4,s.default.loadBundleAsset(this._userGradeResPathPrefix+"/grade_"+n,cc.SpriteFrame)]);case 1:return r[c]=i.sent(),u=a,p=1,[4,s.default.loadBundleAsset(this._userGradeResPathPrefix+"/stage_"+o,cc.SpriteFrame)];case 2:return u[p]=i.sent(),[2,a]}})})},e.prototype.loadUserVipIcon=function(e,t){return o(this,void 0,Promise,function(){var n;return i(this,function(o){switch(o.label){case 0:return n=e+"_",e<0||0==e&&t==p.VipStatusType.Inactivated?(l.gg.logger.log("vip\u7b49\u7ea7icon\u51fa\u9519-------",n),[2,null]):(e>10&&(n="10_"),n+=t,[4,s.default.loadBundleAsset(this._userVipResPathPrefix+"/vip_"+n,cc.SpriteFrame)]);case 1:return[2,o.sent()]}})})},e.prototype.loadUserVipSpine=function(e,t){return o(this,void 0,Promise,function(){var n,o,a;return i(this,function(i){switch(i.label){case 0:return n={},o=r.BundleConfig.Resources+"/textures/vip/spine/vipLevel/vipgrade_",e<1?(n=null,[2]):(o=e>=1&&e<=3?o+"1/vipgrade_1":e>=4&&e<=6?o+"4/vipgrade_4":e>=7&&e<=9?o+"7/vipgrade_7":o+"10/vipgrade_10",n.animName=t?"idle_"+e:"gray_"+e,[4,s.default.loadBundleAsset(o,sp.SkeletonData)]);case 1:return a=i.sent(),n.spineData=a,[2,n]}})})},e}();n.userUISystem=new h,cc._RF.pop()},{"../../configs/BundleConfig":"BundleConfig","../../framework/asset/AssetLoader":"AssetLoader","../../framework/gg":"gg","../item/CommonItemConfig":"CommonItemConfig","../item/ItemSystem":"ItemSystem","../login/LoginProto":"LoginProto"}],UserWalletEvent:[function(e,t,n){"use strict";cc._RF.push(t,"1395c3B/ZtMt4254/pXmR8c","UserWalletEvent"),Object.defineProperty(n,"__esModule",{value:!0}),n.UserWalletEvent=void 0,(n.UserWalletEvent||(n.UserWalletEvent={})).OnBalanceChanged="UserWalletEvent.OnBalanceChanged",cc._RF.pop()},{}],UserWalletModel:[function(e,t,n){"use strict";cc._RF.push(t,"a2c45Q6NcNKeZlFLYTonu/m","UserWalletModel"),Object.defineProperty(n,"__esModule",{value:!0}),n.UserWalletModel=void 0;n.UserWalletModel=function(){},cc._RF.pop()},{}],UserWalletSystem:[function(e,t,n){"use strict";cc._RF.push(t,"8c9f1W4vR5J3p0e5Y3b2rfx","UserWalletSystem");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.userWalletSystem=void 0;var i=e("../../framework/gg"),a=o(e("../../framework/models/Stack")),r=e("../gamews/GameSocketSystem"),s=e("../login/LoginEvent"),l=e("./UserProto"),c=e("./UserWalletEvent"),u=function(){function e(){this._coinConsumeRecord=new a.default,this._diamondConsumeRecord=new a.default}return e.prototype.enable=function(){i.gg.eventManager.on(s.LoginEvent.OnUserKickOut,this._onUserOut,this),i.gg.eventManager.on(s.LoginEvent.OnUserLogout,this._onUserOut,this),i.gg.eventManager.on(s.LoginEvent.OnUserLostConnection,this._onUserOut,this),r.gameSocketSystem.on(l.UserProtoMsg.PlayerBalanceUpdateBroadCast,this._onPlayerBalanceUpdateBroadCast,this)},e.prototype.disable=function(){r.gameSocketSystem.offTarget(this),i.gg.eventManager.offTarget(this),this.wallet=null},e.prototype._onUserOut=function(){this.disable()},e.prototype._onPlayerBalanceUpdateBroadCast=function(e){null!=this.wallet?(null!=e.bonus&&(this.wallet.bonus=e.bonus),null!=e.deposit&&(this.wallet.deposit=e.deposit),null!=e.winning&&(this.wallet.winning=e.winning),null!=e.diamond_bonus&&(this.wallet.diamondBonus=e.diamond_bonus),null!=e.diamond_deposit&&(this.wallet.diamondDeposit=e.diamond_deposit),this.resetCoinConsumeRecord(),this.resetDiamondConsumeRecord(),i.gg.eventManager.emit(c.UserWalletEvent.OnBalanceChanged)):i.gg.logger.warn("\u5f53\u524d\u7528\u6237\u4fe1\u606f\u4e3a\u7a7a")},Object.defineProperty(e.prototype,"coinBalance",{get:function(){var e,t,n;return(null===(e=this.wallet)||void 0===e?void 0:e.bonus)+(null===(t=this.wallet)||void 0===t?void 0:t.deposit)+(null===(n=this.wallet)||void 0===n?void 0:n.winning)},enumerable:!1,configurable:!0}),e.prototype.consumeCoin=function(e){if(e<=0)return!1;var t=0,n=0,o=0,a=e;return a>0&&(a-=t=this.wallet.bonus>a?a:this.wallet.bonus),a>0&&(a-=n=this.wallet.deposit>a?a:this.wallet.deposit),a>0&&(a-=o=this.wallet.winning>a?a:this.wallet.winning),!(a>0||(this.wallet.bonus-=t,this.wallet.deposit-=n,this.wallet.winning-=o,this._coinConsumeRecord.push({bonusConsumeCount:t,depositConsumeCount:n,winnerConsumeCount:o}),i.gg.eventManager.emit(c.UserWalletEvent.OnBalanceChanged),0))},e.prototype.undoComsumeCoin=function(){var e=this._coinConsumeRecord.pop();return null!=e&&(this.wallet.bonus+=e.bonusConsumeCount,this.wallet.deposit+=e.depositConsumeCount,this.wallet.winning+=e.winnerConsumeCount,i.gg.eventManager.emit(c.UserWalletEvent.OnBalanceChanged),!0)},e.prototype.undoConsumeAllCoin=function(){if(this._coinConsumeRecord.size()<=0)return!1;for(var e=this._coinConsumeRecord.pop();null!=e;)this.wallet.bonus+=e.bonusConsumeCount,this.wallet.deposit+=e.depositConsumeCount,this.wallet.winning+=e.winnerConsumeCount,e=this._coinConsumeRecord.pop();return i.gg.eventManager.emit(c.UserWalletEvent.OnBalanceChanged),!0},e.prototype.resetCoinConsumeRecord=function(){this._coinConsumeRecord.clear()},Object.defineProperty(e.prototype,"diamondBalance",{get:function(){var e,t,n,o;return((null===(e=this.wallet)||void 0===e?void 0:e.diamondBonus)?null===(t=this.wallet)||void 0===t?void 0:t.diamondBonus:0)+((null===(n=this.wallet)||void 0===n?void 0:n.diamondDeposit)?null===(o=this.wallet)||void 0===o?void 0:o.diamondDeposit:0)},enumerable:!1,configurable:!0}),e.prototype.consumeDiamond=function(e){if(e<=0)return!1;var t=0,n=0,o=e;return o>0&&(o-=t=this.wallet.diamondBonus>o?o:this.wallet.diamondBonus),o>0&&(o-=n=this.wallet.diamondDeposit>o?o:this.wallet.diamondDeposit),!(o>0||(this.wallet.diamondBonus-=t,this.wallet.diamondDeposit-=n,this._diamondConsumeRecord.push({bonusConsumeCount:t,depositConsumeCount:n}),i.gg.eventManager.emit(c.UserWalletEvent.OnBalanceChanged),0))},e.prototype.undoComsumeDiamond=function(){var e=this._diamondConsumeRecord.pop();return null!=e&&(this.wallet.diamondBonus+=e.bonusConsumeCount,this.wallet.diamondDeposit+=e.depositConsumeCount,i.gg.eventManager.emit(c.UserWalletEvent.OnBalanceChanged),!0)},e.prototype.undoConsumeAllDiamond=function(){if(this._diamondConsumeRecord.size()<=0)return!1;for(var e=this._diamondConsumeRecord.pop();null!=e;)this.wallet.diamondBonus+=e.bonusConsumeCount,this.wallet.diamondDeposit+=e.depositConsumeCount,e=this._diamondConsumeRecord.pop();return i.gg.eventManager.emit(c.UserWalletEvent.OnBalanceChanged),!0},e.prototype.resetDiamondConsumeRecord=function(){this._diamondConsumeRecord.clear()},e}();n.userWalletSystem=new u,cc._RF.pop()},{"../../framework/gg":"gg","../../framework/models/Stack":"Stack","../gamews/GameSocketSystem":"GameSocketSystem","../login/LoginEvent":"LoginEvent","./UserProto":"UserProto","./UserWalletEvent":"UserWalletEvent"}],Utils:[function(e,t,n){"use strict";cc._RF.push(t,"42959R72ExGoZNdQB/ElEH5","Utils"),Object.defineProperty(n,"__esModule",{value:!0}),n.Utils=void 0;var o=1,i=180/Math.PI,a=Math.PI/180,r=function(){function e(){}return e.toRadian=function(e){return e*a},e.toAngle=function(e){return e*i},e.toHexColor=function(e){if(e<0||isNaN(e))return null;for(var t=e.toString(16);t.length<6;)t="0"+t;return"#"+t},e.fromStringColor=function(e){if(!e)return 0;if(e.indexOf("rgba(")>=0||e.indexOf("rgb(")>=0){var t=e.indexOf("("),n=e.indexOf(")");if(-1==t||-1==n)return 0;for(var o=(e=e.substring(t+1,n)).split(","),i=o.length,a=0;a<i;a++)o[a]=parseFloat(o[a]),isNaN(o[a])&&(o[a]=0);return 4==o.length?(o[0]<<24)+(o[1]<<16)+(o[2]<<8)+Math.round(255*o[3]):(o[0]<<16)+(o[1]<<8)+o[2]}if("#"===e.charAt(0)&&(e=e.substring(1)),3===(i=e.length)||4===i){var r="";for(a=0;a<i;a++)r+=e[a]+e[a];e=r}return parseInt(e,16)},e.getGID=function(){return o++},e.copyArray=function(e,t){if(e||(e=[]),!t)return e;e.length=t.length;for(var n=t.length,o=0;o<n;o++)e[o]=t[o];return e},e.transPointList=function(e,t,n){var o,i=e.length;for(o=0;o<i;o+=2)e[o]+=t,e[o+1]+=n},e.parseInt=function(e,t){void 0===t&&(t=0);var n=parseInt(e,t);return isNaN(n)?0:n},e.getBaseName=function(e){var t=e.lastIndexOf("/");return-1!=t&&(e=e.substring(t+1)),-1!=(t=e.indexOf("?"))&&(e=e.substring(0,t)),e},e.getFileExtension=function(e){var t=e.lastIndexOf(".");if(-1!=t){var n=e.substring(t+1).toLowerCase(),o=n.indexOf("?");if(-1!=o&&(n=n.substring(0,o)),"ls"===n){var i=e.lastIndexOf(".",t-1);if(-1!=i){var a=e.substring(i+1,t+1)+n;if("lanit.ls"===a||"ltcb.ls"===a)return a}}return n}return""},e.replaceFileExtension=function(e,t,n){if(!e)return e;var o=e.lastIndexOf(".");if(t.length>0&&!n&&(t="."+t),-1!=o){var i=e.indexOf("?",o);return-1!=i?e.substring(0,o)+t+e.substring(i):e.substring(0,o)+t}return e+t},e}();n.Utils=r,cc._RF.pop()},{}],VIPBaseType:[function(e,t,n){"use strict";cc._RF.push(t,"90941Uw06NJzbbVIAJiZfaj","VIPBaseType");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../../../../../systems/gamews/GameSocketSystem"),s=e("../../../../../../systems/user/UserProto"),l=cc._decorator,c=l.ccclass,u=(l.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.VIPType=null,t}return i(t,e),t.prototype.onEnable=function(){r.gameSocketSystem.on(s.UserProtoMsg.VipInfoUpdateBroadCast,this._VipInfoUpdateBroadCast,this)},t.prototype.onDisable=function(){r.gameSocketSystem.off(s.UserProtoMsg.VipInfoUpdateBroadCast,this._VipInfoUpdateBroadCast,this)},t.prototype._VipInfoUpdateBroadCast=function(){},a([c],t)}(cc.Component));n.default=u,cc._RF.pop()},{"../../../../../../systems/gamews/GameSocketSystem":"GameSocketSystem","../../../../../../systems/user/UserProto":"UserProto"}],VIPDetailLevelDetailPanel:[function(e,t,n){"use strict";cc._RF.push(t,"a21ceETRJtBv7LYUybHlgsH","VIPDetailLevelDetailPanel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=e("../../../systems/api/gameapi/GameApiModels"),u=e("../../../systems/api/gameapi/PayApiModels"),p=e("../../../framework/i18n/I18n"),h=e("../../../systems/user/UserWalletSystem"),d=e("../../../framework/gg"),f=e("../../../configs/CommonPanelConfig"),g=e("../../../systems/purchase/PurchaseSystem"),m=e("../../../systems/item/ItemSystem"),y=e("../../../systems/item/CommonItemConfig"),_=l(e("./VIPDetailModel")),v=e("../../../utils/CurrencyUtil"),b=e("../../../systems/gamews/GameSocketSystem"),S=e("../../../systems/user/UserProto"),C=e("../../../systems/analysis/AnalysisEvent"),I=e("../../../systems/analysis/AnalysisWrapper"),R=cc._decorator,L=R.ccclass,P=R.property,M=function(){function e(){this.icon=null,this.iconTip=null,this.discountNode=null,this.discountTip=null}return a([P({type:cc.Node,tooltip:"icon"})],e.prototype,"icon",void 0),a([P({type:cc.Label,tooltip:"icon tip"})],e.prototype,"iconTip",void 0),a([P({type:cc.Node,tooltip:"discount node"})],e.prototype,"discountNode",void 0),a([P({type:cc.Label,tooltip:"discount tip"})],e.prototype,"discountTip",void 0),a([L("VIPDetailRewardPanel")],e)}(),T=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.goldIcon=null,t.diamondIcon=null,t.middleTips=null,t.rightTips=null,t.leftTips=null,t.middleLine=null,t.tipScrollView=null,t.rewardPanel=null,t.reward=[null],t.buyButton=null,t.buyButtonTip=null,t.grayMaterial=null,t.normalMaterial=null,t.detailList=new Array,t.itemList=new Array,t._goodsModel=null,t._currentLevel=0,t._parent=null,t}return i(t,e),t.prototype.reset=function(e,t,n){var o;this._parent=n;var i=e.list[t];this._currentLevel=t,this.middleLine.active=i.award_list&&i.award_list.length>0;var a=p.i18n.getText("Vip.Detail.LevelPrivilege",i.vip_level);if(null==i?void 0:i.vip_goods){this.rewardPanel.active=i.award_list&&i.award_list.length>0,i.vip_level>0&&this.fixReward(i.vip_goods,i.send_vip_day);var r=p.i18n.getText("Vip.Detail.BuyMoreTips",i.vip_level);this.leftTips.string=r,this.leftTips.node.active=!0,this.rightTips.string=a,this.rightTips.node.active=!0,this.middleTips.node.active=!1,this.buyButton.node.active=!0,this.buyButtonTip.node.active=!0,this.buyButtonTip.string=(null===(o=null==i?void 0:i.vip_goods)||void 0===o?void 0:o.price_str)||""}else this.buyButton.node.active=!1,this.buyButtonTip.node.active=!1,this.leftTips.node.active=!1,this.middleTips.node.active=!0,this.rightTips.node.active=!1,this.middleTips.string=a;this.fixDetails(i),this.rewardPanel.active=i.vip_level>0},t.prototype.onLoad=function(){var e=this;this.itemList=[],this.reward.forEach(function(t){e.itemList.push({icon:t.icon.getComponentInChildren(cc.Sprite),spine:t.icon.getComponentInChildren(sp.Skeleton),dragon:t.icon.getComponentInChildren(dragonBones.ArmatureDisplay)})})},t.prototype.onEnable=function(){b.gameSocketSystem.on(S.UserProtoMsg.VipInfoUpdateBroadCast,this._VipInfoUpdateBroadCast,this)},t.prototype.onDisable=function(){b.gameSocketSystem.off(S.UserProtoMsg.VipInfoUpdateBroadCast,this._VipInfoUpdateBroadCast,this)},t.prototype.buyReward=function(){var e;return r(this,void 0,Promise,function(){var t;return s(this,function(n){switch(n.label){case 0:return this._goodsModel?_.default.checkIsVIPAndActive()?0===(null===(e=this._goodsModel)||void 0===e?void 0:e.can_buy)?(d.gg.panelRouter.show({panel:f.CommonPanelConfig.toastPanel,data:{text:p.i18n.getText("Vip.Detail.BuyMoreLimited")}}),[2]):(this._goodsModel.recharge_amount>0&&this._goodsModel.recharge_amount,this._goodsModel.bonus_amount>0&&this._goodsModel.bonus_amount,c.AwardType.Coin,this._goodsModel.goods_type==u.GoodsType.Coin?(h.userWalletSystem.coinBalance,c.AwardType.Coin):this._goodsModel.goods_type==u.GoodsType.Diamond&&(h.userWalletSystem.diamondBalance,c.AwardType.Diamond),I.analysis.logEvent(C.AnalysisEvent.VipExclusiveRechargeClick),[4,d.gg.panelRouter.showAsync({panel:f.CommonPanelConfig.loadingPanel})]):(d.gg.panelRouter.show({panel:f.CommonPanelConfig.toastPanel,data:{text:p.i18n.getText("Vip.Shop.VipDiscount.VipLimitToast")}}),[2]):(d.gg.panelRouter.show({panel:f.CommonPanelConfig.toastPanel,data:{text:p.i18n.getText("toast.payGoodsFailed")}}),[2]);case 1:return n.sent(),[4,g.purchaseSystem.purchase(this._goodsModel)];case 2:return t=n.sent(),[4,d.gg.panelRouter.hideAsync({panel:f.CommonPanelConfig.loadingPanel})];case 3:return n.sent(),t?d.gg.logger.log("\u8d2d\u4e70\u6210\u529f"):d.gg.panelRouter.show({panel:f.CommonPanelConfig.toastPanel,data:{text:p.i18n.getText("toast.payGoodsFailed")}}),[2]}})})},t.prototype.fixReward=function(e,t){var n,o,i=this;if(e){this.itemList.forEach(function(e){e.icon.node.active=!1,e.spine.node.active=!1,e.dragon.node.active=!1}),this._goodsModel=e;var a=new Array;switch(t){case 1:a.push("3030001");break;case 2:a.push("3030002");break;case 3:a.push("3030003");break;case 4:a.push("3030004");break;case 5:a.push("3030005");break;case 7:a.push("3030006");break;case 30:a.push("3030007")}m.itemSystem.getItem(a[0]),this.reward[0].discountNode.active=!1;var r=p.i18n.getText("Vip.Detail.LevelDayVipCard",t);this.reward[0].iconTip.string=r,m.itemSystem.getItemIconInfo(a[0]).then(function(e){null!=e&&(e.iconType===y.IconType.Image?(i.itemList[0].icon.node.active=!0,i.itemList[0].icon.spriteFrame=e.spriteFrame):e.iconType===y.IconType.Dragon?(i.itemList[0].dragon.node.active=!0,i.itemList[0].dragon.dragonAsset=e.dragonAsset,i.itemList[0].dragon.dragonAtlasAsset=e.dragonAtlasAsset,i.itemList[0].dragon.armatureName="armatureName",i.itemList[0].dragon.playAnimation("animation",0)):e.iconType===y.IconType.Spine&&(i.itemList[0].spine.node.active=!0,i.itemList[0].spine.skeletonData=e.spineData,i.itemList[0].spine.setAnimation(0,"animation",!0)),i.itemList[0].icon.node.scale=1,i.itemList[0].dragon.node.scale=1,i.itemList[0].spine.node.scale=1)});var s=null!==(n=this._goodsModel.recharge_amount)&&void 0!==n?n:0,l=null!==(o=this._goodsModel.bonus_amount)&&void 0!==o?o:0;if(this._goodsModel.goods_type==u.GoodsType.Coin){this.itemList[1].icon.node.active=!0,this.itemList[1].icon.spriteFrame=this.goldIcon;var c=(s+l).toString();this.reward[1].iconTip.string=c}else{this.itemList[1].icon.node.active=!0,this.itemList[1].icon.spriteFrame=this.diamondIcon;var h=p.i18n.getText("Vip.Detail.LevelDiamond",s+l);this.reward[1].iconTip.string=h}l>0?(this.reward[1].discountNode.active=!0,this.reward[1].discountTip.string="+"+(l/s*100).toFixed(0)+"%"):this.reward[1].discountNode.active=!1,this.changeButtonMaterial()}else this.rewardPanel.active=!1},t.prototype.changeButtonMaterial=function(){var e,t;1===(null===(e=this._goodsModel)||void 0===e?void 0:e.can_buy)&&(this.buyButton.interactable=!0),0===(null===(t=this._goodsModel)||void 0===t?void 0:t.can_buy)&&(this.buyButton.interactable=!1)},t.prototype.fixDetails=function(e){var t=this;this.detailList=[];var n,o=new Array;(null==e?void 0:e.sign_in_bonus)&&0!==e.sign_in_bonus&&((n=[0,0])[0]=0,n[1]=e.sign_in_bonus,o.push(n),this.detailList.push("+"+v.CurrencyUtil.toHumanReadable(n[1]))),(null==e?void 0:e.ex_friend_limit)&&0!==e.ex_friend_limit&&((n=[0,0])[0]=1,n[1]=e.ex_friend_limit,o.push(n),this.detailList.push("+"+v.CurrencyUtil.toHumanReadable(n[1]))),(null==e?void 0:e.exp_bonus)&&0!==e.exp_bonus&&((n=[0,0])[0]=2,n[1]=e.exp_bonus,o.push(n),this.detailList.push("+"+v.CurrencyUtil.toHumanReadable(n[1])+"%")),(null==e?void 0:e.store_discount)&&0!==e.store_discount&&((n=[0,0])[0]=3,n[1]=e.store_discount,o.push(n),this.detailList.push("-"+v.CurrencyUtil.toHumanReadable(n[1])+"%")),(null==e?void 0:e.qualifying_score_bonus)&&0!==e.qualifying_score_bonus&&((n=[0,0])[0]=4,n[1]=e.qualifying_score_bonus,o.push(n),this.detailList.push("+"+v.CurrencyUtil.toHumanReadable(n[1])+"%")),(null==e?void 0:e.qualifying_card_score_bonus)&&0!==e.qualifying_card_score_bonus&&((n=[0,0])[0]=5,n[1]=e.qualifying_card_score_bonus,o.push(n),this.detailList.push("+"+v.CurrencyUtil.toHumanReadable(n[1]))),(null==e?void 0:e.qualifying_props_discount)&&0!==e.qualifying_props_discount&&((n=[0,0])[0]=6,n[1]=e.qualifying_props_discount,o.push(n),this.detailList.push("-"+v.CurrencyUtil.toHumanReadable(n[1])+"%")),(null==e?void 0:e.qualifying_ex_heart_limit)&&0!==e.qualifying_ex_heart_limit&&((n=[0,0])[0]=7,n[1]=e.qualifying_ex_heart_limit,o.push(n),this.detailList.push("+"+v.CurrencyUtil.toHumanReadable(n[1]))),(null==e?void 0:e.transfer_tax_rate)&&0!==e.transfer_tax_rate&&((n=[0,0])[0]=8,n[1]=e.transfer_tax_rate,o.push(n),this.detailList.push(v.CurrencyUtil.toHumanReadable(n[1])+"%")),(null==e?void 0:e.transfer_daily_limit)&&0!==e.transfer_daily_limit&&((n=[0,0])[0]=9,n[1]=e.transfer_daily_limit,o.push(n),this.detailList.push(""+v.CurrencyUtil.toHumanReadable(n[1])));var i=this.tipScrollView.content.children;i.forEach(function(e){e.active=!1}),o.forEach(function(e,n){n>=i.length&&t.tipScrollView.content.addChild(cc.instantiate(t.tipScrollView.content.children[0]))}),this.scheduleOnce(function(){o.forEach(function(e,n){var o=t.tipScrollView.content.children[n];o.active=!0;var i=o.getChildByName("tips").getComponent(cc.RichText),a="<color="+cc.Color.GREEN.fromHEX("#CC6F0E").toHEX("#rrggbb")+">"+t.detailList[n]+"</c>";i.string=p.i18n.getText("Vip.Detail.CurrentVipTipList"+e[0],a)})})},t.prototype._VipInfoUpdateBroadCast=function(){return r(this,void 0,Promise,function(){return s(this,function(e){switch(e.label){case 0:return[4,_.default.ReShowDetailPanel(this._currentLevel,this._parent)];case 1:return e.sent(),console.log("_VipInfoUpdateBroadCast"),[2]}})})},a([P({type:cc.SpriteFrame,tooltip:"icon"})],t.prototype,"goldIcon",void 0),a([P({type:cc.SpriteFrame,tooltip:"diamond"})],t.prototype,"diamondIcon",void 0),a([P({type:cc.Label,tooltip:"middle tips"})],t.prototype,"middleTips",void 0),a([P({type:cc.Label,tooltip:"right tips"})],t.prototype,"rightTips",void 0),a([P({type:cc.Label,tooltip:"left tips"})],t.prototype,"leftTips",void 0),a([P({type:cc.Node,tooltip:"middle line"})],t.prototype,"middleLine",void 0),a([P({type:cc.ScrollView,tooltip:"tip scrollView"})],t.prototype,"tipScrollView",void 0),a([P({type:cc.Node,tooltip:"VIPDetailRewardPanel"})],t.prototype,"rewardPanel",void 0),a([P({type:[M],tooltip:"VIPDetailRewardPanel"})],t.prototype,"reward",void 0),a([P({type:cc.Button,tooltip:"buy button"})],t.prototype,"buyButton",void 0),a([P({type:cc.Label,tooltip:"buy button tip"})],t.prototype,"buyButtonTip",void 0),a([P({tooltip:"gray material",type:cc.Material})],t.prototype,"grayMaterial",void 0),a([P({tooltip:"normal material",type:cc.Material})],t.prototype,"normalMaterial",void 0),a([L],t)}(cc.Component);n.default=T,cc._RF.pop()},{"../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../framework/gg":"gg","../../../framework/i18n/I18n":"I18n","../../../systems/analysis/AnalysisEvent":"AnalysisEvent","../../../systems/analysis/AnalysisWrapper":"AnalysisWrapper","../../../systems/api/gameapi/GameApiModels":"GameApiModels","../../../systems/api/gameapi/PayApiModels":"PayApiModels","../../../systems/gamews/GameSocketSystem":"GameSocketSystem","../../../systems/item/CommonItemConfig":"CommonItemConfig","../../../systems/item/ItemSystem":"ItemSystem","../../../systems/purchase/PurchaseSystem":"PurchaseSystem","../../../systems/user/UserProto":"UserProto","../../../systems/user/UserWalletSystem":"UserWalletSystem","../../../utils/CurrencyUtil":"CurrencyUtil","./VIPDetailModel":"VIPDetailModel"}],VIPDetailLevelHonorPanel:[function(e,t,n){"use strict";cc._RF.push(t,"d61b8eFuPhBWYkVOsexPIj6","VIPDetailLevelHonorPanel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../../systems/api/gameapi/GameApiModels"),l=e("../../../systems/item/ItemSystem"),c=e("../../../systems/item/CommonItemConfig"),u=r(e("./VIPDetailModel")),p=e("../../../framework/i18n/I18n"),h=cc._decorator,d=h.ccclass,f=h.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iconTips=null,t.smallIconTips=null,t.checkToggleContainer=null,t.checkToggles=new Array,t.checkAndShowIcon=null,t.itemList=new Array,t.checkAndShowItem={icon:Array(),spine:null,dragon:null},t.awardListModel=null,t.itemScale={avatar_frame:.5,chat_bubble:.45,baloot_card:.65,baloot_bg:.3,ludo_chessboard:.5,ludo_dice:.75,game_gift:.75,qualifying_props:.75},t.itemShowScale={avatar_frame:.5,chat_bubble:.5,baloot_card:.7,baloot_bg:.7,ludo_chessboard:.5,ludo_dice:1,game_gift:1},t}return i(t,e),t.prototype.reset=function(e,t){var n=this;console.log("VIPDetailLevelHonorPanel reset:",e,t),this.checkToggleContainer.toggleItems[0].isChecked=!0;var o=e.list[t],i=o.award_list;this.awardListModel=e.list[t],this.itemList.forEach(function(e){e.icon.node.active=!1,e.spine.node.active=!1,e.dragon.node.active=!1});var a=p.i18n.getText("Vip.Detail.LevelMedaru",o.vip_level);this.iconTips.string=a,this.iconTips.node.active=!0;var r=p.i18n.getText("Vip.Detail.LevelSkin",o.vip_level);this.smallIconTips.string=r,this.smallIconTips.node.active=!0,this.checkAndShowIcon.active=!0,i.forEach(function(e,t){var o=t+1;if(o<n.itemList.length){console.log("VIPDetailLevelHonorPanel reset awardInfo:",o);var i=l.itemSystem.getItem(e.item_id);l.itemSystem.getItemIconInfo(e.item_id).then(function(e){null!=e&&(e.iconType===c.IconType.Image?(n.itemList[o].icon.node.active=!0,n.itemList[o].icon.spriteFrame=e.spriteFrame):e.iconType===c.IconType.Dragon?(n.itemList[o].dragon.node.active=!0,n.itemList[o].dragon.dragonAsset=e.dragonAsset,n.itemList[o].dragon.dragonAtlasAsset=e.dragonAtlasAsset,n.itemList[o].dragon.armatureName="armatureName",n.itemList[o].dragon.playAnimation("animation",0)):e.iconType===c.IconType.Spine&&(n.itemList[o].spine.node.active=!0,n.itemList[o].spine.skeletonData=e.spineData,n.itemList[o].spine.setAnimation(0,"animation",!0)),n.itemScale[i.item_type]?(n.itemList[o].icon.node.scale=n.itemScale[i.item_type],n.itemList[o].dragon.node.scale=n.itemScale[i.item_type],n.itemList[o].spine.node.scale=n.itemScale[i.item_type]):(n.itemList[o].icon.node.scale=1,n.itemList[o].dragon.node.scale=1,n.itemList[o].spine.node.scale=1))})}}),this.itemList[0].icon.node.active=!0,this.scheduleOnce(function(){u.default.setCurrentLevelSpine(n.itemList[0].spine,e.list[t].vip_level,.3,!0),u.default.setCurrentLevelSpine(n.checkAndShowItem.spine,e.list[t].vip_level,.6,!0)})},t.prototype.onLoad=function(){var e=this;this.itemList=[],this.checkToggleContainer.toggleItems.forEach(function(t){e.checkToggles.push(t);var n=t.node.getChildByName("icon");if(n){var o={icon:n.getComponentInChildren(cc.Sprite),spine:n.getComponentInChildren(sp.Skeleton),dragon:n.getComponentInChildren(dragonBones.ArmatureDisplay)};e.itemList.push(o)}});var t=this.checkAndShowIcon.getChildByName("icon");if(t){this.checkAndShowItem.dragon=t.getComponentInChildren(dragonBones.ArmatureDisplay),this.checkAndShowItem.spine=t.getComponentInChildren(sp.Skeleton);var n=t.getComponentInChildren(cc.Sprite);n&&(cc.instantiate(n.node).parent=t,cc.instantiate(n.node).parent=t),this.checkAndShowItem.icon=t.getComponentsInChildren(cc.Sprite)}},t.prototype.checkToggleContainerEvent=function(e){var t=this,n=this.checkToggleContainer.toggleItems.indexOf(e);if(-1!==n)if(this.checkAndShowItem.dragon.node.active=!1,this.checkAndShowItem.spine.node.active=!1,this.checkAndShowItem.icon.forEach(function(e){e.node.active=!1}),0===n)u.default.setCurrentLevelSpine(this.checkAndShowItem.spine,this.awardListModel.vip_level,.6,!0);else{var o=this.awardListModel.award_list[n-1],i=l.itemSystem.getItem(o.item_id);l.itemSystem.getItemIconInfo(o.item_id).then(function(e){null!=e&&(e.iconType===c.IconType.Image?i.item_type===s.ItemType.balootCard?t.checkAndShowItem.icon.forEach(function(t,n){0===n&&(t.node.x=-15),1===n&&(t.node.x=0),2===n&&(t.node.x=15),t.node.active=!0,t.spriteFrame=e.spriteFrame}):(t.checkAndShowItem.icon[1].node.active=!0,t.checkAndShowItem.icon[1].spriteFrame=e.spriteFrame):e.iconType===c.IconType.Dragon?(t.checkAndShowItem.dragon.node.active=!0,t.checkAndShowItem.dragon.dragonAsset=e.dragonAsset,t.checkAndShowItem.dragon.dragonAtlasAsset=e.dragonAtlasAsset,t.checkAndShowItem.dragon.armatureName="armatureName",t.checkAndShowItem.dragon.playAnimation("animation",0)):e.iconType===c.IconType.Spine&&(t.checkAndShowItem.spine.node.active=!0,t.checkAndShowItem.spine.skeletonData=e.spineData,t.checkAndShowItem.spine.setAnimation(0,"animation",!0)),t.itemShowScale[i.item_type]?(t.checkAndShowItem.icon.forEach(function(e){e.node.scale=t.itemShowScale[i.item_type]}),t.checkAndShowItem.dragon.node.scale=t.itemShowScale[i.item_type],t.checkAndShowItem.spine.node.scale=t.itemShowScale[i.item_type]):(t.checkAndShowItem.icon.forEach(function(e){e.node.scale=1}),t.checkAndShowItem.dragon.node.scale=1,t.checkAndShowItem.spine.node.scale=1))})}},a([f({type:cc.Label,tooltip:"icon tips"})],t.prototype,"iconTips",void 0),a([f({type:cc.Label,tooltip:"small icon tips"})],t.prototype,"smallIconTips",void 0),a([f({type:cc.ToggleContainer,tooltip:"honor and details toggle container"})],t.prototype,"checkToggleContainer",void 0),a([f({type:cc.Node,tooltip:"check and show icon"})],t.prototype,"checkAndShowIcon",void 0),a([d],t)}(cc.Component);n.default=g,cc._RF.pop()},{"../../../framework/i18n/I18n":"I18n","../../../systems/api/gameapi/GameApiModels":"GameApiModels","../../../systems/item/CommonItemConfig":"CommonItemConfig","../../../systems/item/ItemSystem":"ItemSystem","./VIPDetailModel":"VIPDetailModel"}],VIPDetailLevelPanel:[function(e,t,n){"use strict";cc._RF.push(t,"9dbc8hW1qJEQLrVH/OPeDfX","VIPDetailLevelPanel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=r(e("./VIPDetailLevelHonorPanel")),l=r(e("./VIPDetailLevelDetailPanel")),c=r(e("./VIPDetailModel")),u=e("../../../framework/gg"),p=e("../../../configs/CommonPanelConfig"),h=e("../../../framework/i18n/I18n"),d=e("../../../systems/login/LoginProto"),f=e("../../../systems/api/gameapi/PayApiModels"),g=e("../../../systems/analysis/AnalysisWrapper"),m=e("../../../systems/analysis/AnalysisEvent"),y=cc._decorator,_=y.ccclass,v=y.property,b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.vipLevel=null,t.vipLevelIcon=null,t.currentVipTip=null,t.expireTimeTip=null,t.unlockVipTip=null,t.nextVipTip=null,t.keepBuyButton=null,t.keepBuyButtonTip=null,t.currentVipProgress=null,t.currentVipProgressTip=null,t.honorAndDetailsToggleContainer=null,t.honor=null,t.detail=null,t.detailModel=null,t.currentVipIndex=0,t}return i(t,e),t.prototype.resetAndShow=function(e,t){this.detailModel=e,this.currentVipIndex=t;var n=e.list[t].vip_level,o=e.list[t].award_list;this.setVipLevel(n);var i=e.list[t];this.honorAndDetailsToggleContainer.toggleItems.forEach(function(e,t){e.isChecked=0==t,o&&o.length>0?e.node.active=!0:e.node.active=0==t,e.node.children[2].getComponent(cc.Label).string=h.i18n.getText(0==t?"Vip.Detail.LevelPrivilege":"Vip.Detail.LevelHonor",i.vip_level.toString())}),this.detail.node.active=!0,this.honor.node.active=!1,this.detail.reset(e,t,this)},t.prototype.showNormalData=function(e){var t=h.i18n.getText("Vip.Detail.VipLevel",e.vip_level.toString()),n=h.i18n.getText("Vip.Detail.CurrentLevel"),o=h.i18n.getText("Vip.Detail.CurrentLevelTips"),i=h.i18n.getText("VIp.Detail.VipDisableTip"),a=h.i18n.getText("Vip.Detail.CurrentLevelBuyMore",Math.round(e.next_level_recharge-e.recharge),e.vip_level+1),r=h.i18n.getText("Vip.Detail.VipLevelMax"),s=c.default.checkVIPIsActive()?h.i18n.getText("Vip.Detail.BuyMore"):h.i18n.getText("Vip.Detail.Buy");this.currentVipTip.string=c.default.checkIsVIPAndActive()?n+t:o,this.unlockVipTip.string=i,this.unlockVipTip.node.active=!c.default.checkVIPIsActive(),this.nextVipTip.string=e.vip_level>=d.MaxVipLevel?r:a,this.nextVipTip.node.active=c.default.checkVIPIsActive(),this.keepBuyButtonTip.string=s,this.currentVipProgress.progress=e.recharge/e.next_level_recharge,this.currentVipProgress.node.active=c.default.checkVIPIsActive(),this.currentVipProgressTip.string=e.recharge+"/"+e.next_level_recharge,this.keepBuyButton.node.active=!0,c.default.setCurrentLevelSpine(this.vipLevelIcon.getComponentInChildren(sp.Skeleton),e.vip_level,.6,!1);var l=c.default.formatDate(new Date(1e3*e.expire_time),"yyyy-MM-dd"),u="<color="+cc.Color.GREEN.fromHEX("#CC6F0E").toHEX("#rrggbb")+">"+l+"</c>";this.expireTimeTip.string=h.i18n.getText("Vip.Detail.ExpireTime",u),this.expireTimeTip.node.active=c.default.checkVIPIsActive()},t.prototype.honorAndDetailsToggleContainerEvent=function(e){0==this.honorAndDetailsToggleContainer.toggleItems.indexOf(e)?(this.detail.node.active=!0,this.honor.node.active=!1):(this.detail.node.active=!1,this.honor.node.active=!0,this.honor.reset(this.detailModel,this.currentVipIndex))},t.prototype.setVipLevel=function(e){this.vipLevel.string=""+e},t.prototype.onCloseAndGoToStore=function(){g.analysis.logEvent(m.AnalysisEvent.VipDetailsOpenClick),u.gg.panelRouter.hide({panel:p.CommonPanelConfig.vipDetailPanel}),u.gg.panelRouter.show({panel:p.CommonPanelConfig.storePanel,data:{type:f.GoodsTypeEnum.VIP,forceRequestData:!0}})},a([v({type:cc.Label,tooltip:"vip level"})],t.prototype,"vipLevel",void 0),a([v({type:cc.Sprite,tooltip:"vip level icon"})],t.prototype,"vipLevelIcon",void 0),a([v({type:cc.Label,tooltip:"current vip tip"})],t.prototype,"currentVipTip",void 0),a([v({type:cc.RichText,tooltip:"vip expire time tip"})],t.prototype,"expireTimeTip",void 0),a([v({type:cc.Label,tooltip:"unlock vip tip"})],t.prototype,"unlockVipTip",void 0),a([v({type:cc.Label,tooltip:"next vip tip"})],t.prototype,"nextVipTip",void 0),a([v({type:cc.Button,tooltip:"keep buy button"})],t.prototype,"keepBuyButton",void 0),a([v({type:cc.Label,tooltip:"keep buy button tip"})],t.prototype,"keepBuyButtonTip",void 0),a([v({type:cc.ProgressBar,tooltip:"current vip progress"})],t.prototype,"currentVipProgress",void 0),a([v({type:cc.Label,tooltip:"current vip progress"})],t.prototype,"currentVipProgressTip",void 0),a([v({type:cc.ToggleContainer,tooltip:"honor and details toggle container"})],t.prototype,"honorAndDetailsToggleContainer",void 0),a([v({type:s.default,tooltip:"vip level honor panel"})],t.prototype,"honor",void 0),a([v({type:l.default,tooltip:"vip level detail panel"})],t.prototype,"detail",void 0),a([_],t)}(cc.Component);n.default=b,cc._RF.pop()},{"../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../framework/gg":"gg","../../../framework/i18n/I18n":"I18n","../../../systems/analysis/AnalysisEvent":"AnalysisEvent","../../../systems/analysis/AnalysisWrapper":"AnalysisWrapper","../../../systems/api/gameapi/PayApiModels":"PayApiModels","../../../systems/login/LoginProto":"LoginProto","./VIPDetailLevelDetailPanel":"VIPDetailLevelDetailPanel","./VIPDetailLevelHonorPanel":"VIPDetailLevelHonorPanel","./VIPDetailModel":"VIPDetailModel"}],VIPDetailModel:[function(e,t,n){"use strict";cc._RF.push(t,"00efblRi7hBlY7gUfMDBMEY","VIPDetailModel");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../../systems/user/UserSystem"),l=e("../../../systems/login/LoginProto"),c=e("../../../configs/BundleConfig"),u=r(e("../../../framework/asset/AssetLoader")),p=e("../store/Item/vip/StoreVIP"),h=e("../../../framework/gg"),d=e("../../../configs/CommonPanelConfig"),f=r(e("../../../utils/GenericsTools")),g=e("../../../systems/api/gameapi/PayApiModels"),m=cc._decorator,y=m.ccclass,_=(m.property,function(){function e(){}return e.checkVIPIsBiggerThan=function(e){var t,n;return void 0===e&&(e=0),(null===(n=null===(t=null===s.userSystem||void 0===s.userSystem?void 0:s.userSystem.userModel)||void 0===t?void 0:t.vipInfo)||void 0===n?void 0:n.vip_level)>e},e.checkVIPIsActive=function(){var e,t;return(null===(t=null===(e=null===s.userSystem||void 0===s.userSystem?void 0:s.userSystem.userModel)||void 0===e?void 0:e.vipInfo)||void 0===t?void 0:t.vip_status)===l.VipStatusType.Activation},e.checkIsVIPAndActive=function(){return this.checkVIPIsActive()&&this.checkVIPIsBiggerThan()},e.setCurrentLevelSpine=function(e,t,n,o){return void 0===n&&(n=1),void 0===o&&(o=!0),i(this,void 0,Promise,function(){var i,r,s,l,p,h,d;return a(this,function(a){switch(a.label){case 0:return i=t,(r=e)?(s=c.BundleConfig.Resources+"/textures/vip/spine/vipLevel/vipgrade_",i<1?(r.node.active=!1,[2]):[3,1]):[2];case 1:return i>=1&&i<=3?(l=r,[4,u.default.loadBundleAsset(s+"1/vipgrade_1",sp.SkeletonData)]):[3,3];case 2:return l.skeletonData=a.sent(),[3,9];case 3:return i>=4&&i<=6?(p=r,[4,u.default.loadBundleAsset(s+"4/vipgrade_4",sp.SkeletonData)]):[3,5];case 4:return p.skeletonData=a.sent(),[3,9];case 5:return i>=7&&i<=9?(h=r,[4,u.default.loadBundleAsset(s+"7/vipgrade_7",sp.SkeletonData)]):[3,7];case 6:return h.skeletonData=a.sent(),[3,9];case 7:return d=r,[4,u.default.loadBundleAsset(s+"10/vipgrade_10",sp.SkeletonData)];case 8:d.skeletonData=a.sent(),a.label=9;case 9:return r.node.active=!0,r.node.scale=n,o?r.setAnimation(0,""+this.idle+i,!0):r.setAnimation(0,""+(this.checkVIPIsActive()?this.idle:this.gray)+i,!0),[2]}})})},e.ShowDetailPanel=function(e){return void 0===e&&(e=0),i(this,void 0,Promise,function(){var t,n;return a(this,function(o){switch(o.label){case 0:return 0!==e?[3,2]:[4,f.default.loadingSomething(p.StoreVIPModel.getVIPInfo(1,1,g.GoodsTag.VIPPack))];case 1:return n=o.sent(),[3,4];case 2:return[4,p.StoreVIPModel.getVIPInfo(1,1,g.GoodsTag.VIPPack)];case 3:n=o.sent(),o.label=4;case 4:return(t=n)&&h.gg.panelRouter.show({panel:d.CommonPanelConfig.vipDetailPanel,data:{vipData:t,index:e}}),[2]}})})},e.formatDate=function(e){return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()},e.ReShowDetailPanel=function(e,t){return i(this,void 0,void 0,function(){var n;return a(this,function(o){switch(o.label){case 0:return[4,f.default.loadingSomething(p.StoreVIPModel.getVIPInfo(1,1,g.GoodsTag.VIPPack))];case 1:return(n=o.sent())&&t.resetAndShow(n,e),[2]}})})},e.idle="idle_",e.pop="pop_",e.gray="gray_",o([y],e)}());n.default=_,cc._RF.pop()},{"../../../configs/BundleConfig":"BundleConfig","../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../framework/asset/AssetLoader":"AssetLoader","../../../framework/gg":"gg","../../../systems/api/gameapi/PayApiModels":"PayApiModels","../../../systems/login/LoginProto":"LoginProto","../../../systems/user/UserSystem":"UserSystem","../../../utils/GenericsTools":"GenericsTools","../store/Item/vip/StoreVIP":"StoreVIP"}],VIPDetailPanel:[function(e,t,n){"use strict";cc._RF.push(t,"618e1zIsnpEHKT8q3Pt/6VQ","VIPDetailPanel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=e("../../../configs/CommonPanelConfig"),u=e("../../../framework/gg"),p=e("../../../framework/panelrouter/PanelComponent"),h=l(e("./VIPDetailLevelPanel")),d=e("../../../systems/login/LoginProto"),f=l(e("./VIPDetailModel")),g=cc._decorator,m=g.ccclass,y=g.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.config=c.CommonPanelConfig.vipDetailPanel,t.max=d.MaxVipLevel,t.pageView=null,t.exitButton=null,t.vipTimeTipButton=null,t.prevButton=null,t.nextButton=null,t.pages=[null],t.vipPanel=null,t.detailModel=null,t._currentPageIndex=0,t}return i(t,e),Object.defineProperty(t.prototype,"currentPageIndex",{get:function(){return this._currentPageIndex},set:function(e){e<=0?this._currentPageIndex=0:e>=this.max?this._currentPageIndex=this.max:this._currentPageIndex=e},enumerable:!1,configurable:!0}),t.prototype.hide=function(e){e.onHided(),u.gg.panelRouter.destroy(this.config)},t.prototype.show=function(e){return r(this,void 0,Promise,function(){var t,n=this;return s(this,function(){return(null==e?void 0:e.data)?(t=e.data,this.detailModel=t.vipData,this.vipTimeTipButton.node.active=Math.abs(this.detailModel.expire_time-Date.now()/1e3)<=259200&&f.default.checkVIPIsActive(),this.scheduleOnce(function(){var e;n.detailModel&&(n.currentPageIndex=0==(null==t?void 0:t.index)?(null===(e=n.detailModel)||void 0===e?void 0:e.vip_level)||0:t.index,n.scrollToPage(n.currentPageIndex,0,!0),n.vipPanel.resetAndShow(n.detailModel,n.currentPageIndex),n.vipPanel.showNormalData(n.detailModel,n.currentPageIndex),n.checkPageViewButton())}),null==e||e.onShowed(),[2]):(null==e||e.onShowed(),this.onClosePanel(),[2])})})},t.prototype.onLoad=function(){this.max},t.prototype.onEnable=function(){},t.prototype.onDisable=function(){},t.prototype.pageViewEvent=function(){},t.prototype.onClosePanel=function(){u.gg.panelRouter.hide({panel:this.config})},t.prototype.onNextPage=function(){this.nextPage()},t.prototype.nextPage=function(){return r(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return this.currentPageIndex+=1,this.prevButton.interactable=!1,this.nextButton.interactable=!1,this.vipPanel.resetAndShow(this.detailModel,this.currentPageIndex),[4,this.scrollToPage(this.currentPageIndex)];case 1:return e.sent(),this.checkPageViewButton(),[2]}})})},t.prototype.onPrevPage=function(){this.prevPage()},t.prototype.prevPage=function(){return r(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return this.currentPageIndex-=1,this.prevButton.interactable=!1,this.nextButton.interactable=!1,this.vipPanel.resetAndShow(this.detailModel,this.currentPageIndex),[4,this.scrollToPage(this.currentPageIndex)];case 1:return e.sent(),this.checkPageViewButton(),[2]}})})},t.prototype.checkPageViewButton=function(){this.prevButton.interactable=this.currentPageIndex>0,this.prevButton.node.active=this.currentPageIndex>0,this.nextButton.interactable=this.currentPageIndex<this.max,this.nextButton.node.active=this.currentPageIndex<this.max},t.prototype.scrollToPage=function(e,t,n){return void 0===t&&(t=1),void 0===n&&(n=!1),r(this,void 0,Promise,function(){var e=this;return s(this,function(o){switch(o.label){case 0:return cc.Tween.stopAllByTarget(this.vipPanel.node),this.vipPanel.node.setPosition(0,0),n?[4,new Promise(function(t){e.scheduleOnce(function(){t()})})]:[3,2];case 1:return o.sent(),this.vipPanel.node.setPosition(0,0),this.vipPanel.node.active=!0,[2];case 2:return this.vipPanel.node.active=!1,[4,new Promise(function(n){cc.tween(e.vipPanel.node).to(t/3,{opacity:0}).call(function(){e.vipPanel.node.setPosition(0,0),e.vipPanel.node.active=!0,e.vipPanel.node.pauseSystemEvents(!0)}).to(t/2,{opacity:255}).call(function(){e.vipPanel.node.resumeSystemEvents(!0),n()}).start()})];case 3:return o.sent(),[2]}})})},a([y({type:cc.PageView,tooltip:"\u9875\u9762"})],t.prototype,"pageView",void 0),a([y({type:cc.Button,tooltip:"\u5173\u95ed\u6309\u94ae"})],t.prototype,"exitButton",void 0),a([y({type:cc.Button,tooltip:"3 days left"})],t.prototype,"vipTimeTipButton",void 0),a([y({type:cc.Button,tooltip:"prev button"})],t.prototype,"prevButton",void 0),a([y({type:cc.Button,tooltip:"next button"})],t.prototype,"nextButton",void 0),a([y({type:[cc.Node],tooltip:"pages"})],t.prototype,"pages",void 0),a([y({type:h.default,tooltip:"vip panel"})],t.prototype,"vipPanel",void 0),a([m],t)}(p.PanelComponent);n.default=_,cc._RF.pop()},{"../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../framework/gg":"gg","../../../framework/panelrouter/PanelComponent":"PanelComponent","../../../systems/login/LoginProto":"LoginProto","./VIPDetailLevelPanel":"VIPDetailLevelPanel","./VIPDetailModel":"VIPDetailModel"}],VIPDetailType:[function(e,t,n){"use strict";cc._RF.push(t,"5acd8TJA3FLkZ4L533pJe3n","VIPDetailType");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=l(e("../../../../../../utils/GenericsTools")),u=e("../interface/IVIPType"),p=l(e("./VIPBaseType")),h=e("../../../../../../framework/i18n/I18n"),d=l(e("../../../../vipDetail/VIPDetailModel")),f=e("../../../../../../utils/CurrencyUtil"),g=cc._decorator,m=g.ccclass,y=g.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.VIPType=u.EVIPType.VIPDetail,t.vipDetailLayout=null,t.vipDetailTips=new Array,t.vipData=null,t}return i(t,e),t.prototype.showWithData=function(e){this.vipData=e;var t=null==e?void 0:e.vip_level,n=null==e?void 0:e.list.find(function(e){return e.vip_level===t});!n&&(null==e?void 0:e.list.length)>0&&(n=null==e?void 0:e.list[0]),n?(this.vipDetailLayout.active=!0,this.vipDetailTips.forEach(function(e,t){var o,i=0,a="";1==t&&(null==n?void 0:n.sign_in_bonus)&&(a=0===(i=n.sign_in_bonus)?"":"+"+f.CurrencyUtil.toHumanReadable(i)),2==t&&(null==n?void 0:n.ex_friend_limit)&&(a=0===(i=n.ex_friend_limit)?"":"+"+f.CurrencyUtil.toHumanReadable(i)),3==t&&(null==n?void 0:n.exp_bonus)&&(a=0===(i=n.exp_bonus)?"":"+"+f.CurrencyUtil.toHumanReadable(i)+"%"),o="<color="+cc.Color.GREEN.fromHEX("#1c9652").toHEX("#rrggbb")+">"+a+"</c>",e.string=h.i18n.getText("Vip.Shop.Detail.TipList"+t,o||"")})):this.vipDetailLayout.active=!1},t.prototype.onLoad=function(){var e=this;this.vipDetailLayout.children.forEach(function(t){e.vipDetailTips.push(t.getComponentInChildren(cc.RichText))})},t.prototype.onOpenVIPDetailPanel=function(){return r(this,void 0,Promise,function(){var e=this;return s(this,function(t){switch(t.label){case 0:return[4,c.default.loadingSomething(new Promise(function(t){e.scheduleOnce(function(){t()})}))];case 1:return t.sent(),[4,d.default.ShowDetailPanel()];case 2:return t.sent(),[2]}})})},a([y({tooltip:"VIP detail layout",type:cc.Node})],t.prototype,"vipDetailLayout",void 0),a([m],t)}(p.default);n.default=_,cc._RF.pop()},{"../../../../../../framework/i18n/I18n":"I18n","../../../../../../utils/CurrencyUtil":"CurrencyUtil","../../../../../../utils/GenericsTools":"GenericsTools","../../../../vipDetail/VIPDetailModel":"VIPDetailModel","../interface/IVIPType":"IVIPType","./VIPBaseType":"VIPBaseType"}],VIPDiscountType:[function(e,t,n){"use strict";cc._RF.push(t,"6a23eJeQd9BWLVA1UspyjtT","VIPDiscountType");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=e("../../../../../../configs/CommonPanelConfig"),u=e("../../../../../../framework/gg"),p=e("../../../../../../framework/i18n/I18n"),h=e("../../../../../../systems/api/gameapi/GameApiModels"),d=e("../../../../../../systems/api/gameapi/PayApiModels"),f=e("../../../../../../systems/purchase/PurchaseSystem"),g=e("../../../../../../systems/user/UserWalletSystem"),m=e("../interface/IVIPType"),y=l(e("./VIPBaseType")),_=e("../../../../../../utils/CurrencyUtil"),v=l(e("../../../../vipDetail/VIPDetailModel")),b=e("../StoreVIP"),S=e("../StoreVIPDiscount"),C=e("../../../../../../systems/analysis/AnalysisWrapper"),I=e("../../../../../../systems/analysis/AnalysisEvent"),R=cc._decorator,L=R.ccclass,P=R.property,M=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.VIPType=m.EVIPType.VIPDiscount,t.goldLabel=null,t.discountLogo=null,t.discountPercent=null,t.vipItemIcon=null,t.buyButton=null,t.buyButtonNum=null,t.icon=null,t.grayMaterial=null,t.normalMaterial=null,t._goodsModel=null,t}return i(t,e),t.prototype.showWithData=function(e,t,n){var o,i;this._goodsModel=e,n&&(this._baseBrothers=n);var a=null!==(o=this._goodsModel.recharge_amount)&&void 0!==o?o:0,r=null!==(i=this._goodsModel.bonus_amount)&&void 0!==i?i:0;r>0?(this.goldLabel.string=_.CurrencyUtil.toHumanReadable(a+r).toString(),this.discountLogo.active=!0,this.discountPercent.string="+"+(r/a*100).toFixed(0)+"%"):(this.goldLabel.string=_.CurrencyUtil.toHumanReadable(a).toString(),this.discountLogo.active=!1),this.vipItemIcon.active=!0,this.buyButtonNum.string=e.price_str.toString(),t&&(this.vipItemIcon.getComponent(cc.Sprite).spriteFrame=t),b.StoreVIPModel.loadDragonBonesForCoinOrDiamond(this.icon,e.goods_type===d.GoodsType.Coin?[b.StoreVIPModel.coinSkeIconPath,b.StoreVIPModel.coinTexIconPath]:[b.StoreVIPModel.diamondSkeIconPath,b.StoreVIPModel.diamondTexIconPath]),1===(null==e?void 0:e.can_buy)&&this.buyButton.node.getComponent(cc.Sprite).setMaterial(0,this.normalMaterial),0===(null==e?void 0:e.can_buy)&&this.buyButton.node.getComponent(cc.Sprite).setMaterial(0,this.grayMaterial)},t.prototype._VipInfoUpdateBroadCast=function(){return r(this,void 0,Promise,function(){return s(this,function(){return e.prototype._VipInfoUpdateBroadCast.call(this),[2]})})},t.prototype.onClickBuyButton=function(){var e;return r(this,void 0,Promise,function(){var t,n,o,i,a=this;return s(this,function(l){switch(l.label){case 0:return v.default.checkIsVIPAndActive()?0===(null===(e=this._goodsModel)||void 0===e?void 0:e.can_buy)?(u.gg.panelRouter.show({panel:c.CommonPanelConfig.toastPanel,data:{text:p.i18n.getText("Vip.Shop.VipDiscount.WeekLimitToast")}}),[2]):(t=0,n=0,this._goodsModel.recharge_amount>0&&(n+=this._goodsModel.recharge_amount),this._goodsModel.bonus_amount>0&&(n+=this._goodsModel.bonus_amount),o=h.AwardType.Coin,this._goodsModel.goods_type==d.GoodsType.Coin?(t=g.userWalletSystem.coinBalance,o=h.AwardType.Coin):this._goodsModel.goods_type==d.GoodsType.Diamond&&(t=g.userWalletSystem.diamondBalance,o=h.AwardType.Diamond),C.analysis.logEvent(I.AnalysisEvent.VipExclusiveRechargeClick),[4,u.gg.panelRouter.showAsync({panel:c.CommonPanelConfig.loadingPanel})]):(u.gg.panelRouter.show({panel:c.CommonPanelConfig.toastPanel,data:{text:p.i18n.getText("Vip.Shop.VipDiscount.VipLimitToast")}}),[2]);case 1:return l.sent(),[4,f.purchaseSystem.purchase(this._goodsModel)];case 2:return i=l.sent(),[4,u.gg.panelRouter.hideAsync({panel:c.CommonPanelConfig.loadingPanel})];case 3:return l.sent(),i?(u.gg.panelRouter.show({panel:c.CommonPanelConfig.receiveFeaturesPanel,data:{giftList:[{award_type:o,count:n,initValue:t}]}}),this.scheduleOnce(function(){return r(a,void 0,Promise,function(){return s(this,function(e){switch(e.label){case 0:return[4,S.StoreVIPDiscountModel.getVIPDiscountDataByTypes(this._baseBrothers)];case 1:return e.sent(),[2]}})})},3)):u.gg.panelRouter.show({panel:c.CommonPanelConfig.toastPanel,data:{text:p.i18n.getText("toast.payGoodsFailed")}}),[2]}})})},a([P({tooltip:"VIP Gold Label",type:cc.Label})],t.prototype,"goldLabel",void 0),a([P({tooltip:"VIP discount logo node",type:cc.Node})],t.prototype,"discountLogo",void 0),a([P({tooltip:"VIP discount logo percent",type:cc.Label})],t.prototype,"discountPercent",void 0),a([P({tooltip:"VIP item icon",type:cc.Node})],t.prototype,"vipItemIcon",void 0),a([P({tooltip:"VIP buy button",type:cc.Button})],t.prototype,"buyButton",void 0),a([P({tooltip:"VIP buy button num",type:cc.Label})],t.prototype,"buyButtonNum",void 0),a([P({tooltip:"icon",type:dragonBones.ArmatureDisplay})],t.prototype,"icon",void 0),a([P({tooltip:"gray material",type:cc.Material})],t.prototype,"grayMaterial",void 0),a([P({tooltip:"normal material",type:cc.Material})],t.prototype,"normalMaterial",void 0),a([L],t)}(y.default);n.default=M,cc._RF.pop()},{"../../../../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../../../../framework/gg":"gg","../../../../../../framework/i18n/I18n":"I18n","../../../../../../systems/analysis/AnalysisEvent":"AnalysisEvent","../../../../../../systems/analysis/AnalysisWrapper":"AnalysisWrapper","../../../../../../systems/api/gameapi/GameApiModels":"GameApiModels","../../../../../../systems/api/gameapi/PayApiModels":"PayApiModels","../../../../../../systems/purchase/PurchaseSystem":"PurchaseSystem","../../../../../../systems/user/UserWalletSystem":"UserWalletSystem","../../../../../../utils/CurrencyUtil":"CurrencyUtil","../../../../vipDetail/VIPDetailModel":"VIPDetailModel","../StoreVIP":"StoreVIP","../StoreVIPDiscount":"StoreVIPDiscount","../interface/IVIPType":"IVIPType","./VIPBaseType":"VIPBaseType"}],VIPStatusChangeModel:[function(e,t,n){"use strict";cc._RF.push(t,"483abAcc/pKRrpMSdnj34CC","VIPStatusChangeModel"),Object.defineProperty(n,"__esModule",{value:!0});n.default=function(){this.srcRewardCount=0},cc._RF.pop()},{}],VIPStatusChangePanel:[function(e,t,n){"use strict";cc._RF.push(t,"b90efFgIx9H4bwbu+rFRJ/2","VIPStatusChangePanel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},o("next"),o("throw"),o("return"),t[Symbol.asyncIterator]=function(){return this},t);function o(n){t[n]=e[n]&&function(t){return new Promise(function(o,a){i(o,a,(t=e[n](t)).done,t.value)})}}function i(e,t,n,o){Promise.resolve(o).then(function(t){e({value:t,done:n})},t)}},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var u=e("../../../configs/CommonPanelConfig"),p=e("../../../framework/panelrouter/PanelComponent"),h=e("../../../framework/i18n/I18n"),d=e("../../../framework/gg"),f=c(e("../../../framework/asset/AssetLoader")),g=e("../../../configs/BundleConfig"),m=e("../../../systems/user/UserProto"),y=e("../../../systems/api/gameapi/GameApiModels"),_=e("../../../systems/user/UserWalletSystem"),v=e("../../../systems/user/UserSystem"),b=c(e("../vipDetail/VIPDetailModel")),S=e("../../../utils/CurrencyUtil"),C=e("../../../systems/api/gameapi/PayApiModels"),I=e("../../../systems/login/LoginProto"),R=e("../../../systems/game/GameUISystem"),L=cc._decorator,P=L.ccclass,M=L.property,T=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.qualifyingUpStar={path:g.BundleConfig.Resources+"/audios/up_star"},t.friendDelete={path:g.BundleConfig.Resources+"/audios/friend_delete"},t.config=u.CommonPanelConfig.vipStatusChangePanel,t.idle="idle_",t.pop="pop_",t.gray="gray_",t.vipActiveNode=null,t.vipUpgradeNode=null,t.vipRenewalNode=null,t.spine=null,t.detailLayout=null,t.closeNode=null,t.middleAnimNode=null,t.wordsScrollView=null,t.closeButtons=[null],t.jumpToVipStore=null,t.currentModel=null,t.optionPanelList=new Array,t.isLooping=!1,t}return i(t,e),t.prototype.hide=function(e){null==e||e.onHided()},t.prototype.show=function(e){return r(this,void 0,Promise,function(){return s(this,function(t){switch(t.label){case 0:return this.optionPanelList.push(e),null==e||e.onShowed(),this.isLooping?[3,2]:(this.isLooping=!0,[4,this.startInit()]);case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.start=function(){return r(this,void 0,void 0,function(){return s(this,function(){return[2]})})},t.prototype.init=function(e){return r(this,void 0,Promise,function(){var t,n=this;return s(this,function(o){switch(o.label){case 0:return this.detailLayout.children.forEach(function(e){e.active=!1,e.x=0}),this.node.resumeSystemEvents(!0),this.middleAnimNode.active=!0,this.middleAnimNode.x=0,this.closeButtons.forEach(function(e){e.interactable=!1}),this.closeNode.active=!1,this.jumpToVipStore.node.active=!1,this.spine.node.active=!1,this.vipActiveNode.active=!1,this.vipUpgradeNode.active=!1,this.vipRenewalNode.active=!1,d.gg.logger.log("VIPStatusChangePanel show:",e),t=e.data,this.currentModel=t,this.wordsScrollView.node.active=!1,[4,new Promise(function(e){n.scheduleOnce(function(){return r(n,void 0,void 0,function(){return s(this,function(){return e(),[2]})})})})];case 1:return o.sent(),t.update_type!=m.UpdateType.Upgrade?[3,3]:[4,this.showUpgrade(t)];case 2:o.sent(),o.label=3;case 3:return t.update_type!=m.UpdateType.Renewal?[3,5]:[4,this.showRenewal(t)];case 4:o.sent(),o.label=5;case 5:return t.update_type!=m.UpdateType.Activation?[3,7]:[4,this.showActive(t)];case 6:o.sent(),o.label=7;case 7:return[2]}})})},t.prototype.onJumpToVipStore=function(){return r(this,void 0,Promise,function(){return s(this,function(e){switch(e.label){case 0:return[4,this.onClosePanel()];case 1:return e.sent(),this.isLooping||d.gg.panelRouter.show({panel:u.CommonPanelConfig.storePanel,data:{type:C.GoodsTypeEnum.VIP}}),[2]}})})},t.prototype.onClosePanel=function(){var e,t;return r(this,void 0,Promise,function(){var n,o,i,a,r,l;return s(this,function(s){switch(s.label){case 0:if(this.node.pauseSystemEvents(!0),!((null===(t=null===(e=this.currentModel)||void 0===e?void 0:e.award_list)||void 0===t?void 0:t.length)>0))return[3,2];for(n=0,o=0,i=v.userSystem.userModel.fashion,a=0,r=this.currentModel.award_list;a<r.length;a++)(l=r[a]).award_type==y.AwardType.Coin?n=_.userWalletSystem.coinBalance-l.count:l.award_type==y.AwardType.Diamond&&(o=_.userWalletSystem.diamondBalance-l.count);return this.currentModel?[4,R.gameUISystem.showReceiveFeatures(n,o,i,this.currentModel.award_list)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[4,this.startInit()];case 3:return s.sent()||(d.gg.panelRouter.hide({panel:this.config}),this.isLooping=!1),[2]}})})},t.prototype.activeCloseButton=function(){this.closeNode.active=!0,this.closeButtons.forEach(function(e){e.interactable=!0})},t.prototype.showActive=function(e){return r(this,void 0,Promise,function(){return s(this,function(t){switch(t.label){case 0:return this.setVipLevel(e),this.vipActiveNode.active=!0,this.vipUpgradeNode.active=!1,this.vipRenewalNode.active=!1,[4,this.setCurrentLevelSpine(e.vip_privilege)];case 1:return t.sent(),this.spine.setAnimation(0,""+(this.checkVipIsActive()?this.idle:this.gray)+e.vip_info.vip_level,!0),[4,this.fixDetails(e.vip_privilege,e.award_list)];case 2:return t.sent(),this.activeCloseButton(),[2]}})})},t.prototype.checkVipIsActive=function(){var e,t;return b.default.checkVIPIsActive()||(null===(t=null===(e=null==this?void 0:this.currentModel)||void 0===e?void 0:e.vip_info)||void 0===t?void 0:t.vip_status)===I.VipStatusType.Activation},t.prototype.showUpgrade=function(e){return r(this,void 0,Promise,function(){var t=this;return s(this,function(n){switch(n.label){case 0:return this.setVipLevel(e),this.vipActiveNode.active=!1,this.vipUpgradeNode.active=!0,this.vipRenewalNode.active=!1,[4,this.setCurrentLevelSpine(e.vip_privilege)];case 1:return n.sent(),this.checkVipIsActive()?[4,new Promise(function(n){t.spine.setCompleteListener(function(){n()}),t.spine.setAnimation(0,""+t.pop+e.vip_info.vip_level,!1)})]:[3,3];case 2:n.sent(),n.label=3;case 3:return this.jumpToVipStore.node.active=!this.checkVipIsActive(),this.spine.setAnimation(0,""+(this.checkVipIsActive()?this.idle:this.gray)+e.vip_info.vip_level,!0),this.checkVipIsActive()?[4,this.fixDetails(e.vip_privilege,e.award_list)]:[3,5];case 4:n.sent(),n.label=5;case 5:return this.activeCloseButton(),[2]}})})},t.prototype.showRenewal=function(e){return r(this,void 0,Promise,function(){var t=this;return s(this,function(n){switch(n.label){case 0:return this.setVipLevel(e),this.vipActiveNode.active=!1,this.vipUpgradeNode.active=!1,this.vipRenewalNode.active=!0,[4,this.setCurrentLevelSpine(e.vip_privilege)];case 1:return n.sent(),this.spine.setAnimation(0,""+this.idle+e.vip_info.vip_level,!0),[4,new Promise(function(e){t.scheduleOnce(function(){e()},.5)})];case 2:return n.sent(),this.activeCloseButton(),[2]}})})},t.prototype.setCurrentLevelSpine=function(e){return r(this,void 0,Promise,function(){var t,n,o,i,a,r;return s(this,function(s){switch(s.label){case 0:return d.gg.audio.playOneShot(this.qualifyingUpStar),t=e.vip_level,n=g.BundleConfig.Resources+"/textures/vip/spine/vipLevel/vipgrade_",t<1?(this.wordsScrollView.node.x=0,this.wordsScrollView.node.active=!0,[2]):[3,1];case 1:return t>=1&&t<=3?(o=this.spine,[4,f.default.loadBundleAsset(n+"1/vipgrade_1",sp.SkeletonData)]):[3,3];case 2:return o.skeletonData=s.sent(),[3,9];case 3:return t>=4&&t<=6?(i=this.spine,[4,f.default.loadBundleAsset(n+"4/vipgrade_4",sp.SkeletonData)]):[3,5];case 4:return i.skeletonData=s.sent(),[3,9];case 5:return t>=7&&t<=9?(a=this.spine,[4,f.default.loadBundleAsset(n+"7/vipgrade_7",sp.SkeletonData)]):[3,7];case 6:return a.skeletonData=s.sent(),[3,9];case 7:return r=this.spine,[4,f.default.loadBundleAsset(n+"10/vipgrade_10",sp.SkeletonData)];case 8:r.skeletonData=s.sent(),s.label=9;case 9:return this.spine.node.active=!0,this.wordsScrollView.node.x=-this.wordsScrollView.node.width/3,this.wordsScrollView.node.active=!0,[2]}})})},t.prototype.fixDetails=function(e){return r(this,void 0,Promise,function(){var t,n,o,i,a=this;return s(this,function(c){switch(c.label){case 0:return t=new Array,n=new Array,(null==e?void 0:e.sign_in_bonus)&&0!=e.sign_in_bonus&&((o=[0,0])[0]=0,o[1]=e.sign_in_bonus,n.push(o),t.push("+"+S.CurrencyUtil.toHumanReadable(o[1]))),(null==e?void 0:e.ex_friend_limit)&&0!=e.ex_friend_limit&&((o=[0,0])[0]=1,o[1]=e.ex_friend_limit,n.push(o),t.push("+"+S.CurrencyUtil.toHumanReadable(o[1]))),(null==e?void 0:e.exp_bonus)&&0!=e.exp_bonus&&((o=[0,0])[0]=2,o[1]=e.exp_bonus,n.push(o),t.push("+"+S.CurrencyUtil.toHumanReadable(o[1])+"%")),(null==e?void 0:e.store_discount)&&0!==e.store_discount&&((o=[0,0])[0]=3,o[1]=e.store_discount,n.push(o),t.push("-"+S.CurrencyUtil.toHumanReadable(o[1])+"%")),(null==e?void 0:e.qualifying_score_bonus)&&0!==e.qualifying_score_bonus&&((o=[0,0])[0]=4,o[1]=e.qualifying_score_bonus,n.push(o),t.push("+"+S.CurrencyUtil.toHumanReadable(o[1])+"%")),(null==e?void 0:e.qualifying_card_score_bonus)&&0!==e.qualifying_card_score_bonus&&((o=[0,0])[0]=5,o[1]=e.qualifying_card_score_bonus,n.push(o),t.push("+"+S.CurrencyUtil.toHumanReadable(o[1]))),(null==e?void 0:e.qualifying_props_discount)&&0!==e.qualifying_props_discount&&((o=[0,0])[0]=6,o[1]=e.qualifying_props_discount,n.push(o),t.push("-"+S.CurrencyUtil.toHumanReadable(o[1])+"%")),(null==e?void 0:e.qualifying_ex_heart_limit)&&0!==e.qualifying_ex_heart_limit&&((o=[0,0])[0]=7,o[1]=e.qualifying_ex_heart_limit,n.push(o),t.push("+"+S.CurrencyUtil.toHumanReadable(o[1]))),(null==e?void 0:e.transfer_tax_rate)&&0!==e.transfer_tax_rate&&((o=[0,0])[0]=8,o[1]=e.transfer_tax_rate,n.push(o),t.push(S.CurrencyUtil.toHumanReadable(o[1])+"%")),(null==e?void 0:e.transfer_daily_limit)&&0!==e.transfer_daily_limit&&((o=[0,0])[0]=9,o[1]=e.transfer_daily_limit,n.push(o),t.push(""+S.CurrencyUtil.toHumanReadable(o[1]))),(i=this.detailLayout.children).forEach(function(e){e.active=!1,e.x=0}),n.forEach(function(e,t){if(t>=i.length){var n=cc.instantiate(a.detailLayout.children[0]);a.detailLayout.addChild(n),n.active=!1}}),[4,new Promise(function(e){cc.tween(a.middleAnimNode).to(.5,{x:320},{easing:"bounceOut"}).call(function(){e()}).start()})];case 1:return c.sent(),[4,new Promise(function(e){a.scheduleOnce(function(){return r(a,void 0,void 0,function(){var o,i,a,r,c,u,p,f,g,m=this;return s(this,function(s){switch(s.label){case 0:n.length<=0&&e(),s.label=1;case 1:s.trys.push([1,7,8,13]),o=l(n.entries()),s.label=2;case 2:return[4,o.next()];case 3:return(i=s.sent()).done?[3,6]:(a=i.value,r=a[0],c=a[1],(u=this.detailLayout.children[r]).x=-cc.winSize.width/2,u.active=!0,u.getChildByName("text").getComponent(cc.Label).string=h.i18n.getText("Vip.Detail.CurrentVipTipList"+c[0],""),u.getChildByName("number").getComponent(cc.Label).string=t[r],[4,new Promise(function(e){cc.tween(u).call(function(){m.wordsScrollView.scrollToBottom(.3),d.gg.audio.playOneShot(m.friendDelete)}).to(.2,{x:0},{easing:"bounceOut"}).delay(.2).call(function(){e()}).start()})]);case 4:s.sent(),s.label=5;case 5:return[3,2];case 6:return[3,13];case 7:return p=s.sent(),f={error:p},[3,13];case 8:return s.trys.push([8,,11,12]),i&&!i.done&&(g=o.return)?[4,g.call(o)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,12];case 11:if(f)throw f.error;return[7];case 12:return[7];case 13:return console.log("Over"),this.wordsScrollView.scrollToTop(.5),e(),[2]}})})})})];case 2:return c.sent(),[2]}})})},t.prototype.setVipLevel=function(e){this.vipActiveNode.getComponentInChildren(cc.Label).string=e.vip_privilege.vip_level.toString(),this.vipRenewalNode.getComponentInChildren(cc.Label).string=e.add_day.toString(),this.vipUpgradeNode.getComponentInChildren(cc.Label).string=e.vip_privilege.vip_level.toString()},t.prototype.startInit=function(){return r(this,void 0,Promise,function(){var e;return s(this,function(){return(e=this.optionPanelList.shift())?(this.init(e),[2,!0]):[2,!1]})})},a([M({type:cc.Node,tooltip:"\u6fc0\u6d3b"})],t.prototype,"vipActiveNode",void 0),a([M({type:cc.Node,tooltip:"\u5347\u7ea7"})],t.prototype,"vipUpgradeNode",void 0),a([M({type:cc.Node,tooltip:"\u7eed\u8d39"})],t.prototype,"vipRenewalNode",void 0),a([M({type:sp.Skeleton,tooltip:"\u52a8\u753b"})],t.prototype,"spine",void 0),a([M({type:cc.Node,tooltip:"\u8be6\u60c5\u5e03\u5c40"})],t.prototype,"detailLayout",void 0),a([M({type:cc.Node,tooltip:"close"})],t.prototype,"closeNode",void 0),a([M({type:cc.Node,tooltip:"\u4e2d\u95f4\u52a8\u753b\u8282\u70b9"})],t.prototype,"middleAnimNode",void 0),a([M({type:cc.ScrollView,tooltip:"\u8bcd\u6761\u8282\u70b9"})],t.prototype,"wordsScrollView",void 0),a([M({type:[cc.Button],tooltip:"\u5173\u95ed\u6309\u94ae\u8282\u70b9"})],t.prototype,"closeButtons",void 0),a([M({type:cc.Button,tooltip:"\u8df3\u8f6c\u5230VIP\u5546\u5e97"})],t.prototype,"jumpToVipStore",void 0),a([P],t)}(p.PanelComponent);n.default=T,cc._RF.pop()},{"../../../configs/BundleConfig":"BundleConfig","../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../framework/asset/AssetLoader":"AssetLoader","../../../framework/gg":"gg","../../../framework/i18n/I18n":"I18n","../../../framework/panelrouter/PanelComponent":"PanelComponent","../../../systems/api/gameapi/GameApiModels":"GameApiModels","../../../systems/api/gameapi/PayApiModels":"PayApiModels","../../../systems/game/GameUISystem":"GameUISystem","../../../systems/login/LoginProto":"LoginProto","../../../systems/user/UserProto":"UserProto","../../../systems/user/UserSystem":"UserSystem","../../../systems/user/UserWalletSystem":"UserWalletSystem","../../../utils/CurrencyUtil":"CurrencyUtil","../vipDetail/VIPDetailModel":"VIPDetailModel"}],VIPTimeType:[function(e,t,n){"use strict";cc._RF.push(t,"145fcRBN3BC/qIC5EXTlIXJ","VIPTimeType");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=e("../../../../../../framework/i18n/I18n"),u=e("../../../../../../systems/api/gameapi/GameApiModels"),p=e("../../../../../../systems/api/gameapi/PayApiModels"),h=e("../../../../../../systems/item/CommonItemConfig"),d=e("../../../../../../systems/item/ItemSystem"),f=e("../../../../../../utils/CurrencyUtil"),g=e("../interface/IVIPType"),m=l(e("./VIPBaseType")),y=e("../../../../../../systems/user/UserWalletSystem"),_=e("../../../../../../framework/gg"),v=e("../../../../../../configs/CommonPanelConfig"),b=e("../../../../../../systems/purchase/PurchaseSystem"),S=e("../StoreVIP"),C=l(e("../../../../../../utils/GenericsTools")),I=e("../../../../../../systems/analysis/AnalysisWrapper"),R=e("../../../../../../systems/analysis/AnalysisEvent"),L=cc._decorator,P=L.ccclass,M=L.property,T=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.VIPType=g.EVIPType.VIPTime,t.vipTime=g.EVIPTimeType.SevenDay,t.goldLabel=null,t.buyLabel=null,t.itemLayout=null,t.icon=null,t.itemList=new Array,t.itemScale={avatar_frame:.25,chat_bubble:.2,baloot_card:.4,baloot_bg:.05,ludo_chessboard:.25,ludo_dice:.5,game_gift:.5,qualifying_props:.5},t._goodsModel=null,t._parent=null,t}return i(t,e),Object.defineProperty(t.prototype,"vipCurrentTime",{get:function(){return this.vipTime==g.EVIPTimeType.SevenDay?g.EVIPTimeTypeWithString.SevenDay:g.EVIPTimeTypeWithString.ThirtyDay},enumerable:!1,configurable:!0}),t.prototype.showWithData=function(e,t,n){var o=this;this._goodsModel=e,this._parent=n,this.goldLabel.string=f.CurrencyUtil.toHumanReadable(e.recharge_amount)+"",this.buyLabel.string=e.price+" "+e.currency,this.itemList.forEach(function(e){e.icon.node.active=!1,e.spine.node.active=!1,e.dragon.node.active=!1}),S.StoreVIPModel.loadDragonBonesForCoinOrDiamond(this.icon,e.goods_type===p.GoodsType.Coin?[S.StoreVIPModel.coinSkeIconPath,S.StoreVIPModel.coinTexIconPath]:[S.StoreVIPModel.diamondSkeIconPath,S.StoreVIPModel.diamondTexIconPath]),t.forEach(function(e,t){if(t<o.itemList.length){var n=d.itemSystem.getItem(e.item_id);d.itemSystem.getItemIconInfo(e.item_id).then(function(e){null!=e&&(e.iconType===h.IconType.Image?(o.itemList[t].icon.node.active=!0,o.itemList[t].icon.spriteFrame=e.spriteFrame):e.iconType===h.IconType.Dragon?(o.itemList[t].dragon.node.active=!0,o.itemList[t].dragon.dragonAsset=e.dragonAsset,o.itemList[t].dragon.dragonAtlasAsset=e.dragonAtlasAsset,o.itemList[t].dragon.armatureName="armatureName",o.itemList[t].dragon.playAnimation("animation",0)):e.iconType===h.IconType.Spine&&(o.itemList[t].spine.node.active=!0,o.itemList[t].spine.skeletonData=e.spineData,o.itemList[t].spine.setAnimation(0,"animation",!0)),o.itemScale[n.item_type]?(o.itemList[t].icon.node.scale=o.itemScale[n.item_type],o.itemList[t].dragon.node.scale=o.itemScale[n.item_type],o.itemList[t].spine.node.scale=o.itemScale[n.item_type]):(o.itemList[t].icon.node.scale=1,o.itemList[t].dragon.node.scale=1,o.itemList[t].spine.node.scale=1))})}})},t.prototype.onLoad=function(){var e=this;this.itemList=[],this.itemLayout.children.forEach(function(t){e.itemList.push({icon:t.getComponentInChildren(cc.Sprite),spine:t.getComponentInChildren(sp.Skeleton),dragon:t.getComponentInChildren(dragonBones.ArmatureDisplay)})})},t.prototype._VipInfoUpdateBroadCast=function(){return r(this,void 0,Promise,function(){var t;return s(this,function(n){switch(n.label){case 0:return e.prototype._VipInfoUpdateBroadCast.call(this),[4,C.default.loadingSomething(S.StoreVIPModel.getVIPInfo(0,1,p.GoodsTag.VIPCard))];case 1:return(t=n.sent())&&this._parent.showWithData(t),[2]}})})},t.prototype.buyVIPTime=function(){return r(this,void 0,Promise,function(){var e;return s(this,function(t){switch(t.label){case 0:return this._goodsModel.recharge_amount>0&&this._goodsModel.recharge_amount,this._goodsModel.bonus_amount>0&&this._goodsModel.bonus_amount,u.AwardType.Coin,this._goodsModel.goods_type==p.GoodsType.Coin?(y.userWalletSystem.coinBalance,u.AwardType.Coin):this._goodsModel.goods_type==p.GoodsType.Diamond&&(y.userWalletSystem.diamondBalance,u.AwardType.Diamond),I.analysis.logEvent(R.AnalysisEvent.VipCarBuyClick),[4,_.gg.panelRouter.showAsync({panel:v.CommonPanelConfig.loadingPanel})];case 1:return t.sent(),[4,b.purchaseSystem.purchase(this._goodsModel)];case 2:return e=t.sent(),[4,_.gg.panelRouter.hideAsync({panel:v.CommonPanelConfig.loadingPanel})];case 3:return t.sent(),e||_.gg.panelRouter.show({panel:v.CommonPanelConfig.toastPanel,data:{text:c.i18n.getText("toast.payGoodsFailed")}}),[2]}})})},a([M({tooltip:"VIP Time \u7c7b\u578b",type:cc.Enum(g.EVIPTimeType)})],t.prototype,"vipTime",void 0),a([M({tooltip:"VIP gold",type:cc.Label})],t.prototype,"goldLabel",void 0),a([M({tooltip:"buy label",type:cc.Label})],t.prototype,"buyLabel",void 0),a([M({tooltip:"item layout node",type:cc.Node})],t.prototype,"itemLayout",void 0),a([M({tooltip:"icon",type:dragonBones.ArmatureDisplay})],t.prototype,"icon",void 0),a([P],t)}(m.default);n.default=T,cc._RF.pop()},{"../../../../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../../../../framework/gg":"gg","../../../../../../framework/i18n/I18n":"I18n","../../../../../../systems/analysis/AnalysisEvent":"AnalysisEvent","../../../../../../systems/analysis/AnalysisWrapper":"AnalysisWrapper","../../../../../../systems/api/gameapi/GameApiModels":"GameApiModels","../../../../../../systems/api/gameapi/PayApiModels":"PayApiModels","../../../../../../systems/item/CommonItemConfig":"CommonItemConfig","../../../../../../systems/item/ItemSystem":"ItemSystem","../../../../../../systems/purchase/PurchaseSystem":"PurchaseSystem","../../../../../../systems/user/UserWalletSystem":"UserWalletSystem","../../../../../../utils/CurrencyUtil":"CurrencyUtil","../../../../../../utils/GenericsTools":"GenericsTools","../StoreVIP":"StoreVIP","../interface/IVIPType":"IVIPType","./VIPBaseType":"VIPBaseType"}],Vector2:[function(e,t,n){"use strict";cc._RF.push(t,"e06c5ga04xL7JPwHInO62wa","Vector2"),Object.defineProperty(n,"__esModule",{value:!0}),n.Vector2=void 0;var o=e("./MathUtils3D"),i=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.x=e,this.y=t}return e.prototype.setValue=function(e,t){this.x=e,this.y=t},e.scale=function(e,t,n){n.x=e.x*t,n.y=e.y*t},e.equals=function(e,t){return o.MathUtils3D.nearEqual(e.x,t.x)&&o.MathUtils3D.nearEqual(e.y,t.y)},e.prototype.fromArray=function(e,t){void 0===t&&(t=0),this.x=e[t+0],this.y=e[t+1]},e.prototype.toArray=function(){return[this.x,this.y]},e.prototype.writeTo=function(e,t){void 0===t&&(t=0),e[t+0]=this.x,e[t+1]=this.y},e.prototype.cloneTo=function(e){var t=e;t.x=this.x,t.y=this.y},e.dot=function(e,t){return e.x*t.x+e.y*t.y},e.normalize=function(e,t){var n=e.x,o=e.y,i=n*n+o*o;i>0&&(i=1/Math.sqrt(i),t.x=n*i,t.y=o*i)},e.scalarLength=function(e){var t=e.x,n=e.y;return Math.sqrt(t*t+n*n)},e.prototype.clone=function(){var t=new e;return this.cloneTo(t),t},e.prototype.forNativeElement=function(t){void 0===t&&(t=null),t?(this.elements=t,this.elements[0]=this.x,this.elements[1]=this.y):this.elements=new Float32Array([this.x,this.y]),e.rewriteNumProperty(this,"x",0),e.rewriteNumProperty(this,"y",1)},e.rewriteNumProperty=function(e,t,n){Object.defineProperty(e,t,{get:function(){return this.elements[n]},set:function(e){this.elements[n]=e}})},e.ZERO=new e(0,0),e.ONE=new e(1,1),e.TempVector2=new e,e}();n.Vector2=i,cc._RF.pop()},{"./MathUtils3D":"MathUtils3D"}],Vector3:[function(e,t,n){"use strict";cc._RF.push(t,"11c2eSK5cxPX5P5vMNMn2xU","Vector3"),Object.defineProperty(n,"__esModule",{value:!0}),n.Vector3=void 0;var o=e("./Vector4"),i=e("./MathUtils3D"),a=function(){function e(e,t,n){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),this.x=e,this.y=t,this.z=n}return e.distanceSquared=function(e,t){var n=e.x-t.x,o=e.y-t.y,i=e.z-t.z;return n*n+o*o+i*i},e.distance=function(e,t){var n=e.x-t.x,o=e.y-t.y,i=e.z-t.z;return Math.sqrt(n*n+o*o+i*i)},e.min=function(e,t,n){n.x=Math.min(e.x,t.x),n.y=Math.min(e.y,t.y),n.z=Math.min(e.z,t.z)},e.max=function(e,t,n){n.x=Math.max(e.x,t.x),n.y=Math.max(e.y,t.y),n.z=Math.max(e.z,t.z)},e.transformQuat=function(e,t,n){var o=e.x,i=e.y,a=e.z,r=t.x,s=t.y,l=t.z,c=t.w,u=c*o+s*a-l*i,p=c*i+l*o-r*a,h=c*a+r*i-s*o,d=-r*o-s*i-l*a;n.x=u*c+d*-r+p*-l-h*-s,n.y=p*c+d*-s+h*-r-u*-l,n.z=h*c+d*-l+u*-s-p*-r},e.scalarLength=function(e){var t=e.x,n=e.y,o=e.z;return Math.sqrt(t*t+n*n+o*o)},e.scalarLengthSquared=function(e){var t=e.x,n=e.y,o=e.z;return t*t+n*n+o*o},e.normalize=function(e,t){var n=e.x,o=e.y,i=e.z,a=n*n+o*o+i*i;a>0&&(a=1/Math.sqrt(a),t.x=n*a,t.y=o*a,t.z=i*a)},e.multiply=function(e,t,n){n.x=e.x*t.x,n.y=e.y*t.y,n.z=e.z*t.z},e.scale=function(e,t,n){n.x=e.x*t,n.y=e.y*t,n.z=e.z*t},e.lerp=function(e,t,n,o){var i=e.x,a=e.y,r=e.z;o.x=i+n*(t.x-i),o.y=a+n*(t.y-a),o.z=r+n*(t.z-r)},e.transformV3ToV3=function(t,n,o){var i=e._tempVector4;e.transformV3ToV4(t,n,i),o.x=i.x,o.y=i.y,o.z=i.z},e.transformV3ToV4=function(e,t,n){var o=e.x,i=e.y,a=e.z,r=t.elements;n.x=o*r[0]+i*r[4]+a*r[8]+r[12],n.y=o*r[1]+i*r[5]+a*r[9]+r[13],n.z=o*r[2]+i*r[6]+a*r[10]+r[14],n.w=o*r[3]+i*r[7]+a*r[11]+r[15]},e.TransformNormal=function(e,t,n){var o=e.x,i=e.y,a=e.z,r=t.elements;n.x=o*r[0]+i*r[4]+a*r[8],n.y=o*r[1]+i*r[5]+a*r[9],n.z=o*r[2]+i*r[6]+a*r[10]},e.transformCoordinate=function(e,t,n){var o=e.x,i=e.y,a=e.z,r=t.elements,s=o*r[3]+i*r[7]+a*r[11]+r[15];n.x=(o*r[0]+i*r[4]+a*r[8]+r[12])/s,n.y=(o*r[1]+i*r[5]+a*r[9]+r[13])/s,n.z=(o*r[2]+i*r[6]+a*r[10]+r[14])/s},e.Clamp=function(e,t,n,o){var i=e.x,a=e.y,r=e.z,s=t.x,l=t.y,c=t.z,u=n.x,p=n.y,h=n.z;i=(i=i>u?u:i)<s?s:i,a=(a=a>p?p:a)<l?l:a,r=(r=r>h?h:r)<c?c:r,o.x=i,o.y=a,o.z=r},e.add=function(e,t,n){n.x=e.x+t.x,n.y=e.y+t.y,n.z=e.z+t.z},e.subtract=function(e,t,n){n.x=e.x-t.x,n.y=e.y-t.y,n.z=e.z-t.z},e.cross=function(e,t,n){var o=e.x,i=e.y,a=e.z,r=t.x,s=t.y,l=t.z;n.x=i*l-a*s,n.y=a*r-o*l,n.z=o*s-i*r},e.dot=function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z},e.equals=function(e,t){return i.MathUtils3D.nearEqual(e.x,t.x)&&i.MathUtils3D.nearEqual(e.y,t.y)&&i.MathUtils3D.nearEqual(e.z,t.z)},e.prototype.equal=function(t){return e.equals(this,t)},e.prototype.setValue=function(e,t,n){return this.x=e,this.y=t,this.z=n,this},e.prototype.set=function(e,t,n){return this.x=e,this.y=t,this.z=n,this},e.prototype.fromArray=function(e,t){void 0===t&&(t=0),this.x=e[t+0],this.y=e[t+1],this.z=e[t+2]},e.prototype.toArray=function(){return[this.x,this.y,this.z]},e.prototype.writeTo=function(e,t){void 0===t&&(t=0),e[t+0]=this.x,e[t+1]=this.y,e[t+2]=this.z},e.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},e.prototype.lengthSquared=function(){return this.x*this.x+this.y*this.y+this.z*this.z},e.prototype.vsub=function(e,t){return t.x=this.x-e.x,t.y=this.y-e.y,t.z=this.z-e.z,t},e.prototype.vadd=function(e,t){return t.x=this.x+e.x,t.y=this.y+e.y,t.z=this.z+e.z,t},e.prototype.scale=function(e,t){return t.x=this.x*e,t.y=this.y*e,t.z=this.z*e,t},e.prototype.normalize=function(){var e=this.x,t=this.y,n=this.z,o=e*e+t*t+n*n;return o>0&&(o=1/Math.sqrt(o),this.x=e*o,this.y=t*o,this.z=n*o),this},e.prototype.dot=function(e){return this.x*e.x+this.y*e.y+this.z*e.z},e.prototype.cross=function(e,t){var n=this.x,o=this.y,i=this.z,a=e.x,r=e.y,s=e.z;return t.x=o*s-i*r,t.y=i*a-n*s,t.z=n*r-o*a,t},e.prototype.cloneTo=function(e){var t=e;t.x=this.x,t.y=this.y,t.z=this.z},e.prototype.clone=function(){var t=new e;return this.cloneTo(t),t},e.prototype.toDefault=function(){this.x=0,this.y=0,this.z=0},e._tempVector4=new o.Vector4,e._tempVector3=new e,e.ZERO=new e(0,0,0),e.ONE=new e(1,1,1),e.NegativeUnitX=new e(-1,0,0),e.UnitX=new e(1,0,0),e.UnitY=new e(0,1,0),e.UnitZ=new e(0,0,1),e.ForwardRH=new e(0,0,-1),e.ForwardLH=new e(0,0,1),e.Up=new e(0,1,0),e}();n.Vector3=a,cc._RF.pop()},{"./MathUtils3D":"MathUtils3D","./Vector4":"Vector4"}],Vector4:[function(e,t,n){"use strict";cc._RF.push(t,"0a7e07uIC5B8Ie6iyA0tCT+","Vector4"),Object.defineProperty(n,"__esModule",{value:!0}),n.Vector4=void 0;var o=e("./MathUtils3D"),i=e("./Vector2"),a=function(){function e(e,t,n,o){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===o&&(o=0),this.x=e,this.y=t,this.z=n,this.w=o}return e.prototype.setValue=function(e,t,n,o){this.x=e,this.y=t,this.z=n,this.w=o},e.prototype.fromArray=function(e,t){void 0===t&&(t=0),this.x=e[t+0],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3]},e.prototype.toArray=function(){return[this.x,this.y,this.z,this.w]},e.prototype.writeTo=function(e,t){void 0===t&&(t=0),e[t+0]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w},e.prototype.cloneTo=function(e){var t=e;t.x=this.x,t.y=this.y,t.z=this.z,t.w=this.w},e.prototype.clone=function(){var t=new e;return this.cloneTo(t),t},e.lerp=function(e,t,n,o){var i=e.x,a=e.y,r=e.z,s=e.w;o.x=i+n*(t.x-i),o.y=a+n*(t.y-a),o.z=r+n*(t.z-r),o.w=s+n*(t.w-s)},e.transformByM4x4=function(e,t,n){var o=e.x,i=e.y,a=e.z,r=e.w,s=t.elements;n.x=o*s[0]+i*s[4]+a*s[8]+r*s[12],n.y=o*s[1]+i*s[5]+a*s[9]+r*s[13],n.z=o*s[2]+i*s[6]+a*s[10]+r*s[14],n.w=o*s[3]+i*s[7]+a*s[11]+r*s[15]},e.equals=function(e,t){return o.MathUtils3D.nearEqual(Math.abs(e.x),Math.abs(t.x))&&o.MathUtils3D.nearEqual(Math.abs(e.y),Math.abs(t.y))&&o.MathUtils3D.nearEqual(Math.abs(e.z),Math.abs(t.z))&&o.MathUtils3D.nearEqual(Math.abs(e.w),Math.abs(t.w))},e.prototype.equal=function(t){return e.equals(this,t)},e.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},e.prototype.lengthSquared=function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},e.normalize=function(e,t){var n=e.length();if(n>0){var o=1/n;t.x=e.x*o,t.y=e.y*o,t.z=e.z*o,t.w=e.w*o}},e.add=function(e,t,n){n.x=e.x+t.x,n.y=e.y+t.y,n.z=e.z+t.z,n.w=e.w+t.w},e.subtract=function(e,t,n){n.x=e.x-t.x,n.y=e.y-t.y,n.z=e.z-t.z,n.w=e.w-t.w},e.multiply=function(e,t,n){n.x=e.x*t.x,n.y=e.y*t.y,n.z=e.z*t.z,n.w=e.w*t.w},e.scale=function(e,t,n){n.x=e.x*t,n.y=e.y*t,n.z=e.z*t,n.w=e.w*t},e.Clamp=function(e,t,n,o){var i=e.x,a=e.y,r=e.z,s=e.w,l=t.x,c=t.y,u=t.z,p=t.w,h=n.x,d=n.y,f=n.z,g=n.w;i=(i=i>h?h:i)<l?l:i,a=(a=a>d?d:a)<c?c:a,r=(r=r>f?f:r)<u?u:r,s=(s=s>g?g:s)<p?p:s,o.x=i,o.y=a,o.z=r,o.w=s},e.distanceSquared=function(e,t){var n=e.x-t.x,o=e.y-t.y,i=e.z-t.z,a=e.w-t.w;return n*n+o*o+i*i+a*a},e.distance=function(e,t){var n=e.x-t.x,o=e.y-t.y,i=e.z-t.z,a=e.w-t.w;return Math.sqrt(n*n+o*o+i*i+a*a)},e.dot=function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z+e.w*t.w},e.min=function(e,t,n){n.x=Math.min(e.x,t.x),n.y=Math.min(e.y,t.y),n.z=Math.min(e.z,t.z),n.w=Math.min(e.w,t.w)},e.max=function(e,t,n){n.x=Math.max(e.x,t.x),n.y=Math.max(e.y,t.y),n.z=Math.max(e.z,t.z),n.w=Math.max(e.w,t.w)},e.prototype.forNativeElement=function(e){void 0===e&&(e=null),e?(this.elements=e,this.elements[0]=this.x,this.elements[1]=this.y,this.elements[2]=this.z,this.elements[3]=this.w):this.elements=new Float32Array([this.x,this.y,this.z,this.w]),i.Vector2.rewriteNumProperty(this,"x",0),i.Vector2.rewriteNumProperty(this,"y",1),i.Vector2.rewriteNumProperty(this,"z",2),i.Vector2.rewriteNumProperty(this,"w",3)},e.ZERO=new e,e.ONE=new e(1,1,1,1),e.UnitX=new e(1,0,0,0),e.UnitY=new e(0,1,0,0),e.UnitZ=new e(0,0,1,0),e.UnitW=new e(0,0,0,1),e.tempVec4=new e(0,0,0,0),e}();n.Vector4=a,cc._RF.pop()},{"./MathUtils3D":"MathUtils3D","./Vector2":"Vector2"}],VectorGraphManager:[function(e,t,n){"use strict";cc._RF.push(t,"5caf3V82RNGnY53biu2RSgc","VectorGraphManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.VectorGraphManager=void 0;var o=e("./CacheManger"),i=function(){function e(){this.useDic={},this.shapeDic={},this.shapeLineDic={},this._id=0,this._checkKey=!1,this._freeIdArray=[],o.CacheManger.regCacheByFunction(this.startDispose.bind(this),this.getCacheList.bind(this))}return e.getInstance=function(){return e.instance=e.instance||new e},e.prototype.getId=function(){return this._id++},e.prototype.addShape=function(e,t){this.shapeDic[e]=t,this.useDic[e]||(this.useDic[e]=!0)},e.prototype.addLine=function(e,t){this.shapeLineDic[e]=t,this.shapeLineDic[e]||(this.shapeLineDic[e]=!0)},e.prototype.getShape=function(e){this._checkKey&&null!=this.useDic[e]&&(this.useDic[e]=!0)},e.prototype.deleteShape=function(e){this.shapeDic[e]&&(this.shapeDic[e]=null,delete this.shapeDic[e]),this.shapeLineDic[e]&&(this.shapeLineDic[e]=null,delete this.shapeLineDic[e]),null!=this.useDic[e]&&delete this.useDic[e]},e.prototype.getCacheList=function(){var e,t=[];for(e in this.shapeDic)t.push(this.shapeDic[e]);for(e in this.shapeLineDic)t.push(this.shapeLineDic[e]);return t},e.prototype.startDispose=function(){var e;for(e in this.useDic)this.useDic[e]=!1;this._checkKey=!0},e.prototype.endDispose=function(){if(this._checkKey){var e;for(e in this.useDic)this.useDic[e]||this.deleteShape(e);this._checkKey=!1}},e}();n.VectorGraphManager=i,cc._RF.pop()},{"./CacheManger":"CacheManger"}],VerticalVirtualList:[function(e,t,n){"use strict";cc._RF.push(t,"12fcfUqLFNGxL/LuNMBpOoT","VerticalVirtualList");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../CommonProperty"),s=e("./VitrualListItemComponent"),l=cc._decorator,c=l.ccclass,u=l.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scrollView=null,t.itemNode=null,t.layoutProperty=null,t._virtualNodes=[],t._virtualNodeDatas=[],t._lastUpdateTime=0,t._nodePool=new cc.NodePool,t}return i(t,e),t.prototype._getNode=function(){var e=this._nodePool.get();return e||(e=cc.instantiate(this.itemNode)),e},t.prototype._putNode=function(e){this._nodePool.put(e)},t.prototype.resetVirtualList=function(){this._virtualNodes=[];for(var e=this.scrollView.content.children.length-1;e>=0;--e)this._putNode(this.scrollView.content.children[e]);this.scrollView.scrollToTop(0),this.scrollView.content.height=0},t.prototype.onEnable=function(){this.scrollView.content.on(cc.Node.EventType.POSITION_CHANGED,this._onPositionChanged,this),this.scrollView.node.on("scroll-ended",this._updateVisableList,this)},t.prototype.onDisable=function(){this.scrollView.content.off(cc.Node.EventType.POSITION_CHANGED,this._onPositionChanged,this),this.scrollView.node.off("scroll-ended",this._updateVisableList,this)},t.prototype._onPositionChanged=function(){var e=Date.now();e-this._lastUpdateTime>100&&(this._lastUpdateTime=e,this._updateVisableList())},t.prototype.bindData=function(e){this._virtualNodeDatas=e},t.prototype.insert=function(e,t){for(var n=0;n<t;++n)this._virtualNodes.splice(e,0,null);this._updateListHeight(),this._updateVisableList()},t.prototype.splice=function(e){var t=this._virtualNodes[e];t&&this._putNode(t),this._virtualNodes.splice(e,1),this._updateListHeight(),this._updateVisableList()},t.prototype._updateListHeight=function(){this.scrollView.content.height=this.layoutProperty.paddingTop+this.layoutProperty.paddingBottom+this.itemNode.height*this._virtualNodes.length+this.layoutProperty.spaceingY*(this._virtualNodes.length-1),this.scrollView.content.height<this.scrollView.node.height&&(this.scrollView.content.height=this.scrollView.node.height)},t.prototype._updateVisableList=function(){for(var e=0;e<this._virtualNodes.length;++e){var t=this._virtualNodes[e];if(this._isVisable(e)){if(!t){(t=this._getNode()).parent=this.scrollView.content,this._virtualNodes[e]=t;var n=t.getComponent(s.VitrualListItemComponent);n.bindData(this._virtualNodeDatas[e]),n.refresh()}t.position=this._convertIndexToPosition(e)}else t&&this._putNode(t),this._virtualNodes[e]=null}},t.prototype._isVisable=function(e){var t=this._convertIndexToPosition(e),n=-this.scrollView.content.position.y;return n-this.scrollView.node.height-.5*this.itemNode.height<=t.y&&t.y<=n+.5*this.itemNode.height},t.prototype._convertIndexToPosition=function(e){return cc.v3(0,-(this.layoutProperty.paddingTop+this.itemNode.height*(e+.5)+this.layoutProperty.spaceingY*e))},a([u({type:cc.ScrollView,tooltip:"scrollView"})],t.prototype,"scrollView",void 0),a([u({type:cc.Node,tooltip:"\u5217\u8868Item"})],t.prototype,"itemNode",void 0),a([u({type:r.LayoutProperty,tooltip:"\u865a\u62dfLayout\u5c5e\u6027"})],t.prototype,"layoutProperty",void 0),a([c],t)}(cc.Component);n.default=p,cc._RF.pop()},{"../CommonProperty":"CommonProperty","./VitrualListItemComponent":"VitrualListItemComponent"}],VipRechargeEvent:[function(e,t,n){"use strict";cc._RF.push(t,"52becYmHw9OxLu+1c33Jdmf","VipRechargeEvent"),Object.defineProperty(n,"__esModule",{value:!0}),n.VipRechargeEvent=void 0,(n.VipRechargeEvent||(n.VipRechargeEvent={})).surprisePackageHint="VipRechargeEvent.surprisePackageHint",cc._RF.pop()},{}],VipRechargePanel:[function(e,t,n){"use strict";cc._RF.push(t,"de3a5aDaeNM74zFQFNJKYpJ","VipRechargePanel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.VipRechargeActivityType=void 0;var c,u=e("../../../../../main/scripts/configs/CommonAudioConfig"),p=l(e("../../../../../main/scripts/framework/components/dialogstyle/MoveStyleDialogPanelV1")),h=e("../../../../../main/scripts/framework/gg"),d=e("../../../../../main/scripts/framework/utils/TimeUtils"),f=e("../../../../../main/scripts/prefabs/panels/store/StoreUIEvent"),g=e("../../../../../main/scripts/systems/api/gameapi/GameApiModels"),m=e("../../../../../main/scripts/systems/user/UserSystem"),y=e("../../../configs/CommonPanelConfig"),_=e("../../../systems/lobby/LobbyHintSystem"),v=e("../../../systems/vipRecharge/VipRechargeEvent"),b=e("../../../systems/vipRecharge/VipRechargeSystem"),S=l(e("./LevelUpBonusComponent")),C=l(e("./SurprisePackageComponent")),I=e("./VipRechargeUIEvent"),R=cc._decorator,L=R.ccclass,P=R.property;(function(e){e.SurprisePackage="surprisePackage",e.LevelUpBonus="levelUpBonus"})(c=n.VipRechargeActivityType||(n.VipRechargeActivityType={}));var M=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.surprisePackageComponent=null,t.surprisePackageChoose=null,t.surprisePackageHint=null,t.levelUpBonusComponent=null,t.levelUpBonusChoose=null,t.levelUpBonusHint=null,t.activityTimeLab=null,t.activityType=null,t}return i(t,e),t.prototype.onEnable=function(){h.gg.eventManager.on(I.VipRechargeUIEvent.onUpdataVipRechargeInfo,this.onUpdataVipRecharge,this),h.gg.eventManager.on(f.StoreUIEvent.StorePanelClose,this.onUpdataVipRecharge,this),h.gg.eventManager.on(v.VipRechargeEvent.surprisePackageHint,this.onSurprisePackageHint,this)},t.prototype.onDisable=function(){h.gg.eventManager.offTarget(this),this.reset()},t.prototype.onLoad=function(){this.reset()},t.prototype.show=function(e){this._playShowAnim(function(){e.onShowed()}),this.initShowUI()},t.prototype.hide=function(e){this._playHideAnim(function(){e.onHided(),_.lobbyHintSystem.getHintData(g.LobbyHintEnum.VipRechargeReddot)})},t.prototype.reset=function(){this.surprisePackageComponent.node.active=!1,this.surprisePackageChoose.active=!1,this.levelUpBonusComponent.node.active=!1,this.levelUpBonusChoose.active=!1,this.levelUpBonusHint.active=!1,this.surprisePackageHint.active=!1},t.prototype.onUpdataVipRecharge=function(){return r(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return[4,b.vipRechargeSystem._getVipRechargeInfo()];case 1:return e.sent()?(this.onlevelUpBonusHint(),this.surprisePackageComponent.node.active?this.surprisePackageComponent.updateUI():this.levelUpBonusComponent.updataUI()):(h.gg.logger.error("\u6d3b\u52a8\u6570\u636e\u51fa\u95ee\u9898,\u5173\u95ed\u9762\u677f"),this.onCloseBtnClick()),[2]}})})},t.prototype.initShowUI=function(){var e,t;this.activityTimeLab.string=d.TimeUtils.formatData(b.vipRechargeSystem.vipRechargeInfo.end_time,"yyyy.MM.dd")+"-"+d.TimeUtils.formatData(b.vipRechargeSystem.vipRechargeInfo.start_time,"yyyy.MM.dd"),(null===(t=null===(e=b.vipRechargeSystem.vipRechargeInfo)||void 0===e?void 0:e.surprise_package)||void 0===t?void 0:t.status)===g.SurprisePackageStatusType.Received?this.activityType=c.LevelUpBonus:this.activityType=c.SurprisePackage,this.changeDesign(),this.onlevelUpBonusHint(),this.onSurprisePackageHint()},t.prototype.onSurprisePackageHint=function(){"1"!=h.gg.localStorage.getItem("vip_activity_open_"+m.userSystem.userModel.uid)&&b.vipRechargeSystem.surprisePackageHint?this.surprisePackageHint.active=!0:this.surprisePackageHint.active=b.vipRechargeSystem.surprisePackageHint},t.prototype.onlevelUpBonusHint=function(){this.levelUpBonusHint.active=b.vipRechargeSystem.levelUpBonusHint},t.prototype.onCloseBtnClick=function(){h.gg.panelRouter.hide({panel:y.CommonPanelConfig.vipRechargePanel}),h.gg.audio.playOneShot(u.CommonAudioConfig.btnClose)},t.prototype.changeDesign=function(){switch(this.activityType){case c.SurprisePackage:this.surprisePackageComponent.node.active=!0,this.surprisePackageChoose.active=!0,this.levelUpBonusComponent.node.active=!1,this.levelUpBonusChoose.active=!1;break;case c.LevelUpBonus:this.surprisePackageComponent.node.active=!1,this.surprisePackageChoose.active=!1,this.levelUpBonusComponent.node.active=!0,this.levelUpBonusChoose.active=!0}},t.prototype.onClickSurprisePackage=function(){this.activityType!=c.SurprisePackage&&(this.activityType=c.SurprisePackage,this.changeDesign())},t.prototype.onClickLevelUpBonus=function(){this.activityType!=c.LevelUpBonus&&(this.activityType=c.LevelUpBonus,this.changeDesign())},a([P({type:C.default,tooltip:"\u60ca\u559c\u793c\u5305\u7ec4\u4ef6"})],t.prototype,"surprisePackageComponent",void 0),a([P({type:cc.Node,tooltip:"\u9009\u4e2d\u60ca\u559c\u793c\u5305\u7ec4\u4ef6"})],t.prototype,"surprisePackageChoose",void 0),a([P({type:cc.Node,tooltip:"\u60ca\u559c\u793c\u5305\u7ea2\u70b9"})],t.prototype,"surprisePackageHint",void 0),a([P({type:S.default,tooltip:"vip\u5145\u503c\u5347\u7ea7\u5956\u52b1\u7ec4\u4ef6"})],t.prototype,"levelUpBonusComponent",void 0),a([P({type:cc.Node,tooltip:"\u9009\u4e2d\u65b0\u624b7\u5929\u767b\u7b7e\u5230"})],t.prototype,"levelUpBonusChoose",void 0),a([P({type:cc.Node,tooltip:"\u5145\u503c\u5347\u7ea7\u5956\u52b1\u7ea2\u70b9"})],t.prototype,"levelUpBonusHint",void 0),a([P({type:cc.Label,tooltip:"\u6d3b\u52a8\u65f6\u95f4"})],t.prototype,"activityTimeLab",void 0),a([L],t)}(p.default);n.default=M,cc._RF.pop()},{"../../../../../main/scripts/configs/CommonAudioConfig":"CommonAudioConfig","../../../../../main/scripts/framework/components/dialogstyle/MoveStyleDialogPanelV1":"MoveStyleDialogPanelV1","../../../../../main/scripts/framework/gg":"gg","../../../../../main/scripts/framework/utils/TimeUtils":"TimeUtils","../../../../../main/scripts/prefabs/panels/store/StoreUIEvent":"StoreUIEvent","../../../../../main/scripts/systems/api/gameapi/GameApiModels":"GameApiModels","../../../../../main/scripts/systems/user/UserSystem":"UserSystem","../../../configs/CommonPanelConfig":"CommonPanelConfig","../../../systems/lobby/LobbyHintSystem":"LobbyHintSystem","../../../systems/vipRecharge/VipRechargeEvent":"VipRechargeEvent","../../../systems/vipRecharge/VipRechargeSystem":"VipRechargeSystem","./LevelUpBonusComponent":"LevelUpBonusComponent","./SurprisePackageComponent":"SurprisePackageComponent","./VipRechargeUIEvent":"VipRechargeUIEvent"}],VipRechargeRulePanel:[function(e,t,n){"use strict";cc._RF.push(t,"f24b7pnroFBeZ7rde32UMQB","VipRechargeRulePanel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../../../../main/scripts/configs/CommonAudioConfig"),l=r(e("../../../../../main/scripts/framework/components/dialogstyle/MoveStyleDialogPanelV1")),c=e("../../../../../main/scripts/framework/gg"),u=e("../../../configs/CommonPanelConfig"),p=cc._decorator,h=p.ccclass,d=(p.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.show=function(e){this._playShowAnim(function(){e.onShowed()})},t.prototype.hide=function(e){this._playHideAnim(function(){e.onHided()})},t.prototype.onCloseBtnClick=function(){c.gg.panelRouter.hide({panel:u.CommonPanelConfig.vipRechargeRulePanel}),c.gg.audio.playOneShot(s.CommonAudioConfig.btnClose)},a([h],t)}(l.default));n.default=d,cc._RF.pop()},{"../../../../../main/scripts/configs/CommonAudioConfig":"CommonAudioConfig","../../../../../main/scripts/framework/components/dialogstyle/MoveStyleDialogPanelV1":"MoveStyleDialogPanelV1","../../../../../main/scripts/framework/gg":"gg","../../../configs/CommonPanelConfig":"CommonPanelConfig"}],VipRechargeSystem:[function(e,t,n){"use strict";cc._RF.push(t,"e9e89V6t/NARq2RjYD9GhhO","VipRechargeSystem");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.vipRechargeSystem=void 0;var a=e("../../../../main/scripts/framework/gg"),r=e("../../../../main/scripts/systems/api/gameapi/GameApi"),s=e("../../../../main/scripts/systems/api/gameapi/GameApiModels"),l=e("./VipRechargeEvent"),c=function(){function e(){this.vipRechargeInfo=null,this.levelUpBonusList=null,this.surprisePackageHint=!1,this.levelUpBonusHint=!1}return e.prototype._getVipRechargeInfo=function(){var e;return o(this,void 0,Promise,function(){var t;return i(this,function(n){switch(n.label){case 0:return this.levelUpBonusHint=!1,this.surprisePackageHint=!1,this.levelUpBonusList=null,[4,r.gameApi.getVipRechargeInfo().catch(function(){return null})];case 1:return 1==(null==(t=n.sent())?void 0:t.status)&&t.data?(this.vipRechargeInfo=t.data,this.updataStatusHint(),(null===(e=this.vipRechargeInfo.level_up_bonus_list)||void 0===e?void 0:e.length)>0&&this.levelUpBonusSort(),[2,!0]):(this.vipRechargeInfo=null,[2,!1])}})})},e.prototype.levelUpBonusSort=function(){var e=[],t=[],n=[];this.vipRechargeInfo.level_up_bonus_list.forEach(function(o){o.status===s.LevelUpStatusType.Completed?e.push(o):o.status===s.LevelUpStatusType.Undone?t.push(o):o.status===s.LevelUpStatusType.Received&&n.push(o)}),e.sort(this.compare("task_id")),t.sort(this.compare("task_id")),n.sort(this.compare("task_id")),this.levelUpBonusList=e.concat(t,n)},e.prototype.compare=function(e){return function(t,n){return t[e]-n[e]}},e.prototype.updataStatusHint=function(){var e,t,n;if((null===(e=this.vipRechargeInfo.surprise_package)||void 0===e?void 0:e.status)!=s.SurprisePackageStatusType.Received&&(this.surprisePackageHint=!0),(null===(n=null===(t=this.vipRechargeInfo)||void 0===t?void 0:t.level_up_bonus_list)||void 0===n?void 0:n.length)>0){this.levelUpBonusHint=!1;for(var o=0,i=this.vipRechargeInfo.level_up_bonus_list;o<i.length;o++)if(i[o].status==s.LevelUpStatusType.Completed){this.levelUpBonusHint=!0;break}}},e.prototype._receiveSurprisePackage=function(){return o(this,void 0,Promise,function(){var e;return i(this,function(t){switch(t.label){case 0:return[4,r.gameApi.openSurprisePackage().catch(function(){return null})];case 1:return 1==(null==(e=t.sent())?void 0:e.status)?(this.surprisePackageHint=!1,this.vipRechargeInfo.surprise_package.status=s.SurprisePackageStatusType.Received,a.gg.eventManager.emit(l.VipRechargeEvent.surprisePackageHint),[2,!0]):[2,!1]}})})},e.prototype._receiveLevelUpBonus=function(e){return o(this,void 0,Promise,function(){var t;return i(this,function(n){switch(n.label){case 0:return[4,r.gameApi.receiveLevelUpBonus(e).catch(function(){return null})];case 1:return 1==(null==(t=n.sent())?void 0:t.status)?[2,!0]:[2,!1]}})})},e}();n.vipRechargeSystem=new c,cc._RF.pop()},{"../../../../main/scripts/framework/gg":"gg","../../../../main/scripts/systems/api/gameapi/GameApi":"GameApi","../../../../main/scripts/systems/api/gameapi/GameApiModels":"GameApiModels","./VipRechargeEvent":"VipRechargeEvent"}],VipRechargeUIEvent:[function(e,t,n){"use strict";cc._RF.push(t,"e8888P6M3NI7oxhB+Dycn7r","VipRechargeUIEvent"),Object.defineProperty(n,"__esModule",{value:!0}),n.VipRechargeUIEvent=void 0,(n.VipRechargeUIEvent||(n.VipRechargeUIEvent={})).onUpdataVipRechargeInfo="VipRechargeUIEvent.onUpdataVipRechargeInfo",cc._RF.pop()},{}],VipSystem:[function(e,t,n){"use strict";cc._RF.push(t,"fc256jgldxHVIahAcoZ4HtI","VipSystem");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.vipSystem=void 0;var a=e("../../configs/CommonPanelConfig"),r=e("../../framework/gg"),s=e("../../framework/i18n/I18n"),l=e("../../framework/utils/TimeUtils"),c=e("../../uiSystem/GameAnimSystem"),u=e("../../uiSystem/GamePanelSystem"),p=e("../analysis/AnalysisEvent"),h=e("../analysis/AnalysisWrapper"),d=e("../api/gameapi/PayApiModels"),f=e("../gamews/GameSocketSystem"),g=e("../login/LoginEvent"),m=e("../login/LoginProto"),y=e("./UserEvent"),_=e("./UserProto"),v=e("./UserSystem"),b=function(){function e(){this.VipInfoUpdate=null,this.timeOut=null,this.gameToOtherVipExpired=!1}return e.prototype.enable=function(){this.disable(),r.gg.eventManager.on(g.LoginEvent.OnUserKickOut,this._onUserOut,this),r.gg.eventManager.on(g.LoginEvent.OnUserLogout,this._onUserOut,this),r.gg.eventManager.on(g.LoginEvent.OnUserLostConnection,this._onUserOut,this),f.gameSocketSystem.on(_.UserProtoMsg.VipInfoUpdateBroadCast,this._VipInfoUpdateBroadCast,this),this.vipAgingTimer()},e.prototype.disable=function(){this.timeOut&&clearTimeout(this.timeOut),f.gameSocketSystem.offTarget(this),this.VipInfoUpdate=null,this.gameToOtherVipExpired=!1},e.prototype._onUserOut=function(){this.disable()},e.prototype._VipInfoUpdateBroadCast=function(e){r.gg.logger.log("vip\u5e7f\u64ad\u53d8\u66f4-------",e,u.gameAnimSystem.getAnimPlaying()),v.userSystem.userModel.vipInfo=e.vip_info,this.VipInfoUpdate=e,0==u.gameAnimSystem.getAnimPlaying()&&this.showVipUpdateAnimUI(),r.gg.eventManager.emit(y.UserEvent.OnUserVipUpdate),this.vipAgingTimer()},e.prototype.vipAgingTimer=function(){var e,t,n=this;this.timeOut&&clearTimeout(this.timeOut);var o=1e3*v.userSystem.userModel.vipInfo.expire_time-Date.now()+5e3;r.gg.logger.log("vip\u8fc7\u671f\u5b9a\u65f6\u5668\u5f00\u542f---------",o/1e3),(null===(t=null===(e=v.userSystem.userModel)||void 0===e?void 0:e.vipInfo)||void 0===t?void 0:t.vip_status)===m.VipStatusType.Activation&&o>0&&(this.timeOut=setTimeout(function(){var e=Date.now()/1e3;v.userSystem.userModel.vipInfo.expire_time-e<=0&&(r.gg.logger.log("vip---\u8fc7\u671f"),n.expiredUI())},o))},e.prototype.expiredUI=function(){var e;return o(this,void 0,void 0,function(){var t,n;return i(this,function(o){switch(o.label){case 0:return[4,v.userSystem.searchUserAsync({uid:v.userSystem.userModel.uid})];case 1:if(1==(t=o.sent()).status&&(null===(e=t.user)||void 0===e?void 0:e.vip_info))if(n=1e3*v.userSystem.userModel.vipInfo.expire_time-Date.now(),t.user.vip_info.vip_status===m.VipStatusType.Inactivated||n<0){if(c.gamePanelSystem.gameShowPanel==c.GamePanelType.Game)return r.gg.eventManager.emit(y.UserEvent.OnUserVipExpired),this.gameToOtherVipExpired=!0,[2];this.timeOut&&clearTimeout(this.timeOut),this.showVipExpiredUI(),r.gg.eventManager.emit(y.UserEvent.OnUserVipUpdate),t.user.frame!=v.userSystem.userModel.userIconFrame&&r.gg.eventManager.emit(y.UserEvent.OnUserIconFrameChanged)}else v.userSystem.userModel.vipInfo=t.user.vip_info,this.vipAgingTimer();return[2]}})})},e.prototype.gameToOtherVipExpiredUI=function(){this.gameToOtherVipExpired&&(this.showVipExpiredUI(),this.gameToOtherVipExpired=!1)},e.prototype.showVipExpiredUI=function(){r.gg.logger.log("\u5f39\u51favip\u6fc0\u6d3b\u5f39\u7a97-------");var e=l.TimeUtils.formatDate(1e3*v.userSystem.userModel.vipInfo.expire_time);r.gg.panelRouter.show({panel:a.CommonPanelConfig.alertPanel2,data:{msgLabel:s.i18n.getText("vip.label.expiredTip",e),confirmBtnLabel:s.i18n.getText("vip.label.activation"),onConfirmBtnClick:function(){r.gg.panelRouter.hide({panel:a.CommonPanelConfig.alertPanel2}),h.analysis.logEvent(p.AnalysisEvent.VipExpiredOpenClick),r.gg.panelRouter.show({panel:a.CommonPanelConfig.storePanel,data:{type:d.GoodsTypeEnum.VIP}})}}})},e.prototype.checkVipInfoUpdateAnimPlay=function(){this.showVipUpdateAnimUI()},e.prototype.showVipUpdateAnimUI=function(){this.VipInfoUpdate&&(r.gg.logger.log("\u52a8\u753b\u903b\u8f91"),r.gg.panelRouter.show({panel:a.CommonPanelConfig.vipStatusChangePanel,data:this.VipInfoUpdate})),this.VipInfoUpdate=null},e}();n.vipSystem=new b,cc._RF.pop()},{"../../configs/CommonPanelConfig":"CommonPanelConfig","../../framework/gg":"gg","../../framework/i18n/I18n":"I18n","../../framework/utils/TimeUtils":"TimeUtils","../../uiSystem/GameAnimSystem":"GameAnimSystem","../../uiSystem/GamePanelSystem":"GamePanelSystem","../analysis/AnalysisEvent":"AnalysisEvent","../analysis/AnalysisWrapper":"AnalysisWrapper","../api/gameapi/PayApiModels":"PayApiModels","../gamews/GameSocketSystem":"GameSocketSystem","../login/LoginEvent":"LoginEvent","../login/LoginProto":"LoginProto","./UserEvent":"UserEvent","./UserProto":"UserProto","./UserSystem":"UserSystem"}],VitrualListItemComponent:[function(e,t,n){"use strict";cc._RF.push(t,"8774afgUNNLLY8wC0Bwp4QZ","VitrualListItemComponent");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.VitrualListItemComponent=void 0;var r=cc._decorator,s=r.ccclass,l=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),a([s],t)}(cc.Component));n.VitrualListItemComponent=l,cc._RF.pop()},{}],VoiceChatEvent:[function(e,t,n){"use strict";cc._RF.push(t,"8db66cnxKRGqZ+vXzVjLuee","VoiceChatEvent"),Object.defineProperty(n,"__esModule",{value:!0}),n.VoiceChatEvent=void 0,function(e){e.OnTokenPrivilegeWillExpire="VoiceChatEvent.OnTokenPrivilegeWillExpire",e.OnTokenExpired="VoiceChatEvent.OnTokenExpired",e.OnVolumeChanged="VoiceChatEvent.OnVolumeChanged",e.OnJoinChannelSuccess="VoiceChatEvent.OnJoinChannelSuccess",e.OnLeaveChannelSuccess="VoiceChatEvent.OnLeaveChannelSuccess",e.OnOtherPlayerJoinChannelSuccess="VoiceChatEvent.OnOtherPlayerJoinChannelSuccess",e.OnOtherPlayerLeaveChannelSuccess="VoiceChatEvent.OnOtherPlayerLeaveChannelSuccess",e.OnOtherPlayerMuteChanged="VoiceChatEvent.OnOtherPlayerMuteChanged",e.OnLocalAudioVolumeIndication="VoiceChatEvent.OnLocalAudioVolumeIndication",e.OnRemoteAudioVolumeIndication="VoiceChatEvent.OnRemoteAudioVolumeIndication"}(n.VoiceChatEvent||(n.VoiceChatEvent={})),cc._RF.pop()},{}],VoiceChatSystem:[function(e,t,n){"use strict";cc._RF.push(t,"0d0fbiSvGNDcJD0zgE7PpEc","VoiceChatSystem");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.voiceChatSystem=void 0;var i=e("../../ffframework/agora/AgoraWrapper"),a=e("../../framework/gg"),r=o(e("../../framework/utils/StringUtils")),s=e("./VoiceChatEvent"),l=function(){function e(){this._channel=null}return e.prototype.init=function(e,t){void 0===e&&(e=""),void 0===t&&(t=1e3),i.AgoraWrapper.init(e,t),console.log("agora: init"),this._enable()},e.prototype.release=function(){null!=window.agora&&(this._disable(),i.AgoraWrapper&&i.AgoraWrapper.release&&i.AgoraWrapper.release(),this._resetCache())},e.prototype.isJoinChannel=function(){return!r.default.isEmpty(this._channel)},e.prototype.joinChannel=function(e,t,n,o){if(void 0===o&&(o=""),null!=window.agora){this._resetCache();var r=i.AgoraWrapper.joinChannel(e,t,o,n);a.gg.logger.log("agora: joinChannel\ntoken: "+e+"\nchannel: "+t+"\nuid: "+n+"\ninfo: "+o+"\nresp: "+r)}},e.prototype.leaveChannel=function(){if(null!=window.agora){this._resetCache();var e=i.AgoraWrapper.leaveChannel();a.gg.logger.log("agora: leaveChannel resp: "+e)}},e.prototype.muteLocalAudioStream=function(e){if(null!=window.agora){var t=i.AgoraWrapper.muteLocalAudioStream(e);a.gg.logger.log("agora: muteLocalAudioStream mute: "+e+" resp: "+t)}},e.prototype.muteRemoteAudioStream=function(e,t){if(null!=window.agora){var n=i.AgoraWrapper.muteRemoteAudioStream(e,t);a.gg.logger.log("agora: muteRemoteAudioStream uid: "+e+" mute: "+t+" resp: "+n)}},e.prototype.renewToken=function(e){if(null!=window.agora){var t=i.AgoraWrapper.renewToken(e);a.gg.logger.log("agora: renewToken resp: "+t)}},e.prototype._enable=function(){null!=window.agora&&(i.AgoraWrapper.on("onApiCallExecuted",this._onApiCallExecuted,this),i.AgoraWrapper.on("onWarning",this._onWarning,this),i.AgoraWrapper.on("onError",this._onError,this),i.AgoraWrapper.on("onConnectionLost",this._onConnectionLost,this),i.AgoraWrapper.on("onConnectionStateChanged",this._onConnectionStateChanged,this),i.AgoraWrapper.on("onTokenPrivilegeWillExpire",this._onTokenPrivilegeWillExpire,this),i.AgoraWrapper.on("onRequestToken",this._onRequestToken,this),i.AgoraWrapper.on("onJoinChannelSuccess",this._onJoinChannelSuccess,this),i.AgoraWrapper.on("onRejoinChannelSuccess",this._onRejoinChannelSuccess,this),i.AgoraWrapper.on("onUserJoined",this._onUserJoined,this),i.AgoraWrapper.on("onLeaveChannel",this._onLeaveChannel,this),i.AgoraWrapper.on("onUserOffline",this._onUserOffline,this),i.AgoraWrapper.on("onLocalAudioStateChanged",this._onLocalAudioStateChanged,this),i.AgoraWrapper.on("onUserMuteAudio",this._onUserMuteAudio,this),i.AgoraWrapper.on("onRemoteAudioStateChanged",this._onRemoteAudioStateChanged,this),i.AgoraWrapper.on("onAudioVolumeIndication",this._onAudioVolumeIndication,this))},e.prototype._disable=function(){null!=window.agora&&(i.AgoraWrapper.off("onApiCallExecuted",this._onApiCallExecuted,this),i.AgoraWrapper.off("onWarning",this._onWarning,this),i.AgoraWrapper.off("onError",this._onError,this),i.AgoraWrapper.off("onConnectionLost",this._onConnectionLost,this),i.AgoraWrapper.off("onConnectionStateChanged",this._onConnectionStateChanged,this),i.AgoraWrapper.off("onTokenPrivilegeWillExpire",this._onTokenPrivilegeWillExpire,this),i.AgoraWrapper.off("onRequestToken",this._onRequestToken,this),i.AgoraWrapper.off("onJoinChannelSuccess",this._onJoinChannelSuccess,this),i.AgoraWrapper.off("onRejoinChannelSuccess",this._onRejoinChannelSuccess,this),i.AgoraWrapper.off("onUserJoined",this._onUserJoined,this),i.AgoraWrapper.off("onLeaveChannel",this._onLeaveChannel,this),i.AgoraWrapper.off("onUserOffline",this._onUserOffline,this),i.AgoraWrapper.off("onLocalAudioStateChanged",this._onLocalAudioStateChanged,this),i.AgoraWrapper.off("onUserMuteAudio",this._onUserMuteAudio,this),i.AgoraWrapper.off("onRemoteAudioStateChanged",this._onRemoteAudioStateChanged,this),i.AgoraWrapper.off("onAudioVolumeIndication",this._onAudioVolumeIndication,this))},e.prototype._resetCache=function(){this._channel=null},e.prototype._onApiCallExecuted=function(e){var t=e.err,n=e.api,o=e.result;null!=window.agora&&t!=i.AgoraWrapper.ERROR_CODE_TYPE.ERR_OK&&a.gg.logger.error("agora: call "+n+" code: "+t+" result: "+o)},e.prototype._onWarning=function(e){var t=e.code,n=e.msg;a.gg.logger.warn("agora: onWarning. code: "+t+", msg: "+n)},e.prototype._onError=function(e){var t=e.code,n=e.msg;a.gg.logger.error("agora: onError. code: "+t+", msg: "+n)},e.prototype._onConnectionLost=function(){a.gg.logger.log("agora: onConnectionLost"),this._resetCache()},e.prototype._onConnectionStateChanged=function(e){var t=e.state,n=e.reason;if(null!=window.agora){var o="unknown";switch(t){case i.AgoraWrapper.CONNECTION_STATE_TYPE.CONNECTION_STATE_CONNECTING:o="connecting";break;case i.AgoraWrapper.CONNECTION_STATE_TYPE.CONNECTION_STATE_CONNECTED:o="connected";break;case i.AgoraWrapper.CONNECTION_STATE_TYPE.CONNECTION_STATE_DISCONNECTED:o="disconnected";break;case i.AgoraWrapper.CONNECTION_STATE_TYPE.CONNECTION_STATE_RECONNECTING:o="reconnecting";break;case i.AgoraWrapper.CONNECTION_STATE_TYPE.CONNECTION_STATE_FAILED:o="failed"}a.gg.logger.log("agora: onConnectionStateChanged. state: "+t+" msg: "+o+" reason: "+n)}},e.prototype._onTokenPrivilegeWillExpire=function(e){var t=e.token;a.gg.logger.log("agora: onTokenPrivilegeWillExpire. token: "+t),a.gg.eventManager.emit(s.VoiceChatEvent.OnTokenPrivilegeWillExpire,t)},e.prototype._onRequestToken=function(){a.gg.logger.log("agora: onRequestToken."),this._resetCache(),a.gg.eventManager.emit(s.VoiceChatEvent.OnTokenExpired)},e.prototype._onJoinChannelSuccess=function(e){var t=e.channel,n=e.uid,o=e.elapsed;a.gg.logger.log("agora: onJoinChannelSuccess. channel: "+t+", uid: "+n+", elapsed: "+o+" "),this._handleJoinChannelSuccess(t,n,o)},e.prototype._onRejoinChannelSuccess=function(e){var t=e.channel,n=e.uid,o=e.elapsed;a.gg.logger.log("agora: onRejoinChannelSuccess. channel: "+t+", uid: "+n+", elapsed: "+o+" "),this._handleJoinChannelSuccess(t,n,o)},e.prototype._handleJoinChannelSuccess=function(e,t){this._resetCache(),this._channel=e,a.gg.eventManager.emit(s.VoiceChatEvent.OnJoinChannelSuccess,e,t)},e.prototype._onUserJoined=function(e){var t=e.uid,n=e.elapsed;a.gg.logger.log("agora: onUserJoined. uid: "+t+", elapsed: "+n+" "),a.gg.eventManager.emit(s.VoiceChatEvent.OnOtherPlayerJoinChannelSuccess,t)},e.prototype._onLeaveChannel=function(e){var t=e.stats;a.gg.logger.log("agora: onLeaveChannel. status: "+t),this._resetCache(),a.gg.eventManager.emit(s.VoiceChatEvent.OnLeaveChannelSuccess)},e.prototype._onUserOffline=function(e){var t=e.uid,n=e.reason;a.gg.logger.log("agora: onUserOffline. uid: "+t+" reason: "+n),a.gg.eventManager.emit(s.VoiceChatEvent.OnOtherPlayerLeaveChannelSuccess,t)},e.prototype._onLocalAudioStateChanged=function(e){var t=e.state,n=e.error;a.gg.logger.log("agora: onLocalAudioStateChanged.  state: "+t+", error: "+n)},e.prototype._onUserMuteAudio=function(e){var t=e.uid,n=e.muted;a.gg.logger.log("agora: onUserMuteAudio. uid: "+t+" muted: "+n),a.gg.eventManager.emit(s.VoiceChatEvent.OnOtherPlayerMuteChanged,t,n)},e.prototype._onRemoteAudioStateChanged=function(e){var t=e.uid,n=e.state,o=e.reason,i=e.elapsed;a.gg.logger.log("agora: onRemoteAudioStateChanged. uid: "+t+", state: "+n+", reason: "+o+", elapsed: "+i)},e.prototype._onAudioVolumeIndication=function(e){var t=e.speakers,n=e.speakerNumber;if(e.totalVolume,null!=window.agora)for(var o=n||t.length,i=0;i<o;i++){var r=t[i];r&&(0===r.uid?a.gg.eventManager.emit(s.VoiceChatEvent.OnLocalAudioVolumeIndication,r):a.gg.eventManager.emit(s.VoiceChatEvent.OnRemoteAudioVolumeIndication,r))}},e}();n.voiceChatSystem=new l,cc._RF.pop()},{"../../ffframework/agora/AgoraWrapper":"AgoraWrapper","../../framework/gg":"gg","../../framework/utils/StringUtils":"StringUtils","./VoiceChatEvent":"VoiceChatEvent"}],"Wallet6.generated":[function(e,t,n){"use strict";cc._RF.push(t,"16ff7+r2MlNEI1QGrbXWCfP","Wallet6.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.WalletBase6=void 0;var r=e("../halllib/laya/Laya"),s=(r.Laya.regClass,r.Laya.property),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.labMoney=null,t.lab=null,t.labUserID=null,t.btnClose=null,t.labTutorial=null,t.ImgServie=null,t.ViewStackFrame=null,t.listContent=null,t.Prefab_recharge7=null,t.tabPrefab=null,t}return i(t,e),a([s(cc.Label)],t.prototype,"labMoney",void 0),a([s(cc.Label)],t.prototype,"lab",void 0),a([s(cc.Label)],t.prototype,"labUserID",void 0),a([s(cc.Button)],t.prototype,"btnClose",void 0),a([s(cc.Label)],t.prototype,"labTutorial",void 0),a([s(cc.Sprite)],t.prototype,"ImgServie",void 0),a([s(cc.Node)],t.prototype,"ViewStackFrame",void 0),a([s(cc.Node)],t.prototype,"listContent",void 0),a([s(cc.Prefab)],t.prototype,"Prefab_recharge7",void 0),a([s(cc.Prefab)],t.prototype,"tabPrefab",void 0),t}(r.Laya.Scene);n.WalletBase6=l,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],Wallet6:[function(e,t,n){"use strict";cc._RF.push(t,"041e8bGJtlDZauKltMcQkx9","Wallet6");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.Wallet6=void 0;var c=e("../hallph7/PrefabRecharge7"),u=e("./Wallet6.generated"),p=e("../halllib/net/InnerEvent"),h=e("../halllib/net/PlatformConfig"),d=e("../halllib/common/Types"),f=e("../hallph7/PrefabRecord7"),g=e("../halllib/core/RunData"),m=e("../halllib/common/ConfigMng"),y=l(e("../hallph7/LoadingView7")),_=l(e("../halllib/net/PlatformService")),v=e("../halllib/common/Tools"),b=e("../halllib/common/Define"),S=e("../halllib/common/LogBase"),C=e("../halllib/laya/Laya"),I=e("../halllib/laya/utils/Handler"),R=C.Laya.regClass,L=(C.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.text="",t.payvalues={},t.curLeftItemClick=null,t.TabFrameLabel="",t.rightItemArray=null,t}var n;return i(t,e),n=t,t.Load=function(e){var t=this;this.loadCount=0,this.s_sceneName="Wallet",this.LoadPrefab(e,this.s_sceneName,m.ConfigMng.getSceneAddr(this.s_sceneName),new C.Laya.Handler(this,function(n){console.log("success:",n,t.s_scene),t.s_scene.zOrder=b.Define.ZORDER_DEF.Z_RECHARGE,S.LogBase.log("Wallet7 LoadRes:",t.s_scene),c.PrefabRecharge7.LoadRes(C.Laya.Handler.create(t,t.LoadCompete,[e])),f.PrefabRecord7.LoadRes(C.Laya.Handler.create(t,t.LoadCompete,[e]))}))},t.LoadCompete=function(e){console.log("LoadCompete:",this.loadCount),this.loadCount++,2==this.loadCount&&e&&e.run()},t.OpenScene=function(t){this.s_scene?e.OpenScene.call(this,t):(y.default.OpenScene(),this.Load(C.Laya.Handler.create(this,this.Show,[t])))},t.Show=function(t){y.default.CloseScene(),this.s_scene&&e.Show.call(this,t)},t.CloseScene=function(){e.CloseScene.call(this)},t.prototype.onAwake=function(){var e=this;this.btnClose.node.on(C.Laya.Event.CLICK,this.close,this),this.labTutorial.node.on(C.Laya.Event.CLICK,this.onOpenTutorial,this),this.ImgServie.node.on(C.Laya.Event.CLICK,this.onOpenService,this),p.HallEvent.on(p.HallEvent.UPDATE_USERMONEY,this,function(){e.labMoney.string=g.RunData.GetUserMoney()}),p.HallEvent.on(p.HallEvent.FIRST_PAY_FINISH,this,function(){e.LoadData(n.jsonRecharge)})},t.prototype.onDisable=function(){e.prototype.onDisable.call(this)},t.prototype.close=function(){n.s_scene=null,console.log("LoadingView7 close",this,n.s_scene),e.prototype.close.call(this)},t.prototype.onEnable=function(){this.Init(),this.labMoney.string=g.RunData.GetUserMoney(),this.labUserID.string=g.RunData.myUserInfo.dwUserID.toString()},t.prototype.onSelect=function(){},t.prototype.onOpenService=function(){p.HallEvent.event(p.HallEvent.SHOW_SERVICE_DIALOG)},t.prototype.onOpenTutorial=function(){""==h.servicedata.ServiceConfigs.PlantformConfig.GameAppConfig.PayTutorial?v.BrowserUtil.openNewPage(m.ConfigMng.hallconfigJson.recharge.tutorialurl):v.BrowserUtil.openNewPage(h.servicedata.ServiceConfigs.PlantformConfig.GameAppConfig.PayTutorial)},t.prototype.Init=function(){_.default.getPayRequestCallBack(C.Laya.Handler.create(this,this.LoadData))},t.prototype.comPleteRes=function(){console.log("-------------",c.PrefabRecharge7.resData)},t.prototype.LoadData=function(e){return r(this,void 0,Promise,function(){var t,o,i,a,r,l,u,g,y,_,v,S,C,R,L;return s(this,function(s){switch(s.label){case 0:return null!=e&&null!=e&&e.hasOwnProperty("code")?0!=e.code?(p.HallEvent.event(p.HallEvent.SHOW_MESSAGE,m.ConfigMng.getTips(b.Define.TIPS.PAY_WAY_OPEN_ERROR)),[2]):(n.jsonRecharge=e,t="",[4,c.PrefabRecharge7.CreateNew(new I.Handler(this,this.comPleteRes))]):(p.HallEvent.event(p.HallEvent.SHOW_MESSAGE,"Get Recharge Config Error!"),[2]);case 1:return s.sent(),[4,f.PrefabRecord7.CreateNew(new I.Handler(this,this.comPleteRes))];case 2:if(o=s.sent(),console.log("Wallet6---------------\u6570\u636e\u8f93\u51fa-----:",e,h.servicedata.ServiceConfigs.AgentGameClientConfig.Functions,h.servicedata.PayWayConfig.list,d.RechargeWays.OfficalPay),null==h.servicedata.ServiceConfigs.AgentGameClientConfig||null==h.servicedata.ServiceConfigs.AgentGameClientConfig||null==h.servicedata.ServiceConfigs.AgentGameClientConfig.Functions||null==h.servicedata.ServiceConfigs.AgentGameClientConfig.Functions)return[3,8];i=0,s.label=3;case 3:return i<h.servicedata.ServiceConfigs.AgentGameClientConfig.Functions.Pay.length?(a=h.servicedata.ServiceConfigs.AgentGameClientConfig.Functions.Pay[i],console.log("Wallet6-----i----- ",i,h.servicedata.ServiceConfigs.AgentGameClientConfig.Functions.Pay.length),r=cc.instantiate(this.Prefab_recharge7),l=r.getComponent(c.PrefabRecharge7),u=d.PayConfig.PayValue.get(a),l.name="item"+this.ViewStackFrame.children.length,g=d.PayConfig.PayValue.get(a)+"Online",[4,l.LoadData(a,u,!0)]):[3,7];case 4:return y=s.sent(),console.log("Wallet6------\u5b98\u65b9\u5145\u503c---- ",y,a,u),y&&(this.ViewStackFrame.addChild(r),t.length>0?t+=","+g:t+=g,this.addLeftItem(g)),_=cc.instantiate(this.Prefab_recharge7),(v=_.getComponent(c.PrefabRecharge7)).name="item"+this.ViewStackFrame.children.length,S=d.PayConfig.PayValue.get(a),[4,v.LoadData(a,S,!1)];case 5:C=s.sent(),console.log("\u975e\u5b98\u65b9\u5145\u503c-------",C),C&&(this.ViewStackFrame.addChild(_),t.length>0?t+=","+S:t+=S,this.addLeftItem(S)),s.label=6;case 6:return i++,[3,3];case 7:this.TabFrameLabel=t,s.label=8;case 8:return this.TabFrameLabel.length>0?this.TabFrameLabel+=",Record":this.TabFrameLabel+="Record",this.addLeftItem("Record"),R=cc.instantiate(o[0]),(L=R.getComponent(f.PrefabRecord7)).Init(),L.name="item"+this.ViewStackFrame.children.length,this.ViewStackFrame.addChild(R),console.log("tabframelaebl---",this.TabFrameLabel),this.initLeftBtn(),[2]}})})},t.prototype.addLeftItem=function(e){console.log("\u5de6\u8fb9\u6dfb\u52a0item=-------",e);var t=cc.instantiate(this.tabPrefab),n=t.getComponent("TabFrameItem");n.setName(this.listContent.childrenCount),this.listContent.addChild(t),n.setCallFun(this.setCurLeftItemClick.bind(this)),n.setNormal(),n.setLabel(e)},t.prototype.initLeftBtn=function(){this.listContent.children[0].getComponent("TabFrameItem").setPress(),console.log("initLefytBtn---",this.ViewStackFrame.children)},t.prototype.chageItemsStatus=function(e){for(var t=0;t<this.listContent.children.length;t++){var n=this.listContent.children[t].getComponent("TabFrameItem");console.log("chageItemsStatus----------------",n.getName(),e),n.getName()!=e&&n.setNormal()}},t.prototype.setCurLeftItemClick=function(e){this.curLeftItemClick=e;var t=this.TabFrameLabel.split(",");console.log("setCurLeftItemClick----",t,e,this.ViewStackFrame.children);for(var n=0;n<this.ViewStackFrame.childrenCount;n++)this.ViewStackFrame.children[n].active=n==e;this.chageItemsStatus(e)},t.prototype.getCurLeftItemClick=function(){return this.curLeftItemClick},t.loadCount=0,n=a([R()],t)}(u.WalletBase6));n.Wallet6=L,cc._RF.pop()},{"../halllib/common/ConfigMng":"ConfigMng","../halllib/common/Define":"Define","../halllib/common/LogBase":"LogBase","../halllib/common/Tools":"Tools","../halllib/common/Types":"Types","../halllib/core/RunData":"RunData","../halllib/laya/Laya":"Laya","../halllib/laya/utils/Handler":"Handler","../halllib/net/InnerEvent":"InnerEvent","../halllib/net/PlatformConfig":"PlatformConfig","../halllib/net/PlatformService":"PlatformService","../hallph7/LoadingView7":"LoadingView7","../hallph7/PrefabRecharge7":"PrefabRecharge7","../hallph7/PrefabRecord7":"PrefabRecord7","./Wallet6.generated":"Wallet6.generated"}],"Wallet7.generated":[function(e,t,n){"use strict";cc._RF.push(t,"7160c6HLfpN06v6ZhoGLLSg","Wallet7.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.WalletBase7=void 0;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.labMoney=null,t.lab=null,t.labUserID=null,t.btnClose=null,t.labTutorial=null,t.ImgServie=null,t.ViewStackFrame=null,t.TabFrame=null,t}return i(t,e),t}(e("../halllib/laya/Laya").Laya.Scene);n.WalletBase7=a,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],Wallet7:[function(e,t,n){"use strict";cc._RF.push(t,"5c03f7mZiFP7Ixwdbq3F3Ot","Wallet7");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.Wallet7=void 0;var s=e("./PrefabRecharge7"),l=e("./Wallet7.generated"),c=e("../halllib/net/InnerEvent"),u=e("../halllib/net/PlatformConfig"),p=e("../halllib/common/Types"),h=e("./PrefabRecord7"),d=e("../halllib/core/RunData"),f=e("../halllib/common/ConfigMng"),g=r(e("./LoadingView7")),m=r(e("../halllib/net/PlatformService")),y=e("../halllib/common/Tools"),_=e("../halllib/common/Define"),v=e("../halllib/common/LogBase"),b=e("../halllib/laya/Laya"),S=b.Laya.regClass,C=(b.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.text="",t.payvalues={},t}var n;return i(t,e),n=t,t.Load=function(e){var t=this;this.loadCount=0,b.Laya.Scene.load(f.ConfigMng.getSceneAddr("Wallet7"),null,null).then(function(n){t.s_scene=n,t.s_scene.zOrder=_.Define.ZORDER_DEF.Z_RECHARGE,v.LogBase.log("Wallet7 LoadRes:",t.s_scene),s.PrefabRecharge7.LoadRes(b.Laya.Handler.create(t,t.LoadCompete,[e])),h.PrefabRecord7.LoadRes(b.Laya.Handler.create(t,t.LoadCompete,[e]))})},t.LoadCompete=function(e){this.loadCount++,2==this.loadCount&&e&&e.run()},t.OpenScene=function(e){this.s_scene?e?e.addChild(this.s_scene):b.Laya.stage.addChild(this.s_scene):(g.default.OpenScene(),this.Load(b.Laya.Handler.create(this,this.Show,[e])))},t.Show=function(e){g.default.CloseScene(),this.s_scene&&(e?e.addChild(this.s_scene):b.Laya.stage.addChild(this.s_scene))},t.CloseScene=function(){this.s_scene.close()},t.prototype.onAwake=function(){var e=this;this.TabFrame.on(b.Laya.Event.CLICK,this,this.onSelect),this.btnClose.on(b.Laya.Event.CLICK,this,this.close),this.labTutorial.on(b.Laya.Event.CLICK,this,this.onOpenTutorial),this.ImgServie.on(b.Laya.Event.CLICK,this,this.onOpenService),this.TabFrame.selectedIndex=0,this.ViewStackFrame.selectedIndex=0,c.HallEvent.on(c.HallEvent.UPDATE_USERMONEY,this,function(){e.labMoney.text=d.RunData.GetUserMoney()}),c.HallEvent.on(c.HallEvent.FIRST_PAY_FINISH,this,function(){e.LoadData(n.jsonRecharge)})},t.prototype.onEnable=function(){this.Init(),this.labMoney.text=d.RunData.GetUserMoney(),this.labUserID.text=d.RunData.myUserInfo.dwUserID.toString()},t.prototype.onSelect=function(){this.ViewStackFrame.selectedIndex=this.TabFrame.selectedIndex},t.prototype.onOpenService=function(){c.HallEvent.event(c.HallEvent.SHOW_SERVICE_DIALOG)},t.prototype.onOpenTutorial=function(){""==u.servicedata.ServiceConfigs.PlantformConfig.GameAppConfig.PayTutorial?y.BrowserUtil.openNewPage(f.ConfigMng.hallconfigJson.recharge.tutorialurl):y.BrowserUtil.openNewPage(u.servicedata.ServiceConfigs.PlantformConfig.GameAppConfig.PayTutorial)},t.prototype.Init=function(){m.default.getPayRequestCallBack(b.Laya.Handler.create(this,this.LoadData))},t.prototype.LoadData=function(e){if(null!=e&&null!=e&&e.hasOwnProperty("code"))if(0==e.code){n.jsonRecharge=e,this.ViewStackFrame.setItems([]);var t="";if(null!=u.servicedata.ServiceConfigs.AgentGameClientConfig&&null!=u.servicedata.ServiceConfigs.AgentGameClientConfig&&null!=u.servicedata.ServiceConfigs.AgentGameClientConfig.Functions&&null!=u.servicedata.ServiceConfigs.AgentGameClientConfig.Functions){for(var o=0;o<u.servicedata.ServiceConfigs.AgentGameClientConfig.Functions.Pay.length;o++){var i=u.servicedata.ServiceConfigs.AgentGameClientConfig.Functions.Pay[o],a=s.PrefabRecharge7.CreateNew();if(null!=a){a.name="item"+this.ViewStackFrame.size.toString();var r=p.PayConfig.PayValue.get(i),l=p.PayConfig.PayValue.get(i)+"Online";a.LoadData(i,r,!0)&&(this.ViewStackFrame.addItem(a),t.length>0?t+=","+l:t+=l);var d=s.PrefabRecharge7.CreateNew();if(null!=d){d.name="item"+this.ViewStackFrame.size.toString();var g=p.PayConfig.PayValue.get(i);d.LoadData(i,g,!1)&&(this.ViewStackFrame.addItem(d),t.length>0?t+=","+g:t+=g)}}}this.TabFrame.labels=t}this.TabFrame.labels.length>0?this.TabFrame.labels+=",Record":this.TabFrame.labels+="Record";var m=h.PrefabRecord7.CreateNew();m.name="item"+this.ViewStackFrame.items.length.toString(),this.ViewStackFrame.addItem(m),v.LogBase.log("Wallet7 Init:",this.ViewStackFrame)}else c.HallEvent.event(c.HallEvent.SHOW_MESSAGE,f.ConfigMng.getTips(_.Define.TIPS.PAY_WAY_OPEN_ERROR));else c.HallEvent.event(c.HallEvent.SHOW_MESSAGE,"Get Recharge Config Error!")},t.loadCount=0,n=a([S()],t)}(l.WalletBase7));n.Wallet7=C,cc._RF.pop()},{"../halllib/common/ConfigMng":"ConfigMng","../halllib/common/Define":"Define","../halllib/common/LogBase":"LogBase","../halllib/common/Tools":"Tools","../halllib/common/Types":"Types","../halllib/core/RunData":"RunData","../halllib/laya/Laya":"Laya","../halllib/net/InnerEvent":"InnerEvent","../halllib/net/PlatformConfig":"PlatformConfig","../halllib/net/PlatformService":"PlatformService","./LoadingView7":"LoadingView7","./PrefabRecharge7":"PrefabRecharge7","./PrefabRecord7":"PrefabRecord7","./Wallet7.generated":"Wallet7.generated"}],WeakObject:[function(e,t,n){"use strict";cc._RF.push(t,"b8da1ZcdndA7KKH2CGAirU7","WeakObject"),Object.defineProperty(n,"__esModule",{value:!0}),n.WeakObject=void 0;var o=e("./Utils"),i=function(){function e(){this._obj={},e._maps.push(this)}return e.__init__=function(){e.I=new e},e.clearCache=function(){for(var t=0,n=e._maps.length;t<n;t++)e._maps[t]._obj={}},e.prototype.set=function(t,n){null!=t&&(e.supportWeakMap||("string"==typeof t||"number"==typeof t?this._obj[t]=n:(t.$_GID||(t.$_GID=o.Utils.getGID()),this._obj[t.$_GID]=n)))},e.prototype.get=function(t){return null==t?null:e.supportWeakMap?void 0:"string"==typeof t||"number"==typeof t?this._obj[t]:this._obj[t.$_GID]},e.prototype.del=function(t){null!=t&&(e.supportWeakMap||("string"==typeof t||"number"==typeof t?delete this._obj[t]:delete this._obj[this._obj.$_GID]))},e.prototype.has=function(t){return null!=t&&!e.supportWeakMap&&("string"==typeof t||"number"==typeof t?null!=this._obj[t]:null!=this._obj[this._obj.$_GID])},e.supportWeakMap=!1,e.delInterval=6e5,e._maps=[],e}();n.WeakObject=i,cc._RF.pop()},{"./Utils":"Utils"}],WebSocketInterfaceV1:[function(e,t,n){"use strict";cc._RF.push(t,"cc3b1UBeNFE1KtB/SjwhxVe","WebSocketInterfaceV1"),Object.defineProperty(n,"__esModule",{value:!0}),n.WebSocketCloseCode=void 0,function(e){e[e.Manual=4e3]="Manual",e[e.Offline=4001]="Offline"}(n.WebSocketCloseCode||(n.WebSocketCloseCode={})),cc._RF.pop()},{}],WebSocketResponseCode:[function(e,t,n){"use strict";cc._RF.push(t,"c637fPsdTZNhZCnzpZ5int1","WebSocketResponseCode"),Object.defineProperty(n,"__esModule",{value:!0}),n.WebSocketResponseCode=void 0,function(e){e[e.Success=1]="Success",e[e.GamePlayerCoinNotEnough=10009001]="GamePlayerCoinNotEnough",e[e.GameTableIsFull=10009002]="GameTableIsFull",e[e.GameTablePwdError=10009003]="GameTablePwdError",e[e.GamePlayerNotFound=10002002]="GamePlayerNotFound",e[e.OperationRefused=10009004]="OperationRefused",e[e.YourFriendReachLimit=10009005]="YourFriendReachLimit",e[e.OtherFriendReachLimit=10009006]="OtherFriendReachLimit",e[e.AlreadyFriend=10009008]="AlreadyFriend",e[e.LevelIsNotEnough=10002011]="LevelIsNotEnough",e[e.BalanceIsLowerThanMinFee=10009009]="BalanceIsLowerThanMinFee",e[e.GradeIsTooHigh=10009010]="GradeIsTooHigh",e[e.GradeIsTooLow=10009011]="GradeIsTooLow",e[e.TransferUpperLimit=10009e3]="TransferUpperLimit"}(n.WebSocketResponseCode||(n.WebSocketResponseCode={})),cc._RF.pop()},{}],WebSocketV1:[function(e,t,n){"use strict";cc._RF.push(t,"5571eaP4yZPa6FILA6xhBCC","WebSocketV1");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../framework/gg"),a=o(e("../../framework/utils/TypeConversionUtil")),r=e("./WebSocketInterfaceV1"),s=e("./BaseProto"),l=function(){function e(e){var t=this;this._wsOption=null,this._pingIntervalId=null,this._pingCount=0,this._sendMessageQueue=[],this._sendMessageQueueIntervalId=null,this._onMessageQueue=[],this._onMessageQueueIntervalId=null,this._wsOption=e,this._ws=new WebSocket(this._wsOption.serverUrl),this._ws.binaryType="arraybuffer",this._ws.onerror=function(e){i.gg.logger.warn("WebSocket: onerror."),i.gg.logger.warn(e),t._wsOption.onerror&&t._wsOption.onerror(e)},this._ws.onclose=function(e){i.gg.logger.warn("WebSocket: onclose. code: "+e.code+" reason: "+e.reason+" wasClean: "+e.wasClean),t._ws.onclose=null,t._ws.onerror=null,t._ws.onopen=null,t._ws.onmessage=null,t._ws=null,t._sendMessageQueue=[],null!=t._sendMessageQueueIntervalId&&clearInterval(t._sendMessageQueueIntervalId),t._onMessageQueue=[],null!=t._onMessageQueueIntervalId&&clearInterval(t._onMessageQueueIntervalId),t._pingCount=0,null!=t._pingIntervalId&&clearInterval(t._pingIntervalId),t._wsOption.onclose&&t._wsOption.onclose(e)},this._ws.onopen=function(e){i.gg.logger.log("WebSocket: onopen."),t._startSendInterval(),t._startOnMessageInterval(),t._startPingInterval(),t._wsOption.onopen&&t._wsOption.onopen(e)},this._ws.onmessage=function(e){if(e.data instanceof ArrayBuffer){var n=JSON.parse(a.default.unit8ArrayToString(new Uint8Array(e.data)));t._onMessageQueue.push(n)}else i.gg.logger.warn("WebSocket: resp(string)",e.data)}}return Object.defineProperty(e.prototype,"readyState",{get:function(){return this._ws.readyState},enumerable:!1,configurable:!0}),e.prototype.close=function(e){void 0===e&&(e=r.WebSocketCloseCode.Manual),i.gg.logger.log("WebSocket: Manual close"),this._ws&&this._ws.readyState!=WebSocket.CLOSED&&this._ws.readyState!=WebSocket.CLOSING&&this._ws.close(e)},e.prototype.send=function(e,t){if(this._ws&&this._ws.readyState===WebSocket.OPEN){var n={};n[e]=null!=t?t:{},this._sendMessageQueue.push(n)}else i.gg.logger.warn("\u5f53\u524dws\u672a\u8fde\u63a5\uff0c\u4e0d\u80fd send \u6d88\u606f")},e.prototype._startSendInterval=function(){var e=this;this._sendMessageQueueIntervalId=setInterval(function(){if(e._ws&&e._ws.readyState===WebSocket.OPEN){if(0!==e._ws.bufferedAmount)return void i.gg.logger.warn("WebSocket: \u5f53\u524d\u8fd8\u6709\u5197\u4f59\u6570\u636e\u6ca1\u6709\u53d1\u9001\u51fa\u53bb\uff0c\u7a0d\u540e\u5728\u53d1\u9001\u65b0\u7684websocket\u6570\u636e");if(e._sendMessageQueue.length>0){var t=e._sendMessageQueue.splice(0,1)[0];e._ws.send(JSON.stringify(t))}}},16)},e.prototype._startOnMessageInterval=function(){var e=this;this._onMessageQueueIntervalId=setInterval(function(){if(e._ws&&e._ws.readyState===WebSocket.OPEN&&e._onMessageQueue.length>0){e._pingCount=0;var t=e._onMessageQueue.splice(0,1)[0];e._wsOption.onmessage(t)}},16)},e.prototype._startPingInterval=function(){var e=this;this._pingIntervalId=setInterval(function(){e._ws&&e._ws.readyState===WebSocket.OPEN&&0==e._sendMessageQueue.length&&(e._pingCount>=e._wsOption.pingMaxTimes||(e._pingCount++,e.send(s.BaseProtoMsg.HeartBeatRequest)))},this._wsOption.pingIntervalInMs)},e}();n.default=l,cc._RF.pop()},{"../../framework/gg":"gg","../../framework/utils/TypeConversionUtil":"TypeConversionUtil","./BaseProto":"BaseProto","./WebSocketInterfaceV1":"WebSocketInterfaceV1"}],WebViewEvent:[function(e,t,n){"use strict";cc._RF.push(t,"2d099Ytp6VG6aNObqEATbKo","WebViewEvent"),Object.defineProperty(n,"__esModule",{value:!0}),n.WebViewEvent=void 0,(n.WebViewEvent||(n.WebViewEvent={})).onCloseWebView="WebView.onCloseWebView",cc._RF.pop()},{}],WebViewModel:[function(e,t,n){"use strict";cc._RF.push(t,"d390ddY4K5O7oMeIWiNZl8u","WebViewModel"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],WebViewPanel:[function(e,t,n){"use strict";cc._RF.push(t,"be04064mvFKjJxmAo1axgTC","WebViewPanel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../../framework/gg"),s=e("../../../framework/panelrouter/PanelComponent"),l=e("../../../../../main/scripts/configs/CommonPanelConfig"),c=cc._decorator,u=c.ccclass,p=c.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.decor=null,t.title=null,t.webview=null,t.webviewUrl="",t.webViewData=null,t}return i(t,e),t.prototype.show=function(e){this.webViewData=e.data,this.showUIData(),this._playTitleAnim(),e.onShowed()},t.prototype.hide=function(e){this.webview.url="",e.onHided()},t.prototype.showUIData=function(){this.title.string=this.webViewData.title,this.webviewUrl=this.webViewData.url,this.webview.url=this.webviewUrl},t.prototype.onCloseBtnClick=function(){r.gg.panelRouter.hide({panel:l.CommonPanelConfig.webViewPanel})},t.prototype._playTitleAnim=function(){cc.Tween.stopAllByTarget(this.decor),cc.tween(this.decor).repeatForever(cc.tween().to(.1,{opacity:255}).to(.4,{opacity:100,scale:1.2}).to(.3,{opacity:0}).to(0,{opacity:0,scale:1}).delay(1)).start()},a([p({type:cc.Node,tooltip:"\u95ea\u52a8\u6843\u5fc3"})],t.prototype,"decor",void 0),a([p({type:cc.Label,tooltip:"\u6807\u9898"})],t.prototype,"title",void 0),a([p({type:cc.WebView,tooltip:"\u5ba2\u670d\u7f51\u9875webview"})],t.prototype,"webview",void 0),a([u],t)}(s.PanelComponent);n.default=h,cc._RF.pop()},{"../../../../../main/scripts/configs/CommonPanelConfig":"CommonPanelConfig","../../../framework/gg":"gg","../../../framework/panelrouter/PanelComponent":"PanelComponent"}],WebViewWrapper:[function(e,t,n){"use strict";cc._RF.push(t,"964a5TVl05B3rvkxPuXLC+P","WebViewWrapper"),Object.defineProperty(n,"__esModule",{value:!0}),n.WebViewWrapper=void 0,e("../../configs/AppConfig"),e("../../configs/CommonPanelConfig"),e("../../framework/eventmanager/EventManager"),e("../../framework/gg"),e("../../systems/user/UserSystem"),e("../common/ActivationWrapper"),e("../common/DeviceInfoWrapper"),e("./WebViewEvent");var o=function(){function e(){}return e.openWebViewByUrl=function(){e.isAllowOpen&&(e.isAllowOpen=!1)},e._openWebView=function(){},e._javaClassPath="com/gxx/webview/WebViewWrapper",e.isAllowOpen=!0,e}();n.WebViewWrapper=o,cc._RF.pop()},{"../../configs/AppConfig":"AppConfig","../../configs/CommonPanelConfig":"CommonPanelConfig","../../framework/eventmanager/EventManager":"EventManager","../../framework/gg":"gg","../../systems/user/UserSystem":"UserSystem","../common/ActivationWrapper":"ActivationWrapper","../common/DeviceInfoWrapper":"DeviceInfoWrapper","./WebViewEvent":"WebViewEvent"}],WinMoneyAni34200:[function(e,t,n){"use strict";cc._RF.push(t,"a83e0tw7IZG/YEje2BE5z+k","WinMoneyAni34200"),Object.defineProperty(n,"__esModule",{value:!0}),n.WinMoneyAni34200=void 0;var o=e("../../halls/halllib/core/RunData"),i=e("../../halls/halllib/laya/Laya"),a=function(){function e(){}return e.playWinMoney=function(e,t,n,a){var r;0!=t&&(r=this.FreeMemoryPool.length>0?this.FreeMemoryPool.pop():new i.Laya.Label,t>0?(r.text="+"+o.GameTool.formatMoneyString(t,2),r.color="#d1a815"):(r.text="-"+o.GameTool.formatMoneyString(t,2),r.color="#457ef8"),r.zOrder=3e3,r.fontSize=50,r.x=n,r.y=a,r.visible=!0,r.alpha=1,e.addChild(r),i.Laya.Tween.to(r,{y:a-20,alpha:1},1e3,i.Laya.Ease.circOut,i.Laya.Handler.create(this,this.onComplete,[e,r])))},e.onComplete=function(e,t){e.removeChild(t),this.FreeMemoryPool.push(t)},e.FreeMemoryPool=new Array,e}();n.WinMoneyAni34200=a,cc._RF.pop()},{"../../halls/halllib/core/RunData":"RunData","../../halls/halllib/laya/Laya":"Laya"}],WordText:[function(e,t,n){"use strict";cc._RF.push(t,"e6c9cxec5VEL6sK3JZLMx39","WordText"),Object.defineProperty(n,"__esModule",{value:!0}),n.WordText=void 0;var o=function(){function e(){this.pagecharsCtx=null,window.conch&&!window.conchConfig.conchWebGL?this._nativeObj=new window._conchWordText:(this.width=-1,this.pageChars=[],this.scalex=1,this.scaley=1)}return e.prototype.setText=function(e){this.text=e,this._nativeObj?this._nativeObj._text=e:this.width=-1,this.cleanCache()},e.prototype.toString=function(){return this.text},Object.defineProperty(e.prototype,"length",{get:function(){return this.text?this.text.length:0},enumerable:!1,configurable:!0}),e.prototype.cleanCache=function(){if(this._nativeObj)this._nativeObj.cleanCache();else{var e=this.pageChars;if(e.length>0){for(var t=0,n=e;t<n.length;t++){var o=n[t],i=o.tex;1==o.words.length&&i&&i.ri&&i.destroy()}this.pageChars=[]}this.scalex=1,this.scaley=1}},Object.defineProperty(e.prototype,"splitRender",{get:function(){return this._splitRender},set:function(e){this._splitRender=e,this._nativeObj&&(this._nativeObj.splitRender=e)},enumerable:!1,configurable:!0}),e}();n.WordText=o,cc._RF.pop()},{}],WorkerLoader:[function(e,t,n){"use strict";cc._RF.push(t,"0bc49k1agFLzKnE13yG+MGV","WorkerLoader"),Object.defineProperty(n,"__esModule",{value:!0}),n.WorkerLoader=void 0;var o=e("../events/EventDispatcher"),i=function(){function e(){}return e.workerSupported=function(){return!!Worker},Object.defineProperty(e,"enable",{get:function(){return e._enable},set:function(t){if(e._enable!=t){if(t){if(!Worker)return;e._worker||(e._worker=new Worker(e.workerPath),e._worker.onmessage=e.workerMessage,e._dispatcher=new o.EventDispatcher)}e._enable=t}},enumerable:!1,configurable:!0}),e.load=function(t,n){return new Promise(function(o){e._worker.postMessage({url:t,options:n}),e._dispatcher.once(t,o)})},e.workerMessage=function(t){var n=t.data;if(n)switch(n.type){case"Image":e._dispatcher.event(n.url,n.imageBitmap);break;case"Disable":e.enable=!1}},e.workerPath="libs/laya.workerloader.js",e._enable=!1,e}();n.WorkerLoader=i,cc._RF.pop()},{"../events/EventDispatcher":"EventDispatcher"}],WsClient:[function(e,t,n){"use strict";cc._RF.push(t,"b2199avPjpCR54L6BG+GoFK","WsClient");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.WsClient=void 0;var a=e("../common/LogBase"),r=e("../common/Tools"),s=e("./BaseMessage"),l=e("../laya/Laya"),c=l.Laya.Socket,u=l.Laya.Event,p=function(e){function t(){var n=e.call(this)||this;return n.showLog=!0,n.serverurl="",n._isConnecting=!1,n.isReConnect=!1,n._socket=new c,n._socket.on(u.OPEN,n,n.onSocketOpen),n._socket.on(u.CLOSE,n,n.onSocketClose),n._socket.on(u.MESSAGE,n,n.onSocketMessage),n._socket.on(u.ERROR,n,n.onSocketError),n._handlerList=new f,n._msgMap=new h,n.DES3_KEY_BYTE=s.ByteUtil.createByte(),n.DES3_KEY_BYTE.writeUTFBytes(t.DEF_SELF_KEY),n._noEncryptKeys={},n._c2sDisableLog=new g,n._s2cDisableLog=new g,n._c2sOnlyTraceLog=new g,n._s2cOnlyTraceLog=new g,n._noErrorCode={},n}return i(t,e),Object.defineProperty(t,"Instance",{get:function(){return null==this._InstanceClient&&(this._InstanceClient=new t),this._InstanceClient?this._InstanceClient:null},enumerable:!1,configurable:!0}),t.Init=function(){null==this._InstanceClient&&(this._InstanceClient=new t),t.DEF_SELF_KEY=""},t.prototype.setProtocolIDDisableLog=function(e,t,n){void 0===n&&(n=!0),n?(this._c2sDisableLog.addMsg(e,t),this._s2cDisableLog.addMsg(e,t)):(this._c2sDisableLog.removeMsg(e,t),this._s2cDisableLog.removeMsg(e,t))},t.prototype.addOnlyTraceLogC2S=function(e,t){this._c2sOnlyTraceLog.addMsg(e,t)},t.prototype.removeOnlyTraceLogC2S=function(e,t){this._c2sOnlyTraceLog.removeMsg(e,t)},t.prototype.addOnlyTraceLogS2C=function(e,t){this._s2cOnlyTraceLog.addMsg(e,t)},t.prototype.removeOnlyTranceLogS2C=function(e,t){this._s2cOnlyTraceLog.removeMsg(e,t)},t.prototype.connect=function(e){this._isConnecting||this._socket.connected||(this._isConnecting=!0,this._initiativeClose=!0,this.serverurl=e,this._socket.connectByUrl(e))},t.prototype.reconnect=function(){this._isConnecting||this._socket.connected||(this._isConnecting=!0,this._initiativeClose=!0,this.isReConnect=!0,this._socket.connectByUrl(this.serverurl))},t.prototype.close=function(){this._socket.connect&&(a.LogBase.error("WsClient close initiativeClose"),this._initiativeClose=!0,this._socket.close())},t.prototype.isInitiativeClose=function(){return this._initiativeClose},t.prototype.isConnected=function(){return this._socket.connected},t.prototype.sendLog=function(e,t,n,o,i){if(this._socket.connected){var a={};a.uuid=e,a.userid=t,a.ver=n,a.type=o,a.msg=i,this._socket.send(JSON.stringify(a))}},t.prototype.sendData=function(e,t,n){void 0===n&&(n=null),this.sendData_new(e,t,n)},t.prototype.sendData_new=function(e,t,n){void 0===n&&(n=null);var o=new s.NetMessageHead;o.uMainID=e,o.uAssistantID=t,o.uMessageSize=null==n?s.NetMessageHead.LENGTH:s.NetMessageHead.LENGTH+n.length,o.uMessageSize+=2;var i=o.writeTo();i.pos=i.length,null!=n&&i.writeArrayBuffer(n.buffer);var a=s.ByteUtil.createByte(),l=r.GameEncrypt.EncodeMsg(a,i);a.pos=0,a.writeUint8(l),a.writeUint8(1),a.writeUint32(o.uMessageSize),a.pos=a.length,this._socket.connected?this._socket.send(a.buffer):this.isReConnect&&(this.isReConnect=!1)},t.prototype.addMsgListener=function(e,t,n){this._handlerList.addHandler(e,t,n)},t.prototype.removeMsgListener=function(e,t,n){this._handlerList.removeHandler(e,t,n)},t.prototype.removeCallerListener=function(e){this._handlerList.removeAllHandler(e)},t.prototype.needTraceLogC2S=function(e,t){return!!this.showLog&&(this._c2sOnlyTraceLog.count>0?this._c2sOnlyTraceLog.hasMsg(e,t):!this._c2sDisableLog.hasMsg(e,t))},t.prototype.needTraceLogS2C=function(e,t){return!!this.showLog&&(this._s2cOnlyTraceLog.count>0?this._c2sOnlyTraceLog.hasMsg(e,t):!this._c2sDisableLog.hasMsg(e,t))},t.prototype.onSocketOpen=function(e){this._initiativeClose=!1,this._isConnecting=!1,this.event(e.type),this.event(t.LOG_SOCKET_OPEN),this.isReConnect&&(this.isReConnect=!1)},t.prototype.onSocketClose=function(e){this._isConnecting=!1,a.LogBase.error("WsClient onSocketClose"),this.event(e.type)},t.prototype.onSocketMessage=function(){},t.prototype.onSocketError=function(){a.LogBase.error("WsClient onSocketError"),this._isConnecting=!1,this.isReConnect&&(this.isReConnect=!1)},t.prototype.responseMsg=function(){},t.ENCRYPT_MAGIC=4294967295,t.DEF_SELF_KEY="",t.LOG_SOCKET_OPEN="LOG_SOCKET_OPEN",t}(l.Laya.EventDispatcher);n.WsClient=p;var h=function(){function e(){this._msgList=[],this._map={},this.init()}return e.prototype.addMessage=function(e,t){this._msgList.push(new d(e,t))},e.prototype.popMessage=function(){return this._msgList.length>0?this._msgList.pop():null},e.prototype.init=function(){},e.prototype.bindMessagID=function(e,t,n){this._map[e+"_"+t]=n},e}(),d=function(e,t){this.head=e,this.mainData=t},f=function(){function e(){this._keyMap={},this._keyList=[]}return e.prototype.getHandlers=function(e,t){var n=e+"_"+t,o=this._keyMap[n];return null==o&&(o=[],this._keyMap[n]=o,this._keyList.push(n)),o},e.prototype.addHandler=function(e,t,n){if(!n.once){var o=this.getHandlers(e,t);o.indexOf(n)>=0||o.push(n)}},e.prototype.removeHandler=function(e,t,n){var o=this.getHandlers(e,t);if(null==n||null==n)o.splice(0,o.length);else{var i=o.indexOf(n);i>=0&&o.splice(i,1)}},e.prototype.removeAllHandler=function(e){for(var t=0;t<this._keyList.length;t++)for(var n=this._keyMap[this._keyList[t]],o=0;o<n.length;o++)n[o].caller==e&&(n.splice(o,1),o--)},e}(),g=function(){function e(){this._count=0,this._map={}}return Object.defineProperty(e.prototype,"count",{get:function(){return this._count},enumerable:!1,configurable:!0}),e.prototype.addMsg=function(e,t){1!=this._map[this.getKey(e,t)]&&(this._count++,this._map[this.getKey(e,t)]=!0)},e.prototype.removeMsg=function(e,t){1==this._map[this.getKey(e,t)]&&(delete this._map[this.getKey(e,t)],this._count--)},e.prototype.hasMsg=function(e,t){return 1==this._map[this.getKey(e,t)]},e.prototype.getKey=function(e,t){return e+"_"+t},e}();cc._RF.pop()},{"../common/LogBase":"LogBase","../common/Tools":"Tools","../laya/Laya":"Laya","./BaseMessage":"BaseMessage"}],XMLHttpRequestWrapper:[function(e,t,n){"use strict";cc._RF.push(t,"85d09WDZglFzLZ2QJBZz/7k","XMLHttpRequestWrapper"),Object.defineProperty(n,"__esModule",{value:!0}),n.XMLHttpRequestWrapper=void 0;var o=e("../gg"),i=e("../utils/JsonUtils"),a=e("./HttpInterface"),r=function(){function e(){this._xhr=null}return e.prototype.request=function(e){var t=this;if(null==this._xhr){this._xhr=new XMLHttpRequest,this._xhr.timeout=e.timeout?e.timeout:1e4,this._xhr.ontimeout=function(){o.gg.logger.debug("Http",e.method,"Time Out",n),e.onResponse(a.HttpError.TimeOutError)},this._xhr.onerror=function(){o.gg.logger.debug("Http",e.method,"Error",n),e.onResponse(a.HttpError.Error)},this._xhr.onload=function(){var i=t._xhr.getAllResponseHeaders().trim().split(/[\r\n]+/),a=new Map;i.forEach(function(e){var t=e.split(": "),n=t.shift().toLocaleLowerCase(),o=t.shift();a.set(n,o)}),o.gg.logger.debug("Http",e.method,"Success",n),o.gg.logger.debug("Http",e.method,"RESPONSE CODE",t._xhr.status),o.gg.logger.debug("Http",e.method,"RESPONSE STATUS",t._xhr.statusText),o.gg.logger.debug("Http",e.method,"RESPONSE HEADER",a),o.gg.logger.debug("Http",e.method,"RESPONSE TEXT",t._xhr.responseText),e.onResponse(null,{responseHeader:a,responseText:t._xhr.responseText,responseType:t._xhr.responseType,status:t._xhr.status,statusText:t._xhr.statusText})};var n=e.host;if(e.method===a.HttpMethodEnum.GET){if(e.body){e.body=i.JsonUtils.removeNullOrUndefined(e.body);var r=Object.keys(e.body).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e.body[t])}).join("&");n+="?"+r}if(o.gg.logger.debug("Http",e.method,"Start",n),o.gg.logger.debug("Http",e.method,"Body",e.body),o.gg.logger.debug("Http",e.method,"Header",e.header),this._xhr.open("GET",n,!0),e.header&&(u=Object.keys(e.header)).length>0)for(var s=0,l=u;s<l.length;s++){var c=l[s];this._xhr.setRequestHeader(c,e.header[c])}this._xhr.send()}if(e.method===a.HttpMethodEnum.POST){var u,p="";if(e.body&&(e.body=i.JsonUtils.removeNullOrUndefined(e.body),(null==e?void 0:e.base64)?(r=Object.keys(e.body).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e.body[t])}).join("&"),n+="?"+r):p=Object.keys(e.body).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e.body[t])}).join("&")),o.gg.logger.debug("Http",e.method,"Start",n),o.gg.logger.debug("Http",e.method,"Body",e.body),o.gg.logger.debug("Http",e.method,"Body\uff08FormData\uff09",p),o.gg.logger.debug("Http",e.method,"Header",e.header),o.gg.logger.debug("Http",e.method,"Base64",e.base64),o.gg.logger.debug("Http",e.method,"Base64Body",e.base64Body),this._xhr.open("POST",n,!0),e.header&&(u=Object.keys(e.header)).length>0)for(var h=0,d=u;h<d.length;h++)c=d[h],this._xhr.setRequestHeader(c,e.header[c]);(null==e?void 0:e.base64)?this._xhr.send(null==e?void 0:e.base64Body):this._xhr.send(p)}return this}e.onResponse(new a.HttpError("\u5df2\u7ecf\u521b\u5efa\u4e86\u8bf7\u6c42"))},e.prototype.requestAsync=function(e){var t=this;return new Promise(function(n,o){t.request({method:e.method,host:e.host,body:e.body,header:e.header,timeout:e.timeout,onResponse:function(e,t){e?o(e):t&&(t.status>=200&&t.status<300||304==t.status?n(t.responseText):o(new a.HttpError("Http Code Error")))}})})},e.prototype.abort=function(){if(null!=this._xhr)switch(this._xhr.readyState){case XMLHttpRequest.UNSENT:break;case XMLHttpRequest.OPENED:case XMLHttpRequest.HEADERS_RECEIVED:case XMLHttpRequest.LOADING:this._xhr.abort();break;case XMLHttpRequest.DONE:}},e}();n.XMLHttpRequestWrapper=r,cc._RF.pop()},{"../gg":"gg","../utils/JsonUtils":"JsonUtils","./HttpInterface":"HttpInterface"}],"Zhuanpan26.generated":[function(e,t,n){"use strict";cc._RF.push(t,"602aaqIEOtILrA46uwvfSvI","Zhuanpan26.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.Zhuanpan2Base6=void 0;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.BoxBg=null,t.spZhuanpan=null,t.spICON7=null,t.spICON0=null,t.spICON1=null,t.spICON2=null,t.spICON6=null,t.spICON3=null,t.spICON4=null,t.spICON5=null,t.labAward0=null,t.labAward7=null,t.labAward1=null,t.labAward3=null,t.labAward4=null,t.labAward5=null,t.labAward2=null,t.labAward6=null,t.spSpin=null,t.btnClose=null,t.spNv=null,t}return i(t,e),t}(e("../halllib/laya/Laya").Laya.Scene);n.Zhuanpan2Base6=a,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],Zhuanpan26:[function(e,t,n){"use strict";cc._RF.push(t,"45b2bBtu0RE2YD4nydGPR3W","Zhuanpan26");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.Zhuanpan26=void 0;var s=e("./Zhuanpan26.generated"),l=e("../halllib/net/InnerEvent"),c=e("../halllib/core/RunData"),u=r(e("../halllib/net/HallMsgProxy")),p=e("../halllib/common/ConfigMng"),h=e("../halllib/common/LogBase"),d=e("../halllib/laya/Laya"),f=e("../hallph7/Zhuanpan27"),g=d.Laya.regClass,m=(d.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.text="",t.labList=new Array,t.spList=new Array,t.iWinningPrizeID=-1,t}return i(t,e),t.Load=function(e,t){l.HallEvent.event(l.HallEvent.LOADING_MSG,"Zhuanpan2"),d.Laya.Scene.load(p.ConfigMng.getSceneAddr("Zhuanpan2"),null,null).then(function(n){f.Zhuanpan27.s_scene=n,e&&e.runWith(t)})},t.OpenScene=function(e){this.s_scene?e?e.addChild(this.s_scene):d.Laya.stage.addChild(this.s_scene):this.Load(d.Laya.Handler.create(this,this.Show,[e]))},t.Show=function(e){e?e.addChild(this.s_scene):d.Laya.stage.addChild(this.s_scene)},t.CloseScene=function(){null!=f.Zhuanpan27.s_scene&&this.s_scene.close()},t.prototype.onAwake=function(){this.btnClose.on(d.Laya.Event.CLICK,this,this.close),this.BoxBg.on(d.Laya.Event.CLICK,this,this.close),this.spNv.on(d.Laya.Event.CLICK,this,function(){}),this.spZhuanpan.on(d.Laya.Event.CLICK,this,function(){}),this.spSpin.on(d.Laya.Event.CLICK,this,this.onSpin),l.HallEvent.dispatcher.on(l.HallEvent.GET_ZHUANPAN_RESULT,this,this.onSpinResult)},t.prototype.onEnable=function(){if(this.labList=[],this.spList=[],this.labList.push(this.labAward0),this.labList.push(this.labAward1),this.labList.push(this.labAward2),this.labList.push(this.labAward3),this.labList.push(this.labAward4),this.labList.push(this.labAward5),this.labList.push(this.labAward6),this.labList.push(this.labAward7),this.spList.push(this.spICON0),this.spList.push(this.spICON1),this.spList.push(this.spICON2),this.spList.push(this.spICON3),this.spList.push(this.spICON4),this.spList.push(this.spICON5),this.spList.push(this.spICON6),this.spList.push(this.spICON7),this.iWinningPrizeID=-1,c.RunData.LotteryConfig&&1==c.RunData.LotteryConfig.byIsEnabled)for(var e=0;e<c.RunData.LotteryConfig.ilsCount;e++)if(!(c.RunData.LotteryConfig.lsData[e].iSortNum<1||c.RunData.LotteryConfig.lsData[e].iSortNum-1>this.spList.length))if(console.log("lsData",e,c.RunData.LotteryConfig.lsData[e],c.RunData.LotteryConfig.lsData[e].iSortNum-1),0==c.RunData.LotteryConfig.lsData[e].iAwardType)this.labList[c.RunData.LotteryConfig.lsData[e].iSortNum-1].text="",this.spList[c.RunData.LotteryConfig.lsData[e].iSortNum-1].loadImage(this.getAwardResUrl(c.RunData.LotteryConfig.lsData[e].iAmount));else{var t=c.GameTool.formatMoneyString(c.RunData.LotteryConfig.lsData[e].iAmount);0==Number(t)?this.labList[c.RunData.LotteryConfig.lsData[e].iSortNum-1].text="":this.labList[c.RunData.LotteryConfig.lsData[e].iSortNum-1].text="X "+t,this.spList[c.RunData.LotteryConfig.lsData[e].iSortNum-1].loadImage(this.getAwardResUrl(c.RunData.LotteryConfig.lsData[e].iAmount))}},t.prototype.onSpin=function(){u.default.getZhuanpanResult()},t.prototype.onSpinResult=function(e,t){if(h.LogBase.log("onGetZhuanpanResult",t),null==this.timeLine&&(this.timeLine=new d.Laya.TimeLine),0!=e.uHandleCode)return this.close(),void l.HallEvent.dispatcher.event(l.HallEvent.SHOW_NET_MESSAGE,[e.uMainID+"_"+e.uAssistantID,e.uHandleCode]);if(0!=t.iWinningPrizeID){this.iWinningPrizeID=t.iWinningPrizeID;for(var n=0;n<c.RunData.LotteryConfig.lsData.length;n++)if(this.iWinningPrizeID==c.RunData.LotteryConfig.lsData[n].iID){f.Zhuanpan27.sIndex=n;break}var o=c.RunData.LotteryConfig.lsData[f.Zhuanpan27.sIndex].iSortNum-1,i=this.spZhuanpan.rotation-this.spZhuanpan.rotation%360+1800-360*o/8+10*Math.random();h.LogBase.log("this.spZhuanpan.rotation1",this.spZhuanpan.rotation,i,o),d.Laya.Tween.to(this.spZhuanpan,{rotation:i},7e3,d.Laya.Ease.quartInOut,d.Laya.Handler.create(this,this.onComplete)),c.RunData.myUserInfo.bSign_HasSigned=!0,l.HallEvent.event(l.HallEvent.REFRESH_HALL)}else this.close()},t.prototype.onComplete=function(){if(h.LogBase.log("this.spZhuanpan.rotation2",this.spZhuanpan.rotation),c.RunData.LotteryConfig.lsData[f.Zhuanpan27.sIndex].iAmount>0){var e=c.GameTool.formatMoneyString(c.RunData.LotteryConfig.lsData[f.Zhuanpan27.sIndex].iAmount);l.HallEvent.event(l.HallEvent.SHOW_REWARD,e)}this.close()},t.prototype.getAwardRes=function(e){return e<1?d.Laya.Loader.getRes(p.ConfigMng.hallconfigJson.zhuanpan.award0):e<p.ConfigMng.hallconfigJson.zhuanpan.awardrang[0]?d.Laya.Loader.getRes(p.ConfigMng.hallconfigJson.zhuanpan.award1):e<p.ConfigMng.hallconfigJson.zhuanpan.awardrang[1]?d.Laya.Loader.getRes(p.ConfigMng.hallconfigJson.zhuanpan.award2):e<p.ConfigMng.hallconfigJson.zhuanpan.awardrang[2]?d.Laya.Loader.getRes(p.ConfigMng.hallconfigJson.zhuanpan.award3):d.Laya.Loader.getRes(p.ConfigMng.hallconfigJson.zhuanpan.award4)},t.prototype.getAwardResUrl=function(e){return e<1?p.ConfigMng.hallconfigJson.zhuanpan.award0:e<p.ConfigMng.hallconfigJson.zhuanpan.awardrang[0]?p.ConfigMng.hallconfigJson.zhuanpan.award1:e<p.ConfigMng.hallconfigJson.zhuanpan.awardrang[1]?p.ConfigMng.hallconfigJson.zhuanpan.award2:e<p.ConfigMng.hallconfigJson.zhuanpan.awardrang[2]?p.ConfigMng.hallconfigJson.zhuanpan.award3:p.ConfigMng.hallconfigJson.zhuanpan.award4},t.prototype.onTest=function(){var e=this.spZhuanpan.rotation-this.spZhuanpan.rotation%360+1800-315+10*Math.random();h.LogBase.log("this.spZhuanpan.rotation1",this.spZhuanpan.rotation,e,7),d.Laya.Tween.to(this.spZhuanpan,{rotation:e},7e3,d.Laya.Ease.quartInOut,null)},t.sIndex=0,t.s_scene=null,a([g()],t)}(s.Zhuanpan2Base6));n.Zhuanpan26=m,cc._RF.pop()},{"../halllib/common/ConfigMng":"ConfigMng","../halllib/common/LogBase":"LogBase","../halllib/core/RunData":"RunData","../halllib/laya/Laya":"Laya","../halllib/net/HallMsgProxy":"HallMsgProxy","../halllib/net/InnerEvent":"InnerEvent","../hallph7/Zhuanpan27":"Zhuanpan27","./Zhuanpan26.generated":"Zhuanpan26.generated"}],"Zhuanpan27.generated":[function(e,t,n){"use strict";cc._RF.push(t,"8d7c4FFZElEqLiLbY3crB55","Zhuanpan27.generated");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.Zhuanpan2Base7=void 0;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.BoxBg=null,t.spZhuanpan=null,t.spICON7=null,t.spICON0=null,t.spICON1=null,t.spICON2=null,t.spICON6=null,t.spICON3=null,t.spICON4=null,t.spICON5=null,t.labAward0=null,t.labAward7=null,t.labAward1=null,t.labAward3=null,t.labAward4=null,t.labAward5=null,t.labAward2=null,t.labAward6=null,t.spSpin=null,t.btnClose=null,t.spNv=null,t}return i(t,e),t}(e("../halllib/laya/Laya").Laya.Scene);n.Zhuanpan2Base7=a,cc._RF.pop()},{"../halllib/laya/Laya":"Laya"}],Zhuanpan27:[function(e,t,n){"use strict";cc._RF.push(t,"f36d9qazktHtpVUoMBu1RAn","Zhuanpan27");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.Zhuanpan27=void 0;var s=e("./Zhuanpan27.generated"),l=e("../halllib/net/InnerEvent"),c=e("../halllib/core/RunData"),u=r(e("../halllib/net/HallMsgProxy")),p=e("../halllib/common/ConfigMng"),h=e("../halllib/common/LogBase"),d=e("../halllib/laya/Laya"),f=d.Laya.regClass,g=(d.Laya.property,function(e){function t(){var t=e.call(this)||this;return t.text="",t.labList=new Array,t.spList=new Array,t.iWinningPrizeID=-1,t}var n;return i(t,e),n=t,t.Load=function(e,t){l.HallEvent.event(l.HallEvent.LOADING_MSG,"Zhuanpan27"),d.Laya.Scene.load(p.ConfigMng.getSceneAddr("Zhuanpan27"),null,null).then(function(o){n.s_scene=o,e&&e.runWith(t)})},t.OpenScene=function(e){this.s_scene?e?e.addChild(this.s_scene):d.Laya.stage.addChild(this.s_scene):this.Load(d.Laya.Handler.create(this,this.Show,[e]))},t.Show=function(e){e?e.addChild(this.s_scene):d.Laya.stage.addChild(this.s_scene)},t.CloseScene=function(){null!=n.s_scene&&this.s_scene.close()},t.prototype.onAwake=function(){this.btnClose.on(d.Laya.Event.CLICK,this,this.close),this.BoxBg.on(d.Laya.Event.CLICK,this,this.close),this.spNv.on(d.Laya.Event.CLICK,this,function(){}),this.spZhuanpan.on(d.Laya.Event.CLICK,this,function(){}),this.spSpin.on(d.Laya.Event.CLICK,this,this.onSpin),l.HallEvent.dispatcher.on(l.HallEvent.GET_ZHUANPAN_RESULT,this,this.onSpinResult)},t.prototype.onEnable=function(){if(this.labList=[],this.spList=[],this.labList.push(this.labAward0),this.labList.push(this.labAward1),this.labList.push(this.labAward2),this.labList.push(this.labAward3),this.labList.push(this.labAward4),this.labList.push(this.labAward5),this.labList.push(this.labAward6),this.labList.push(this.labAward7),this.spList.push(this.spICON0),this.spList.push(this.spICON1),this.spList.push(this.spICON2),this.spList.push(this.spICON3),this.spList.push(this.spICON4),this.spList.push(this.spICON5),this.spList.push(this.spICON6),this.spList.push(this.spICON7),this.iWinningPrizeID=-1,c.RunData.LotteryConfig&&1==c.RunData.LotteryConfig.byIsEnabled)for(var e=0;e<c.RunData.LotteryConfig.ilsCount;e++)if(!(c.RunData.LotteryConfig.lsData[e].iSortNum<1||c.RunData.LotteryConfig.lsData[e].iSortNum>8))if(0==c.RunData.LotteryConfig.lsData[e].iAwardType)this.labList[c.RunData.LotteryConfig.lsData[e].iSortNum-1].text="",this.spList[c.RunData.LotteryConfig.lsData[e].iSortNum-1].texture=d.Laya.Loader.getRes(p.ConfigMng.hallconfigJson.zhuanpan.award0),this.spList[c.RunData.LotteryConfig.lsData[e].iSortNum-1].width=this.spList[c.RunData.LotteryConfig.lsData[e].iSortNum-1].texture.width,this.spList[c.RunData.LotteryConfig.lsData[e].iSortNum-1].height=this.spList[c.RunData.LotteryConfig.lsData[e].iSortNum-1].texture.height;else{var t=c.GameTool.formatMoneyString(c.RunData.LotteryConfig.lsData[e].iAmount);0==Number(t)?this.labList[c.RunData.LotteryConfig.lsData[e].iSortNum-1].text="":this.labList[c.RunData.LotteryConfig.lsData[e].iSortNum-1].text="X "+t,this.spList[c.RunData.LotteryConfig.lsData[e].iSortNum-1].texture=this.getAwardRes(c.RunData.LotteryConfig.lsData[e].iAmount),this.spList[c.RunData.LotteryConfig.lsData[e].iSortNum-1].width=this.spList[c.RunData.LotteryConfig.lsData[e].iSortNum-1].texture.width,this.spList[c.RunData.LotteryConfig.lsData[e].iSortNum-1].height=this.spList[c.RunData.LotteryConfig.lsData[e].iSortNum-1].texture.height}},t.prototype.onSpin=function(){u.default.getZhuanpanResult()},t.prototype.onSpinResult=function(e,t){if(h.LogBase.log("onGetZhuanpanResult",t),null==this.timeLine&&(this.timeLine=new d.Laya.TimeLine),0!=e.uHandleCode)return this.close(),void l.HallEvent.dispatcher.event(l.HallEvent.SHOW_NET_MESSAGE,[e.uMainID+"_"+e.uAssistantID,e.uHandleCode]);if(0!=t.iWinningPrizeID){this.iWinningPrizeID=t.iWinningPrizeID;for(var o=0;o<c.RunData.LotteryConfig.lsData.length;o++)if(this.iWinningPrizeID==c.RunData.LotteryConfig.lsData[o].iID){n.sIndex=o;break}var i=c.RunData.LotteryConfig.lsData[n.sIndex].iSortNum-1,a=this.spZhuanpan.rotation-this.spZhuanpan.rotation%360+1800-360*i/8+10*Math.random();h.LogBase.log("this.spZhuanpan.rotation1",this.spZhuanpan.rotation,a,i),d.Laya.Tween.to(this.spZhuanpan,{rotation:a},7e3,d.Laya.Ease.quartInOut,d.Laya.Handler.create(this,this.onComplete))}else this.close()},t.prototype.onComplete=function(){if(h.LogBase.log("this.spZhuanpan.rotation2",this.spZhuanpan.rotation),c.RunData.LotteryConfig.lsData[n.sIndex].iAmount>0){var e=c.GameTool.formatMoneyString(c.RunData.LotteryConfig.lsData[n.sIndex].iAmount);l.HallEvent.event(l.HallEvent.SHOW_REWARD,e)}this.close()},t.prototype.getAwardRes=function(e){return e<1?d.Laya.Loader.getRes(p.ConfigMng.hallconfigJson.zhuanpan.award0):e<p.ConfigMng.hallconfigJson.zhuanpan.awardrang[0]?d.Laya.Loader.getRes(p.ConfigMng.hallconfigJson.zhuanpan.award1):e<p.ConfigMng.hallconfigJson.zhuanpan.awardrang[1]?d.Laya.Loader.getRes(p.ConfigMng.hallconfigJson.zhuanpan.award2):e<p.ConfigMng.hallconfigJson.zhuanpan.awardrang[2]?d.Laya.Loader.getRes(p.ConfigMng.hallconfigJson.zhuanpan.award3):d.Laya.Loader.getRes(p.ConfigMng.hallconfigJson.zhuanpan.award4)},t.prototype.onTest=function(){var e=this.spZhuanpan.rotation-this.spZhuanpan.rotation%360+1800-315+10*Math.random();h.LogBase.log("this.spZhuanpan.rotation1",this.spZhuanpan.rotation,e,7),d.Laya.Tween.to(this.spZhuanpan,{rotation:e},7e3,d.Laya.Ease.quartInOut,null)},t.sIndex=0,t.s_scene=null,n=a([f()],t)}(s.Zhuanpan2Base7));n.Zhuanpan27=g,cc._RF.pop()},{"../halllib/common/ConfigMng":"ConfigMng","../halllib/common/LogBase":"LogBase","../halllib/core/RunData":"RunData","../halllib/laya/Laya":"Laya","../halllib/net/HallMsgProxy":"HallMsgProxy","../halllib/net/InnerEvent":"InnerEvent","./Zhuanpan27.generated":"Zhuanpan27.generated"}],autoOpenEvent:[function(e,t,n){"use strict";cc._RF.push(t,"bc170UQ7thOLpEq2jHbzSLK","autoOpenEvent"),Object.defineProperty(n,"__esModule",{value:!0}),n.AutoOpenLocalStorage=n.AutoOpenUIEvent=void 0,(n.AutoOpenUIEvent||(n.AutoOpenUIEvent={})).onLobbyAutoClosePanel="AutoOpenUIEvent.onLobbyAutoClosePanel",function(e){e.firstRecharge="AutoOpenLocalStorage.firstRecharge",e.dailyCheckIn="AutoOpenLocalStorage.dailyCheckIn",e.newPlayerSignIn="AutoOpenLocalStorage.newPlayerSignIn",e.vipRecharge="AutoOpenLocalStorage.vipRecharge",e.vipExpired="AutoOpenLocalStorage.vipExpired",e.transferDoublePrize="AutoOpenLocalStorage.transferDoublePrize"}(n.AutoOpenLocalStorage||(n.AutoOpenLocalStorage={})),cc._RF.pop()},{}],autoOpenSystem:[function(e,t,n){"use strict";cc._RF.push(t,"dfe6bXkazJBaYul0o8huIxX","autoOpenSystem");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.autoOpenSystem=void 0;var a=e("../../../../main/scripts/configs/CommonPanelConfig"),r=e("../../../../main/scripts/framework/gg"),s=e("../../../../main/scripts/systems/api/gameapi/GameApi"),l=e("../../../../main/scripts/systems/autoOpen/autoOpenEvent"),c=e("../../../../main/scripts/systems/firstRecharge/FirstRechargeModel"),u=e("../../../../main/scripts/systems/firstRecharge/FirstRechargeSystem"),p=e("../../../../main/scripts/systems/user/UserSystem"),h=e("./LobbyHintSystem"),d=e("../../../../main/scripts/systems/api/gameapi/GameApiModels"),f=e("../../../../main/scripts/systems/login/LoginProto"),g=e("../../../../main/scripts/systems/user/VipSystem"),m=e("../../../../main/scripts/systems/chipActivity/ChipActivitySystem"),y=e("../vipRecharge/VipRechargeSystem"),_=e("../transferDouble/TransferDoubleSystem"),v=function(){function e(){}return e.prototype.enable=function(){this.autoOpen()},e.prototype.autoOpen=function(){var e;return o(this,void 0,void 0,function(){var t,o;return i(this,function(i){switch(i.label){case 0:return t=r.gg.localStorage.getItem(p.userSystem.userModel.uid+"_first_aoto"),r.gg.localStorage.setItem(p.userSystem.userModel.uid+"_first_aoto","true"),r.gg.logger.log("first_login_auto--------\x3e",t,p.userSystem.userModel.isFirstLogin),"true"!=t&&p.userSystem.userModel.isFirstLogin?[2]:"LobbyScene"!=cc.director.getScene().name?(r.gg.logger.log("\u8bf7\u6c42\u5f39\u51fa\u81ea\u52a8\u5f39\u7a97-----\u4e0d\u5728\u5927\u5385----------"),[2]):-1!=h.lobbyHintSystem.activityStatusData.findIndex(function(e){return e==d.ActivityType.boxChip})&&m.chipActivitySystem.getChipIsOpen()?[4,s.gameApi.getChipInfo().catch(function(){return null})]:[3,2];case 1:if(1===(null==(o=i.sent())?void 0:o.status)&&o.data)return r.gg.panelRouter.show({panel:a.CommonPanelConfig.ChipActivityPanel,data:o.data}),[2];i.label=2;case 2:return-1!=h.lobbyHintSystem.activityStatusData.findIndex(function(e){return e==d.ActivityType.newPlayerSignIn})&&n.autoOpenSystem.getLastOpenPanelDate(l.AutoOpenLocalStorage.newPlayerSignIn)&&h.lobbyHintSystem.hintStatusData.new_player_reddot?(r.gg.panelRouter.show({panel:a.CommonPanelConfig.noviceSevenDaysPanel,onShowed:function(){n.autoOpenSystem.setLastOpenPanelDate(l.AutoOpenLocalStorage.newPlayerSignIn)}}),[2]):n.autoOpenSystem.getLastOpenPanelDate(l.AutoOpenLocalStorage.dailyCheckIn)&&h.lobbyHintSystem.hintStatusData.sign_in_reddot?(r.gg.panelRouter.show({panel:a.CommonPanelConfig.dailyCheckInPanel,onShowed:function(){n.autoOpenSystem.setLastOpenPanelDate(l.AutoOpenLocalStorage.dailyCheckIn)}}),[2]):-1!=h.lobbyHintSystem.activityStatusData.findIndex(function(e){return e==d.ActivityType.transferDoublePrize})&&n.autoOpenSystem.getLastOpenPanelDate(l.AutoOpenLocalStorage.transferDoublePrize)?[4,_.transferDoubleSystem.getActivityInfo().catch(function(e){return r.gg.logger.error("\u8f6c\u8d26\u53cc\u500d\u6d3b\u52a8\u62a5\u9519",e),null})]:[3,4];case 3:if(o=i.sent())return r.gg.panelRouter.show({panel:a.CommonPanelConfig.transferDoublePanel,onShowed:function(){n.autoOpenSystem.setLastOpenPanelDate(l.AutoOpenLocalStorage.transferDoublePrize)}}),[2];i.label=4;case 4:return-1!=h.lobbyHintSystem.activityStatusData.findIndex(function(e){return e==d.ActivityType.vipRecharge})&&n.autoOpenSystem.getLastOpenPanelDate(l.AutoOpenLocalStorage.vipRecharge)&&h.lobbyHintSystem.hintStatusData.vip_recharge_reddot?[4,y.vipRechargeSystem._getVipRechargeInfo().catch(function(e){r.gg.logger.error("\u83b7\u53d6vip\u5145\u7ea7\u6d3b\u52a8\u62a5\u9519",e)})]:[3,6];case 5:if(o=i.sent())return r.gg.panelRouter.show({panel:a.CommonPanelConfig.vipRechargePanel,onShowed:function(){n.autoOpenSystem.setLastOpenPanelDate(l.AutoOpenLocalStorage.vipRecharge)}}),[2];i.label=6;case 6:return p.userSystem.userModel.isfirstrecharge&&n.autoOpenSystem.getLastOpenPanelDate(l.AutoOpenLocalStorage.firstRecharge)?[4,u.firstRechargeSystem.loadFirstRechargeGoods().catch(function(){return!1})]:[3,8];case 7:if(o=i.sent())return r.gg.panelRouter.show({panel:a.CommonPanelConfig.firstRechargePanel,data:{openModel:c.FirstRechargeOpenModel.FromLobbyScene},onShowed:function(){n.autoOpenSystem.setLastOpenPanelDate(l.AutoOpenLocalStorage.firstRecharge)}}),[2];i.label=8;case 8:return n.autoOpenSystem.getLastOpenPanelDate(l.AutoOpenLocalStorage.vipExpired)&&(null===(e=p.userSystem.userModel.vipInfo)||void 0===e?void 0:e.vip_level)>0&&p.userSystem.userModel.vipInfo.vip_status==f.VipStatusType.Inactivated&&0!=p.userSystem.userModel.vipInfo.expire_time?(g.vipSystem.showVipExpiredUI(),n.autoOpenSystem.setLastOpenPanelDate(l.AutoOpenLocalStorage.vipExpired),[2]):[2]}})})},e.prototype.getLastOpenPanelDate=function(e){var t=r.gg.localStorage.getItem(p.userSystem.userModel.uid+"_"+e);if(""===t)return!0;var n=parseInt(t);return Math.floor(n/864e5)!==Math.floor(Date.now()/864e5)},e.prototype.setLastOpenPanelDate=function(e){r.gg.localStorage.setItem(p.userSystem.userModel.uid+"_"+e,Date.now().toString())},e}();n.autoOpenSystem=new v,cc._RF.pop()},{"../../../../main/scripts/configs/CommonPanelConfig":"CommonPanelConfig","../../../../main/scripts/framework/gg":"gg","../../../../main/scripts/systems/api/gameapi/GameApi":"GameApi","../../../../main/scripts/systems/api/gameapi/GameApiModels":"GameApiModels","../../../../main/scripts/systems/autoOpen/autoOpenEvent":"autoOpenEvent","../../../../main/scripts/systems/chipActivity/ChipActivitySystem":"ChipActivitySystem","../../../../main/scripts/systems/firstRecharge/FirstRechargeModel":"FirstRechargeModel","../../../../main/scripts/systems/firstRecharge/FirstRechargeSystem":"FirstRechargeSystem","../../../../main/scripts/systems/login/LoginProto":"LoginProto","../../../../main/scripts/systems/user/UserSystem":"UserSystem","../../../../main/scripts/systems/user/VipSystem":"VipSystem","../transferDouble/TransferDoubleSystem":"TransferDoubleSystem","../vipRecharge/VipRechargeSystem":"VipRechargeSystem","./LobbyHintSystem":"LobbyHintSystem"}],gg:[function(e,t,n){"use strict";cc._RF.push(t,"e5250WMxhlHMagVRoAbcBjc","gg"),Object.defineProperty(n,"__esModule",{value:!0}),n.gg=void 0;var o=e("./eventmanager/EventManager"),i=e("./logger/DefaultLogger"),a=e("./storage/EncryptLocalStorage"),r=e("./audio/AudioManager"),s=e("./panelrouter/PanelRouterV2");n.gg={logger:new i.DefaultLogger,eventManager:new o.EventManager,localStorage:new a.EncryptLocalStorage,panelRouter:new s.PanelRouterV2,audio:new r.AudioManager},cc._RF.pop()},{"./audio/AudioManager":"AudioManager","./eventmanager/EventManager":"EventManager","./logger/DefaultLogger":"DefaultLogger","./panelrouter/PanelRouterV2":"PanelRouterV2","./storage/EncryptLocalStorage":"EncryptLocalStorage"}],jsapi:[function(e,t,n){"use strict";cc._RF.push(t,"10f4114UVtGC6XcR/Q0nal9","jsapi");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var i=o(e("crypto-js")),a=e("../framework/eventmanager/EventManager"),r=e("../framework/gg");window.jsapi={callBackEvent:function(e){for(var t,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];n&&n[0]&&(t=JSON.parse(i.default.enc.Base64.parse(n[0]).toString(i.default.enc.Utf8))),r.gg.logger.debug("Native\u56de\u8c03JS",e,t),a.eventManager.emit(e,t)}},cc._RF.pop()},{"../framework/eventmanager/EventManager":"EventManager","../framework/gg":"gg","crypto-js":15}]},{},["TTY","Main.generated","Main","IResConfig","ButtonPlay10100","GameAudioContro10100","GameBasePanel10100","GameCardMg10100","GameCardRes10100","GameData10100","GameHandCard10100","GameHandCardOrther10100","GameHelp10100","GameMain10100.generated","GameMain10100","GameMenu10100","GameMsgProxy10100","GameNetProto10100","GamePanelFight10100","GamePanelRecord10100","GamePanelSettle10100","GamePanelSpinShow10100","GamePlayerCard10100","GamePlayerInfo10100","GamePlayerMg10100","GamePlayerTime10100","GameChairInfo11100","GameChipObj11100","GameChipPool11100","GameConstant11100","GameMain11100.generated","GameMain11100","GameMsg11100","GameMsgHandler11100","GameRecord11100","ButtonPlay30200","GameAnimals30200","GameBasePanel30200","GameBetPanel30200","GameData30200","GameHelpPanel30200","GameHistory30200","GameMain30200.generated","GameMain30200","GameMenuPanel30200","GameMsgProxy30200","GameNetProto30200","GameSettlement30200","GameTowerMg30200","GameTurnPos30200","GameTurnTable30200","SoundManager30200","ButtonPlay30300","GameBasePanel30300","GameBetPanel30300","GameData30300","GameHelpPanel30300","GameHistory30300","GameLoading30300.generated","GameLoading30300","GameMain30300.generated","GameMain30300","GameMenuPanel30300","GameMsgProxy30300","GameNetProto30300","GameRunPanel30300","GameSettlement30300","SoundManager30300","ButtonPlay30700","GameBasePanel30700","GameBetPanel30700","GameChipManage30700","GameData30700","GameHelpPanel30700","GameHistory30700","GameLoading30700.generated","GameLoading30700","GameMain30700.generated","GameMain30700","GameMenuPanel30700","GameMsgProxy30700","GameNetProto30700","GamePanelStartBet30700","GamePanelStopBet30700","GameRunPanel30700","GameSettlement30700","SoundManager30700","SpriteChouMa30700","BasePanel31800","ButtonPlay31800","GameBonusPanel31800","GameData31800","GameFreePanel31800","GameIconObj31800","GameLoading31800.generated","GameLoading31800","GameMain31800.generated","GameMain31800","GameNetProto31800","GameNetProxy31800","HelpPanel31800","MenuPanel31800","ScrollViewContro31800","ScrollViewObj31800","SoundManager31800","GameData34200","GameLoading34200.generated","GameLoading34200","GameMain34200.generated","GameMain34200","GameMsg34200","GameRoad34200","SpriteChouMa34200","WinMoneyAni34200","GameBankerList34400","GameBetAreaInfo34400","GameChipObj34400","GameChipPool34400","GameConstant34400","GameMain34400.generated","GameMain34400","GameMsg34400","GameMsgHandler34400","GameSettlement34400","GameConstant34500","GameMain34500.generated","GameMain34500","GameMsg34500","GameMsgHandler34500","GameConstant34600","GameLineRander34600","GameMain34600.generated","GameMain34600","GameMsg34600","GameMsgHandler34600","GameRank34600","GameRoad34600","GameRockFly34600","GameStateTimer34600","CMObj34700","ColorBox34700","GameData34700","GameLoading34700.generated","GameLoading34700","GameMain34700.generated","GameMain34700","GameNetProto34700","GameNetProxy34700","ScrollLabelComonent34700","ButtonPlay34800","GameBasePanel34800","GameBetPanel34800","GameCardMg34800","GameData34800","GameHelpPanel34800","GameLoading34800.generated","GameLoading34800","GameMain34800.generated","GameMain34800","GameMsgProxy34800","GameNetProto34800","GamePanelRoad34800","GamePanelSpinShow34800","GamePlayerMg34800","GameSetPanel34800","SoundManager34800","SpriteChouMa34800","GameChairInfo34900","GameChipObj34900","GameChipPool34900","GameConstant34900","GameMain34900.generated","GameMain34900","GameMsg34900","GameMsgHandler34900","GamePopup34900","GameRoad34900","GameUtils","AniMng","BaseDesk","BaseRoom","DialogMng","GameItem","GameList","ItemData","LoadH5Game","LoginLogic","RoomMng","SpineEx","Tips","ConfigMng","Define","Dictionary","LoadMng","LogBase","Tools","Types","HallData","RunData","Laya","Event","EventDispatcher","Bezier","Color","GrahamScan","MathUtil","MathUtils3D","Matrix","Matrix3x3","Matrix4x4","Point","Quaternion","Rectangle","Vector2","Vector3","Vector4","AtlasInfoManager","BatchProgress","Downloader","HttpRequest","Loader","LocalStorage","Socket","URL","WorkerLoader","BinHashUtils","JsonBinRead","JsonBinWrite","Base64Tool","Browser","BufferSliceUtils","Byte","CacheManger","CallLater","ClassUtils","ColorUtils","Delegate","Dragging","Ease","FontInfo","HalfFloatUtils","Handler","HitArea","IClone","IHitArea","IStatUI","ImgUtils","Log","Mouse","ParseJSON","PerfData","PerfHUD","Pool","PoolCache","RunDriver","SingletonList","SpriteUtils","Stat","StringKey","TimeLine","Timer","Tween","Utils","VectorGraphManager","WeakObject","WordText","BaseMessage","Client","GameHallMessage","HallMsgProxy","HttpClient","ICom","IComparable","InnerEvent","MyHttpRequest","PlatformConfig","PlatformService","RoomMessage","RoomMsgProxy","WsClient","Loadingph6.generated","Loadingph6","PreComboBox6.generated","PreComboBox6","PreRechargeTab6.generated","PreRechargeTab6","PrefabRechargeList6.generated","PrefabRechargeList6","PrefabTab6.generated","PrefabTab6","Rechargeitem","SceneActivity6.generated","SceneActivity6","SceneAgent6.generated","SceneAgent6","SceneBindPhone6.generated","SceneBindPhone6","SceneBindWallet6.generated","SceneBindWallet6","SceneLogin6.generated","SceneLogin6","SceneLuckyRoulette6.generated","SceneLuckyRoulette6","SceneMainHall6.generated","SceneMainHall6","SceneModifyRegisterPhone6.generated","SceneModifyRegisterPhone6","SceneMonthRank6.generated","SceneMonthRank6","SceneNotice6.generated","SceneNotice6","SceneRank6.generated","SceneRank6","SceneRebate6.generated","SceneRebate6","SceneSelectGame6.generated","SceneSelectGame6","SceneSellectRoom6.generated","SceneSellectRoom6","SceneService6.generated","SceneService6","SceneSetting6.generated","SceneSetting6","SceneWealthClub6.generated","SceneWealthClub6","SceneWithdraw6.generated","SceneWithdraw6","ScriptAchievement6","TabFrameItem","Wallet6.generated","Wallet6","Zhuanpan26.generated","Zhuanpan26","Loading7.generated","LoadingView7.generated","LoadingView7","Loadingph7.generated","Loadingph7","PrefabReChargeItem7.generated","PrefabRecharge7.generated","PrefabRecharge7","PrefabRechargeItem7","PrefabRechargeList7.generated","PrefabRechargeList7","PrefabRecord7.generated","PrefabRecord7","PrefabRecordItem7.generated","PrefabRecordItem7","SceneAchieveRule7.generated","SceneAchieveRule7","SceneActivity7.generated","SceneActivity7","SceneAddHomeScreen7.generated","SceneAddHomeScreen7","SceneAgent7.generated","SceneAgent7","SceneBindPhone7.generated","SceneBindPhone7","SceneBindWallet7.generated","SceneBindWallet7","SceneDoc7.generated","SceneDoc7","SceneFace7.generated","SceneFace7","SceneFirstRecharge7.generated","SceneFirstRecharge7","SceneGameLoad7.generated","SceneGameLoad7","SceneLogin7.generated","SceneLogin7","SceneLoginAccount7.generated","SceneLoginAccount7","SceneLuckyCoinAnim7.generated","SceneLuckyCoinAnim7","SceneMailDetail7.generated","SceneMailDetail7","SceneMainHall7.generated","SceneMainHall7","SceneMonthRank7.generated","SceneMonthRank7","SceneNotice7.generated","SceneNotice7","ScenePassword7.generated","ScenePassword7","ScenePrompt7.generated","ScenePrompt7","SceneRank7.generated","SceneRank7","SceneRebate7.generated","SceneRebate7","SceneRechargeTip7.generated","SceneRechargeTip7","SceneRegist7.generated","SceneRegist7","SceneReward7.generated","SceneReward7","SceneRule7.generated","SceneRule7","SceneSellectRoom7.generated","SceneSellectRoom7","SceneService7.generated","SceneService7","SceneSetting7.generated","SceneSetting7","SceneSysTips7.generated","SceneSysTips7","SceneUINetTips7.generated","SceneUINetTips7","SceneUIWarnTips7.generated","SceneUIWarnTips7","SceneUserInfo7.generated","SceneUserInfo7","SceneVerification7.generated","SceneVerification7","SceneWealthClub7.generated","SceneWealthClub7","SceneWithdraw7.generated","SceneWithdraw7","ScriptAchievement7","ScriptMail7.generated","ScriptMail7","ScriptNotice7.generated","ScriptNotice7","ScriptRebate7","ScriptZhuanpan7","Wallet7.generated","Wallet7","Zhuanpan27.generated","Zhuanpan27","Boot","CheckBoxComponent","CoinComponent","CommonProperty","DiamondComponent","FinalSettlementWinAnimComponent","GameGiftComponent","GameTiroGiftComponent","GradeStarComponent","HeartComponent","InteractPlayComponent","LevelAwardGameComponents","MicroPhoneComponent","NavBarComponent","NavBarOptionComponent","RadioBoxComponent","RadioBoxOptionComponent","SettlementTiroGiftComponent","SwitchComponent","TabSelectorComponent","TabSelectorOptionComponent","TiroGiftProgressComponent","UserIconStyle1Component","UserIconStyle2Component","UserInfoComponent","ScrollViewPlusComponent","ScrollViewPlusItemComponent","IList","List","ListItem","MultiTypeVerticalVirtualList","MultiTypeVitrualListItemComponent","VerticalVirtualList","VitrualListItemComponent","AppConfig","AppFlavor","BundleConfig","CommonAudioConfig","CommonPanelConfig","GameConfig","GameGiftAudioConfig","GameSkinEnum","HotUpdateConfig","I18nConfig","PanelLayerEnum","SceneConfig","FFAdjustWrapper","AgoraWrapper","PermissionEvent","PermissionModel","PermissionWrapper","AppleInAppPurchaseEvent","AppleInAppPurchaseModel","AppleInAppPurchaseWrapper","AppleSignInEvent","AppleSignInModel","AppleSignInWrapper","AppsFlyerWrapper","AvatorWrapper","FFAttributionPlatform","FFEvent","FFModels","LLActivationWrapper","LLAnalysisWrapper","LLDeviceInfoWrapper","LLPackageWrapper","LLWrapper","FFApi","FFApiModels","FFCacheConst","FFCryptoV1","FFCryptoV2","FFCryptoV3","FFHttpRequestV1","FFHttpRequestV2","ActivationWrapper","DeviceInfoWrapper","PackageWrapper","NativeCacheConst","FacebookAnalysisWrapper","FacebookLoginEvent","FacebookLoginModel","FacebookLoginWrapper","FacebookShareLinkWrapper","GoogleBillingEvent","GoogleBillingModel","GoogleBillingWrapper","GoogleFirebaseCloudMessagingWrapper","GoogleLoginEvent","GoogleLoginModel","GoogleLoginWrapper","jsapi","RongyunImCore","RongyunImEvent","RongyunImWrapper","WebViewEvent","WebViewModel","WebViewWrapper","AssetLoader","AudioConfig","AudioManager","SafeAreaAdapterComponent","SafeAreaWidgetAdapterComponent","ScreenAdapter","ScreenAreaAdapterComponent","SpriteScaleAdapterComponent","MoveStyleDialogPanelV1","MoveStyleDialogPanelV2","ScaleStyleDialogPanelV1","ScaleStyleDialogPanelV2","ScaleStyleDialogPanelV3","NumberBitLabel","NumberLabel","ECSSystem","EventManager","EventManagerInterface","gg","HotUpdateInterfaces","HotUpdateManager","HttpInterface","XMLHttpRequestWrapper","I18n","I18nEvent","I18nLabel","I18nRichText","I18nSprite","DefaultLogger","LoggerInterface","Queue","QueueTask","Stack","PanelComponent","PanelInterfaces","PanelRouter","PanelRouterV2","RoundLayout","SceneRouter","SpineUtil","DefaultLocalStorage","EncryptLocalStorage","LocalStorageInterface","ArrayUtils","ColorUtilsExt","CompareUtil","CryptoWrapper","JsonUtils","MathUtils","PromiseWrapper","StringUtils","TimeUtils","TypeConversionUtil","UUID","CCMCapture","InterfaceExtend","AccountFreezePanel","AlertPanel","AlertPanel2","BigGiftEffectPanel","GameBigGiftEffect","ChipActivityPanel","DailyCheckInItem","DailyCheckInPanel","FeedBackPanel","FeedbackItem","FeedbackList","FirstRechargePanel","FriendApplicationFloatingItem","FriendApplicationFloatingPanel","FriendApplicationListCtrl","FriendApplicationListItem","FriendCountCtrl","FriendListCtrl","FriendListItem","FriendListItemOptionCtrl","FriendSearchCtrl","FriendSearchResultItem","FriendSystemPanel","FriendSystemSettingPanel","FriendTransferDoubleGuideCom","FriendInvitePanel","GameInvitePanel","FriendInviteFloatingItem","FriendInviteFloatingPanel","QualifyingFriendInviteFloatingItem","QualifyingFriendInviteFloatingPanel","FriendInviteItem","FriendInviteList","FriendRecommendContent","FriendRecommendItem","GameFastInteractPanel","InteractEmojiItem","InteractEmojiList","InteractMsgItem","InteractMsgList","GameGiftBonus","GameGiftEffectShowPanel","GameGiftItem","GameGiftList","GameGiftPanel","GameGiftSpecialEffect","GameKickPeopleConfirmPanel","GameSideBarPanel","GameTableMicroPhoneCtrl","GameTablePasswordInputPanel","IMPanel","IMPanelConversationMsgListCtrl","IMPanelGameList","IMPanelNavListCtrl","IMPanelPrivateConversationInfoCtrl","GameInviteBalootCardStyle","GameInviteLudoChessStyle","IMPanelEmojiInputCtrl","IMPanelEmojiListCtrl","IMPanelEmojiListItem","IMPanelInputMaskVisablityCtrl","IMPanelTextInputCtrl","IMPanelBigGiftWordMessageItem","IMPanelBigGifteMessageItem","IMPanelEmojiMessageItem","IMPanelForbiddenMessageItem","IMPanelGameInviteMessageItem","IMPanelNoticeMessageItem","IMPanelQualifyingInviteMessageItem","IMPanelSystemMessageItem","IMPanelTextMessageItem","IMPanelTextMessageRenderer","IMPanelTimeMessageItem","IMPanelNavListChatGameItem","IMPanelNavListChatRoomItem","IMPanelNavListIPrivateItem","LevelAwardItem","LevelAwardPanel","LoadingPanel","MailAppendixItem","MailDetailsPanel","MailItem","MailList","MailPanel","MarqueeItem","MarqueePanel","MoreGamePanel","NewVersionAndRankRewardPanel","ItemDetailsComponent","PackageExhibitComponent","PackageItem","PackageList","PackagePanel","PackageSideBarComponent","PackageSideBarItemPrefab","PackageDesignTabComponent","PackageDesignTabItemPrefab","PackageUIEvent","RankOnlinePanel","RankingFristExhibitPanel","RankingPanel","RankingStorageConfig","MyRankComponent","RankingQualifyingTopThreeLayComponent","RankingSidebarItemComponent","RankingTabSelectorComponent","RankingTabSelectorOptionComponent","RankingTopThreeLayComponent","CharmRankingComponent","CharmRankingItemComponent","CoinRankingComponent","CoinRankingItemComponent","DiamondRankingComponent","DiamondRankingItemComponent","FashionRankingComponent","FashionRankingItemComponent","LevelRankingComponent","LevelRankingItemComponent","QualifyingRankingComponent","QualifyingRankingItemComponent","RankAwardItem","RankingHelpItem","RankingHelpPanel","ReceiveFeaturesPanel","ReceiveGiftItem","ReceiveFeaturesUIEvent","RewardGalleryPanel","SettingPanel","StopServiceAwardItem","StopServicePanel","StoreItem","StoreItemDesignSideBarComponent","StoreItemDesignSideBarPrefab","StoreItemLayComponent","StoreItemList","BuyItem","BuyItemChoosePanel","StoreItemUIEvent","StoreVIP","StoreVIPDiscount","IVIPType","VIPBaseType","VIPDetailType","VIPDiscountType","VIPTimeType","StorePanel","StorePanelGoodsItem","StorePanelSideBarItemCtrl","StorePanelTopAnimCtrl","StoreUIEvent","TaskItem","TaskList","TaskPanel","TaskUIEvent","TaskSideBarComponent","TaskSideBarPrefab","NewbieSignInComponent","NewbieSignInItem","NoviceSevenDaysPanel","NoviceSevenDaysUIEvent","NoviceTaskComponent","TaskTabComponent","TaskTabItem","ToastItem","ToastPanel","TransferDoublePanel","ConfirmtransferPanel","TransferPanel","TransferRecordItem","TransferRecordPanel","TransferUIEvent","UserInfoPanel","BigGiftComponent","BigGiftPrefab","CoinDetailsComponent","DressUpComponent","InformationComponent","RecordComponent","RecordItemBaloot","RecordItemLudo","RecordList","RecordWinRateComponent","UserDesignPrefab","UserInfoLevelComponent","UserInfoUIEvent","ReviseUserHeadCompontent","UserInfoRevisePanel","VIPDetailLevelDetailPanel","VIPDetailLevelHonorPanel","VIPDetailLevelPanel","VIPDetailModel","VIPDetailPanel","LevelUpBonusAwardItem","LevelUpBonusComponent","LevelUpBonusItem","SurprisePackageComponent","VipRechargePanel","VipRechargeRulePanel","VipRechargeUIEvent","VIPStatusChangeModel","VIPStatusChangePanel","WebViewPanel","GameVersionLabelComponent","BootSceneBootProgressCtrl","BootSceneBootTipsCtrl","BootSceneCtrl","BootSceneEvent","BootSceneHotUpdateComponent","LobbyActivityGuideCtrl","LobbySceneActivityCtrl","LobbySceneBgmCtrl","LobbySceneCtrl","LobbySceneEntranceVisabilityCtrl","LobbySceneGameGuideCtrl","LobbySceneHintCtrl","LobbySceneIMWorldChatRoomMessageCtrl","LobbySceneIMWorldChatRoomVisibilityCtrl","LobbyScenePanelCtrl","LobbySceneRanking","LobbySceneBottomAnimCtrl","LobbySceneGameAnimCtrl","LobbySceneTopAnimCtrl","LobbyRankingItem","LoginSceneAnimCtrl","LoginSceneBgmCtrl","LoginSceneCtrl","LoginSceneEntranceCtrl","SpineGroup","TiroGiftSystem","TiroGiftUIEvent","AnalysisEvent","AnalysisWrapper","CryptoInterface","GameCenterCommonParams","GameCenterCryptoV1","GameCenterCryptoV2","GameCenterHttpRequestV3","GameApi","GameApiModels","PayApiModels","GameCenterApi","GameCenterApiModels","autoOpenEvent","BigGiftProto","BigGiftSystem","ChipActivitySystem","CloudMessagingSystem","DailyCheckInUIEvent","FeedbackSystem","FirstRechargeModel","FirstRechargeSystem","FirstRechargeUIEvent","FriendFloatingUISystem","FriendProto","FriendSystem","FriendSystemEvent","FriendInviteFloatingUISystem","GamaInviteProto","GamaInviteSystem","GamaInviteSystemEvent","GamaInviteUIEvent","QualifyingInviteProto","QualifyingInviteSystem","GameGiftSystem","GameGiftUIEvent","GiftProto","GameEvent","GameQuickMatchSystem","GameSystem","GameUISystem","GameSettingConst","GameSettingEvent","GameSettingModels","GameSettingSystem","BaseProto","GameSocketHttpRequestV2","GameSocketInterface","GameSocketSystem","WebSocketInterfaceV1","WebSocketResponseCode","WebSocketV1","CommonGiftConfig","GiftSystem","IMProto","IMSystem","IMSystemEvent","IMSystemModel","IMUISystem","IMUnReadMessageHintComponent","IMWordVerifyProto","IMWordVerifySystem","InteracSystemEvent","InteractProto","InteractSystem","CommonItemConfig","ItemSystem","LevelAwardSystem","LevelAwardUIEvent","LobbyHintSystem","LobbyProto","autoOpenSystem","LLLoginModel","LLLoginWrapper","LoginConst","LoginEvent","LoginModels","LoginProto","LoginSystem","NoticeProto","NoticeSystem","PlatformAdapter","AndroidPlatformAdapter","PurchaseOrderCache","PurchaseOrderCacheSystem","PurchaseSystem","PurchaseSystemInterface","ApplePurchaseSystemAdapter","DebugPurchaseSystemAdapter","GooglePurchaseSystemAdapter","MainQualifyingProto","MainQualifyingSystem","RankOnlineProto","RankOnlineSystem","RankingUIEvent","RemoteConfigModel","RemoteConfigSystem","RoomModels","RoomProto","RoomSystem","TaskEvent","TaskSystem","TransferDoubleSystem","TransferProto","TransferSystem","GlobalClickEffectSystem","LobbyUIEvent","MarqueeCacheModel","MarqueeProto","MarqueeSystem","UserEvent","UserModel","UserProto","UserSystem","UserUISystem","UserWalletEvent","UserWalletModel","UserWalletSystem","VipSystem","VipRechargeEvent","VipRechargeSystem","VoiceChatEvent","VoiceChatSystem","GameAnimSystem","GamePanelSystem","CurrencyUtil","GenericsTools","PokerCardUtil"]);